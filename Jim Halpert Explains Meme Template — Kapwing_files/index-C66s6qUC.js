const __vite__fileDeps=["assets/vendor-tYOXRCg-.js","assets/vendor-D1nOKDc2.css","assets/PRELOADED_ASSETS-SXnE3jcV.js","assets/Confetti-D59c2c92.js","assets/StudioEditor-BKwjhAF1.js","assets/vendor-radix-lZ37dhQe.js","assets/helpers-DTDHGhM8.js","assets/helpers-DCj0MoJ8.css","assets/StudioEditor-BscxH8Kp.css","assets/AdminContainer-CzRY6ROE.js","assets/CollapsibleElement-D_YHsUp-.js","assets/CollapsibleElement-BShAGppv.css","assets/AdminContainer-DGrFYyI3.css","assets/AdminLongTailAnalytics-D335vDTs.js","assets/AdminLongTailAnalytics-Br1mWzl3.css","assets/DebugContainer-BViDjBGI.js","assets/DebugContainer-CKDgD5jS.css","assets/HappyBirthday-DVpSz8ul.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
var e,t=Object.defineProperty,a=(e,a,n)=>(((e,a,n)=>{a in e?t(e,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[a]=n})(e,"symbol"!=typeof a?a+"":a,n),n);try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="66e2c6e1-d85c-400e-b3cb-16302739fbc3",e._sentryDebugIdIdentifier="sentry-dbid-66e2c6e1-d85c-400e-b3cb-16302739fbc3")}catch(b9e){}{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{};e._sentryModuleMetadata=e._sentryModuleMetadata||{},e._sentryModuleMetadata[(new e.Error).stack]=Object.assign({},e._sentryModuleMetadata[(new e.Error).stack],{"_sentryBundlerPluginAppKey:kapwing-app-key":!0})}import{p as n,q as s,t as o,r as i,v as r,w as l,x as d,y as c,A as u,C as p,E as m,F as g,G as h,H as v,j as f,b,M as y,I as w,J as _,K as C,L as S,N as x,Q as I,S as A,T as k,U as T,V as E,W as L,X as j,Y as R,f as N,Z as M,$ as P,a0 as F,a1 as D,a2 as O,a3 as U,a4 as B,a5 as W,a6 as V,a7 as H,a8 as z,a9 as G,aa as Y,ab as K,ac as X,ad as Z,ae as q,af as J,ag as $,ah as Q,ai as ee,aj as te,ak as ae,al as ne,am as se,an as oe,ao as ie,ap as re,aq as le,ar as de,as as ce,at as ue,au as pe,av as me,aw as ge,ax as he,ay as ve,az as fe,aA as be,aB as ye,aC as we,aD as _e,aE as Ce,aF as Se,aG as xe,aH as Ie,aI as Ae,aJ as ke,aK as Te,aL as Ee,aM as Le,aN as je,aO as Re,aP as Ne,aQ as Me,aR as Pe,aS as Fe,aT as De,aU as Oe,aV as Ue,aW as Be,aX as We,aY as Ve,aZ as He,a_ as ze,a$ as Ge,b0 as Ye,b1 as Ke,b2 as Xe,b3 as Ze,b4 as qe,b5 as Je,b6 as $e,b7 as Qe,b8 as et,b9 as tt,ba as at,bb as nt,bc as st,bd as ot,be as it,bf as rt,bg as lt,bh as dt,bi as ct,bj as ut,bk as pt,bl as mt,bm as gt,bn as ht,bo as vt,bp as ft,bq as bt,br as yt,bs as wt,bt as _t,bu as Ct,bv as St,bw as xt,bx as It,by as At,bz as kt,bA as Tt,bB as Et,bC as Lt,bD as jt,bE as Rt,bF as Nt,bG as Mt,bH as Pt,bI as Ft,bJ as Dt,bK as Ot,bL as Ut,bM as Bt,bN as Wt,bO as Vt,bP as Ht,bQ as zt,bR as Gt,bS as Yt,bT as Kt,bU as Xt,bV as Zt,bW as qt,bX as Jt,bY as $t,bZ as Qt,b_ as ea,b$ as ta,c0 as aa,c1 as na,c2 as sa,c3 as oa,c4 as ia,c5 as ra,c6 as la,c7 as da,c8 as ca,c9 as ua,ca as pa,cb as ma,cc as ga,cd as ha,ce as va,cf as fa,cg as ba,ch as ya,ci as wa,cj as _a,ck as Ca,cl as Sa,cm as xa,cn as Ia,co as Aa,cp as ka,cq as Ta,cr as Ea,cs as La,ct as ja,cu as Ra,cv as Na,cw as Ma,cx as Pa,cy as Fa,cz as Da,cA as Oa,cB as Ua,cC as Ba,cD as Wa,cE as Va,cF as Ha,cG as za,cH as Ga,cI as Ya,cJ as Ka,cK as Xa,cL as Za,cM as qa,cN as Ja,cO as $a,cP as Qa,cQ as en,cR as tn,cS as an,cT as nn,cU as sn,a as on,cV as rn,cW as ln,cX as dn,cY as cn,cZ as un,c_ as pn,c$ as mn,d0 as gn,d1 as hn,d2 as vn,d3 as fn,d4 as bn,d5 as yn,d6 as wn,d7 as _n,d8 as Cn,d9 as Sn,da as xn,db as In,dc as An,dd as kn,de as Tn,df as En,dg as Ln,dh as jn,di as Rn,dj as Nn,dk as Mn,dl as Pn,dm as Fn,dn as Dn,dp as On,dq as Un,dr as Bn,ds as Wn,dt as Vn,du as Hn,dv as zn,dw as Gn,dx as Yn,dy as Kn,dz as Xn,dA as Zn,dB as qn,dC as Jn,dD as $n,dE as Qn,dF as es,dG as ts,dH as as,dI as ns,dJ as ss,dK as os,dL as is,dM as rs,dN as ls,dO as ds,dP as cs,dQ as us,dR as ps,dS as ms,dT as gs,dU as hs,dV as vs,dW as fs,dX as bs,dY as ys,dZ as ws,d_ as _s,d$ as Cs,e0 as Ss,e1 as xs,e2 as Is,e3 as As,e4 as ks,e5 as Ts,e6 as Es,e7 as Ls,e8 as js,e9 as Rs,ea as Ns,eb as Ms,ec as Ps,ed as Fs,ee as Ds,ef as Os,eg as Us,eh as Bs,ei as Ws,ej as Vs,ek as Hs,el as zs,em as Gs,en as Ys,eo as Ks,ep as Xs,eq as Zs,er as qs,es as Js,et as $s,eu as Qs,ev as eo,ew as to,ex as ao,ey as no,ez as so,eA as oo,eB as io,eC as ro,eD as lo,eE as co,eF as uo,eG as po,eH as mo,eI as go,eJ as ho,eK as vo,eL as fo,eM as bo,eN as yo,eO as wo,eP as _o,eQ as Co,eR as So,eS as xo,eT as Io,eU as Ao,eV as ko,eW as To,eX as Eo,eY as Lo,eZ as jo,e_ as Ro,e$ as No,f0 as Mo,f1 as Po,f2 as Fo,f3 as Do,f4 as Oo,f5 as Uo,f6 as Bo,f7 as Wo,f8 as Vo,f9 as Ho,fa as zo,fb as Go,fc as Yo,fd as Ko,fe as Xo,ff as Zo,fg as qo,fh as Jo,fi as $o,fj as Qo,fk as ei,fl as ti,fm as ai,fn as ni,fo as si,fp as oi,fq as ii,fr as ri,fs as li,ft as di,fu as ci,fv as ui,fw as pi,fx as mi,fy as gi,fz as hi,fA as vi,fB as fi,fC as bi,fD as yi,fE as wi,fF as _i,fG as Ci,fH as Si,fI as xi,fJ as Ii,fK as Ai,fL as ki,fM as Ti,fN as Ei,fO as Li,fP as ji,fQ as Ri,fR as Ni,fS as Mi,fT as Pi,fU as Fi,fV as Di,fW as Oi,fX as Ui,fY as Bi,fZ as Wi,f_ as Vi,f$ as Hi,g0 as zi}from"./vendor-tYOXRCg-.js";import{R as Gi,a as Yi,T as Ki,P as Xi,C as Zi,A as qi,b as Ji,c as $i,d as Qi,e as er,f as tr,O as ar,g as nr,h as sr,D as or,i as ir,j as rr,k as lr,l as dr,m as cr,n as ur,I as pr,S as mr,o as gr,p as hr,q as vr,r as fr,s as br,t as yr,u as wr,v as _r,w as Cr,x as Sr,y as xr,z as Ir,B as Ar,V as kr,E as Tr,F as Er,G as Lr,H as jr,J as Rr,K as Nr,L as Mr,M as Pr,N as Fr,Q as Dr,U as Or,W as Ur,X as Br,Y as Wr,Z as Vr,_ as Hr,$ as zr,a0 as Gr,a1 as Yr,a2 as Kr,a3 as Xr,a4 as Zr,a5 as qr,a6 as Jr,a7 as $r,a8 as Qr,a9 as el,aa as tl,ab as al,ac as nl,ad as sl,ae as ol,af as il,ag as rl,ah as ll,ai as dl,aj as cl,ak as ul,al as pl,am as ml,an as gl,ao as hl,ap as vl,aq as fl,ar as bl,as as yl,at as wl,au as _l,av as Cl,aw as Sl}from"./vendor-radix-lZ37dhQe.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var xl={COMMIT:"53b21b21",IN_GKE:!0,NODE_ENV:"production",REACT_APP_KAPWING_SERVER:"production",SENTRY_ENV:"production",VERSION:"v2025.04.07.3",REACT_CUSTOM_PROFILER:!1,DEPLOY_TARGET:"",USING_SEEDED_DB:!1};const Il=xl.REACT_APP_KAPWING_SERVER,Al=xl.JEST_WORKER_ID,kl=!!Al,Tl=xl.COMMIT,El=xl.VERSION,Ll=xl.KAPWING_NOTIFICATION_URL,jl=xl.SENTRY_ENV,Rl=Al||document.domain.startsWith("localhost");let Nl=null;try{Nl="undefined"!=typeof window?n({window:window}):null}catch(b9e){console.error(b9e)}const Ml=Nl;function Pl(){return El}function Fl(){let e="local";return e=Tl,e}const Dl=(()=>{try{return function(e){const t=e.match(/^v(\d{4})\.(\d{2})\.(\d{2})\.(\d+)$/);if(!t)throw new Error("Invalid version format. Expected format: vYYYY.MM.DD.X");const a=parseInt(t[1]||"",10),n=parseInt(t[2]||"",10)-1,s=parseInt(t[3]||"",10);if(n<0||n>11)throw new Error("Invalid month. Month must be between 01 and 12.");const o=new Date(a,n,s);if(o.getFullYear()!==a||o.getMonth()!==n||o.getDate()!==s)throw new Error("Invalid date. The provided day does not exist in the specified month and year.");return o}(Pl())}catch(e){return console.warn(e),null}})();var Ol=(e=>(e.RemoveBackgroundLucataco="95fcc2a26d3899cd6c2691c900465aaeff466285a65c14638cc5f36f34befaf1",e.EnhanceImageSwinir="660d922d33153019e8c263a3bba265de882e7f4f70396546b6c9c8f9d47a021a",e.RemoveBackgroundRemBg="fb8af171cfa1616ddcf1242c093f9c46bcada5ad4cf6f2fbe8b81b330ec5c003",e.RemoveBackgroundRemBgEnhance="4067ee2a58f6c161d434a9c077cfa012820b8e076efa2772aa171e26557da919",e.SplitVocals="5a7041cc9b82e5a558fea6b3d7b12dea89625e89da33f0447bd727c2d0ab9e77",e))(Ol||{});const Ul={EnhanceImageSwinir:"jingyunliang/swinir"},Bl="kapwing-useast1",Wl="https://cdn.kapwing.com",Vl="https://cdn-useast1.kapwing.com",Hl=1048576,zl=1024*Hl,Gl={justForYou20:{discountPercentage:20,activeOnDay:7,expiresOnDay:10},justForYou25:{discountPercentage:25,activeOnDay:10,expiresOnDay:14},justForYou30:{discountPercentage:30,activeOnDay:14,expiresOnDay:21}},Yl=Object.keys(Gl),Kl="0.18",Xl="0.18".split(".").map((e=>parseInt(e)));var Zl=(e=>(e[e.personal=0]="personal",e[e.team=1]="team",e))(Zl||{});const ql="Untitled Project",Jl="Untitled Export",$l="62962eab0af119277ab7c9c3",Ql=["#53E4DC","#F35D93","#FFD53F"],ed=["https://cdn-useast1.kapwing.com/static/MHQ-workspace_default_logo_1.webp","https://cdn-useast1.kapwing.com/static/9X9-workspace_default_logo_2.webp","https://cdn-useast1.kapwing.com/static/7k2-workspace_default_logo_3.webp","https://cdn-useast1.kapwing.com/static/4Y--workspace_default_logo_4.webp","https://cdn-useast1.kapwing.com/static/Jm2-workspace_default_logo_5.webp","https://cdn-useast1.kapwing.com/static/62Z-workspace_default_logo_6.webp"],td=Object.freeze({failed:-1,pending:0,uploading:1,uploaded:2});var ad=(e=>(e[e.public_write=-1]="public_write",e[e.unlisted=0]="unlisted",e[e.private=1]="private",e))(ad||{}),nd=(e=>(e.unlisted="unlisted",e.private="private",e))(nd||{});const sd=Object.freeze({admin:100,free:0,student:"student",teacher:"teacher",googleAppLicenseUser:"googleAppLicenseUser"});var od=(e=>(e[e.creator=0]="creator",e[e.teamMember=1]="teamMember",e[e.invited=2]="invited",e[e.pending=3]="pending",e))(od||{});const id=Object.freeze({member:0,owner:1}),rd="shared-with-me",ld="Shared with Me";var dd=(e=>(e.ScheduledMarketingEmail="SME",e.RequestToEditEmail="RTE",e.RequestToJoinEmail="RTJ",e))(dd||{});const cd="1080p",ud="4K",pd=["AUTO","480p","720p","1080p","4K"];var md=(e=>(e.IMAGE="image",e.MP4="mp4",e.MP3="mp3",e.GIF="gif",e))(md||{});const gd="https://cdn-useast1.kapwing.com/static/Z69-Untitled_Export-xwaurqQYg.webp",hd="https://cdn-useast1.kapwing.com/static/cQg-default_export_thumbnail_vertical_final.webp",vd="https://cdn-useast1.kapwing.com/static/s0Y-default_export_thumbnail_square_final.webp",fd="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",bd=2,yd=["uh","um","uh huh","hmm","hm","mhm","m","ah"];Ol.RemoveBackgroundRemBgEnhance;const wd="EnhanceImageSwinir";var _d=(e=>(e.FAST="FAST",e.SLOW="SLOW",e))(_d||{});const Cd="https://cdn-useast1.kapwing.com/samples/bar_waveform_v2.png",Sd="https://cdn-useast1.kapwing.com/samples/white_wave_waveform_icon.png";var xd=(e=>(e.Month="month",e.Year="year",e.None="none",e))(xd||{}),Id=(e=>(e.Free="free",e.Basic="basic",e.Pro="pro",e.Team="team",e.Edu="edu",e.Business="business",e.Enterprise="enterprise",e))(Id||{}),Ad=(e=>(e[e.Editor=0]="Editor",e[e.Admin=1]="Admin",e))(Ad||{});const kd={0:"Editor",1:"Admin"},Td=250,Ed=6,Ld=240,jd=4,Rd=7200,Nd=2,Md=1800,Pd=60;var Fd=(e=>(e.NO_UPSELLS="NO_UPSELLS",e.REPORT_ISSUE="REPORT_ISSUE",e.ALLOW_STOCK_CONTENT="ALLOW_STOCK_CONTENT",e.CHANGE_PRIVACY="CHANGE_PRIVACY",e.CLEAN_AUDIO="CLEAN_AUDIO",e.CREATE_NEW_FOLDER="CREATE_NEW_FOLDER",e.ENHANCE_VOICE="ENHANCE_VOICE",e.EXPORT_ALL_WITHOUT_WATERMARK="EXPORT_ALL_WITHOUT_WATERMARK",e.EXPORT_30_SEC_WITHOUT_WATERMARK="EXPORT_30_SEC_WITHOUT_WATERMARK",e.HIGH_QUALITY="HIGH_QUALITY",e.UNLIMITED_EXPORT_DURATION_LIMIT="UNLIMITED_EXPORT_DURATION_LIMIT",e.UNLIMITED_UPLOAD_SIZE_LIMIT="UNLIMITED_UPLOAD_SIZE_LIMIT",e.REMOVE_BACKGROUND="REMOVE_BACKGROUND",e.SMART_CUT="SMART_CUT",e.STABILIZE="STABILIZE",e.AUDIOGRAM="AUDIOGRAM",e.UNLIMITED_STORAGE="UNLIMITED_STORAGE",e.NO_CUMULATIVE_DURATION_LIMIT="NO_CUMULATIVE_DURATION_LIMIT",e.SUBTITLER="SUBTITLER",e.TRANSCRIBE="TRANSCRIBE",e.ONE_TO_MANY_DUBBING="ONE_TO_MANY_DUBBING",e.TEXT_TO_SPEECH="TEXT_TO_SPEECH",e.VOICE_DUBBING="VOICE_DUBBING",e.BRANDKIT="BRANDKIT",e.FAST_EXPORT="FAST_EXPORT",e.ROYALTY_FREE="ROYALTY_FREE",e.CHANGE_MEMBER_ROLES="CHANGE_MEMBER_ROLES",e.SUBTITLE_PRESETS="SUBTITLE_PRESETS",e.TEXT_PRESETS="TEXT_PRESETS",e.TEXT_TEMPLATES="TEXT_TEMPLATES",e.GENERATE_IMAGES="GENERATE_IMAGES",e.GENERATE_LONG_DURATION_AI="GENERATE_LONG_DURATION_AI",e.GENERATE_SCRIPT="GENERATE_SCRIPT",e.GENERATE_DOCUMENT_TO_VIDEO="GENERARATE_DOCUMENT_TO_VIDEO",e.GENERATE_TTS_VIDEO="GENERATE_TTS_VIDEO",e.GENERATE_VIDEO="GENERATE_VIDEO",e.GENERATE_ARTICLE_TO_VIDEO="GENERATE_ARTICLE_TO_VIDEO",e.GENERATE_SCRIPT_TO_VIDEO="GENERATE_SCRIPT_TO_VIDEO",e.GENERATE_SCRIPT_IN_SCRIPT_TO_VIDEO="GENERATE_SCRIPT_IN_SCRIPT_TO_VIDEO",e.GENERATE_B_ROLL="GENERATE_B_ROLL",e.PREMIUM_ASSETS="PREMIUM_ASSETS",e.USE_MAGIC_FILL="USE_MAGIC_FILL",e.SSO_LOGIN="SSO_LOGIN",e.MORE_AUTO_TRANSLATE="MORE_AUTO_TRANSLATE",e.ENHANCE_IMAGE="ENHANCE_IMAGE",e.NO_LIMITS_PAYWALL="NO_LIMITS_PAYWALL",e.CLONED_VOICES="CLONED_VOICES",e.CLONED_VOICES_LIMIT="CLONED_VOICES_LIMIT",e.POST_TO_TIKTOK="POST_TO_TIKTOK",e.SPLIT_VOCALS="SPLIT_VOCALS",e.GENERATE_SCENE="GENERATE_SCENE",e.PERSONAS_PREMIUM_PROVIDERS="PERSONA_EXPORT",e.EXCEED_LIMITS="EXCEED_LIMITS",e.TRANSLATE_REVIEW="TRANSLATE_REVIEW",e.PASTED_LINK="PASTED_LINK",e))(Fd||{}),Dd=(e=>(e.GENERATE_SCENE="generate-scene",e.AUDIOGRAM_BAR="audiogram-bar",e.AUDIOGRAM_WAVE="audiogram-wave",e.AUTO_TRANSLATE="auto-translate",e.BACKGROUND_IMAGE_ERASE="background-image-erase",e.BRAND_TEMPLATES="brand-templates",e.BRANDKIT="brandkit",e.CHANGE_MEMBER_ROLES="change-member-roles",e.CLEAN_AUDIO="clean-audio",e.CLONED_VOICES="cloned-voices",e.CLONED_VOICES_LIMIT="cloned-voices-limit",e.CREATE_NEW_FOLDER="create-new-folder",e.CUMULATIVE_EXPORT_DURATION="cumulative-export-duration",e.CUSTOM_SPELLING="custom-spelling",e.DEFAULT="default",e.DEFAULT_PRIVACY="default-privacy",e.DELETION_WARNING="deletion-warning",e.DUBBING_TRANSCRIBE="dubbing-transcribe",e.ONE_TO_MANY_DUBBING="one-to-many-dubbing",e.ENHANCE_IMAGE="enhance-image",e.ENHANCE_VOICE="enhance-voice",e.FIND_HIGHLIGHTS_IN_STUDIO="find-highlights-in-studio",e.FULL_HD="full-hd",e.GENERATE_ARTICLE_TO_VIDEO="generate-article-to-video",e.GENERATE_B_ROLL="generate-b-roll",e.GENERATE_DOCUMENT_TO_VIDEO="generate-document-to-video",e.GENERATE_IMAGES="generate-images",e.GENERATE_LONG_DURATION_AI="generate-long-duration-ai",e.GENERATE_SCRIPT="generate-script",e.GENERATE_SCRIPT_IN_SCRIPT_TO_VIDEO="generate-script-in-script-to-video",e.GENERATE_SCRIPT_TO_VIDEO="generate-script-to-video",e.GENERATE_TTS_VIDEO="generate-tts-video",e.GENERATE_VIDEO="generate-video",e.HEADER="header",e.HIGH_QUALITY="high-quality",e.LINK="link",e.MAGIC_SUBTITLE_FILE_DL="magic-subtitle-file-download",e.MAGIC_TRANSCRIBE="magic-transcribe",e.LIMITS_WARNING="limits-warning",e.ONBOARDING_SURVEY="onboarding-survey",e.PERSONA_VOICE_CLONE="persona-voice-clone",e.PERSONAS_TEXT_TO_SPEECH_LIMIT_WARNING="persona-text-to-speech-limit-warning",e.PERSONAS_PREMIUM_PROVIDERS="personas-premium-providers",e.POST_TO_TIKTOK="post-to-tiktok",e.PREMIUM_ASSETS="premium-assets",e.PRICING="pricing",e.PRICING_PAGE="pricing-page",e.PRIVACY="privacy",e.REACTIVATE_LICENSE="reactivate-license",e.REMOVE_30_SEC_WATERMARK="remove-30-sec-watermark",e.REMOVE_VIDEO_BACKGROUND="remove-video-background",e.REMOVE_WATERMARK="remove-watermark",e.REPURPOSE_STUDIO="repurpose-studio",e.REPURPOSE_STUDIO_HEADER="repurpose-studio-header",e.REPURPOSE_STUDIO_STATIC_BANNER="rs-static-banner",e.REPURPOSE_STUDIO_LOADING_BANNER="rs-loading-banner",e.REPURPOSE_STUDIO_REMOVE_WATERMARK="rs-remove-watermark",e.ROYALTY_FREE="royalty-free",e.SETTINGS="settings",e.SIDEBAR="sidebar",e.SINGLE_VIDEO_DURATION_LIMIT="single-video-duration-limit",e.SMART_CUT_AUDIO="smart-cut-audio",e.SMART_CUT_VIDEO="smart-cut-video",e.SPLIT_VOCALS="split-vocals",e.STABILIZE="stabilize",e.STOCK_ASSETS_IMAGE="stock-assets-image",e.STOCK_ASSETS_MUSIC="stock-assets-music",e.STOCK_ASSETS_SFX="stock-assets-sfx",e.STOCK_ASSETS_VIDEO="stock-assets-video",e.STORAGE_LIMIT="storage-limit",e.STUDIO="studio",e.STUDIO_MEDIA_SIDEBAR="studio-media-sidebar",e.SUBTITLE_PRESETS="subtitle-presets",e.SUBTITLER="subtitler",e.TEXT_PRESETS="text-presets",e.TEXT_TEMPLATES="text-templates",e.TEXT_TO_SPEECH="text-to-speech",e.TRANSLATE_REVIEW="translate-review",e.VOICE_DUBBING="voice-dubbing",e.TRIM_WITH_TRANSCRIPT_TRANSCRIBE="trim-with-transcript-transcribe",e.TRANSLATE_IMAGE_TEXT="translate-image-text",e.TRANSLATION_GLOSSARY="translation-glossary",e.PRONUNCIATION_GLOSSARY="pronunciation-glossary",e.TWO_WEEK_POST_ONBOARDING_MULTI_ACCOUNT_UPSELL="two-week-post-onboarding-multi-account-upsell",e.TWO_WEEK_POST_ONBOARDING_SINGLE_ACCOUNT_UPSELL="two-week-post-onboarding-single-account-upsell",e.TWO_WEEK_RECURRING_MULTI_ACCOUNT_UPSELL="two-week-recurring-multi-account-upsell",e.TWO_WEEK_RECURRING_SINGLE_ACCOUNT_UPSELL="two-week-recurring-single-account-upsell",e.UNKNOWN="unknown",e.UNLIMITED_CONTENT="unlimited-content",e.UPLOAD_FONTS="upload-fonts",e.UPLOAD_LIMIT="upload-limit",e.USE_MAGIC_FILL="use-magic-fill",e.WORKSPACE_SETTINGS="workspace-settings",e.VOICE_CLONE_FOR_DUBBING_TRANSCRIBE="voice-clone-for-dubbing-transcribe",e.PASTED_LINK="pasted-link",e))(Dd||{});const Od={free:{isFree:!0,planTier:"free",basePrice:{month:0,year:0,none:0},modalReasons:[],cancelReasons:["All projects export with Kapwing watermark","Auto subtitler limited to 10 mins/month","Videos limited to 4 minutes","Files limited to 250 MB","Video quality limited to 720p resolution"],canCancel:!1,canChangeSeats:!1,canSwitchToAnnual:!1,upsellsTo:"pro"},basic:{upsellsTo:"pro",isFree:!1,planTier:"basic",basePrice:{month:10,year:72,none:0},everythingIn:["free"],modalReasons:["Export without Kapwing watermarks on images or videos shorter than 30 seconds."],cancelReasons:["Export without Kapwing watermarks on images or videos shorter than 30 seconds."]},pro:{isFree:!1,planTier:"pro",basePrice:{month:24,year:192,none:0},everythingIn:["free","basic"],modalReasons:["Export without Kapwing watermarks","Upload files up to 6 GB","Store and edit unlimited projects","Increased transcription limits and SRT downloads","Export projects up to 2 hours long","Export content in 4K resolution","Increased Generative AI tool uses","Export AI Personas (15 min/month)"],andMuchMore:!0,cancelReasons:["Store projects with no duration limit","Export without a Kapwing watermark","Increased video transcription","Export projects up to 1 hour long","Export projects in 4K resolution","Use Brand Kit templates, media, fonts, and colors","Remove Background on images","Export projects with Clean Audio","Edit more than 3 projects at a time","Create new folders","Download SRT and VTT files","Increased Generative AI tool uses"],upsellsTo:"business",upsellsFrom:"free"},business:{isFree:!1,planTier:"business",basePrice:{month:64,year:600,none:0},everythingIn:["free","basic","pro"],modalReasons:["Auto-subtitle videos (up to 900 min/month)","Translate videos (up to 900 min/month)","Edit with AI features (up to 200 times/month)","Create custom voice clones","Lip sync videos","Export AI Personas (30 min/month)"],andMuchMore:!0,cancelReasons:["Store projects with no duration limit","Export without a Kapwing watermark","Increased video transcription","Export projects up to 1 hour long","Export projects in 4K resolution","Use Brand Kit templates, media, fonts, and colors","Remove Background on images","Export projects with Clean Audio","Edit more than 3 projects at a time","Create new folders","Download SRT and VTT files","Increased Generative AI tool uses","Export AI Personas (30 min/month)"],upsellsTo:"enterprise",upsellsFrom:"pro"},edu:{isFree:!1,planTier:"edu",basePrice:{month:0,year:0,none:0},modalReasons:[],cancelReasons:[]},team:{isFree:!1,planTier:"team",basePrice:{month:24,year:192,none:0},everythingIn:["pro"],modalReasons:["Export without Kapwing watermarks","Ensure consistency with Brand Kit templates and other assets","Upload files up to 6 GB","Export content up to 1 hour long","Export content in 4K resolution","Unlimited transcription and SRT / VTT downloads","Consolidated billing"],cancelReasons:["Store projects with no duration limit","Export without a Kapwing watermark","Unrestricted video transcription","Export projects up to 1 hour long","Export projects in 4K resolution","Use Brand Kit templates, media, fonts, and colors","Remove Background on images","Export projects with Clean Audio","Edit more than 3 projects at a time","Create new folders","Download SRT and VTT files","Unrestricted Generative AI tools"]},enterprise:{upsellsFrom:"business",isFree:!1,planTier:"enterprise",basePrice:{month:24,year:192,none:0},everythingIn:["free","basic","pro","business"],modalReasons:["Custom amount of auto-subtitling","Custom amount of translation","Custom usage of generative AI features","Custom billing","Dedicated account manager","Priority customer support","Onboarding & training","SAML single sign-on (SSO)"],andMuchMore:!0,cancelReasons:["Store projects with no duration limit","Export without a Kapwing watermark","Unrestricted video transcription","Export projects up to 1 hour long","Export projects in 4K resolution","Use Brand Kit templates, media, fonts, and colors","Remove Background on images","Export projects with Clean Audio","Edit more than 3 projects at a time","Create new folders","Download SRT and VTT files","Unrestricted Generative AI tools"],canCancel:!1,canSwitchToAnnual:!1}},Ud=Fd.NO_UPSELLS;var Bd=(e=>(e.TRANSCRIBE="TRANSCRIBE",e.TRANSLATE="TRANSLATE",e.AI_GENERATE="AI_GENERATE",e.TTS="TTS",e.LIP_SYNC="LIP_SYNC",e.CLONED_VOICES="CLONED_VOICES",e.ENHANCE_IMAGE="ENHANCE_IMAGE",e))(Bd||{}),Wd=(e=>(e.NEVER="NEVER",e.MONTHLY="MONTHLY",e))(Wd||{});const Vd={TRANSCRIBE:{tier:{[Id.Free]:{limit:10,resetPeriod:"MONTHLY"},[Id.Pro]:{limit:300,resetPeriod:"MONTHLY"},[Id.Business]:{limit:900,resetPeriod:"MONTHLY"},[Id.Enterprise]:{limit:6e3,resetPeriod:"MONTHLY"}},overageCost:.5,unit:"minute",name:"transcription",dbKey:"transcribeUsage",label:"Transcription",description:"Using Magic Subtitles, Trim with Transcript, Smart B-roll, and Repurpose Studio features count towards this limit",showWarnings:!0},TRANSLATE:{tier:{[Id.Free]:{limit:10,resetPeriod:"MONTHLY"},[Id.Pro]:{limit:300,resetPeriod:"MONTHLY"},[Id.Business]:{limit:900,resetPeriod:"MONTHLY"},[Id.Enterprise]:{limit:6e3,resetPeriod:"MONTHLY"}},overageCost:.5,unit:"minute",name:"translation",dbKey:"monthlyTranslateUsage",label:"Translation",description:"Using Translated Subtitles and Translate Image counts towards this limit",showWarnings:!0},AI_GENERATE:{tier:{[Id.Pro]:{limit:30,resetPeriod:"MONTHLY"},[Id.Business]:{limit:75,resetPeriod:"MONTHLY"},[Id.Enterprise]:{limit:250,resetPeriod:"MONTHLY"}},overageCost:.25,unit:"use",name:"generative AI",dbKey:"monthlyAIGenerateUsage",label:"Generative AI tools",description:"Using the Image or Scene generators count towards this limit",showWarnings:!0},TTS:{tier:{[Id.Free]:{limit:3,resetPeriod:"NEVER"},[Id.Pro]:{limit:80,resetPeriod:"MONTHLY"},[Id.Business]:{limit:200,resetPeriod:"MONTHLY"},[Id.Enterprise]:{limit:900,resetPeriod:"MONTHLY"}},overageCost:.5,unit:"minute",name:"text to speech",dbKey:"monthlyTTSUsage",label:"Text to Speech",description:"Using Text to Speech and Dubbing features count towards this limit",showWarnings:!0},LIP_SYNC:{tier:{[Id.Free]:{limit:1,resetPeriod:"NEVER"},[Id.Pro]:{limit:15,resetPeriod:"MONTHLY"},[Id.Business]:{limit:30,resetPeriod:"MONTHLY"},[Id.Enterprise]:{limit:60,resetPeriod:"MONTHLY"}},overageCost:.5,unit:"minute",name:"lip sync",dbKey:"monthlyLipSyncUsage",label:"Lip Sync",description:"Using the Lip Sync and Personas features count towards this limit",showWarnings:!0},CLONED_VOICES:{tier:{[Id.Free]:{limit:0,resetPeriod:"NEVER"},[Id.Pro]:{limit:0,resetPeriod:"NEVER"},[Id.Business]:{limit:2,resetPeriod:"NEVER"},[Id.Enterprise]:{limit:4,resetPeriod:"NEVER"}},overageCost:null,unit:"clone",name:"voice clone",dbKey:"TTSVoiceClones",label:"Text to Speech voice clones",description:"Cloning text to speech voices count towards this limit",showWarnings:!1},ENHANCE_IMAGE:{tier:{[Id.Free]:{limit:1,resetPeriod:"NEVER"},[Id.Pro]:{limit:1/0,resetPeriod:"NEVER"},[Id.Business]:{limit:1/0,resetPeriod:"NEVER"},[Id.Enterprise]:{limit:1/0,resetPeriod:"NEVER"}},overageCost:null,unit:"enhancement",name:"image enhance",dbKey:"imageEnhancements",label:"AI Image Enhancements",description:"Using the Enhance Image feature counts towards this limit",showWarnings:!1,paywallModalAction:Dd.ENHANCE_IMAGE}},Hd=750;function zd(e){return e.length/750}const Gd=[Id.Pro,Id.Team,Id.Edu,Id.Business,Id.Enterprise],Yd=[Id.Basic,...Gd],Kd={[Fd.NO_UPSELLS]:{planTiers:Gd},[Fd.REPORT_ISSUE]:{planTiers:Yd},[Fd.SSO_LOGIN]:{planTiers:[Id.Enterprise]},[Fd.EXCEED_LIMITS]:{planTiers:[Id.Enterprise]},[Fd.FAST_EXPORT]:{planTiers:Gd},[Fd.BRANDKIT]:{planTiers:Gd,heroHeader:"Staying on brand has never been easier",heroBody:"Upgrade so you can stay on-brand all the time with Brand Kit. Set up your own Brand Templates and upload your own brand colors, fonts, images, and videos to make the same assets available to everyone in this workspace.",heroImg:"https://cdn-useast1.kapwing.com/static/51e-brandkit-upgrade-banner-spot.webp"},[Fd.UNLIMITED_UPLOAD_SIZE_LIMIT]:{planTiers:Gd},[Fd.NO_CUMULATIVE_DURATION_LIMIT]:{planTiers:Gd},[Fd.TRANSCRIBE]:{planTiers:Gd},[Fd.SUBTITLER]:{planTiers:Gd},[Fd.TEXT_TO_SPEECH]:{planTiers:Gd,upsellHeading:"Text to Speech",upgradeReason:"to use our full library of Premium Voice options"},[Fd.VOICE_DUBBING]:{planTiers:[Id.Business,Id.Enterprise],upsellHeading:"Voice Dubbing",upgradeReason:"to dub more videos"},[Fd.ONE_TO_MANY_DUBBING]:{planTiers:[Id.Business,Id.Enterprise],upsellHeading:"One-to-Many Dubbing",upgradeReason:"to dub to multiple languages"},[Fd.TRANSLATE_REVIEW]:{planTiers:[Id.Pro,Id.Business,Id.Enterprise],upsellHeading:"Review Transcript Before Dubbing",upgradeReason:"to review transcript before dubbing"},[Fd.REMOVE_BACKGROUND]:{planTiers:Gd,upsellHeading:"Background remover",upgradeReason:"to export with Remove Background",imgSrc:"https://cdn-useast1.kapwing.com/static/tB5-remove-video-background-cta-image.webp"},[Fd.CLEAN_AUDIO]:{planTiers:Gd,upsellHeading:"Clearer audio",upgradeReason:"to apply Clean Audio to all your projects",imgSrc:"https://cdn-useast1.kapwing.com/static/LII-clean-audio-upsell-banner-image.webp"},[Fd.ENHANCE_VOICE]:{planTiers:Gd,upsellHeading:"Studio Quality Vocals",upgradeReason:"to apply Enhance Voice to all your projects"},[Fd.STABILIZE]:{planTiers:Gd,upsellHeading:"Stabilize video",upgradeReason:"to apply video stabilization to all your projects",imgSrc:"https://cdn-useast1.kapwing.com/static/CbM-1DH-stabilize-video.webp"},[Fd.ENHANCE_IMAGE]:{planTiers:Gd,upsellHeading:"Clearer images",upgradeReason:"to export projects with Image Enhancements applied"},[Fd.SMART_CUT]:{planTiers:Gd,upsellHeading:"Remove silences automatically with Smart Cut",upgradeReason:"to export projects edited with Smart Cut",imgSrc:"https://cdn-useast1.kapwing.com/static/EwQ-smart-cut-upsell-block-image.webp"},[Fd.SPLIT_VOCALS]:{planTiers:Gd,upsellHeading:"Split vocals from music",upgradeReason:"to export projects with Split Vocals applied"},[Fd.AUDIOGRAM]:{planTiers:Gd,upsellHeading:"Use a dynamic waveform layer to visualize audio",upgradeReason:"to export projects with waveform layers",imgSrc:"https://cdn-useast1.kapwing.com/static/zlv-bars.webp"},[Fd.UNLIMITED_EXPORT_DURATION_LIMIT]:{planTiers:Gd},[Fd.CREATE_NEW_FOLDER]:{planTiers:Gd},[Fd.HIGH_QUALITY]:{planTiers:Gd},[Fd.ALLOW_STOCK_CONTENT]:{planTiers:Gd,upsellHeading:"Thousands of royalty-free assets",upgradeReason:"to use our full library of high quality images, video, and audio",imgSrc:"https://cdn-useast1.kapwing.com/static/XYa-Frame-307.webp"},[Fd.UNLIMITED_STORAGE]:{planTiers:Gd,upsellHeading:"Bigger, bolder assets",upgradeReason:"to upload and store assets over 250+ megabytes",imgSrc:"https://cdn-useast1.kapwing.com/static/C4x-img_upsell_media.webp"},[Fd.CHANGE_PRIVACY]:{planTiers:Gd},[Fd.EXPORT_ALL_WITHOUT_WATERMARK]:{planTiers:Gd},[Fd.EXPORT_30_SEC_WITHOUT_WATERMARK]:{planTiers:Yd},[Fd.ROYALTY_FREE]:{planTiers:Gd},[Fd.CHANGE_MEMBER_ROLES]:{planTiers:Gd},[Fd.SUBTITLE_PRESETS]:{planTiers:Gd},[Fd.TEXT_PRESETS]:{planTiers:Gd},[Fd.TEXT_TEMPLATES]:{planTiers:Gd},[Fd.GENERATE_IMAGES]:{planTiers:Gd},[Fd.GENERATE_LONG_DURATION_AI]:{planTiers:Gd},[Fd.GENERATE_DOCUMENT_TO_VIDEO]:{planTiers:Gd},[Fd.GENERATE_SCRIPT_TO_VIDEO]:{planTiers:Gd},[Fd.GENERATE_TTS_VIDEO]:{planTiers:Gd},[Fd.GENERATE_VIDEO]:{planTiers:Gd},[Fd.GENERATE_SCENE]:{planTiers:Gd},[Fd.GENERATE_SCRIPT]:{planTiers:Gd},[Fd.GENERATE_ARTICLE_TO_VIDEO]:{planTiers:Gd},[Fd.GENERATE_SCRIPT_IN_SCRIPT_TO_VIDEO]:{planTiers:Gd},[Fd.GENERATE_B_ROLL]:{planTiers:Gd},[Fd.PREMIUM_ASSETS]:{planTiers:Gd},[Fd.USE_MAGIC_FILL]:{planTiers:Gd},[Fd.MORE_AUTO_TRANSLATE]:{planTiers:Gd},[Fd.NO_LIMITS_PAYWALL]:{planTiers:[Id.Enterprise]},[Fd.CLONED_VOICES]:{planTiers:[Id.Business,Id.Enterprise]},[Fd.CLONED_VOICES_LIMIT]:{planTiers:[Id.Enterprise]},[Fd.POST_TO_TIKTOK]:{planTiers:Gd},[Fd.PERSONAS_PREMIUM_PROVIDERS]:{planTiers:Gd,upgradeReason:"to export projects with AI Personas",prettyUpgradeSource:"AI Personas export permission"},[Fd.PASTED_LINK]:{planTiers:Gd}},Xd={[Dd.UNKNOWN]:{metadata:{prettyUpgradeSource:"Unknown"}},[Dd.FIND_HIGHLIGHTS_IN_STUDIO]:{permission:Fd.TRANSCRIBE,metadata:{prettyUpgradeSource:"Find Highlights In Studio"}},[Dd.CHANGE_MEMBER_ROLES]:{permission:Fd.CHANGE_MEMBER_ROLES,metadata:{prettyUpgradeSource:"Change Member Roles",upgradeReason:"to change member roles in your workspace"}},[Dd.ROYALTY_FREE]:{permission:Fd.ROYALTY_FREE,metadata:{prettyUpgradeSource:"Filter Royalty Free",upgradeReason:"to filter search results by license type"}},[Dd.SUBTITLE_PRESETS]:{permission:Fd.SUBTITLE_PRESETS,metadata:{prettyUpgradeSource:"Subtitle Presets",upgradeReason:"to use all premium subtitle presets"}},[Dd.TEXT_PRESETS]:{permission:Fd.TEXT_PRESETS,metadata:{prettyUpgradeSource:"Text Presets",upgradeReason:"to use all premium text presets"}},[Dd.TEXT_TEMPLATES]:{permission:Fd.TEXT_TEMPLATES,metadata:{prettyUpgradeSource:"Text Templates",upgradeReason:"to unlock all text templates"}},[Dd.TEXT_TO_SPEECH]:{permission:Fd.TEXT_TO_SPEECH,metadata:{prettyUpgradeSource:"Text to Speech",upgradeReason:"to use our full library of Premium Voice options"}},[Dd.VOICE_DUBBING]:{permission:Fd.VOICE_DUBBING,metadata:{prettyUpgradeSource:"Voice Dubbing",upgradeReason:"to translate more videos with dubbing"}},[Dd.ENHANCE_IMAGE]:{permission:Fd.ENHANCE_IMAGE,metadata:{prettyUpgradeSource:"Enhance Image",upgradeReason:"to use enhance image"}},[Dd.DEFAULT_PRIVACY]:{permission:Fd.CHANGE_PRIVACY,metadata:{prettyUpgradeSource:"Default Privacy",upgradeReason:"to select and change video privacy settings"}},[Dd.DELETION_WARNING]:{permission:Fd.UNLIMITED_STORAGE,metadata:{prettyUpgradeSource:"Deletion Warning",upgradeReason:"to prevent old projects from being deleted"}},[Dd.HEADER]:{metadata:{prettyUpgradeSource:"Link in Header"}},[Dd.HIGH_QUALITY]:{permission:Fd.HIGH_QUALITY,metadata:{prettyUpgradeSource:"High Quality",upsellHeading:"Export in full HD quality",upgradeReason:"to export your projects in Full HD resolution"}},[Dd.PRICING]:{metadata:{prettyUpgradeSource:"Pricing Page"}},[Dd.PRIVACY]:{permission:Fd.CHANGE_PRIVACY,metadata:{prettyUpgradeSource:"Video Privacy",upgradeReason:"to select and change video privacy settings"}},[Dd.SETTINGS]:{metadata:{prettyUpgradeSource:"Account Settings"}},[Dd.SIDEBAR]:{metadata:{prettyUpgradeSource:"Link in Sidebar"}},[Dd.SINGLE_VIDEO_DURATION_LIMIT]:{permission:Fd.NO_CUMULATIVE_DURATION_LIMIT,metadata:{prettyUpgradeSource:"Single Video Duration Limit",upgradeReason:"to export longer projects"}},[Dd.STORAGE_LIMIT]:{permission:Fd.UNLIMITED_STORAGE,metadata:{prettyUpgradeSource:"Storage Limit",upgradeReason:"to save and store more projects"}},[Dd.STUDIO]:{metadata:{prettyUpgradeSource:"Link in Studio"}},[Dd.SUBTITLER]:{permission:Fd.SUBTITLER,metadata:{prettyUpgradeSource:"Download SRT",upgradeReason:"to download SRT files"}},[Dd.CUMULATIVE_EXPORT_DURATION]:{permission:Fd.UNLIMITED_STORAGE,metadata:{prettyUpgradeSource:"Total Video Duration",upgradeReason:"to export more projects on Kapwing"}},[Dd.UNLIMITED_CONTENT]:{permission:Fd.UNLIMITED_STORAGE,metadata:{prettyUpgradeSource:"Load More Button",upgradeReason:"to save and load more projects"}},[Dd.UPLOAD_FONTS]:{permission:Fd.BRANDKIT,metadata:{prettyUpgradeSource:"Upload font",upgradeReason:"to use custom fonts"}},[Dd.CUSTOM_SPELLING]:{permission:Fd.BRANDKIT,metadata:{prettyUpgradeSource:"Custom spelling",upgradeReason:"to add custom spellings"}},[Dd.TRANSLATION_GLOSSARY]:{permission:Fd.BRANDKIT,metadata:{prettyUpgradeSource:"Translation glossary",upgradeReason:"to add translation rules"}},[Dd.PRONUNCIATION_GLOSSARY]:{permission:Fd.BRANDKIT,metadata:{prettyUpgradeSource:"Pronunciation glossary",upgradeReason:"to add pronunciation rules"}},[Dd.UPLOAD_LIMIT]:{permission:Fd.UNLIMITED_UPLOAD_SIZE_LIMIT,metadata:{prettyUpgradeSource:"Upload Limit",upgradeReason:"to upload larger files in your project"}},[Dd.MAGIC_TRANSCRIBE]:{permission:Fd.TRANSCRIBE,metadata:{prettyUpgradeSource:"Magic Transcription Limit",upgradeReason:"for more subtitle minutes"}},[Dd.TRIM_WITH_TRANSCRIPT_TRANSCRIBE]:{permission:Fd.TRANSCRIBE,metadata:{prettyUpgradeSource:"Trim with Transcript Transcription Limit",upgradeReason:"for more transcription minutes"}},[Dd.REMOVE_30_SEC_WATERMARK]:{permission:Fd.EXPORT_30_SEC_WITHOUT_WATERMARK,metadata:{prettyUpgradeSource:"Remove Watermark",upsellHeading:"Create watermark-free content",upgradeReason:"to export without the Kapwing watermark on your projects",imgSrc:"https://cdn-useast1.kapwing.com/static/ouU-img_upsell_remove_watermark.webp"}},[Dd.REMOVE_WATERMARK]:{permission:Fd.EXPORT_ALL_WITHOUT_WATERMARK,metadata:{prettyUpgradeSource:"Remove Watermark",upsellHeading:"Create watermark-free content",upgradeReason:"to export without the Kapwing watermark on your projects",imgSrc:"https://cdn-useast1.kapwing.com/static/ouU-img_upsell_remove_watermark.webp"}},[Dd.FULL_HD]:{permission:Fd.HIGH_QUALITY,metadata:{prettyUpgradeSource:"Full HD",upgradeReason:"to export in higher quality and resolution"}},[Dd.BACKGROUND_IMAGE_ERASE]:{permission:Fd.REMOVE_BACKGROUND,metadata:{prettyUpgradeSource:"Background Image Erase",upgradeReason:"to export projects with Remove Background applied to images",imgSrc:"https://cdn-useast1.kapwing.com/static/nOm-remove-background-banner-image.svg"}},[Dd.BRAND_TEMPLATES]:{permission:Fd.BRANDKIT,metadata:{prettyUpgradeSource:"Use Brand Kit",heroBody:"Stay on-brand all the time with Brand Kit, now including templates. Create your own templates and easily start from them to save time and stay consistent across projects and team members.",heroHeader:"Introducing Brand Templates"}},[Dd.BRANDKIT]:{permission:Fd.BRANDKIT,metadata:{prettyUpgradeSource:"Use Brand Kit",upgradeReason:"to store assets and files in your Brand Kit"}},[Dd.STUDIO_MEDIA_SIDEBAR]:{permission:Fd.UNLIMITED_STORAGE,metadata:{prettyUpgradeSource:"Media Sidebar"}},[Dd.CREATE_NEW_FOLDER]:{permission:Fd.CREATE_NEW_FOLDER,metadata:{prettyUpgradeSource:"New Folder",upgradeReason:"to create new folders in your workspace"}},[Dd.ONBOARDING_SURVEY]:{metadata:{prettyUpgradeSource:"Onboarding Survey"}},[Dd.MAGIC_SUBTITLE_FILE_DL]:{permission:Fd.SUBTITLER,metadata:{prettyUpgradeSource:"Magic Subtitle File Dl",upgradeReason:"to unlock the full power of subtitles"}},[Dd.TWO_WEEK_POST_ONBOARDING_SINGLE_ACCOUNT_UPSELL]:{metadata:{prettyUpgradeSource:"Two Week Post Onboarding Single Account Upsell"}},[Dd.TWO_WEEK_POST_ONBOARDING_MULTI_ACCOUNT_UPSELL]:{metadata:{prettyUpgradeSource:"Two Week Post Onboarding Multi-Account Upsell"}},[Dd.TWO_WEEK_RECURRING_SINGLE_ACCOUNT_UPSELL]:{metadata:{prettyUpgradeSource:"Two Week Recurring Single Account Upsell"}},[Dd.TWO_WEEK_RECURRING_MULTI_ACCOUNT_UPSELL]:{metadata:{prettyUpgradeSource:"Two Week Recurring Multi Account Upsell"}},[Dd.WORKSPACE_SETTINGS]:{metadata:{prettyUpgradeSource:"Workspace Settings"}},[Dd.DEFAULT]:{metadata:{prettyUpgradeSource:"Default"}},[Dd.CLEAN_AUDIO]:{permission:Fd.CLEAN_AUDIO,metadata:{prettyUpgradeSource:"Clean Audio",upgradeReason:"to enhance audio quality in your projects"}},[Dd.ENHANCE_VOICE]:{permission:Fd.ENHANCE_VOICE,metadata:{prettyUpgradeSource:"Enhance Voice",upgradeReason:"to use Enhance Voice in your projects"}},[Dd.STABILIZE]:{permission:Fd.STABILIZE,metadata:{prettyUpgradeSource:"Stabilize Video",upgradeReason:"to stabilize video in your projects"}},[Dd.SMART_CUT_VIDEO]:{permission:Fd.SMART_CUT,metadata:{prettyUpgradeSource:"Smart Cut Video",upgradeReason:"to use the full power of Smart Cut"}},[Dd.SPLIT_VOCALS]:{permission:Fd.SPLIT_VOCALS,metadata:{prettyUpgradeSource:"Split Vocals",upgradeReason:"to split vocals in your projects"}},[Dd.SMART_CUT_AUDIO]:{permission:Fd.SMART_CUT,metadata:{prettyUpgradeSource:"Smart Cut Audio",upgradeReason:"to run smart cut on audio files"}},[Dd.REMOVE_VIDEO_BACKGROUND]:{permission:Fd.REMOVE_BACKGROUND,metadata:{prettyUpgradeSource:"Remove Video Background",upgradeReason:"to remove video backgrounds"}},[Dd.AUDIOGRAM_WAVE]:{permission:Fd.AUDIOGRAM,metadata:{prettyUpgradeSource:"Waveform Audiogram",upgradeReason:"to add audio waveforms to your projects",imgSrc:"https://cdn-useast1.kapwing.com/static/F-T-white_waveform.webp"}},[Dd.AUDIOGRAM_BAR]:{permission:Fd.AUDIOGRAM,metadata:{prettyUpgradeSource:"Waveform Audiogram",imgSrc:"https://cdn-useast1.kapwing.com/static/zlv-bars.webp",upgradeReason:"to add audio waveforms to your projects"}},[Dd.STOCK_ASSETS_MUSIC]:{permission:Fd.ALLOW_STOCK_CONTENT,metadata:{prettyUpgradeSource:"Stock Assets Music",upgradeReason:"to unlock all stock music on Kapwing"}},[Dd.STOCK_ASSETS_SFX]:{permission:Fd.ALLOW_STOCK_CONTENT,metadata:{prettyUpgradeSource:"Stock Assets SFX"}},[Dd.STOCK_ASSETS_VIDEO]:{permission:Fd.ALLOW_STOCK_CONTENT,metadata:{prettyUpgradeSource:"Stock Assets Video"}},[Dd.STOCK_ASSETS_IMAGE]:{permission:Fd.ALLOW_STOCK_CONTENT,metadata:{prettyUpgradeSource:"Stock Assets Image"}},[Dd.PRICING_PAGE]:{metadata:{prettyUpgradeSource:"Pricing Page"}},[Dd.LINK]:{metadata:{prettyUpgradeSource:"Checkout Link"}},[Dd.REACTIVATE_LICENSE]:{metadata:{prettyUpgradeSource:"Reactivate License"}},[Dd.GENERATE_IMAGES]:{permission:Fd.GENERATE_IMAGES,metadata:{prettyUpgradeSource:"AI Image Generator",upgradeReason:"for unlimited image generation"}},[Dd.GENERATE_LONG_DURATION_AI]:{permission:Fd.GENERATE_LONG_DURATION_AI,metadata:{prettyUpgradeSource:"AI Generator Duration",upgradeReason:"for longer AI generations"}},[Dd.GENERATE_DOCUMENT_TO_VIDEO]:{permission:Fd.GENERATE_DOCUMENT_TO_VIDEO,metadata:{prettyUpgradeSource:"Document to Video Generator",upgradeReason:"to convert unlimited documents to video"}},[Dd.GENERATE_SCRIPT]:{permission:Fd.GENERATE_SCRIPT,metadata:{prettyUpgradeSource:"AI Script Generator",upgradeReason:"to generate unlimited scripts"}},[Dd.GENERATE_SCRIPT_TO_VIDEO]:{permission:Fd.GENERATE_SCRIPT_TO_VIDEO,metadata:{prettyUpgradeSource:"Script to Video Generator",upgradeReason:"to convert unlimited scripts to video"}},[Dd.GENERATE_SCRIPT_IN_SCRIPT_TO_VIDEO]:{permission:Fd.GENERATE_SCRIPT,metadata:{prettyUpgradeSource:"AI Script Generator",upgradeReason:"to generate more scripts"}},[Dd.GENERATE_TTS_VIDEO]:{permission:Fd.GENERATE_TTS_VIDEO,metadata:{prettyUpgradeSource:"AI Video Generator",upgradeReason:"to generate more videos"}},[Dd.GENERATE_SCENE]:{permission:Fd.GENERATE_SCENE,metadata:{prettyUpgradeSource:"AI Scene Generator",upgradeReason:"to generate imaginary scenes"}},[Dd.GENERATE_VIDEO]:{permission:Fd.GENERATE_VIDEO,metadata:{prettyUpgradeSource:"AI Slideshow Generator",upgradeReason:"to generate more slideshows"}},[Dd.GENERATE_B_ROLL]:{permission:Fd.GENERATE_B_ROLL,metadata:{prettyUpgradeSource:"AI B-Roll Generator",upgradeReason:"to automatically find images related to your project"}},[Dd.PREMIUM_ASSETS]:{permission:Fd.PREMIUM_ASSETS,metadata:{prettyUpgradeSource:"Premium Assets",upgradeReason:"to access premium assets"}},[Dd.USE_MAGIC_FILL]:{permission:Fd.USE_MAGIC_FILL,metadata:{prettyUpgradeSource:"Magic Fill",upgradeReason:"to use Magic Fill on all your images"}},[Dd.AUTO_TRANSLATE]:{permission:Fd.MORE_AUTO_TRANSLATE,metadata:{prettyUpgradeSource:"Auto Translate",upgradeReason:"to translate more subtitles"}},[Dd.TRANSLATE_IMAGE_TEXT]:{permission:Fd.MORE_AUTO_TRANSLATE,metadata:{prettyUpgradeSource:"Translate Image Text Limit",upgradeReason:"to translate more image text"}},[Dd.GENERATE_ARTICLE_TO_VIDEO]:{permission:Fd.GENERATE_ARTICLE_TO_VIDEO,metadata:{prettyUpgradeSource:"Article to Video Generator",upgradeReason:"to convert more articles to video"}},[Dd.LIMITS_WARNING]:{permission:Fd.NO_LIMITS_PAYWALL},[Dd.REPURPOSE_STUDIO]:{permission:Fd.NO_LIMITS_PAYWALL},[Dd.CLONED_VOICES]:{permission:Fd.CLONED_VOICES,metadata:{prettyUpgradeSource:"brandkit cloned voices",upgradeReason:"to clone your voice for Text to Speech voiceovers"}},[Dd.CLONED_VOICES_LIMIT]:{permission:Fd.CLONED_VOICES_LIMIT,metadata:{prettyUpgradeSource:"brandkit cloned voices limit",upgradeReason:"to save up to 4 cloned voices"}},[Dd.POST_TO_TIKTOK]:{permission:Fd.POST_TO_TIKTOK,metadata:{prettyUpgradeSource:"Post to TikTok",upgradeReason:"to post to TikTok"}},[Dd.VOICE_CLONE_FOR_DUBBING_TRANSCRIBE]:{permission:Fd.TRANSCRIBE,metadata:{prettyUpgradeSource:"Transcribe for voice cloning on dubbing SRT upload",upgradeReason:"to transcribe this asset to clone original voices for dubbing"}},[Dd.DUBBING_TRANSCRIBE]:{permission:Fd.TRANSCRIBE,metadata:{prettyUpgradeSource:"Transcribe for dubbing SRT upload",upgradeReason:"to transcribe this asset for dubbing"}},[Dd.ONE_TO_MANY_DUBBING]:{permission:Fd.ONE_TO_MANY_DUBBING,metadata:{prettyUpgradeSource:"Dub in multiple languages",upgradeReason:"to use one-to-many dubbing"}},[Dd.TRANSLATE_REVIEW]:{permission:Fd.TRANSLATE_REVIEW,metadata:{prettyUpgradeSource:"Review Transcript Before Dubbing",upgradeReason:"to review transcript before dubbing"}},[Dd.PERSONA_VOICE_CLONE]:{permission:Fd.CLONED_VOICES,metadata:{prettyUpgradeSource:"Creating a voice clone for AI Personas",upgradeReason:"to create custom voice clones to use with AI Personas"}},[Dd.REPURPOSE_STUDIO_HEADER]:{permission:Fd.EXPORT_ALL_WITHOUT_WATERMARK,metadata:{prettyUpgradeSource:"RS header",upsellHeading:"Create watermark-free content",upgradeReason:"to export without the Kapwing watermark on your projects"}},[Dd.REPURPOSE_STUDIO_STATIC_BANNER]:{permission:Fd.EXPORT_ALL_WITHOUT_WATERMARK,metadata:{prettyUpgradeSource:"RS static banner",upsellHeading:"Create watermark-free content",upgradeReason:"to export without the Kapwing watermark on your projects"}},[Dd.REPURPOSE_STUDIO_LOADING_BANNER]:{permission:Fd.EXPORT_ALL_WITHOUT_WATERMARK,metadata:{prettyUpgradeSource:"RS loading banner",upsellHeading:"Create watermark-free content",upgradeReason:"to export without the Kapwing watermark on your projects"}},[Dd.REPURPOSE_STUDIO_REMOVE_WATERMARK]:{permission:Fd.EXPORT_ALL_WITHOUT_WATERMARK,metadata:{prettyUpgradeSource:"RS remove watermark",upsellHeading:"Create watermark-free content",upgradeReason:"to export without the Kapwing watermark on your projects",imgSrc:"https://cdn-useast1.kapwing.com/static/ouU-img_upsell_remove_watermark.webp"}},[Dd.PERSONAS_TEXT_TO_SPEECH_LIMIT_WARNING]:{permission:Fd.NO_LIMITS_PAYWALL,metadata:{prettyUpgradeSource:"Persona TTS limits warning",upgradeReason:"to generate more text to speech for AI Personas"}},[Dd.PERSONAS_PREMIUM_PROVIDERS]:{permission:Fd.PERSONAS_PREMIUM_PROVIDERS,metadata:{prettyUpgradeSource:"AI Personas premium providers",upgradeReason:"to use premium Lip Sync Providers"}},[Dd.PASTED_LINK]:{permission:Fd.PASTED_LINK,metadata:{prettyUpgradeSource:"Paste A Link",upgradeReason:"to upload files by pasting a video URL"}}},Zd=e=>Xd[e].permission||Ud,qd="https://cdn-useast1.kapwing.com/static/9EB-img_upsell_sidebar.webp",Jd="to unlock more premium features on Kapwing",$d=e=>{var t,a,n,s,o,i,r,l;const d=e&&Xd[e],c=(null==d?void 0:d.permission)&&Kd[null==d?void 0:d.permission];return{img:{imgSrc:(null==(t=null==d?void 0:d.metadata)?void 0:t.imgSrc)||(null==c?void 0:c.imgSrc)||qd,imgAlt:(null==(a=null==d?void 0:d.metadata)?void 0:a.upsellHeading)||(null==c?void 0:c.upsellHeading)||Jd},heroImg:{imgSrc:(null==(n=null==d?void 0:d.metadata)?void 0:n.heroImg)||(null==c?void 0:c.heroImg)||qd,imgAlt:(null==(s=null==d?void 0:d.metadata)?void 0:s.heroHeader)||(null==c?void 0:c.heroHeader)||"Staying on brand has never been easier"},upsellHeroHeading:(null==(o=null==d?void 0:d.metadata)?void 0:o.heroHeader)||(null==c?void 0:c.heroHeader)||"Staying on brand has never been easier",upsellHeroBody:(null==(i=null==d?void 0:d.metadata)?void 0:i.heroBody)||(null==c?void 0:c.heroBody)||"Upgrade so you can stay on-brand all the time with Brand Kit. Set up your own Brand Templates and upload your own brand colors, fonts, images, and videos to make the same assets available to everyone in this workspace.",upsellBlockHeading:(null==(r=null==d?void 0:d.metadata)?void 0:r.upsellHeading)||(null==c?void 0:c.upsellHeading)||"Unlock the full Kapwing experience",upsellBlockBody:(null==(l=null==d?void 0:d.metadata)?void 0:l.upgradeReason)||(null==c?void 0:c.upgradeReason)||Jd,upgradePermission:Zd(e),buttonText:"Upgrade"}},Qd=e=>e.toLowerCase().split(" ").map((e=>e.charAt(0).toUpperCase()+e.substring(1))).join(" ");function ec(e,t,a){return 1===Math.abs(a)?e:t}const tc=(e,t)=>{const a=e.getTime(),n=t.getTime();return Math.round(Math.abs(a-n)/864e5)};function ac(e,t=36e5){if(!e)return!1;const a=new URLSearchParams(e),n=a.get("X-Goog-Date"),s=a.get("X-Goog-Expires");if(n&&s){const[,e,a,o,i,r,l]=n.match(/(\d{4})(\d{2})(\d{2})T(\d{2})(\d{2})(\d{2})/)||[];if(null==l)return!0;const d=Date.parse(`${e}-${a}-${o}T${i}:${r}:${l}`)+1e3*parseInt(s,10)-t;return Date.now()>=d}const o=a.get("Expires");if(o){return 1e3*parseInt(o,10)-Date.now()<t}return!0}const nc=e=>{switch(e){case Id.Free:return new oc;case Id.Basic:return new rc;case Id.Pro:return new lc;case Id.Business:return new dc;case Id.Edu:return new uc;case Id.Team:return new pc;case Id.Enterprise:return new cc;default:return new oc}};class sc{constructor(e){this._planTier=e}get type(){return this._planTier}get name(){return Qd(this._planTier)}get planDescription(){switch(this._planTier){case Id.Free:return"Perfect for anyone getting started with video editing.";case Id.Basic:return"Edit images and short videos quickly and easily.";case Id.Pro:return"For individuals and small groups looking to create more content in less time";case Id.Business:return"For individuals and teams that need to supercharge their content creation workflow";case Id.Enterprise:return"For large organizations that need advanced controls and support";case Id.Team:return"Unlock the full power of Kapwing for your business.";default:return""}}get upgradesTo(){return this.planData.upsellsTo||null}get upgradesFrom(){return this.planData.upsellsFrom||null}get className(){return this._planTier.toLowerCase()}get planData(){return Od[this._planTier]}get isPaid(){return this._planTier!==Id.Free}get isFree(){return this._planTier===Id.Free}get isEdu(){return this._planTier===Id.Edu}get showUpgrades(){return!this.hasPermission(Fd.NO_UPSELLS)}get canSwitchToAnnual(){return void 0===this.planData.canSwitchToAnnual||this.planData.canSwitchToAnnual}get canCancel(){return void 0===this.planData.canCancel||this.planData.canCancel}get canChangeSeats(){return void 0===this.planData.canChangeSeats||this.planData.canChangeSeats}is(e){return this._planTier===e}hasPermission(e){return Kd[e].planTiers.includes(this.type)}getBasePrice(){return this.planData.basePrice}getPriceForInterval(e){return this.getBasePrice()[e]}}class oc extends sc{constructor(){super(Id.Free)}}class ic extends sc{constructor(e){super(e),this._planTier=e}get planTier(){return this._planTier}}class rc extends ic{constructor(){super(Id.Basic)}}class lc extends ic{constructor(){super(Id.Pro)}}class dc extends ic{constructor(){super(Id.Business)}}class cc extends ic{constructor(){super(Id.Enterprise)}}class uc extends ic{constructor(){super(Id.Edu)}}class pc extends ic{constructor(){super(Id.Team)}}var mc=(e=>(e.AIHooks="AI Hooks",e.Title="Title Toggle",e.AutoEmoji="Auto Emoji Toggle",e.SpeakerFocus="Speaker Focus Toggle",e.AspectRatio="Aspect Ratio Change",e.SubtitlePreset="Subtitle Preset Change",e.Waveform="Waveform Change",e.HideHighlight="Hide Highlight",e.ShowHighlight="Show Highlight",e))(mc||{});function gc(e){var t;if(!e)return;return null==(t=nc(e))?void 0:t.name}const hc={"Current Plan":gc,"Purchased Plan":gc,"Usage Category":function(e){return Vd[e].name},"Teleprompter Text":(vc=200,e=>e.slice(0,vc))};var vc;const fc=e=>e?e.status:"unknown",bc=e=>e&&e.plan&&e.plan.interval?e.plan.interval:xd.Month,yc=e=>!!e&&"past_due"===e.status,wc=e=>!!e&&"active"===e.status,_c=e=>e?{status:fc(e),interval:bc(e),isPastDue:yc(e),isActive:wc(e),isCancelled:!!e.cancel_at_period_end,numPaidSeats:e.quantity,dateEnd:s(1e3*e.current_period_end).format("MMMM D, YYYY")}:{status:"unknown",interval:xd.None,isPastDue:!1,isActive:!1,isCancelled:!1,numPaidSeats:0,dateEnd:void 0},Cc=e=>{const{interval:t}=_c(e);return"month"===t},Sc=e=>{const{cancel_at_period_end:t}=e;if(Cc(e))return!!t;return tc(new Date(e.current_period_end),new Date)<30},xc=({interval:e,capitalize:t=!0})=>{switch(e){case xd.Month:return t?"Monthly":"monthly";case xd.Year:return t?"Annually":"annually";case xd.None:default:return t?"Never":"never"}};var Ic=(e=>(e.Email="email",e.InApp="inApp",e))(Ic||{}),Ac=(e=>(e.Export="export",e.Invite="invite",e.Comment="comment",e.Request="request",e.Scheduled="scheduled",e.Joined="joined",e.Welcome="welcome",e))(Ac||{}),kc=(e=>(e.unsent="unsent",e.sent="sent",e.read="read",e))(kc||{}),Tc=(e=>(e.project="project",e.folder="folder",e.team="team",e))(Tc||{}),Ec=(e=>(e.Read="read:subscription",e.Update="update:subscription",e))(Ec||{}),Lc=(e=>(e.Read="read:teamMember",e.Create="create:teamMember",e.Update="update:teamMember",e.Delete="delete:teamMember",e))(Lc||{}),jc=(e=>(e.Read="read:workspaceSettings",e.Update="update:workspaceSettings",e.Delete="delete:workspaceSettings",e))(jc||{});const Rc={[Ad.Admin]:new Set(["read:subscription","update:subscription","read:teamMember","create:teamMember","update:teamMember","delete:teamMember","read:workspaceSettings","update:workspaceSettings","delete:workspaceSettings","read:brandControls","update:brandControls","read:project","create:project","update:project","delete:project","read:folder","create:folder","update:folder","delete:folder"]),[Ad.Editor]:new Set(["read:teamMember","read:workspaceSettings","read:brandControls","read:project","create:project","update:project","delete:project","read:folder","create:folder","update:folder","delete:folder"])};var Nc=(e=>(e.Audio="audio",e.Image="image",e.Shape="shape",e.Text="text",e.Video="video",e.Placeholder="placeholder",e.Persona="persona",e))(Nc||{}),Mc=(e=>(e.None="none",e.Drop="drop",e.FlickerInGlow="flicker-in-glow",e.FocusIn="focus-in",e.HueRotate="hue-rotate",e.PopInBounce="pop-in-bounce",e.ProgressBar="progress-bar",e.Reveal="reveal",e.SlideUp="slide-up",e.Vibrate="vibrate",e.WipeRectangle="wipe-rectangle",e.MovingZoom="moving-zoom",e.BlurIn="blur-in",e.BlurOut="blur-out",e.FadeIn="fade-in",e.FadeOut="fade-out",e.HideIn="hide-in",e.HideOut="hide-out",e.MagicFade="magic-fade",e.MagicFlip="magic-flip",e.MagicPop="magic-pop",e.MagicWBW="magic-wbw",e))(Mc||{}),Pc=(e=>(e.CrossDissolve="cross-dissolve",e.CrossBlur="cross-blur",e))(Pc||{});const Fc=new Set(["startTime","endTime","duration","videoDelay","playbackRate","timelineRow"]);var Dc=(e=>(e.SpeakerFocusSettings="Speaker Focus Settings",e.SpeakerSelection="Speaker Selection",e.ApplySpeakerFocus="Apply Speaker Focus",e))(Dc||{});function Oc(e){return"audio"===e.type&&"tetheredWaveformLayerId"in e}function Uc(e){var t;return!!(null==(t=null==e?void 0:e.pendingAIJobs)?void 0:t.length)}function Bc(e){return"placeholder"===e.type}const Wc=e=>"GLTransition"===e.type;var Vc=(e=>(e.CREATE_NEW_PROJECT="Create new projct",e.GO_TO_PROJECT="Go to project",e.TRY_A_SAMPLE="Try a sample",e.DISMISS="Dismiss",e))(Vc||{});const Hc={1:"Smallest File Size",2:"Smaller File Size",3:"Standard",4:"Better Picture Quality",5:"Best Picture Quality"},zc={"Smallest File Size":1,"Smaller File Size":2,Standard:3,"Better Picture Quality":4,"Best Picture Quality":5};var Gc=(e=>(e.transcriptTabTrim="transcriptTabTrim",e.customBlueprints="customBlueprints",e.repurposeTutorialCenter="repurposeTutorialCenter",e.dubbingUsageWarning="dubbingUsageWarning",e.newSubtitleStyles="newSubtitleStyles",e.newTextPresetStyles="newTextPresetStyles",e))(Gc||{}),Yc=(e=>(e.individualPositionHint="individualPositionHint",e.customBRoll="customBRoll",e.aiRegenerate="aiRegenerate",e))(Yc||{}),Kc=(e=>(e.School="School",e.Work="Work",e.PersonalProjects="Personal Projects",e))(Kc||{}),Xc=(e=>(e.id="i",e.start="s",e.end="e",e.words="w",e.position="p",e))(Xc||{}),Zc=(e=>(e.start="s",e.end="e",e.text="t",e.speaker="k",e.inlineStyles="y",e))(Zc||{});function qc(e){return"s"in e&&void 0!==e.s}function Jc(e){const[t]=e;return!!t&&qc(t)}function $c(e){const[t]=e.w;return!!t&&qc(t)}var Qc=(e=>(e.PEXELS="PEXELS",e.PIXABAY="PIXABAY",e.SEMANTIC_SEARCH="SEMANTIC_SEARCH",e))(Qc||{});const eu=["dall-e","giphy","pexels-images","pixabay-images","bing-images","article","custom-images"],tu=e=>eu.includes(e);function au(e){return"image"===e.currentSearchResult.type}function nu(e){return"video"===e.currentSearchResult.type}function su(e){return"face"===e||"person"===e}var ou=(e=>(e.ObjectTrackingBenchmark="object_tracking_benchmark",e.ObjectTracking="object_tracking",e.ObjectTrackingV2="object_tracking_v2",e.ImageObjectDetection="image_object_detection",e))(ou||{});const iu=e=>ru(e)&&void 0!==e.groups,ru=e=>"object_tracking_v2"===e.job_type,lu=e=>"object_tracking"===e.job_type,du=e=>"object_tracking_benchmark"===e.job_type;var cu=(e=>(e[e.AlwaysInvitationOnly=-1]="AlwaysInvitationOnly",e[e.InvitationOnly=0]="InvitationOnly",e[e.RequestToJoin=1]="RequestToJoin",e[e.AnyoneCanJoin=2]="AnyoneCanJoin",e))(cu||{}),uu=(e=>(e.COMPLETED="completed",e.FAILED="failed",e.RUNNING="running",e))(uu||{}),pu=(e=>(e.SAME="SAME",e.PRIVATE_TO_SHARED="PRIVATE_TO_SHARED",e.SHARED_TO_PRIVATE="SHARED_TO_PRIVATE",e.CHANGE_TEAMS="CHANGE_TEAMS",e))(pu||{}),mu=(e=>(e.COPY="Copy",e.MOVE="Move",e))(mu||{}),gu=(e=>(e.BRANDKIT_TEMPLATE="brandkit_template",e.FOLDER="folder",e.VIDEO="video",e.WORKFLOW="workflow",e.WORKFLOW_VIDEO="workflow_video",e.TOOL="tool",e))(gu||{}),hu=(e=>(e.GOOGLE="Google",e.AZURE="Azure AD",e))(hu||{}),vu=(e=>(e.PENDING="pending",e.RUNNING="running",e.COMPLETE="complete",e.FAILED="failed",e.CANCELED="canceled",e))(vu||{});function fu(e){return"complete"===e.status&&!e.isSample}function bu(e){return fu(e)&&e.highlightsAreGenerating}function yu(e){return"running"===e.status||"pending"===e.status}function wu(e){return"failed"===e.status}function _u(e){return"complete"===e.status&&!!e.isSample}var Cu=(e=>(e.POSITION="position",e.ROTATION="rotation",e.ZOOM="zoom",e.COLOR="color",e.VOLUME="volume",e.OPACITY="opacity",e.BRIGHTNESS="brightness",e.CONTRAST="contrast",e.SATURATION="saturate",e.BLUR="blurPercent",e.BACKGROUND="background",e))(Cu||{});const Su=new Set(Object.values(Cu));function xu(e){return Su.has(e)}var Iu=(e=>(e.Studio="studio",e.Export="export",e))(Iu||{}),Au=(e=>(e.PreExtractValidation="Pre-Extraction Validation",e.Extraction="Extraction",e.ExtractionValidation="Extraction Validation",e.AssetCreation="Asset Creation",e.LayerCreation="Layer Creation",e.HandleFinish="Handle Finish",e.Finish="Finish",e))(Au||{}),ku=(e=>(e.Google="google",e.Argos="argos",e.Deepl="deepl",e.DeepLNextGen="deepl:next-gen",e.ChatGPT="chatgpt",e))(ku||{}),Tu=(e=>(e.repurposeStudio="RepurposeStudio",e.autocut="Autocut",e.speakerFocus="SpeakerFocus",e.serverFFprobe="ServerFFprobe",e.autoRoughCut="AutoRoughCut",e.broll="BRoll",e.dubbing="Dubbing",e.lipSync="LipSync",e.persona="Persona",e.articleToVideo="ArticleToVideo",e.scriptChat="ScriptChat",e.mediaSearch="MediaSearch",e))(Tu||{}),Eu=(e=>(e.FinalVideoPage="Final Video Page",e.ExportTray="Export Tray",e))(Eu||{}),Lu=(e=>(e.Image="image",e.Text="text",e))(Lu||{}),ju=(e=>(e.OFF="OFF",e.ON="ON",e.ADMIN_ONLY="ADMIN_ONLY",e.LOCATION_BASED="LOCATION_BASED",e.BETA="BETA",e))(ju||{}),Ru=(e=>(e.USE_CF_DUBBING_TRANSLATION="USE_CF_DUBBING_TRANSLATION",e.BASIC_PLAN="BASIC_PLAN",e.SERVICE_INSTABILITY="SERVICE_INSTABILITY",e.NETFLIX_WRAPPED_USE_REELGOOD="NETFLIX_WRAPPED_USE_REELGOOD",e.BYPASS_CAPTCHA="BYPASS_CAPTCHA",e.DEEPGRAM_ENABLED="DEEPGRAM_ENABLED",e.DEEPGRAM_ENABLED_ENGLISH="DEEPGRAM_ENABLED_ENGLISH",e.REPURPOSE_FEEDBACK="REPURPOSE_FEEDBACK",e.SPLIT_VOCALS="SPLIT_VOCALS",e.PASTED_LINK_INSTABILITY="PASTED_LINK_INSTABILITY",e.LIP_SYNC_1_8_MODEL="LIP_SYNC_1_8_MODEL",e.LIP_SYNC_1_9_MODEL="LIP_SYNC_1_9_MODEL",e.BROLL_IN_TRANSCRIPT="BROLL_IN_TRANSCRIPT",e.OPTIMIZATION_PREVIEW_MAIN="OPTIMIZATION_PREVIEW_MAIN",e.OPTIMIZATION_PREVIEW_HIGH="OPTIMIZATION_PREVIEW_HIGH",e.PERPLEXITY="PERPLEXITY",e.EMBED_IN_EXPORT_TRAY="EMBED_IN_EXPORT_TRAY",e.HLS="HLS",e.BING_IMAGES_PUPPETEER="BING_IMAGES_PUPPETEER",e.CUSTOM_BROLL_INPUT="CUSTOM_BROLL_INPUT",e.BROLL_BING_IMAGES_PUPPETEER="BROLL_BING_IMAGES_PUPPETEER",e.PRIVATE_REPLICATE_DEPLOYMENT_FOR_SEMANTIC_SEARCH="PRIVATE_REPLICATE_DEPLOYMENT_FOR_SEMANTIC_SEARCH",e.TRANSLATE_TAB="TRANSLATE_TAB",e.DUBBING_VIDEO_TRIMMING="DUBBING_VIDEO_TRIMMING",e.SPLIT_VOCALS_REPLICATE="SPLIT_VOCALS_REPLICATE",e.SPLIT_VOCALS_REPLICATE_FREE_TEAMS="SPLIT_VOCALS_REPLICATE_FREE_TEAMS",e.PIKA_SCENE_GENERATION="PIKA_SCENE_GENERATION",e.SCENE_GENERATOR_OUTAGE="SCENE_GENERATOR_OUTAGE",e.PROVIDER_DISABLED_OPENAI="PROVIDER_DISABLED_OPENAI",e.PROVIDER_DISABLED_ANTHROPIC="PROVIDER_DISABLED_ANTHROPIC",e.HAS_TRANSLATE_OVERLAY_ACCESS="HAS_TRANSLATE_OVERLAY_ACCESS",e.BROLL_YOUTUBE_SEARCH="BROLL_YOUTUBE_SEARCH",e.PARTIAL_DUBBING="PARTIAL_DUBBING",e.UPLOAD_TO_FACEBOOK="UPLOAD_TO_FACEBOOK",e))(Ru||{});const Nu=(e,t)=>{const{rollout:a,_id:n}=t,{percentage:s}=a||{};if(!s)return!1;const o=function(e){if(!e)return null;let t=0;for(let a=0;a<e.length;a+=1)t=e.charCodeAt(a)+((t<<5)-t);return t}(e+n)||0;return Math.abs(o)%1e4<Math.floor(1e4*s/100)};function Mu(){if(!globalThis.globalStore)throw new Error("No Global Store Available");const e=globalThis.globalStore,t=e.dispatch,a=e.getState();return{dispatch:t,history:Ml,state:a,store:e,subscribe:e.subscribe}}const Pu={};window.location.hostname.endsWith("kapwing.com")||(Pu.strictSelectors=!0);const Fu=(e,t)=>Object.is(e,t),Du=(e,t=Fu)=>{const[,a]=i.useReducer((e=>e+1),0),n=i.useContext(r.ReactReduxContext),s=i.useRef(e),o=i.useRef(void 0),l=i.useRef(void 0),d=i.useRef(!1),c=i.useRef(void 0),u=i.useRef(t);u.current=t,c.current&&(console.error("Selectors are meant to return the same value for the same store. this selector is broken. please fix",e),c.current=!1);const p=i.useCallback(((e,t)=>{const n=t(e);if(!u.current(l.current,n)&&(l.current=n,d.current||(a(),d.current=!0),Pu.strictSelectors&&void 0===c.current)){const a=t(e);u.current(a,l.current)||(c.current=!0)}}),[]),m=n.store.getState();return null==o.current?(o.current=m,l.current=e(o.current)):o.current===m&&e===s.current||(o.current=m,p(m,e)),s.current=e,i.useLayoutEffect((()=>{d.current=!1})),i.useLayoutEffect((()=>n.store.subscribe((()=>{const e=n.store.getState();Object.is(e,o.current)||(o.current=e,p(e,s.current))}))),[p]),l.current},Ou=r.shallowEqual,Uu=r.batch,Bu=r.useDispatch;let Wu=!1;const Vu=(e,t)=>{const a=e.playbackRate||1;let n=0;if(e.startTime||e.endTime){const{endTime:a,duration:s,startTime:o=0}=e,i=a??s??t??3;n=Math.min(i,t??i)-o}else e.duration&&(n=t||e.duration,t&&Math.abs(e.duration-t)>.5&&!Wu&&(l(new Error("Preview duration very different from original"),{extra:{layerId:e.id},level:"warning"}),Wu=!0));return n/a};function Hu(e){for(const t in e)delete e[t]}const zu=o(d),Gu=o(d,Ou),Yu=o(d,c.isEqual),Ku=e=>e.featureFlags.flags,Xu=()=>Du(Ku),Zu=e=>{return t=Mu().state,a=e,qu(t)[a];var t,a},qu=u((e=>e.featureFlags.flags),(e=>e.currentUser.user._id),(e=>e.teams.selectedTeamId),((e,t,a)=>((e,t,a)=>{const n={},s={};for(const r of Object.values(e)){if(!r.userCanAccess||!r.rollout){n[r.name]=null==r?void 0:r.userCanAccess;continue}const{basedOn:e}=r.rollout,i="userId"===e?t:a;if(!i)continue;const l=Nu(i,r);s[(o=r.name,`${o}_experiment_active`)]=l,n[r.name]=l}var o;const i=new amplitude.Identify;return Object.entries(s).forEach((([e,t])=>{i.set(e,t)})),amplitude.identify(i),n})(e,t,a))),Ju=e=>Du(qu)[e],$u=()=>{const e=qu(Mu().state);return e.OPTIMIZATION_PREVIEW_HIGH?"high":e.OPTIMIZATION_PREVIEW_MAIN?"main":"control"},Qu="A00000000000000000000000001";function ep(e){return e.type===Nc.Audio}function tp(e){return e.type===Nc.Image}function ap(e){return e.type===Nc.Shape&&"progressBar"===e.shapeType}function np(e){return e.type===Nc.Video}function sp(e){return e.type===Nc.Text}function op(e){return e.type===Nc.Shape}function ip(e){return tp(e)||ep(e)||np(e)}function rp(e){return tp(e)||op(e)||sp(e)||np(e)}function lp(e){return e.type===Nc.Placeholder}function dp(e){return!!(e.dubbingJobId||e.dubbedAssetId||e.dubbedVideoAssetId||e.dubbingWorkflowId)}function cp(e){return!(!e.lipSyncJobId&&!e.lipSyncWorkflowId)}function up(e){return e.type===Nc.Persona}const pp=new Set([Nc.Video,Nc.Audio,Nc.Persona]);function mp(e){return t=e.type,!pp.has(t);var t}function gp(e){const t=[];return e.forEach((e=>{(np(e)||ep(e))&&t.push(e)})),t}function hp(e,t){if(e){const a=e[t];null!=a&&"number"!=typeof a&&(e[t]=Number(a))}}function vp(e){return fp(e)}function fp(e){const t=e.duration??3;return{startTime:e.startTime??0,endTime:e.endTime??t,videoDelay:e.videoDelay??0,duration:t,playbackRate:e.playbackRate??1}}const bp=(e,t=0,a=!1)=>{if(!e||0===Object.keys(e).length)return{start:0,end:0};hp(e,"startTime"),hp(e,"endTime"),hp(e,"duration"),hp(e,"videoDelay");const n=e.type===Nc.Video||e.type===Nc.Audio||e.type===Nc.Persona?e.videoDelay||0:e.startTime||0;let s=wp(e)||t;e.loopMode&&"duration"===e.loopMode&&t&&!a&&(s=t);return{start:n,end:s+n}},yp=e=>{if("isTrimmedOverride"in e)return e.isTrimmedOverride;const{startTime:t,endTime:a,duration:n}=e;if("number"!=typeof t||"number"!=typeof a)return!1;const s="number"==typeof n?n:Number.MAX_VALUE;return 0!==t||a<s},wp=e=>{const t=e.playbackRate||1;let a=0;return yp(e)?a=e.endTime-e.startTime:e.duration&&(a=e.duration),a/t},_p=e=>e&&0!==Object.keys(e).length?(hp(e,"globalAlpha"),e.globalAlpha):0,Cp=(e,t,a)=>{const n=wp(e);hp(e,"videoDelay"),hp(e,"startTime"),hp(e,"playbackRate");const{videoDelay:s=0,startTime:o=0,playbackRate:i=1}=e;let r=parseFloat(t)||0;return r-=a,r-=s,r%=n,r*=i,r+=o,(!r||r<0)&&(r=0),r};function Sp(e,t){return Math.floor(Math.ceil(100*e*t.maxFramerate)/100)}function xp(e,t,a){const{start:n,end:s}=bp(e,a.duration),o=Sp(n,a),i=Sp(s,a);return 0===n&&0===s&&0===a.duration||o<=t&&t<i}function Ip(e,t,a){const{start:n,end:s}=bp(e,a.duration);return n<=t&&t<s}const Ap=-1,kp=1,Tp=(e,t)=>e<t?kp:e>t?Ap:0;function Ep(e){const t=new Map;for(const a of Object.values(e.allLayers.byId)){if(!ep(a)&&!np(a))continue;const{asset_id:e}=a;if(!e)continue;const n=t.get(e)||0;t.set(e,n+1)}return Array.from(t.values()).reduce(((e,t)=>e+(t-1)),0)}var Lp=(e=>(e.Intro="intro",e.Upload="upload",e.Voice="voice",e.Consent="consent",e))(Lp||{});const jp=p((e=>{const{id:t,video_asset_id:a,audio_asset_id:n,...s}=e;return{...s,type:Nc.Video,isMuted:!0,volume:0,asset_id:a,id:`${t}-video`}}));function Rp(e){return e.type===Nc.Video&&("isPersona"in e&&!!e.id.endsWith("-video"))}const Np=p((function(e){const{id:t,video_asset_id:a,audio_asset_id:n,animation:s,...o}=e;return{...o,type:Nc.Audio,id:`${t}-audio`,asset_id:n}}));function Mp(e){return Rp(e)||function(e){return e.type===Nc.Audio&&"isPersona"in e&&!!e.id.endsWith("-audio")}(e)}function Pp(e){const t=new Map;return e.forEach((e=>{t.set(`${e.video_asset_id}-${e.audio_asset_id}`,e)})),e.reduce(((e,t)=>{const a=wp(t);return e+(t.duration??a)}),0)/60}const Fp=m({initialState:{assetIdToMediaCacheId:{},mediaCacheIdToAssetId:{},mediaCacheIdToUploadId:{},uploadIdToMediaCacheId:{}},name:"mediaCache",reducers:{linkAssetToMediaCache:(e,t)=>{e.assetIdToMediaCacheId[t.payload.assetId]=t.payload.mediaCacheId,e.mediaCacheIdToAssetId[t.payload.mediaCacheId]=t.payload.assetId},bulkLinkAssetToMediaCache:(e,t)=>{t.payload.forEach((t=>{e.assetIdToMediaCacheId[t.assetId]=t.mediaCacheId,e.mediaCacheIdToAssetId[t.mediaCacheId]=t.assetId}))},linkUploadToMediaCache:(e,t)=>{e.uploadIdToMediaCacheId[t.payload.uploadId]=t.payload.mediaCacheId,e.mediaCacheIdToUploadId[t.payload.mediaCacheId]=t.payload.uploadId},bulkLinkUploadToMediaCache:(e,t)=>{t.payload.forEach((t=>{e.uploadIdToMediaCacheId[t.uploadId]=t.mediaCacheId,e.mediaCacheIdToUploadId[t.mediaCacheId]=t.uploadId}))}}}),{linkAssetToMediaCache:Dp,bulkLinkAssetToMediaCache:Op,linkUploadToMediaCache:Up,bulkLinkUploadToMediaCache:Bp}=Fp.actions,Wp=Fp.actions,Vp=(e,t=Mu().state.mediaCache)=>{const{dispatch:a}=Mu(),n=Hp(e,{mediaCacheState:t});if(n)return n;const s=g();let o=!1;const i=e.asset_id;return i&&(a(Dp({assetId:i,mediaCacheId:s})),o=!0),e.uploadId&&(a(Up({mediaCacheId:s,uploadId:e.uploadId})),o=!0),o||console.error("Could not link media cache id to anything",e),s};function Hp(e,t={}){const{assetIdToMediaCacheId:a,uploadIdToMediaCacheId:n}=t.mediaCacheState??Mu().state.mediaCache;if(up(e)){const a=e;if(!t.personaLayerHandling)return a.id,Hp({asset_id:a.audio_asset_id});if("audio"===t.personaLayerHandling)return Hp({asset_id:a.audio_asset_id});if("video"===t.personaLayerHandling)return Hp({asset_id:a.video_asset_id})}if(e.asset_id){const t=a[e.asset_id];if(t)return t}if(e.uploadId){const t=n[e.uploadId];if(t)return t}return null}const zp={kamalaHarrisInterview:{isStockPersona:!0,assetId:"6705bf5a346d473932a661aa",name:"Kamala Harris Interview",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/6705bf1e346d473932a66178/final_6705bf1e346d473932a66176_791246.mp4",elevenLabsVoiceId:"3IkUqamUewiOnk0b0zHm",personaId:"kamalaHarrisInterview"},joeBidenAddress:{isStockPersona:!0,assetId:"6705bf5a346d473932a661a9",name:"Joe Biden Address",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/6705bf1e346d473932a66179/final_6705bf1e346d473932a66177_96977.mp4",elevenLabsVoiceId:"YZbJ9lkvuliWWPLozpbR",personaId:"joeBidenAddress"},trumpAtARally:{isStockPersona:!0,assetId:"6705bfd2346d473932a66213",name:"Donald Trump at a rally",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/6705bf96346d473932a661e2/final_6705bf96346d473932a661e0_290630.mp4",elevenLabsVoiceId:"Evq9cEpzxbDm0JyjHWsi",personaId:"trumpAtARally"},taylorSwiftGraduationSpeech:{isStockPersona:!0,assetId:"6705c00e346d473932a66215",name:"Taylor Swift Graduation Speech",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/6705bfd2346d473932a66211/final_6705bfd2346d473932a6620f_944707.mp4",elevenLabsVoiceId:"XKpxgmsuc3qSP2yzuCGz",personaId:"taylorSwiftGraduationSpeech"},markZuckerbergAtCommencement:{isStockPersona:!0,assetId:"6705c00e346d473932a66216",name:"Mark Zuckerberg at Commencement",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/6705bfd2346d473932a66212/final_6705bfd2346d473932a66210_960257.mp4",elevenLabsVoiceId:"EUyhRb8EXUUIVZ812xk2",personaId:"markZuckerbergAtCommencement"},markZuckerbergKeynote:{isStockPersona:!0,assetId:"66ce2fc8fee3be1501e1e2a6",name:"Mark Zuckerberg Keynote",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/66ce2f8cd5cf99f3af2b952f/final_66ce2f8cd5cf99f3af2b952e_62095.mp4",elevenLabsVoiceId:"XwDsKzoj1QItckgAq3BR",personaId:"markZuckerbergKeynote"},dwayneTheRockJohnson:{isStockPersona:!0,assetId:"66ce2c08b56abc116f4cdfd0",name:"Dwayne the Rock Johnson",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/66ce2bccf7e2c7e518d3e50d/final_66ce2bccf7e2c7e518d3e50c_591841.mp4",elevenLabsVoiceId:"voRuFbIUUtphpNgsJNU3",personaId:"dwayneTheRockJohnson"},willSmithOnARedBackground:{isStockPersona:!0,assetId:"66ce51511e82c060a13863ba",name:"Will Smith",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/66ce5115299e5a41513d4a0b/final_66ce5115299e5a41513d4a0a_941880.mp4",elevenLabsVoiceId:"KtjC11HSLW52OZgXUowe",personaId:"willSmithOnARedBackground"},arnoldOnAPodcast:{isStockPersona:!0,assetId:"66ce56ec58ff90dff0962852",name:"Arnold on a podcast",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/66ce56b00131107da7624958/final_66ce56b00131107da7624956_379859.mp4",elevenLabsVoiceId:"IV9AscKoSn3UirmqtSx4",personaId:"arnoldOnAPodcast"},tomCruiseAtThe34thAnnualProducersGuildAwards:{isStockPersona:!0,assetId:"66ce2794f7e2c7e518d3e4fe",name:"Tom Cruise at the 34th Annual Producers Guild Awards",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/66ce2758b56abc116f4cdfc9/final_66ce2758b56abc116f4cdfc8_715377.mp4",elevenLabsVoiceId:"4zCBYjz5m7YkEf9QJLdI",personaId:"tomCruiseAtThe34thAnnualProducersGuildAwards"},elonMuskInABlackSuit:{isStockPersona:!0,assetId:"66be66383ec4992516ab9c31",name:"Elon Musk in a black suit",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/66be65fc87651cd653cf06a1/final_66be65fc87651cd653cf06a0_231663.mp4",elevenLabsVoiceId:"DJk6yDuzsvj30qSbBEep",personaId:"elonMuskInABlackSuit"},trump:{isStockPersona:!0,name:"President Trump at the Debate",originalVideo:"https://tessdesign.blob.core.windows.net/personas/muted/16.mp4",elevenLabsVoiceId:"kWnsJtbFRRZPgsYiZlrw",assetId:"66994c762aaf19eaba50f5ae",personaId:"trump"},elonMuskAtTheTeslaFactory:{isStockPersona:!0,assetId:"66be64593376d0963f4296b1",name:"Elon Musk at the Tesla Factory",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/66be63e04494fa0af17fa88b/final_66be63e04494fa0af17fa889_508875.mp4",elevenLabsVoiceId:"DJk6yDuzsvj30qSbBEep",personaId:"elonMuskAtTheTeslaFactory"},taylorSwiftOnTheTonightShow:{isStockPersona:!0,assetId:"66ce24c46af84ab7c9b62a48",name:"Taylor Swift on The Tonight Show",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/66ce2489b56abc116f4cdfb5/final_66ce2489b56abc116f4cdfb4_101701.mp4",elevenLabsVoiceId:"7ia7wNDcleVu5kfLQGF5",personaId:"taylorSwiftOnTheTonightShow"}},Gp={ericAtTheOffice:{isStockPersona:!0,assetId:"66c68623fd037cd8dd49338b",name:"Eric at the office",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/66c685e7fd037cd8dd49338a/final_66c685e7fd037cd8dd493389_42613.mp4",elevenLabsVoiceId:"6j3X9ZkVALJPISAcp0pM",personaId:"ericAtTheOffice"},daveInARedShirt:{isStockPersona:!0,assetId:"66c7d4a3c006315252d631fe",name:"Dave in a red shirt",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/66c7d467c006315252d631fd/final_66c7d467c006315252d631fc_914296.mp4",elevenLabsVoiceId:"ZFmPb3cOZ8sTxzZeazmT",personaId:"daveInARedShirt"},freyaInARedSuit:{isStockPersona:!0,assetId:"67048979c726e63da43cb95e",name:"Freya in a red suit",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/6704893dea24e9f4a16fddb6/final_6704893dea24e9f4a16fddb5_216700.mp4",elevenLabsVoiceId:"2zRM7PkgwBPiau2jvVXc",personaId:"freyaInARedSuit"},brianAtADesk:{isStockPersona:!0,assetId:"670489f1c726e63da43cb994",name:"Brian at a desk",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/67048979c726e63da43cb95d/final_67048979c726e63da43cb95c_617426.mp4",elevenLabsVoiceId:"wAGzRVkxKEs8La0lmdrE",personaId:"brianAtADesk"},paulInABrownSuit:{isStockPersona:!0,assetId:"67048a2dc726e63da43cb998",name:"Paul in a brown suit",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/670489b5ea24e9f4a16fddc6/final_670489b5ea24e9f4a16fddc4_538226.mp4",elevenLabsVoiceId:"kdVjFjOXaqExaDvXZECX",personaId:"paulInABrownSuit"},mimiAtADesk:{isStockPersona:!0,assetId:"67048a2dea24e9f4a16fddca",name:"Mimi at a desk",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/670489b5ea24e9f4a16fddc2/final_670489b5ea24e9f4a16fddc0_953105.mp4",elevenLabsVoiceId:"lkVAP8k5tC0Wr1dYyQZH",personaId:"mimiAtADesk"},matildaInAGreenSweater:{isStockPersona:!0,assetId:"6705856dea24e9f4a16fde43",name:"Matilda in a green sweater",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/670584f5c726e63da43cb9cc/final_670584f5c726e63da43cb9cb_876566.mp4",elevenLabsVoiceId:"kPzsL2i3teMYv0FxEYQ6",personaId:"matildaInAGreenSweater"},graceInABlackHoodie:{isStockPersona:!0,assetId:"6705856dea24e9f4a16fde44",name:"Grace in a black hoodie",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/670584f5ea24e9f4a16fde3a/final_670584f5ea24e9f4a16fde39_880131.mp4",elevenLabsVoiceId:"xctasy8XvGp2cVO9HL9k",personaId:"graceInABlackHoodie"},timInAPlaidShirt:{isStockPersona:!0,assetId:"6705856dc726e63da43cba4a",name:"Tim in a plaid shirt",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/67058531ea24e9f4a16fde3f/final_67058531ea24e9f4a16fde3e_978777.mp4",elevenLabsVoiceId:"rU18Fk3uSDhmg5Xh41o4",personaId:"timInAPlaidShirt"},liamInADenimJacket:{isStockPersona:!0,assetId:"670585a9c726e63da43cba6e",name:"Liam in a denim jacket",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/6705856dc726e63da43cba48/final_6705856dc726e63da43cba47_583117.mp4",elevenLabsVoiceId:"TWUKKXAylkYxxlPe4gx0",personaId:"liamInADenimJacket"},jennyInABlueTurtleneck:{isStockPersona:!0,assetId:"670585e5c726e63da43cba76",name:"Jenny in a blue turtleneck",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/670585a9ea24e9f4a16fde5f/final_670585a9ea24e9f4a16fde5e_563437.mp4",elevenLabsVoiceId:"lqydY2xVUkg9cEIFmFMU",personaId:"jennyInABlueTurtleneck"},shreyaInABlackSuit:{isStockPersona:!0,assetId:"67058621c726e63da43cbaad",name:"Shreya in a black suit",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/670585a9c726e63da43cba72/final_670585a9c726e63da43cba71_143114.mp4",elevenLabsVoiceId:"jsCqWAovK2LkecY7zXl4",personaId:"shreyaInABlackSuit"},lindaInABlouse:{isStockPersona:!0,assetId:"6705865dc726e63da43cbaf1",name:"Linda in a blouse",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/67058621ea24e9f4a16fde66/final_67058621ea24e9f4a16fde65_720387.mp4",elevenLabsVoiceId:"oHwIxN4uGlD1D3IKyWJZ",personaId:"lindaInABlouse"},angeliaInABrownSweater:{isStockPersona:!0,assetId:"67058699c726e63da43cbb2e",name:"Angela in a brown sweater",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/6705865dc726e63da43cbaf3/final_6705865dc726e63da43cbaf2_13580.mp4",elevenLabsVoiceId:"UR0IYbz7QEJw9e8jnlUJ",personaId:"angeliaInABrownSweater"},aidenInAPlaidShirt:{isStockPersona:!0,assetId:"670586d5ea24e9f4a16fde73",name:"Aiden in a plaid shirt",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/67058699ea24e9f4a16fde70/final_67058699ea24e9f4a16fde6f_560946.mp4",elevenLabsVoiceId:"iP95p4xoKVk53GoZ742B",personaId:"aidenInAPlaidShirt"},janiceInAHeadset:{isStockPersona:!0,assetId:"670586d5c726e63da43cbb74",name:"Janice in a headset",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/67058699c726e63da43cbb2f/final_67058699c726e63da43cbb2d_639189.mp4",elevenLabsVoiceId:"9RpXYdocFG8u7K3pqNxi",personaId:"janiceInAHeadset"},sarahOnACouch:{isStockPersona:!0,assetId:"6705883dc726e63da43cbc3f",name:"Sarah on a couch",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/6705874eea24e9f4a16fde86/final_6705874eea24e9f4a16fde85_10214.mp4",elevenLabsVoiceId:"09AoN6tYyW3VSTQqCo7C",personaId:"sarahOnACouch"},rachelInABlueShirt:{isStockPersona:!0,assetId:"67058801c726e63da43cbbf5",name:"Rachel in a blue shirt",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/6705874ec726e63da43cbbac/final_6705874ec726e63da43cbbab_157749.mp4",elevenLabsVoiceId:"tnSpp4vdxKPjI9w0GnoV",personaId:"rachelInABlueShirt"},joshuaInABlackSweater:{isStockPersona:!0,assetId:"6705883dea24e9f4a16fdeea",name:"Joshua in a black sweater",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/6705871cc726e63da43cbba7/final_67058712c726e63da43cbba4_852013.mp4",elevenLabsVoiceId:"6OzrBCQf8cjERkYgzSg8",personaId:"joshuaInABlackSweater"},kaylinOnThePorch:{isStockPersona:!0,assetId:"66ce47f1b56abc116f4ce10b",name:"Kaylin on the porch",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/66ce47b56af84ab7c9b62bc1/final_66ce47b56af84ab7c9b62bc0_954754.mp4",elevenLabsVoiceId:"I6ENXrRz4VajBf70wKZd",personaId:"kaylinOnThePorch"},mattInALivingRoom:{isStockPersona:!0,assetId:"66ce4869f5ba7652f7461378",name:"Matt in a living room",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/66ce482df5ba7652f7461377/final_66ce482df5ba7652f7461376_621421.mp4",elevenLabsVoiceId:"IJ7fHSvb3m8iFx2jRosW",personaId:"mattInALivingRoom"},amyWearingGlasses:{isStockPersona:!0,assetId:"66ce0ebceca6f37c72bf9081",name:"Amy wearing glasses",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/66ce0e81b56abc116f4cdf54/final_66ce0e81b56abc116f4cdf53_651181.mp4",elevenLabsVoiceId:"Xb7hH8MSUJpSbSDYk0k2",personaId:"amyWearingGlasses"},alexWithAMicrophone:{isStockPersona:!0,assetId:"66cdfda0d5cf99f3af2b94ef",name:"Alex with a microphone",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/66cdfd64fee3be1501e1e257/final_66cdfd64fee3be1501e1e256_491448.mp4",elevenLabsVoiceId:"0b3AQpME9UF20sh5jyaG",personaId:"alexWithAMicrophone"},chrisWithAMicrophone:{isStockPersona:!0,assetId:"67048901c726e63da43cb8f2",name:"Chris with a microphone",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/670488c5ea24e9f4a16fddad/final_670488c5ea24e9f4a16fddac_498478.mp4",elevenLabsVoiceId:"rU18Fk3uSDhmg5Xh41o4",personaId:"chrisWithAMicrophone"},emilyInAGraySuit:{isStockPersona:!0,assetId:"67048901ea24e9f4a16fddb1",name:"Emily in a gray suit",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/670488c5c726e63da43cb8b8/final_670488c5c726e63da43cb8b7_234676.mp4",elevenLabsVoiceId:"tnSpp4vdxKPjI9w0GnoV",personaId:"emilyInAGraySuit"},andrewInAGrayShirt:{isStockPersona:!0,assetId:"66cd12501514173365408925",name:"Andrew in a gray shirt",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/66cd1214c1cf4b20a181d518/final_66cd1214c1cf4b20a181d517_885866.mp4",elevenLabsVoiceId:"yceWUqSugmAynKcmDGPb",personaId:"andrewInAGrayShirt"},alanaInABlackTshirt:{isStockPersona:!0,assetId:"66cd12c93f7b76b60167ef73",name:"Alana in a black t-shirt",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/66cd128dc1cf4b20a181d521/final_66cd128dc1cf4b20a181d520_517266.mp4",elevenLabsVoiceId:"70qefRBcESXzkHl86Xyw",personaId:"alanaInABlackTshirt"},christinaInABlackSweater:{isStockPersona:!0,assetId:"66d201d43cda7f70bd3c998d",name:"Christina in a black sweater",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/66d20198f205f2c77f1cbca8/final_66d20198f205f2c77f1cbca5_501747.mp4",elevenLabsVoiceId:"myIiGKCsSffhiINMWAlG",personaId:"christinaInABlackSweater"},derrickInABlackTurtleneck:{isStockPersona:!0,assetId:"66c90fc022cbe36d92a75854",name:"Derrick in a black turtleneck",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/66c90f8422cbe36d92a75853/final_66c90f8422cbe36d92a75852_963276.mp4",elevenLabsVoiceId:"kqnNMxFk1QfZ8HRkrGed",personaId:"derrickInABlackTurtleneck"},johnOnTheRoof:{isStockPersona:!0,assetId:"66cd13f4c1cf4b20a181d52b",name:"John on the roof",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/66cd13b81514173365408953/final_66cd13b81514173365408952_309799.mp4",elevenLabsVoiceId:"N9OIP7L1DZfgQA7gDnGW",personaId:"johnOnTheRoof"},justinInABlueHoodie:{isStockPersona:!0,assetId:"66c908408b02e3e348ae8779",name:"Justin in a blue hoodie",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/66c904bc22cbe36d92a7582a/final_66c904bc22cbe36d92a75829_442479.mp4",elevenLabsVoiceId:"0brHOT7pZp3HX0xXoii4",personaId:"justinInABlueHoodie"},sarahInAGraySweater:{isStockPersona:!0,assetId:"66cce244b1a5aacd367704a6",name:"Sarah in a gray sweater",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/66cce208b5549731711b9853/final_66cce208b5549731711b9852_377605.mp4",elevenLabsVoiceId:"XVDo4uVSX38D7A8Lepfb",personaId:"sarahInAGraySweater"},ryanInABlueShirt:{isStockPersona:!0,assetId:"66cd0a759e3d3d0fbbd31a4f",name:"Ryan in a blue shirt",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/66cd0a399e3d3d0fbbd31a4b/final_66cd0a399e3d3d0fbbd31a4a_738989.mp4",elevenLabsVoiceId:"dP7cSrfMPCwbYb6c4zsC",personaId:"ryanInABlueShirt"},glendaInABlueShirt:{isStockPersona:!0,assetId:"66b50abe0c414b1e6c2b26a5",name:"Glenda at a desk",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/66b50a640c414b1e6c2b26a4/final_66b50a640c414b1e6c2b26a3_384655.mp4",elevenLabsVoiceId:"nR99uS9Og5EvIbCKH1yj",personaId:"glendaInABlueShirt"},davidInAWhiteShirt:{isStockPersona:!0,name:"David in a white shirt",originalVideo:"https://tessdesign.blob.core.windows.net/personas/muted/2.mp4",elevenLabsVoiceId:"cc7CUnTLFRNIIkfOaucG",assetId:"669702002ae9647736dcbff6",personaId:"davidInAWhiteShirt"},ericWearingAGreenVest:{isStockPersona:!0,assetId:"66be584bc2bec625384b2aa9",name:"Eric wearing a green vest",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/66be580fc2bec625384b2aa8/final_66be580fc2bec625384b2aa7_424598.mp4",elevenLabsVoiceId:"kcmpG2fLrEQBO2cSdyXQ",personaId:"ericWearingAGreenVest"},ericWearingABlueVest:{isStockPersona:!0,assetId:"66b68bd7416c0b098f5f3a35",name:"Eric wearing a blue vest",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/66b68b9b416c0b098f5f3a34/final_66b68b9b416c0b098f5f3a33_551976.mp4",elevenLabsVoiceId:"ZuLCuilTCray4BUmWzzs",personaId:"ericWearingABlueVest"},ashwinInASuit:{isStockPersona:!0,assetId:"67048812c726e63da43cb85c",name:"Ashwin in a suit",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/6704875dc726e63da43cb85b/final_6704875dc726e63da43cb85a_457639.mp4",elevenLabsVoiceId:"T8lgQl6x5PSdhmmWx42m",personaId:"ashwinInASuit"},amirInASuit:{isStockPersona:!0,assetId:"67048979ea24e9f4a16fddb9",name:"Amir in a suit",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/67048901c726e63da43cb8f3/final_67048901c726e63da43cb8f1_788988.mp4",elevenLabsVoiceId:"N7NxOZ59bMbViGei3BLX",personaId:"amirInASuit"},tedInABlueSuit:{isStockPersona:!0,assetId:"670489b5ea24e9f4a16fddc1",name:"Ted in a blue suit",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/67048979ea24e9f4a16fddbd/final_67048979ea24e9f4a16fddbb_911554.mp4",elevenLabsVoiceId:"yl2ZDV1MzN4HbQJbMihG",personaId:"tedInABlueSuit"},sarahWithAMicrophone:{isStockPersona:!0,assetId:"670482aa9c0d0488495d57ff",name:"Sarah with a microphone",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/670482329c0d0488495d57fe/final_670482329c0d0488495d57fd_227287.mp4",elevenLabsVoiceId:"kPzsL2i3teMYv0FxEYQ6",personaId:"sarahWithAMicrophone"},claraInABlackSuit:{isStockPersona:!0,assetId:"67048631c726e63da43cb846",name:"Clara in a black suit",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/670485f5c726e63da43cb845/final_670485f5c726e63da43cb844_905790.mp4",elevenLabsVoiceId:"xctasy8XvGp2cVO9HL9k",personaId:"claraInABlackSuit"},samInAWhiteTShirt:{isStockPersona:!0,assetId:"670486a9ea24e9f4a16fdd6a",name:"Sam in a white t-shirt",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/6704866dea24e9f4a16fdd34/final_6704866dea24e9f4a16fdd33_701305.mp4",elevenLabsVoiceId:"fJE3lSefh7YI494JMYYz",personaId:"samInAWhiteTShirt"},billWithAMicrophone:{isStockPersona:!0,assetId:"670486e5ea24e9f4a16fdd84",name:"Bill with a microphone",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/670486a9c726e63da43cb84f/final_670486a9c726e63da43cb84e_218323.mp4",elevenLabsVoiceId:"4JVOFy4SLQs9my0OLhEw",personaId:"billWithAMicrophone"},charlieInASuit:{isStockPersona:!0,assetId:"67048721c726e63da43cb856",name:"Charlie in a suit",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/670486e5c726e63da43cb855/final_670486e5c726e63da43cb854_634298.mp4",elevenLabsVoiceId:"6OzrBCQf8cjERkYgzSg8",personaId:"charlieInASuit"},drewPresentingTheNews:{isStockPersona:!0,assetId:"6705883dea24e9f4a16fdeeb",name:"Drew presenting the news",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/67058789ea24e9f4a16fde90/final_67058789ea24e9f4a16fde8f_716812.mp4",elevenLabsVoiceId:"29vD33N1CtxCmqQRPOHJ",personaId:"drewPresentingTheNews"},oliviaInABlackSuit:{isStockPersona:!0,assetId:"6705883dea24e9f4a16fdeec",name:"Olivia in a black suit",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/670587c5ea24e9f4a16fdea0/final_670587c5ea24e9f4a16fde9f_930727.mp4",elevenLabsVoiceId:"kPzsL2i3teMYv0FxEYQ6",personaId:"oliviaInABlackSuit"},oliviaInARedDress:{isStockPersona:!0,assetId:"670588f1c726e63da43cbc5d",name:"Olivia in a red dress",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/67058801ea24e9f4a16fdedb/final_67058801ea24e9f4a16fdeda_287861.mp4",elevenLabsVoiceId:"kPzsL2i3teMYv0FxEYQ6",personaId:"oliviaInARedDress"},brookePresentingTheNews:{isStockPersona:!0,assetId:"67058879ea24e9f4a16fdf15",name:"Brooke presenting the news",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/6705883dea24e9f4a16fdee9/final_6705883dea24e9f4a16fdee8_477277.mp4",elevenLabsVoiceId:"XfNU2rGpBa01ckF309OY",personaId:"brookePresentingTheNews"},jaimeInTheStudio:{isStockPersona:!0,assetId:"670588f1ea24e9f4a16fdf22",name:"Jaime in the studio",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/6705883dc726e63da43cbc46/final_6705883dc726e63da43cbc43_732582.mp4",elevenLabsVoiceId:"lkVAP8k5tC0Wr1dYyQZH",personaId:"jaimeInTheStudio"},williamInABlueSuit:{isStockPersona:!0,assetId:"67058879ea24e9f4a16fdf16",name:"William in a blue suit",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/6705883dc726e63da43cbc45/final_6705883dc726e63da43cbc41_595924.mp4",elevenLabsVoiceId:"dyLJ4nCukg4AOgAVlUR7",personaId:"williamInABlueSuit"},estherAtTheCapitol:{isStockPersona:!0,assetId:"670588b5ea24e9f4a16fdf1f",name:"Esther at the capitol",originalVideo:"https://cdn-useast1.kapwing.com/teams/6674b73f38f732d2c9ebeb37/jobs/67058879c726e63da43cbc5b/final_67058879c726e63da43cbc5a_862400.mp4",elevenLabsVoiceId:"rCuVrCHOUMY3OwyJBJym",personaId:"estherAtTheCapitol"}},Yp={ericAtTheOffice:"673535428d584e6e0c0298d4",daveInARedShirt:"673bce7f81ebde69f701b469",freyaInARedSuit:"6705bc27346d473932a66113",brianAtADesk:"6705cda140559306f062aa29",paulInABrownSuit:"6706cfd26fefd6cb7979c61d",mimiAtADesk:"6706d22f22ed0a15fce39aa9",matildaInAGreenSweater:"6706d9886dcb2ad267e64da3",graceInABlackHoodie:"6706e63fd909dfde551eb303",timInAPlaidShirt:"6705bc42346d473932a6611c",liamInADenimJacket:"67071fe186ce8e3c0a8dbbc4",jennyInABlueTurtleneck:"6706e64c641b282d31fdd642",shreyaInABlackSuit:"6706d403e8e15b6e38055d3d",lindaInABlouse:"676363eeb588d962fc2a7081",angeliaInABrownSweater:"6705bb97b53098c5b9d09260",aidenInAPlaidShirt:"6705ad4cfa8dc633249c6f2b",janiceInAHeadset:"6708a66116678357877adcbb",sarahOnACouch:"6706da9293f1f73a96f8f138",rachelInABlueShirt:"670776efb09ebced7cd25d4f",joshuaInABlackSweater:"6706f1ba259f3c59f61b4b76",kaylinOnThePorch:"66ce86897ea633d9a3c898bf",mattInALivingRoom:"673be717bab6d03dafefeb71",chrisWithAMicrophone:"6705cbee32908b36c2744933",emilyInAGraySuit:"6706e4b1d1ed38a65ede76b3",amyWearingGlasses:"66e0b427f2de6d79eba9b4ed",andrewInAGrayShirt:"66cd1437c1cf4b20a181d52e",alexWithAMicrophone:"66ce3a634aefe8f628622de6",alanaInABlackTshirt:"66cd131f134862f9735ee294",christinaInABlackSweater:"66d2028aff4ded3f2d17c004",derrickInABlackTurtleneck:"66ce3f3ecee7fa1f51c2e3d3",justinInABlueHoodie:"66ce7db1c632a6a1615e1c36",johnOnTheRoof:"673be9283206f3be6b2314e6",sarahInAGraySweater:"66cd14091514173365408954",ryanInABlueShirt:"66cd0bce9e3d3d0fbbd31a74",glendaInABlueShirt:"66ce73464b4e26e57a6b0b11",davidInAWhiteShirt:"673c4727283631e09610a8a7",ashwinInASuit:"6706e983a23fc0288f7ede41",ericWearingAGreenVest:"66be587bc2bec625384b2aab",tedInABlueSuit:"670bd8a4a74f5fd197bf1bc3",amirInASuit:"6706e3bc90a73de29db58a48",ericWearingABlueVest:"66c63db145c221a64bdb7234",sarahWithAMicrophone:"675d2cd6983bf142660baf57",claraInABlackSuit:"670792a543f6c4fe7b1934b8",samInAWhiteTShirt:"6706fe75249b200883f22db6",billWithAMicrophone:"6707ee1f2e5a387e45eb9638",charlieInASuit:"67216ce606838fd0b4fbad56",drewPresentingTheNews:"674e767d43a2431770b60269",oliviaInABlackSuit:"6706da95e31786d7040d84ef",oliviaInARedDress:"670729a3d3c6d3fd02683754",brookePresentingTheNews:"6706e664485d17a9b01e2727",jaimeInTheStudio:"6706eac8a937b2c87fecba5a",williamInABlueSuit:"6707c4a18498552f2f06ece8",estherAtTheCapitol:"6706cfe59a7cdfdc0ee0941e"},Kp={...Gp,...zp},Xp="RM",Zp=[{en:"Afrikaans",label:"Afrikaans (Suid-Afrika)",translateCode:"af",transcriptionVariants:[{en:"Afrikaans",code:"af-ZA",label:"Afrikaans (Suid-Afrika)"}]},{en:"Albanian",label:"shqip (Shqipri)",translateCode:"sq",transcriptionVariants:[{en:"Albanian",code:"sq-AL",label:"shqip (Shqipri)"}]},{en:"Amharic",label:" ()",translateCode:"am",transcriptionVariants:[{en:"Amharic",code:"am-ET",label:" ()"}]},{en:"Arabic",label:"",translateCode:"ar",transcriptionVariants:[{en:"Arabic",code:"ar",label:" ()"},{en:"Arabic (Algeria)",code:"ar-DZ",label:" ()"},{en:"Arabic (Bahrain)",code:"ar-BH",label:" ()"},{en:"Arabic (Egypt)",code:"ar-EG",label:"() "},{en:"Arabic (Iraq)",code:"ar-IQ",label:" ()"},{en:"Arabic (Jordan)",code:"ar-JO",label:" ()"},{en:"Arabic (Kuwait)",code:"ar-KW",label:" ()"},{en:"Arabic (Lebanon)",code:"ar-LB",label:" ()"},{en:"Arabic (Libya)",code:"ar-LY",label:" ()"},{en:"Arabic (Morocco)",code:"ar-MA",label:" ()"},{en:"Arabic (Oman)",code:"ar-OM",label:" ()"},{en:"Arabic (Qatar)",code:"ar-QA",label:" ()"},{en:"Arabic (Saudi Arabia)",code:"ar-SA",label:" (  )"},{en:"Arabic (Syria)",code:"ar-SY",label:" ()"},{en:"Arabic (Tunisia)",code:"ar-TN",label:" ()"},{en:"Arabic (UAE)",code:"ar-AE",label:" (  )"},{en:"Arabic (Yemen)",code:"ar-YE",label:" ()"}]},{en:"Armenian",label:" ()",translateCode:"hy",transcriptionVariants:[{en:"Armenian",code:"hy-AM",label:" ()"}]},{en:"Azerbaijani",label:"Azrbaycan (Azrbaycan)",translateCode:"az",transcriptionVariants:[{en:"Azerbaijani",code:"az-AZ",label:"Azrbaycan (Azrbaycan)"}]},{en:"Basque",label:"Euskara (Espainia)",translateCode:"eu",transcriptionVariants:[{en:"Basque",code:"eu-ES",label:"Euskara (Espainia)"}]},{en:"Bengali",label:"",translateCode:"bn",transcriptionVariants:[{en:"Bangla (Bangladesh)",code:"bn-BD",label:" ()"},{en:"Bangla (India)",code:"bn-IN",label:" ()"}]},{en:"Bulgarian",label:" ()",translateCode:"bg",transcriptionVariants:[{en:"Bulgarian",code:"bg-BG",label:" ()"}]},{en:"Burmese",label:" ()",translateCode:"my",transcriptionVariants:[{en:"Burmese",code:"my-MM",label:" ()"}]},{en:"Cantonese",label:"",noSpaces:!0,translateCode:"zh-HK",transcriptionVariants:[{en:"Cantonese",code:"yue-Hant-HK",label:""}]},{en:"Catalan",label:"Catal (Espanya)",translateCode:"ca",transcriptionVariants:[{en:"Catalan",code:"ca-ES",label:"Catal (Espanya)"}]},{en:"Chinese (Simplified)",label:"",noSpaces:!0,translateCode:"zh",transcriptionVariants:[{en:"Chinese, Mandarin (Simplified)",code:"cmn-Hans-CN",label:" "}]},{en:"Chinese (Traditional)",label:" ()",noSpaces:!0,translateCode:"zh-TW",transcriptionVariants:[]},{en:"Croatian",label:"Hrvatski (Hrvatska)",translateCode:"hr",transcriptionVariants:[{en:"Croatian",code:"hr-HR",label:"Hrvatski (Hrvatska)"}]},{en:"Czech",label:"etina (esk republika)",translateCode:"cs",transcriptionVariants:[{en:"Czech",code:"cs-CZ",label:"etina (esk republika)"}]},{en:"Danish",label:"Dansk (Danmark)",translateCode:"da",transcriptionVariants:[{en:"Danish",code:"da-DK",label:"Dansk (Danmark)"}]},{en:"Dutch",label:"Nederlands (Nederland)",translateCode:"nl",transcriptionVariants:[{en:"Dutch",code:"nl-NL",label:"Nederlands (Nederland)"}]},{en:"English",label:"English (Global)",translateCode:"en",transcriptionVariants:[{en:"English",code:"en",label:"English (Global)"},{en:"English (Australia)",code:"en-AU",label:"English (Australia)"},{en:"English (United Kingdom)",code:"en-GB",label:"English (United Kingdom)"},{en:"English (United States)",code:"en-US",label:"English (United States)"}]},{en:"Estonian",label:"eesti keel (Eesti)",translateCode:"et",transcriptionVariants:[{en:"Estonian",code:"et-EE",label:"eesti keel (Eesti)"}]},{en:"Finnish",label:"Suomi (Suomi)",translateCode:"fi",transcriptionVariants:[{en:"Finnish",code:"fi-FI",label:"Suomi (Suomi)"}]},{en:"French",label:"Franais",translateCode:"fr",transcriptionVariants:[{en:"French",code:"fr",label:"Franais (Global)"},{en:"French (Belgium)",code:"fr-BE",label:"Franais (Belgique)"},{en:"French (Canada)",code:"fr-CA",label:"Franais (Canada)"},{en:"French (France)",code:"fr-FR",label:"Franais (France)"},{en:"French (Switzerland)",code:"fr-CH",label:"Franais (Suisse)"}]},{en:"Galician",label:"Galego (Espaa)",translateCode:"gl",transcriptionVariants:[{en:"Galician",code:"gl-ES",label:"Galego (Espaa)"}]},{en:"Georgian",label:" ()",translateCode:"ka",transcriptionVariants:[{en:"Georgian",code:"ka-GE",label:" ()"}]},{en:"German",label:"Deutsch (Deutschland)",translateCode:"de",transcriptionVariants:[{en:"German",code:"de-DE",label:"Deutsch (Deutschland)"}]},{en:"Greek",label:" ()",translateCode:"el",transcriptionVariants:[{en:"Greek",code:"el-GR",label:" ()"}]},{en:"Gujarati",label:" ()",translateCode:"gu",transcriptionVariants:[{en:"Gujarati",code:"gu-IN",label:" ()"}]},{en:"Hebrew",label:" ()",translateCode:"he",transcriptionVariants:[{en:"Hebrew",code:"he-IL",label:" ()"}]},{en:"Hindi",label:" (Global)",translateCode:"hi",transcriptionVariants:[{en:"Hindi",code:"hi-IN",label:" ()"},{en:"Hindi (Romanized)",code:"hi-RM",label:"Hind (Romanized)"},{en:"Hinglish (Hindi and English)",code:"hi-EN",label:"Hinglish (Hind and English)"}]},{en:"Hungarian",label:"Magyar (Magyarorszg)",translateCode:"hu",transcriptionVariants:[{en:"Hungarian",code:"hu-HU",label:"Magyar (Magyarorszg)"}]},{en:"Icelandic",label:"slenska (sland)",translateCode:"is",transcriptionVariants:[{en:"Icelandic",code:"is-IS",label:"slenska (sland)"}]},{en:"Indonesian",label:"Bahasa Indonesia",translateCode:"id",transcriptionVariants:[{en:"Indonesian",code:"id-ID",label:"Bahasa Indonesia (Indonesia)"}]},{en:"Italian",label:"Italiano (Italia)",translateCode:"it",transcriptionVariants:[{en:"Italian",code:"it-IT",label:"Italiano (Italia)"}]},{en:"Japanese",label:"",noSpaces:!0,translateCode:"ja",transcriptionVariants:[{en:"Japanese",code:"ja-JP",label:""}]},{en:"Javanese",label:"Jawa (Indonesia)",translateCode:"jv",transcriptionVariants:[{en:"Javanese",code:"jv-ID",label:"Jawa (Indonesia)"}]},{en:"Kannada",label:" ()",translateCode:"kn",transcriptionVariants:[{en:"Kannada",code:"kn-IN",label:" ()"}]},{en:"Kazakh",label:" ()",translateCode:"kk",transcriptionVariants:[{en:"Kazakh",code:"kk-KZ",label:" ()"}]},{en:"Khmer",label:" ()",translateCode:"km",noSpaces:!0,transcriptionVariants:[{en:"Khmer",code:"km-KH",label:" ()"}]},{en:"Kinyarwanda",label:"Kinyarwanda (Rwanda)",translateCode:"rw",transcriptionVariants:[{en:"Kinyarwanda",code:"rw-RW",label:"Kinyarwanda (Rwanda)"}]},{en:"Korean",label:" ()",translateCode:"ko",transcriptionVariants:[{en:"Korean",code:"ko-KR",label:" ()"}]},{en:"Lao",label:" ()",translateCode:"lo",noSpaces:!0,transcriptionVariants:[{en:"Lao",code:"lo-LA",label:" ()"}]},{en:"Latvian",label:"Latvieu (latvieu)",translateCode:"lv",transcriptionVariants:[{en:"Latvian",code:"lv-LV",label:"Latvieu (latvieu)"}]},{en:"Lithuanian",label:"Lietuvi (Lietuva)",translateCode:"lt",transcriptionVariants:[{en:"Lithuanian",code:"lt-LT",label:"Lietuvi (Lietuva)"}]},{en:"Macedonian",label:" ( )",translateCode:"mk",transcriptionVariants:[{en:"Macedonian",code:"mk-MK",label:" ( )"}]},{en:"Malay",label:"Bahasa Melayu (Malaysia)",translateCode:"ms",transcriptionVariants:[{en:"Malay",code:"ms-MY",label:"Bahasa Melayu (Malaysia)"}]},{en:"Malayalam",label:" ()",translateCode:"ml",transcriptionVariants:[{en:"Malayalam",code:"ml-IN",label:" ()"}]},{en:"Marathi",label:" ()",translateCode:"mr",transcriptionVariants:[{en:"Marathi",code:"mr-IN",label:" ()"}]},{en:"Mongolian",label:" ()",translateCode:"mn",transcriptionVariants:[{en:"Mongolian",code:"mn-MN",label:" ()"}]},{en:"Nepali",label:" ()",translateCode:"ne",transcriptionVariants:[{en:"Nepali",code:"ne-NP",label:" ()"}]},{en:"Norwegian",label:"Norsk",translateCode:"no",transcriptionVariants:[{en:"Norwegian",code:"no-NO",label:"Norsk bokml (Norge)"}]},{en:"Oromo",label:"Afaan Oromoo",translateCode:"om",transcriptionVariants:[]},{en:"Persian",label:"",translateCode:"fa",transcriptionVariants:[{en:"Persian",code:"fa-IR",label:" ()"}]},{en:"Polish",label:"Polski (Polska)",translateCode:"pl",transcriptionVariants:[{en:"Polish",code:"pl-PL",label:"Polski (Polska)"}]},{en:"Portuguese",label:"Portugus (Global)",translateCode:"pt",transcriptionVariants:[{en:"Portuguese",code:"pt",label:"Portugus (Global)"},{en:"Portuguese (Brazil)",code:"pt-BR",label:"Portugus (Brasil)"},{en:"Portuguese (Portugal)",code:"pt-PT",label:"Portugus (Portugal)"}]},{en:"Punjabi",label:" ( )",translateCode:"pa",transcriptionVariants:[{en:"Punjabi",code:"pa-Guru-IN",label:" ( )"}]},{en:"Romanian",label:"Romn (Romnia)",translateCode:"ro",transcriptionVariants:[{en:"Romanian",code:"ro-RO",label:"Romn (Romnia)"}]},{en:"Russian",label:" ()",translateCode:"ru",transcriptionVariants:[{en:"Russian",code:"ru-RU",label:""}]},{en:"Serbian",label:" ()",translateCode:"sr",transcriptionVariants:[{en:"Serbian",code:"sr-RS",label:" ()"}]},{en:"Sesotho",label:"Sesotho (Afrika Borwa)",translateCode:"st",transcriptionVariants:[{en:"Sesotho",code:"st-ZA",label:"Sesotho (Afrika Borwa)"}]},{en:"Sinhala (Sinhalese)",label:" ( )",translateCode:"si",transcriptionVariants:[{en:"Sinhala",code:"si-LK",label:" ( )"}]},{en:"Slovak",label:"Slovenina (Slovensko)",translateCode:"sk",transcriptionVariants:[{en:"Slovak",code:"sk-SK",label:"Slovenina (Slovensko)"}]},{en:"Slovenian",label:"Slovenina (Slovenija)",translateCode:"sl",transcriptionVariants:[{en:"Slovenian",code:"sl-SI",label:"Slovenina (Slovenija)"}]},{en:"Spanish",label:"Espaol",translateCode:"es",transcriptionVariants:[{en:"Spanish",code:"es",label:"Espaol (Global)"},{en:"Spanish (Argentina)",code:"es-AR",label:"Espaol (Argentina)"},{en:"Spanish (Bolivia)",code:"es-BO",label:"Espaol (Bolivia)"},{en:"Spanish (Chile)",code:"es-CL",label:"Espaol (Chile)"},{en:"Spanish (Colombia)",code:"es-CO",label:"Espaol (Colombia)"},{en:"Spanish (Costa Rica)",code:"es-CR",label:"Espaol (Costa Rica)"},{en:"Spanish (Cuba)",code:"es-CU",label:"Espaol (Cuba)"},{en:"Spanish (Ecuador)",code:"es-EC",label:"Espaol (Ecuador)"},{en:"Spanish (El Salvador)",code:"es-SV",label:"Espaol (El Salvador)"},{en:"Spanish (Spain)",code:"es-ES",label:"Espaol (Espaa)"},{en:"Spanish (Guatemala)",code:"es-GT",label:"Espaol (Guatemala)"},{en:"Spanish (Honduras)",code:"es-HN",label:"Espaol (Honduras)"},{en:"Spanish (Mexico)",code:"es-MX",label:"Espaol (Mxico)"},{en:"Spanish (Nicaragua)",code:"es-NI",label:"Espaol (Nicaragua)"},{en:"Spanish (Panama)",code:"es-PA",label:"Espaol (Panam)"},{en:"Spanish (Paraguay)",code:"es-PY",label:"Espaol (Paraguay)"},{en:"Spanish (Peru)",code:"es-PE",label:"Espaol (Per)"},{en:"Spanish (Puerto Rico)",code:"es-PR",label:"Espaol (Puerto Rico)"},{en:"Spanish (Dominican Republic)",code:"es-DO",label:"Espaol (Repblica Dominicana)"},{en:"Spanish (Uruguay)",code:"es-UY",label:"Espaol (Uruguay)"},{en:"Spanish (Venezuela)",code:"es-VE",label:"Espaol (Venezuela)"}]},{en:"Sundanese",label:"Urang (Indonesia)",translateCode:"su",transcriptionVariants:[{en:"Urang",code:"su-ID",label:"Urang (Indonesia)"}]},{en:"Swahili",label:"Swahili",translateCode:"sw",transcriptionVariants:[{en:"Swahili (Kenya)",code:"sw-KE",label:"Swahili (Kenya)"},{en:"Swahili (Tanzania)",code:"sw-TZ",label:"Swahili (Tanzania)"}]},{en:"Swedish",label:"Svenska (Sverige)",translateCode:"sv",transcriptionVariants:[{en:"Swedish",code:"sv-SE",label:"Svenska (Sverige)"}]},{en:"Tagalog",label:"Filipino (Pilipinas)",translateCode:"tl",transcriptionVariants:[{en:"Filipino",code:"fil-PH",label:"Filipino (Pilipinas)"}]},{en:"Tamil",label:"",translateCode:"ta",transcriptionVariants:[{en:"Tamil (India)",code:"ta-IN",label:" ()"},{en:"Tamil (Malaysia)",code:"ta-MY",label:" ()"},{en:"Tamil (Singapore)",code:"ta-SG",label:" ()"},{en:"Tamil (Sri Lanka)",code:"ta-LK",label:" ()"}]},{en:"Telugu",label:" ()",translateCode:"te",transcriptionVariants:[{en:"Telugu",code:"te-IN",label:" ()"}]},{en:"Thai",label:" ()",translateCode:"th",noSpaces:!0,transcriptionVariants:[{en:"Thai",code:"th-TH",label:" ()"}]},{en:"Turkish",label:"Trke (Trkiye)",translateCode:"tr",transcriptionVariants:[{en:"Turkish",code:"tr-TR",label:"Trke (Trkiye)"}]},{en:"Ukrainian",label:" ()",translateCode:"uk",transcriptionVariants:[{en:"Ukrainian",code:"uk-UA",label:" ()"}]},{en:"Urdu",label:"",translateCode:"ur",transcriptionVariants:[{en:"Urdu (India)",code:"ur-IN",label:" ()"},{en:"Urdu (Pakistan)",code:"ur-PK",label:" ()"}]},{en:"Uzbek",label:"O'zbek (O'zbekiston)",translateCode:"uz",transcriptionVariants:[{en:"Uzbek",code:"uz-UZ",label:"O'zbek (O'zbekiston)"}]},{en:"Vietnamese",label:"Ting Vit (Vit Nam)",translateCode:"vi",transcriptionVariants:[{en:"Vietnamese",code:"vi-VN",label:"Ting Vit (Vit Nam)"}]},{en:"Xhosa",label:"IsiXhosa (eMzantsi Afrika)",translateCode:"xh",transcriptionVariants:[{en:"Xhosa",code:"xh-ZA",label:"IsiXhosa (eMzantsi Afrika)"}]},{en:"Zulu",label:"IsiZulu (Ningizimu Afrika)",translateCode:"zu",transcriptionVariants:[{en:"Zulu",code:"zu-ZA",label:"IsiZulu (Ningizimu Afrika)"}]}],qp={value:"auto-detect",label:"Auto-detect"},Jp={value:"all",label:"All languages"},$p=new Map;for(const FB of Zp){$p.set(FB.translateCode,FB);for(const e of FB.transcriptionVariants)$p.set(e.code,FB)}const Qp=e=>$p.get(e),em=e=>{const t=Qp(e);if(null==t?void 0:t.transcriptionVariants){const a=t.transcriptionVariants.find((t=>t.code===e));if(a)return a.en}return t?t.en:e},tm=e=>{const t=Qp(e);return t&&t.translateCode?t.translateCode:e};function am(e){var t;if(!e)return qp.value;if("HI-EN"===e.toUpperCase())return e;return(null==(t=Zp.find((t=>t.transcriptionVariants.some((t=>t.code===e))||t.translateCode===e)))?void 0:t.translateCode)||qp.value}new Set(Zp.flatMap((e=>e.transcriptionVariants.map((e=>e.code)))));const nm=[ku.Argos],sm=Object.values(ku).filter((e=>!nm.includes(e))),om=e=>e.charAt(0).toUpperCase()+e.slice(1),im=["MALE","FEMALE","NEUTRAL"],rm=["Young","Middle-aged","Old"],lm="ALL_LANGUAGES",dm=["en","ar","cmn","zh","fr","hi","es"];function cm(e){const t=Im(e);return!!t&&dm.includes(t)}const um="Hinglish (Hindi and English)",pm={"English (US)":"en-US","English (UK)":"en-GB","English (Australia)":"en-AU","English (India)":"en","Arabic (Multi-Region)":"ar","Bengali (India)":"bn-IN","Bulgarian (Bulgaria)":"bg-BG","Chinese (Mandarin)":"cmn-Hans-CN","Mandarin (Taiwan)":"zh-TW",Croatian:"hr-HR",Czech:"cs-CZ",Danish:"da-DK",Dutch:"nl-NL","Finnish (Finland)":"fi-FI","Filipino (Tagalog)":"fil-PH","French (Canada)":"fr-CA","French (France)":"fr-FR",German:"de-DE",Greek:"el-GR","Gujarati (India)":"gu-IN",Hebrew:"he-IL",Hindi:"hi-IN","Hindi (Romanized)":"hi-RM",[um]:"hi-EN","Kannada (India)":"kn-IN",Hungarian:"hu-HU",Indonesian:"id-ID",Italian:"it-IT",Japanese:"ja-JP",Korean:"ko-KR",Latvian:"lv-LV",Lithuanian:"lt-LT",Malay:"ms-MY",Malayalam:"ml-IN",Marathi:"mr-IN",Norwegian:"no-NO",Polish:"pl-PL","Portuguese (Brazil)":"pt-BR","Portuguese (Portugal)":"pt-PT","Punjabi (India)":"pa-Guru-IN",Romanian:"ro-RO",Russian:"ru-RU",Slovak:"sk-SK","Spanish (Spain)":"es-ES","Spanish (Mexico)":"es-MX",Swedish:"sv-SE",Tamil:"ta-IN",Telugu:"te-IN",Thai:"th-TH",Turkish:"tr-TR",Ukrainian:"uk-UA",Vietnamese:"vi-VN"},mm=["English (US)","English (UK)","English (Australia)","English (India)","Arabic (Multi-Region)","Bulgarian (Bulgaria)","Chinese (Mandarin)","Croatian","Czech","Danish","Dutch","Finnish (Finland)","Filipino (Tagalog)","French (France)","French (Canada)","German","Greek","Hindi","Hindi (Romanized)",um,"Hungarian","Indonesian","Italian","Japanese","Korean","Malay","Norwegian","Polish","Portuguese (Brazil)","Portuguese (Portugal)","Romanian","Russian","Slovak","Spanish (Spain)","Spanish (Mexico)","Swedish","Tamil","Turkish","Ukrainian","Vietnamese"],gm=e=>mm.includes(e),hm={"English (US)":[{gender:"MALE",label:"Josh",name:"eleven-labs-josh",languageCode:"en-US",sampleURL:"https://cdn-useast1.kapwing.com/static/BN6-ElevenLabsJosh.mp3",elevenLabsId:"TxGEqnHWrfWFTfGW9XjX",age:"Young",useCase:"Narration",accent:"american",description:"A deep and young voice."},{elevenLabsId:"UgBBYS2sOqTuMpoF3BR0",sampleURL:"https://storage.googleapis.com/eleven-public-prod/database/user/y7Wmp2r8nCeGkLiXiwMOVWktro13/voices/UgBBYS2sOqTuMpoF3BR0/0Oc7jiXwWN9kRTXfQsmw.mp3",label:"Mark",gender:"MALE",age:"Young",accent:"american",description:"A casual, young-adult speaking in a natural manner.",useCase:"Conversational",languageCode:"en-US",name:"elevenlabs-Mark - Natural Conversations-en-US-male"},{gender:"FEMALE",label:"Matilda",name:"eleven-labs-matilda",languageCode:"en-US",sampleURL:"https://cdn-useast1.kapwing.com/static/EBv-ElevenLabsMatilda.mp3",elevenLabsId:"XrExE9yKIg1WjnnlVkGX",repurposePreferred:!0,age:"Middle-aged",useCase:"Narration",accent:"american",description:"A friendly and middle-aged voice."},{name:"en-US-Neural2-H",label:"Anna",gender:"FEMALE",languageCode:"en-US",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-en-US-Neural2-H_preview.mp3",age:"Middle-aged",useCase:null},{gender:"FEMALE",label:"Bethany",name:"en-US-Neural2-G",languageCode:"en-US",sampleURL:"https://cdn-useast1.kapwing.com/static/40O-English_US_Female.mp3",age:"Middle-aged",useCase:null},{name:"en-US-Casual-K",label:"Blake",gender:"MALE",languageCode:"en-US",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-en-US-Casual-K_preview.mp3",age:"Middle-aged",useCase:null},{name:"en-US-Neural2-E",label:"Corin",gender:"FEMALE",languageCode:"en-US",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-en-US-Neural2-E_preview.mp3",age:"Middle-aged",useCase:null},{name:"en-US-News-L",label:"Gabby",gender:"FEMALE",languageCode:"en-US",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-en-US-News-L_preview.mp3",age:"Middle-aged",useCase:null},{gender:"MALE",label:"Jacob",name:"en-US-Polyglot-1",languageCode:"en-US",sampleURL:"https://cdn-useast1.kapwing.com/static/8Vg-English_US_Male_2.mp3",age:"Middle-aged",useCase:null},{name:"en-US-Neural2-I",label:"John",gender:"MALE",languageCode:"en-US",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-en-US-Neural2-I_preview.mp3",age:"Middle-aged",useCase:null},{name:"en-US-Neural2-C",label:"Justine",gender:"FEMALE",languageCode:"en-US",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-en-US-Neural2-C_preview.mp3",age:"Middle-aged",useCase:null},{name:"en-US-Neural2-J",label:"Kirk",gender:"MALE",languageCode:"en-US",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-en-US-Neural2-J_preview.mp3",age:"Middle-aged",useCase:null},{name:"en-US-News-K",label:"Mariel",gender:"FEMALE",languageCode:"en-US",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-en-US-News-K_preview.mp3",age:"Middle-aged",useCase:null},{name:"en-US-Neural2-A",label:"Matt",gender:"MALE",languageCode:"en-US",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-en-US-Neural2-A_preview.mp3",age:"Middle-aged",useCase:null},{name:"en-US-Neural2-F",label:"Nara",gender:"FEMALE",languageCode:"en-US",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-en-US-Neural2-F_preview.mp3",age:"Middle-aged",useCase:null},{name:"en-US-News-N",label:"Neil",gender:"MALE",languageCode:"en-US",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-en-US-News-N_preview.mp3",age:"Middle-aged",useCase:null},{name:"en-US-Neural2-D",label:"Peter",gender:"MALE",languageCode:"en-US",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-en-US-Neural2-D_preview.mp3",age:"Middle-aged",useCase:null},{name:"eleven-labs-adam",gender:"MALE",label:"Adam",useCase:"Narration",age:"Middle-aged",description:"A deep and middle aged voice.",languageCode:"en-US",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pNInz6obpgDQGcFmaJgB_English(US)_preview.mp3",elevenLabsId:"pNInz6obpgDQGcFmaJgB",accent:"american",languageAgnostic:!0},{name:"eleven-labs-antoni",gender:"MALE",label:"Antoni",useCase:"Narration",age:"Young",description:"A well-rounded and young voice.",languageCode:"en-US",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ErXwobaYiN019PkySvjV_English(US)_preview.mp3",elevenLabsId:"ErXwobaYiN019PkySvjV",accent:"american",languageAgnostic:!0},{name:"eleven-labs-aria",gender:"FEMALE",label:"Aria",useCase:"Social Media",age:"Middle-aged",description:"An expressive and middle-aged voice.",languageCode:"en-US",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/9BWtsMINqrJLrRacOk9x_English(US)_preview.mp3",elevenLabsId:"9BWtsMINqrJLrRacOk9x",accent:"american",languageAgnostic:!0},{name:"eleven-labs-arnold",gender:"MALE",label:"Arnold",useCase:"Narration",age:"Middle-aged",description:"A crisp and middle aged voice.",languageCode:"en-US",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/VR6AewLTigWG4xSOukaG_English(US)_preview.mp3",elevenLabsId:"VR6AewLTigWG4xSOukaG",accent:"american",languageAgnostic:!0},{name:"eleven-labs-bill",gender:"MALE",label:"Bill",useCase:"Narration",age:"Old",description:"A trustworthy and old voice.",languageCode:"en-US",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pqHfZKP75CvOlQylNhV4_English(US)_preview.mp3",elevenLabsId:"pqHfZKP75CvOlQylNhV4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-brian",gender:"MALE",label:"Brian",useCase:"Narration",age:"Middle-aged",description:"A deep and middle-aged voice.",languageCode:"en-US",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/nPczCjzI2devNBz1zQrb_English(US)_preview.mp3",elevenLabsId:"nPczCjzI2devNBz1zQrb",accent:"american",languageAgnostic:!0},{name:"eleven-labs-callum",gender:"MALE",label:"Callum",useCase:"Characters",age:"Middle-aged",description:"An intense and middle-aged voice.",languageCode:"en-US",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/N2lVS1w4EtoT3dr4eOWO_English(US)_preview.mp3",elevenLabsId:"N2lVS1w4EtoT3dr4eOWO",accent:"american",languageAgnostic:!0},{name:"eleven-labs-chris",gender:"MALE",label:"Chris",useCase:"Conversational",age:"Middle-aged",description:"A casual and middle-aged voice.",languageCode:"en-US",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/iP95p4xoKVk53GoZ742B_English(US)_preview.mp3",elevenLabsId:"iP95p4xoKVk53GoZ742B",accent:"american",languageAgnostic:!0},{name:"eleven-labs-clyde",gender:"MALE",label:"Clyde",useCase:"Characters",age:"Middle-aged",description:"A war veteran and middle-aged voice.",languageCode:"en-US",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/2EiwWnXFnvU5JabPnv8n_English(US)_preview.mp3",elevenLabsId:"2EiwWnXFnvU5JabPnv8n",accent:"american",languageAgnostic:!0},{name:"eleven-labs-domi",gender:"FEMALE",label:"Domi",useCase:"Narration",age:"Young",description:"A strong and young voice.",languageCode:"en-US",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/AZnzlk1XvdvUeBnXmlld_English(US)_preview.mp3",elevenLabsId:"AZnzlk1XvdvUeBnXmlld",accent:"american",languageAgnostic:!0},{name:"eleven-labs-drew",gender:"MALE",label:"Drew",useCase:"News",age:"Middle-aged",description:"A well-rounded and middle-aged voice.",languageCode:"en-US",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/29vD33N1CtxCmqQRPOHJ_English(US)_preview.mp3",elevenLabsId:"29vD33N1CtxCmqQRPOHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-emily",gender:"FEMALE",label:"Emily",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"en-US",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/LcfcDJNUP1GQjkzn1xUU_English(US)_preview.mp3",elevenLabsId:"LcfcDJNUP1GQjkzn1xUU",accent:"american",languageAgnostic:!0},{name:"eleven-labs-eric",gender:"MALE",label:"Eric",useCase:"Conversational",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"en-US",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cjVigY5qzO86Huf0OWal_English(US)_preview.mp3",elevenLabsId:"cjVigY5qzO86Huf0OWal",accent:"american",languageAgnostic:!0},{name:"eleven-labs-ethan",gender:"MALE",label:"Ethan",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"en-US",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/g5CIjZEefAph4nQFvHAz_English(US)_preview.mp3",elevenLabsId:"g5CIjZEefAph4nQFvHAz",accent:"american",languageAgnostic:!0},{name:"eleven-labs-freya",gender:"FEMALE",label:"Freya",useCase:"Characters",age:"Young",description:"An expressive and young voice.",languageCode:"en-US",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jsCqWAovK2LkecY7zXl4_English(US)_preview.mp3",elevenLabsId:"jsCqWAovK2LkecY7zXl4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-gigi",gender:"FEMALE",label:"Gigi",useCase:"Animation",age:"Young",description:"A childlish and young voice.",languageCode:"en-US",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jBpfuIE2acCO8z3wKNLl_English(US)_preview.mp3",elevenLabsId:"jBpfuIE2acCO8z3wKNLl",accent:"american",languageAgnostic:!0},{name:"eleven-labs-glinda",gender:"FEMALE",label:"Glinda",useCase:"Characters",age:"Middle-aged",description:"A smooth and middle-aged voice.",languageCode:"en-US",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/z9fAnlkpzviPz146aGWa_English(US)_preview.mp3",elevenLabsId:"z9fAnlkpzviPz146aGWa",accent:"american",languageAgnostic:!0},{name:"eleven-labs-grace",gender:"FEMALE",label:"Grace",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"en-US",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/oWAxZDx7w5VEj9dCyTzz_English(US)_preview.mp3",elevenLabsId:"oWAxZDx7w5VEj9dCyTzz",accent:"american-southern",languageAgnostic:!0},{name:"eleven-labs-harry",gender:"MALE",label:"Harry",useCase:"Characters",age:"Young",description:"An anxious and young voice.",languageCode:"en-US",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SOYHLrjzK2X1ezoPC6cr_English(US)_preview.mp3",elevenLabsId:"SOYHLrjzK2X1ezoPC6cr",accent:"american",languageAgnostic:!0},{name:"eleven-labs-jeremy",gender:"MALE",label:"Jeremy",useCase:"Narration",age:"Young",description:"An excited and young voice.",languageCode:"en-US",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bVMeCyTHy58xNoL34h3p_English(US)_preview.mp3",elevenLabsId:"bVMeCyTHy58xNoL34h3p",accent:"american-irish",languageAgnostic:!0},{name:"eleven-labs-jessica",gender:"FEMALE",label:"Jessica",useCase:"Conversational",age:"Young",description:"An expressive and young voice.",languageCode:"en-US",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cgSgspJ2msm6clMCkdW9_English(US)_preview.mp3",elevenLabsId:"cgSgspJ2msm6clMCkdW9",accent:"american",languageAgnostic:!0},{name:"eleven-labs-jessie",gender:"MALE",label:"Jessie",useCase:"Characters",age:"Old",description:"A raspy and old voice.",languageCode:"en-US",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/t0jbNlBVZ17f02VDIeMI_English(US)_preview.mp3",elevenLabsId:"t0jbNlBVZ17f02VDIeMI",accent:"american",languageAgnostic:!0},{name:"eleven-labs-laura",gender:"FEMALE",label:"Laura",useCase:"Social Media",age:"Young",description:"An upbeat and young voice.",languageCode:"en-US",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/FGY2WhTYpPnrIDTdsKH5_English(US)_preview.mp3",elevenLabsId:"FGY2WhTYpPnrIDTdsKH5",accent:"american",languageAgnostic:!0},{name:"eleven-labs-liam",gender:"MALE",label:"Liam",useCase:"Narration",age:"Young",description:"An articulate and young voice.",languageCode:"en-US",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TX3LPaxmHKxFdv7VOQHJ_English(US)_preview.mp3",elevenLabsId:"TX3LPaxmHKxFdv7VOQHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-michael",gender:"MALE",label:"Michael",useCase:"Narration",age:"Old",description:"A calm and old voice.",languageCode:"en-US",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/flq6f7yk4E4fJM5XTYuZ_English(US)_preview.mp3",elevenLabsId:"flq6f7yk4E4fJM5XTYuZ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-nicole",gender:"FEMALE",label:"Nicole",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"en-US",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/piTKgcLEGmPE4e6mEKli_English(US)_preview.mp3",elevenLabsId:"piTKgcLEGmPE4e6mEKli",accent:"american",languageAgnostic:!0},{name:"eleven-labs-patrick",gender:"MALE",label:"Patrick",useCase:"Characters",age:"Middle-aged",description:"A shouty and middle-aged voice.",languageCode:"en-US",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ODq5zmih8GrVes37Dizd_English(US)_preview.mp3",elevenLabsId:"ODq5zmih8GrVes37Dizd",accent:"american",languageAgnostic:!0},{name:"eleven-labs-paul",gender:"MALE",label:"Paul",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"en-US",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/5Q0t7uMcjvnagumLfvZi_English(US)_preview.mp3",elevenLabsId:"5Q0t7uMcjvnagumLfvZi",accent:"american",languageAgnostic:!0},{name:"eleven-labs-rachel",gender:"FEMALE",label:"Rachel",useCase:"Narration",age:"Young",description:"A calm and young voice.",languageCode:"en-US",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/21m00Tcm4TlvDq8ikWAM_English(US)_preview.mp3",elevenLabsId:"21m00Tcm4TlvDq8ikWAM",accent:"american",languageAgnostic:!0},{name:"eleven-labs-river",gender:"NEUTRAL",label:"River",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"en-US",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SAz9YHcvj6GT2YYXdXww_English(US)_preview.mp3",elevenLabsId:"SAz9YHcvj6GT2YYXdXww",accent:"american",languageAgnostic:!0},{name:"eleven-labs-roger",gender:"MALE",label:"Roger",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"en-US",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CwhRBWXzGAHq8TQ4Fs17_English(US)_preview.mp3",elevenLabsId:"CwhRBWXzGAHq8TQ4Fs17",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sam",gender:"MALE",label:"Sam",useCase:"Narration",age:"Young",description:"A raspy and young voice.",languageCode:"en-US",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/yoZ06aMxZJJ28mfd3POQ_English(US)_preview.mp3",elevenLabsId:"yoZ06aMxZJJ28mfd3POQ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sarah",gender:"FEMALE",label:"Sarah",useCase:"News",age:"Young",description:"A soft and young voice.",languageCode:"en-US",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/EXAVITQu4vr4xnSDxMaL_English(US)_preview.mp3",elevenLabsId:"EXAVITQu4vr4xnSDxMaL",accent:"american",languageAgnostic:!0},{name:"eleven-labs-serena",gender:"FEMALE",label:"Serena",useCase:"Narration",age:"Middle-aged",description:"A pleasant and middle-aged voice.",languageCode:"en-US",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pMsXgVXv3BLzUgSXRplE_English(US)_preview.mp3",elevenLabsId:"pMsXgVXv3BLzUgSXRplE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-thomas",gender:"MALE",label:"Thomas",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"en-US",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/GBv7mTt0atIp3Br8iCZE_English(US)_preview.mp3",elevenLabsId:"GBv7mTt0atIp3Br8iCZE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-will",gender:"MALE",label:"Will",useCase:"Social Media",age:"Young",description:"A friendly and young voice.",languageCode:"en-US",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bIHbv24MWmeRgasZH58o_English(US)_preview.mp3",elevenLabsId:"bIHbv24MWmeRgasZH58o",accent:"american",languageAgnostic:!0}],"English (UK)":[{gender:"MALE",label:"Daniel",name:"eleven-labs-daniel",languageCode:"en-GB",sampleURL:"https://cdn-useast1.kapwing.com/static/RtU-ElevenLabsDaniel.mp3",elevenLabsId:"onwK4e9ZLuTAKqWW03F9",age:"Middle-aged",useCase:"News",accent:"british",description:"An authoritative and middle-aged voice."},{gender:"FEMALE",label:"Dorothy",name:"eleven-labs-dorothy",languageCode:"en-GB",sampleURL:"https://cdn-useast1.kapwing.com/static/MIt-ElevenLabsDorothy.mp3",elevenLabsId:"ThT5KcBeYPX3keUQqHPh",age:"Young",useCase:"Narration",accent:"british",description:"A pleasant and young voice."},{gender:"MALE",label:"Benjamin",name:"en-GB-Neural2-B",languageCode:"en-GB",sampleURL:"https://cdn-useast1.kapwing.com/static/gzP-English_UK_Male.mp3",age:"Middle-aged",useCase:null},{name:"en-GB-Neural2-C",label:"Beth",gender:"FEMALE",languageCode:"en-GB",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-en-GB-Neural2-C_preview.mp3",age:"Middle-aged",useCase:null},{name:"en-GB-News-I",label:"Chloe",gender:"FEMALE",languageCode:"en-GB",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-en-GB-News-I_preview.mp3",age:"Middle-aged",useCase:null},{name:"en-GB-News-K",label:"Craig",gender:"MALE",languageCode:"en-GB",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-en-GB-News-K_preview.mp3",age:"Middle-aged",useCase:null},{gender:"FEMALE",label:"Ella",name:"en-GB-Neural2-A",languageCode:"en-GB",sampleURL:"https://cdn-useast1.kapwing.com/static/xGG-English_UK_Female.mp3",age:"Middle-aged",useCase:null},{name:"en-GB-News-G",label:"Gwen",gender:"FEMALE",languageCode:"en-GB",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-en-GB-News-G_preview.mp3",age:"Middle-aged",useCase:null},{name:"en-GB-News-M",label:"Hugh",gender:"MALE",languageCode:"en-GB",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-en-GB-News-M_preview.mp3",age:"Middle-aged",useCase:null},{name:"en-GB-News-L",label:"John",gender:"MALE",languageCode:"en-GB",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-en-GB-News-L_preview.mp3",age:"Middle-aged",useCase:null},{name:"en-GB-News-H",label:"Mandy",gender:"FEMALE",languageCode:"en-GB",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-en-GB-News-H_preview.mp3",age:"Middle-aged",useCase:null},{name:"en-GB-News-J",label:"Roger",gender:"MALE",languageCode:"en-GB",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-en-GB-News-J_preview.mp3",age:"Middle-aged",useCase:null},{name:"en-GB-Neural2-D",label:"Scott",gender:"MALE",languageCode:"en-GB",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-en-GB-Neural2-D_preview.mp3",age:"Middle-aged",useCase:null},{name:"en-GB-Neural2-F",label:"Tanya",gender:"FEMALE",languageCode:"en-GB",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-en-GB-Neural2-F_preview.mp3",age:"Middle-aged",useCase:null},{name:"eleven-labs-alice",gender:"FEMALE",label:"Alice",useCase:"News",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"en-GB",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Xb7hH8MSUJpSbSDYk0k2_English(UK)_preview.mp3",elevenLabsId:"Xb7hH8MSUJpSbSDYk0k2",accent:"british",languageAgnostic:!0},{name:"eleven-labs-dave",gender:"MALE",label:"Dave",useCase:"Characters",age:"Young",description:"A conversational and young voice.",languageCode:"en-GB",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CYw3kZ02Hs0563khs1Fj_English(UK)_preview.mp3",elevenLabsId:"CYw3kZ02Hs0563khs1Fj",accent:"british-essex",languageAgnostic:!0},{name:"eleven-labs-fin",gender:"MALE",label:"Fin",useCase:"Characters",age:"Old",description:"A sailor and old voice.",languageCode:"en-GB",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/D38z5RcWu1voky8WS1ja_English(UK)_preview.mp3",elevenLabsId:"D38z5RcWu1voky8WS1ja",accent:"irish",languageAgnostic:!0},{name:"eleven-labs-george",gender:"MALE",label:"George",useCase:"Narration",age:"Middle-aged",description:"A warm and middle aged voice.",languageCode:"en-GB",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/JBFqnCBsd6RMkjVDRZzb_English(UK)_preview.mp3",elevenLabsId:"JBFqnCBsd6RMkjVDRZzb",accent:"british",languageAgnostic:!0},{name:"eleven-labs-jeremy",gender:"MALE",label:"Jeremy",useCase:"Narration",age:"Young",description:"An excited and young voice.",languageCode:"en-GB",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bVMeCyTHy58xNoL34h3p_English(UK)_preview.mp3",elevenLabsId:"bVMeCyTHy58xNoL34h3p",accent:"american-irish",languageAgnostic:!0},{name:"eleven-labs-joseph",gender:"MALE",label:"Joseph",useCase:"News",age:"Middle-aged",description:"An articulate and middle-aged voice.",languageCode:"en-GB",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Zlb1dXrM653N07WRdFW3_English(UK)_preview.mp3",elevenLabsId:"Zlb1dXrM653N07WRdFW3",accent:"british",languageAgnostic:!0},{name:"eleven-labs-lily",gender:"FEMALE",label:"Lily",useCase:"Narration",age:"Middle-aged",description:"A warm and middle-aged voice.",languageCode:"en-GB",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pFZP5JQG7iQjIQuC4Bku_English(UK)_preview.mp3",elevenLabsId:"pFZP5JQG7iQjIQuC4Bku",accent:"british",languageAgnostic:!0}],"English (Australia)":[{gender:"MALE",label:"Charlie",name:"eleven-labs-charlie",languageCode:"en-AU",sampleURL:"https://cdn-useast1.kapwing.com/static/_gY-ElevenLabsCharlie.mp3",elevenLabsId:"IKne3meq5aSn9XLyUdCD",age:"Middle-aged",useCase:"Conversational",accent:"australian",description:"A natural and middle aged voice."},{gender:"FEMALE",label:"Phoebe",name:"eleven-labs-phoebe",languageCode:"en-AU",sampleURL:"https://cdn-useast1.kapwing.com/static/_KS-ElevenLabsPhoebe.mp3",elevenLabsId:"x74kkeY24H8PNV5uAWG6",age:"Young",description:"Playful and energetic voice.",useCase:"Informative Educational",accent:"australian"},{name:"en-AU-Neural2-C",label:"Kylie",gender:"FEMALE",languageCode:"en-AU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-en-AU-Neural2-C_preview.mp3",age:"Middle-aged",useCase:null},{gender:"MALE",label:"Levi",name:"en-AU-News-G",languageCode:"en-AU",sampleURL:"https://cdn-useast1.kapwing.com/static/ZQD-English_AU_Male.mp3",age:"Middle-aged",useCase:null},{name:"en-AU-Polyglot-1",label:"Mark",gender:"MALE",languageCode:"en-AU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-en-AU-Polyglot-1_preview.mp3",age:"Middle-aged",useCase:null},{gender:"FEMALE",label:"Mia",name:"en-AU-News-E",languageCode:"en-AU",sampleURL:"https://cdn-useast1.kapwing.com/static/BXD-English_AU_Female.mp3",age:"Middle-aged",useCase:null},{name:"en-AU-News-F",label:"Miley",gender:"FEMALE",languageCode:"en-AU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-en-AU-News-F_preview.mp3",age:"Middle-aged",useCase:null},{name:"en-AU-Neural2-B",label:"Ryan",gender:"MALE",languageCode:"en-AU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-en-AU-Neural2-B_preview.mp3",age:"Middle-aged",useCase:null},{name:"en-AU-Neural2-A",label:"Sarah",gender:"FEMALE",languageCode:"en-AU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-en-AU-Neural2-A_preview.mp3",age:"Middle-aged",useCase:null},{name:"en-AU-Neural2-D",label:"Tim",gender:"MALE",languageCode:"en-AU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-en-AU-Neural2-D_preview.mp3",age:"Middle-aged",useCase:null},{name:"eleven-labs-james",gender:"MALE",label:"James",useCase:"News",age:"Old",description:"A calm and old voice.",languageCode:"en-AU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ZQe5CZNOzWyzPSCn5a3c_English(Australia)_preview.mp3",elevenLabsId:"ZQe5CZNOzWyzPSCn5a3c",accent:"australian",languageAgnostic:!0}],"English (India)":[{gender:"FEMALE",label:"Tara",name:"eleven-labs-tara-english-in",languageCode:"en-IN",sampleURL:"https://cdn-useast1.kapwing.com/static/1sT-voice_preview_Tara---Conversational-Expressive-Voice.mp3",elevenLabsId:"P7vsEyTOpZ6YUTulin8m",age:"Young",description:"An emotive and young voice.",useCase:"Conversational",accent:"indian"},{name:"en-IN-Neural2-B",label:"Aarav",gender:"MALE",languageCode:"en-IN",sampleURL:"https://cdn-useast1.kapwing.com/static/57R-en-IN-Neural2-B.wav",age:"Middle-aged",useCase:null},{name:"en-IN-Neural2-A",label:"Ananya",gender:"FEMALE",languageCode:"en-IN",sampleURL:"https://cdn-useast1.kapwing.com/static/z7V-en-IN-Neural2-A.wav",age:"Middle-aged",useCase:null},{name:"en-IN-Neural2-D",label:"Priya",gender:"FEMALE",languageCode:"en-IN",sampleURL:"https://cdn-useast1.kapwing.com/static/01p-en-IN-Neural2-D.wav",age:"Middle-aged",useCase:null},{name:"en-IN-Neural2-C",label:"Raj",gender:"MALE",languageCode:"en-IN",sampleURL:"https://cdn-useast1.kapwing.com/static/arY-en-IN-Neural2-C.wav",age:"Middle-aged",useCase:null}],"Arabic (Multi-Region)":[{elevenLabsId:"IES4nrmZdUBHByLBde0P",sampleURL:"https://storage.googleapis.com/eleven-public-prod/database/user/9QU6MqZNA2gQa3xJofEAkVetJtm1/voices/IES4nrmZdUBHByLBde0P/k0uwHjffW70gT6nJ9gW5.mp3",label:"Haytham",gender:"MALE",age:"Middle-aged",accent:"egyptian",description:"Middle aged Arab male voice.",useCase:"Narrative Story",languageCode:"ar",name:"elevenlabs-Haytham - Conversation-ar-male"},{name:"ar-XA-Wavenet-B",label:"Ahmed",gender:"MALE",age:"Middle-aged",languageCode:"ar-XA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-ar-XA-Wavenet-B_preview.mp3"},{name:"ar-XA-Wavenet-D",label:"Zainab",gender:"FEMALE",age:"Middle-aged",languageCode:"ar-XA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-ar-XA-Wavenet-D_preview.mp3"},{name:"eleven-labs-adam",gender:"MALE",label:"Adam",useCase:"Narration",age:"Middle-aged",description:"A deep and middle aged voice.",languageCode:"ar",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pNInz6obpgDQGcFmaJgB_Arabic(Multi-Region)_preview.mp3",elevenLabsId:"pNInz6obpgDQGcFmaJgB",accent:"american",languageAgnostic:!0},{name:"eleven-labs-alice",gender:"FEMALE",label:"Alice",useCase:"News",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"ar",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Xb7hH8MSUJpSbSDYk0k2_Arabic(Multi-Region)_preview.mp3",elevenLabsId:"Xb7hH8MSUJpSbSDYk0k2",accent:"british",languageAgnostic:!0},{name:"eleven-labs-antoni",gender:"MALE",label:"Antoni",useCase:"Narration",age:"Young",description:"A well-rounded and young voice.",languageCode:"ar",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ErXwobaYiN019PkySvjV_Arabic(Multi-Region)_preview.mp3",elevenLabsId:"ErXwobaYiN019PkySvjV",accent:"american",languageAgnostic:!0},{name:"eleven-labs-aria",gender:"FEMALE",label:"Aria",useCase:"Social Media",age:"Middle-aged",description:"An expressive and middle-aged voice.",languageCode:"ar",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/9BWtsMINqrJLrRacOk9x_Arabic(Multi-Region)_preview.mp3",elevenLabsId:"9BWtsMINqrJLrRacOk9x",accent:"american",languageAgnostic:!0},{name:"eleven-labs-arnold",gender:"MALE",label:"Arnold",useCase:"Narration",age:"Middle-aged",description:"A crisp and middle aged voice.",languageCode:"ar",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/VR6AewLTigWG4xSOukaG_Arabic(Multi-Region)_preview.mp3",elevenLabsId:"VR6AewLTigWG4xSOukaG",accent:"american",languageAgnostic:!0},{name:"eleven-labs-bill",gender:"MALE",label:"Bill",useCase:"Narration",age:"Old",description:"A trustworthy and old voice.",languageCode:"ar",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pqHfZKP75CvOlQylNhV4_Arabic(Multi-Region)_preview.mp3",elevenLabsId:"pqHfZKP75CvOlQylNhV4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-brian",gender:"MALE",label:"Brian",useCase:"Narration",age:"Middle-aged",description:"A deep and middle-aged voice.",languageCode:"ar",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/nPczCjzI2devNBz1zQrb_Arabic(Multi-Region)_preview.mp3",elevenLabsId:"nPczCjzI2devNBz1zQrb",accent:"american",languageAgnostic:!0},{name:"eleven-labs-callum",gender:"MALE",label:"Callum",useCase:"Characters",age:"Middle-aged",description:"An intense and middle-aged voice.",languageCode:"ar",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/N2lVS1w4EtoT3dr4eOWO_Arabic(Multi-Region)_preview.mp3",elevenLabsId:"N2lVS1w4EtoT3dr4eOWO",accent:"american",languageAgnostic:!0},{name:"eleven-labs-charlie",gender:"MALE",label:"Charlie",useCase:"Conversational",age:"Middle-aged",description:"A natural and middle aged voice.",languageCode:"ar",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/IKne3meq5aSn9XLyUdCD_Arabic(Multi-Region)_preview.mp3",elevenLabsId:"IKne3meq5aSn9XLyUdCD",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-charlotte",gender:"FEMALE",label:"Charlotte",useCase:"Characters",age:"Young",description:"An inviting and young voice.",languageCode:"ar",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XB0fDUnXU5powFXDhCwa_Arabic(Multi-Region)_preview.mp3",elevenLabsId:"XB0fDUnXU5powFXDhCwa",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-chris",gender:"MALE",label:"Chris",useCase:"Conversational",age:"Middle-aged",description:"A casual and middle-aged voice.",languageCode:"ar",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/iP95p4xoKVk53GoZ742B_Arabic(Multi-Region)_preview.mp3",elevenLabsId:"iP95p4xoKVk53GoZ742B",accent:"american",languageAgnostic:!0},{name:"eleven-labs-clyde",gender:"MALE",label:"Clyde",useCase:"Characters",age:"Middle-aged",description:"A war veteran and middle-aged voice.",languageCode:"ar",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/2EiwWnXFnvU5JabPnv8n_Arabic(Multi-Region)_preview.mp3",elevenLabsId:"2EiwWnXFnvU5JabPnv8n",accent:"american",languageAgnostic:!0},{name:"eleven-labs-daniel",gender:"MALE",label:"Daniel",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"ar",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/onwK4e9ZLuTAKqWW03F9_Arabic(Multi-Region)_preview.mp3",elevenLabsId:"onwK4e9ZLuTAKqWW03F9",accent:"british",languageAgnostic:!0},{name:"eleven-labs-dave",gender:"MALE",label:"Dave",useCase:"Characters",age:"Young",description:"A conversational and young voice.",languageCode:"ar",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CYw3kZ02Hs0563khs1Fj_Arabic(Multi-Region)_preview.mp3",elevenLabsId:"CYw3kZ02Hs0563khs1Fj",accent:"british-essex",languageAgnostic:!0},{name:"eleven-labs-domi",gender:"FEMALE",label:"Domi",useCase:"Narration",age:"Young",description:"A strong and young voice.",languageCode:"ar",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/AZnzlk1XvdvUeBnXmlld_Arabic(Multi-Region)_preview.mp3",elevenLabsId:"AZnzlk1XvdvUeBnXmlld",accent:"american",languageAgnostic:!0},{name:"eleven-labs-dorothy",gender:"FEMALE",label:"Dorothy",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"ar",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ThT5KcBeYPX3keUQqHPh_Arabic(Multi-Region)_preview.mp3",elevenLabsId:"ThT5KcBeYPX3keUQqHPh",accent:"british",languageAgnostic:!0},{name:"eleven-labs-drew",gender:"MALE",label:"Drew",useCase:"News",age:"Middle-aged",description:"A well-rounded and middle-aged voice.",languageCode:"ar",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/29vD33N1CtxCmqQRPOHJ_Arabic(Multi-Region)_preview.mp3",elevenLabsId:"29vD33N1CtxCmqQRPOHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-emily",gender:"FEMALE",label:"Emily",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"ar",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/LcfcDJNUP1GQjkzn1xUU_Arabic(Multi-Region)_preview.mp3",elevenLabsId:"LcfcDJNUP1GQjkzn1xUU",accent:"american",languageAgnostic:!0},{name:"eleven-labs-eric",gender:"MALE",label:"Eric",useCase:"Conversational",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"ar",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cjVigY5qzO86Huf0OWal_Arabic(Multi-Region)_preview.mp3",elevenLabsId:"cjVigY5qzO86Huf0OWal",accent:"american",languageAgnostic:!0},{name:"eleven-labs-ethan",gender:"MALE",label:"Ethan",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"ar",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/g5CIjZEefAph4nQFvHAz_Arabic(Multi-Region)_preview.mp3",elevenLabsId:"g5CIjZEefAph4nQFvHAz",accent:"american",languageAgnostic:!0},{name:"eleven-labs-fin",gender:"MALE",label:"Fin",useCase:"Characters",age:"Old",description:"A sailor and old voice.",languageCode:"ar",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/D38z5RcWu1voky8WS1ja_Arabic(Multi-Region)_preview.mp3",elevenLabsId:"D38z5RcWu1voky8WS1ja",accent:"irish",languageAgnostic:!0},{name:"eleven-labs-freya",gender:"FEMALE",label:"Freya",useCase:"Characters",age:"Young",description:"An expressive and young voice.",languageCode:"ar",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jsCqWAovK2LkecY7zXl4_Arabic(Multi-Region)_preview.mp3",elevenLabsId:"jsCqWAovK2LkecY7zXl4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-george",gender:"MALE",label:"George",useCase:"Narration",age:"Middle-aged",description:"A warm and middle aged voice.",languageCode:"ar",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/JBFqnCBsd6RMkjVDRZzb_Arabic(Multi-Region)_preview.mp3",elevenLabsId:"JBFqnCBsd6RMkjVDRZzb",accent:"british",languageAgnostic:!0},{name:"eleven-labs-gigi",gender:"FEMALE",label:"Gigi",useCase:"Animation",age:"Young",description:"A childlish and young voice.",languageCode:"ar",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jBpfuIE2acCO8z3wKNLl_Arabic(Multi-Region)_preview.mp3",elevenLabsId:"jBpfuIE2acCO8z3wKNLl",accent:"american",languageAgnostic:!0},{name:"eleven-labs-giovanni",gender:"MALE",label:"Giovanni",useCase:"Narration",age:"Young",description:"A foreigner and young voice.",languageCode:"ar",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zcAOhNBS3c14rBihAFp1_Arabic(Multi-Region)_preview.mp3",elevenLabsId:"zcAOhNBS3c14rBihAFp1",accent:"english-italian",languageAgnostic:!0},{name:"eleven-labs-glinda",gender:"FEMALE",label:"Glinda",useCase:"Characters",age:"Middle-aged",description:"A smooth and middle-aged voice.",languageCode:"ar",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/z9fAnlkpzviPz146aGWa_Arabic(Multi-Region)_preview.mp3",elevenLabsId:"z9fAnlkpzviPz146aGWa",accent:"american",languageAgnostic:!0},{name:"eleven-labs-grace",gender:"FEMALE",label:"Grace",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"ar",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/oWAxZDx7w5VEj9dCyTzz_Arabic(Multi-Region)_preview.mp3",elevenLabsId:"oWAxZDx7w5VEj9dCyTzz",accent:"american-southern",languageAgnostic:!0},{name:"eleven-labs-harry",gender:"MALE",label:"Harry",useCase:"Characters",age:"Young",description:"An anxious and young voice.",languageCode:"ar",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SOYHLrjzK2X1ezoPC6cr_Arabic(Multi-Region)_preview.mp3",elevenLabsId:"SOYHLrjzK2X1ezoPC6cr",accent:"american",languageAgnostic:!0},{name:"eleven-labs-james",gender:"MALE",label:"James",useCase:"News",age:"Old",description:"A calm and old voice.",languageCode:"ar",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ZQe5CZNOzWyzPSCn5a3c_Arabic(Multi-Region)_preview.mp3",elevenLabsId:"ZQe5CZNOzWyzPSCn5a3c",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-jeremy",gender:"MALE",label:"Jeremy",useCase:"Narration",age:"Young",description:"An excited and young voice.",languageCode:"ar",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bVMeCyTHy58xNoL34h3p_Arabic(Multi-Region)_preview.mp3",elevenLabsId:"bVMeCyTHy58xNoL34h3p",accent:"american-irish",languageAgnostic:!0},{name:"eleven-labs-jessica",gender:"FEMALE",label:"Jessica",useCase:"Conversational",age:"Young",description:"An expressive and young voice.",languageCode:"ar",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cgSgspJ2msm6clMCkdW9_Arabic(Multi-Region)_preview.mp3",elevenLabsId:"cgSgspJ2msm6clMCkdW9",accent:"american",languageAgnostic:!0},{name:"eleven-labs-jessie",gender:"MALE",label:"Jessie",useCase:"Characters",age:"Old",description:"A raspy and old voice.",languageCode:"ar",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/t0jbNlBVZ17f02VDIeMI_Arabic(Multi-Region)_preview.mp3",elevenLabsId:"t0jbNlBVZ17f02VDIeMI",accent:"american",languageAgnostic:!0},{name:"eleven-labs-joseph",gender:"MALE",label:"Joseph",useCase:"News",age:"Middle-aged",description:"An articulate and middle-aged voice.",languageCode:"ar",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Zlb1dXrM653N07WRdFW3_Arabic(Multi-Region)_preview.mp3",elevenLabsId:"Zlb1dXrM653N07WRdFW3",accent:"british",languageAgnostic:!0},{name:"eleven-labs-josh",gender:"MALE",label:"Josh",useCase:"Narration",age:"Young",description:"A deep and young voice.",languageCode:"ar",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TxGEqnHWrfWFTfGW9XjX_Arabic(Multi-Region)_preview.mp3",elevenLabsId:"TxGEqnHWrfWFTfGW9XjX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-laura",gender:"FEMALE",label:"Laura",useCase:"Social Media",age:"Young",description:"An upbeat and young voice.",languageCode:"ar",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/FGY2WhTYpPnrIDTdsKH5_Arabic(Multi-Region)_preview.mp3",elevenLabsId:"FGY2WhTYpPnrIDTdsKH5",accent:"american",languageAgnostic:!0},{name:"eleven-labs-liam",gender:"MALE",label:"Liam",useCase:"Narration",age:"Young",description:"An articulate and young voice.",languageCode:"ar",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TX3LPaxmHKxFdv7VOQHJ_Arabic(Multi-Region)_preview.mp3",elevenLabsId:"TX3LPaxmHKxFdv7VOQHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-lily",gender:"FEMALE",label:"Lily",useCase:"Narration",age:"Middle-aged",description:"A warm and middle-aged voice.",languageCode:"ar",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pFZP5JQG7iQjIQuC4Bku_Arabic(Multi-Region)_preview.mp3",elevenLabsId:"pFZP5JQG7iQjIQuC4Bku",accent:"british",languageAgnostic:!0},{name:"eleven-labs-matilda",gender:"FEMALE",label:"Matilda",useCase:"Narration",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"ar",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XrExE9yKIg1WjnnlVkGX_Arabic(Multi-Region)_preview.mp3",elevenLabsId:"XrExE9yKIg1WjnnlVkGX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-michael",gender:"MALE",label:"Michael",useCase:"Narration",age:"Old",description:"A calm and old voice.",languageCode:"ar",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/flq6f7yk4E4fJM5XTYuZ_Arabic(Multi-Region)_preview.mp3",elevenLabsId:"flq6f7yk4E4fJM5XTYuZ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-mimi",gender:"FEMALE",label:"Mimi",useCase:"Animation",age:"Young",description:"A childish and young voice.",languageCode:"ar",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zrHiDhphv9ZnVXBqCLjz_Arabic(Multi-Region)_preview.mp3",elevenLabsId:"zrHiDhphv9ZnVXBqCLjz",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-nicole",gender:"FEMALE",label:"Nicole",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"ar",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/piTKgcLEGmPE4e6mEKli_Arabic(Multi-Region)_preview.mp3",elevenLabsId:"piTKgcLEGmPE4e6mEKli",accent:"american",languageAgnostic:!0},{name:"eleven-labs-patrick",gender:"MALE",label:"Patrick",useCase:"Characters",age:"Middle-aged",description:"A shouty and middle-aged voice.",languageCode:"ar",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ODq5zmih8GrVes37Dizd_Arabic(Multi-Region)_preview.mp3",elevenLabsId:"ODq5zmih8GrVes37Dizd",accent:"american",languageAgnostic:!0},{name:"eleven-labs-paul",gender:"MALE",label:"Paul",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"ar",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/5Q0t7uMcjvnagumLfvZi_Arabic(Multi-Region)_preview.mp3",elevenLabsId:"5Q0t7uMcjvnagumLfvZi",accent:"american",languageAgnostic:!0},{name:"eleven-labs-rachel",gender:"FEMALE",label:"Rachel",useCase:"Narration",age:"Young",description:"A calm and young voice.",languageCode:"ar",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/21m00Tcm4TlvDq8ikWAM_Arabic(Multi-Region)_preview.mp3",elevenLabsId:"21m00Tcm4TlvDq8ikWAM",accent:"american",languageAgnostic:!0},{name:"eleven-labs-river",gender:"NEUTRAL",label:"River",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"ar",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SAz9YHcvj6GT2YYXdXww_Arabic(Multi-Region)_preview.mp3",elevenLabsId:"SAz9YHcvj6GT2YYXdXww",accent:"american",languageAgnostic:!0},{name:"eleven-labs-roger",gender:"MALE",label:"Roger",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"ar",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CwhRBWXzGAHq8TQ4Fs17_Arabic(Multi-Region)_preview.mp3",elevenLabsId:"CwhRBWXzGAHq8TQ4Fs17",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sam",gender:"MALE",label:"Sam",useCase:"Narration",age:"Young",description:"A raspy and young voice.",languageCode:"ar",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/yoZ06aMxZJJ28mfd3POQ_Arabic(Multi-Region)_preview.mp3",elevenLabsId:"yoZ06aMxZJJ28mfd3POQ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sarah",gender:"FEMALE",label:"Sarah",useCase:"News",age:"Young",description:"A soft and young voice.",languageCode:"ar",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/EXAVITQu4vr4xnSDxMaL_Arabic(Multi-Region)_preview.mp3",elevenLabsId:"EXAVITQu4vr4xnSDxMaL",accent:"american",languageAgnostic:!0},{name:"eleven-labs-serena",gender:"FEMALE",label:"Serena",useCase:"Narration",age:"Middle-aged",description:"A pleasant and middle-aged voice.",languageCode:"ar",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pMsXgVXv3BLzUgSXRplE_Arabic(Multi-Region)_preview.mp3",elevenLabsId:"pMsXgVXv3BLzUgSXRplE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-thomas",gender:"MALE",label:"Thomas",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"ar",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/GBv7mTt0atIp3Br8iCZE_Arabic(Multi-Region)_preview.mp3",elevenLabsId:"GBv7mTt0atIp3Br8iCZE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-will",gender:"MALE",label:"Will",useCase:"Social Media",age:"Young",description:"A friendly and young voice.",languageCode:"ar",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bIHbv24MWmeRgasZH58o_Arabic(Multi-Region)_preview.mp3",elevenLabsId:"bIHbv24MWmeRgasZH58o",accent:"american",languageAgnostic:!0}],"Bengali (India)":[{name:"bn-IN-Wavenet-C",label:"Priyanka",gender:"FEMALE",languageCode:"bn-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-bn-IN-Wavenet-C_preview.mp3",age:"Middle-aged",useCase:null},{name:"bn-IN-Wavenet-D",label:"Sourav",gender:"MALE",languageCode:"bn-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-bn-IN-Wavenet-D_preview.mp3",age:"Middle-aged",useCase:null}],"Bulgarian (Bulgaria)":[{gender:"FEMALE",label:"Ana",name:"bg-BG-Standard-A",languageCode:"bg-BG",sampleURL:"https://cloud.google.com/static/text-to-speech/docs/audio/bg-BG-Standard-A.wav",age:"Middle-aged",useCase:null},{name:"eleven-labs-adam",gender:"MALE",label:"Adam",useCase:"Narration",age:"Middle-aged",description:"A deep and middle aged voice.",languageCode:"bg-BG",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pNInz6obpgDQGcFmaJgB_Bulgarian(Bulgaria)_preview.mp3",elevenLabsId:"pNInz6obpgDQGcFmaJgB",accent:"american",languageAgnostic:!0},{name:"eleven-labs-alice",gender:"FEMALE",label:"Alice",useCase:"News",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"bg-BG",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Xb7hH8MSUJpSbSDYk0k2_Bulgarian(Bulgaria)_preview.mp3",elevenLabsId:"Xb7hH8MSUJpSbSDYk0k2",accent:"british",languageAgnostic:!0},{name:"eleven-labs-antoni",gender:"MALE",label:"Antoni",useCase:"Narration",age:"Young",description:"A well-rounded and young voice.",languageCode:"bg-BG",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ErXwobaYiN019PkySvjV_Bulgarian(Bulgaria)_preview.mp3",elevenLabsId:"ErXwobaYiN019PkySvjV",accent:"american",languageAgnostic:!0},{name:"eleven-labs-aria",gender:"FEMALE",label:"Aria",useCase:"Social Media",age:"Middle-aged",description:"An expressive and middle-aged voice.",languageCode:"bg-BG",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/9BWtsMINqrJLrRacOk9x_Bulgarian(Bulgaria)_preview.mp3",elevenLabsId:"9BWtsMINqrJLrRacOk9x",accent:"american",languageAgnostic:!0},{name:"eleven-labs-arnold",gender:"MALE",label:"Arnold",useCase:"Narration",age:"Middle-aged",description:"A crisp and middle aged voice.",languageCode:"bg-BG",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/VR6AewLTigWG4xSOukaG_Bulgarian(Bulgaria)_preview.mp3",elevenLabsId:"VR6AewLTigWG4xSOukaG",accent:"american",languageAgnostic:!0},{name:"eleven-labs-bill",gender:"MALE",label:"Bill",useCase:"Narration",age:"Old",description:"A trustworthy and old voice.",languageCode:"bg-BG",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pqHfZKP75CvOlQylNhV4_Bulgarian(Bulgaria)_preview.mp3",elevenLabsId:"pqHfZKP75CvOlQylNhV4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-brian",gender:"MALE",label:"Brian",useCase:"Narration",age:"Middle-aged",description:"A deep and middle-aged voice.",languageCode:"bg-BG",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/nPczCjzI2devNBz1zQrb_Bulgarian(Bulgaria)_preview.mp3",elevenLabsId:"nPczCjzI2devNBz1zQrb",accent:"american",languageAgnostic:!0},{name:"eleven-labs-callum",gender:"MALE",label:"Callum",useCase:"Characters",age:"Middle-aged",description:"An intense and middle-aged voice.",languageCode:"bg-BG",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/N2lVS1w4EtoT3dr4eOWO_Bulgarian(Bulgaria)_preview.mp3",elevenLabsId:"N2lVS1w4EtoT3dr4eOWO",accent:"american",languageAgnostic:!0},{name:"eleven-labs-charlie",gender:"MALE",label:"Charlie",useCase:"Conversational",age:"Middle-aged",description:"A natural and middle aged voice.",languageCode:"bg-BG",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/IKne3meq5aSn9XLyUdCD_Bulgarian(Bulgaria)_preview.mp3",elevenLabsId:"IKne3meq5aSn9XLyUdCD",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-charlotte",gender:"FEMALE",label:"Charlotte",useCase:"Characters",age:"Young",description:"An inviting and young voice.",languageCode:"bg-BG",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XB0fDUnXU5powFXDhCwa_Bulgarian(Bulgaria)_preview.mp3",elevenLabsId:"XB0fDUnXU5powFXDhCwa",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-chris",gender:"MALE",label:"Chris",useCase:"Conversational",age:"Middle-aged",description:"A casual and middle-aged voice.",languageCode:"bg-BG",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/iP95p4xoKVk53GoZ742B_Bulgarian(Bulgaria)_preview.mp3",elevenLabsId:"iP95p4xoKVk53GoZ742B",accent:"american",languageAgnostic:!0},{name:"eleven-labs-clyde",gender:"MALE",label:"Clyde",useCase:"Characters",age:"Middle-aged",description:"A war veteran and middle-aged voice.",languageCode:"bg-BG",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/2EiwWnXFnvU5JabPnv8n_Bulgarian(Bulgaria)_preview.mp3",elevenLabsId:"2EiwWnXFnvU5JabPnv8n",accent:"american",languageAgnostic:!0},{name:"eleven-labs-daniel",gender:"MALE",label:"Daniel",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"bg-BG",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/onwK4e9ZLuTAKqWW03F9_Bulgarian(Bulgaria)_preview.mp3",elevenLabsId:"onwK4e9ZLuTAKqWW03F9",accent:"british",languageAgnostic:!0},{name:"eleven-labs-dave",gender:"MALE",label:"Dave",useCase:"Characters",age:"Young",description:"A conversational and young voice.",languageCode:"bg-BG",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CYw3kZ02Hs0563khs1Fj_Bulgarian(Bulgaria)_preview.mp3",elevenLabsId:"CYw3kZ02Hs0563khs1Fj",accent:"british-essex",languageAgnostic:!0},{name:"eleven-labs-domi",gender:"FEMALE",label:"Domi",useCase:"Narration",age:"Young",description:"A strong and young voice.",languageCode:"bg-BG",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/AZnzlk1XvdvUeBnXmlld_Bulgarian(Bulgaria)_preview.mp3",elevenLabsId:"AZnzlk1XvdvUeBnXmlld",accent:"american",languageAgnostic:!0},{name:"eleven-labs-dorothy",gender:"FEMALE",label:"Dorothy",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"bg-BG",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ThT5KcBeYPX3keUQqHPh_Bulgarian(Bulgaria)_preview.mp3",elevenLabsId:"ThT5KcBeYPX3keUQqHPh",accent:"british",languageAgnostic:!0},{name:"eleven-labs-drew",gender:"MALE",label:"Drew",useCase:"News",age:"Middle-aged",description:"A well-rounded and middle-aged voice.",languageCode:"bg-BG",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/29vD33N1CtxCmqQRPOHJ_Bulgarian(Bulgaria)_preview.mp3",elevenLabsId:"29vD33N1CtxCmqQRPOHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-emily",gender:"FEMALE",label:"Emily",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"bg-BG",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/LcfcDJNUP1GQjkzn1xUU_Bulgarian(Bulgaria)_preview.mp3",elevenLabsId:"LcfcDJNUP1GQjkzn1xUU",accent:"american",languageAgnostic:!0},{name:"eleven-labs-eric",gender:"MALE",label:"Eric",useCase:"Conversational",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"bg-BG",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cjVigY5qzO86Huf0OWal_Bulgarian(Bulgaria)_preview.mp3",elevenLabsId:"cjVigY5qzO86Huf0OWal",accent:"american",languageAgnostic:!0},{name:"eleven-labs-ethan",gender:"MALE",label:"Ethan",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"bg-BG",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/g5CIjZEefAph4nQFvHAz_Bulgarian(Bulgaria)_preview.mp3",elevenLabsId:"g5CIjZEefAph4nQFvHAz",accent:"american",languageAgnostic:!0},{name:"eleven-labs-fin",gender:"MALE",label:"Fin",useCase:"Characters",age:"Old",description:"A sailor and old voice.",languageCode:"bg-BG",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/D38z5RcWu1voky8WS1ja_Bulgarian(Bulgaria)_preview.mp3",elevenLabsId:"D38z5RcWu1voky8WS1ja",accent:"irish",languageAgnostic:!0},{name:"eleven-labs-freya",gender:"FEMALE",label:"Freya",useCase:"Characters",age:"Young",description:"An expressive and young voice.",languageCode:"bg-BG",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jsCqWAovK2LkecY7zXl4_Bulgarian(Bulgaria)_preview.mp3",elevenLabsId:"jsCqWAovK2LkecY7zXl4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-george",gender:"MALE",label:"George",useCase:"Narration",age:"Middle-aged",description:"A warm and middle aged voice.",languageCode:"bg-BG",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/JBFqnCBsd6RMkjVDRZzb_Bulgarian(Bulgaria)_preview.mp3",elevenLabsId:"JBFqnCBsd6RMkjVDRZzb",accent:"british",languageAgnostic:!0},{name:"eleven-labs-gigi",gender:"FEMALE",label:"Gigi",useCase:"Animation",age:"Young",description:"A childlish and young voice.",languageCode:"bg-BG",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jBpfuIE2acCO8z3wKNLl_Bulgarian(Bulgaria)_preview.mp3",elevenLabsId:"jBpfuIE2acCO8z3wKNLl",accent:"american",languageAgnostic:!0},{name:"eleven-labs-giovanni",gender:"MALE",label:"Giovanni",useCase:"Narration",age:"Young",description:"A foreigner and young voice.",languageCode:"bg-BG",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zcAOhNBS3c14rBihAFp1_Bulgarian(Bulgaria)_preview.mp3",elevenLabsId:"zcAOhNBS3c14rBihAFp1",accent:"english-italian",languageAgnostic:!0},{name:"eleven-labs-glinda",gender:"FEMALE",label:"Glinda",useCase:"Characters",age:"Middle-aged",description:"A smooth and middle-aged voice.",languageCode:"bg-BG",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/z9fAnlkpzviPz146aGWa_Bulgarian(Bulgaria)_preview.mp3",elevenLabsId:"z9fAnlkpzviPz146aGWa",accent:"american",languageAgnostic:!0},{name:"eleven-labs-grace",gender:"FEMALE",label:"Grace",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"bg-BG",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/oWAxZDx7w5VEj9dCyTzz_Bulgarian(Bulgaria)_preview.mp3",elevenLabsId:"oWAxZDx7w5VEj9dCyTzz",accent:"american-southern",languageAgnostic:!0},{name:"eleven-labs-harry",gender:"MALE",label:"Harry",useCase:"Characters",age:"Young",description:"An anxious and young voice.",languageCode:"bg-BG",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SOYHLrjzK2X1ezoPC6cr_Bulgarian(Bulgaria)_preview.mp3",elevenLabsId:"SOYHLrjzK2X1ezoPC6cr",accent:"american",languageAgnostic:!0},{name:"eleven-labs-james",gender:"MALE",label:"James",useCase:"News",age:"Old",description:"A calm and old voice.",languageCode:"bg-BG",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ZQe5CZNOzWyzPSCn5a3c_Bulgarian(Bulgaria)_preview.mp3",elevenLabsId:"ZQe5CZNOzWyzPSCn5a3c",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-jeremy",gender:"MALE",label:"Jeremy",useCase:"Narration",age:"Young",description:"An excited and young voice.",languageCode:"bg-BG",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bVMeCyTHy58xNoL34h3p_Bulgarian(Bulgaria)_preview.mp3",elevenLabsId:"bVMeCyTHy58xNoL34h3p",accent:"american-irish",languageAgnostic:!0},{name:"eleven-labs-jessica",gender:"FEMALE",label:"Jessica",useCase:"Conversational",age:"Young",description:"An expressive and young voice.",languageCode:"bg-BG",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cgSgspJ2msm6clMCkdW9_Bulgarian(Bulgaria)_preview.mp3",elevenLabsId:"cgSgspJ2msm6clMCkdW9",accent:"american",languageAgnostic:!0},{name:"eleven-labs-jessie",gender:"MALE",label:"Jessie",useCase:"Characters",age:"Old",description:"A raspy and old voice.",languageCode:"bg-BG",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/t0jbNlBVZ17f02VDIeMI_Bulgarian(Bulgaria)_preview.mp3",elevenLabsId:"t0jbNlBVZ17f02VDIeMI",accent:"american",languageAgnostic:!0},{name:"eleven-labs-joseph",gender:"MALE",label:"Joseph",useCase:"News",age:"Middle-aged",description:"An articulate and middle-aged voice.",languageCode:"bg-BG",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Zlb1dXrM653N07WRdFW3_Bulgarian(Bulgaria)_preview.mp3",elevenLabsId:"Zlb1dXrM653N07WRdFW3",accent:"british",languageAgnostic:!0},{name:"eleven-labs-josh",gender:"MALE",label:"Josh",useCase:"Narration",age:"Young",description:"A deep and young voice.",languageCode:"bg-BG",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TxGEqnHWrfWFTfGW9XjX_Bulgarian(Bulgaria)_preview.mp3",elevenLabsId:"TxGEqnHWrfWFTfGW9XjX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-laura",gender:"FEMALE",label:"Laura",useCase:"Social Media",age:"Young",description:"An upbeat and young voice.",languageCode:"bg-BG",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/FGY2WhTYpPnrIDTdsKH5_Bulgarian(Bulgaria)_preview.mp3",elevenLabsId:"FGY2WhTYpPnrIDTdsKH5",accent:"american",languageAgnostic:!0},{name:"eleven-labs-liam",gender:"MALE",label:"Liam",useCase:"Narration",age:"Young",description:"An articulate and young voice.",languageCode:"bg-BG",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TX3LPaxmHKxFdv7VOQHJ_Bulgarian(Bulgaria)_preview.mp3",elevenLabsId:"TX3LPaxmHKxFdv7VOQHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-lily",gender:"FEMALE",label:"Lily",useCase:"Narration",age:"Middle-aged",description:"A warm and middle-aged voice.",languageCode:"bg-BG",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pFZP5JQG7iQjIQuC4Bku_Bulgarian(Bulgaria)_preview.mp3",elevenLabsId:"pFZP5JQG7iQjIQuC4Bku",accent:"british",languageAgnostic:!0},{name:"eleven-labs-matilda",gender:"FEMALE",label:"Matilda",useCase:"Narration",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"bg-BG",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XrExE9yKIg1WjnnlVkGX_Bulgarian(Bulgaria)_preview.mp3",elevenLabsId:"XrExE9yKIg1WjnnlVkGX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-michael",gender:"MALE",label:"Michael",useCase:"Narration",age:"Old",description:"A calm and old voice.",languageCode:"bg-BG",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/flq6f7yk4E4fJM5XTYuZ_Bulgarian(Bulgaria)_preview.mp3",elevenLabsId:"flq6f7yk4E4fJM5XTYuZ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-mimi",gender:"FEMALE",label:"Mimi",useCase:"Animation",age:"Young",description:"A childish and young voice.",languageCode:"bg-BG",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zrHiDhphv9ZnVXBqCLjz_Bulgarian(Bulgaria)_preview.mp3",elevenLabsId:"zrHiDhphv9ZnVXBqCLjz",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-nicole",gender:"FEMALE",label:"Nicole",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"bg-BG",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/piTKgcLEGmPE4e6mEKli_Bulgarian(Bulgaria)_preview.mp3",elevenLabsId:"piTKgcLEGmPE4e6mEKli",accent:"american",languageAgnostic:!0},{name:"eleven-labs-patrick",gender:"MALE",label:"Patrick",useCase:"Characters",age:"Middle-aged",description:"A shouty and middle-aged voice.",languageCode:"bg-BG",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ODq5zmih8GrVes37Dizd_Bulgarian(Bulgaria)_preview.mp3",elevenLabsId:"ODq5zmih8GrVes37Dizd",accent:"american",languageAgnostic:!0},{name:"eleven-labs-paul",gender:"MALE",label:"Paul",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"bg-BG",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/5Q0t7uMcjvnagumLfvZi_Bulgarian(Bulgaria)_preview.mp3",elevenLabsId:"5Q0t7uMcjvnagumLfvZi",accent:"american",languageAgnostic:!0},{name:"eleven-labs-rachel",gender:"FEMALE",label:"Rachel",useCase:"Narration",age:"Young",description:"A calm and young voice.",languageCode:"bg-BG",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/21m00Tcm4TlvDq8ikWAM_Bulgarian(Bulgaria)_preview.mp3",elevenLabsId:"21m00Tcm4TlvDq8ikWAM",accent:"american",languageAgnostic:!0},{name:"eleven-labs-river",gender:"NEUTRAL",label:"River",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"bg-BG",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SAz9YHcvj6GT2YYXdXww_Bulgarian(Bulgaria)_preview.mp3",elevenLabsId:"SAz9YHcvj6GT2YYXdXww",accent:"american",languageAgnostic:!0},{name:"eleven-labs-roger",gender:"MALE",label:"Roger",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"bg-BG",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CwhRBWXzGAHq8TQ4Fs17_Bulgarian(Bulgaria)_preview.mp3",elevenLabsId:"CwhRBWXzGAHq8TQ4Fs17",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sam",gender:"MALE",label:"Sam",useCase:"Narration",age:"Young",description:"A raspy and young voice.",languageCode:"bg-BG",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/yoZ06aMxZJJ28mfd3POQ_Bulgarian(Bulgaria)_preview.mp3",elevenLabsId:"yoZ06aMxZJJ28mfd3POQ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sarah",gender:"FEMALE",label:"Sarah",useCase:"News",age:"Young",description:"A soft and young voice.",languageCode:"bg-BG",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/EXAVITQu4vr4xnSDxMaL_Bulgarian(Bulgaria)_preview.mp3",elevenLabsId:"EXAVITQu4vr4xnSDxMaL",accent:"american",languageAgnostic:!0},{name:"eleven-labs-serena",gender:"FEMALE",label:"Serena",useCase:"Narration",age:"Middle-aged",description:"A pleasant and middle-aged voice.",languageCode:"bg-BG",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pMsXgVXv3BLzUgSXRplE_Bulgarian(Bulgaria)_preview.mp3",elevenLabsId:"pMsXgVXv3BLzUgSXRplE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-thomas",gender:"MALE",label:"Thomas",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"bg-BG",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/GBv7mTt0atIp3Br8iCZE_Bulgarian(Bulgaria)_preview.mp3",elevenLabsId:"GBv7mTt0atIp3Br8iCZE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-will",gender:"MALE",label:"Will",useCase:"Social Media",age:"Young",description:"A friendly and young voice.",languageCode:"bg-BG",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bIHbv24MWmeRgasZH58o_Bulgarian(Bulgaria)_preview.mp3",elevenLabsId:"bIHbv24MWmeRgasZH58o",accent:"american",languageAgnostic:!0}],"Chinese (Mandarin)":[{elevenLabsId:"WuLq5z7nEcrhppO0ZQJw",sampleURL:"https://storage.googleapis.com/eleven-public-prod/custom/voices/WuLq5z7nEcrhppO0ZQJw/VQoMkMi8aSXSAwz6NHzh.mp3",label:"Martin",gender:"MALE",age:"Middle-aged",accent:"standard",description:"A serious and middle aged voice.",useCase:"Narrative Story",languageCode:"cmn-Hans-CN",name:"elevenlabs-Martin Li-cmn-Hans-CN-male"},{name:"cmn-CN-Wavenet-B",label:"Haoyu",gender:"MALE",age:"Middle-aged",languageCode:"cmn-CN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-cmn-CN-Wavenet-B_preview.mp3"},{name:"cmn-CN-Wavenet-A",label:"Jing",gender:"FEMALE",age:"Middle-aged",languageCode:"cmn-CN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-cmn-CN-Wavenet-A_preview.mp3"},{name:"eleven-labs-adam",gender:"MALE",label:"Adam",useCase:"Narration",age:"Middle-aged",description:"A deep and middle aged voice.",languageCode:"cmn-Hans-CN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pNInz6obpgDQGcFmaJgB_Chinese(Mandarin)_preview.mp3",elevenLabsId:"pNInz6obpgDQGcFmaJgB",accent:"american",languageAgnostic:!0},{name:"eleven-labs-alice",gender:"FEMALE",label:"Alice",useCase:"News",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"cmn-Hans-CN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Xb7hH8MSUJpSbSDYk0k2_Chinese(Mandarin)_preview.mp3",elevenLabsId:"Xb7hH8MSUJpSbSDYk0k2",accent:"british",languageAgnostic:!0},{name:"eleven-labs-antoni",gender:"MALE",label:"Antoni",useCase:"Narration",age:"Young",description:"A well-rounded and young voice.",languageCode:"cmn-Hans-CN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ErXwobaYiN019PkySvjV_Chinese(Mandarin)_preview.mp3",elevenLabsId:"ErXwobaYiN019PkySvjV",accent:"american",languageAgnostic:!0},{name:"eleven-labs-aria",gender:"FEMALE",label:"Aria",useCase:"Social Media",age:"Middle-aged",description:"An expressive and middle-aged voice.",languageCode:"cmn-Hans-CN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/9BWtsMINqrJLrRacOk9x_Chinese(Mandarin)_preview.mp3",elevenLabsId:"9BWtsMINqrJLrRacOk9x",accent:"american",languageAgnostic:!0},{name:"eleven-labs-arnold",gender:"MALE",label:"Arnold",useCase:"Narration",age:"Middle-aged",description:"A crisp and middle aged voice.",languageCode:"cmn-Hans-CN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/VR6AewLTigWG4xSOukaG_Chinese(Mandarin)_preview.mp3",elevenLabsId:"VR6AewLTigWG4xSOukaG",accent:"american",languageAgnostic:!0},{name:"eleven-labs-bill",gender:"MALE",label:"Bill",useCase:"Narration",age:"Old",description:"A trustworthy and old voice.",languageCode:"cmn-Hans-CN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pqHfZKP75CvOlQylNhV4_Chinese(Mandarin)_preview.mp3",elevenLabsId:"pqHfZKP75CvOlQylNhV4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-brian",gender:"MALE",label:"Brian",useCase:"Narration",age:"Middle-aged",description:"A deep and middle-aged voice.",languageCode:"cmn-Hans-CN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/nPczCjzI2devNBz1zQrb_Chinese(Mandarin)_preview.mp3",elevenLabsId:"nPczCjzI2devNBz1zQrb",accent:"american",languageAgnostic:!0},{name:"eleven-labs-callum",gender:"MALE",label:"Callum",useCase:"Characters",age:"Middle-aged",description:"An intense and middle-aged voice.",languageCode:"cmn-Hans-CN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/N2lVS1w4EtoT3dr4eOWO_Chinese(Mandarin)_preview.mp3",elevenLabsId:"N2lVS1w4EtoT3dr4eOWO",accent:"american",languageAgnostic:!0},{name:"eleven-labs-charlie",gender:"MALE",label:"Charlie",useCase:"Conversational",age:"Middle-aged",description:"A natural and middle aged voice.",languageCode:"cmn-Hans-CN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/IKne3meq5aSn9XLyUdCD_Chinese(Mandarin)_preview.mp3",elevenLabsId:"IKne3meq5aSn9XLyUdCD",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-charlotte",gender:"FEMALE",label:"Charlotte",useCase:"Characters",age:"Young",description:"An inviting and young voice.",languageCode:"cmn-Hans-CN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XB0fDUnXU5powFXDhCwa_Chinese(Mandarin)_preview.mp3",elevenLabsId:"XB0fDUnXU5powFXDhCwa",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-chris",gender:"MALE",label:"Chris",useCase:"Conversational",age:"Middle-aged",description:"A casual and middle-aged voice.",languageCode:"cmn-Hans-CN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/iP95p4xoKVk53GoZ742B_Chinese(Mandarin)_preview.mp3",elevenLabsId:"iP95p4xoKVk53GoZ742B",accent:"american",languageAgnostic:!0},{name:"eleven-labs-clyde",gender:"MALE",label:"Clyde",useCase:"Characters",age:"Middle-aged",description:"A war veteran and middle-aged voice.",languageCode:"cmn-Hans-CN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/2EiwWnXFnvU5JabPnv8n_Chinese(Mandarin)_preview.mp3",elevenLabsId:"2EiwWnXFnvU5JabPnv8n",accent:"american",languageAgnostic:!0},{name:"eleven-labs-daniel",gender:"MALE",label:"Daniel",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"cmn-Hans-CN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/onwK4e9ZLuTAKqWW03F9_Chinese(Mandarin)_preview.mp3",elevenLabsId:"onwK4e9ZLuTAKqWW03F9",accent:"british",languageAgnostic:!0},{name:"eleven-labs-dave",gender:"MALE",label:"Dave",useCase:"Characters",age:"Young",description:"A conversational and young voice.",languageCode:"cmn-Hans-CN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CYw3kZ02Hs0563khs1Fj_Chinese(Mandarin)_preview.mp3",elevenLabsId:"CYw3kZ02Hs0563khs1Fj",accent:"british-essex",languageAgnostic:!0},{name:"eleven-labs-domi",gender:"FEMALE",label:"Domi",useCase:"Narration",age:"Young",description:"A strong and young voice.",languageCode:"cmn-Hans-CN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/AZnzlk1XvdvUeBnXmlld_Chinese(Mandarin)_preview.mp3",elevenLabsId:"AZnzlk1XvdvUeBnXmlld",accent:"american",languageAgnostic:!0},{name:"eleven-labs-dorothy",gender:"FEMALE",label:"Dorothy",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"cmn-Hans-CN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ThT5KcBeYPX3keUQqHPh_Chinese(Mandarin)_preview.mp3",elevenLabsId:"ThT5KcBeYPX3keUQqHPh",accent:"british",languageAgnostic:!0},{name:"eleven-labs-drew",gender:"MALE",label:"Drew",useCase:"News",age:"Middle-aged",description:"A well-rounded and middle-aged voice.",languageCode:"cmn-Hans-CN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/29vD33N1CtxCmqQRPOHJ_Chinese(Mandarin)_preview.mp3",elevenLabsId:"29vD33N1CtxCmqQRPOHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-emily",gender:"FEMALE",label:"Emily",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"cmn-Hans-CN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/LcfcDJNUP1GQjkzn1xUU_Chinese(Mandarin)_preview.mp3",elevenLabsId:"LcfcDJNUP1GQjkzn1xUU",accent:"american",languageAgnostic:!0},{name:"eleven-labs-eric",gender:"MALE",label:"Eric",useCase:"Conversational",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"cmn-Hans-CN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cjVigY5qzO86Huf0OWal_Chinese(Mandarin)_preview.mp3",elevenLabsId:"cjVigY5qzO86Huf0OWal",accent:"american",languageAgnostic:!0},{name:"eleven-labs-ethan",gender:"MALE",label:"Ethan",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"cmn-Hans-CN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/g5CIjZEefAph4nQFvHAz_Chinese(Mandarin)_preview.mp3",elevenLabsId:"g5CIjZEefAph4nQFvHAz",accent:"american",languageAgnostic:!0},{name:"eleven-labs-fin",gender:"MALE",label:"Fin",useCase:"Characters",age:"Old",description:"A sailor and old voice.",languageCode:"cmn-Hans-CN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/D38z5RcWu1voky8WS1ja_Chinese(Mandarin)_preview.mp3",elevenLabsId:"D38z5RcWu1voky8WS1ja",accent:"irish",languageAgnostic:!0},{name:"eleven-labs-freya",gender:"FEMALE",label:"Freya",useCase:"Characters",age:"Young",description:"An expressive and young voice.",languageCode:"cmn-Hans-CN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jsCqWAovK2LkecY7zXl4_Chinese(Mandarin)_preview.mp3",elevenLabsId:"jsCqWAovK2LkecY7zXl4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-george",gender:"MALE",label:"George",useCase:"Narration",age:"Middle-aged",description:"A warm and middle aged voice.",languageCode:"cmn-Hans-CN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/JBFqnCBsd6RMkjVDRZzb_Chinese(Mandarin)_preview.mp3",elevenLabsId:"JBFqnCBsd6RMkjVDRZzb",accent:"british",languageAgnostic:!0},{name:"eleven-labs-gigi",gender:"FEMALE",label:"Gigi",useCase:"Animation",age:"Young",description:"A childlish and young voice.",languageCode:"cmn-Hans-CN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jBpfuIE2acCO8z3wKNLl_Chinese(Mandarin)_preview.mp3",elevenLabsId:"jBpfuIE2acCO8z3wKNLl",accent:"american",languageAgnostic:!0},{name:"eleven-labs-giovanni",gender:"MALE",label:"Giovanni",useCase:"Narration",age:"Young",description:"A foreigner and young voice.",languageCode:"cmn-Hans-CN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zcAOhNBS3c14rBihAFp1_Chinese(Mandarin)_preview.mp3",elevenLabsId:"zcAOhNBS3c14rBihAFp1",accent:"english-italian",languageAgnostic:!0},{name:"eleven-labs-glinda",gender:"FEMALE",label:"Glinda",useCase:"Characters",age:"Middle-aged",description:"A smooth and middle-aged voice.",languageCode:"cmn-Hans-CN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/z9fAnlkpzviPz146aGWa_Chinese(Mandarin)_preview.mp3",elevenLabsId:"z9fAnlkpzviPz146aGWa",accent:"american",languageAgnostic:!0},{name:"eleven-labs-grace",gender:"FEMALE",label:"Grace",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"cmn-Hans-CN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/oWAxZDx7w5VEj9dCyTzz_Chinese(Mandarin)_preview.mp3",elevenLabsId:"oWAxZDx7w5VEj9dCyTzz",accent:"american-southern",languageAgnostic:!0},{name:"eleven-labs-harry",gender:"MALE",label:"Harry",useCase:"Characters",age:"Young",description:"An anxious and young voice.",languageCode:"cmn-Hans-CN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SOYHLrjzK2X1ezoPC6cr_Chinese(Mandarin)_preview.mp3",elevenLabsId:"SOYHLrjzK2X1ezoPC6cr",accent:"american",languageAgnostic:!0},{name:"eleven-labs-james",gender:"MALE",label:"James",useCase:"News",age:"Old",description:"A calm and old voice.",languageCode:"cmn-Hans-CN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ZQe5CZNOzWyzPSCn5a3c_Chinese(Mandarin)_preview.mp3",elevenLabsId:"ZQe5CZNOzWyzPSCn5a3c",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-jeremy",gender:"MALE",label:"Jeremy",useCase:"Narration",age:"Young",description:"An excited and young voice.",languageCode:"cmn-Hans-CN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bVMeCyTHy58xNoL34h3p_Chinese(Mandarin)_preview.mp3",elevenLabsId:"bVMeCyTHy58xNoL34h3p",accent:"american-irish",languageAgnostic:!0},{name:"eleven-labs-jessica",gender:"FEMALE",label:"Jessica",useCase:"Conversational",age:"Young",description:"An expressive and young voice.",languageCode:"cmn-Hans-CN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cgSgspJ2msm6clMCkdW9_Chinese(Mandarin)_preview.mp3",elevenLabsId:"cgSgspJ2msm6clMCkdW9",accent:"american",languageAgnostic:!0},{name:"eleven-labs-jessie",gender:"MALE",label:"Jessie",useCase:"Characters",age:"Old",description:"A raspy and old voice.",languageCode:"cmn-Hans-CN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/t0jbNlBVZ17f02VDIeMI_Chinese(Mandarin)_preview.mp3",elevenLabsId:"t0jbNlBVZ17f02VDIeMI",accent:"american",languageAgnostic:!0},{name:"eleven-labs-joseph",gender:"MALE",label:"Joseph",useCase:"News",age:"Middle-aged",description:"An articulate and middle-aged voice.",languageCode:"cmn-Hans-CN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Zlb1dXrM653N07WRdFW3_Chinese(Mandarin)_preview.mp3",elevenLabsId:"Zlb1dXrM653N07WRdFW3",accent:"british",languageAgnostic:!0},{name:"eleven-labs-josh",gender:"MALE",label:"Josh",useCase:"Narration",age:"Young",description:"A deep and young voice.",languageCode:"cmn-Hans-CN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TxGEqnHWrfWFTfGW9XjX_Chinese(Mandarin)_preview.mp3",elevenLabsId:"TxGEqnHWrfWFTfGW9XjX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-laura",gender:"FEMALE",label:"Laura",useCase:"Social Media",age:"Young",description:"An upbeat and young voice.",languageCode:"cmn-Hans-CN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/FGY2WhTYpPnrIDTdsKH5_Chinese(Mandarin)_preview.mp3",elevenLabsId:"FGY2WhTYpPnrIDTdsKH5",accent:"american",languageAgnostic:!0},{name:"eleven-labs-liam",gender:"MALE",label:"Liam",useCase:"Narration",age:"Young",description:"An articulate and young voice.",languageCode:"cmn-Hans-CN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TX3LPaxmHKxFdv7VOQHJ_Chinese(Mandarin)_preview.mp3",elevenLabsId:"TX3LPaxmHKxFdv7VOQHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-lily",gender:"FEMALE",label:"Lily",useCase:"Narration",age:"Middle-aged",description:"A warm and middle-aged voice.",languageCode:"cmn-Hans-CN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pFZP5JQG7iQjIQuC4Bku_Chinese(Mandarin)_preview.mp3",elevenLabsId:"pFZP5JQG7iQjIQuC4Bku",accent:"british",languageAgnostic:!0},{name:"eleven-labs-matilda",gender:"FEMALE",label:"Matilda",useCase:"Narration",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"cmn-Hans-CN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XrExE9yKIg1WjnnlVkGX_Chinese(Mandarin)_preview.mp3",elevenLabsId:"XrExE9yKIg1WjnnlVkGX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-michael",gender:"MALE",label:"Michael",useCase:"Narration",age:"Old",description:"A calm and old voice.",languageCode:"cmn-Hans-CN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/flq6f7yk4E4fJM5XTYuZ_Chinese(Mandarin)_preview.mp3",elevenLabsId:"flq6f7yk4E4fJM5XTYuZ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-mimi",gender:"FEMALE",label:"Mimi",useCase:"Animation",age:"Young",description:"A childish and young voice.",languageCode:"cmn-Hans-CN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zrHiDhphv9ZnVXBqCLjz_Chinese(Mandarin)_preview.mp3",elevenLabsId:"zrHiDhphv9ZnVXBqCLjz",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-nicole",gender:"FEMALE",label:"Nicole",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"cmn-Hans-CN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/piTKgcLEGmPE4e6mEKli_Chinese(Mandarin)_preview.mp3",elevenLabsId:"piTKgcLEGmPE4e6mEKli",accent:"american",languageAgnostic:!0},{name:"eleven-labs-patrick",gender:"MALE",label:"Patrick",useCase:"Characters",age:"Middle-aged",description:"A shouty and middle-aged voice.",languageCode:"cmn-Hans-CN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ODq5zmih8GrVes37Dizd_Chinese(Mandarin)_preview.mp3",elevenLabsId:"ODq5zmih8GrVes37Dizd",accent:"american",languageAgnostic:!0},{name:"eleven-labs-paul",gender:"MALE",label:"Paul",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"cmn-Hans-CN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/5Q0t7uMcjvnagumLfvZi_Chinese(Mandarin)_preview.mp3",elevenLabsId:"5Q0t7uMcjvnagumLfvZi",accent:"american",languageAgnostic:!0},{name:"eleven-labs-rachel",gender:"FEMALE",label:"Rachel",useCase:"Narration",age:"Young",description:"A calm and young voice.",languageCode:"cmn-Hans-CN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/21m00Tcm4TlvDq8ikWAM_Chinese(Mandarin)_preview.mp3",elevenLabsId:"21m00Tcm4TlvDq8ikWAM",accent:"american",languageAgnostic:!0},{name:"eleven-labs-river",gender:"NEUTRAL",label:"River",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"cmn-Hans-CN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SAz9YHcvj6GT2YYXdXww_Chinese(Mandarin)_preview.mp3",elevenLabsId:"SAz9YHcvj6GT2YYXdXww",accent:"american",languageAgnostic:!0},{name:"eleven-labs-roger",gender:"MALE",label:"Roger",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"cmn-Hans-CN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CwhRBWXzGAHq8TQ4Fs17_Chinese(Mandarin)_preview.mp3",elevenLabsId:"CwhRBWXzGAHq8TQ4Fs17",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sam",gender:"MALE",label:"Sam",useCase:"Narration",age:"Young",description:"A raspy and young voice.",languageCode:"cmn-Hans-CN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/yoZ06aMxZJJ28mfd3POQ_Chinese(Mandarin)_preview.mp3",elevenLabsId:"yoZ06aMxZJJ28mfd3POQ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sarah",gender:"FEMALE",label:"Sarah",useCase:"News",age:"Young",description:"A soft and young voice.",languageCode:"cmn-Hans-CN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/EXAVITQu4vr4xnSDxMaL_Chinese(Mandarin)_preview.mp3",elevenLabsId:"EXAVITQu4vr4xnSDxMaL",accent:"american",languageAgnostic:!0},{name:"eleven-labs-serena",gender:"FEMALE",label:"Serena",useCase:"Narration",age:"Middle-aged",description:"A pleasant and middle-aged voice.",languageCode:"cmn-Hans-CN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pMsXgVXv3BLzUgSXRplE_Chinese(Mandarin)_preview.mp3",elevenLabsId:"pMsXgVXv3BLzUgSXRplE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-thomas",gender:"MALE",label:"Thomas",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"cmn-Hans-CN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/GBv7mTt0atIp3Br8iCZE_Chinese(Mandarin)_preview.mp3",elevenLabsId:"GBv7mTt0atIp3Br8iCZE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-will",gender:"MALE",label:"Will",useCase:"Social Media",age:"Young",description:"A friendly and young voice.",languageCode:"cmn-Hans-CN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bIHbv24MWmeRgasZH58o_Chinese(Mandarin)_preview.mp3",elevenLabsId:"bIHbv24MWmeRgasZH58o",accent:"american",languageAgnostic:!0}],"Mandarin (Taiwan)":[{name:"cmn-TW-Wavenet-B",label:"Jun",gender:"MALE",languageCode:"cmn-TW",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-cmn-TW-Wavenet-B_preview.mp3",age:"Middle-aged",useCase:null},{name:"cmn-TW-Wavenet-A",label:"Mei",gender:"FEMALE",languageCode:"cmn-TW",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-cmn-TW-Wavenet-A_preview.mp3",age:"Middle-aged",useCase:null}],Croatian:[{name:"eleven-labs-adam",gender:"MALE",label:"Adam",useCase:"Narration",age:"Middle-aged",description:"A deep and middle aged voice.",languageCode:"hr-HR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pNInz6obpgDQGcFmaJgB_Croatian_preview.mp3",elevenLabsId:"pNInz6obpgDQGcFmaJgB",accent:"american",languageAgnostic:!0},{name:"eleven-labs-alice",gender:"FEMALE",label:"Alice",useCase:"News",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"hr-HR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Xb7hH8MSUJpSbSDYk0k2_Croatian_preview.mp3",elevenLabsId:"Xb7hH8MSUJpSbSDYk0k2",accent:"british",languageAgnostic:!0},{name:"eleven-labs-antoni",gender:"MALE",label:"Antoni",useCase:"Narration",age:"Young",description:"A well-rounded and young voice.",languageCode:"hr-HR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ErXwobaYiN019PkySvjV_Croatian_preview.mp3",elevenLabsId:"ErXwobaYiN019PkySvjV",accent:"american",languageAgnostic:!0},{name:"eleven-labs-aria",gender:"FEMALE",label:"Aria",useCase:"Social Media",age:"Middle-aged",description:"An expressive and middle-aged voice.",languageCode:"hr-HR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/9BWtsMINqrJLrRacOk9x_Croatian_preview.mp3",elevenLabsId:"9BWtsMINqrJLrRacOk9x",accent:"american",languageAgnostic:!0},{name:"eleven-labs-arnold",gender:"MALE",label:"Arnold",useCase:"Narration",age:"Middle-aged",description:"A crisp and middle aged voice.",languageCode:"hr-HR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/VR6AewLTigWG4xSOukaG_Croatian_preview.mp3",elevenLabsId:"VR6AewLTigWG4xSOukaG",accent:"american",languageAgnostic:!0},{name:"eleven-labs-bill",gender:"MALE",label:"Bill",useCase:"Narration",age:"Old",description:"A trustworthy and old voice.",languageCode:"hr-HR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pqHfZKP75CvOlQylNhV4_Croatian_preview.mp3",elevenLabsId:"pqHfZKP75CvOlQylNhV4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-brian",gender:"MALE",label:"Brian",useCase:"Narration",age:"Middle-aged",description:"A deep and middle-aged voice.",languageCode:"hr-HR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/nPczCjzI2devNBz1zQrb_Croatian_preview.mp3",elevenLabsId:"nPczCjzI2devNBz1zQrb",accent:"american",languageAgnostic:!0},{name:"eleven-labs-callum",gender:"MALE",label:"Callum",useCase:"Characters",age:"Middle-aged",description:"An intense and middle-aged voice.",languageCode:"hr-HR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/N2lVS1w4EtoT3dr4eOWO_Croatian_preview.mp3",elevenLabsId:"N2lVS1w4EtoT3dr4eOWO",accent:"american",languageAgnostic:!0},{name:"eleven-labs-charlie",gender:"MALE",label:"Charlie",useCase:"Conversational",age:"Middle-aged",description:"A natural and middle aged voice.",languageCode:"hr-HR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/IKne3meq5aSn9XLyUdCD_Croatian_preview.mp3",elevenLabsId:"IKne3meq5aSn9XLyUdCD",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-charlotte",gender:"FEMALE",label:"Charlotte",useCase:"Characters",age:"Young",description:"An inviting and young voice.",languageCode:"hr-HR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XB0fDUnXU5powFXDhCwa_Croatian_preview.mp3",elevenLabsId:"XB0fDUnXU5powFXDhCwa",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-chris",gender:"MALE",label:"Chris",useCase:"Conversational",age:"Middle-aged",description:"A casual and middle-aged voice.",languageCode:"hr-HR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/iP95p4xoKVk53GoZ742B_Croatian_preview.mp3",elevenLabsId:"iP95p4xoKVk53GoZ742B",accent:"american",languageAgnostic:!0},{name:"eleven-labs-clyde",gender:"MALE",label:"Clyde",useCase:"Characters",age:"Middle-aged",description:"A war veteran and middle-aged voice.",languageCode:"hr-HR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/2EiwWnXFnvU5JabPnv8n_Croatian_preview.mp3",elevenLabsId:"2EiwWnXFnvU5JabPnv8n",accent:"american",languageAgnostic:!0},{name:"eleven-labs-daniel",gender:"MALE",label:"Daniel",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"hr-HR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/onwK4e9ZLuTAKqWW03F9_Croatian_preview.mp3",elevenLabsId:"onwK4e9ZLuTAKqWW03F9",accent:"british",languageAgnostic:!0},{name:"eleven-labs-dave",gender:"MALE",label:"Dave",useCase:"Characters",age:"Young",description:"A conversational and young voice.",languageCode:"hr-HR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CYw3kZ02Hs0563khs1Fj_Croatian_preview.mp3",elevenLabsId:"CYw3kZ02Hs0563khs1Fj",accent:"british-essex",languageAgnostic:!0},{name:"eleven-labs-domi",gender:"FEMALE",label:"Domi",useCase:"Narration",age:"Young",description:"A strong and young voice.",languageCode:"hr-HR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/AZnzlk1XvdvUeBnXmlld_Croatian_preview.mp3",elevenLabsId:"AZnzlk1XvdvUeBnXmlld",accent:"american",languageAgnostic:!0},{name:"eleven-labs-dorothy",gender:"FEMALE",label:"Dorothy",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"hr-HR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ThT5KcBeYPX3keUQqHPh_Croatian_preview.mp3",elevenLabsId:"ThT5KcBeYPX3keUQqHPh",accent:"british",languageAgnostic:!0},{name:"eleven-labs-drew",gender:"MALE",label:"Drew",useCase:"News",age:"Middle-aged",description:"A well-rounded and middle-aged voice.",languageCode:"hr-HR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/29vD33N1CtxCmqQRPOHJ_Croatian_preview.mp3",elevenLabsId:"29vD33N1CtxCmqQRPOHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-emily",gender:"FEMALE",label:"Emily",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"hr-HR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/LcfcDJNUP1GQjkzn1xUU_Croatian_preview.mp3",elevenLabsId:"LcfcDJNUP1GQjkzn1xUU",accent:"american",languageAgnostic:!0},{name:"eleven-labs-eric",gender:"MALE",label:"Eric",useCase:"Conversational",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"hr-HR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cjVigY5qzO86Huf0OWal_Croatian_preview.mp3",elevenLabsId:"cjVigY5qzO86Huf0OWal",accent:"american",languageAgnostic:!0},{name:"eleven-labs-ethan",gender:"MALE",label:"Ethan",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"hr-HR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/g5CIjZEefAph4nQFvHAz_Croatian_preview.mp3",elevenLabsId:"g5CIjZEefAph4nQFvHAz",accent:"american",languageAgnostic:!0},{name:"eleven-labs-fin",gender:"MALE",label:"Fin",useCase:"Characters",age:"Old",description:"A sailor and old voice.",languageCode:"hr-HR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/D38z5RcWu1voky8WS1ja_Croatian_preview.mp3",elevenLabsId:"D38z5RcWu1voky8WS1ja",accent:"irish",languageAgnostic:!0},{name:"eleven-labs-freya",gender:"FEMALE",label:"Freya",useCase:"Characters",age:"Young",description:"An expressive and young voice.",languageCode:"hr-HR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jsCqWAovK2LkecY7zXl4_Croatian_preview.mp3",elevenLabsId:"jsCqWAovK2LkecY7zXl4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-george",gender:"MALE",label:"George",useCase:"Narration",age:"Middle-aged",description:"A warm and middle aged voice.",languageCode:"hr-HR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/JBFqnCBsd6RMkjVDRZzb_Croatian_preview.mp3",elevenLabsId:"JBFqnCBsd6RMkjVDRZzb",accent:"british",languageAgnostic:!0},{name:"eleven-labs-gigi",gender:"FEMALE",label:"Gigi",useCase:"Animation",age:"Young",description:"A childlish and young voice.",languageCode:"hr-HR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jBpfuIE2acCO8z3wKNLl_Croatian_preview.mp3",elevenLabsId:"jBpfuIE2acCO8z3wKNLl",accent:"american",languageAgnostic:!0},{name:"eleven-labs-giovanni",gender:"MALE",label:"Giovanni",useCase:"Narration",age:"Young",description:"A foreigner and young voice.",languageCode:"hr-HR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zcAOhNBS3c14rBihAFp1_Croatian_preview.mp3",elevenLabsId:"zcAOhNBS3c14rBihAFp1",accent:"english-italian",languageAgnostic:!0},{name:"eleven-labs-glinda",gender:"FEMALE",label:"Glinda",useCase:"Characters",age:"Middle-aged",description:"A smooth and middle-aged voice.",languageCode:"hr-HR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/z9fAnlkpzviPz146aGWa_Croatian_preview.mp3",elevenLabsId:"z9fAnlkpzviPz146aGWa",accent:"american",languageAgnostic:!0},{name:"eleven-labs-grace",gender:"FEMALE",label:"Grace",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"hr-HR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/oWAxZDx7w5VEj9dCyTzz_Croatian_preview.mp3",elevenLabsId:"oWAxZDx7w5VEj9dCyTzz",accent:"american-southern",languageAgnostic:!0},{name:"eleven-labs-harry",gender:"MALE",label:"Harry",useCase:"Characters",age:"Young",description:"An anxious and young voice.",languageCode:"hr-HR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SOYHLrjzK2X1ezoPC6cr_Croatian_preview.mp3",elevenLabsId:"SOYHLrjzK2X1ezoPC6cr",accent:"american",languageAgnostic:!0},{name:"eleven-labs-james",gender:"MALE",label:"James",useCase:"News",age:"Old",description:"A calm and old voice.",languageCode:"hr-HR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ZQe5CZNOzWyzPSCn5a3c_Croatian_preview.mp3",elevenLabsId:"ZQe5CZNOzWyzPSCn5a3c",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-jeremy",gender:"MALE",label:"Jeremy",useCase:"Narration",age:"Young",description:"An excited and young voice.",languageCode:"hr-HR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bVMeCyTHy58xNoL34h3p_Croatian_preview.mp3",elevenLabsId:"bVMeCyTHy58xNoL34h3p",accent:"american-irish",languageAgnostic:!0},{name:"eleven-labs-jessica",gender:"FEMALE",label:"Jessica",useCase:"Conversational",age:"Young",description:"An expressive and young voice.",languageCode:"hr-HR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cgSgspJ2msm6clMCkdW9_Croatian_preview.mp3",elevenLabsId:"cgSgspJ2msm6clMCkdW9",accent:"american",languageAgnostic:!0},{name:"eleven-labs-jessie",gender:"MALE",label:"Jessie",useCase:"Characters",age:"Old",description:"A raspy and old voice.",languageCode:"hr-HR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/t0jbNlBVZ17f02VDIeMI_Croatian_preview.mp3",elevenLabsId:"t0jbNlBVZ17f02VDIeMI",accent:"american",languageAgnostic:!0},{name:"eleven-labs-joseph",gender:"MALE",label:"Joseph",useCase:"News",age:"Middle-aged",description:"An articulate and middle-aged voice.",languageCode:"hr-HR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Zlb1dXrM653N07WRdFW3_Croatian_preview.mp3",elevenLabsId:"Zlb1dXrM653N07WRdFW3",accent:"british",languageAgnostic:!0},{name:"eleven-labs-josh",gender:"MALE",label:"Josh",useCase:"Narration",age:"Young",description:"A deep and young voice.",languageCode:"hr-HR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TxGEqnHWrfWFTfGW9XjX_Croatian_preview.mp3",elevenLabsId:"TxGEqnHWrfWFTfGW9XjX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-laura",gender:"FEMALE",label:"Laura",useCase:"Social Media",age:"Young",description:"An upbeat and young voice.",languageCode:"hr-HR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/FGY2WhTYpPnrIDTdsKH5_Croatian_preview.mp3",elevenLabsId:"FGY2WhTYpPnrIDTdsKH5",accent:"american",languageAgnostic:!0},{name:"eleven-labs-liam",gender:"MALE",label:"Liam",useCase:"Narration",age:"Young",description:"An articulate and young voice.",languageCode:"hr-HR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TX3LPaxmHKxFdv7VOQHJ_Croatian_preview.mp3",elevenLabsId:"TX3LPaxmHKxFdv7VOQHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-lily",gender:"FEMALE",label:"Lily",useCase:"Narration",age:"Middle-aged",description:"A warm and middle-aged voice.",languageCode:"hr-HR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pFZP5JQG7iQjIQuC4Bku_Croatian_preview.mp3",elevenLabsId:"pFZP5JQG7iQjIQuC4Bku",accent:"british",languageAgnostic:!0},{name:"eleven-labs-matilda",gender:"FEMALE",label:"Matilda",useCase:"Narration",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"hr-HR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XrExE9yKIg1WjnnlVkGX_Croatian_preview.mp3",elevenLabsId:"XrExE9yKIg1WjnnlVkGX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-michael",gender:"MALE",label:"Michael",useCase:"Narration",age:"Old",description:"A calm and old voice.",languageCode:"hr-HR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/flq6f7yk4E4fJM5XTYuZ_Croatian_preview.mp3",elevenLabsId:"flq6f7yk4E4fJM5XTYuZ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-mimi",gender:"FEMALE",label:"Mimi",useCase:"Animation",age:"Young",description:"A childish and young voice.",languageCode:"hr-HR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zrHiDhphv9ZnVXBqCLjz_Croatian_preview.mp3",elevenLabsId:"zrHiDhphv9ZnVXBqCLjz",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-nicole",gender:"FEMALE",label:"Nicole",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"hr-HR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/piTKgcLEGmPE4e6mEKli_Croatian_preview.mp3",elevenLabsId:"piTKgcLEGmPE4e6mEKli",accent:"american",languageAgnostic:!0},{name:"eleven-labs-patrick",gender:"MALE",label:"Patrick",useCase:"Characters",age:"Middle-aged",description:"A shouty and middle-aged voice.",languageCode:"hr-HR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ODq5zmih8GrVes37Dizd_Croatian_preview.mp3",elevenLabsId:"ODq5zmih8GrVes37Dizd",accent:"american",languageAgnostic:!0},{name:"eleven-labs-paul",gender:"MALE",label:"Paul",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"hr-HR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/5Q0t7uMcjvnagumLfvZi_Croatian_preview.mp3",elevenLabsId:"5Q0t7uMcjvnagumLfvZi",accent:"american",languageAgnostic:!0},{name:"eleven-labs-rachel",gender:"FEMALE",label:"Rachel",useCase:"Narration",age:"Young",description:"A calm and young voice.",languageCode:"hr-HR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/21m00Tcm4TlvDq8ikWAM_Croatian_preview.mp3",elevenLabsId:"21m00Tcm4TlvDq8ikWAM",accent:"american",languageAgnostic:!0},{name:"eleven-labs-river",gender:"NEUTRAL",label:"River",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"hr-HR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SAz9YHcvj6GT2YYXdXww_Croatian_preview.mp3",elevenLabsId:"SAz9YHcvj6GT2YYXdXww",accent:"american",languageAgnostic:!0},{name:"eleven-labs-roger",gender:"MALE",label:"Roger",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"hr-HR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CwhRBWXzGAHq8TQ4Fs17_Croatian_preview.mp3",elevenLabsId:"CwhRBWXzGAHq8TQ4Fs17",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sam",gender:"MALE",label:"Sam",useCase:"Narration",age:"Young",description:"A raspy and young voice.",languageCode:"hr-HR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/yoZ06aMxZJJ28mfd3POQ_Croatian_preview.mp3",elevenLabsId:"yoZ06aMxZJJ28mfd3POQ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sarah",gender:"FEMALE",label:"Sarah",useCase:"News",age:"Young",description:"A soft and young voice.",languageCode:"hr-HR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/EXAVITQu4vr4xnSDxMaL_Croatian_preview.mp3",elevenLabsId:"EXAVITQu4vr4xnSDxMaL",accent:"american",languageAgnostic:!0},{name:"eleven-labs-serena",gender:"FEMALE",label:"Serena",useCase:"Narration",age:"Middle-aged",description:"A pleasant and middle-aged voice.",languageCode:"hr-HR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pMsXgVXv3BLzUgSXRplE_Croatian_preview.mp3",elevenLabsId:"pMsXgVXv3BLzUgSXRplE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-thomas",gender:"MALE",label:"Thomas",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"hr-HR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/GBv7mTt0atIp3Br8iCZE_Croatian_preview.mp3",elevenLabsId:"GBv7mTt0atIp3Br8iCZE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-will",gender:"MALE",label:"Will",useCase:"Social Media",age:"Young",description:"A friendly and young voice.",languageCode:"hr-HR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bIHbv24MWmeRgasZH58o_Croatian_preview.mp3",elevenLabsId:"bIHbv24MWmeRgasZH58o",accent:"american",languageAgnostic:!0}],Czech:[{name:"cs-CZ-Wavenet-A",label:"Lenka",gender:"FEMALE",age:"Middle-aged",languageCode:"cs-CZ",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-cs-CZ-Wavenet-A_preview.mp3"},{name:"eleven-labs-adam",gender:"MALE",label:"Adam",useCase:"Narration",age:"Middle-aged",description:"A deep and middle aged voice.",languageCode:"cs-CZ",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pNInz6obpgDQGcFmaJgB_Czech_preview.mp3",elevenLabsId:"pNInz6obpgDQGcFmaJgB",accent:"american",languageAgnostic:!0},{name:"eleven-labs-alice",gender:"FEMALE",label:"Alice",useCase:"News",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"cs-CZ",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Xb7hH8MSUJpSbSDYk0k2_Czech_preview.mp3",elevenLabsId:"Xb7hH8MSUJpSbSDYk0k2",accent:"british",languageAgnostic:!0},{name:"eleven-labs-antoni",gender:"MALE",label:"Antoni",useCase:"Narration",age:"Young",description:"A well-rounded and young voice.",languageCode:"cs-CZ",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ErXwobaYiN019PkySvjV_Czech_preview.mp3",elevenLabsId:"ErXwobaYiN019PkySvjV",accent:"american",languageAgnostic:!0},{name:"eleven-labs-aria",gender:"FEMALE",label:"Aria",useCase:"Social Media",age:"Middle-aged",description:"An expressive and middle-aged voice.",languageCode:"cs-CZ",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/9BWtsMINqrJLrRacOk9x_Czech_preview.mp3",elevenLabsId:"9BWtsMINqrJLrRacOk9x",accent:"american",languageAgnostic:!0},{name:"eleven-labs-arnold",gender:"MALE",label:"Arnold",useCase:"Narration",age:"Middle-aged",description:"A crisp and middle aged voice.",languageCode:"cs-CZ",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/VR6AewLTigWG4xSOukaG_Czech_preview.mp3",elevenLabsId:"VR6AewLTigWG4xSOukaG",accent:"american",languageAgnostic:!0},{name:"eleven-labs-bill",gender:"MALE",label:"Bill",useCase:"Narration",age:"Old",description:"A trustworthy and old voice.",languageCode:"cs-CZ",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pqHfZKP75CvOlQylNhV4_Czech_preview.mp3",elevenLabsId:"pqHfZKP75CvOlQylNhV4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-brian",gender:"MALE",label:"Brian",useCase:"Narration",age:"Middle-aged",description:"A deep and middle-aged voice.",languageCode:"cs-CZ",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/nPczCjzI2devNBz1zQrb_Czech_preview.mp3",elevenLabsId:"nPczCjzI2devNBz1zQrb",accent:"american",languageAgnostic:!0},{name:"eleven-labs-callum",gender:"MALE",label:"Callum",useCase:"Characters",age:"Middle-aged",description:"An intense and middle-aged voice.",languageCode:"cs-CZ",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/N2lVS1w4EtoT3dr4eOWO_Czech_preview.mp3",elevenLabsId:"N2lVS1w4EtoT3dr4eOWO",accent:"american",languageAgnostic:!0},{name:"eleven-labs-charlie",gender:"MALE",label:"Charlie",useCase:"Conversational",age:"Middle-aged",description:"A natural and middle aged voice.",languageCode:"cs-CZ",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/IKne3meq5aSn9XLyUdCD_Czech_preview.mp3",elevenLabsId:"IKne3meq5aSn9XLyUdCD",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-charlotte",gender:"FEMALE",label:"Charlotte",useCase:"Characters",age:"Young",description:"An inviting and young voice.",languageCode:"cs-CZ",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XB0fDUnXU5powFXDhCwa_Czech_preview.mp3",elevenLabsId:"XB0fDUnXU5powFXDhCwa",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-chris",gender:"MALE",label:"Chris",useCase:"Conversational",age:"Middle-aged",description:"A casual and middle-aged voice.",languageCode:"cs-CZ",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/iP95p4xoKVk53GoZ742B_Czech_preview.mp3",elevenLabsId:"iP95p4xoKVk53GoZ742B",accent:"american",languageAgnostic:!0},{name:"eleven-labs-clyde",gender:"MALE",label:"Clyde",useCase:"Characters",age:"Middle-aged",description:"A war veteran and middle-aged voice.",languageCode:"cs-CZ",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/2EiwWnXFnvU5JabPnv8n_Czech_preview.mp3",elevenLabsId:"2EiwWnXFnvU5JabPnv8n",accent:"american",languageAgnostic:!0},{name:"eleven-labs-daniel",gender:"MALE",label:"Daniel",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"cs-CZ",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/onwK4e9ZLuTAKqWW03F9_Czech_preview.mp3",elevenLabsId:"onwK4e9ZLuTAKqWW03F9",accent:"british",languageAgnostic:!0},{name:"eleven-labs-dave",gender:"MALE",label:"Dave",useCase:"Characters",age:"Young",description:"A conversational and young voice.",languageCode:"cs-CZ",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CYw3kZ02Hs0563khs1Fj_Czech_preview.mp3",elevenLabsId:"CYw3kZ02Hs0563khs1Fj",accent:"british-essex",languageAgnostic:!0},{name:"eleven-labs-domi",gender:"FEMALE",label:"Domi",useCase:"Narration",age:"Young",description:"A strong and young voice.",languageCode:"cs-CZ",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/AZnzlk1XvdvUeBnXmlld_Czech_preview.mp3",elevenLabsId:"AZnzlk1XvdvUeBnXmlld",accent:"american",languageAgnostic:!0},{name:"eleven-labs-dorothy",gender:"FEMALE",label:"Dorothy",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"cs-CZ",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ThT5KcBeYPX3keUQqHPh_Czech_preview.mp3",elevenLabsId:"ThT5KcBeYPX3keUQqHPh",accent:"british",languageAgnostic:!0},{name:"eleven-labs-drew",gender:"MALE",label:"Drew",useCase:"News",age:"Middle-aged",description:"A well-rounded and middle-aged voice.",languageCode:"cs-CZ",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/29vD33N1CtxCmqQRPOHJ_Czech_preview.mp3",elevenLabsId:"29vD33N1CtxCmqQRPOHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-emily",gender:"FEMALE",label:"Emily",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"cs-CZ",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/LcfcDJNUP1GQjkzn1xUU_Czech_preview.mp3",elevenLabsId:"LcfcDJNUP1GQjkzn1xUU",accent:"american",languageAgnostic:!0},{name:"eleven-labs-eric",gender:"MALE",label:"Eric",useCase:"Conversational",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"cs-CZ",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cjVigY5qzO86Huf0OWal_Czech_preview.mp3",elevenLabsId:"cjVigY5qzO86Huf0OWal",accent:"american",languageAgnostic:!0},{name:"eleven-labs-ethan",gender:"MALE",label:"Ethan",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"cs-CZ",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/g5CIjZEefAph4nQFvHAz_Czech_preview.mp3",elevenLabsId:"g5CIjZEefAph4nQFvHAz",accent:"american",languageAgnostic:!0},{name:"eleven-labs-fin",gender:"MALE",label:"Fin",useCase:"Characters",age:"Old",description:"A sailor and old voice.",languageCode:"cs-CZ",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/D38z5RcWu1voky8WS1ja_Czech_preview.mp3",elevenLabsId:"D38z5RcWu1voky8WS1ja",accent:"irish",languageAgnostic:!0},{name:"eleven-labs-freya",gender:"FEMALE",label:"Freya",useCase:"Characters",age:"Young",description:"An expressive and young voice.",languageCode:"cs-CZ",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jsCqWAovK2LkecY7zXl4_Czech_preview.mp3",elevenLabsId:"jsCqWAovK2LkecY7zXl4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-george",gender:"MALE",label:"George",useCase:"Narration",age:"Middle-aged",description:"A warm and middle aged voice.",languageCode:"cs-CZ",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/JBFqnCBsd6RMkjVDRZzb_Czech_preview.mp3",elevenLabsId:"JBFqnCBsd6RMkjVDRZzb",accent:"british",languageAgnostic:!0},{name:"eleven-labs-gigi",gender:"FEMALE",label:"Gigi",useCase:"Animation",age:"Young",description:"A childlish and young voice.",languageCode:"cs-CZ",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jBpfuIE2acCO8z3wKNLl_Czech_preview.mp3",elevenLabsId:"jBpfuIE2acCO8z3wKNLl",accent:"american",languageAgnostic:!0},{name:"eleven-labs-giovanni",gender:"MALE",label:"Giovanni",useCase:"Narration",age:"Young",description:"A foreigner and young voice.",languageCode:"cs-CZ",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zcAOhNBS3c14rBihAFp1_Czech_preview.mp3",elevenLabsId:"zcAOhNBS3c14rBihAFp1",accent:"english-italian",languageAgnostic:!0},{name:"eleven-labs-glinda",gender:"FEMALE",label:"Glinda",useCase:"Characters",age:"Middle-aged",description:"A smooth and middle-aged voice.",languageCode:"cs-CZ",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/z9fAnlkpzviPz146aGWa_Czech_preview.mp3",elevenLabsId:"z9fAnlkpzviPz146aGWa",accent:"american",languageAgnostic:!0},{name:"eleven-labs-grace",gender:"FEMALE",label:"Grace",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"cs-CZ",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/oWAxZDx7w5VEj9dCyTzz_Czech_preview.mp3",elevenLabsId:"oWAxZDx7w5VEj9dCyTzz",accent:"american-southern",languageAgnostic:!0},{name:"eleven-labs-harry",gender:"MALE",label:"Harry",useCase:"Characters",age:"Young",description:"An anxious and young voice.",languageCode:"cs-CZ",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SOYHLrjzK2X1ezoPC6cr_Czech_preview.mp3",elevenLabsId:"SOYHLrjzK2X1ezoPC6cr",accent:"american",languageAgnostic:!0},{name:"eleven-labs-james",gender:"MALE",label:"James",useCase:"News",age:"Old",description:"A calm and old voice.",languageCode:"cs-CZ",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ZQe5CZNOzWyzPSCn5a3c_Czech_preview.mp3",elevenLabsId:"ZQe5CZNOzWyzPSCn5a3c",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-jeremy",gender:"MALE",label:"Jeremy",useCase:"Narration",age:"Young",description:"An excited and young voice.",languageCode:"cs-CZ",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bVMeCyTHy58xNoL34h3p_Czech_preview.mp3",elevenLabsId:"bVMeCyTHy58xNoL34h3p",accent:"american-irish",languageAgnostic:!0},{name:"eleven-labs-jessica",gender:"FEMALE",label:"Jessica",useCase:"Conversational",age:"Young",description:"An expressive and young voice.",languageCode:"cs-CZ",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cgSgspJ2msm6clMCkdW9_Czech_preview.mp3",elevenLabsId:"cgSgspJ2msm6clMCkdW9",accent:"american",languageAgnostic:!0},{name:"eleven-labs-jessie",gender:"MALE",label:"Jessie",useCase:"Characters",age:"Old",description:"A raspy and old voice.",languageCode:"cs-CZ",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/t0jbNlBVZ17f02VDIeMI_Czech_preview.mp3",elevenLabsId:"t0jbNlBVZ17f02VDIeMI",accent:"american",languageAgnostic:!0},{name:"eleven-labs-joseph",gender:"MALE",label:"Joseph",useCase:"News",age:"Middle-aged",description:"An articulate and middle-aged voice.",languageCode:"cs-CZ",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Zlb1dXrM653N07WRdFW3_Czech_preview.mp3",elevenLabsId:"Zlb1dXrM653N07WRdFW3",accent:"british",languageAgnostic:!0},{name:"eleven-labs-josh",gender:"MALE",label:"Josh",useCase:"Narration",age:"Young",description:"A deep and young voice.",languageCode:"cs-CZ",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TxGEqnHWrfWFTfGW9XjX_Czech_preview.mp3",elevenLabsId:"TxGEqnHWrfWFTfGW9XjX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-laura",gender:"FEMALE",label:"Laura",useCase:"Social Media",age:"Young",description:"An upbeat and young voice.",languageCode:"cs-CZ",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/FGY2WhTYpPnrIDTdsKH5_Czech_preview.mp3",elevenLabsId:"FGY2WhTYpPnrIDTdsKH5",accent:"american",languageAgnostic:!0},{name:"eleven-labs-liam",gender:"MALE",label:"Liam",useCase:"Narration",age:"Young",description:"An articulate and young voice.",languageCode:"cs-CZ",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TX3LPaxmHKxFdv7VOQHJ_Czech_preview.mp3",elevenLabsId:"TX3LPaxmHKxFdv7VOQHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-lily",gender:"FEMALE",label:"Lily",useCase:"Narration",age:"Middle-aged",description:"A warm and middle-aged voice.",languageCode:"cs-CZ",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pFZP5JQG7iQjIQuC4Bku_Czech_preview.mp3",elevenLabsId:"pFZP5JQG7iQjIQuC4Bku",accent:"british",languageAgnostic:!0},{name:"eleven-labs-matilda",gender:"FEMALE",label:"Matilda",useCase:"Narration",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"cs-CZ",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XrExE9yKIg1WjnnlVkGX_Czech_preview.mp3",elevenLabsId:"XrExE9yKIg1WjnnlVkGX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-michael",gender:"MALE",label:"Michael",useCase:"Narration",age:"Old",description:"A calm and old voice.",languageCode:"cs-CZ",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/flq6f7yk4E4fJM5XTYuZ_Czech_preview.mp3",elevenLabsId:"flq6f7yk4E4fJM5XTYuZ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-mimi",gender:"FEMALE",label:"Mimi",useCase:"Animation",age:"Young",description:"A childish and young voice.",languageCode:"cs-CZ",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zrHiDhphv9ZnVXBqCLjz_Czech_preview.mp3",elevenLabsId:"zrHiDhphv9ZnVXBqCLjz",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-nicole",gender:"FEMALE",label:"Nicole",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"cs-CZ",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/piTKgcLEGmPE4e6mEKli_Czech_preview.mp3",elevenLabsId:"piTKgcLEGmPE4e6mEKli",accent:"american",languageAgnostic:!0},{name:"eleven-labs-patrick",gender:"MALE",label:"Patrick",useCase:"Characters",age:"Middle-aged",description:"A shouty and middle-aged voice.",languageCode:"cs-CZ",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ODq5zmih8GrVes37Dizd_Czech_preview.mp3",elevenLabsId:"ODq5zmih8GrVes37Dizd",accent:"american",languageAgnostic:!0},{name:"eleven-labs-paul",gender:"MALE",label:"Paul",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"cs-CZ",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/5Q0t7uMcjvnagumLfvZi_Czech_preview.mp3",elevenLabsId:"5Q0t7uMcjvnagumLfvZi",accent:"american",languageAgnostic:!0},{name:"eleven-labs-rachel",gender:"FEMALE",label:"Rachel",useCase:"Narration",age:"Young",description:"A calm and young voice.",languageCode:"cs-CZ",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/21m00Tcm4TlvDq8ikWAM_Czech_preview.mp3",elevenLabsId:"21m00Tcm4TlvDq8ikWAM",accent:"american",languageAgnostic:!0},{name:"eleven-labs-river",gender:"NEUTRAL",label:"River",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"cs-CZ",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SAz9YHcvj6GT2YYXdXww_Czech_preview.mp3",elevenLabsId:"SAz9YHcvj6GT2YYXdXww",accent:"american",languageAgnostic:!0},{name:"eleven-labs-roger",gender:"MALE",label:"Roger",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"cs-CZ",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CwhRBWXzGAHq8TQ4Fs17_Czech_preview.mp3",elevenLabsId:"CwhRBWXzGAHq8TQ4Fs17",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sam",gender:"MALE",label:"Sam",useCase:"Narration",age:"Young",description:"A raspy and young voice.",languageCode:"cs-CZ",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/yoZ06aMxZJJ28mfd3POQ_Czech_preview.mp3",elevenLabsId:"yoZ06aMxZJJ28mfd3POQ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sarah",gender:"FEMALE",label:"Sarah",useCase:"News",age:"Young",description:"A soft and young voice.",languageCode:"cs-CZ",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/EXAVITQu4vr4xnSDxMaL_Czech_preview.mp3",elevenLabsId:"EXAVITQu4vr4xnSDxMaL",accent:"american",languageAgnostic:!0},{name:"eleven-labs-serena",gender:"FEMALE",label:"Serena",useCase:"Narration",age:"Middle-aged",description:"A pleasant and middle-aged voice.",languageCode:"cs-CZ",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pMsXgVXv3BLzUgSXRplE_Czech_preview.mp3",elevenLabsId:"pMsXgVXv3BLzUgSXRplE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-thomas",gender:"MALE",label:"Thomas",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"cs-CZ",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/GBv7mTt0atIp3Br8iCZE_Czech_preview.mp3",elevenLabsId:"GBv7mTt0atIp3Br8iCZE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-will",gender:"MALE",label:"Will",useCase:"Social Media",age:"Young",description:"A friendly and young voice.",languageCode:"cs-CZ",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bIHbv24MWmeRgasZH58o_Czech_preview.mp3",elevenLabsId:"bIHbv24MWmeRgasZH58o",accent:"american",languageAgnostic:!0}],Danish:[{name:"da-DK-Neural2-D",label:"Clara",gender:"FEMALE",age:"Middle-aged",languageCode:"da-DK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-da-DK-Neural2-D_preview.mp3"},{name:"da-DK-Wavenet-C",label:"Mathias",gender:"MALE",age:"Middle-aged",languageCode:"da-DK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-da-DK-Wavenet-C_preview.mp3"},{name:"eleven-labs-adam",gender:"MALE",label:"Adam",useCase:"Narration",age:"Middle-aged",description:"A deep and middle aged voice.",languageCode:"da-DK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pNInz6obpgDQGcFmaJgB_Danish_preview.mp3",elevenLabsId:"pNInz6obpgDQGcFmaJgB",accent:"american",languageAgnostic:!0},{name:"eleven-labs-alice",gender:"FEMALE",label:"Alice",useCase:"News",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"da-DK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Xb7hH8MSUJpSbSDYk0k2_Danish_preview.mp3",elevenLabsId:"Xb7hH8MSUJpSbSDYk0k2",accent:"british",languageAgnostic:!0},{name:"eleven-labs-antoni",gender:"MALE",label:"Antoni",useCase:"Narration",age:"Young",description:"A well-rounded and young voice.",languageCode:"da-DK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ErXwobaYiN019PkySvjV_Danish_preview.mp3",elevenLabsId:"ErXwobaYiN019PkySvjV",accent:"american",languageAgnostic:!0},{name:"eleven-labs-aria",gender:"FEMALE",label:"Aria",useCase:"Social Media",age:"Middle-aged",description:"An expressive and middle-aged voice.",languageCode:"da-DK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/9BWtsMINqrJLrRacOk9x_Danish_preview.mp3",elevenLabsId:"9BWtsMINqrJLrRacOk9x",accent:"american",languageAgnostic:!0},{name:"eleven-labs-arnold",gender:"MALE",label:"Arnold",useCase:"Narration",age:"Middle-aged",description:"A crisp and middle aged voice.",languageCode:"da-DK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/VR6AewLTigWG4xSOukaG_Danish_preview.mp3",elevenLabsId:"VR6AewLTigWG4xSOukaG",accent:"american",languageAgnostic:!0},{name:"eleven-labs-bill",gender:"MALE",label:"Bill",useCase:"Narration",age:"Old",description:"A trustworthy and old voice.",languageCode:"da-DK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pqHfZKP75CvOlQylNhV4_Danish_preview.mp3",elevenLabsId:"pqHfZKP75CvOlQylNhV4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-brian",gender:"MALE",label:"Brian",useCase:"Narration",age:"Middle-aged",description:"A deep and middle-aged voice.",languageCode:"da-DK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/nPczCjzI2devNBz1zQrb_Danish_preview.mp3",elevenLabsId:"nPczCjzI2devNBz1zQrb",accent:"american",languageAgnostic:!0},{name:"eleven-labs-callum",gender:"MALE",label:"Callum",useCase:"Characters",age:"Middle-aged",description:"An intense and middle-aged voice.",languageCode:"da-DK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/N2lVS1w4EtoT3dr4eOWO_Danish_preview.mp3",elevenLabsId:"N2lVS1w4EtoT3dr4eOWO",accent:"american",languageAgnostic:!0},{name:"eleven-labs-charlie",gender:"MALE",label:"Charlie",useCase:"Conversational",age:"Middle-aged",description:"A natural and middle aged voice.",languageCode:"da-DK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/IKne3meq5aSn9XLyUdCD_Danish_preview.mp3",elevenLabsId:"IKne3meq5aSn9XLyUdCD",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-charlotte",gender:"FEMALE",label:"Charlotte",useCase:"Characters",age:"Young",description:"An inviting and young voice.",languageCode:"da-DK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XB0fDUnXU5powFXDhCwa_Danish_preview.mp3",elevenLabsId:"XB0fDUnXU5powFXDhCwa",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-chris",gender:"MALE",label:"Chris",useCase:"Conversational",age:"Middle-aged",description:"A casual and middle-aged voice.",languageCode:"da-DK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/iP95p4xoKVk53GoZ742B_Danish_preview.mp3",elevenLabsId:"iP95p4xoKVk53GoZ742B",accent:"american",languageAgnostic:!0},{name:"eleven-labs-clyde",gender:"MALE",label:"Clyde",useCase:"Characters",age:"Middle-aged",description:"A war veteran and middle-aged voice.",languageCode:"da-DK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/2EiwWnXFnvU5JabPnv8n_Danish_preview.mp3",elevenLabsId:"2EiwWnXFnvU5JabPnv8n",accent:"american",languageAgnostic:!0},{name:"eleven-labs-daniel",gender:"MALE",label:"Daniel",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"da-DK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/onwK4e9ZLuTAKqWW03F9_Danish_preview.mp3",elevenLabsId:"onwK4e9ZLuTAKqWW03F9",accent:"british",languageAgnostic:!0},{name:"eleven-labs-dave",gender:"MALE",label:"Dave",useCase:"Characters",age:"Young",description:"A conversational and young voice.",languageCode:"da-DK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CYw3kZ02Hs0563khs1Fj_Danish_preview.mp3",elevenLabsId:"CYw3kZ02Hs0563khs1Fj",accent:"british-essex",languageAgnostic:!0},{name:"eleven-labs-domi",gender:"FEMALE",label:"Domi",useCase:"Narration",age:"Young",description:"A strong and young voice.",languageCode:"da-DK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/AZnzlk1XvdvUeBnXmlld_Danish_preview.mp3",elevenLabsId:"AZnzlk1XvdvUeBnXmlld",accent:"american",languageAgnostic:!0},{name:"eleven-labs-dorothy",gender:"FEMALE",label:"Dorothy",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"da-DK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ThT5KcBeYPX3keUQqHPh_Danish_preview.mp3",elevenLabsId:"ThT5KcBeYPX3keUQqHPh",accent:"british",languageAgnostic:!0},{name:"eleven-labs-drew",gender:"MALE",label:"Drew",useCase:"News",age:"Middle-aged",description:"A well-rounded and middle-aged voice.",languageCode:"da-DK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/29vD33N1CtxCmqQRPOHJ_Danish_preview.mp3",elevenLabsId:"29vD33N1CtxCmqQRPOHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-emily",gender:"FEMALE",label:"Emily",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"da-DK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/LcfcDJNUP1GQjkzn1xUU_Danish_preview.mp3",elevenLabsId:"LcfcDJNUP1GQjkzn1xUU",accent:"american",languageAgnostic:!0},{name:"eleven-labs-eric",gender:"MALE",label:"Eric",useCase:"Conversational",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"da-DK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cjVigY5qzO86Huf0OWal_Danish_preview.mp3",elevenLabsId:"cjVigY5qzO86Huf0OWal",accent:"american",languageAgnostic:!0},{name:"eleven-labs-ethan",gender:"MALE",label:"Ethan",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"da-DK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/g5CIjZEefAph4nQFvHAz_Danish_preview.mp3",elevenLabsId:"g5CIjZEefAph4nQFvHAz",accent:"american",languageAgnostic:!0},{name:"eleven-labs-fin",gender:"MALE",label:"Fin",useCase:"Characters",age:"Old",description:"A sailor and old voice.",languageCode:"da-DK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/D38z5RcWu1voky8WS1ja_Danish_preview.mp3",elevenLabsId:"D38z5RcWu1voky8WS1ja",accent:"irish",languageAgnostic:!0},{name:"eleven-labs-freya",gender:"FEMALE",label:"Freya",useCase:"Characters",age:"Young",description:"An expressive and young voice.",languageCode:"da-DK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jsCqWAovK2LkecY7zXl4_Danish_preview.mp3",elevenLabsId:"jsCqWAovK2LkecY7zXl4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-george",gender:"MALE",label:"George",useCase:"Narration",age:"Middle-aged",description:"A warm and middle aged voice.",languageCode:"da-DK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/JBFqnCBsd6RMkjVDRZzb_Danish_preview.mp3",elevenLabsId:"JBFqnCBsd6RMkjVDRZzb",accent:"british",languageAgnostic:!0},{name:"eleven-labs-gigi",gender:"FEMALE",label:"Gigi",useCase:"Animation",age:"Young",description:"A childlish and young voice.",languageCode:"da-DK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jBpfuIE2acCO8z3wKNLl_Danish_preview.mp3",elevenLabsId:"jBpfuIE2acCO8z3wKNLl",accent:"american",languageAgnostic:!0},{name:"eleven-labs-giovanni",gender:"MALE",label:"Giovanni",useCase:"Narration",age:"Young",description:"A foreigner and young voice.",languageCode:"da-DK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zcAOhNBS3c14rBihAFp1_Danish_preview.mp3",elevenLabsId:"zcAOhNBS3c14rBihAFp1",accent:"english-italian",languageAgnostic:!0},{name:"eleven-labs-glinda",gender:"FEMALE",label:"Glinda",useCase:"Characters",age:"Middle-aged",description:"A smooth and middle-aged voice.",languageCode:"da-DK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/z9fAnlkpzviPz146aGWa_Danish_preview.mp3",elevenLabsId:"z9fAnlkpzviPz146aGWa",accent:"american",languageAgnostic:!0},{name:"eleven-labs-grace",gender:"FEMALE",label:"Grace",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"da-DK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/oWAxZDx7w5VEj9dCyTzz_Danish_preview.mp3",elevenLabsId:"oWAxZDx7w5VEj9dCyTzz",accent:"american-southern",languageAgnostic:!0},{name:"eleven-labs-harry",gender:"MALE",label:"Harry",useCase:"Characters",age:"Young",description:"An anxious and young voice.",languageCode:"da-DK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SOYHLrjzK2X1ezoPC6cr_Danish_preview.mp3",elevenLabsId:"SOYHLrjzK2X1ezoPC6cr",accent:"american",languageAgnostic:!0},{name:"eleven-labs-james",gender:"MALE",label:"James",useCase:"News",age:"Old",description:"A calm and old voice.",languageCode:"da-DK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ZQe5CZNOzWyzPSCn5a3c_Danish_preview.mp3",elevenLabsId:"ZQe5CZNOzWyzPSCn5a3c",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-jeremy",gender:"MALE",label:"Jeremy",useCase:"Narration",age:"Young",description:"An excited and young voice.",languageCode:"da-DK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bVMeCyTHy58xNoL34h3p_Danish_preview.mp3",elevenLabsId:"bVMeCyTHy58xNoL34h3p",accent:"american-irish",languageAgnostic:!0},{name:"eleven-labs-jessica",gender:"FEMALE",label:"Jessica",useCase:"Conversational",age:"Young",description:"An expressive and young voice.",languageCode:"da-DK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cgSgspJ2msm6clMCkdW9_Danish_preview.mp3",elevenLabsId:"cgSgspJ2msm6clMCkdW9",accent:"american",languageAgnostic:!0},{name:"eleven-labs-jessie",gender:"MALE",label:"Jessie",useCase:"Characters",age:"Old",description:"A raspy and old voice.",languageCode:"da-DK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/t0jbNlBVZ17f02VDIeMI_Danish_preview.mp3",elevenLabsId:"t0jbNlBVZ17f02VDIeMI",accent:"american",languageAgnostic:!0},{name:"eleven-labs-joseph",gender:"MALE",label:"Joseph",useCase:"News",age:"Middle-aged",description:"An articulate and middle-aged voice.",languageCode:"da-DK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Zlb1dXrM653N07WRdFW3_Danish_preview.mp3",elevenLabsId:"Zlb1dXrM653N07WRdFW3",accent:"british",languageAgnostic:!0},{name:"eleven-labs-josh",gender:"MALE",label:"Josh",useCase:"Narration",age:"Young",description:"A deep and young voice.",languageCode:"da-DK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TxGEqnHWrfWFTfGW9XjX_Danish_preview.mp3",elevenLabsId:"TxGEqnHWrfWFTfGW9XjX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-laura",gender:"FEMALE",label:"Laura",useCase:"Social Media",age:"Young",description:"An upbeat and young voice.",languageCode:"da-DK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/FGY2WhTYpPnrIDTdsKH5_Danish_preview.mp3",elevenLabsId:"FGY2WhTYpPnrIDTdsKH5",accent:"american",languageAgnostic:!0},{name:"eleven-labs-liam",gender:"MALE",label:"Liam",useCase:"Narration",age:"Young",description:"An articulate and young voice.",languageCode:"da-DK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TX3LPaxmHKxFdv7VOQHJ_Danish_preview.mp3",elevenLabsId:"TX3LPaxmHKxFdv7VOQHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-lily",gender:"FEMALE",label:"Lily",useCase:"Narration",age:"Middle-aged",description:"A warm and middle-aged voice.",languageCode:"da-DK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pFZP5JQG7iQjIQuC4Bku_Danish_preview.mp3",elevenLabsId:"pFZP5JQG7iQjIQuC4Bku",accent:"british",languageAgnostic:!0},{name:"eleven-labs-matilda",gender:"FEMALE",label:"Matilda",useCase:"Narration",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"da-DK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XrExE9yKIg1WjnnlVkGX_Danish_preview.mp3",elevenLabsId:"XrExE9yKIg1WjnnlVkGX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-michael",gender:"MALE",label:"Michael",useCase:"Narration",age:"Old",description:"A calm and old voice.",languageCode:"da-DK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/flq6f7yk4E4fJM5XTYuZ_Danish_preview.mp3",elevenLabsId:"flq6f7yk4E4fJM5XTYuZ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-mimi",gender:"FEMALE",label:"Mimi",useCase:"Animation",age:"Young",description:"A childish and young voice.",languageCode:"da-DK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zrHiDhphv9ZnVXBqCLjz_Danish_preview.mp3",elevenLabsId:"zrHiDhphv9ZnVXBqCLjz",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-nicole",gender:"FEMALE",label:"Nicole",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"da-DK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/piTKgcLEGmPE4e6mEKli_Danish_preview.mp3",elevenLabsId:"piTKgcLEGmPE4e6mEKli",accent:"american",languageAgnostic:!0},{name:"eleven-labs-patrick",gender:"MALE",label:"Patrick",useCase:"Characters",age:"Middle-aged",description:"A shouty and middle-aged voice.",languageCode:"da-DK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ODq5zmih8GrVes37Dizd_Danish_preview.mp3",elevenLabsId:"ODq5zmih8GrVes37Dizd",accent:"american",languageAgnostic:!0},{name:"eleven-labs-paul",gender:"MALE",label:"Paul",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"da-DK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/5Q0t7uMcjvnagumLfvZi_Danish_preview.mp3",elevenLabsId:"5Q0t7uMcjvnagumLfvZi",accent:"american",languageAgnostic:!0},{name:"eleven-labs-rachel",gender:"FEMALE",label:"Rachel",useCase:"Narration",age:"Young",description:"A calm and young voice.",languageCode:"da-DK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/21m00Tcm4TlvDq8ikWAM_Danish_preview.mp3",elevenLabsId:"21m00Tcm4TlvDq8ikWAM",accent:"american",languageAgnostic:!0},{name:"eleven-labs-river",gender:"NEUTRAL",label:"River",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"da-DK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SAz9YHcvj6GT2YYXdXww_Danish_preview.mp3",elevenLabsId:"SAz9YHcvj6GT2YYXdXww",accent:"american",languageAgnostic:!0},{name:"eleven-labs-roger",gender:"MALE",label:"Roger",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"da-DK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CwhRBWXzGAHq8TQ4Fs17_Danish_preview.mp3",elevenLabsId:"CwhRBWXzGAHq8TQ4Fs17",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sam",gender:"MALE",label:"Sam",useCase:"Narration",age:"Young",description:"A raspy and young voice.",languageCode:"da-DK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/yoZ06aMxZJJ28mfd3POQ_Danish_preview.mp3",elevenLabsId:"yoZ06aMxZJJ28mfd3POQ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sarah",gender:"FEMALE",label:"Sarah",useCase:"News",age:"Young",description:"A soft and young voice.",languageCode:"da-DK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/EXAVITQu4vr4xnSDxMaL_Danish_preview.mp3",elevenLabsId:"EXAVITQu4vr4xnSDxMaL",accent:"american",languageAgnostic:!0},{name:"eleven-labs-serena",gender:"FEMALE",label:"Serena",useCase:"Narration",age:"Middle-aged",description:"A pleasant and middle-aged voice.",languageCode:"da-DK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pMsXgVXv3BLzUgSXRplE_Danish_preview.mp3",elevenLabsId:"pMsXgVXv3BLzUgSXRplE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-thomas",gender:"MALE",label:"Thomas",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"da-DK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/GBv7mTt0atIp3Br8iCZE_Danish_preview.mp3",elevenLabsId:"GBv7mTt0atIp3Br8iCZE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-will",gender:"MALE",label:"Will",useCase:"Social Media",age:"Young",description:"A friendly and young voice.",languageCode:"da-DK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bIHbv24MWmeRgasZH58o_Danish_preview.mp3",elevenLabsId:"bIHbv24MWmeRgasZH58o",accent:"american",languageAgnostic:!0}],Dutch:[{name:"nl-NL-Wavenet-C",label:"Noah",gender:"MALE",age:"Middle-aged",languageCode:"nl-NL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-nl-NL-Wavenet-C_preview.mp3"},{name:"nl-NL-Wavenet-E",label:"Petra",gender:"FEMALE",age:"Middle-aged",languageCode:"nl-NL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-nl-NL-Wavenet-E_preview.mp3"},{name:"eleven-labs-adam",gender:"MALE",label:"Adam",useCase:"Narration",age:"Middle-aged",description:"A deep and middle aged voice.",languageCode:"nl-NL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pNInz6obpgDQGcFmaJgB_Dutch_preview.mp3",elevenLabsId:"pNInz6obpgDQGcFmaJgB",accent:"american",languageAgnostic:!0},{name:"eleven-labs-alice",gender:"FEMALE",label:"Alice",useCase:"News",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"nl-NL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Xb7hH8MSUJpSbSDYk0k2_Dutch_preview.mp3",elevenLabsId:"Xb7hH8MSUJpSbSDYk0k2",accent:"british",languageAgnostic:!0},{name:"eleven-labs-antoni",gender:"MALE",label:"Antoni",useCase:"Narration",age:"Young",description:"A well-rounded and young voice.",languageCode:"nl-NL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ErXwobaYiN019PkySvjV_Dutch_preview.mp3",elevenLabsId:"ErXwobaYiN019PkySvjV",accent:"american",languageAgnostic:!0},{name:"eleven-labs-aria",gender:"FEMALE",label:"Aria",useCase:"Social Media",age:"Middle-aged",description:"An expressive and middle-aged voice.",languageCode:"nl-NL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/9BWtsMINqrJLrRacOk9x_Dutch_preview.mp3",elevenLabsId:"9BWtsMINqrJLrRacOk9x",accent:"american",languageAgnostic:!0},{name:"eleven-labs-arnold",gender:"MALE",label:"Arnold",useCase:"Narration",age:"Middle-aged",description:"A crisp and middle aged voice.",languageCode:"nl-NL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/VR6AewLTigWG4xSOukaG_Dutch_preview.mp3",elevenLabsId:"VR6AewLTigWG4xSOukaG",accent:"american",languageAgnostic:!0},{name:"eleven-labs-bill",gender:"MALE",label:"Bill",useCase:"Narration",age:"Old",description:"A trustworthy and old voice.",languageCode:"nl-NL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pqHfZKP75CvOlQylNhV4_Dutch_preview.mp3",elevenLabsId:"pqHfZKP75CvOlQylNhV4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-brian",gender:"MALE",label:"Brian",useCase:"Narration",age:"Middle-aged",description:"A deep and middle-aged voice.",languageCode:"nl-NL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/nPczCjzI2devNBz1zQrb_Dutch_preview.mp3",elevenLabsId:"nPczCjzI2devNBz1zQrb",accent:"american",languageAgnostic:!0},{name:"eleven-labs-callum",gender:"MALE",label:"Callum",useCase:"Characters",age:"Middle-aged",description:"An intense and middle-aged voice.",languageCode:"nl-NL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/N2lVS1w4EtoT3dr4eOWO_Dutch_preview.mp3",elevenLabsId:"N2lVS1w4EtoT3dr4eOWO",accent:"american",languageAgnostic:!0},{name:"eleven-labs-charlie",gender:"MALE",label:"Charlie",useCase:"Conversational",age:"Middle-aged",description:"A natural and middle aged voice.",languageCode:"nl-NL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/IKne3meq5aSn9XLyUdCD_Dutch_preview.mp3",elevenLabsId:"IKne3meq5aSn9XLyUdCD",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-charlotte",gender:"FEMALE",label:"Charlotte",useCase:"Characters",age:"Young",description:"An inviting and young voice.",languageCode:"nl-NL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XB0fDUnXU5powFXDhCwa_Dutch_preview.mp3",elevenLabsId:"XB0fDUnXU5powFXDhCwa",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-chris",gender:"MALE",label:"Chris",useCase:"Conversational",age:"Middle-aged",description:"A casual and middle-aged voice.",languageCode:"nl-NL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/iP95p4xoKVk53GoZ742B_Dutch_preview.mp3",elevenLabsId:"iP95p4xoKVk53GoZ742B",accent:"american",languageAgnostic:!0},{name:"eleven-labs-clyde",gender:"MALE",label:"Clyde",useCase:"Characters",age:"Middle-aged",description:"A war veteran and middle-aged voice.",languageCode:"nl-NL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/2EiwWnXFnvU5JabPnv8n_Dutch_preview.mp3",elevenLabsId:"2EiwWnXFnvU5JabPnv8n",accent:"american",languageAgnostic:!0},{name:"eleven-labs-daniel",gender:"MALE",label:"Daniel",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"nl-NL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/onwK4e9ZLuTAKqWW03F9_Dutch_preview.mp3",elevenLabsId:"onwK4e9ZLuTAKqWW03F9",accent:"british",languageAgnostic:!0},{name:"eleven-labs-dave",gender:"MALE",label:"Dave",useCase:"Characters",age:"Young",description:"A conversational and young voice.",languageCode:"nl-NL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CYw3kZ02Hs0563khs1Fj_Dutch_preview.mp3",elevenLabsId:"CYw3kZ02Hs0563khs1Fj",accent:"british-essex",languageAgnostic:!0},{name:"eleven-labs-domi",gender:"FEMALE",label:"Domi",useCase:"Narration",age:"Young",description:"A strong and young voice.",languageCode:"nl-NL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/AZnzlk1XvdvUeBnXmlld_Dutch_preview.mp3",elevenLabsId:"AZnzlk1XvdvUeBnXmlld",accent:"american",languageAgnostic:!0},{name:"eleven-labs-dorothy",gender:"FEMALE",label:"Dorothy",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"nl-NL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ThT5KcBeYPX3keUQqHPh_Dutch_preview.mp3",elevenLabsId:"ThT5KcBeYPX3keUQqHPh",accent:"british",languageAgnostic:!0},{name:"eleven-labs-drew",gender:"MALE",label:"Drew",useCase:"News",age:"Middle-aged",description:"A well-rounded and middle-aged voice.",languageCode:"nl-NL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/29vD33N1CtxCmqQRPOHJ_Dutch_preview.mp3",elevenLabsId:"29vD33N1CtxCmqQRPOHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-emily",gender:"FEMALE",label:"Emily",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"nl-NL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/LcfcDJNUP1GQjkzn1xUU_Dutch_preview.mp3",elevenLabsId:"LcfcDJNUP1GQjkzn1xUU",accent:"american",languageAgnostic:!0},{name:"eleven-labs-eric",gender:"MALE",label:"Eric",useCase:"Conversational",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"nl-NL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cjVigY5qzO86Huf0OWal_Dutch_preview.mp3",elevenLabsId:"cjVigY5qzO86Huf0OWal",accent:"american",languageAgnostic:!0},{name:"eleven-labs-ethan",gender:"MALE",label:"Ethan",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"nl-NL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/g5CIjZEefAph4nQFvHAz_Dutch_preview.mp3",elevenLabsId:"g5CIjZEefAph4nQFvHAz",accent:"american",languageAgnostic:!0},{name:"eleven-labs-fin",gender:"MALE",label:"Fin",useCase:"Characters",age:"Old",description:"A sailor and old voice.",languageCode:"nl-NL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/D38z5RcWu1voky8WS1ja_Dutch_preview.mp3",elevenLabsId:"D38z5RcWu1voky8WS1ja",accent:"irish",languageAgnostic:!0},{name:"eleven-labs-freya",gender:"FEMALE",label:"Freya",useCase:"Characters",age:"Young",description:"An expressive and young voice.",languageCode:"nl-NL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jsCqWAovK2LkecY7zXl4_Dutch_preview.mp3",elevenLabsId:"jsCqWAovK2LkecY7zXl4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-george",gender:"MALE",label:"George",useCase:"Narration",age:"Middle-aged",description:"A warm and middle aged voice.",languageCode:"nl-NL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/JBFqnCBsd6RMkjVDRZzb_Dutch_preview.mp3",elevenLabsId:"JBFqnCBsd6RMkjVDRZzb",accent:"british",languageAgnostic:!0},{name:"eleven-labs-gigi",gender:"FEMALE",label:"Gigi",useCase:"Animation",age:"Young",description:"A childlish and young voice.",languageCode:"nl-NL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jBpfuIE2acCO8z3wKNLl_Dutch_preview.mp3",elevenLabsId:"jBpfuIE2acCO8z3wKNLl",accent:"american",languageAgnostic:!0},{name:"eleven-labs-giovanni",gender:"MALE",label:"Giovanni",useCase:"Narration",age:"Young",description:"A foreigner and young voice.",languageCode:"nl-NL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zcAOhNBS3c14rBihAFp1_Dutch_preview.mp3",elevenLabsId:"zcAOhNBS3c14rBihAFp1",accent:"english-italian",languageAgnostic:!0},{name:"eleven-labs-glinda",gender:"FEMALE",label:"Glinda",useCase:"Characters",age:"Middle-aged",description:"A smooth and middle-aged voice.",languageCode:"nl-NL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/z9fAnlkpzviPz146aGWa_Dutch_preview.mp3",elevenLabsId:"z9fAnlkpzviPz146aGWa",accent:"american",languageAgnostic:!0},{name:"eleven-labs-grace",gender:"FEMALE",label:"Grace",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"nl-NL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/oWAxZDx7w5VEj9dCyTzz_Dutch_preview.mp3",elevenLabsId:"oWAxZDx7w5VEj9dCyTzz",accent:"american-southern",languageAgnostic:!0},{name:"eleven-labs-harry",gender:"MALE",label:"Harry",useCase:"Characters",age:"Young",description:"An anxious and young voice.",languageCode:"nl-NL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SOYHLrjzK2X1ezoPC6cr_Dutch_preview.mp3",elevenLabsId:"SOYHLrjzK2X1ezoPC6cr",accent:"american",languageAgnostic:!0},{name:"eleven-labs-james",gender:"MALE",label:"James",useCase:"News",age:"Old",description:"A calm and old voice.",languageCode:"nl-NL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ZQe5CZNOzWyzPSCn5a3c_Dutch_preview.mp3",elevenLabsId:"ZQe5CZNOzWyzPSCn5a3c",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-jeremy",gender:"MALE",label:"Jeremy",useCase:"Narration",age:"Young",description:"An excited and young voice.",languageCode:"nl-NL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bVMeCyTHy58xNoL34h3p_Dutch_preview.mp3",elevenLabsId:"bVMeCyTHy58xNoL34h3p",accent:"american-irish",languageAgnostic:!0},{name:"eleven-labs-jessica",gender:"FEMALE",label:"Jessica",useCase:"Conversational",age:"Young",description:"An expressive and young voice.",languageCode:"nl-NL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cgSgspJ2msm6clMCkdW9_Dutch_preview.mp3",elevenLabsId:"cgSgspJ2msm6clMCkdW9",accent:"american",languageAgnostic:!0},{name:"eleven-labs-jessie",gender:"MALE",label:"Jessie",useCase:"Characters",age:"Old",description:"A raspy and old voice.",languageCode:"nl-NL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/t0jbNlBVZ17f02VDIeMI_Dutch_preview.mp3",elevenLabsId:"t0jbNlBVZ17f02VDIeMI",accent:"american",languageAgnostic:!0},{name:"eleven-labs-joseph",gender:"MALE",label:"Joseph",useCase:"News",age:"Middle-aged",description:"An articulate and middle-aged voice.",languageCode:"nl-NL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Zlb1dXrM653N07WRdFW3_Dutch_preview.mp3",elevenLabsId:"Zlb1dXrM653N07WRdFW3",accent:"british",languageAgnostic:!0},{name:"eleven-labs-josh",gender:"MALE",label:"Josh",useCase:"Narration",age:"Young",description:"A deep and young voice.",languageCode:"nl-NL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TxGEqnHWrfWFTfGW9XjX_Dutch_preview.mp3",elevenLabsId:"TxGEqnHWrfWFTfGW9XjX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-laura",gender:"FEMALE",label:"Laura",useCase:"Social Media",age:"Young",description:"An upbeat and young voice.",languageCode:"nl-NL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/FGY2WhTYpPnrIDTdsKH5_Dutch_preview.mp3",elevenLabsId:"FGY2WhTYpPnrIDTdsKH5",accent:"american",languageAgnostic:!0},{name:"eleven-labs-liam",gender:"MALE",label:"Liam",useCase:"Narration",age:"Young",description:"An articulate and young voice.",languageCode:"nl-NL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TX3LPaxmHKxFdv7VOQHJ_Dutch_preview.mp3",elevenLabsId:"TX3LPaxmHKxFdv7VOQHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-lily",gender:"FEMALE",label:"Lily",useCase:"Narration",age:"Middle-aged",description:"A warm and middle-aged voice.",languageCode:"nl-NL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pFZP5JQG7iQjIQuC4Bku_Dutch_preview.mp3",elevenLabsId:"pFZP5JQG7iQjIQuC4Bku",accent:"british",languageAgnostic:!0},{name:"eleven-labs-matilda",gender:"FEMALE",label:"Matilda",useCase:"Narration",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"nl-NL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XrExE9yKIg1WjnnlVkGX_Dutch_preview.mp3",elevenLabsId:"XrExE9yKIg1WjnnlVkGX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-michael",gender:"MALE",label:"Michael",useCase:"Narration",age:"Old",description:"A calm and old voice.",languageCode:"nl-NL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/flq6f7yk4E4fJM5XTYuZ_Dutch_preview.mp3",elevenLabsId:"flq6f7yk4E4fJM5XTYuZ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-mimi",gender:"FEMALE",label:"Mimi",useCase:"Animation",age:"Young",description:"A childish and young voice.",languageCode:"nl-NL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zrHiDhphv9ZnVXBqCLjz_Dutch_preview.mp3",elevenLabsId:"zrHiDhphv9ZnVXBqCLjz",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-nicole",gender:"FEMALE",label:"Nicole",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"nl-NL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/piTKgcLEGmPE4e6mEKli_Dutch_preview.mp3",elevenLabsId:"piTKgcLEGmPE4e6mEKli",accent:"american",languageAgnostic:!0},{name:"eleven-labs-patrick",gender:"MALE",label:"Patrick",useCase:"Characters",age:"Middle-aged",description:"A shouty and middle-aged voice.",languageCode:"nl-NL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ODq5zmih8GrVes37Dizd_Dutch_preview.mp3",elevenLabsId:"ODq5zmih8GrVes37Dizd",accent:"american",languageAgnostic:!0},{name:"eleven-labs-paul",gender:"MALE",label:"Paul",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"nl-NL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/5Q0t7uMcjvnagumLfvZi_Dutch_preview.mp3",elevenLabsId:"5Q0t7uMcjvnagumLfvZi",accent:"american",languageAgnostic:!0},{name:"eleven-labs-rachel",gender:"FEMALE",label:"Rachel",useCase:"Narration",age:"Young",description:"A calm and young voice.",languageCode:"nl-NL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/21m00Tcm4TlvDq8ikWAM_Dutch_preview.mp3",elevenLabsId:"21m00Tcm4TlvDq8ikWAM",accent:"american",languageAgnostic:!0},{name:"eleven-labs-river",gender:"NEUTRAL",label:"River",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"nl-NL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SAz9YHcvj6GT2YYXdXww_Dutch_preview.mp3",elevenLabsId:"SAz9YHcvj6GT2YYXdXww",accent:"american",languageAgnostic:!0},{name:"eleven-labs-roger",gender:"MALE",label:"Roger",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"nl-NL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CwhRBWXzGAHq8TQ4Fs17_Dutch_preview.mp3",elevenLabsId:"CwhRBWXzGAHq8TQ4Fs17",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sam",gender:"MALE",label:"Sam",useCase:"Narration",age:"Young",description:"A raspy and young voice.",languageCode:"nl-NL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/yoZ06aMxZJJ28mfd3POQ_Dutch_preview.mp3",elevenLabsId:"yoZ06aMxZJJ28mfd3POQ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sarah",gender:"FEMALE",label:"Sarah",useCase:"News",age:"Young",description:"A soft and young voice.",languageCode:"nl-NL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/EXAVITQu4vr4xnSDxMaL_Dutch_preview.mp3",elevenLabsId:"EXAVITQu4vr4xnSDxMaL",accent:"american",languageAgnostic:!0},{name:"eleven-labs-serena",gender:"FEMALE",label:"Serena",useCase:"Narration",age:"Middle-aged",description:"A pleasant and middle-aged voice.",languageCode:"nl-NL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pMsXgVXv3BLzUgSXRplE_Dutch_preview.mp3",elevenLabsId:"pMsXgVXv3BLzUgSXRplE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-thomas",gender:"MALE",label:"Thomas",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"nl-NL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/GBv7mTt0atIp3Br8iCZE_Dutch_preview.mp3",elevenLabsId:"GBv7mTt0atIp3Br8iCZE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-will",gender:"MALE",label:"Will",useCase:"Social Media",age:"Young",description:"A friendly and young voice.",languageCode:"nl-NL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bIHbv24MWmeRgasZH58o_Dutch_preview.mp3",elevenLabsId:"bIHbv24MWmeRgasZH58o",accent:"american",languageAgnostic:!0}],"Finnish (Finland)":[{elevenLabsId:"3OArekHEkHv5XvmZirVD",sampleURL:"https://storage.googleapis.com/eleven-public-prod/database/user/x5oDnHb3gcQVsz98Z9d02YR9nNq2/voices/3OArekHEkHv5XvmZirVD/26b3d232-c1b4-49f9-894d-e58a0b70b78f.mp3",label:"Christoffer",gender:"MALE",age:"Middle_aged",accent:"standard",description:"Adult Finnish male reading a children's story.",useCase:"Narrative Story",languageCode:"fi-FI",name:"elevenlabs-Christoffer Weiss-fi-FI-male"},{name:"fi-FI-Wavenet-A",label:"Aino",gender:"FEMALE",languageCode:"fi-FI",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-fi-FI-Wavenet-A_preview.mp3",age:"Middle-aged",useCase:null},{name:"eleven-labs-adam",gender:"MALE",label:"Adam",useCase:"Narration",age:"Middle-aged",description:"A deep and middle aged voice.",languageCode:"fi-FI",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pNInz6obpgDQGcFmaJgB_Finnish(Finland)_preview.mp3",elevenLabsId:"pNInz6obpgDQGcFmaJgB",accent:"american",languageAgnostic:!0},{name:"eleven-labs-alice",gender:"FEMALE",label:"Alice",useCase:"News",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"fi-FI",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Xb7hH8MSUJpSbSDYk0k2_Finnish(Finland)_preview.mp3",elevenLabsId:"Xb7hH8MSUJpSbSDYk0k2",accent:"british",languageAgnostic:!0},{name:"eleven-labs-antoni",gender:"MALE",label:"Antoni",useCase:"Narration",age:"Young",description:"A well-rounded and young voice.",languageCode:"fi-FI",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ErXwobaYiN019PkySvjV_Finnish(Finland)_preview.mp3",elevenLabsId:"ErXwobaYiN019PkySvjV",accent:"american",languageAgnostic:!0},{name:"eleven-labs-aria",gender:"FEMALE",label:"Aria",useCase:"Social Media",age:"Middle-aged",description:"An expressive and middle-aged voice.",languageCode:"fi-FI",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/9BWtsMINqrJLrRacOk9x_Finnish(Finland)_preview.mp3",elevenLabsId:"9BWtsMINqrJLrRacOk9x",accent:"american",languageAgnostic:!0},{name:"eleven-labs-arnold",gender:"MALE",label:"Arnold",useCase:"Narration",age:"Middle-aged",description:"A crisp and middle aged voice.",languageCode:"fi-FI",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/VR6AewLTigWG4xSOukaG_Finnish(Finland)_preview.mp3",elevenLabsId:"VR6AewLTigWG4xSOukaG",accent:"american",languageAgnostic:!0},{name:"eleven-labs-bill",gender:"MALE",label:"Bill",useCase:"Narration",age:"Old",description:"A trustworthy and old voice.",languageCode:"fi-FI",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pqHfZKP75CvOlQylNhV4_Finnish(Finland)_preview.mp3",elevenLabsId:"pqHfZKP75CvOlQylNhV4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-brian",gender:"MALE",label:"Brian",useCase:"Narration",age:"Middle-aged",description:"A deep and middle-aged voice.",languageCode:"fi-FI",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/nPczCjzI2devNBz1zQrb_Finnish(Finland)_preview.mp3",elevenLabsId:"nPczCjzI2devNBz1zQrb",accent:"american",languageAgnostic:!0},{name:"eleven-labs-callum",gender:"MALE",label:"Callum",useCase:"Characters",age:"Middle-aged",description:"An intense and middle-aged voice.",languageCode:"fi-FI",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/N2lVS1w4EtoT3dr4eOWO_Finnish(Finland)_preview.mp3",elevenLabsId:"N2lVS1w4EtoT3dr4eOWO",accent:"american",languageAgnostic:!0},{name:"eleven-labs-charlie",gender:"MALE",label:"Charlie",useCase:"Conversational",age:"Middle-aged",description:"A natural and middle aged voice.",languageCode:"fi-FI",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/IKne3meq5aSn9XLyUdCD_Finnish(Finland)_preview.mp3",elevenLabsId:"IKne3meq5aSn9XLyUdCD",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-charlotte",gender:"FEMALE",label:"Charlotte",useCase:"Characters",age:"Young",description:"An inviting and young voice.",languageCode:"fi-FI",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XB0fDUnXU5powFXDhCwa_Finnish(Finland)_preview.mp3",elevenLabsId:"XB0fDUnXU5powFXDhCwa",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-chris",gender:"MALE",label:"Chris",useCase:"Conversational",age:"Middle-aged",description:"A casual and middle-aged voice.",languageCode:"fi-FI",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/iP95p4xoKVk53GoZ742B_Finnish(Finland)_preview.mp3",elevenLabsId:"iP95p4xoKVk53GoZ742B",accent:"american",languageAgnostic:!0},{name:"eleven-labs-clyde",gender:"MALE",label:"Clyde",useCase:"Characters",age:"Middle-aged",description:"A war veteran and middle-aged voice.",languageCode:"fi-FI",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/2EiwWnXFnvU5JabPnv8n_Finnish(Finland)_preview.mp3",elevenLabsId:"2EiwWnXFnvU5JabPnv8n",accent:"american",languageAgnostic:!0},{name:"eleven-labs-daniel",gender:"MALE",label:"Daniel",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"fi-FI",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/onwK4e9ZLuTAKqWW03F9_Finnish(Finland)_preview.mp3",elevenLabsId:"onwK4e9ZLuTAKqWW03F9",accent:"british",languageAgnostic:!0},{name:"eleven-labs-dave",gender:"MALE",label:"Dave",useCase:"Characters",age:"Young",description:"A conversational and young voice.",languageCode:"fi-FI",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CYw3kZ02Hs0563khs1Fj_Finnish(Finland)_preview.mp3",elevenLabsId:"CYw3kZ02Hs0563khs1Fj",accent:"british-essex",languageAgnostic:!0},{name:"eleven-labs-domi",gender:"FEMALE",label:"Domi",useCase:"Narration",age:"Young",description:"A strong and young voice.",languageCode:"fi-FI",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/AZnzlk1XvdvUeBnXmlld_Finnish(Finland)_preview.mp3",elevenLabsId:"AZnzlk1XvdvUeBnXmlld",accent:"american",languageAgnostic:!0},{name:"eleven-labs-dorothy",gender:"FEMALE",label:"Dorothy",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"fi-FI",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ThT5KcBeYPX3keUQqHPh_Finnish(Finland)_preview.mp3",elevenLabsId:"ThT5KcBeYPX3keUQqHPh",accent:"british",languageAgnostic:!0},{name:"eleven-labs-drew",gender:"MALE",label:"Drew",useCase:"News",age:"Middle-aged",description:"A well-rounded and middle-aged voice.",languageCode:"fi-FI",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/29vD33N1CtxCmqQRPOHJ_Finnish(Finland)_preview.mp3",elevenLabsId:"29vD33N1CtxCmqQRPOHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-emily",gender:"FEMALE",label:"Emily",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"fi-FI",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/LcfcDJNUP1GQjkzn1xUU_Finnish(Finland)_preview.mp3",elevenLabsId:"LcfcDJNUP1GQjkzn1xUU",accent:"american",languageAgnostic:!0},{name:"eleven-labs-eric",gender:"MALE",label:"Eric",useCase:"Conversational",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"fi-FI",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cjVigY5qzO86Huf0OWal_Finnish(Finland)_preview.mp3",elevenLabsId:"cjVigY5qzO86Huf0OWal",accent:"american",languageAgnostic:!0},{name:"eleven-labs-ethan",gender:"MALE",label:"Ethan",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"fi-FI",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/g5CIjZEefAph4nQFvHAz_Finnish(Finland)_preview.mp3",elevenLabsId:"g5CIjZEefAph4nQFvHAz",accent:"american",languageAgnostic:!0},{name:"eleven-labs-fin",gender:"MALE",label:"Fin",useCase:"Characters",age:"Old",description:"A sailor and old voice.",languageCode:"fi-FI",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/D38z5RcWu1voky8WS1ja_Finnish(Finland)_preview.mp3",elevenLabsId:"D38z5RcWu1voky8WS1ja",accent:"irish",languageAgnostic:!0},{name:"eleven-labs-freya",gender:"FEMALE",label:"Freya",useCase:"Characters",age:"Young",description:"An expressive and young voice.",languageCode:"fi-FI",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jsCqWAovK2LkecY7zXl4_Finnish(Finland)_preview.mp3",elevenLabsId:"jsCqWAovK2LkecY7zXl4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-george",gender:"MALE",label:"George",useCase:"Narration",age:"Middle-aged",description:"A warm and middle aged voice.",languageCode:"fi-FI",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/JBFqnCBsd6RMkjVDRZzb_Finnish(Finland)_preview.mp3",elevenLabsId:"JBFqnCBsd6RMkjVDRZzb",accent:"british",languageAgnostic:!0},{name:"eleven-labs-gigi",gender:"FEMALE",label:"Gigi",useCase:"Animation",age:"Young",description:"A childlish and young voice.",languageCode:"fi-FI",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jBpfuIE2acCO8z3wKNLl_Finnish(Finland)_preview.mp3",elevenLabsId:"jBpfuIE2acCO8z3wKNLl",accent:"american",languageAgnostic:!0},{name:"eleven-labs-giovanni",gender:"MALE",label:"Giovanni",useCase:"Narration",age:"Young",description:"A foreigner and young voice.",languageCode:"fi-FI",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zcAOhNBS3c14rBihAFp1_Finnish(Finland)_preview.mp3",elevenLabsId:"zcAOhNBS3c14rBihAFp1",accent:"english-italian",languageAgnostic:!0},{name:"eleven-labs-glinda",gender:"FEMALE",label:"Glinda",useCase:"Characters",age:"Middle-aged",description:"A smooth and middle-aged voice.",languageCode:"fi-FI",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/z9fAnlkpzviPz146aGWa_Finnish(Finland)_preview.mp3",elevenLabsId:"z9fAnlkpzviPz146aGWa",accent:"american",languageAgnostic:!0},{name:"eleven-labs-grace",gender:"FEMALE",label:"Grace",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"fi-FI",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/oWAxZDx7w5VEj9dCyTzz_Finnish(Finland)_preview.mp3",elevenLabsId:"oWAxZDx7w5VEj9dCyTzz",accent:"american-southern",languageAgnostic:!0},{name:"eleven-labs-harry",gender:"MALE",label:"Harry",useCase:"Characters",age:"Young",description:"An anxious and young voice.",languageCode:"fi-FI",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SOYHLrjzK2X1ezoPC6cr_Finnish(Finland)_preview.mp3",elevenLabsId:"SOYHLrjzK2X1ezoPC6cr",accent:"american",languageAgnostic:!0},{name:"eleven-labs-james",gender:"MALE",label:"James",useCase:"News",age:"Old",description:"A calm and old voice.",languageCode:"fi-FI",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ZQe5CZNOzWyzPSCn5a3c_Finnish(Finland)_preview.mp3",elevenLabsId:"ZQe5CZNOzWyzPSCn5a3c",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-jeremy",gender:"MALE",label:"Jeremy",useCase:"Narration",age:"Young",description:"An excited and young voice.",languageCode:"fi-FI",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bVMeCyTHy58xNoL34h3p_Finnish(Finland)_preview.mp3",elevenLabsId:"bVMeCyTHy58xNoL34h3p",accent:"american-irish",languageAgnostic:!0},{name:"eleven-labs-jessica",gender:"FEMALE",label:"Jessica",useCase:"Conversational",age:"Young",description:"An expressive and young voice.",languageCode:"fi-FI",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cgSgspJ2msm6clMCkdW9_Finnish(Finland)_preview.mp3",elevenLabsId:"cgSgspJ2msm6clMCkdW9",accent:"american",languageAgnostic:!0},{name:"eleven-labs-jessie",gender:"MALE",label:"Jessie",useCase:"Characters",age:"Old",description:"A raspy and old voice.",languageCode:"fi-FI",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/t0jbNlBVZ17f02VDIeMI_Finnish(Finland)_preview.mp3",elevenLabsId:"t0jbNlBVZ17f02VDIeMI",accent:"american",languageAgnostic:!0},{name:"eleven-labs-joseph",gender:"MALE",label:"Joseph",useCase:"News",age:"Middle-aged",description:"An articulate and middle-aged voice.",languageCode:"fi-FI",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Zlb1dXrM653N07WRdFW3_Finnish(Finland)_preview.mp3",elevenLabsId:"Zlb1dXrM653N07WRdFW3",accent:"british",languageAgnostic:!0},{name:"eleven-labs-josh",gender:"MALE",label:"Josh",useCase:"Narration",age:"Young",description:"A deep and young voice.",languageCode:"fi-FI",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TxGEqnHWrfWFTfGW9XjX_Finnish(Finland)_preview.mp3",elevenLabsId:"TxGEqnHWrfWFTfGW9XjX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-laura",gender:"FEMALE",label:"Laura",useCase:"Social Media",age:"Young",description:"An upbeat and young voice.",languageCode:"fi-FI",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/FGY2WhTYpPnrIDTdsKH5_Finnish(Finland)_preview.mp3",elevenLabsId:"FGY2WhTYpPnrIDTdsKH5",accent:"american",languageAgnostic:!0},{name:"eleven-labs-liam",gender:"MALE",label:"Liam",useCase:"Narration",age:"Young",description:"An articulate and young voice.",languageCode:"fi-FI",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TX3LPaxmHKxFdv7VOQHJ_Finnish(Finland)_preview.mp3",elevenLabsId:"TX3LPaxmHKxFdv7VOQHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-lily",gender:"FEMALE",label:"Lily",useCase:"Narration",age:"Middle-aged",description:"A warm and middle-aged voice.",languageCode:"fi-FI",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pFZP5JQG7iQjIQuC4Bku_Finnish(Finland)_preview.mp3",elevenLabsId:"pFZP5JQG7iQjIQuC4Bku",accent:"british",languageAgnostic:!0},{name:"eleven-labs-matilda",gender:"FEMALE",label:"Matilda",useCase:"Narration",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"fi-FI",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XrExE9yKIg1WjnnlVkGX_Finnish(Finland)_preview.mp3",elevenLabsId:"XrExE9yKIg1WjnnlVkGX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-michael",gender:"MALE",label:"Michael",useCase:"Narration",age:"Old",description:"A calm and old voice.",languageCode:"fi-FI",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/flq6f7yk4E4fJM5XTYuZ_Finnish(Finland)_preview.mp3",elevenLabsId:"flq6f7yk4E4fJM5XTYuZ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-mimi",gender:"FEMALE",label:"Mimi",useCase:"Animation",age:"Young",description:"A childish and young voice.",languageCode:"fi-FI",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zrHiDhphv9ZnVXBqCLjz_Finnish(Finland)_preview.mp3",elevenLabsId:"zrHiDhphv9ZnVXBqCLjz",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-nicole",gender:"FEMALE",label:"Nicole",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"fi-FI",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/piTKgcLEGmPE4e6mEKli_Finnish(Finland)_preview.mp3",elevenLabsId:"piTKgcLEGmPE4e6mEKli",accent:"american",languageAgnostic:!0},{name:"eleven-labs-patrick",gender:"MALE",label:"Patrick",useCase:"Characters",age:"Middle-aged",description:"A shouty and middle-aged voice.",languageCode:"fi-FI",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ODq5zmih8GrVes37Dizd_Finnish(Finland)_preview.mp3",elevenLabsId:"ODq5zmih8GrVes37Dizd",accent:"american",languageAgnostic:!0},{name:"eleven-labs-paul",gender:"MALE",label:"Paul",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"fi-FI",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/5Q0t7uMcjvnagumLfvZi_Finnish(Finland)_preview.mp3",elevenLabsId:"5Q0t7uMcjvnagumLfvZi",accent:"american",languageAgnostic:!0},{name:"eleven-labs-rachel",gender:"FEMALE",label:"Rachel",useCase:"Narration",age:"Young",description:"A calm and young voice.",languageCode:"fi-FI",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/21m00Tcm4TlvDq8ikWAM_Finnish(Finland)_preview.mp3",elevenLabsId:"21m00Tcm4TlvDq8ikWAM",accent:"american",languageAgnostic:!0},{name:"eleven-labs-river",gender:"NEUTRAL",label:"River",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"fi-FI",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SAz9YHcvj6GT2YYXdXww_Finnish(Finland)_preview.mp3",elevenLabsId:"SAz9YHcvj6GT2YYXdXww",accent:"american",languageAgnostic:!0},{name:"eleven-labs-roger",gender:"MALE",label:"Roger",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"fi-FI",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CwhRBWXzGAHq8TQ4Fs17_Finnish(Finland)_preview.mp3",elevenLabsId:"CwhRBWXzGAHq8TQ4Fs17",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sam",gender:"MALE",label:"Sam",useCase:"Narration",age:"Young",description:"A raspy and young voice.",languageCode:"fi-FI",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/yoZ06aMxZJJ28mfd3POQ_Finnish(Finland)_preview.mp3",elevenLabsId:"yoZ06aMxZJJ28mfd3POQ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sarah",gender:"FEMALE",label:"Sarah",useCase:"News",age:"Young",description:"A soft and young voice.",languageCode:"fi-FI",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/EXAVITQu4vr4xnSDxMaL_Finnish(Finland)_preview.mp3",elevenLabsId:"EXAVITQu4vr4xnSDxMaL",accent:"american",languageAgnostic:!0},{name:"eleven-labs-serena",gender:"FEMALE",label:"Serena",useCase:"Narration",age:"Middle-aged",description:"A pleasant and middle-aged voice.",languageCode:"fi-FI",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pMsXgVXv3BLzUgSXRplE_Finnish(Finland)_preview.mp3",elevenLabsId:"pMsXgVXv3BLzUgSXRplE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-thomas",gender:"MALE",label:"Thomas",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"fi-FI",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/GBv7mTt0atIp3Br8iCZE_Finnish(Finland)_preview.mp3",elevenLabsId:"GBv7mTt0atIp3Br8iCZE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-will",gender:"MALE",label:"Will",useCase:"Social Media",age:"Young",description:"A friendly and young voice.",languageCode:"fi-FI",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bIHbv24MWmeRgasZH58o_Finnish(Finland)_preview.mp3",elevenLabsId:"bIHbv24MWmeRgasZH58o",accent:"american",languageAgnostic:!0}],"Filipino (Tagalog)":[{gender:"MALE",label:"Benjie",name:"fil-ph-Neural2-D",languageCode:"fil-PH",sampleURL:"https://cdn-useast1.kapwing.com/static/FlU-Filipino_Male.mp3",age:"Middle-aged",useCase:null},{gender:"FEMALE",label:"Sofia",name:"fil-ph-Neural2-A",languageCode:"fil-PH",sampleURL:"https://cdn-useast1.kapwing.com/static/idX-Filipino_Female.mp3",age:"Middle-aged",useCase:null},{name:"eleven-labs-adam",gender:"MALE",label:"Adam",useCase:"Narration",age:"Middle-aged",description:"A deep and middle aged voice.",languageCode:"fil-PH",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pNInz6obpgDQGcFmaJgB_Filipino(Tagalog)_preview.mp3",elevenLabsId:"pNInz6obpgDQGcFmaJgB",accent:"american",languageAgnostic:!0},{name:"eleven-labs-alice",gender:"FEMALE",label:"Alice",useCase:"News",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"fil-PH",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Xb7hH8MSUJpSbSDYk0k2_Filipino(Tagalog)_preview.mp3",elevenLabsId:"Xb7hH8MSUJpSbSDYk0k2",accent:"british",languageAgnostic:!0},{name:"eleven-labs-antoni",gender:"MALE",label:"Antoni",useCase:"Narration",age:"Young",description:"A well-rounded and young voice.",languageCode:"fil-PH",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ErXwobaYiN019PkySvjV_Filipino(Tagalog)_preview.mp3",elevenLabsId:"ErXwobaYiN019PkySvjV",accent:"american",languageAgnostic:!0},{name:"eleven-labs-aria",gender:"FEMALE",label:"Aria",useCase:"Social Media",age:"Middle-aged",description:"An expressive and middle-aged voice.",languageCode:"fil-PH",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/9BWtsMINqrJLrRacOk9x_Filipino(Tagalog)_preview.mp3",elevenLabsId:"9BWtsMINqrJLrRacOk9x",accent:"american",languageAgnostic:!0},{name:"eleven-labs-arnold",gender:"MALE",label:"Arnold",useCase:"Narration",age:"Middle-aged",description:"A crisp and middle aged voice.",languageCode:"fil-PH",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/VR6AewLTigWG4xSOukaG_Filipino(Tagalog)_preview.mp3",elevenLabsId:"VR6AewLTigWG4xSOukaG",accent:"american",languageAgnostic:!0},{name:"eleven-labs-bill",gender:"MALE",label:"Bill",useCase:"Narration",age:"Old",description:"A trustworthy and old voice.",languageCode:"fil-PH",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pqHfZKP75CvOlQylNhV4_Filipino(Tagalog)_preview.mp3",elevenLabsId:"pqHfZKP75CvOlQylNhV4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-brian",gender:"MALE",label:"Brian",useCase:"Narration",age:"Middle-aged",description:"A deep and middle-aged voice.",languageCode:"fil-PH",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/nPczCjzI2devNBz1zQrb_Filipino(Tagalog)_preview.mp3",elevenLabsId:"nPczCjzI2devNBz1zQrb",accent:"american",languageAgnostic:!0},{name:"eleven-labs-callum",gender:"MALE",label:"Callum",useCase:"Characters",age:"Middle-aged",description:"An intense and middle-aged voice.",languageCode:"fil-PH",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/N2lVS1w4EtoT3dr4eOWO_Filipino(Tagalog)_preview.mp3",elevenLabsId:"N2lVS1w4EtoT3dr4eOWO",accent:"american",languageAgnostic:!0},{name:"eleven-labs-charlie",gender:"MALE",label:"Charlie",useCase:"Conversational",age:"Middle-aged",description:"A natural and middle aged voice.",languageCode:"fil-PH",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/IKne3meq5aSn9XLyUdCD_Filipino(Tagalog)_preview.mp3",elevenLabsId:"IKne3meq5aSn9XLyUdCD",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-charlotte",gender:"FEMALE",label:"Charlotte",useCase:"Characters",age:"Young",description:"An inviting and young voice.",languageCode:"fil-PH",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XB0fDUnXU5powFXDhCwa_Filipino(Tagalog)_preview.mp3",elevenLabsId:"XB0fDUnXU5powFXDhCwa",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-chris",gender:"MALE",label:"Chris",useCase:"Conversational",age:"Middle-aged",description:"A casual and middle-aged voice.",languageCode:"fil-PH",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/iP95p4xoKVk53GoZ742B_Filipino(Tagalog)_preview.mp3",elevenLabsId:"iP95p4xoKVk53GoZ742B",accent:"american",languageAgnostic:!0},{name:"eleven-labs-clyde",gender:"MALE",label:"Clyde",useCase:"Characters",age:"Middle-aged",description:"A war veteran and middle-aged voice.",languageCode:"fil-PH",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/2EiwWnXFnvU5JabPnv8n_Filipino(Tagalog)_preview.mp3",elevenLabsId:"2EiwWnXFnvU5JabPnv8n",accent:"american",languageAgnostic:!0},{name:"eleven-labs-daniel",gender:"MALE",label:"Daniel",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"fil-PH",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/onwK4e9ZLuTAKqWW03F9_Filipino(Tagalog)_preview.mp3",elevenLabsId:"onwK4e9ZLuTAKqWW03F9",accent:"british",languageAgnostic:!0},{name:"eleven-labs-dave",gender:"MALE",label:"Dave",useCase:"Characters",age:"Young",description:"A conversational and young voice.",languageCode:"fil-PH",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CYw3kZ02Hs0563khs1Fj_Filipino(Tagalog)_preview.mp3",elevenLabsId:"CYw3kZ02Hs0563khs1Fj",accent:"british-essex",languageAgnostic:!0},{name:"eleven-labs-domi",gender:"FEMALE",label:"Domi",useCase:"Narration",age:"Young",description:"A strong and young voice.",languageCode:"fil-PH",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/AZnzlk1XvdvUeBnXmlld_Filipino(Tagalog)_preview.mp3",elevenLabsId:"AZnzlk1XvdvUeBnXmlld",accent:"american",languageAgnostic:!0},{name:"eleven-labs-dorothy",gender:"FEMALE",label:"Dorothy",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"fil-PH",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ThT5KcBeYPX3keUQqHPh_Filipino(Tagalog)_preview.mp3",elevenLabsId:"ThT5KcBeYPX3keUQqHPh",accent:"british",languageAgnostic:!0},{name:"eleven-labs-drew",gender:"MALE",label:"Drew",useCase:"News",age:"Middle-aged",description:"A well-rounded and middle-aged voice.",languageCode:"fil-PH",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/29vD33N1CtxCmqQRPOHJ_Filipino(Tagalog)_preview.mp3",elevenLabsId:"29vD33N1CtxCmqQRPOHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-emily",gender:"FEMALE",label:"Emily",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"fil-PH",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/LcfcDJNUP1GQjkzn1xUU_Filipino(Tagalog)_preview.mp3",elevenLabsId:"LcfcDJNUP1GQjkzn1xUU",accent:"american",languageAgnostic:!0},{name:"eleven-labs-eric",gender:"MALE",label:"Eric",useCase:"Conversational",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"fil-PH",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cjVigY5qzO86Huf0OWal_Filipino(Tagalog)_preview.mp3",elevenLabsId:"cjVigY5qzO86Huf0OWal",accent:"american",languageAgnostic:!0},{name:"eleven-labs-ethan",gender:"MALE",label:"Ethan",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"fil-PH",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/g5CIjZEefAph4nQFvHAz_Filipino(Tagalog)_preview.mp3",elevenLabsId:"g5CIjZEefAph4nQFvHAz",accent:"american",languageAgnostic:!0},{name:"eleven-labs-fin",gender:"MALE",label:"Fin",useCase:"Characters",age:"Old",description:"A sailor and old voice.",languageCode:"fil-PH",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/D38z5RcWu1voky8WS1ja_Filipino(Tagalog)_preview.mp3",elevenLabsId:"D38z5RcWu1voky8WS1ja",accent:"irish",languageAgnostic:!0},{name:"eleven-labs-freya",gender:"FEMALE",label:"Freya",useCase:"Characters",age:"Young",description:"An expressive and young voice.",languageCode:"fil-PH",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jsCqWAovK2LkecY7zXl4_Filipino(Tagalog)_preview.mp3",elevenLabsId:"jsCqWAovK2LkecY7zXl4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-george",gender:"MALE",label:"George",useCase:"Narration",age:"Middle-aged",description:"A warm and middle aged voice.",languageCode:"fil-PH",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/JBFqnCBsd6RMkjVDRZzb_Filipino(Tagalog)_preview.mp3",elevenLabsId:"JBFqnCBsd6RMkjVDRZzb",accent:"british",languageAgnostic:!0},{name:"eleven-labs-gigi",gender:"FEMALE",label:"Gigi",useCase:"Animation",age:"Young",description:"A childlish and young voice.",languageCode:"fil-PH",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jBpfuIE2acCO8z3wKNLl_Filipino(Tagalog)_preview.mp3",elevenLabsId:"jBpfuIE2acCO8z3wKNLl",accent:"american",languageAgnostic:!0},{name:"eleven-labs-giovanni",gender:"MALE",label:"Giovanni",useCase:"Narration",age:"Young",description:"A foreigner and young voice.",languageCode:"fil-PH",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zcAOhNBS3c14rBihAFp1_Filipino(Tagalog)_preview.mp3",elevenLabsId:"zcAOhNBS3c14rBihAFp1",accent:"english-italian",languageAgnostic:!0},{name:"eleven-labs-glinda",gender:"FEMALE",label:"Glinda",useCase:"Characters",age:"Middle-aged",description:"A smooth and middle-aged voice.",languageCode:"fil-PH",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/z9fAnlkpzviPz146aGWa_Filipino(Tagalog)_preview.mp3",elevenLabsId:"z9fAnlkpzviPz146aGWa",accent:"american",languageAgnostic:!0},{name:"eleven-labs-grace",gender:"FEMALE",label:"Grace",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"fil-PH",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/oWAxZDx7w5VEj9dCyTzz_Filipino(Tagalog)_preview.mp3",elevenLabsId:"oWAxZDx7w5VEj9dCyTzz",accent:"american-southern",languageAgnostic:!0},{name:"eleven-labs-harry",gender:"MALE",label:"Harry",useCase:"Characters",age:"Young",description:"An anxious and young voice.",languageCode:"fil-PH",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SOYHLrjzK2X1ezoPC6cr_Filipino(Tagalog)_preview.mp3",elevenLabsId:"SOYHLrjzK2X1ezoPC6cr",accent:"american",languageAgnostic:!0},{name:"eleven-labs-james",gender:"MALE",label:"James",useCase:"News",age:"Old",description:"A calm and old voice.",languageCode:"fil-PH",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ZQe5CZNOzWyzPSCn5a3c_Filipino(Tagalog)_preview.mp3",elevenLabsId:"ZQe5CZNOzWyzPSCn5a3c",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-jeremy",gender:"MALE",label:"Jeremy",useCase:"Narration",age:"Young",description:"An excited and young voice.",languageCode:"fil-PH",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bVMeCyTHy58xNoL34h3p_Filipino(Tagalog)_preview.mp3",elevenLabsId:"bVMeCyTHy58xNoL34h3p",accent:"american-irish",languageAgnostic:!0},{name:"eleven-labs-jessica",gender:"FEMALE",label:"Jessica",useCase:"Conversational",age:"Young",description:"An expressive and young voice.",languageCode:"fil-PH",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cgSgspJ2msm6clMCkdW9_Filipino(Tagalog)_preview.mp3",elevenLabsId:"cgSgspJ2msm6clMCkdW9",accent:"american",languageAgnostic:!0},{name:"eleven-labs-jessie",gender:"MALE",label:"Jessie",useCase:"Characters",age:"Old",description:"A raspy and old voice.",languageCode:"fil-PH",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/t0jbNlBVZ17f02VDIeMI_Filipino(Tagalog)_preview.mp3",elevenLabsId:"t0jbNlBVZ17f02VDIeMI",accent:"american",languageAgnostic:!0},{name:"eleven-labs-joseph",gender:"MALE",label:"Joseph",useCase:"News",age:"Middle-aged",description:"An articulate and middle-aged voice.",languageCode:"fil-PH",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Zlb1dXrM653N07WRdFW3_Filipino(Tagalog)_preview.mp3",elevenLabsId:"Zlb1dXrM653N07WRdFW3",accent:"british",languageAgnostic:!0},{name:"eleven-labs-josh",gender:"MALE",label:"Josh",useCase:"Narration",age:"Young",description:"A deep and young voice.",languageCode:"fil-PH",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TxGEqnHWrfWFTfGW9XjX_Filipino(Tagalog)_preview.mp3",elevenLabsId:"TxGEqnHWrfWFTfGW9XjX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-laura",gender:"FEMALE",label:"Laura",useCase:"Social Media",age:"Young",description:"An upbeat and young voice.",languageCode:"fil-PH",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/FGY2WhTYpPnrIDTdsKH5_Filipino(Tagalog)_preview.mp3",elevenLabsId:"FGY2WhTYpPnrIDTdsKH5",accent:"american",languageAgnostic:!0},{name:"eleven-labs-liam",gender:"MALE",label:"Liam",useCase:"Narration",age:"Young",description:"An articulate and young voice.",languageCode:"fil-PH",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TX3LPaxmHKxFdv7VOQHJ_Filipino(Tagalog)_preview.mp3",elevenLabsId:"TX3LPaxmHKxFdv7VOQHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-lily",gender:"FEMALE",label:"Lily",useCase:"Narration",age:"Middle-aged",description:"A warm and middle-aged voice.",languageCode:"fil-PH",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pFZP5JQG7iQjIQuC4Bku_Filipino(Tagalog)_preview.mp3",elevenLabsId:"pFZP5JQG7iQjIQuC4Bku",accent:"british",languageAgnostic:!0},{name:"eleven-labs-matilda",gender:"FEMALE",label:"Matilda",useCase:"Narration",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"fil-PH",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XrExE9yKIg1WjnnlVkGX_Filipino(Tagalog)_preview.mp3",elevenLabsId:"XrExE9yKIg1WjnnlVkGX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-michael",gender:"MALE",label:"Michael",useCase:"Narration",age:"Old",description:"A calm and old voice.",languageCode:"fil-PH",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/flq6f7yk4E4fJM5XTYuZ_Filipino(Tagalog)_preview.mp3",elevenLabsId:"flq6f7yk4E4fJM5XTYuZ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-mimi",gender:"FEMALE",label:"Mimi",useCase:"Animation",age:"Young",description:"A childish and young voice.",languageCode:"fil-PH",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zrHiDhphv9ZnVXBqCLjz_Filipino(Tagalog)_preview.mp3",elevenLabsId:"zrHiDhphv9ZnVXBqCLjz",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-nicole",gender:"FEMALE",label:"Nicole",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"fil-PH",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/piTKgcLEGmPE4e6mEKli_Filipino(Tagalog)_preview.mp3",elevenLabsId:"piTKgcLEGmPE4e6mEKli",accent:"american",languageAgnostic:!0},{name:"eleven-labs-patrick",gender:"MALE",label:"Patrick",useCase:"Characters",age:"Middle-aged",description:"A shouty and middle-aged voice.",languageCode:"fil-PH",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ODq5zmih8GrVes37Dizd_Filipino(Tagalog)_preview.mp3",elevenLabsId:"ODq5zmih8GrVes37Dizd",accent:"american",languageAgnostic:!0},{name:"eleven-labs-paul",gender:"MALE",label:"Paul",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"fil-PH",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/5Q0t7uMcjvnagumLfvZi_Filipino(Tagalog)_preview.mp3",elevenLabsId:"5Q0t7uMcjvnagumLfvZi",accent:"american",languageAgnostic:!0},{name:"eleven-labs-rachel",gender:"FEMALE",label:"Rachel",useCase:"Narration",age:"Young",description:"A calm and young voice.",languageCode:"fil-PH",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/21m00Tcm4TlvDq8ikWAM_Filipino(Tagalog)_preview.mp3",elevenLabsId:"21m00Tcm4TlvDq8ikWAM",accent:"american",languageAgnostic:!0},{name:"eleven-labs-river",gender:"NEUTRAL",label:"River",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"fil-PH",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SAz9YHcvj6GT2YYXdXww_Filipino(Tagalog)_preview.mp3",elevenLabsId:"SAz9YHcvj6GT2YYXdXww",accent:"american",languageAgnostic:!0},{name:"eleven-labs-roger",gender:"MALE",label:"Roger",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"fil-PH",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CwhRBWXzGAHq8TQ4Fs17_Filipino(Tagalog)_preview.mp3",elevenLabsId:"CwhRBWXzGAHq8TQ4Fs17",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sam",gender:"MALE",label:"Sam",useCase:"Narration",age:"Young",description:"A raspy and young voice.",languageCode:"fil-PH",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/yoZ06aMxZJJ28mfd3POQ_Filipino(Tagalog)_preview.mp3",elevenLabsId:"yoZ06aMxZJJ28mfd3POQ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sarah",gender:"FEMALE",label:"Sarah",useCase:"News",age:"Young",description:"A soft and young voice.",languageCode:"fil-PH",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/EXAVITQu4vr4xnSDxMaL_Filipino(Tagalog)_preview.mp3",elevenLabsId:"EXAVITQu4vr4xnSDxMaL",accent:"american",languageAgnostic:!0},{name:"eleven-labs-serena",gender:"FEMALE",label:"Serena",useCase:"Narration",age:"Middle-aged",description:"A pleasant and middle-aged voice.",languageCode:"fil-PH",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pMsXgVXv3BLzUgSXRplE_Filipino(Tagalog)_preview.mp3",elevenLabsId:"pMsXgVXv3BLzUgSXRplE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-thomas",gender:"MALE",label:"Thomas",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"fil-PH",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/GBv7mTt0atIp3Br8iCZE_Filipino(Tagalog)_preview.mp3",elevenLabsId:"GBv7mTt0atIp3Br8iCZE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-will",gender:"MALE",label:"Will",useCase:"Social Media",age:"Young",description:"A friendly and young voice.",languageCode:"fil-PH",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bIHbv24MWmeRgasZH58o_Filipino(Tagalog)_preview.mp3",elevenLabsId:"bIHbv24MWmeRgasZH58o",accent:"american",languageAgnostic:!0}],"French (Canada)":[{elevenLabsId:"IPgYtHTNLjC7Bq7IPHrm",sampleURL:"https://storage.googleapis.com/eleven-public-prod/database/user/eFmYIzNi7fVTAUiSkCFaPtNH8aQ2/voices/IPgYtHTNLjC7Bq7IPHrm/aIJi1hsMOzak56PAiG37.mp3",label:"Alexandre",gender:"MALE",age:"Middle-aged",accent:"quebec",description:"A clear, informative French Canadian voice.",useCase:"Conversational",languageCode:"fr-CA",name:"elevenlabs-Alexandre Boutin - French Canadian-fr-CA-male"},{name:"fr-CA-Neural2-B",label:"Antoine",gender:"MALE",languageCode:"fr-CA",sampleURL:"https://cdn-useast1.kapwing.com/static/VQQ-fr-CA-Neural2-B.wav",age:"Middle-aged",useCase:null},{name:"fr-CA-Neural2-C",label:"Audrey",gender:"FEMALE",languageCode:"fr-CA",sampleURL:"https://cdn-useast1.kapwing.com/static/u5U-fr-CA-Neural2-C.wav",age:"Middle-aged",useCase:null},{name:"fr-CA-Neural2-A",label:"Claire",gender:"FEMALE",languageCode:"fr-CA",sampleURL:"https://cdn-useast1.kapwing.com/static/Oza-fr-CA-Neural2-A.wav",age:"Middle-aged",useCase:null},{name:"fr-CA-Neural2-D",label:"Mathieu",gender:"MALE",languageCode:"fr-CA",sampleURL:"https://cdn-useast1.kapwing.com/static/IRX-fr-CA-Neural2-D.wav",age:"Middle-aged",useCase:null},{name:"eleven-labs-adam",gender:"MALE",label:"Adam",useCase:"Narration",age:"Middle-aged",description:"A deep and middle aged voice.",languageCode:"fr-CA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pNInz6obpgDQGcFmaJgB_French(Canada)_preview.mp3",elevenLabsId:"pNInz6obpgDQGcFmaJgB",accent:"american",languageAgnostic:!0},{name:"eleven-labs-alice",gender:"FEMALE",label:"Alice",useCase:"News",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"fr-CA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Xb7hH8MSUJpSbSDYk0k2_French(Canada)_preview.mp3",elevenLabsId:"Xb7hH8MSUJpSbSDYk0k2",accent:"british",languageAgnostic:!0},{name:"eleven-labs-antoni",gender:"MALE",label:"Antoni",useCase:"Narration",age:"Young",description:"A well-rounded and young voice.",languageCode:"fr-CA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ErXwobaYiN019PkySvjV_French(Canada)_preview.mp3",elevenLabsId:"ErXwobaYiN019PkySvjV",accent:"american",languageAgnostic:!0},{name:"eleven-labs-aria",gender:"FEMALE",label:"Aria",useCase:"Social Media",age:"Middle-aged",description:"An expressive and middle-aged voice.",languageCode:"fr-CA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/9BWtsMINqrJLrRacOk9x_French(Canada)_preview.mp3",elevenLabsId:"9BWtsMINqrJLrRacOk9x",accent:"american",languageAgnostic:!0},{name:"eleven-labs-arnold",gender:"MALE",label:"Arnold",useCase:"Narration",age:"Middle-aged",description:"A crisp and middle aged voice.",languageCode:"fr-CA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/VR6AewLTigWG4xSOukaG_French(Canada)_preview.mp3",elevenLabsId:"VR6AewLTigWG4xSOukaG",accent:"american",languageAgnostic:!0},{name:"eleven-labs-bill",gender:"MALE",label:"Bill",useCase:"Narration",age:"Old",description:"A trustworthy and old voice.",languageCode:"fr-CA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pqHfZKP75CvOlQylNhV4_French(Canada)_preview.mp3",elevenLabsId:"pqHfZKP75CvOlQylNhV4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-brian",gender:"MALE",label:"Brian",useCase:"Narration",age:"Middle-aged",description:"A deep and middle-aged voice.",languageCode:"fr-CA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/nPczCjzI2devNBz1zQrb_French(Canada)_preview.mp3",elevenLabsId:"nPczCjzI2devNBz1zQrb",accent:"american",languageAgnostic:!0},{name:"eleven-labs-callum",gender:"MALE",label:"Callum",useCase:"Characters",age:"Middle-aged",description:"An intense and middle-aged voice.",languageCode:"fr-CA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/N2lVS1w4EtoT3dr4eOWO_French(Canada)_preview.mp3",elevenLabsId:"N2lVS1w4EtoT3dr4eOWO",accent:"american",languageAgnostic:!0},{name:"eleven-labs-charlie",gender:"MALE",label:"Charlie",useCase:"Conversational",age:"Middle-aged",description:"A natural and middle aged voice.",languageCode:"fr-CA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/IKne3meq5aSn9XLyUdCD_French(Canada)_preview.mp3",elevenLabsId:"IKne3meq5aSn9XLyUdCD",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-charlotte",gender:"FEMALE",label:"Charlotte",useCase:"Characters",age:"Young",description:"An inviting and young voice.",languageCode:"fr-CA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XB0fDUnXU5powFXDhCwa_French(Canada)_preview.mp3",elevenLabsId:"XB0fDUnXU5powFXDhCwa",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-chris",gender:"MALE",label:"Chris",useCase:"Conversational",age:"Middle-aged",description:"A casual and middle-aged voice.",languageCode:"fr-CA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/iP95p4xoKVk53GoZ742B_French(Canada)_preview.mp3",elevenLabsId:"iP95p4xoKVk53GoZ742B",accent:"american",languageAgnostic:!0},{name:"eleven-labs-clyde",gender:"MALE",label:"Clyde",useCase:"Characters",age:"Middle-aged",description:"A war veteran and middle-aged voice.",languageCode:"fr-CA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/2EiwWnXFnvU5JabPnv8n_French(Canada)_preview.mp3",elevenLabsId:"2EiwWnXFnvU5JabPnv8n",accent:"american",languageAgnostic:!0},{name:"eleven-labs-daniel",gender:"MALE",label:"Daniel",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"fr-CA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/onwK4e9ZLuTAKqWW03F9_French(Canada)_preview.mp3",elevenLabsId:"onwK4e9ZLuTAKqWW03F9",accent:"british",languageAgnostic:!0},{name:"eleven-labs-dave",gender:"MALE",label:"Dave",useCase:"Characters",age:"Young",description:"A conversational and young voice.",languageCode:"fr-CA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CYw3kZ02Hs0563khs1Fj_French(Canada)_preview.mp3",elevenLabsId:"CYw3kZ02Hs0563khs1Fj",accent:"british-essex",languageAgnostic:!0},{name:"eleven-labs-domi",gender:"FEMALE",label:"Domi",useCase:"Narration",age:"Young",description:"A strong and young voice.",languageCode:"fr-CA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/AZnzlk1XvdvUeBnXmlld_French(Canada)_preview.mp3",elevenLabsId:"AZnzlk1XvdvUeBnXmlld",accent:"american",languageAgnostic:!0},{name:"eleven-labs-dorothy",gender:"FEMALE",label:"Dorothy",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"fr-CA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ThT5KcBeYPX3keUQqHPh_French(Canada)_preview.mp3",elevenLabsId:"ThT5KcBeYPX3keUQqHPh",accent:"british",languageAgnostic:!0},{name:"eleven-labs-drew",gender:"MALE",label:"Drew",useCase:"News",age:"Middle-aged",description:"A well-rounded and middle-aged voice.",languageCode:"fr-CA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/29vD33N1CtxCmqQRPOHJ_French(Canada)_preview.mp3",elevenLabsId:"29vD33N1CtxCmqQRPOHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-emily",gender:"FEMALE",label:"Emily",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"fr-CA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/LcfcDJNUP1GQjkzn1xUU_French(Canada)_preview.mp3",elevenLabsId:"LcfcDJNUP1GQjkzn1xUU",accent:"american",languageAgnostic:!0},{name:"eleven-labs-eric",gender:"MALE",label:"Eric",useCase:"Conversational",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"fr-CA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cjVigY5qzO86Huf0OWal_French(Canada)_preview.mp3",elevenLabsId:"cjVigY5qzO86Huf0OWal",accent:"american",languageAgnostic:!0},{name:"eleven-labs-ethan",gender:"MALE",label:"Ethan",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"fr-CA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/g5CIjZEefAph4nQFvHAz_French(Canada)_preview.mp3",elevenLabsId:"g5CIjZEefAph4nQFvHAz",accent:"american",languageAgnostic:!0},{name:"eleven-labs-fin",gender:"MALE",label:"Fin",useCase:"Characters",age:"Old",description:"A sailor and old voice.",languageCode:"fr-CA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/D38z5RcWu1voky8WS1ja_French(Canada)_preview.mp3",elevenLabsId:"D38z5RcWu1voky8WS1ja",accent:"irish",languageAgnostic:!0},{name:"eleven-labs-freya",gender:"FEMALE",label:"Freya",useCase:"Characters",age:"Young",description:"An expressive and young voice.",languageCode:"fr-CA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jsCqWAovK2LkecY7zXl4_French(Canada)_preview.mp3",elevenLabsId:"jsCqWAovK2LkecY7zXl4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-george",gender:"MALE",label:"George",useCase:"Narration",age:"Middle-aged",description:"A warm and middle aged voice.",languageCode:"fr-CA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/JBFqnCBsd6RMkjVDRZzb_French(Canada)_preview.mp3",elevenLabsId:"JBFqnCBsd6RMkjVDRZzb",accent:"british",languageAgnostic:!0},{name:"eleven-labs-gigi",gender:"FEMALE",label:"Gigi",useCase:"Animation",age:"Young",description:"A childlish and young voice.",languageCode:"fr-CA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jBpfuIE2acCO8z3wKNLl_French(Canada)_preview.mp3",elevenLabsId:"jBpfuIE2acCO8z3wKNLl",accent:"american",languageAgnostic:!0},{name:"eleven-labs-giovanni",gender:"MALE",label:"Giovanni",useCase:"Narration",age:"Young",description:"A foreigner and young voice.",languageCode:"fr-CA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zcAOhNBS3c14rBihAFp1_French(Canada)_preview.mp3",elevenLabsId:"zcAOhNBS3c14rBihAFp1",accent:"english-italian",languageAgnostic:!0},{name:"eleven-labs-glinda",gender:"FEMALE",label:"Glinda",useCase:"Characters",age:"Middle-aged",description:"A smooth and middle-aged voice.",languageCode:"fr-CA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/z9fAnlkpzviPz146aGWa_French(Canada)_preview.mp3",elevenLabsId:"z9fAnlkpzviPz146aGWa",accent:"american",languageAgnostic:!0},{name:"eleven-labs-grace",gender:"FEMALE",label:"Grace",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"fr-CA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/oWAxZDx7w5VEj9dCyTzz_French(Canada)_preview.mp3",elevenLabsId:"oWAxZDx7w5VEj9dCyTzz",accent:"american-southern",languageAgnostic:!0},{name:"eleven-labs-harry",gender:"MALE",label:"Harry",useCase:"Characters",age:"Young",description:"An anxious and young voice.",languageCode:"fr-CA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SOYHLrjzK2X1ezoPC6cr_French(Canada)_preview.mp3",elevenLabsId:"SOYHLrjzK2X1ezoPC6cr",accent:"american",languageAgnostic:!0},{name:"eleven-labs-james",gender:"MALE",label:"James",useCase:"News",age:"Old",description:"A calm and old voice.",languageCode:"fr-CA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ZQe5CZNOzWyzPSCn5a3c_French(Canada)_preview.mp3",elevenLabsId:"ZQe5CZNOzWyzPSCn5a3c",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-jeremy",gender:"MALE",label:"Jeremy",useCase:"Narration",age:"Young",description:"An excited and young voice.",languageCode:"fr-CA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bVMeCyTHy58xNoL34h3p_French(Canada)_preview.mp3",elevenLabsId:"bVMeCyTHy58xNoL34h3p",accent:"american-irish",languageAgnostic:!0},{name:"eleven-labs-jessica",gender:"FEMALE",label:"Jessica",useCase:"Conversational",age:"Young",description:"An expressive and young voice.",languageCode:"fr-CA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cgSgspJ2msm6clMCkdW9_French(Canada)_preview.mp3",elevenLabsId:"cgSgspJ2msm6clMCkdW9",accent:"american",languageAgnostic:!0},{name:"eleven-labs-jessie",gender:"MALE",label:"Jessie",useCase:"Characters",age:"Old",description:"A raspy and old voice.",languageCode:"fr-CA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/t0jbNlBVZ17f02VDIeMI_French(Canada)_preview.mp3",elevenLabsId:"t0jbNlBVZ17f02VDIeMI",accent:"american",languageAgnostic:!0},{name:"eleven-labs-joseph",gender:"MALE",label:"Joseph",useCase:"News",age:"Middle-aged",description:"An articulate and middle-aged voice.",languageCode:"fr-CA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Zlb1dXrM653N07WRdFW3_French(Canada)_preview.mp3",elevenLabsId:"Zlb1dXrM653N07WRdFW3",accent:"british",languageAgnostic:!0},{name:"eleven-labs-josh",gender:"MALE",label:"Josh",useCase:"Narration",age:"Young",description:"A deep and young voice.",languageCode:"fr-CA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TxGEqnHWrfWFTfGW9XjX_French(Canada)_preview.mp3",elevenLabsId:"TxGEqnHWrfWFTfGW9XjX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-laura",gender:"FEMALE",label:"Laura",useCase:"Social Media",age:"Young",description:"An upbeat and young voice.",languageCode:"fr-CA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/FGY2WhTYpPnrIDTdsKH5_French(Canada)_preview.mp3",elevenLabsId:"FGY2WhTYpPnrIDTdsKH5",accent:"american",languageAgnostic:!0},{name:"eleven-labs-liam",gender:"MALE",label:"Liam",useCase:"Narration",age:"Young",description:"An articulate and young voice.",languageCode:"fr-CA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TX3LPaxmHKxFdv7VOQHJ_French(Canada)_preview.mp3",elevenLabsId:"TX3LPaxmHKxFdv7VOQHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-lily",gender:"FEMALE",label:"Lily",useCase:"Narration",age:"Middle-aged",description:"A warm and middle-aged voice.",languageCode:"fr-CA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pFZP5JQG7iQjIQuC4Bku_French(Canada)_preview.mp3",elevenLabsId:"pFZP5JQG7iQjIQuC4Bku",accent:"british",languageAgnostic:!0},{name:"eleven-labs-matilda",gender:"FEMALE",label:"Matilda",useCase:"Narration",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"fr-CA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XrExE9yKIg1WjnnlVkGX_French(Canada)_preview.mp3",elevenLabsId:"XrExE9yKIg1WjnnlVkGX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-michael",gender:"MALE",label:"Michael",useCase:"Narration",age:"Old",description:"A calm and old voice.",languageCode:"fr-CA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/flq6f7yk4E4fJM5XTYuZ_French(Canada)_preview.mp3",elevenLabsId:"flq6f7yk4E4fJM5XTYuZ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-mimi",gender:"FEMALE",label:"Mimi",useCase:"Animation",age:"Young",description:"A childish and young voice.",languageCode:"fr-CA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zrHiDhphv9ZnVXBqCLjz_French(Canada)_preview.mp3",elevenLabsId:"zrHiDhphv9ZnVXBqCLjz",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-nicole",gender:"FEMALE",label:"Nicole",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"fr-CA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/piTKgcLEGmPE4e6mEKli_French(Canada)_preview.mp3",elevenLabsId:"piTKgcLEGmPE4e6mEKli",accent:"american",languageAgnostic:!0},{name:"eleven-labs-patrick",gender:"MALE",label:"Patrick",useCase:"Characters",age:"Middle-aged",description:"A shouty and middle-aged voice.",languageCode:"fr-CA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ODq5zmih8GrVes37Dizd_French(Canada)_preview.mp3",elevenLabsId:"ODq5zmih8GrVes37Dizd",accent:"american",languageAgnostic:!0},{name:"eleven-labs-paul",gender:"MALE",label:"Paul",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"fr-CA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/5Q0t7uMcjvnagumLfvZi_French(Canada)_preview.mp3",elevenLabsId:"5Q0t7uMcjvnagumLfvZi",accent:"american",languageAgnostic:!0},{name:"eleven-labs-rachel",gender:"FEMALE",label:"Rachel",useCase:"Narration",age:"Young",description:"A calm and young voice.",languageCode:"fr-CA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/21m00Tcm4TlvDq8ikWAM_French(Canada)_preview.mp3",elevenLabsId:"21m00Tcm4TlvDq8ikWAM",accent:"american",languageAgnostic:!0},{name:"eleven-labs-river",gender:"NEUTRAL",label:"River",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"fr-CA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SAz9YHcvj6GT2YYXdXww_French(Canada)_preview.mp3",elevenLabsId:"SAz9YHcvj6GT2YYXdXww",accent:"american",languageAgnostic:!0},{name:"eleven-labs-roger",gender:"MALE",label:"Roger",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"fr-CA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CwhRBWXzGAHq8TQ4Fs17_French(Canada)_preview.mp3",elevenLabsId:"CwhRBWXzGAHq8TQ4Fs17",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sam",gender:"MALE",label:"Sam",useCase:"Narration",age:"Young",description:"A raspy and young voice.",languageCode:"fr-CA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/yoZ06aMxZJJ28mfd3POQ_French(Canada)_preview.mp3",elevenLabsId:"yoZ06aMxZJJ28mfd3POQ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sarah",gender:"FEMALE",label:"Sarah",useCase:"News",age:"Young",description:"A soft and young voice.",languageCode:"fr-CA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/EXAVITQu4vr4xnSDxMaL_French(Canada)_preview.mp3",elevenLabsId:"EXAVITQu4vr4xnSDxMaL",accent:"american",languageAgnostic:!0},{name:"eleven-labs-serena",gender:"FEMALE",label:"Serena",useCase:"Narration",age:"Middle-aged",description:"A pleasant and middle-aged voice.",languageCode:"fr-CA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pMsXgVXv3BLzUgSXRplE_French(Canada)_preview.mp3",elevenLabsId:"pMsXgVXv3BLzUgSXRplE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-thomas",gender:"MALE",label:"Thomas",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"fr-CA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/GBv7mTt0atIp3Br8iCZE_French(Canada)_preview.mp3",elevenLabsId:"GBv7mTt0atIp3Br8iCZE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-will",gender:"MALE",label:"Will",useCase:"Social Media",age:"Young",description:"A friendly and young voice.",languageCode:"fr-CA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bIHbv24MWmeRgasZH58o_French(Canada)_preview.mp3",elevenLabsId:"bIHbv24MWmeRgasZH58o",accent:"american",languageAgnostic:!0}],"French (France)":[{elevenLabsId:"McVZB9hVxVSk3Equu8EH",sampleURL:"https://storage.googleapis.com/eleven-public-prod/custom/voices/McVZB9hVxVSk3Equu8EH/fQOpiFrrNtzg6dglRCvf.mp3",label:"Audrey",gender:"FEMALE",age:"Middle-aged",accent:"standard",description:"A clear and middle-aged voice.",useCase:"Advertisement",languageCode:"fr-FR",name:"elevenlabs-Audrey-fr-FR-female"},{gender:"FEMALE",label:"Elise",name:"fr-FR-Neural2-A",languageCode:"fr-FR",sampleURL:"https://cdn-useast1.kapwing.com/static/RAK-French_Female-(1).mp3",age:"Middle-aged",useCase:null},{gender:"MALE",label:"Louis",name:"fr-FR-Neural2-B",languageCode:"fr-FR",sampleURL:"https://cdn-useast1.kapwing.com/static/88b-French_Male.mp3",age:"Middle-aged",useCase:null},{name:"eleven-labs-adam",gender:"MALE",label:"Adam",useCase:"Narration",age:"Middle-aged",description:"A deep and middle aged voice.",languageCode:"fr-FR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pNInz6obpgDQGcFmaJgB_French(France)_preview.mp3",elevenLabsId:"pNInz6obpgDQGcFmaJgB",accent:"american",languageAgnostic:!0},{name:"eleven-labs-alice",gender:"FEMALE",label:"Alice",useCase:"News",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"fr-FR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Xb7hH8MSUJpSbSDYk0k2_French(France)_preview.mp3",elevenLabsId:"Xb7hH8MSUJpSbSDYk0k2",accent:"british",languageAgnostic:!0},{name:"eleven-labs-antoni",gender:"MALE",label:"Antoni",useCase:"Narration",age:"Young",description:"A well-rounded and young voice.",languageCode:"fr-FR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ErXwobaYiN019PkySvjV_French(France)_preview.mp3",elevenLabsId:"ErXwobaYiN019PkySvjV",accent:"american",languageAgnostic:!0},{name:"eleven-labs-aria",gender:"FEMALE",label:"Aria",useCase:"Social Media",age:"Middle-aged",description:"An expressive and middle-aged voice.",languageCode:"fr-FR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/9BWtsMINqrJLrRacOk9x_French(France)_preview.mp3",elevenLabsId:"9BWtsMINqrJLrRacOk9x",accent:"american",languageAgnostic:!0},{name:"eleven-labs-arnold",gender:"MALE",label:"Arnold",useCase:"Narration",age:"Middle-aged",description:"A crisp and middle aged voice.",languageCode:"fr-FR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/VR6AewLTigWG4xSOukaG_French(France)_preview.mp3",elevenLabsId:"VR6AewLTigWG4xSOukaG",accent:"american",languageAgnostic:!0},{name:"eleven-labs-bill",gender:"MALE",label:"Bill",useCase:"Narration",age:"Old",description:"A trustworthy and old voice.",languageCode:"fr-FR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pqHfZKP75CvOlQylNhV4_French(France)_preview.mp3",elevenLabsId:"pqHfZKP75CvOlQylNhV4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-brian",gender:"MALE",label:"Brian",useCase:"Narration",age:"Middle-aged",description:"A deep and middle-aged voice.",languageCode:"fr-FR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/nPczCjzI2devNBz1zQrb_French(France)_preview.mp3",elevenLabsId:"nPczCjzI2devNBz1zQrb",accent:"american",languageAgnostic:!0},{name:"eleven-labs-callum",gender:"MALE",label:"Callum",useCase:"Characters",age:"Middle-aged",description:"An intense and middle-aged voice.",languageCode:"fr-FR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/N2lVS1w4EtoT3dr4eOWO_French(France)_preview.mp3",elevenLabsId:"N2lVS1w4EtoT3dr4eOWO",accent:"american",languageAgnostic:!0},{name:"eleven-labs-charlie",gender:"MALE",label:"Charlie",useCase:"Conversational",age:"Middle-aged",description:"A natural and middle aged voice.",languageCode:"fr-FR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/IKne3meq5aSn9XLyUdCD_French(France)_preview.mp3",elevenLabsId:"IKne3meq5aSn9XLyUdCD",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-charlotte",gender:"FEMALE",label:"Charlotte",useCase:"Characters",age:"Young",description:"An inviting and young voice.",languageCode:"fr-FR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XB0fDUnXU5powFXDhCwa_French(France)_preview.mp3",elevenLabsId:"XB0fDUnXU5powFXDhCwa",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-chris",gender:"MALE",label:"Chris",useCase:"Conversational",age:"Middle-aged",description:"A casual and middle-aged voice.",languageCode:"fr-FR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/iP95p4xoKVk53GoZ742B_French(France)_preview.mp3",elevenLabsId:"iP95p4xoKVk53GoZ742B",accent:"american",languageAgnostic:!0},{name:"eleven-labs-clyde",gender:"MALE",label:"Clyde",useCase:"Characters",age:"Middle-aged",description:"A war veteran and middle-aged voice.",languageCode:"fr-FR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/2EiwWnXFnvU5JabPnv8n_French(France)_preview.mp3",elevenLabsId:"2EiwWnXFnvU5JabPnv8n",accent:"american",languageAgnostic:!0},{name:"eleven-labs-daniel",gender:"MALE",label:"Daniel",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"fr-FR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/onwK4e9ZLuTAKqWW03F9_French(France)_preview.mp3",elevenLabsId:"onwK4e9ZLuTAKqWW03F9",accent:"british",languageAgnostic:!0},{name:"eleven-labs-dave",gender:"MALE",label:"Dave",useCase:"Characters",age:"Young",description:"A conversational and young voice.",languageCode:"fr-FR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CYw3kZ02Hs0563khs1Fj_French(France)_preview.mp3",elevenLabsId:"CYw3kZ02Hs0563khs1Fj",accent:"british-essex",languageAgnostic:!0},{name:"eleven-labs-domi",gender:"FEMALE",label:"Domi",useCase:"Narration",age:"Young",description:"A strong and young voice.",languageCode:"fr-FR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/AZnzlk1XvdvUeBnXmlld_French(France)_preview.mp3",elevenLabsId:"AZnzlk1XvdvUeBnXmlld",accent:"american",languageAgnostic:!0},{name:"eleven-labs-dorothy",gender:"FEMALE",label:"Dorothy",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"fr-FR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ThT5KcBeYPX3keUQqHPh_French(France)_preview.mp3",elevenLabsId:"ThT5KcBeYPX3keUQqHPh",accent:"british",languageAgnostic:!0},{name:"eleven-labs-drew",gender:"MALE",label:"Drew",useCase:"News",age:"Middle-aged",description:"A well-rounded and middle-aged voice.",languageCode:"fr-FR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/29vD33N1CtxCmqQRPOHJ_French(France)_preview.mp3",elevenLabsId:"29vD33N1CtxCmqQRPOHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-emily",gender:"FEMALE",label:"Emily",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"fr-FR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/LcfcDJNUP1GQjkzn1xUU_French(France)_preview.mp3",elevenLabsId:"LcfcDJNUP1GQjkzn1xUU",accent:"american",languageAgnostic:!0},{name:"eleven-labs-eric",gender:"MALE",label:"Eric",useCase:"Conversational",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"fr-FR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cjVigY5qzO86Huf0OWal_French(France)_preview.mp3",elevenLabsId:"cjVigY5qzO86Huf0OWal",accent:"american",languageAgnostic:!0},{name:"eleven-labs-ethan",gender:"MALE",label:"Ethan",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"fr-FR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/g5CIjZEefAph4nQFvHAz_French(France)_preview.mp3",elevenLabsId:"g5CIjZEefAph4nQFvHAz",accent:"american",languageAgnostic:!0},{name:"eleven-labs-fin",gender:"MALE",label:"Fin",useCase:"Characters",age:"Old",description:"A sailor and old voice.",languageCode:"fr-FR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/D38z5RcWu1voky8WS1ja_French(France)_preview.mp3",elevenLabsId:"D38z5RcWu1voky8WS1ja",accent:"irish",languageAgnostic:!0},{name:"eleven-labs-freya",gender:"FEMALE",label:"Freya",useCase:"Characters",age:"Young",description:"An expressive and young voice.",languageCode:"fr-FR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jsCqWAovK2LkecY7zXl4_French(France)_preview.mp3",elevenLabsId:"jsCqWAovK2LkecY7zXl4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-george",gender:"MALE",label:"George",useCase:"Narration",age:"Middle-aged",description:"A warm and middle aged voice.",languageCode:"fr-FR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/JBFqnCBsd6RMkjVDRZzb_French(France)_preview.mp3",elevenLabsId:"JBFqnCBsd6RMkjVDRZzb",accent:"british",languageAgnostic:!0},{name:"eleven-labs-gigi",gender:"FEMALE",label:"Gigi",useCase:"Animation",age:"Young",description:"A childlish and young voice.",languageCode:"fr-FR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jBpfuIE2acCO8z3wKNLl_French(France)_preview.mp3",elevenLabsId:"jBpfuIE2acCO8z3wKNLl",accent:"american",languageAgnostic:!0},{name:"eleven-labs-giovanni",gender:"MALE",label:"Giovanni",useCase:"Narration",age:"Young",description:"A foreigner and young voice.",languageCode:"fr-FR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zcAOhNBS3c14rBihAFp1_French(France)_preview.mp3",elevenLabsId:"zcAOhNBS3c14rBihAFp1",accent:"english-italian",languageAgnostic:!0},{name:"eleven-labs-glinda",gender:"FEMALE",label:"Glinda",useCase:"Characters",age:"Middle-aged",description:"A smooth and middle-aged voice.",languageCode:"fr-FR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/z9fAnlkpzviPz146aGWa_French(France)_preview.mp3",elevenLabsId:"z9fAnlkpzviPz146aGWa",accent:"american",languageAgnostic:!0},{name:"eleven-labs-grace",gender:"FEMALE",label:"Grace",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"fr-FR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/oWAxZDx7w5VEj9dCyTzz_French(France)_preview.mp3",elevenLabsId:"oWAxZDx7w5VEj9dCyTzz",accent:"american-southern",languageAgnostic:!0},{name:"eleven-labs-harry",gender:"MALE",label:"Harry",useCase:"Characters",age:"Young",description:"An anxious and young voice.",languageCode:"fr-FR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SOYHLrjzK2X1ezoPC6cr_French(France)_preview.mp3",elevenLabsId:"SOYHLrjzK2X1ezoPC6cr",accent:"american",languageAgnostic:!0},{name:"eleven-labs-james",gender:"MALE",label:"James",useCase:"News",age:"Old",description:"A calm and old voice.",languageCode:"fr-FR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ZQe5CZNOzWyzPSCn5a3c_French(France)_preview.mp3",elevenLabsId:"ZQe5CZNOzWyzPSCn5a3c",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-jeremy",gender:"MALE",label:"Jeremy",useCase:"Narration",age:"Young",description:"An excited and young voice.",languageCode:"fr-FR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bVMeCyTHy58xNoL34h3p_French(France)_preview.mp3",elevenLabsId:"bVMeCyTHy58xNoL34h3p",accent:"american-irish",languageAgnostic:!0},{name:"eleven-labs-jessica",gender:"FEMALE",label:"Jessica",useCase:"Conversational",age:"Young",description:"An expressive and young voice.",languageCode:"fr-FR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cgSgspJ2msm6clMCkdW9_French(France)_preview.mp3",elevenLabsId:"cgSgspJ2msm6clMCkdW9",accent:"american",languageAgnostic:!0},{name:"eleven-labs-jessie",gender:"MALE",label:"Jessie",useCase:"Characters",age:"Old",description:"A raspy and old voice.",languageCode:"fr-FR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/t0jbNlBVZ17f02VDIeMI_French(France)_preview.mp3",elevenLabsId:"t0jbNlBVZ17f02VDIeMI",accent:"american",languageAgnostic:!0},{name:"eleven-labs-joseph",gender:"MALE",label:"Joseph",useCase:"News",age:"Middle-aged",description:"An articulate and middle-aged voice.",languageCode:"fr-FR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Zlb1dXrM653N07WRdFW3_French(France)_preview.mp3",elevenLabsId:"Zlb1dXrM653N07WRdFW3",accent:"british",languageAgnostic:!0},{name:"eleven-labs-josh",gender:"MALE",label:"Josh",useCase:"Narration",age:"Young",description:"A deep and young voice.",languageCode:"fr-FR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TxGEqnHWrfWFTfGW9XjX_French(France)_preview.mp3",elevenLabsId:"TxGEqnHWrfWFTfGW9XjX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-laura",gender:"FEMALE",label:"Laura",useCase:"Social Media",age:"Young",description:"An upbeat and young voice.",languageCode:"fr-FR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/FGY2WhTYpPnrIDTdsKH5_French(France)_preview.mp3",elevenLabsId:"FGY2WhTYpPnrIDTdsKH5",accent:"american",languageAgnostic:!0},{name:"eleven-labs-liam",gender:"MALE",label:"Liam",useCase:"Narration",age:"Young",description:"An articulate and young voice.",languageCode:"fr-FR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TX3LPaxmHKxFdv7VOQHJ_French(France)_preview.mp3",elevenLabsId:"TX3LPaxmHKxFdv7VOQHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-lily",gender:"FEMALE",label:"Lily",useCase:"Narration",age:"Middle-aged",description:"A warm and middle-aged voice.",languageCode:"fr-FR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pFZP5JQG7iQjIQuC4Bku_French(France)_preview.mp3",elevenLabsId:"pFZP5JQG7iQjIQuC4Bku",accent:"british",languageAgnostic:!0},{name:"eleven-labs-matilda",gender:"FEMALE",label:"Matilda",useCase:"Narration",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"fr-FR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XrExE9yKIg1WjnnlVkGX_French(France)_preview.mp3",elevenLabsId:"XrExE9yKIg1WjnnlVkGX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-michael",gender:"MALE",label:"Michael",useCase:"Narration",age:"Old",description:"A calm and old voice.",languageCode:"fr-FR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/flq6f7yk4E4fJM5XTYuZ_French(France)_preview.mp3",elevenLabsId:"flq6f7yk4E4fJM5XTYuZ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-mimi",gender:"FEMALE",label:"Mimi",useCase:"Animation",age:"Young",description:"A childish and young voice.",languageCode:"fr-FR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zrHiDhphv9ZnVXBqCLjz_French(France)_preview.mp3",elevenLabsId:"zrHiDhphv9ZnVXBqCLjz",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-nicole",gender:"FEMALE",label:"Nicole",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"fr-FR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/piTKgcLEGmPE4e6mEKli_French(France)_preview.mp3",elevenLabsId:"piTKgcLEGmPE4e6mEKli",accent:"american",languageAgnostic:!0},{name:"eleven-labs-patrick",gender:"MALE",label:"Patrick",useCase:"Characters",age:"Middle-aged",description:"A shouty and middle-aged voice.",languageCode:"fr-FR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ODq5zmih8GrVes37Dizd_French(France)_preview.mp3",elevenLabsId:"ODq5zmih8GrVes37Dizd",accent:"american",languageAgnostic:!0},{name:"eleven-labs-paul",gender:"MALE",label:"Paul",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"fr-FR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/5Q0t7uMcjvnagumLfvZi_French(France)_preview.mp3",elevenLabsId:"5Q0t7uMcjvnagumLfvZi",accent:"american",languageAgnostic:!0},{name:"eleven-labs-rachel",gender:"FEMALE",label:"Rachel",useCase:"Narration",age:"Young",description:"A calm and young voice.",languageCode:"fr-FR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/21m00Tcm4TlvDq8ikWAM_French(France)_preview.mp3",elevenLabsId:"21m00Tcm4TlvDq8ikWAM",accent:"american",languageAgnostic:!0},{name:"eleven-labs-river",gender:"NEUTRAL",label:"River",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"fr-FR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SAz9YHcvj6GT2YYXdXww_French(France)_preview.mp3",elevenLabsId:"SAz9YHcvj6GT2YYXdXww",accent:"american",languageAgnostic:!0},{name:"eleven-labs-roger",gender:"MALE",label:"Roger",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"fr-FR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CwhRBWXzGAHq8TQ4Fs17_French(France)_preview.mp3",elevenLabsId:"CwhRBWXzGAHq8TQ4Fs17",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sam",gender:"MALE",label:"Sam",useCase:"Narration",age:"Young",description:"A raspy and young voice.",languageCode:"fr-FR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/yoZ06aMxZJJ28mfd3POQ_French(France)_preview.mp3",elevenLabsId:"yoZ06aMxZJJ28mfd3POQ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sarah",gender:"FEMALE",label:"Sarah",useCase:"News",age:"Young",description:"A soft and young voice.",languageCode:"fr-FR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/EXAVITQu4vr4xnSDxMaL_French(France)_preview.mp3",elevenLabsId:"EXAVITQu4vr4xnSDxMaL",accent:"american",languageAgnostic:!0},{name:"eleven-labs-serena",gender:"FEMALE",label:"Serena",useCase:"Narration",age:"Middle-aged",description:"A pleasant and middle-aged voice.",languageCode:"fr-FR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pMsXgVXv3BLzUgSXRplE_French(France)_preview.mp3",elevenLabsId:"pMsXgVXv3BLzUgSXRplE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-thomas",gender:"MALE",label:"Thomas",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"fr-FR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/GBv7mTt0atIp3Br8iCZE_French(France)_preview.mp3",elevenLabsId:"GBv7mTt0atIp3Br8iCZE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-will",gender:"MALE",label:"Will",useCase:"Social Media",age:"Young",description:"A friendly and young voice.",languageCode:"fr-FR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bIHbv24MWmeRgasZH58o_French(France)_preview.mp3",elevenLabsId:"bIHbv24MWmeRgasZH58o",accent:"american",languageAgnostic:!0}],German:[{elevenLabsId:"7eVMgwCnXydb3CikjV7a",sampleURL:"https://storage.googleapis.com/eleven-public-prod/custom/voices/7eVMgwCnXydb3CikjV7a/zMitELWPfkgqNXLr2X9t.mp3",label:"Lea",gender:"FEMALE",age:"Middle-aged",accent:"standard",description:"A clear and attractive mature female German voice. Perfect for German language.\n",useCase:"Narrative Story",languageCode:"de-DE",name:"elevenlabs-Lea-de-DE-female"},{gender:"FEMALE",label:"Elisabeth",name:"de-DE-Neural2-F",languageCode:"de-DE",sampleURL:"https://cdn-useast1.kapwing.com/static/5zW-German_Female.mp3",age:"Middle-aged",useCase:null},{gender:"MALE",label:"Max",name:"de-DE-Neural2-D",languageCode:"de-DE",sampleURL:"https://cdn-useast1.kapwing.com/static/HAB-German_Male.mp3",age:"Middle-aged",useCase:null},{name:"eleven-labs-adam",gender:"MALE",label:"Adam",useCase:"Narration",age:"Middle-aged",description:"A deep and middle aged voice.",languageCode:"de-DE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pNInz6obpgDQGcFmaJgB_German_preview.mp3",elevenLabsId:"pNInz6obpgDQGcFmaJgB",accent:"american",languageAgnostic:!0},{name:"eleven-labs-alice",gender:"FEMALE",label:"Alice",useCase:"News",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"de-DE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Xb7hH8MSUJpSbSDYk0k2_German_preview.mp3",elevenLabsId:"Xb7hH8MSUJpSbSDYk0k2",accent:"british",languageAgnostic:!0},{name:"eleven-labs-antoni",gender:"MALE",label:"Antoni",useCase:"Narration",age:"Young",description:"A well-rounded and young voice.",languageCode:"de-DE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ErXwobaYiN019PkySvjV_German_preview.mp3",elevenLabsId:"ErXwobaYiN019PkySvjV",accent:"american",languageAgnostic:!0},{name:"eleven-labs-aria",gender:"FEMALE",label:"Aria",useCase:"Social Media",age:"Middle-aged",description:"An expressive and middle-aged voice.",languageCode:"de-DE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/9BWtsMINqrJLrRacOk9x_German_preview.mp3",elevenLabsId:"9BWtsMINqrJLrRacOk9x",accent:"american",languageAgnostic:!0},{name:"eleven-labs-arnold",gender:"MALE",label:"Arnold",useCase:"Narration",age:"Middle-aged",description:"A crisp and middle aged voice.",languageCode:"de-DE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/VR6AewLTigWG4xSOukaG_German_preview.mp3",elevenLabsId:"VR6AewLTigWG4xSOukaG",accent:"american",languageAgnostic:!0},{name:"eleven-labs-bill",gender:"MALE",label:"Bill",useCase:"Narration",age:"Old",description:"A trustworthy and old voice.",languageCode:"de-DE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pqHfZKP75CvOlQylNhV4_German_preview.mp3",elevenLabsId:"pqHfZKP75CvOlQylNhV4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-brian",gender:"MALE",label:"Brian",useCase:"Narration",age:"Middle-aged",description:"A deep and middle-aged voice.",languageCode:"de-DE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/nPczCjzI2devNBz1zQrb_German_preview.mp3",elevenLabsId:"nPczCjzI2devNBz1zQrb",accent:"american",languageAgnostic:!0},{name:"eleven-labs-callum",gender:"MALE",label:"Callum",useCase:"Characters",age:"Middle-aged",description:"An intense and middle-aged voice.",languageCode:"de-DE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/N2lVS1w4EtoT3dr4eOWO_German_preview.mp3",elevenLabsId:"N2lVS1w4EtoT3dr4eOWO",accent:"american",languageAgnostic:!0},{name:"eleven-labs-charlie",gender:"MALE",label:"Charlie",useCase:"Conversational",age:"Middle-aged",description:"A natural and middle aged voice.",languageCode:"de-DE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/IKne3meq5aSn9XLyUdCD_German_preview.mp3",elevenLabsId:"IKne3meq5aSn9XLyUdCD",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-charlotte",gender:"FEMALE",label:"Charlotte",useCase:"Characters",age:"Young",description:"An inviting and young voice.",languageCode:"de-DE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XB0fDUnXU5powFXDhCwa_German_preview.mp3",elevenLabsId:"XB0fDUnXU5powFXDhCwa",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-chris",gender:"MALE",label:"Chris",useCase:"Conversational",age:"Middle-aged",description:"A casual and middle-aged voice.",languageCode:"de-DE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/iP95p4xoKVk53GoZ742B_German_preview.mp3",elevenLabsId:"iP95p4xoKVk53GoZ742B",accent:"american",languageAgnostic:!0},{name:"eleven-labs-clyde",gender:"MALE",label:"Clyde",useCase:"Characters",age:"Middle-aged",description:"A war veteran and middle-aged voice.",languageCode:"de-DE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/2EiwWnXFnvU5JabPnv8n_German_preview.mp3",elevenLabsId:"2EiwWnXFnvU5JabPnv8n",accent:"american",languageAgnostic:!0},{name:"eleven-labs-daniel",gender:"MALE",label:"Daniel",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"de-DE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/onwK4e9ZLuTAKqWW03F9_German_preview.mp3",elevenLabsId:"onwK4e9ZLuTAKqWW03F9",accent:"british",languageAgnostic:!0},{name:"eleven-labs-dave",gender:"MALE",label:"Dave",useCase:"Characters",age:"Young",description:"A conversational and young voice.",languageCode:"de-DE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CYw3kZ02Hs0563khs1Fj_German_preview.mp3",elevenLabsId:"CYw3kZ02Hs0563khs1Fj",accent:"british-essex",languageAgnostic:!0},{name:"eleven-labs-domi",gender:"FEMALE",label:"Domi",useCase:"Narration",age:"Young",description:"A strong and young voice.",languageCode:"de-DE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/AZnzlk1XvdvUeBnXmlld_German_preview.mp3",elevenLabsId:"AZnzlk1XvdvUeBnXmlld",accent:"american",languageAgnostic:!0},{name:"eleven-labs-dorothy",gender:"FEMALE",label:"Dorothy",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"de-DE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ThT5KcBeYPX3keUQqHPh_German_preview.mp3",elevenLabsId:"ThT5KcBeYPX3keUQqHPh",accent:"british",languageAgnostic:!0},{name:"eleven-labs-drew",gender:"MALE",label:"Drew",useCase:"News",age:"Middle-aged",description:"A well-rounded and middle-aged voice.",languageCode:"de-DE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/29vD33N1CtxCmqQRPOHJ_German_preview.mp3",elevenLabsId:"29vD33N1CtxCmqQRPOHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-emily",gender:"FEMALE",label:"Emily",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"de-DE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/LcfcDJNUP1GQjkzn1xUU_German_preview.mp3",elevenLabsId:"LcfcDJNUP1GQjkzn1xUU",accent:"american",languageAgnostic:!0},{name:"eleven-labs-eric",gender:"MALE",label:"Eric",useCase:"Conversational",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"de-DE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cjVigY5qzO86Huf0OWal_German_preview.mp3",elevenLabsId:"cjVigY5qzO86Huf0OWal",accent:"american",languageAgnostic:!0},{name:"eleven-labs-ethan",gender:"MALE",label:"Ethan",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"de-DE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/g5CIjZEefAph4nQFvHAz_German_preview.mp3",elevenLabsId:"g5CIjZEefAph4nQFvHAz",accent:"american",languageAgnostic:!0},{name:"eleven-labs-fin",gender:"MALE",label:"Fin",useCase:"Characters",age:"Old",description:"A sailor and old voice.",languageCode:"de-DE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/D38z5RcWu1voky8WS1ja_German_preview.mp3",elevenLabsId:"D38z5RcWu1voky8WS1ja",accent:"irish",languageAgnostic:!0},{name:"eleven-labs-freya",gender:"FEMALE",label:"Freya",useCase:"Characters",age:"Young",description:"An expressive and young voice.",languageCode:"de-DE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jsCqWAovK2LkecY7zXl4_German_preview.mp3",elevenLabsId:"jsCqWAovK2LkecY7zXl4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-george",gender:"MALE",label:"George",useCase:"Narration",age:"Middle-aged",description:"A warm and middle aged voice.",languageCode:"de-DE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/JBFqnCBsd6RMkjVDRZzb_German_preview.mp3",elevenLabsId:"JBFqnCBsd6RMkjVDRZzb",accent:"british",languageAgnostic:!0},{name:"eleven-labs-gigi",gender:"FEMALE",label:"Gigi",useCase:"Animation",age:"Young",description:"A childlish and young voice.",languageCode:"de-DE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jBpfuIE2acCO8z3wKNLl_German_preview.mp3",elevenLabsId:"jBpfuIE2acCO8z3wKNLl",accent:"american",languageAgnostic:!0},{name:"eleven-labs-giovanni",gender:"MALE",label:"Giovanni",useCase:"Narration",age:"Young",description:"A foreigner and young voice.",languageCode:"de-DE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zcAOhNBS3c14rBihAFp1_German_preview.mp3",elevenLabsId:"zcAOhNBS3c14rBihAFp1",accent:"english-italian",languageAgnostic:!0},{name:"eleven-labs-glinda",gender:"FEMALE",label:"Glinda",useCase:"Characters",age:"Middle-aged",description:"A smooth and middle-aged voice.",languageCode:"de-DE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/z9fAnlkpzviPz146aGWa_German_preview.mp3",elevenLabsId:"z9fAnlkpzviPz146aGWa",accent:"american",languageAgnostic:!0},{name:"eleven-labs-grace",gender:"FEMALE",label:"Grace",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"de-DE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/oWAxZDx7w5VEj9dCyTzz_German_preview.mp3",elevenLabsId:"oWAxZDx7w5VEj9dCyTzz",accent:"american-southern",languageAgnostic:!0},{name:"eleven-labs-harry",gender:"MALE",label:"Harry",useCase:"Characters",age:"Young",description:"An anxious and young voice.",languageCode:"de-DE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SOYHLrjzK2X1ezoPC6cr_German_preview.mp3",elevenLabsId:"SOYHLrjzK2X1ezoPC6cr",accent:"american",languageAgnostic:!0},{name:"eleven-labs-james",gender:"MALE",label:"James",useCase:"News",age:"Old",description:"A calm and old voice.",languageCode:"de-DE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ZQe5CZNOzWyzPSCn5a3c_German_preview.mp3",elevenLabsId:"ZQe5CZNOzWyzPSCn5a3c",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-jeremy",gender:"MALE",label:"Jeremy",useCase:"Narration",age:"Young",description:"An excited and young voice.",languageCode:"de-DE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bVMeCyTHy58xNoL34h3p_German_preview.mp3",elevenLabsId:"bVMeCyTHy58xNoL34h3p",accent:"american-irish",languageAgnostic:!0},{name:"eleven-labs-jessica",gender:"FEMALE",label:"Jessica",useCase:"Conversational",age:"Young",description:"An expressive and young voice.",languageCode:"de-DE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cgSgspJ2msm6clMCkdW9_German_preview.mp3",elevenLabsId:"cgSgspJ2msm6clMCkdW9",accent:"american",languageAgnostic:!0},{name:"eleven-labs-jessie",gender:"MALE",label:"Jessie",useCase:"Characters",age:"Old",description:"A raspy and old voice.",languageCode:"de-DE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/t0jbNlBVZ17f02VDIeMI_German_preview.mp3",elevenLabsId:"t0jbNlBVZ17f02VDIeMI",accent:"american",languageAgnostic:!0},{name:"eleven-labs-joseph",gender:"MALE",label:"Joseph",useCase:"News",age:"Middle-aged",description:"An articulate and middle-aged voice.",languageCode:"de-DE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Zlb1dXrM653N07WRdFW3_German_preview.mp3",elevenLabsId:"Zlb1dXrM653N07WRdFW3",accent:"british",languageAgnostic:!0},{name:"eleven-labs-josh",gender:"MALE",label:"Josh",useCase:"Narration",age:"Young",description:"A deep and young voice.",languageCode:"de-DE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TxGEqnHWrfWFTfGW9XjX_German_preview.mp3",elevenLabsId:"TxGEqnHWrfWFTfGW9XjX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-laura",gender:"FEMALE",label:"Laura",useCase:"Social Media",age:"Young",description:"An upbeat and young voice.",languageCode:"de-DE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/FGY2WhTYpPnrIDTdsKH5_German_preview.mp3",elevenLabsId:"FGY2WhTYpPnrIDTdsKH5",accent:"american",languageAgnostic:!0},{name:"eleven-labs-liam",gender:"MALE",label:"Liam",useCase:"Narration",age:"Young",description:"An articulate and young voice.",languageCode:"de-DE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TX3LPaxmHKxFdv7VOQHJ_German_preview.mp3",elevenLabsId:"TX3LPaxmHKxFdv7VOQHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-lily",gender:"FEMALE",label:"Lily",useCase:"Narration",age:"Middle-aged",description:"A warm and middle-aged voice.",languageCode:"de-DE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pFZP5JQG7iQjIQuC4Bku_German_preview.mp3",elevenLabsId:"pFZP5JQG7iQjIQuC4Bku",accent:"british",languageAgnostic:!0},{name:"eleven-labs-matilda",gender:"FEMALE",label:"Matilda",useCase:"Narration",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"de-DE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XrExE9yKIg1WjnnlVkGX_German_preview.mp3",elevenLabsId:"XrExE9yKIg1WjnnlVkGX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-michael",gender:"MALE",label:"Michael",useCase:"Narration",age:"Old",description:"A calm and old voice.",languageCode:"de-DE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/flq6f7yk4E4fJM5XTYuZ_German_preview.mp3",elevenLabsId:"flq6f7yk4E4fJM5XTYuZ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-mimi",gender:"FEMALE",label:"Mimi",useCase:"Animation",age:"Young",description:"A childish and young voice.",languageCode:"de-DE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zrHiDhphv9ZnVXBqCLjz_German_preview.mp3",elevenLabsId:"zrHiDhphv9ZnVXBqCLjz",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-nicole",gender:"FEMALE",label:"Nicole",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"de-DE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/piTKgcLEGmPE4e6mEKli_German_preview.mp3",elevenLabsId:"piTKgcLEGmPE4e6mEKli",accent:"american",languageAgnostic:!0},{name:"eleven-labs-patrick",gender:"MALE",label:"Patrick",useCase:"Characters",age:"Middle-aged",description:"A shouty and middle-aged voice.",languageCode:"de-DE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ODq5zmih8GrVes37Dizd_German_preview.mp3",elevenLabsId:"ODq5zmih8GrVes37Dizd",accent:"american",languageAgnostic:!0},{name:"eleven-labs-paul",gender:"MALE",label:"Paul",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"de-DE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/5Q0t7uMcjvnagumLfvZi_German_preview.mp3",elevenLabsId:"5Q0t7uMcjvnagumLfvZi",accent:"american",languageAgnostic:!0},{name:"eleven-labs-rachel",gender:"FEMALE",label:"Rachel",useCase:"Narration",age:"Young",description:"A calm and young voice.",languageCode:"de-DE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/21m00Tcm4TlvDq8ikWAM_German_preview.mp3",elevenLabsId:"21m00Tcm4TlvDq8ikWAM",accent:"american",languageAgnostic:!0},{name:"eleven-labs-river",gender:"NEUTRAL",label:"River",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"de-DE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SAz9YHcvj6GT2YYXdXww_German_preview.mp3",elevenLabsId:"SAz9YHcvj6GT2YYXdXww",accent:"american",languageAgnostic:!0},{name:"eleven-labs-roger",gender:"MALE",label:"Roger",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"de-DE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CwhRBWXzGAHq8TQ4Fs17_German_preview.mp3",elevenLabsId:"CwhRBWXzGAHq8TQ4Fs17",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sam",gender:"MALE",label:"Sam",useCase:"Narration",age:"Young",description:"A raspy and young voice.",languageCode:"de-DE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/yoZ06aMxZJJ28mfd3POQ_German_preview.mp3",elevenLabsId:"yoZ06aMxZJJ28mfd3POQ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sarah",gender:"FEMALE",label:"Sarah",useCase:"News",age:"Young",description:"A soft and young voice.",languageCode:"de-DE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/EXAVITQu4vr4xnSDxMaL_German_preview.mp3",elevenLabsId:"EXAVITQu4vr4xnSDxMaL",accent:"american",languageAgnostic:!0},{name:"eleven-labs-serena",gender:"FEMALE",label:"Serena",useCase:"Narration",age:"Middle-aged",description:"A pleasant and middle-aged voice.",languageCode:"de-DE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pMsXgVXv3BLzUgSXRplE_German_preview.mp3",elevenLabsId:"pMsXgVXv3BLzUgSXRplE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-thomas",gender:"MALE",label:"Thomas",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"de-DE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/GBv7mTt0atIp3Br8iCZE_German_preview.mp3",elevenLabsId:"GBv7mTt0atIp3Br8iCZE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-will",gender:"MALE",label:"Will",useCase:"Social Media",age:"Young",description:"A friendly and young voice.",languageCode:"de-DE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bIHbv24MWmeRgasZH58o_German_preview.mp3",elevenLabsId:"bIHbv24MWmeRgasZH58o",accent:"american",languageAgnostic:!0}],Greek:[{name:"el-GR-Wavenet-A",label:"Rhea",gender:"FEMALE",age:"Middle-aged",languageCode:"el-GR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-el-GR-Wavenet-A_preview.mp3"},{name:"eleven-labs-adam",gender:"MALE",label:"Adam",useCase:"Narration",age:"Middle-aged",description:"A deep and middle aged voice.",languageCode:"el-GR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pNInz6obpgDQGcFmaJgB_Greek_preview.mp3",elevenLabsId:"pNInz6obpgDQGcFmaJgB",accent:"american",languageAgnostic:!0},{name:"eleven-labs-alice",gender:"FEMALE",label:"Alice",useCase:"News",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"el-GR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Xb7hH8MSUJpSbSDYk0k2_Greek_preview.mp3",elevenLabsId:"Xb7hH8MSUJpSbSDYk0k2",accent:"british",languageAgnostic:!0},{name:"eleven-labs-antoni",gender:"MALE",label:"Antoni",useCase:"Narration",age:"Young",description:"A well-rounded and young voice.",languageCode:"el-GR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ErXwobaYiN019PkySvjV_Greek_preview.mp3",elevenLabsId:"ErXwobaYiN019PkySvjV",accent:"american",languageAgnostic:!0},{name:"eleven-labs-aria",gender:"FEMALE",label:"Aria",useCase:"Social Media",age:"Middle-aged",description:"An expressive and middle-aged voice.",languageCode:"el-GR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/9BWtsMINqrJLrRacOk9x_Greek_preview.mp3",elevenLabsId:"9BWtsMINqrJLrRacOk9x",accent:"american",languageAgnostic:!0},{name:"eleven-labs-arnold",gender:"MALE",label:"Arnold",useCase:"Narration",age:"Middle-aged",description:"A crisp and middle aged voice.",languageCode:"el-GR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/VR6AewLTigWG4xSOukaG_Greek_preview.mp3",elevenLabsId:"VR6AewLTigWG4xSOukaG",accent:"american",languageAgnostic:!0},{name:"eleven-labs-bill",gender:"MALE",label:"Bill",useCase:"Narration",age:"Old",description:"A trustworthy and old voice.",languageCode:"el-GR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pqHfZKP75CvOlQylNhV4_Greek_preview.mp3",elevenLabsId:"pqHfZKP75CvOlQylNhV4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-brian",gender:"MALE",label:"Brian",useCase:"Narration",age:"Middle-aged",description:"A deep and middle-aged voice.",languageCode:"el-GR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/nPczCjzI2devNBz1zQrb_Greek_preview.mp3",elevenLabsId:"nPczCjzI2devNBz1zQrb",accent:"american",languageAgnostic:!0},{name:"eleven-labs-callum",gender:"MALE",label:"Callum",useCase:"Characters",age:"Middle-aged",description:"An intense and middle-aged voice.",languageCode:"el-GR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/N2lVS1w4EtoT3dr4eOWO_Greek_preview.mp3",elevenLabsId:"N2lVS1w4EtoT3dr4eOWO",accent:"american",languageAgnostic:!0},{name:"eleven-labs-charlie",gender:"MALE",label:"Charlie",useCase:"Conversational",age:"Middle-aged",description:"A natural and middle aged voice.",languageCode:"el-GR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/IKne3meq5aSn9XLyUdCD_Greek_preview.mp3",elevenLabsId:"IKne3meq5aSn9XLyUdCD",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-charlotte",gender:"FEMALE",label:"Charlotte",useCase:"Characters",age:"Young",description:"An inviting and young voice.",languageCode:"el-GR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XB0fDUnXU5powFXDhCwa_Greek_preview.mp3",elevenLabsId:"XB0fDUnXU5powFXDhCwa",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-chris",gender:"MALE",label:"Chris",useCase:"Conversational",age:"Middle-aged",description:"A casual and middle-aged voice.",languageCode:"el-GR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/iP95p4xoKVk53GoZ742B_Greek_preview.mp3",elevenLabsId:"iP95p4xoKVk53GoZ742B",accent:"american",languageAgnostic:!0},{name:"eleven-labs-clyde",gender:"MALE",label:"Clyde",useCase:"Characters",age:"Middle-aged",description:"A war veteran and middle-aged voice.",languageCode:"el-GR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/2EiwWnXFnvU5JabPnv8n_Greek_preview.mp3",elevenLabsId:"2EiwWnXFnvU5JabPnv8n",accent:"american",languageAgnostic:!0},{name:"eleven-labs-daniel",gender:"MALE",label:"Daniel",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"el-GR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/onwK4e9ZLuTAKqWW03F9_Greek_preview.mp3",elevenLabsId:"onwK4e9ZLuTAKqWW03F9",accent:"british",languageAgnostic:!0},{name:"eleven-labs-dave",gender:"MALE",label:"Dave",useCase:"Characters",age:"Young",description:"A conversational and young voice.",languageCode:"el-GR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CYw3kZ02Hs0563khs1Fj_Greek_preview.mp3",elevenLabsId:"CYw3kZ02Hs0563khs1Fj",accent:"british-essex",languageAgnostic:!0},{name:"eleven-labs-domi",gender:"FEMALE",label:"Domi",useCase:"Narration",age:"Young",description:"A strong and young voice.",languageCode:"el-GR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/AZnzlk1XvdvUeBnXmlld_Greek_preview.mp3",elevenLabsId:"AZnzlk1XvdvUeBnXmlld",accent:"american",languageAgnostic:!0},{name:"eleven-labs-dorothy",gender:"FEMALE",label:"Dorothy",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"el-GR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ThT5KcBeYPX3keUQqHPh_Greek_preview.mp3",elevenLabsId:"ThT5KcBeYPX3keUQqHPh",accent:"british",languageAgnostic:!0},{name:"eleven-labs-drew",gender:"MALE",label:"Drew",useCase:"News",age:"Middle-aged",description:"A well-rounded and middle-aged voice.",languageCode:"el-GR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/29vD33N1CtxCmqQRPOHJ_Greek_preview.mp3",elevenLabsId:"29vD33N1CtxCmqQRPOHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-emily",gender:"FEMALE",label:"Emily",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"el-GR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/LcfcDJNUP1GQjkzn1xUU_Greek_preview.mp3",elevenLabsId:"LcfcDJNUP1GQjkzn1xUU",accent:"american",languageAgnostic:!0},{name:"eleven-labs-eric",gender:"MALE",label:"Eric",useCase:"Conversational",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"el-GR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cjVigY5qzO86Huf0OWal_Greek_preview.mp3",elevenLabsId:"cjVigY5qzO86Huf0OWal",accent:"american",languageAgnostic:!0},{name:"eleven-labs-ethan",gender:"MALE",label:"Ethan",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"el-GR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/g5CIjZEefAph4nQFvHAz_Greek_preview.mp3",elevenLabsId:"g5CIjZEefAph4nQFvHAz",accent:"american",languageAgnostic:!0},{name:"eleven-labs-fin",gender:"MALE",label:"Fin",useCase:"Characters",age:"Old",description:"A sailor and old voice.",languageCode:"el-GR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/D38z5RcWu1voky8WS1ja_Greek_preview.mp3",elevenLabsId:"D38z5RcWu1voky8WS1ja",accent:"irish",languageAgnostic:!0},{name:"eleven-labs-freya",gender:"FEMALE",label:"Freya",useCase:"Characters",age:"Young",description:"An expressive and young voice.",languageCode:"el-GR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jsCqWAovK2LkecY7zXl4_Greek_preview.mp3",elevenLabsId:"jsCqWAovK2LkecY7zXl4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-george",gender:"MALE",label:"George",useCase:"Narration",age:"Middle-aged",description:"A warm and middle aged voice.",languageCode:"el-GR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/JBFqnCBsd6RMkjVDRZzb_Greek_preview.mp3",elevenLabsId:"JBFqnCBsd6RMkjVDRZzb",accent:"british",languageAgnostic:!0},{name:"eleven-labs-gigi",gender:"FEMALE",label:"Gigi",useCase:"Animation",age:"Young",description:"A childlish and young voice.",languageCode:"el-GR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jBpfuIE2acCO8z3wKNLl_Greek_preview.mp3",elevenLabsId:"jBpfuIE2acCO8z3wKNLl",accent:"american",languageAgnostic:!0},{name:"eleven-labs-giovanni",gender:"MALE",label:"Giovanni",useCase:"Narration",age:"Young",description:"A foreigner and young voice.",languageCode:"el-GR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zcAOhNBS3c14rBihAFp1_Greek_preview.mp3",elevenLabsId:"zcAOhNBS3c14rBihAFp1",accent:"english-italian",languageAgnostic:!0},{name:"eleven-labs-glinda",gender:"FEMALE",label:"Glinda",useCase:"Characters",age:"Middle-aged",description:"A smooth and middle-aged voice.",languageCode:"el-GR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/z9fAnlkpzviPz146aGWa_Greek_preview.mp3",elevenLabsId:"z9fAnlkpzviPz146aGWa",accent:"american",languageAgnostic:!0},{name:"eleven-labs-grace",gender:"FEMALE",label:"Grace",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"el-GR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/oWAxZDx7w5VEj9dCyTzz_Greek_preview.mp3",elevenLabsId:"oWAxZDx7w5VEj9dCyTzz",accent:"american-southern",languageAgnostic:!0},{name:"eleven-labs-harry",gender:"MALE",label:"Harry",useCase:"Characters",age:"Young",description:"An anxious and young voice.",languageCode:"el-GR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SOYHLrjzK2X1ezoPC6cr_Greek_preview.mp3",elevenLabsId:"SOYHLrjzK2X1ezoPC6cr",accent:"american",languageAgnostic:!0},{name:"eleven-labs-james",gender:"MALE",label:"James",useCase:"News",age:"Old",description:"A calm and old voice.",languageCode:"el-GR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ZQe5CZNOzWyzPSCn5a3c_Greek_preview.mp3",elevenLabsId:"ZQe5CZNOzWyzPSCn5a3c",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-jeremy",gender:"MALE",label:"Jeremy",useCase:"Narration",age:"Young",description:"An excited and young voice.",languageCode:"el-GR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bVMeCyTHy58xNoL34h3p_Greek_preview.mp3",elevenLabsId:"bVMeCyTHy58xNoL34h3p",accent:"american-irish",languageAgnostic:!0},{name:"eleven-labs-jessica",gender:"FEMALE",label:"Jessica",useCase:"Conversational",age:"Young",description:"An expressive and young voice.",languageCode:"el-GR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cgSgspJ2msm6clMCkdW9_Greek_preview.mp3",elevenLabsId:"cgSgspJ2msm6clMCkdW9",accent:"american",languageAgnostic:!0},{name:"eleven-labs-jessie",gender:"MALE",label:"Jessie",useCase:"Characters",age:"Old",description:"A raspy and old voice.",languageCode:"el-GR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/t0jbNlBVZ17f02VDIeMI_Greek_preview.mp3",elevenLabsId:"t0jbNlBVZ17f02VDIeMI",accent:"american",languageAgnostic:!0},{name:"eleven-labs-joseph",gender:"MALE",label:"Joseph",useCase:"News",age:"Middle-aged",description:"An articulate and middle-aged voice.",languageCode:"el-GR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Zlb1dXrM653N07WRdFW3_Greek_preview.mp3",elevenLabsId:"Zlb1dXrM653N07WRdFW3",accent:"british",languageAgnostic:!0},{name:"eleven-labs-josh",gender:"MALE",label:"Josh",useCase:"Narration",age:"Young",description:"A deep and young voice.",languageCode:"el-GR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TxGEqnHWrfWFTfGW9XjX_Greek_preview.mp3",elevenLabsId:"TxGEqnHWrfWFTfGW9XjX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-laura",gender:"FEMALE",label:"Laura",useCase:"Social Media",age:"Young",description:"An upbeat and young voice.",languageCode:"el-GR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/FGY2WhTYpPnrIDTdsKH5_Greek_preview.mp3",elevenLabsId:"FGY2WhTYpPnrIDTdsKH5",accent:"american",languageAgnostic:!0},{name:"eleven-labs-liam",gender:"MALE",label:"Liam",useCase:"Narration",age:"Young",description:"An articulate and young voice.",languageCode:"el-GR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TX3LPaxmHKxFdv7VOQHJ_Greek_preview.mp3",elevenLabsId:"TX3LPaxmHKxFdv7VOQHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-lily",gender:"FEMALE",label:"Lily",useCase:"Narration",age:"Middle-aged",description:"A warm and middle-aged voice.",languageCode:"el-GR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pFZP5JQG7iQjIQuC4Bku_Greek_preview.mp3",elevenLabsId:"pFZP5JQG7iQjIQuC4Bku",accent:"british",languageAgnostic:!0},{name:"eleven-labs-matilda",gender:"FEMALE",label:"Matilda",useCase:"Narration",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"el-GR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XrExE9yKIg1WjnnlVkGX_Greek_preview.mp3",elevenLabsId:"XrExE9yKIg1WjnnlVkGX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-michael",gender:"MALE",label:"Michael",useCase:"Narration",age:"Old",description:"A calm and old voice.",languageCode:"el-GR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/flq6f7yk4E4fJM5XTYuZ_Greek_preview.mp3",elevenLabsId:"flq6f7yk4E4fJM5XTYuZ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-mimi",gender:"FEMALE",label:"Mimi",useCase:"Animation",age:"Young",description:"A childish and young voice.",languageCode:"el-GR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zrHiDhphv9ZnVXBqCLjz_Greek_preview.mp3",elevenLabsId:"zrHiDhphv9ZnVXBqCLjz",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-nicole",gender:"FEMALE",label:"Nicole",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"el-GR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/piTKgcLEGmPE4e6mEKli_Greek_preview.mp3",elevenLabsId:"piTKgcLEGmPE4e6mEKli",accent:"american",languageAgnostic:!0},{name:"eleven-labs-patrick",gender:"MALE",label:"Patrick",useCase:"Characters",age:"Middle-aged",description:"A shouty and middle-aged voice.",languageCode:"el-GR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ODq5zmih8GrVes37Dizd_Greek_preview.mp3",elevenLabsId:"ODq5zmih8GrVes37Dizd",accent:"american",languageAgnostic:!0},{name:"eleven-labs-paul",gender:"MALE",label:"Paul",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"el-GR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/5Q0t7uMcjvnagumLfvZi_Greek_preview.mp3",elevenLabsId:"5Q0t7uMcjvnagumLfvZi",accent:"american",languageAgnostic:!0},{name:"eleven-labs-rachel",gender:"FEMALE",label:"Rachel",useCase:"Narration",age:"Young",description:"A calm and young voice.",languageCode:"el-GR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/21m00Tcm4TlvDq8ikWAM_Greek_preview.mp3",elevenLabsId:"21m00Tcm4TlvDq8ikWAM",accent:"american",languageAgnostic:!0},{name:"eleven-labs-river",gender:"NEUTRAL",label:"River",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"el-GR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SAz9YHcvj6GT2YYXdXww_Greek_preview.mp3",elevenLabsId:"SAz9YHcvj6GT2YYXdXww",accent:"american",languageAgnostic:!0},{name:"eleven-labs-roger",gender:"MALE",label:"Roger",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"el-GR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CwhRBWXzGAHq8TQ4Fs17_Greek_preview.mp3",elevenLabsId:"CwhRBWXzGAHq8TQ4Fs17",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sam",gender:"MALE",label:"Sam",useCase:"Narration",age:"Young",description:"A raspy and young voice.",languageCode:"el-GR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/yoZ06aMxZJJ28mfd3POQ_Greek_preview.mp3",elevenLabsId:"yoZ06aMxZJJ28mfd3POQ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sarah",gender:"FEMALE",label:"Sarah",useCase:"News",age:"Young",description:"A soft and young voice.",languageCode:"el-GR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/EXAVITQu4vr4xnSDxMaL_Greek_preview.mp3",elevenLabsId:"EXAVITQu4vr4xnSDxMaL",accent:"american",languageAgnostic:!0},{name:"eleven-labs-serena",gender:"FEMALE",label:"Serena",useCase:"Narration",age:"Middle-aged",description:"A pleasant and middle-aged voice.",languageCode:"el-GR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pMsXgVXv3BLzUgSXRplE_Greek_preview.mp3",elevenLabsId:"pMsXgVXv3BLzUgSXRplE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-thomas",gender:"MALE",label:"Thomas",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"el-GR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/GBv7mTt0atIp3Br8iCZE_Greek_preview.mp3",elevenLabsId:"GBv7mTt0atIp3Br8iCZE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-will",gender:"MALE",label:"Will",useCase:"Social Media",age:"Young",description:"A friendly and young voice.",languageCode:"el-GR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bIHbv24MWmeRgasZH58o_Greek_preview.mp3",elevenLabsId:"bIHbv24MWmeRgasZH58o",accent:"american",languageAgnostic:!0}],"Gujarati (India)":[{name:"gu-IN-Wavenet-A",label:"Anaya",gender:"FEMALE",languageCode:"gu-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-gu-IN-Wavenet-A_preview.mp3",age:"Middle-aged",useCase:null},{name:"gu-IN-Wavenet-B",label:"Dhruv",gender:"MALE",languageCode:"gu-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-gu-IN-Wavenet-B_preview.mp3",age:"Middle-aged",useCase:null}],Hebrew:[{name:"he-IL-Wavenet-D",label:"David",gender:"MALE",languageCode:"he-IL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-he-IL-Wavenet-D_preview.mp3",age:"Middle-aged",useCase:null},{name:"he-IL-Wavenet-A",label:"Efrat",gender:"FEMALE",age:"Middle-aged",languageCode:"he-IL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-he-IL-Wavenet-A_preview.mp3"},{name:"he-IL-Wavenet-C",label:"Miriam",gender:"FEMALE",languageCode:"he-IL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-he-IL-Wavenet-C_preview.mp3",age:"Middle-aged",useCase:null},{name:"he-IL-Wavenet-B",label:"Ron",gender:"MALE",age:"Middle-aged",languageCode:"he-IL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-he-IL-Wavenet-B_preview.mp3"}],Hindi:[{elevenLabsId:"zgqefOY5FPQ3bB7OZTVR",sampleURL:"https://storage.googleapis.com/eleven-public-prod/database/user/TLzQBQZ61wQrytFwliQpe4LeshE3/voices/zgqefOY5FPQ3bB7OZTVR/6oNuCi9jEFU1AWW85Tru.mp3",label:"Niraj",gender:"MALE",age:"Middle-aged",accent:"standard",description:"A deep and middle aged voice.",useCase:"Narrative Story",languageCode:"hi-IN",name:"elevenlabs-Niraj - Hindi Narrator-hi-IN-male"},{elevenLabsId:"50YSQEDPA2vlOxhCseP4",sampleURL:"https://storage.googleapis.com/eleven-public-prod/custom/voices/50YSQEDPA2vlOxhCseP4/DQVZO9Ww8vXjqJCGRdvF.mp3",label:"Saanu",gender:"FEMALE",age:"Middle-aged",accent:"standard",description:"A calm and middle-aged voice.",useCase:"Entertainment Tv",languageCode:"hi-IN",name:"elevenlabs-Saanu - Soft and Calm-hi-IN-female"},{gender:"FEMALE",label:"Tara",name:"eleven-labs-tara-hindi",languageCode:"hi-IN",sampleURL:"https://cdn-useast1.kapwing.com/static/kgW-voice_preview_Tara---Expressive-Conversational-Hindi-Voice.mp3",elevenLabsId:"P7vsEyTOpZ6YUTulin8m",age:"Young",description:"An emotive and young voice.",useCase:"Conversational",accent:"indian"},{gender:"FEMALE",label:"Sana",name:"hi-IN-Neural2-D",languageCode:"hi-IN",sampleURL:"https://cdn-useast1.kapwing.com/static/_RM-Hindi_Female.mp3",age:"Middle-aged",useCase:null},{gender:"MALE",label:"Vikram",name:"hi-IN-Neural2-C",languageCode:"hi-IN",sampleURL:"https://cdn-useast1.kapwing.com/static/9tD-Hindi_Male.mp3",age:"Middle-aged",useCase:null},{name:"eleven-labs-adam",gender:"MALE",label:"Adam",useCase:"Narration",age:"Middle-aged",description:"A deep and middle aged voice.",languageCode:"hi-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pNInz6obpgDQGcFmaJgB_Hindi_preview.mp3",elevenLabsId:"pNInz6obpgDQGcFmaJgB",accent:"american",languageAgnostic:!0},{name:"eleven-labs-alice",gender:"FEMALE",label:"Alice",useCase:"News",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"hi-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Xb7hH8MSUJpSbSDYk0k2_Hindi_preview.mp3",elevenLabsId:"Xb7hH8MSUJpSbSDYk0k2",accent:"british",languageAgnostic:!0},{name:"eleven-labs-antoni",gender:"MALE",label:"Antoni",useCase:"Narration",age:"Young",description:"A well-rounded and young voice.",languageCode:"hi-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ErXwobaYiN019PkySvjV_Hindi_preview.mp3",elevenLabsId:"ErXwobaYiN019PkySvjV",accent:"american",languageAgnostic:!0},{name:"eleven-labs-aria",gender:"FEMALE",label:"Aria",useCase:"Social Media",age:"Middle-aged",description:"An expressive and middle-aged voice.",languageCode:"hi-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/9BWtsMINqrJLrRacOk9x_Hindi_preview.mp3",elevenLabsId:"9BWtsMINqrJLrRacOk9x",accent:"american",languageAgnostic:!0},{name:"eleven-labs-arnold",gender:"MALE",label:"Arnold",useCase:"Narration",age:"Middle-aged",description:"A crisp and middle aged voice.",languageCode:"hi-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/VR6AewLTigWG4xSOukaG_Hindi_preview.mp3",elevenLabsId:"VR6AewLTigWG4xSOukaG",accent:"american",languageAgnostic:!0},{name:"eleven-labs-bill",gender:"MALE",label:"Bill",useCase:"Narration",age:"Old",description:"A trustworthy and old voice.",languageCode:"hi-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pqHfZKP75CvOlQylNhV4_Hindi_preview.mp3",elevenLabsId:"pqHfZKP75CvOlQylNhV4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-brian",gender:"MALE",label:"Brian",useCase:"Narration",age:"Middle-aged",description:"A deep and middle-aged voice.",languageCode:"hi-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/nPczCjzI2devNBz1zQrb_Hindi_preview.mp3",elevenLabsId:"nPczCjzI2devNBz1zQrb",accent:"american",languageAgnostic:!0},{name:"eleven-labs-callum",gender:"MALE",label:"Callum",useCase:"Characters",age:"Middle-aged",description:"An intense and middle-aged voice.",languageCode:"hi-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/N2lVS1w4EtoT3dr4eOWO_Hindi_preview.mp3",elevenLabsId:"N2lVS1w4EtoT3dr4eOWO",accent:"american",languageAgnostic:!0},{name:"eleven-labs-charlie",gender:"MALE",label:"Charlie",useCase:"Conversational",age:"Middle-aged",description:"A natural and middle aged voice.",languageCode:"hi-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/IKne3meq5aSn9XLyUdCD_Hindi_preview.mp3",elevenLabsId:"IKne3meq5aSn9XLyUdCD",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-charlotte",gender:"FEMALE",label:"Charlotte",useCase:"Characters",age:"Young",description:"An inviting and young voice.",languageCode:"hi-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XB0fDUnXU5powFXDhCwa_Hindi_preview.mp3",elevenLabsId:"XB0fDUnXU5powFXDhCwa",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-chris",gender:"MALE",label:"Chris",useCase:"Conversational",age:"Middle-aged",description:"A casual and middle-aged voice.",languageCode:"hi-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/iP95p4xoKVk53GoZ742B_Hindi_preview.mp3",elevenLabsId:"iP95p4xoKVk53GoZ742B",accent:"american",languageAgnostic:!0},{name:"eleven-labs-clyde",gender:"MALE",label:"Clyde",useCase:"Characters",age:"Middle-aged",description:"A war veteran and middle-aged voice.",languageCode:"hi-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/2EiwWnXFnvU5JabPnv8n_Hindi_preview.mp3",elevenLabsId:"2EiwWnXFnvU5JabPnv8n",accent:"american",languageAgnostic:!0},{name:"eleven-labs-daniel",gender:"MALE",label:"Daniel",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"hi-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/onwK4e9ZLuTAKqWW03F9_Hindi_preview.mp3",elevenLabsId:"onwK4e9ZLuTAKqWW03F9",accent:"british",languageAgnostic:!0},{name:"eleven-labs-dave",gender:"MALE",label:"Dave",useCase:"Characters",age:"Young",description:"A conversational and young voice.",languageCode:"hi-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CYw3kZ02Hs0563khs1Fj_Hindi_preview.mp3",elevenLabsId:"CYw3kZ02Hs0563khs1Fj",accent:"british-essex",languageAgnostic:!0},{name:"eleven-labs-domi",gender:"FEMALE",label:"Domi",useCase:"Narration",age:"Young",description:"A strong and young voice.",languageCode:"hi-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/AZnzlk1XvdvUeBnXmlld_Hindi_preview.mp3",elevenLabsId:"AZnzlk1XvdvUeBnXmlld",accent:"american",languageAgnostic:!0},{name:"eleven-labs-dorothy",gender:"FEMALE",label:"Dorothy",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"hi-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ThT5KcBeYPX3keUQqHPh_Hindi_preview.mp3",elevenLabsId:"ThT5KcBeYPX3keUQqHPh",accent:"british",languageAgnostic:!0},{name:"eleven-labs-drew",gender:"MALE",label:"Drew",useCase:"News",age:"Middle-aged",description:"A well-rounded and middle-aged voice.",languageCode:"hi-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/29vD33N1CtxCmqQRPOHJ_Hindi_preview.mp3",elevenLabsId:"29vD33N1CtxCmqQRPOHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-emily",gender:"FEMALE",label:"Emily",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"hi-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/LcfcDJNUP1GQjkzn1xUU_Hindi_preview.mp3",elevenLabsId:"LcfcDJNUP1GQjkzn1xUU",accent:"american",languageAgnostic:!0},{name:"eleven-labs-eric",gender:"MALE",label:"Eric",useCase:"Conversational",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"hi-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cjVigY5qzO86Huf0OWal_Hindi_preview.mp3",elevenLabsId:"cjVigY5qzO86Huf0OWal",accent:"american",languageAgnostic:!0},{name:"eleven-labs-ethan",gender:"MALE",label:"Ethan",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"hi-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/g5CIjZEefAph4nQFvHAz_Hindi_preview.mp3",elevenLabsId:"g5CIjZEefAph4nQFvHAz",accent:"american",languageAgnostic:!0},{name:"eleven-labs-fin",gender:"MALE",label:"Fin",useCase:"Characters",age:"Old",description:"A sailor and old voice.",languageCode:"hi-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/D38z5RcWu1voky8WS1ja_Hindi_preview.mp3",elevenLabsId:"D38z5RcWu1voky8WS1ja",accent:"irish",languageAgnostic:!0},{name:"eleven-labs-freya",gender:"FEMALE",label:"Freya",useCase:"Characters",age:"Young",description:"An expressive and young voice.",languageCode:"hi-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jsCqWAovK2LkecY7zXl4_Hindi_preview.mp3",elevenLabsId:"jsCqWAovK2LkecY7zXl4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-george",gender:"MALE",label:"George",useCase:"Narration",age:"Middle-aged",description:"A warm and middle aged voice.",languageCode:"hi-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/JBFqnCBsd6RMkjVDRZzb_Hindi_preview.mp3",elevenLabsId:"JBFqnCBsd6RMkjVDRZzb",accent:"british",languageAgnostic:!0},{name:"eleven-labs-gigi",gender:"FEMALE",label:"Gigi",useCase:"Animation",age:"Young",description:"A childlish and young voice.",languageCode:"hi-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jBpfuIE2acCO8z3wKNLl_Hindi_preview.mp3",elevenLabsId:"jBpfuIE2acCO8z3wKNLl",accent:"american",languageAgnostic:!0},{name:"eleven-labs-giovanni",gender:"MALE",label:"Giovanni",useCase:"Narration",age:"Young",description:"A foreigner and young voice.",languageCode:"hi-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zcAOhNBS3c14rBihAFp1_Hindi_preview.mp3",elevenLabsId:"zcAOhNBS3c14rBihAFp1",accent:"english-italian",languageAgnostic:!0},{name:"eleven-labs-glinda",gender:"FEMALE",label:"Glinda",useCase:"Characters",age:"Middle-aged",description:"A smooth and middle-aged voice.",languageCode:"hi-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/z9fAnlkpzviPz146aGWa_Hindi_preview.mp3",elevenLabsId:"z9fAnlkpzviPz146aGWa",accent:"american",languageAgnostic:!0},{name:"eleven-labs-grace",gender:"FEMALE",label:"Grace",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"hi-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/oWAxZDx7w5VEj9dCyTzz_Hindi_preview.mp3",elevenLabsId:"oWAxZDx7w5VEj9dCyTzz",accent:"american-southern",languageAgnostic:!0},{name:"eleven-labs-harry",gender:"MALE",label:"Harry",useCase:"Characters",age:"Young",description:"An anxious and young voice.",languageCode:"hi-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SOYHLrjzK2X1ezoPC6cr_Hindi_preview.mp3",elevenLabsId:"SOYHLrjzK2X1ezoPC6cr",accent:"american",languageAgnostic:!0},{name:"eleven-labs-james",gender:"MALE",label:"James",useCase:"News",age:"Old",description:"A calm and old voice.",languageCode:"hi-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ZQe5CZNOzWyzPSCn5a3c_Hindi_preview.mp3",elevenLabsId:"ZQe5CZNOzWyzPSCn5a3c",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-jeremy",gender:"MALE",label:"Jeremy",useCase:"Narration",age:"Young",description:"An excited and young voice.",languageCode:"hi-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bVMeCyTHy58xNoL34h3p_Hindi_preview.mp3",elevenLabsId:"bVMeCyTHy58xNoL34h3p",accent:"american-irish",languageAgnostic:!0},{name:"eleven-labs-jessica",gender:"FEMALE",label:"Jessica",useCase:"Conversational",age:"Young",description:"An expressive and young voice.",languageCode:"hi-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cgSgspJ2msm6clMCkdW9_Hindi_preview.mp3",elevenLabsId:"cgSgspJ2msm6clMCkdW9",accent:"american",languageAgnostic:!0},{name:"eleven-labs-jessie",gender:"MALE",label:"Jessie",useCase:"Characters",age:"Old",description:"A raspy and old voice.",languageCode:"hi-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/t0jbNlBVZ17f02VDIeMI_Hindi_preview.mp3",elevenLabsId:"t0jbNlBVZ17f02VDIeMI",accent:"american",languageAgnostic:!0},{name:"eleven-labs-joseph",gender:"MALE",label:"Joseph",useCase:"News",age:"Middle-aged",description:"An articulate and middle-aged voice.",languageCode:"hi-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Zlb1dXrM653N07WRdFW3_Hindi_preview.mp3",elevenLabsId:"Zlb1dXrM653N07WRdFW3",accent:"british",languageAgnostic:!0},{name:"eleven-labs-josh",gender:"MALE",label:"Josh",useCase:"Narration",age:"Young",description:"A deep and young voice.",languageCode:"hi-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TxGEqnHWrfWFTfGW9XjX_Hindi_preview.mp3",elevenLabsId:"TxGEqnHWrfWFTfGW9XjX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-laura",gender:"FEMALE",label:"Laura",useCase:"Social Media",age:"Young",description:"An upbeat and young voice.",languageCode:"hi-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/FGY2WhTYpPnrIDTdsKH5_Hindi_preview.mp3",elevenLabsId:"FGY2WhTYpPnrIDTdsKH5",accent:"american",languageAgnostic:!0},{name:"eleven-labs-liam",gender:"MALE",label:"Liam",useCase:"Narration",age:"Young",description:"An articulate and young voice.",languageCode:"hi-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TX3LPaxmHKxFdv7VOQHJ_Hindi_preview.mp3",elevenLabsId:"TX3LPaxmHKxFdv7VOQHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-lily",gender:"FEMALE",label:"Lily",useCase:"Narration",age:"Middle-aged",description:"A warm and middle-aged voice.",languageCode:"hi-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pFZP5JQG7iQjIQuC4Bku_Hindi_preview.mp3",elevenLabsId:"pFZP5JQG7iQjIQuC4Bku",accent:"british",languageAgnostic:!0},{name:"eleven-labs-matilda",gender:"FEMALE",label:"Matilda",useCase:"Narration",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"hi-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XrExE9yKIg1WjnnlVkGX_Hindi_preview.mp3",elevenLabsId:"XrExE9yKIg1WjnnlVkGX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-michael",gender:"MALE",label:"Michael",useCase:"Narration",age:"Old",description:"A calm and old voice.",languageCode:"hi-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/flq6f7yk4E4fJM5XTYuZ_Hindi_preview.mp3",elevenLabsId:"flq6f7yk4E4fJM5XTYuZ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-mimi",gender:"FEMALE",label:"Mimi",useCase:"Animation",age:"Young",description:"A childish and young voice.",languageCode:"hi-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zrHiDhphv9ZnVXBqCLjz_Hindi_preview.mp3",elevenLabsId:"zrHiDhphv9ZnVXBqCLjz",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-nicole",gender:"FEMALE",label:"Nicole",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"hi-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/piTKgcLEGmPE4e6mEKli_Hindi_preview.mp3",elevenLabsId:"piTKgcLEGmPE4e6mEKli",accent:"american",languageAgnostic:!0},{name:"eleven-labs-patrick",gender:"MALE",label:"Patrick",useCase:"Characters",age:"Middle-aged",description:"A shouty and middle-aged voice.",languageCode:"hi-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ODq5zmih8GrVes37Dizd_Hindi_preview.mp3",elevenLabsId:"ODq5zmih8GrVes37Dizd",accent:"american",languageAgnostic:!0},{name:"eleven-labs-paul",gender:"MALE",label:"Paul",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"hi-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/5Q0t7uMcjvnagumLfvZi_Hindi_preview.mp3",elevenLabsId:"5Q0t7uMcjvnagumLfvZi",accent:"american",languageAgnostic:!0},{name:"eleven-labs-rachel",gender:"FEMALE",label:"Rachel",useCase:"Narration",age:"Young",description:"A calm and young voice.",languageCode:"hi-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/21m00Tcm4TlvDq8ikWAM_Hindi_preview.mp3",elevenLabsId:"21m00Tcm4TlvDq8ikWAM",accent:"american",languageAgnostic:!0},{name:"eleven-labs-river",gender:"NEUTRAL",label:"River",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"hi-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SAz9YHcvj6GT2YYXdXww_Hindi_preview.mp3",elevenLabsId:"SAz9YHcvj6GT2YYXdXww",accent:"american",languageAgnostic:!0},{name:"eleven-labs-roger",gender:"MALE",label:"Roger",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"hi-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CwhRBWXzGAHq8TQ4Fs17_Hindi_preview.mp3",elevenLabsId:"CwhRBWXzGAHq8TQ4Fs17",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sam",gender:"MALE",label:"Sam",useCase:"Narration",age:"Young",description:"A raspy and young voice.",languageCode:"hi-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/yoZ06aMxZJJ28mfd3POQ_Hindi_preview.mp3",elevenLabsId:"yoZ06aMxZJJ28mfd3POQ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sarah",gender:"FEMALE",label:"Sarah",useCase:"News",age:"Young",description:"A soft and young voice.",languageCode:"hi-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/EXAVITQu4vr4xnSDxMaL_Hindi_preview.mp3",elevenLabsId:"EXAVITQu4vr4xnSDxMaL",accent:"american",languageAgnostic:!0},{name:"eleven-labs-serena",gender:"FEMALE",label:"Serena",useCase:"Narration",age:"Middle-aged",description:"A pleasant and middle-aged voice.",languageCode:"hi-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pMsXgVXv3BLzUgSXRplE_Hindi_preview.mp3",elevenLabsId:"pMsXgVXv3BLzUgSXRplE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-thomas",gender:"MALE",label:"Thomas",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"hi-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/GBv7mTt0atIp3Br8iCZE_Hindi_preview.mp3",elevenLabsId:"GBv7mTt0atIp3Br8iCZE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-will",gender:"MALE",label:"Will",useCase:"Social Media",age:"Young",description:"A friendly and young voice.",languageCode:"hi-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bIHbv24MWmeRgasZH58o_Hindi_preview.mp3",elevenLabsId:"bIHbv24MWmeRgasZH58o",accent:"american",languageAgnostic:!0}],"Hindi (Romanized)":[{gender:"FEMALE",label:"Sana",name:"hi-IN-Neural2-D",languageCode:"hi-IN",sampleURL:"https://cdn-useast1.kapwing.com/static/_RM-Hindi_Female.mp3",age:"Middle-aged",useCase:null},{gender:"MALE",label:"Vikram",name:"hi-IN-Neural2-C",languageCode:"hi-IN",sampleURL:"https://cdn-useast1.kapwing.com/static/9tD-Hindi_Male.mp3",age:"Middle-aged",useCase:null},{name:"eleven-labs-adam",gender:"MALE",label:"Adam",useCase:"Narration",age:"Middle-aged",description:"A deep and middle aged voice.",languageCode:"hi-RM",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pNInz6obpgDQGcFmaJgB_Hindi(Romanized)_preview.mp3",elevenLabsId:"pNInz6obpgDQGcFmaJgB",accent:"american",languageAgnostic:!0},{name:"eleven-labs-alice",gender:"FEMALE",label:"Alice",useCase:"News",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"hi-RM",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Xb7hH8MSUJpSbSDYk0k2_Hindi(Romanized)_preview.mp3",elevenLabsId:"Xb7hH8MSUJpSbSDYk0k2",accent:"british",languageAgnostic:!0},{name:"eleven-labs-antoni",gender:"MALE",label:"Antoni",useCase:"Narration",age:"Young",description:"A well-rounded and young voice.",languageCode:"hi-RM",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ErXwobaYiN019PkySvjV_Hindi(Romanized)_preview.mp3",elevenLabsId:"ErXwobaYiN019PkySvjV",accent:"american",languageAgnostic:!0},{name:"eleven-labs-aria",gender:"FEMALE",label:"Aria",useCase:"Social Media",age:"Middle-aged",description:"An expressive and middle-aged voice.",languageCode:"hi-RM",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/9BWtsMINqrJLrRacOk9x_Hindi(Romanized)_preview.mp3",elevenLabsId:"9BWtsMINqrJLrRacOk9x",accent:"american",languageAgnostic:!0},{name:"eleven-labs-arnold",gender:"MALE",label:"Arnold",useCase:"Narration",age:"Middle-aged",description:"A crisp and middle aged voice.",languageCode:"hi-RM",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/VR6AewLTigWG4xSOukaG_Hindi(Romanized)_preview.mp3",elevenLabsId:"VR6AewLTigWG4xSOukaG",accent:"american",languageAgnostic:!0},{name:"eleven-labs-bill",gender:"MALE",label:"Bill",useCase:"Narration",age:"Old",description:"A trustworthy and old voice.",languageCode:"hi-RM",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pqHfZKP75CvOlQylNhV4_Hindi(Romanized)_preview.mp3",elevenLabsId:"pqHfZKP75CvOlQylNhV4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-brian",gender:"MALE",label:"Brian",useCase:"Narration",age:"Middle-aged",description:"A deep and middle-aged voice.",languageCode:"hi-RM",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/nPczCjzI2devNBz1zQrb_Hindi(Romanized)_preview.mp3",elevenLabsId:"nPczCjzI2devNBz1zQrb",accent:"american",languageAgnostic:!0},{name:"eleven-labs-callum",gender:"MALE",label:"Callum",useCase:"Characters",age:"Middle-aged",description:"An intense and middle-aged voice.",languageCode:"hi-RM",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/N2lVS1w4EtoT3dr4eOWO_Hindi(Romanized)_preview.mp3",elevenLabsId:"N2lVS1w4EtoT3dr4eOWO",accent:"american",languageAgnostic:!0},{name:"eleven-labs-charlie",gender:"MALE",label:"Charlie",useCase:"Conversational",age:"Middle-aged",description:"A natural and middle aged voice.",languageCode:"hi-RM",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/IKne3meq5aSn9XLyUdCD_Hindi(Romanized)_preview.mp3",elevenLabsId:"IKne3meq5aSn9XLyUdCD",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-charlotte",gender:"FEMALE",label:"Charlotte",useCase:"Characters",age:"Young",description:"An inviting and young voice.",languageCode:"hi-RM",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XB0fDUnXU5powFXDhCwa_Hindi(Romanized)_preview.mp3",elevenLabsId:"XB0fDUnXU5powFXDhCwa",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-chris",gender:"MALE",label:"Chris",useCase:"Conversational",age:"Middle-aged",description:"A casual and middle-aged voice.",languageCode:"hi-RM",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/iP95p4xoKVk53GoZ742B_Hindi(Romanized)_preview.mp3",elevenLabsId:"iP95p4xoKVk53GoZ742B",accent:"american",languageAgnostic:!0},{name:"eleven-labs-clyde",gender:"MALE",label:"Clyde",useCase:"Characters",age:"Middle-aged",description:"A war veteran and middle-aged voice.",languageCode:"hi-RM",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/2EiwWnXFnvU5JabPnv8n_Hindi(Romanized)_preview.mp3",elevenLabsId:"2EiwWnXFnvU5JabPnv8n",accent:"american",languageAgnostic:!0},{name:"eleven-labs-daniel",gender:"MALE",label:"Daniel",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"hi-RM",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/onwK4e9ZLuTAKqWW03F9_Hindi(Romanized)_preview.mp3",elevenLabsId:"onwK4e9ZLuTAKqWW03F9",accent:"british",languageAgnostic:!0},{name:"eleven-labs-dave",gender:"MALE",label:"Dave",useCase:"Characters",age:"Young",description:"A conversational and young voice.",languageCode:"hi-RM",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CYw3kZ02Hs0563khs1Fj_Hindi(Romanized)_preview.mp3",elevenLabsId:"CYw3kZ02Hs0563khs1Fj",accent:"british-essex",languageAgnostic:!0},{name:"eleven-labs-domi",gender:"FEMALE",label:"Domi",useCase:"Narration",age:"Young",description:"A strong and young voice.",languageCode:"hi-RM",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/AZnzlk1XvdvUeBnXmlld_Hindi(Romanized)_preview.mp3",elevenLabsId:"AZnzlk1XvdvUeBnXmlld",accent:"american",languageAgnostic:!0},{name:"eleven-labs-dorothy",gender:"FEMALE",label:"Dorothy",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"hi-RM",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ThT5KcBeYPX3keUQqHPh_Hindi(Romanized)_preview.mp3",elevenLabsId:"ThT5KcBeYPX3keUQqHPh",accent:"british",languageAgnostic:!0},{name:"eleven-labs-drew",gender:"MALE",label:"Drew",useCase:"News",age:"Middle-aged",description:"A well-rounded and middle-aged voice.",languageCode:"hi-RM",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/29vD33N1CtxCmqQRPOHJ_Hindi(Romanized)_preview.mp3",elevenLabsId:"29vD33N1CtxCmqQRPOHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-emily",gender:"FEMALE",label:"Emily",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"hi-RM",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/LcfcDJNUP1GQjkzn1xUU_Hindi(Romanized)_preview.mp3",elevenLabsId:"LcfcDJNUP1GQjkzn1xUU",accent:"american",languageAgnostic:!0},{name:"eleven-labs-eric",gender:"MALE",label:"Eric",useCase:"Conversational",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"hi-RM",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cjVigY5qzO86Huf0OWal_Hindi(Romanized)_preview.mp3",elevenLabsId:"cjVigY5qzO86Huf0OWal",accent:"american",languageAgnostic:!0},{name:"eleven-labs-ethan",gender:"MALE",label:"Ethan",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"hi-RM",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/g5CIjZEefAph4nQFvHAz_Hindi(Romanized)_preview.mp3",elevenLabsId:"g5CIjZEefAph4nQFvHAz",accent:"american",languageAgnostic:!0},{name:"eleven-labs-fin",gender:"MALE",label:"Fin",useCase:"Characters",age:"Old",description:"A sailor and old voice.",languageCode:"hi-RM",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/D38z5RcWu1voky8WS1ja_Hindi(Romanized)_preview.mp3",elevenLabsId:"D38z5RcWu1voky8WS1ja",accent:"irish",languageAgnostic:!0},{name:"eleven-labs-freya",gender:"FEMALE",label:"Freya",useCase:"Characters",age:"Young",description:"An expressive and young voice.",languageCode:"hi-RM",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jsCqWAovK2LkecY7zXl4_Hindi(Romanized)_preview.mp3",elevenLabsId:"jsCqWAovK2LkecY7zXl4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-george",gender:"MALE",label:"George",useCase:"Narration",age:"Middle-aged",description:"A warm and middle aged voice.",languageCode:"hi-RM",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/JBFqnCBsd6RMkjVDRZzb_Hindi(Romanized)_preview.mp3",elevenLabsId:"JBFqnCBsd6RMkjVDRZzb",accent:"british",languageAgnostic:!0},{name:"eleven-labs-gigi",gender:"FEMALE",label:"Gigi",useCase:"Animation",age:"Young",description:"A childlish and young voice.",languageCode:"hi-RM",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jBpfuIE2acCO8z3wKNLl_Hindi(Romanized)_preview.mp3",elevenLabsId:"jBpfuIE2acCO8z3wKNLl",accent:"american",languageAgnostic:!0},{name:"eleven-labs-giovanni",gender:"MALE",label:"Giovanni",useCase:"Narration",age:"Young",description:"A foreigner and young voice.",languageCode:"hi-RM",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zcAOhNBS3c14rBihAFp1_Hindi(Romanized)_preview.mp3",elevenLabsId:"zcAOhNBS3c14rBihAFp1",accent:"english-italian",languageAgnostic:!0},{name:"eleven-labs-glinda",gender:"FEMALE",label:"Glinda",useCase:"Characters",age:"Middle-aged",description:"A smooth and middle-aged voice.",languageCode:"hi-RM",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/z9fAnlkpzviPz146aGWa_Hindi(Romanized)_preview.mp3",elevenLabsId:"z9fAnlkpzviPz146aGWa",accent:"american",languageAgnostic:!0},{name:"eleven-labs-grace",gender:"FEMALE",label:"Grace",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"hi-RM",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/oWAxZDx7w5VEj9dCyTzz_Hindi(Romanized)_preview.mp3",elevenLabsId:"oWAxZDx7w5VEj9dCyTzz",accent:"american-southern",languageAgnostic:!0},{name:"eleven-labs-harry",gender:"MALE",label:"Harry",useCase:"Characters",age:"Young",description:"An anxious and young voice.",languageCode:"hi-RM",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SOYHLrjzK2X1ezoPC6cr_Hindi(Romanized)_preview.mp3",elevenLabsId:"SOYHLrjzK2X1ezoPC6cr",accent:"american",languageAgnostic:!0},{name:"eleven-labs-james",gender:"MALE",label:"James",useCase:"News",age:"Old",description:"A calm and old voice.",languageCode:"hi-RM",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ZQe5CZNOzWyzPSCn5a3c_Hindi(Romanized)_preview.mp3",elevenLabsId:"ZQe5CZNOzWyzPSCn5a3c",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-jeremy",gender:"MALE",label:"Jeremy",useCase:"Narration",age:"Young",description:"An excited and young voice.",languageCode:"hi-RM",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bVMeCyTHy58xNoL34h3p_Hindi(Romanized)_preview.mp3",elevenLabsId:"bVMeCyTHy58xNoL34h3p",accent:"american-irish",languageAgnostic:!0},{name:"eleven-labs-jessica",gender:"FEMALE",label:"Jessica",useCase:"Conversational",age:"Young",description:"An expressive and young voice.",languageCode:"hi-RM",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cgSgspJ2msm6clMCkdW9_Hindi(Romanized)_preview.mp3",elevenLabsId:"cgSgspJ2msm6clMCkdW9",accent:"american",languageAgnostic:!0},{name:"eleven-labs-jessie",gender:"MALE",label:"Jessie",useCase:"Characters",age:"Old",description:"A raspy and old voice.",languageCode:"hi-RM",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/t0jbNlBVZ17f02VDIeMI_Hindi(Romanized)_preview.mp3",elevenLabsId:"t0jbNlBVZ17f02VDIeMI",accent:"american",languageAgnostic:!0},{name:"eleven-labs-joseph",gender:"MALE",label:"Joseph",useCase:"News",age:"Middle-aged",description:"An articulate and middle-aged voice.",languageCode:"hi-RM",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Zlb1dXrM653N07WRdFW3_Hindi(Romanized)_preview.mp3",elevenLabsId:"Zlb1dXrM653N07WRdFW3",accent:"british",languageAgnostic:!0},{name:"eleven-labs-josh",gender:"MALE",label:"Josh",useCase:"Narration",age:"Young",description:"A deep and young voice.",languageCode:"hi-RM",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TxGEqnHWrfWFTfGW9XjX_Hindi(Romanized)_preview.mp3",elevenLabsId:"TxGEqnHWrfWFTfGW9XjX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-laura",gender:"FEMALE",label:"Laura",useCase:"Social Media",age:"Young",description:"An upbeat and young voice.",languageCode:"hi-RM",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/FGY2WhTYpPnrIDTdsKH5_Hindi(Romanized)_preview.mp3",elevenLabsId:"FGY2WhTYpPnrIDTdsKH5",accent:"american",languageAgnostic:!0},{name:"eleven-labs-liam",gender:"MALE",label:"Liam",useCase:"Narration",age:"Young",description:"An articulate and young voice.",languageCode:"hi-RM",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TX3LPaxmHKxFdv7VOQHJ_Hindi(Romanized)_preview.mp3",elevenLabsId:"TX3LPaxmHKxFdv7VOQHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-lily",gender:"FEMALE",label:"Lily",useCase:"Narration",age:"Middle-aged",description:"A warm and middle-aged voice.",languageCode:"hi-RM",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pFZP5JQG7iQjIQuC4Bku_Hindi(Romanized)_preview.mp3",elevenLabsId:"pFZP5JQG7iQjIQuC4Bku",accent:"british",languageAgnostic:!0},{name:"eleven-labs-matilda",gender:"FEMALE",label:"Matilda",useCase:"Narration",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"hi-RM",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XrExE9yKIg1WjnnlVkGX_Hindi(Romanized)_preview.mp3",elevenLabsId:"XrExE9yKIg1WjnnlVkGX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-michael",gender:"MALE",label:"Michael",useCase:"Narration",age:"Old",description:"A calm and old voice.",languageCode:"hi-RM",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/flq6f7yk4E4fJM5XTYuZ_Hindi(Romanized)_preview.mp3",elevenLabsId:"flq6f7yk4E4fJM5XTYuZ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-mimi",gender:"FEMALE",label:"Mimi",useCase:"Animation",age:"Young",description:"A childish and young voice.",languageCode:"hi-RM",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zrHiDhphv9ZnVXBqCLjz_Hindi(Romanized)_preview.mp3",elevenLabsId:"zrHiDhphv9ZnVXBqCLjz",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-nicole",gender:"FEMALE",label:"Nicole",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"hi-RM",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/piTKgcLEGmPE4e6mEKli_Hindi(Romanized)_preview.mp3",elevenLabsId:"piTKgcLEGmPE4e6mEKli",accent:"american",languageAgnostic:!0},{name:"eleven-labs-patrick",gender:"MALE",label:"Patrick",useCase:"Characters",age:"Middle-aged",description:"A shouty and middle-aged voice.",languageCode:"hi-RM",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ODq5zmih8GrVes37Dizd_Hindi(Romanized)_preview.mp3",elevenLabsId:"ODq5zmih8GrVes37Dizd",accent:"american",languageAgnostic:!0},{name:"eleven-labs-paul",gender:"MALE",label:"Paul",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"hi-RM",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/5Q0t7uMcjvnagumLfvZi_Hindi(Romanized)_preview.mp3",elevenLabsId:"5Q0t7uMcjvnagumLfvZi",accent:"american",languageAgnostic:!0},{name:"eleven-labs-rachel",gender:"FEMALE",label:"Rachel",useCase:"Narration",age:"Young",description:"A calm and young voice.",languageCode:"hi-RM",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/21m00Tcm4TlvDq8ikWAM_Hindi(Romanized)_preview.mp3",elevenLabsId:"21m00Tcm4TlvDq8ikWAM",accent:"american",languageAgnostic:!0},{name:"eleven-labs-river",gender:"NEUTRAL",label:"River",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"hi-RM",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SAz9YHcvj6GT2YYXdXww_Hindi(Romanized)_preview.mp3",elevenLabsId:"SAz9YHcvj6GT2YYXdXww",accent:"american",languageAgnostic:!0},{name:"eleven-labs-roger",gender:"MALE",label:"Roger",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"hi-RM",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CwhRBWXzGAHq8TQ4Fs17_Hindi(Romanized)_preview.mp3",elevenLabsId:"CwhRBWXzGAHq8TQ4Fs17",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sam",gender:"MALE",label:"Sam",useCase:"Narration",age:"Young",description:"A raspy and young voice.",languageCode:"hi-RM",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/yoZ06aMxZJJ28mfd3POQ_Hindi(Romanized)_preview.mp3",elevenLabsId:"yoZ06aMxZJJ28mfd3POQ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sarah",gender:"FEMALE",label:"Sarah",useCase:"News",age:"Young",description:"A soft and young voice.",languageCode:"hi-RM",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/EXAVITQu4vr4xnSDxMaL_Hindi(Romanized)_preview.mp3",elevenLabsId:"EXAVITQu4vr4xnSDxMaL",accent:"american",languageAgnostic:!0},{name:"eleven-labs-serena",gender:"FEMALE",label:"Serena",useCase:"Narration",age:"Middle-aged",description:"A pleasant and middle-aged voice.",languageCode:"hi-RM",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pMsXgVXv3BLzUgSXRplE_Hindi(Romanized)_preview.mp3",elevenLabsId:"pMsXgVXv3BLzUgSXRplE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-thomas",gender:"MALE",label:"Thomas",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"hi-RM",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/GBv7mTt0atIp3Br8iCZE_Hindi(Romanized)_preview.mp3",elevenLabsId:"GBv7mTt0atIp3Br8iCZE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-will",gender:"MALE",label:"Will",useCase:"Social Media",age:"Young",description:"A friendly and young voice.",languageCode:"hi-RM",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bIHbv24MWmeRgasZH58o_Hindi(Romanized)_preview.mp3",elevenLabsId:"bIHbv24MWmeRgasZH58o",accent:"american",languageAgnostic:!0}],"Hinglish (Hindi and English)":[{name:"eleven-labs-adam",gender:"MALE",label:"Adam",useCase:"Narration",age:"Middle-aged",description:"A deep and middle aged voice.",languageCode:"hi-EN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pNInz6obpgDQGcFmaJgB_Hinglish(HindiandEnglish)_preview.mp3",elevenLabsId:"pNInz6obpgDQGcFmaJgB",accent:"american",languageAgnostic:!0},{name:"eleven-labs-alice",gender:"FEMALE",label:"Alice",useCase:"News",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"hi-EN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Xb7hH8MSUJpSbSDYk0k2_Hinglish(HindiandEnglish)_preview.mp3",elevenLabsId:"Xb7hH8MSUJpSbSDYk0k2",accent:"british",languageAgnostic:!0},{name:"eleven-labs-antoni",gender:"MALE",label:"Antoni",useCase:"Narration",age:"Young",description:"A well-rounded and young voice.",languageCode:"hi-EN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ErXwobaYiN019PkySvjV_Hinglish(HindiandEnglish)_preview.mp3",elevenLabsId:"ErXwobaYiN019PkySvjV",accent:"american",languageAgnostic:!0},{name:"eleven-labs-aria",gender:"FEMALE",label:"Aria",useCase:"Social Media",age:"Middle-aged",description:"An expressive and middle-aged voice.",languageCode:"hi-EN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/9BWtsMINqrJLrRacOk9x_Hinglish(HindiandEnglish)_preview.mp3",elevenLabsId:"9BWtsMINqrJLrRacOk9x",accent:"american",languageAgnostic:!0},{name:"eleven-labs-arnold",gender:"MALE",label:"Arnold",useCase:"Narration",age:"Middle-aged",description:"A crisp and middle aged voice.",languageCode:"hi-EN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/VR6AewLTigWG4xSOukaG_Hinglish(HindiandEnglish)_preview.mp3",elevenLabsId:"VR6AewLTigWG4xSOukaG",accent:"american",languageAgnostic:!0},{name:"eleven-labs-bill",gender:"MALE",label:"Bill",useCase:"Narration",age:"Old",description:"A trustworthy and old voice.",languageCode:"hi-EN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pqHfZKP75CvOlQylNhV4_Hinglish(HindiandEnglish)_preview.mp3",elevenLabsId:"pqHfZKP75CvOlQylNhV4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-brian",gender:"MALE",label:"Brian",useCase:"Narration",age:"Middle-aged",description:"A deep and middle-aged voice.",languageCode:"hi-EN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/nPczCjzI2devNBz1zQrb_Hinglish(HindiandEnglish)_preview.mp3",elevenLabsId:"nPczCjzI2devNBz1zQrb",accent:"american",languageAgnostic:!0},{name:"eleven-labs-callum",gender:"MALE",label:"Callum",useCase:"Characters",age:"Middle-aged",description:"An intense and middle-aged voice.",languageCode:"hi-EN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/N2lVS1w4EtoT3dr4eOWO_Hinglish(HindiandEnglish)_preview.mp3",elevenLabsId:"N2lVS1w4EtoT3dr4eOWO",accent:"american",languageAgnostic:!0},{name:"eleven-labs-charlie",gender:"MALE",label:"Charlie",useCase:"Conversational",age:"Middle-aged",description:"A natural and middle aged voice.",languageCode:"hi-EN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/IKne3meq5aSn9XLyUdCD_Hinglish(HindiandEnglish)_preview.mp3",elevenLabsId:"IKne3meq5aSn9XLyUdCD",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-charlotte",gender:"FEMALE",label:"Charlotte",useCase:"Characters",age:"Young",description:"An inviting and young voice.",languageCode:"hi-EN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XB0fDUnXU5powFXDhCwa_Hinglish(HindiandEnglish)_preview.mp3",elevenLabsId:"XB0fDUnXU5powFXDhCwa",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-chris",gender:"MALE",label:"Chris",useCase:"Conversational",age:"Middle-aged",description:"A casual and middle-aged voice.",languageCode:"hi-EN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/iP95p4xoKVk53GoZ742B_Hinglish(HindiandEnglish)_preview.mp3",elevenLabsId:"iP95p4xoKVk53GoZ742B",accent:"american",languageAgnostic:!0},{name:"eleven-labs-clyde",gender:"MALE",label:"Clyde",useCase:"Characters",age:"Middle-aged",description:"A war veteran and middle-aged voice.",languageCode:"hi-EN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/2EiwWnXFnvU5JabPnv8n_Hinglish(HindiandEnglish)_preview.mp3",elevenLabsId:"2EiwWnXFnvU5JabPnv8n",accent:"american",languageAgnostic:!0},{name:"eleven-labs-daniel",gender:"MALE",label:"Daniel",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"hi-EN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/onwK4e9ZLuTAKqWW03F9_Hinglish(HindiandEnglish)_preview.mp3",elevenLabsId:"onwK4e9ZLuTAKqWW03F9",accent:"british",languageAgnostic:!0},{name:"eleven-labs-dave",gender:"MALE",label:"Dave",useCase:"Characters",age:"Young",description:"A conversational and young voice.",languageCode:"hi-EN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CYw3kZ02Hs0563khs1Fj_Hinglish(HindiandEnglish)_preview.mp3",elevenLabsId:"CYw3kZ02Hs0563khs1Fj",accent:"british-essex",languageAgnostic:!0},{name:"eleven-labs-domi",gender:"FEMALE",label:"Domi",useCase:"Narration",age:"Young",description:"A strong and young voice.",languageCode:"hi-EN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/AZnzlk1XvdvUeBnXmlld_Hinglish(HindiandEnglish)_preview.mp3",elevenLabsId:"AZnzlk1XvdvUeBnXmlld",accent:"american",languageAgnostic:!0},{name:"eleven-labs-dorothy",gender:"FEMALE",label:"Dorothy",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"hi-EN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ThT5KcBeYPX3keUQqHPh_Hinglish(HindiandEnglish)_preview.mp3",elevenLabsId:"ThT5KcBeYPX3keUQqHPh",accent:"british",languageAgnostic:!0},{name:"eleven-labs-drew",gender:"MALE",label:"Drew",useCase:"News",age:"Middle-aged",description:"A well-rounded and middle-aged voice.",languageCode:"hi-EN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/29vD33N1CtxCmqQRPOHJ_Hinglish(HindiandEnglish)_preview.mp3",elevenLabsId:"29vD33N1CtxCmqQRPOHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-emily",gender:"FEMALE",label:"Emily",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"hi-EN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/LcfcDJNUP1GQjkzn1xUU_Hinglish(HindiandEnglish)_preview.mp3",elevenLabsId:"LcfcDJNUP1GQjkzn1xUU",accent:"american",languageAgnostic:!0},{name:"eleven-labs-eric",gender:"MALE",label:"Eric",useCase:"Conversational",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"hi-EN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cjVigY5qzO86Huf0OWal_Hinglish(HindiandEnglish)_preview.mp3",elevenLabsId:"cjVigY5qzO86Huf0OWal",accent:"american",languageAgnostic:!0},{name:"eleven-labs-ethan",gender:"MALE",label:"Ethan",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"hi-EN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/g5CIjZEefAph4nQFvHAz_Hinglish(HindiandEnglish)_preview.mp3",elevenLabsId:"g5CIjZEefAph4nQFvHAz",accent:"american",languageAgnostic:!0},{name:"eleven-labs-fin",gender:"MALE",label:"Fin",useCase:"Characters",age:"Old",description:"A sailor and old voice.",languageCode:"hi-EN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/D38z5RcWu1voky8WS1ja_Hinglish(HindiandEnglish)_preview.mp3",elevenLabsId:"D38z5RcWu1voky8WS1ja",accent:"irish",languageAgnostic:!0},{name:"eleven-labs-freya",gender:"FEMALE",label:"Freya",useCase:"Characters",age:"Young",description:"An expressive and young voice.",languageCode:"hi-EN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jsCqWAovK2LkecY7zXl4_Hinglish(HindiandEnglish)_preview.mp3",elevenLabsId:"jsCqWAovK2LkecY7zXl4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-george",gender:"MALE",label:"George",useCase:"Narration",age:"Middle-aged",description:"A warm and middle aged voice.",languageCode:"hi-EN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/JBFqnCBsd6RMkjVDRZzb_Hinglish(HindiandEnglish)_preview.mp3",elevenLabsId:"JBFqnCBsd6RMkjVDRZzb",accent:"british",languageAgnostic:!0},{name:"eleven-labs-gigi",gender:"FEMALE",label:"Gigi",useCase:"Animation",age:"Young",description:"A childlish and young voice.",languageCode:"hi-EN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jBpfuIE2acCO8z3wKNLl_Hinglish(HindiandEnglish)_preview.mp3",elevenLabsId:"jBpfuIE2acCO8z3wKNLl",accent:"american",languageAgnostic:!0},{name:"eleven-labs-giovanni",gender:"MALE",label:"Giovanni",useCase:"Narration",age:"Young",description:"A foreigner and young voice.",languageCode:"hi-EN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zcAOhNBS3c14rBihAFp1_Hinglish(HindiandEnglish)_preview.mp3",elevenLabsId:"zcAOhNBS3c14rBihAFp1",accent:"english-italian",languageAgnostic:!0},{name:"eleven-labs-glinda",gender:"FEMALE",label:"Glinda",useCase:"Characters",age:"Middle-aged",description:"A smooth and middle-aged voice.",languageCode:"hi-EN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/z9fAnlkpzviPz146aGWa_Hinglish(HindiandEnglish)_preview.mp3",elevenLabsId:"z9fAnlkpzviPz146aGWa",accent:"american",languageAgnostic:!0},{name:"eleven-labs-grace",gender:"FEMALE",label:"Grace",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"hi-EN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/oWAxZDx7w5VEj9dCyTzz_Hinglish(HindiandEnglish)_preview.mp3",elevenLabsId:"oWAxZDx7w5VEj9dCyTzz",accent:"american-southern",languageAgnostic:!0},{name:"eleven-labs-harry",gender:"MALE",label:"Harry",useCase:"Characters",age:"Young",description:"An anxious and young voice.",languageCode:"hi-EN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SOYHLrjzK2X1ezoPC6cr_Hinglish(HindiandEnglish)_preview.mp3",elevenLabsId:"SOYHLrjzK2X1ezoPC6cr",accent:"american",languageAgnostic:!0},{name:"eleven-labs-james",gender:"MALE",label:"James",useCase:"News",age:"Old",description:"A calm and old voice.",languageCode:"hi-EN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ZQe5CZNOzWyzPSCn5a3c_Hinglish(HindiandEnglish)_preview.mp3",elevenLabsId:"ZQe5CZNOzWyzPSCn5a3c",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-jeremy",gender:"MALE",label:"Jeremy",useCase:"Narration",age:"Young",description:"An excited and young voice.",languageCode:"hi-EN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bVMeCyTHy58xNoL34h3p_Hinglish(HindiandEnglish)_preview.mp3",elevenLabsId:"bVMeCyTHy58xNoL34h3p",accent:"american-irish",languageAgnostic:!0},{name:"eleven-labs-jessica",gender:"FEMALE",label:"Jessica",useCase:"Conversational",age:"Young",description:"An expressive and young voice.",languageCode:"hi-EN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cgSgspJ2msm6clMCkdW9_Hinglish(HindiandEnglish)_preview.mp3",elevenLabsId:"cgSgspJ2msm6clMCkdW9",accent:"american",languageAgnostic:!0},{name:"eleven-labs-jessie",gender:"MALE",label:"Jessie",useCase:"Characters",age:"Old",description:"A raspy and old voice.",languageCode:"hi-EN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/t0jbNlBVZ17f02VDIeMI_Hinglish(HindiandEnglish)_preview.mp3",elevenLabsId:"t0jbNlBVZ17f02VDIeMI",accent:"american",languageAgnostic:!0},{name:"eleven-labs-joseph",gender:"MALE",label:"Joseph",useCase:"News",age:"Middle-aged",description:"An articulate and middle-aged voice.",languageCode:"hi-EN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Zlb1dXrM653N07WRdFW3_Hinglish(HindiandEnglish)_preview.mp3",elevenLabsId:"Zlb1dXrM653N07WRdFW3",accent:"british",languageAgnostic:!0},{name:"eleven-labs-josh",gender:"MALE",label:"Josh",useCase:"Narration",age:"Young",description:"A deep and young voice.",languageCode:"hi-EN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TxGEqnHWrfWFTfGW9XjX_Hinglish(HindiandEnglish)_preview.mp3",elevenLabsId:"TxGEqnHWrfWFTfGW9XjX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-laura",gender:"FEMALE",label:"Laura",useCase:"Social Media",age:"Young",description:"An upbeat and young voice.",languageCode:"hi-EN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/FGY2WhTYpPnrIDTdsKH5_Hinglish(HindiandEnglish)_preview.mp3",elevenLabsId:"FGY2WhTYpPnrIDTdsKH5",accent:"american",languageAgnostic:!0},{name:"eleven-labs-liam",gender:"MALE",label:"Liam",useCase:"Narration",age:"Young",description:"An articulate and young voice.",languageCode:"hi-EN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TX3LPaxmHKxFdv7VOQHJ_Hinglish(HindiandEnglish)_preview.mp3",elevenLabsId:"TX3LPaxmHKxFdv7VOQHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-lily",gender:"FEMALE",label:"Lily",useCase:"Narration",age:"Middle-aged",description:"A warm and middle-aged voice.",languageCode:"hi-EN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pFZP5JQG7iQjIQuC4Bku_Hinglish(HindiandEnglish)_preview.mp3",elevenLabsId:"pFZP5JQG7iQjIQuC4Bku",accent:"british",languageAgnostic:!0},{name:"eleven-labs-matilda",gender:"FEMALE",label:"Matilda",useCase:"Narration",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"hi-EN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XrExE9yKIg1WjnnlVkGX_Hinglish(HindiandEnglish)_preview.mp3",elevenLabsId:"XrExE9yKIg1WjnnlVkGX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-michael",gender:"MALE",label:"Michael",useCase:"Narration",age:"Old",description:"A calm and old voice.",languageCode:"hi-EN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/flq6f7yk4E4fJM5XTYuZ_Hinglish(HindiandEnglish)_preview.mp3",elevenLabsId:"flq6f7yk4E4fJM5XTYuZ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-mimi",gender:"FEMALE",label:"Mimi",useCase:"Animation",age:"Young",description:"A childish and young voice.",languageCode:"hi-EN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zrHiDhphv9ZnVXBqCLjz_Hinglish(HindiandEnglish)_preview.mp3",elevenLabsId:"zrHiDhphv9ZnVXBqCLjz",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-nicole",gender:"FEMALE",label:"Nicole",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"hi-EN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/piTKgcLEGmPE4e6mEKli_Hinglish(HindiandEnglish)_preview.mp3",elevenLabsId:"piTKgcLEGmPE4e6mEKli",accent:"american",languageAgnostic:!0},{name:"eleven-labs-patrick",gender:"MALE",label:"Patrick",useCase:"Characters",age:"Middle-aged",description:"A shouty and middle-aged voice.",languageCode:"hi-EN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ODq5zmih8GrVes37Dizd_Hinglish(HindiandEnglish)_preview.mp3",elevenLabsId:"ODq5zmih8GrVes37Dizd",accent:"american",languageAgnostic:!0},{name:"eleven-labs-paul",gender:"MALE",label:"Paul",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"hi-EN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/5Q0t7uMcjvnagumLfvZi_Hinglish(HindiandEnglish)_preview.mp3",elevenLabsId:"5Q0t7uMcjvnagumLfvZi",accent:"american",languageAgnostic:!0},{name:"eleven-labs-rachel",gender:"FEMALE",label:"Rachel",useCase:"Narration",age:"Young",description:"A calm and young voice.",languageCode:"hi-EN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/21m00Tcm4TlvDq8ikWAM_Hinglish(HindiandEnglish)_preview.mp3",elevenLabsId:"21m00Tcm4TlvDq8ikWAM",accent:"american",languageAgnostic:!0},{name:"eleven-labs-river",gender:"NEUTRAL",label:"River",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"hi-EN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SAz9YHcvj6GT2YYXdXww_Hinglish(HindiandEnglish)_preview.mp3",elevenLabsId:"SAz9YHcvj6GT2YYXdXww",accent:"american",languageAgnostic:!0},{name:"eleven-labs-roger",gender:"MALE",label:"Roger",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"hi-EN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CwhRBWXzGAHq8TQ4Fs17_Hinglish(HindiandEnglish)_preview.mp3",elevenLabsId:"CwhRBWXzGAHq8TQ4Fs17",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sam",gender:"MALE",label:"Sam",useCase:"Narration",age:"Young",description:"A raspy and young voice.",languageCode:"hi-EN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/yoZ06aMxZJJ28mfd3POQ_Hinglish(HindiandEnglish)_preview.mp3",elevenLabsId:"yoZ06aMxZJJ28mfd3POQ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sarah",gender:"FEMALE",label:"Sarah",useCase:"News",age:"Young",description:"A soft and young voice.",languageCode:"hi-EN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/EXAVITQu4vr4xnSDxMaL_Hinglish(HindiandEnglish)_preview.mp3",elevenLabsId:"EXAVITQu4vr4xnSDxMaL",accent:"american",languageAgnostic:!0},{name:"eleven-labs-serena",gender:"FEMALE",label:"Serena",useCase:"Narration",age:"Middle-aged",description:"A pleasant and middle-aged voice.",languageCode:"hi-EN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pMsXgVXv3BLzUgSXRplE_Hinglish(HindiandEnglish)_preview.mp3",elevenLabsId:"pMsXgVXv3BLzUgSXRplE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-thomas",gender:"MALE",label:"Thomas",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"hi-EN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/GBv7mTt0atIp3Br8iCZE_Hinglish(HindiandEnglish)_preview.mp3",elevenLabsId:"GBv7mTt0atIp3Br8iCZE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-will",gender:"MALE",label:"Will",useCase:"Social Media",age:"Young",description:"A friendly and young voice.",languageCode:"hi-EN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bIHbv24MWmeRgasZH58o_Hinglish(HindiandEnglish)_preview.mp3",elevenLabsId:"bIHbv24MWmeRgasZH58o",accent:"american",languageAgnostic:!0}],"Kannada (India)":[{name:"kn-IN-Wavenet-A",label:"Divya",gender:"FEMALE",languageCode:"kn-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-kn-IN-Wavenet-A_preview.mp3",age:"Middle-aged",useCase:null},{name:"kn-IN-Wavenet-C",label:"Naira",gender:"FEMALE",age:"Middle-aged",languageCode:"kn-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-kn-IN-Wavenet-C_preview.mp3"},{name:"kn-IN-Wavenet-D",label:"Samarth",gender:"MALE",age:"Middle-aged",languageCode:"kn-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-kn-IN-Wavenet-D_preview.mp3"},{name:"kn-IN-Wavenet-B",label:"Vinay",gender:"MALE",languageCode:"kn-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-kn-IN-Wavenet-B_preview.mp3",age:"Middle-aged",useCase:null}],Hungarian:[{elevenLabsId:"yyPLNYHg3CvjlSdSOdLh",sampleURL:"https://storage.googleapis.com/eleven-public-prod/database/user/y739Lh9Ej6VlKpHU1b7zHbso4BI2/voices/yyPLNYHg3CvjlSdSOdLh/wkarJ2ERPSLA1AbcOr4o.mp3",label:"Balazs",gender:"MALE",age:"Middle-aged",accent:"standard",description:"Professional middle aged voice for news.",useCase:"Narrative Story",languageCode:"hu-HU",name:"elevenlabs-Balazs-hu-HU-male"},{elevenLabsId:"TumdjBNWanlT3ysvclWh",sampleURL:"https://storage.googleapis.com/eleven-public-prod/database/user/HOZrfHdrnpe9pZlWrIwZoq4cDsX2/voices/TumdjBNWanlT3ysvclWh/UtdbtjoD1JNS4TtqyzwM.mp3",label:"Magyar",gender:"MALE",age:"Young",accent:"standard",description:"Young Hungarian Storyteller.",useCase:"Narrative Story",languageCode:"hu-HU",name:"elevenlabs-Magyar Frfi - Hungarian Male-hu-HU-male"},{name:"hu-HU-Wavenet-A",label:"Hanna",gender:"FEMALE",age:"Middle-aged",languageCode:"hu-HU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-hu-HU-Wavenet-A_preview.mp3"},{name:"eleven-labs-adam",gender:"MALE",label:"Adam",useCase:"Narration",age:"Middle-aged",description:"A deep and middle aged voice.",languageCode:"hu-HU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pNInz6obpgDQGcFmaJgB_Hungarian_preview.mp3",elevenLabsId:"pNInz6obpgDQGcFmaJgB",accent:"american",languageAgnostic:!0},{name:"eleven-labs-alice",gender:"FEMALE",label:"Alice",useCase:"News",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"hu-HU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Xb7hH8MSUJpSbSDYk0k2_Hungarian_preview.mp3",elevenLabsId:"Xb7hH8MSUJpSbSDYk0k2",accent:"british",languageAgnostic:!0},{name:"eleven-labs-antoni",gender:"MALE",label:"Antoni",useCase:"Narration",age:"Young",description:"A well-rounded and young voice.",languageCode:"hu-HU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ErXwobaYiN019PkySvjV_Hungarian_preview.mp3",elevenLabsId:"ErXwobaYiN019PkySvjV",accent:"american",languageAgnostic:!0},{name:"eleven-labs-aria",gender:"FEMALE",label:"Aria",useCase:"Social Media",age:"Middle-aged",description:"An expressive and middle-aged voice.",languageCode:"hu-HU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/9BWtsMINqrJLrRacOk9x_Hungarian_preview.mp3",elevenLabsId:"9BWtsMINqrJLrRacOk9x",accent:"american",languageAgnostic:!0},{name:"eleven-labs-arnold",gender:"MALE",label:"Arnold",useCase:"Narration",age:"Middle-aged",description:"A crisp and middle aged voice.",languageCode:"hu-HU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/VR6AewLTigWG4xSOukaG_Hungarian_preview.mp3",elevenLabsId:"VR6AewLTigWG4xSOukaG",accent:"american",languageAgnostic:!0},{name:"eleven-labs-bill",gender:"MALE",label:"Bill",useCase:"Narration",age:"Old",description:"A trustworthy and old voice.",languageCode:"hu-HU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pqHfZKP75CvOlQylNhV4_Hungarian_preview.mp3",elevenLabsId:"pqHfZKP75CvOlQylNhV4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-brian",gender:"MALE",label:"Brian",useCase:"Narration",age:"Middle-aged",description:"A deep and middle-aged voice.",languageCode:"hu-HU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/nPczCjzI2devNBz1zQrb_Hungarian_preview.mp3",elevenLabsId:"nPczCjzI2devNBz1zQrb",accent:"american",languageAgnostic:!0},{name:"eleven-labs-callum",gender:"MALE",label:"Callum",useCase:"Characters",age:"Middle-aged",description:"An intense and middle-aged voice.",languageCode:"hu-HU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/N2lVS1w4EtoT3dr4eOWO_Hungarian_preview.mp3",elevenLabsId:"N2lVS1w4EtoT3dr4eOWO",accent:"american",languageAgnostic:!0},{name:"eleven-labs-charlie",gender:"MALE",label:"Charlie",useCase:"Conversational",age:"Middle-aged",description:"A natural and middle aged voice.",languageCode:"hu-HU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/IKne3meq5aSn9XLyUdCD_Hungarian_preview.mp3",elevenLabsId:"IKne3meq5aSn9XLyUdCD",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-charlotte",gender:"FEMALE",label:"Charlotte",useCase:"Characters",age:"Young",description:"An inviting and young voice.",languageCode:"hu-HU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XB0fDUnXU5powFXDhCwa_Hungarian_preview.mp3",elevenLabsId:"XB0fDUnXU5powFXDhCwa",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-chris",gender:"MALE",label:"Chris",useCase:"Conversational",age:"Middle-aged",description:"A casual and middle-aged voice.",languageCode:"hu-HU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/iP95p4xoKVk53GoZ742B_Hungarian_preview.mp3",elevenLabsId:"iP95p4xoKVk53GoZ742B",accent:"american",languageAgnostic:!0},{name:"eleven-labs-clyde",gender:"MALE",label:"Clyde",useCase:"Characters",age:"Middle-aged",description:"A war veteran and middle-aged voice.",languageCode:"hu-HU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/2EiwWnXFnvU5JabPnv8n_Hungarian_preview.mp3",elevenLabsId:"2EiwWnXFnvU5JabPnv8n",accent:"american",languageAgnostic:!0},{name:"eleven-labs-daniel",gender:"MALE",label:"Daniel",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"hu-HU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/onwK4e9ZLuTAKqWW03F9_Hungarian_preview.mp3",elevenLabsId:"onwK4e9ZLuTAKqWW03F9",accent:"british",languageAgnostic:!0},{name:"eleven-labs-dave",gender:"MALE",label:"Dave",useCase:"Characters",age:"Young",description:"A conversational and young voice.",languageCode:"hu-HU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CYw3kZ02Hs0563khs1Fj_Hungarian_preview.mp3",elevenLabsId:"CYw3kZ02Hs0563khs1Fj",accent:"british-essex",languageAgnostic:!0},{name:"eleven-labs-domi",gender:"FEMALE",label:"Domi",useCase:"Narration",age:"Young",description:"A strong and young voice.",languageCode:"hu-HU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/AZnzlk1XvdvUeBnXmlld_Hungarian_preview.mp3",elevenLabsId:"AZnzlk1XvdvUeBnXmlld",accent:"american",languageAgnostic:!0},{name:"eleven-labs-dorothy",gender:"FEMALE",label:"Dorothy",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"hu-HU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ThT5KcBeYPX3keUQqHPh_Hungarian_preview.mp3",elevenLabsId:"ThT5KcBeYPX3keUQqHPh",accent:"british",languageAgnostic:!0},{name:"eleven-labs-drew",gender:"MALE",label:"Drew",useCase:"News",age:"Middle-aged",description:"A well-rounded and middle-aged voice.",languageCode:"hu-HU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/29vD33N1CtxCmqQRPOHJ_Hungarian_preview.mp3",elevenLabsId:"29vD33N1CtxCmqQRPOHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-emily",gender:"FEMALE",label:"Emily",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"hu-HU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/LcfcDJNUP1GQjkzn1xUU_Hungarian_preview.mp3",elevenLabsId:"LcfcDJNUP1GQjkzn1xUU",accent:"american",languageAgnostic:!0},{name:"eleven-labs-eric",gender:"MALE",label:"Eric",useCase:"Conversational",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"hu-HU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cjVigY5qzO86Huf0OWal_Hungarian_preview.mp3",elevenLabsId:"cjVigY5qzO86Huf0OWal",accent:"american",languageAgnostic:!0},{name:"eleven-labs-ethan",gender:"MALE",label:"Ethan",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"hu-HU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/g5CIjZEefAph4nQFvHAz_Hungarian_preview.mp3",elevenLabsId:"g5CIjZEefAph4nQFvHAz",accent:"american",languageAgnostic:!0},{name:"eleven-labs-fin",gender:"MALE",label:"Fin",useCase:"Characters",age:"Old",description:"A sailor and old voice.",languageCode:"hu-HU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/D38z5RcWu1voky8WS1ja_Hungarian_preview.mp3",elevenLabsId:"D38z5RcWu1voky8WS1ja",accent:"irish",languageAgnostic:!0},{name:"eleven-labs-freya",gender:"FEMALE",label:"Freya",useCase:"Characters",age:"Young",description:"An expressive and young voice.",languageCode:"hu-HU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jsCqWAovK2LkecY7zXl4_Hungarian_preview.mp3",elevenLabsId:"jsCqWAovK2LkecY7zXl4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-george",gender:"MALE",label:"George",useCase:"Narration",age:"Middle-aged",description:"A warm and middle aged voice.",languageCode:"hu-HU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/JBFqnCBsd6RMkjVDRZzb_Hungarian_preview.mp3",elevenLabsId:"JBFqnCBsd6RMkjVDRZzb",accent:"british",languageAgnostic:!0},{name:"eleven-labs-gigi",gender:"FEMALE",label:"Gigi",useCase:"Animation",age:"Young",description:"A childlish and young voice.",languageCode:"hu-HU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jBpfuIE2acCO8z3wKNLl_Hungarian_preview.mp3",elevenLabsId:"jBpfuIE2acCO8z3wKNLl",accent:"american",languageAgnostic:!0},{name:"eleven-labs-giovanni",gender:"MALE",label:"Giovanni",useCase:"Narration",age:"Young",description:"A foreigner and young voice.",languageCode:"hu-HU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zcAOhNBS3c14rBihAFp1_Hungarian_preview.mp3",elevenLabsId:"zcAOhNBS3c14rBihAFp1",accent:"english-italian",languageAgnostic:!0},{name:"eleven-labs-glinda",gender:"FEMALE",label:"Glinda",useCase:"Characters",age:"Middle-aged",description:"A smooth and middle-aged voice.",languageCode:"hu-HU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/z9fAnlkpzviPz146aGWa_Hungarian_preview.mp3",elevenLabsId:"z9fAnlkpzviPz146aGWa",accent:"american",languageAgnostic:!0},{name:"eleven-labs-grace",gender:"FEMALE",label:"Grace",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"hu-HU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/oWAxZDx7w5VEj9dCyTzz_Hungarian_preview.mp3",elevenLabsId:"oWAxZDx7w5VEj9dCyTzz",accent:"american-southern",languageAgnostic:!0},{name:"eleven-labs-harry",gender:"MALE",label:"Harry",useCase:"Characters",age:"Young",description:"An anxious and young voice.",languageCode:"hu-HU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SOYHLrjzK2X1ezoPC6cr_Hungarian_preview.mp3",elevenLabsId:"SOYHLrjzK2X1ezoPC6cr",accent:"american",languageAgnostic:!0},{name:"eleven-labs-james",gender:"MALE",label:"James",useCase:"News",age:"Old",description:"A calm and old voice.",languageCode:"hu-HU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ZQe5CZNOzWyzPSCn5a3c_Hungarian_preview.mp3",elevenLabsId:"ZQe5CZNOzWyzPSCn5a3c",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-jeremy",gender:"MALE",label:"Jeremy",useCase:"Narration",age:"Young",description:"An excited and young voice.",languageCode:"hu-HU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bVMeCyTHy58xNoL34h3p_Hungarian_preview.mp3",elevenLabsId:"bVMeCyTHy58xNoL34h3p",accent:"american-irish",languageAgnostic:!0},{name:"eleven-labs-jessica",gender:"FEMALE",label:"Jessica",useCase:"Conversational",age:"Young",description:"An expressive and young voice.",languageCode:"hu-HU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cgSgspJ2msm6clMCkdW9_Hungarian_preview.mp3",elevenLabsId:"cgSgspJ2msm6clMCkdW9",accent:"american",languageAgnostic:!0},{name:"eleven-labs-jessie",gender:"MALE",label:"Jessie",useCase:"Characters",age:"Old",description:"A raspy and old voice.",languageCode:"hu-HU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/t0jbNlBVZ17f02VDIeMI_Hungarian_preview.mp3",elevenLabsId:"t0jbNlBVZ17f02VDIeMI",accent:"american",languageAgnostic:!0},{name:"eleven-labs-joseph",gender:"MALE",label:"Joseph",useCase:"News",age:"Middle-aged",description:"An articulate and middle-aged voice.",languageCode:"hu-HU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Zlb1dXrM653N07WRdFW3_Hungarian_preview.mp3",elevenLabsId:"Zlb1dXrM653N07WRdFW3",accent:"british",languageAgnostic:!0},{name:"eleven-labs-josh",gender:"MALE",label:"Josh",useCase:"Narration",age:"Young",description:"A deep and young voice.",languageCode:"hu-HU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TxGEqnHWrfWFTfGW9XjX_Hungarian_preview.mp3",elevenLabsId:"TxGEqnHWrfWFTfGW9XjX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-laura",gender:"FEMALE",label:"Laura",useCase:"Social Media",age:"Young",description:"An upbeat and young voice.",languageCode:"hu-HU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/FGY2WhTYpPnrIDTdsKH5_Hungarian_preview.mp3",elevenLabsId:"FGY2WhTYpPnrIDTdsKH5",accent:"american",languageAgnostic:!0},{name:"eleven-labs-liam",gender:"MALE",label:"Liam",useCase:"Narration",age:"Young",description:"An articulate and young voice.",languageCode:"hu-HU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TX3LPaxmHKxFdv7VOQHJ_Hungarian_preview.mp3",elevenLabsId:"TX3LPaxmHKxFdv7VOQHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-lily",gender:"FEMALE",label:"Lily",useCase:"Narration",age:"Middle-aged",description:"A warm and middle-aged voice.",languageCode:"hu-HU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pFZP5JQG7iQjIQuC4Bku_Hungarian_preview.mp3",elevenLabsId:"pFZP5JQG7iQjIQuC4Bku",accent:"british",languageAgnostic:!0},{name:"eleven-labs-matilda",gender:"FEMALE",label:"Matilda",useCase:"Narration",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"hu-HU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XrExE9yKIg1WjnnlVkGX_Hungarian_preview.mp3",elevenLabsId:"XrExE9yKIg1WjnnlVkGX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-michael",gender:"MALE",label:"Michael",useCase:"Narration",age:"Old",description:"A calm and old voice.",languageCode:"hu-HU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/flq6f7yk4E4fJM5XTYuZ_Hungarian_preview.mp3",elevenLabsId:"flq6f7yk4E4fJM5XTYuZ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-mimi",gender:"FEMALE",label:"Mimi",useCase:"Animation",age:"Young",description:"A childish and young voice.",languageCode:"hu-HU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zrHiDhphv9ZnVXBqCLjz_Hungarian_preview.mp3",elevenLabsId:"zrHiDhphv9ZnVXBqCLjz",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-nicole",gender:"FEMALE",label:"Nicole",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"hu-HU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/piTKgcLEGmPE4e6mEKli_Hungarian_preview.mp3",elevenLabsId:"piTKgcLEGmPE4e6mEKli",accent:"american",languageAgnostic:!0},{name:"eleven-labs-patrick",gender:"MALE",label:"Patrick",useCase:"Characters",age:"Middle-aged",description:"A shouty and middle-aged voice.",languageCode:"hu-HU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ODq5zmih8GrVes37Dizd_Hungarian_preview.mp3",elevenLabsId:"ODq5zmih8GrVes37Dizd",accent:"american",languageAgnostic:!0},{name:"eleven-labs-paul",gender:"MALE",label:"Paul",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"hu-HU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/5Q0t7uMcjvnagumLfvZi_Hungarian_preview.mp3",elevenLabsId:"5Q0t7uMcjvnagumLfvZi",accent:"american",languageAgnostic:!0},{name:"eleven-labs-rachel",gender:"FEMALE",label:"Rachel",useCase:"Narration",age:"Young",description:"A calm and young voice.",languageCode:"hu-HU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/21m00Tcm4TlvDq8ikWAM_Hungarian_preview.mp3",elevenLabsId:"21m00Tcm4TlvDq8ikWAM",accent:"american",languageAgnostic:!0},{name:"eleven-labs-river",gender:"NEUTRAL",label:"River",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"hu-HU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SAz9YHcvj6GT2YYXdXww_Hungarian_preview.mp3",elevenLabsId:"SAz9YHcvj6GT2YYXdXww",accent:"american",languageAgnostic:!0},{name:"eleven-labs-roger",gender:"MALE",label:"Roger",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"hu-HU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CwhRBWXzGAHq8TQ4Fs17_Hungarian_preview.mp3",elevenLabsId:"CwhRBWXzGAHq8TQ4Fs17",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sam",gender:"MALE",label:"Sam",useCase:"Narration",age:"Young",description:"A raspy and young voice.",languageCode:"hu-HU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/yoZ06aMxZJJ28mfd3POQ_Hungarian_preview.mp3",elevenLabsId:"yoZ06aMxZJJ28mfd3POQ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sarah",gender:"FEMALE",label:"Sarah",useCase:"News",age:"Young",description:"A soft and young voice.",languageCode:"hu-HU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/EXAVITQu4vr4xnSDxMaL_Hungarian_preview.mp3",elevenLabsId:"EXAVITQu4vr4xnSDxMaL",accent:"american",languageAgnostic:!0},{name:"eleven-labs-serena",gender:"FEMALE",label:"Serena",useCase:"Narration",age:"Middle-aged",description:"A pleasant and middle-aged voice.",languageCode:"hu-HU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pMsXgVXv3BLzUgSXRplE_Hungarian_preview.mp3",elevenLabsId:"pMsXgVXv3BLzUgSXRplE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-thomas",gender:"MALE",label:"Thomas",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"hu-HU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/GBv7mTt0atIp3Br8iCZE_Hungarian_preview.mp3",elevenLabsId:"GBv7mTt0atIp3Br8iCZE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-will",gender:"MALE",label:"Will",useCase:"Social Media",age:"Young",description:"A friendly and young voice.",languageCode:"hu-HU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bIHbv24MWmeRgasZH58o_Hungarian_preview.mp3",elevenLabsId:"bIHbv24MWmeRgasZH58o",accent:"american",languageAgnostic:!0}],Indonesian:[{elevenLabsId:"1k39YpzqXZn52BgyLyGO",sampleURL:"https://storage.googleapis.com/eleven-public-prod/database/user/AlLsjldmmLbZrvRDigI65bu3rOg1/voices/1k39YpzqXZn52BgyLyGO/Z2umWIeWTTCgmppRI78B.mp3",label:"Bee",gender:"MALE",age:"Middle-aged",accent:"standard",description:"A clear, dynamic voice.",useCase:"Informative Educational",languageCode:"id-ID",name:"elevenlabs-Bee Ard - Clear, Dynamic Voice-id-ID-male"},{elevenLabsId:"d888tBvGmQT2u05J1xTv",sampleURL:"https://storage.googleapis.com/eleven-public-prod/database/user/qiopUWV9CyX6cxobbTRT4DbxZNz1/voices/d888tBvGmQT2u05J1xTv/nD9uktNUo5fVOCfrbosR.mp3",label:"Miz",gender:"MALE",age:"Middle-aged",accent:"standard",description:"Middle-aged Baritone Indonesian male voice. Great for Narrations.",useCase:"Narrative Story",languageCode:"id-ID",name:"elevenlabs-Miz-id-ID-male"},{name:"id-ID-Wavenet-A",label:"Nova",gender:"FEMALE",age:"Middle-aged",languageCode:"id-ID",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-id-ID-Wavenet-A_preview.mp3"},{name:"id-ID-Wavenet-B",label:"Shraya",gender:"MALE",age:"Middle-aged",languageCode:"id-ID",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-id-ID-Wavenet-B_preview.mp3"},{name:"eleven-labs-adam",gender:"MALE",label:"Adam",useCase:"Narration",age:"Middle-aged",description:"A deep and middle aged voice.",languageCode:"id-ID",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pNInz6obpgDQGcFmaJgB_Indonesian_preview.mp3",elevenLabsId:"pNInz6obpgDQGcFmaJgB",accent:"american",languageAgnostic:!0},{name:"eleven-labs-alice",gender:"FEMALE",label:"Alice",useCase:"News",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"id-ID",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Xb7hH8MSUJpSbSDYk0k2_Indonesian_preview.mp3",elevenLabsId:"Xb7hH8MSUJpSbSDYk0k2",accent:"british",languageAgnostic:!0},{name:"eleven-labs-antoni",gender:"MALE",label:"Antoni",useCase:"Narration",age:"Young",description:"A well-rounded and young voice.",languageCode:"id-ID",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ErXwobaYiN019PkySvjV_Indonesian_preview.mp3",elevenLabsId:"ErXwobaYiN019PkySvjV",accent:"american",languageAgnostic:!0},{name:"eleven-labs-aria",gender:"FEMALE",label:"Aria",useCase:"Social Media",age:"Middle-aged",description:"An expressive and middle-aged voice.",languageCode:"id-ID",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/9BWtsMINqrJLrRacOk9x_Indonesian_preview.mp3",elevenLabsId:"9BWtsMINqrJLrRacOk9x",accent:"american",languageAgnostic:!0},{name:"eleven-labs-arnold",gender:"MALE",label:"Arnold",useCase:"Narration",age:"Middle-aged",description:"A crisp and middle aged voice.",languageCode:"id-ID",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/VR6AewLTigWG4xSOukaG_Indonesian_preview.mp3",elevenLabsId:"VR6AewLTigWG4xSOukaG",accent:"american",languageAgnostic:!0},{name:"eleven-labs-bill",gender:"MALE",label:"Bill",useCase:"Narration",age:"Old",description:"A trustworthy and old voice.",languageCode:"id-ID",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pqHfZKP75CvOlQylNhV4_Indonesian_preview.mp3",elevenLabsId:"pqHfZKP75CvOlQylNhV4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-brian",gender:"MALE",label:"Brian",useCase:"Narration",age:"Middle-aged",description:"A deep and middle-aged voice.",languageCode:"id-ID",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/nPczCjzI2devNBz1zQrb_Indonesian_preview.mp3",elevenLabsId:"nPczCjzI2devNBz1zQrb",accent:"american",languageAgnostic:!0},{name:"eleven-labs-callum",gender:"MALE",label:"Callum",useCase:"Characters",age:"Middle-aged",description:"An intense and middle-aged voice.",languageCode:"id-ID",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/N2lVS1w4EtoT3dr4eOWO_Indonesian_preview.mp3",elevenLabsId:"N2lVS1w4EtoT3dr4eOWO",accent:"american",languageAgnostic:!0},{name:"eleven-labs-charlie",gender:"MALE",label:"Charlie",useCase:"Conversational",age:"Middle-aged",description:"A natural and middle aged voice.",languageCode:"id-ID",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/IKne3meq5aSn9XLyUdCD_Indonesian_preview.mp3",elevenLabsId:"IKne3meq5aSn9XLyUdCD",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-charlotte",gender:"FEMALE",label:"Charlotte",useCase:"Characters",age:"Young",description:"An inviting and young voice.",languageCode:"id-ID",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XB0fDUnXU5powFXDhCwa_Indonesian_preview.mp3",elevenLabsId:"XB0fDUnXU5powFXDhCwa",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-chris",gender:"MALE",label:"Chris",useCase:"Conversational",age:"Middle-aged",description:"A casual and middle-aged voice.",languageCode:"id-ID",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/iP95p4xoKVk53GoZ742B_Indonesian_preview.mp3",elevenLabsId:"iP95p4xoKVk53GoZ742B",accent:"american",languageAgnostic:!0},{name:"eleven-labs-clyde",gender:"MALE",label:"Clyde",useCase:"Characters",age:"Middle-aged",description:"A war veteran and middle-aged voice.",languageCode:"id-ID",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/2EiwWnXFnvU5JabPnv8n_Indonesian_preview.mp3",elevenLabsId:"2EiwWnXFnvU5JabPnv8n",accent:"american",languageAgnostic:!0},{name:"eleven-labs-daniel",gender:"MALE",label:"Daniel",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"id-ID",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/onwK4e9ZLuTAKqWW03F9_Indonesian_preview.mp3",elevenLabsId:"onwK4e9ZLuTAKqWW03F9",accent:"british",languageAgnostic:!0},{name:"eleven-labs-dave",gender:"MALE",label:"Dave",useCase:"Characters",age:"Young",description:"A conversational and young voice.",languageCode:"id-ID",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CYw3kZ02Hs0563khs1Fj_Indonesian_preview.mp3",elevenLabsId:"CYw3kZ02Hs0563khs1Fj",accent:"british-essex",languageAgnostic:!0},{name:"eleven-labs-domi",gender:"FEMALE",label:"Domi",useCase:"Narration",age:"Young",description:"A strong and young voice.",languageCode:"id-ID",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/AZnzlk1XvdvUeBnXmlld_Indonesian_preview.mp3",elevenLabsId:"AZnzlk1XvdvUeBnXmlld",accent:"american",languageAgnostic:!0},{name:"eleven-labs-dorothy",gender:"FEMALE",label:"Dorothy",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"id-ID",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ThT5KcBeYPX3keUQqHPh_Indonesian_preview.mp3",elevenLabsId:"ThT5KcBeYPX3keUQqHPh",accent:"british",languageAgnostic:!0},{name:"eleven-labs-drew",gender:"MALE",label:"Drew",useCase:"News",age:"Middle-aged",description:"A well-rounded and middle-aged voice.",languageCode:"id-ID",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/29vD33N1CtxCmqQRPOHJ_Indonesian_preview.mp3",elevenLabsId:"29vD33N1CtxCmqQRPOHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-emily",gender:"FEMALE",label:"Emily",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"id-ID",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/LcfcDJNUP1GQjkzn1xUU_Indonesian_preview.mp3",elevenLabsId:"LcfcDJNUP1GQjkzn1xUU",accent:"american",languageAgnostic:!0},{name:"eleven-labs-eric",gender:"MALE",label:"Eric",useCase:"Conversational",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"id-ID",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cjVigY5qzO86Huf0OWal_Indonesian_preview.mp3",elevenLabsId:"cjVigY5qzO86Huf0OWal",accent:"american",languageAgnostic:!0},{name:"eleven-labs-ethan",gender:"MALE",label:"Ethan",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"id-ID",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/g5CIjZEefAph4nQFvHAz_Indonesian_preview.mp3",elevenLabsId:"g5CIjZEefAph4nQFvHAz",accent:"american",languageAgnostic:!0},{name:"eleven-labs-fin",gender:"MALE",label:"Fin",useCase:"Characters",age:"Old",description:"A sailor and old voice.",languageCode:"id-ID",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/D38z5RcWu1voky8WS1ja_Indonesian_preview.mp3",elevenLabsId:"D38z5RcWu1voky8WS1ja",accent:"irish",languageAgnostic:!0},{name:"eleven-labs-freya",gender:"FEMALE",label:"Freya",useCase:"Characters",age:"Young",description:"An expressive and young voice.",languageCode:"id-ID",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jsCqWAovK2LkecY7zXl4_Indonesian_preview.mp3",elevenLabsId:"jsCqWAovK2LkecY7zXl4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-george",gender:"MALE",label:"George",useCase:"Narration",age:"Middle-aged",description:"A warm and middle aged voice.",languageCode:"id-ID",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/JBFqnCBsd6RMkjVDRZzb_Indonesian_preview.mp3",elevenLabsId:"JBFqnCBsd6RMkjVDRZzb",accent:"british",languageAgnostic:!0},{name:"eleven-labs-gigi",gender:"FEMALE",label:"Gigi",useCase:"Animation",age:"Young",description:"A childlish and young voice.",languageCode:"id-ID",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jBpfuIE2acCO8z3wKNLl_Indonesian_preview.mp3",elevenLabsId:"jBpfuIE2acCO8z3wKNLl",accent:"american",languageAgnostic:!0},{name:"eleven-labs-giovanni",gender:"MALE",label:"Giovanni",useCase:"Narration",age:"Young",description:"A foreigner and young voice.",languageCode:"id-ID",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zcAOhNBS3c14rBihAFp1_Indonesian_preview.mp3",elevenLabsId:"zcAOhNBS3c14rBihAFp1",accent:"english-italian",languageAgnostic:!0},{name:"eleven-labs-glinda",gender:"FEMALE",label:"Glinda",useCase:"Characters",age:"Middle-aged",description:"A smooth and middle-aged voice.",languageCode:"id-ID",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/z9fAnlkpzviPz146aGWa_Indonesian_preview.mp3",elevenLabsId:"z9fAnlkpzviPz146aGWa",accent:"american",languageAgnostic:!0},{name:"eleven-labs-grace",gender:"FEMALE",label:"Grace",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"id-ID",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/oWAxZDx7w5VEj9dCyTzz_Indonesian_preview.mp3",elevenLabsId:"oWAxZDx7w5VEj9dCyTzz",accent:"american-southern",languageAgnostic:!0},{name:"eleven-labs-harry",gender:"MALE",label:"Harry",useCase:"Characters",age:"Young",description:"An anxious and young voice.",languageCode:"id-ID",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SOYHLrjzK2X1ezoPC6cr_Indonesian_preview.mp3",elevenLabsId:"SOYHLrjzK2X1ezoPC6cr",accent:"american",languageAgnostic:!0},{name:"eleven-labs-james",gender:"MALE",label:"James",useCase:"News",age:"Old",description:"A calm and old voice.",languageCode:"id-ID",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ZQe5CZNOzWyzPSCn5a3c_Indonesian_preview.mp3",elevenLabsId:"ZQe5CZNOzWyzPSCn5a3c",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-jeremy",gender:"MALE",label:"Jeremy",useCase:"Narration",age:"Young",description:"An excited and young voice.",languageCode:"id-ID",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bVMeCyTHy58xNoL34h3p_Indonesian_preview.mp3",elevenLabsId:"bVMeCyTHy58xNoL34h3p",accent:"american-irish",languageAgnostic:!0},{name:"eleven-labs-jessica",gender:"FEMALE",label:"Jessica",useCase:"Conversational",age:"Young",description:"An expressive and young voice.",languageCode:"id-ID",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cgSgspJ2msm6clMCkdW9_Indonesian_preview.mp3",elevenLabsId:"cgSgspJ2msm6clMCkdW9",accent:"american",languageAgnostic:!0},{name:"eleven-labs-jessie",gender:"MALE",label:"Jessie",useCase:"Characters",age:"Old",description:"A raspy and old voice.",languageCode:"id-ID",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/t0jbNlBVZ17f02VDIeMI_Indonesian_preview.mp3",elevenLabsId:"t0jbNlBVZ17f02VDIeMI",accent:"american",languageAgnostic:!0},{name:"eleven-labs-joseph",gender:"MALE",label:"Joseph",useCase:"News",age:"Middle-aged",description:"An articulate and middle-aged voice.",languageCode:"id-ID",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Zlb1dXrM653N07WRdFW3_Indonesian_preview.mp3",elevenLabsId:"Zlb1dXrM653N07WRdFW3",accent:"british",languageAgnostic:!0},{name:"eleven-labs-josh",gender:"MALE",label:"Josh",useCase:"Narration",age:"Young",description:"A deep and young voice.",languageCode:"id-ID",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TxGEqnHWrfWFTfGW9XjX_Indonesian_preview.mp3",elevenLabsId:"TxGEqnHWrfWFTfGW9XjX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-laura",gender:"FEMALE",label:"Laura",useCase:"Social Media",age:"Young",description:"An upbeat and young voice.",languageCode:"id-ID",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/FGY2WhTYpPnrIDTdsKH5_Indonesian_preview.mp3",elevenLabsId:"FGY2WhTYpPnrIDTdsKH5",accent:"american",languageAgnostic:!0},{name:"eleven-labs-liam",gender:"MALE",label:"Liam",useCase:"Narration",age:"Young",description:"An articulate and young voice.",languageCode:"id-ID",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TX3LPaxmHKxFdv7VOQHJ_Indonesian_preview.mp3",elevenLabsId:"TX3LPaxmHKxFdv7VOQHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-lily",gender:"FEMALE",label:"Lily",useCase:"Narration",age:"Middle-aged",description:"A warm and middle-aged voice.",languageCode:"id-ID",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pFZP5JQG7iQjIQuC4Bku_Indonesian_preview.mp3",elevenLabsId:"pFZP5JQG7iQjIQuC4Bku",accent:"british",languageAgnostic:!0},{name:"eleven-labs-matilda",gender:"FEMALE",label:"Matilda",useCase:"Narration",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"id-ID",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XrExE9yKIg1WjnnlVkGX_Indonesian_preview.mp3",elevenLabsId:"XrExE9yKIg1WjnnlVkGX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-michael",gender:"MALE",label:"Michael",useCase:"Narration",age:"Old",description:"A calm and old voice.",languageCode:"id-ID",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/flq6f7yk4E4fJM5XTYuZ_Indonesian_preview.mp3",elevenLabsId:"flq6f7yk4E4fJM5XTYuZ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-mimi",gender:"FEMALE",label:"Mimi",useCase:"Animation",age:"Young",description:"A childish and young voice.",languageCode:"id-ID",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zrHiDhphv9ZnVXBqCLjz_Indonesian_preview.mp3",elevenLabsId:"zrHiDhphv9ZnVXBqCLjz",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-nicole",gender:"FEMALE",label:"Nicole",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"id-ID",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/piTKgcLEGmPE4e6mEKli_Indonesian_preview.mp3",elevenLabsId:"piTKgcLEGmPE4e6mEKli",accent:"american",languageAgnostic:!0},{name:"eleven-labs-patrick",gender:"MALE",label:"Patrick",useCase:"Characters",age:"Middle-aged",description:"A shouty and middle-aged voice.",languageCode:"id-ID",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ODq5zmih8GrVes37Dizd_Indonesian_preview.mp3",elevenLabsId:"ODq5zmih8GrVes37Dizd",accent:"american",languageAgnostic:!0},{name:"eleven-labs-paul",gender:"MALE",label:"Paul",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"id-ID",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/5Q0t7uMcjvnagumLfvZi_Indonesian_preview.mp3",elevenLabsId:"5Q0t7uMcjvnagumLfvZi",accent:"american",languageAgnostic:!0},{name:"eleven-labs-rachel",gender:"FEMALE",label:"Rachel",useCase:"Narration",age:"Young",description:"A calm and young voice.",languageCode:"id-ID",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/21m00Tcm4TlvDq8ikWAM_Indonesian_preview.mp3",elevenLabsId:"21m00Tcm4TlvDq8ikWAM",accent:"american",languageAgnostic:!0},{name:"eleven-labs-river",gender:"NEUTRAL",label:"River",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"id-ID",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SAz9YHcvj6GT2YYXdXww_Indonesian_preview.mp3",elevenLabsId:"SAz9YHcvj6GT2YYXdXww",accent:"american",languageAgnostic:!0},{name:"eleven-labs-roger",gender:"MALE",label:"Roger",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"id-ID",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CwhRBWXzGAHq8TQ4Fs17_Indonesian_preview.mp3",elevenLabsId:"CwhRBWXzGAHq8TQ4Fs17",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sam",gender:"MALE",label:"Sam",useCase:"Narration",age:"Young",description:"A raspy and young voice.",languageCode:"id-ID",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/yoZ06aMxZJJ28mfd3POQ_Indonesian_preview.mp3",elevenLabsId:"yoZ06aMxZJJ28mfd3POQ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sarah",gender:"FEMALE",label:"Sarah",useCase:"News",age:"Young",description:"A soft and young voice.",languageCode:"id-ID",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/EXAVITQu4vr4xnSDxMaL_Indonesian_preview.mp3",elevenLabsId:"EXAVITQu4vr4xnSDxMaL",accent:"american",languageAgnostic:!0},{name:"eleven-labs-serena",gender:"FEMALE",label:"Serena",useCase:"Narration",age:"Middle-aged",description:"A pleasant and middle-aged voice.",languageCode:"id-ID",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pMsXgVXv3BLzUgSXRplE_Indonesian_preview.mp3",elevenLabsId:"pMsXgVXv3BLzUgSXRplE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-thomas",gender:"MALE",label:"Thomas",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"id-ID",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/GBv7mTt0atIp3Br8iCZE_Indonesian_preview.mp3",elevenLabsId:"GBv7mTt0atIp3Br8iCZE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-will",gender:"MALE",label:"Will",useCase:"Social Media",age:"Young",description:"A friendly and young voice.",languageCode:"id-ID",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bIHbv24MWmeRgasZH58o_Indonesian_preview.mp3",elevenLabsId:"bIHbv24MWmeRgasZH58o",accent:"american",languageAgnostic:!0}],Italian:[{elevenLabsId:"3DPhHWXDY263XJ1d2EPN",sampleURL:"https://storage.googleapis.com/eleven-public-prod/custom/voices/3DPhHWXDY263XJ1d2EPN/YcN8v5oIOX09iQfWoPXH.mp3",label:"Elena",gender:"FEMALE",age:"Young",accent:"standard",description:"A young, dynamic and cheerful woman's voice.",useCase:"Narrative Story",languageCode:"it-IT",name:"elevenlabs-Linda Fiore-it-IT-female"},{elevenLabsId:"t3hJ92dgZhDVtsff084B",sampleURL:"https://storage.googleapis.com/eleven-public-prod/database/user/ziip9kMrVTVuk4QStOKUWqbvNpn1/voices/t3hJ92dgZhDVtsff084B/459cLRSqwtDinVzuyBzv.mp3",label:"Simone",gender:"MALE",age:"Young",accent:"standard",description:"A casual and young voice.",useCase:"Social Media",languageCode:"it-IT",name:"elevenlabs-Chris Basetta - Social Media-it-IT-male"},{gender:"MALE",label:"Antonio",name:"it-IT-Neural2-C",languageCode:"it-IT",sampleURL:"https://cdn-useast1.kapwing.com/static/TO_-Italian_Male.mp3",age:"Middle-aged",useCase:null},{gender:"FEMALE",label:"Lucia",name:"it-IT-Neural2-A",languageCode:"it-IT",sampleURL:"https://cdn-useast1.kapwing.com/static/yux-Italian_Female.mp3",age:"Middle-aged",useCase:null},{name:"eleven-labs-adam",gender:"MALE",label:"Adam",useCase:"Narration",age:"Middle-aged",description:"A deep and middle aged voice.",languageCode:"it-IT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pNInz6obpgDQGcFmaJgB_Italian_preview.mp3",elevenLabsId:"pNInz6obpgDQGcFmaJgB",accent:"american",languageAgnostic:!0},{name:"eleven-labs-alice",gender:"FEMALE",label:"Alice",useCase:"News",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"it-IT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Xb7hH8MSUJpSbSDYk0k2_Italian_preview.mp3",elevenLabsId:"Xb7hH8MSUJpSbSDYk0k2",accent:"british",languageAgnostic:!0},{name:"eleven-labs-antoni",gender:"MALE",label:"Antoni",useCase:"Narration",age:"Young",description:"A well-rounded and young voice.",languageCode:"it-IT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ErXwobaYiN019PkySvjV_Italian_preview.mp3",elevenLabsId:"ErXwobaYiN019PkySvjV",accent:"american",languageAgnostic:!0},{name:"eleven-labs-aria",gender:"FEMALE",label:"Aria",useCase:"Social Media",age:"Middle-aged",description:"An expressive and middle-aged voice.",languageCode:"it-IT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/9BWtsMINqrJLrRacOk9x_Italian_preview.mp3",elevenLabsId:"9BWtsMINqrJLrRacOk9x",accent:"american",languageAgnostic:!0},{name:"eleven-labs-arnold",gender:"MALE",label:"Arnold",useCase:"Narration",age:"Middle-aged",description:"A crisp and middle aged voice.",languageCode:"it-IT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/VR6AewLTigWG4xSOukaG_Italian_preview.mp3",elevenLabsId:"VR6AewLTigWG4xSOukaG",accent:"american",languageAgnostic:!0},{name:"eleven-labs-bill",gender:"MALE",label:"Bill",useCase:"Narration",age:"Old",description:"A trustworthy and old voice.",languageCode:"it-IT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pqHfZKP75CvOlQylNhV4_Italian_preview.mp3",elevenLabsId:"pqHfZKP75CvOlQylNhV4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-brian",gender:"MALE",label:"Brian",useCase:"Narration",age:"Middle-aged",description:"A deep and middle-aged voice.",languageCode:"it-IT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/nPczCjzI2devNBz1zQrb_Italian_preview.mp3",elevenLabsId:"nPczCjzI2devNBz1zQrb",accent:"american",languageAgnostic:!0},{name:"eleven-labs-callum",gender:"MALE",label:"Callum",useCase:"Characters",age:"Middle-aged",description:"An intense and middle-aged voice.",languageCode:"it-IT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/N2lVS1w4EtoT3dr4eOWO_Italian_preview.mp3",elevenLabsId:"N2lVS1w4EtoT3dr4eOWO",accent:"american",languageAgnostic:!0},{name:"eleven-labs-charlie",gender:"MALE",label:"Charlie",useCase:"Conversational",age:"Middle-aged",description:"A natural and middle aged voice.",languageCode:"it-IT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/IKne3meq5aSn9XLyUdCD_Italian_preview.mp3",elevenLabsId:"IKne3meq5aSn9XLyUdCD",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-charlotte",gender:"FEMALE",label:"Charlotte",useCase:"Characters",age:"Young",description:"An inviting and young voice.",languageCode:"it-IT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XB0fDUnXU5powFXDhCwa_Italian_preview.mp3",elevenLabsId:"XB0fDUnXU5powFXDhCwa",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-chris",gender:"MALE",label:"Chris",useCase:"Conversational",age:"Middle-aged",description:"A casual and middle-aged voice.",languageCode:"it-IT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/iP95p4xoKVk53GoZ742B_Italian_preview.mp3",elevenLabsId:"iP95p4xoKVk53GoZ742B",accent:"american",languageAgnostic:!0},{name:"eleven-labs-clyde",gender:"MALE",label:"Clyde",useCase:"Characters",age:"Middle-aged",description:"A war veteran and middle-aged voice.",languageCode:"it-IT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/2EiwWnXFnvU5JabPnv8n_Italian_preview.mp3",elevenLabsId:"2EiwWnXFnvU5JabPnv8n",accent:"american",languageAgnostic:!0},{name:"eleven-labs-daniel",gender:"MALE",label:"Daniel",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"it-IT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/onwK4e9ZLuTAKqWW03F9_Italian_preview.mp3",elevenLabsId:"onwK4e9ZLuTAKqWW03F9",accent:"british",languageAgnostic:!0},{name:"eleven-labs-dave",gender:"MALE",label:"Dave",useCase:"Characters",age:"Young",description:"A conversational and young voice.",languageCode:"it-IT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CYw3kZ02Hs0563khs1Fj_Italian_preview.mp3",elevenLabsId:"CYw3kZ02Hs0563khs1Fj",accent:"british-essex",languageAgnostic:!0},{name:"eleven-labs-domi",gender:"FEMALE",label:"Domi",useCase:"Narration",age:"Young",description:"A strong and young voice.",languageCode:"it-IT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/AZnzlk1XvdvUeBnXmlld_Italian_preview.mp3",elevenLabsId:"AZnzlk1XvdvUeBnXmlld",accent:"american",languageAgnostic:!0},{name:"eleven-labs-dorothy",gender:"FEMALE",label:"Dorothy",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"it-IT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ThT5KcBeYPX3keUQqHPh_Italian_preview.mp3",elevenLabsId:"ThT5KcBeYPX3keUQqHPh",accent:"british",languageAgnostic:!0},{name:"eleven-labs-drew",gender:"MALE",label:"Drew",useCase:"News",age:"Middle-aged",description:"A well-rounded and middle-aged voice.",languageCode:"it-IT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/29vD33N1CtxCmqQRPOHJ_Italian_preview.mp3",elevenLabsId:"29vD33N1CtxCmqQRPOHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-emily",gender:"FEMALE",label:"Emily",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"it-IT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/LcfcDJNUP1GQjkzn1xUU_Italian_preview.mp3",elevenLabsId:"LcfcDJNUP1GQjkzn1xUU",accent:"american",languageAgnostic:!0},{name:"eleven-labs-eric",gender:"MALE",label:"Eric",useCase:"Conversational",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"it-IT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cjVigY5qzO86Huf0OWal_Italian_preview.mp3",elevenLabsId:"cjVigY5qzO86Huf0OWal",accent:"american",languageAgnostic:!0},{name:"eleven-labs-ethan",gender:"MALE",label:"Ethan",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"it-IT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/g5CIjZEefAph4nQFvHAz_Italian_preview.mp3",elevenLabsId:"g5CIjZEefAph4nQFvHAz",accent:"american",languageAgnostic:!0},{name:"eleven-labs-fin",gender:"MALE",label:"Fin",useCase:"Characters",age:"Old",description:"A sailor and old voice.",languageCode:"it-IT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/D38z5RcWu1voky8WS1ja_Italian_preview.mp3",elevenLabsId:"D38z5RcWu1voky8WS1ja",accent:"irish",languageAgnostic:!0},{name:"eleven-labs-freya",gender:"FEMALE",label:"Freya",useCase:"Characters",age:"Young",description:"An expressive and young voice.",languageCode:"it-IT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jsCqWAovK2LkecY7zXl4_Italian_preview.mp3",elevenLabsId:"jsCqWAovK2LkecY7zXl4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-george",gender:"MALE",label:"George",useCase:"Narration",age:"Middle-aged",description:"A warm and middle aged voice.",languageCode:"it-IT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/JBFqnCBsd6RMkjVDRZzb_Italian_preview.mp3",elevenLabsId:"JBFqnCBsd6RMkjVDRZzb",accent:"british",languageAgnostic:!0},{name:"eleven-labs-gigi",gender:"FEMALE",label:"Gigi",useCase:"Animation",age:"Young",description:"A childlish and young voice.",languageCode:"it-IT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jBpfuIE2acCO8z3wKNLl_Italian_preview.mp3",elevenLabsId:"jBpfuIE2acCO8z3wKNLl",accent:"american",languageAgnostic:!0},{name:"eleven-labs-giovanni",gender:"MALE",label:"Giovanni",useCase:"Narration",age:"Young",description:"A foreigner and young voice.",languageCode:"it-IT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zcAOhNBS3c14rBihAFp1_Italian_preview.mp3",elevenLabsId:"zcAOhNBS3c14rBihAFp1",accent:"english-italian",languageAgnostic:!0},{name:"eleven-labs-glinda",gender:"FEMALE",label:"Glinda",useCase:"Characters",age:"Middle-aged",description:"A smooth and middle-aged voice.",languageCode:"it-IT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/z9fAnlkpzviPz146aGWa_Italian_preview.mp3",elevenLabsId:"z9fAnlkpzviPz146aGWa",accent:"american",languageAgnostic:!0},{name:"eleven-labs-grace",gender:"FEMALE",label:"Grace",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"it-IT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/oWAxZDx7w5VEj9dCyTzz_Italian_preview.mp3",elevenLabsId:"oWAxZDx7w5VEj9dCyTzz",accent:"american-southern",languageAgnostic:!0},{name:"eleven-labs-harry",gender:"MALE",label:"Harry",useCase:"Characters",age:"Young",description:"An anxious and young voice.",languageCode:"it-IT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SOYHLrjzK2X1ezoPC6cr_Italian_preview.mp3",elevenLabsId:"SOYHLrjzK2X1ezoPC6cr",accent:"american",languageAgnostic:!0},{name:"eleven-labs-james",gender:"MALE",label:"James",useCase:"News",age:"Old",description:"A calm and old voice.",languageCode:"it-IT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ZQe5CZNOzWyzPSCn5a3c_Italian_preview.mp3",elevenLabsId:"ZQe5CZNOzWyzPSCn5a3c",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-jeremy",gender:"MALE",label:"Jeremy",useCase:"Narration",age:"Young",description:"An excited and young voice.",languageCode:"it-IT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bVMeCyTHy58xNoL34h3p_Italian_preview.mp3",elevenLabsId:"bVMeCyTHy58xNoL34h3p",accent:"american-irish",languageAgnostic:!0},{name:"eleven-labs-jessica",gender:"FEMALE",label:"Jessica",useCase:"Conversational",age:"Young",description:"An expressive and young voice.",languageCode:"it-IT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cgSgspJ2msm6clMCkdW9_Italian_preview.mp3",elevenLabsId:"cgSgspJ2msm6clMCkdW9",accent:"american",languageAgnostic:!0},{name:"eleven-labs-jessie",gender:"MALE",label:"Jessie",useCase:"Characters",age:"Old",description:"A raspy and old voice.",languageCode:"it-IT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/t0jbNlBVZ17f02VDIeMI_Italian_preview.mp3",elevenLabsId:"t0jbNlBVZ17f02VDIeMI",accent:"american",languageAgnostic:!0},{name:"eleven-labs-joseph",gender:"MALE",label:"Joseph",useCase:"News",age:"Middle-aged",description:"An articulate and middle-aged voice.",languageCode:"it-IT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Zlb1dXrM653N07WRdFW3_Italian_preview.mp3",elevenLabsId:"Zlb1dXrM653N07WRdFW3",accent:"british",languageAgnostic:!0},{name:"eleven-labs-josh",gender:"MALE",label:"Josh",useCase:"Narration",age:"Young",description:"A deep and young voice.",languageCode:"it-IT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TxGEqnHWrfWFTfGW9XjX_Italian_preview.mp3",elevenLabsId:"TxGEqnHWrfWFTfGW9XjX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-laura",gender:"FEMALE",label:"Laura",useCase:"Social Media",age:"Young",description:"An upbeat and young voice.",languageCode:"it-IT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/FGY2WhTYpPnrIDTdsKH5_Italian_preview.mp3",elevenLabsId:"FGY2WhTYpPnrIDTdsKH5",accent:"american",languageAgnostic:!0},{name:"eleven-labs-liam",gender:"MALE",label:"Liam",useCase:"Narration",age:"Young",description:"An articulate and young voice.",languageCode:"it-IT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TX3LPaxmHKxFdv7VOQHJ_Italian_preview.mp3",elevenLabsId:"TX3LPaxmHKxFdv7VOQHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-lily",gender:"FEMALE",label:"Lily",useCase:"Narration",age:"Middle-aged",description:"A warm and middle-aged voice.",languageCode:"it-IT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pFZP5JQG7iQjIQuC4Bku_Italian_preview.mp3",elevenLabsId:"pFZP5JQG7iQjIQuC4Bku",accent:"british",languageAgnostic:!0},{name:"eleven-labs-matilda",gender:"FEMALE",label:"Matilda",useCase:"Narration",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"it-IT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XrExE9yKIg1WjnnlVkGX_Italian_preview.mp3",elevenLabsId:"XrExE9yKIg1WjnnlVkGX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-michael",gender:"MALE",label:"Michael",useCase:"Narration",age:"Old",description:"A calm and old voice.",languageCode:"it-IT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/flq6f7yk4E4fJM5XTYuZ_Italian_preview.mp3",elevenLabsId:"flq6f7yk4E4fJM5XTYuZ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-mimi",gender:"FEMALE",label:"Mimi",useCase:"Animation",age:"Young",description:"A childish and young voice.",languageCode:"it-IT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zrHiDhphv9ZnVXBqCLjz_Italian_preview.mp3",elevenLabsId:"zrHiDhphv9ZnVXBqCLjz",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-nicole",gender:"FEMALE",label:"Nicole",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"it-IT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/piTKgcLEGmPE4e6mEKli_Italian_preview.mp3",elevenLabsId:"piTKgcLEGmPE4e6mEKli",accent:"american",languageAgnostic:!0},{name:"eleven-labs-patrick",gender:"MALE",label:"Patrick",useCase:"Characters",age:"Middle-aged",description:"A shouty and middle-aged voice.",languageCode:"it-IT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ODq5zmih8GrVes37Dizd_Italian_preview.mp3",elevenLabsId:"ODq5zmih8GrVes37Dizd",accent:"american",languageAgnostic:!0},{name:"eleven-labs-paul",gender:"MALE",label:"Paul",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"it-IT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/5Q0t7uMcjvnagumLfvZi_Italian_preview.mp3",elevenLabsId:"5Q0t7uMcjvnagumLfvZi",accent:"american",languageAgnostic:!0},{name:"eleven-labs-rachel",gender:"FEMALE",label:"Rachel",useCase:"Narration",age:"Young",description:"A calm and young voice.",languageCode:"it-IT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/21m00Tcm4TlvDq8ikWAM_Italian_preview.mp3",elevenLabsId:"21m00Tcm4TlvDq8ikWAM",accent:"american",languageAgnostic:!0},{name:"eleven-labs-river",gender:"NEUTRAL",label:"River",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"it-IT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SAz9YHcvj6GT2YYXdXww_Italian_preview.mp3",elevenLabsId:"SAz9YHcvj6GT2YYXdXww",accent:"american",languageAgnostic:!0},{name:"eleven-labs-roger",gender:"MALE",label:"Roger",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"it-IT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CwhRBWXzGAHq8TQ4Fs17_Italian_preview.mp3",elevenLabsId:"CwhRBWXzGAHq8TQ4Fs17",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sam",gender:"MALE",label:"Sam",useCase:"Narration",age:"Young",description:"A raspy and young voice.",languageCode:"it-IT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/yoZ06aMxZJJ28mfd3POQ_Italian_preview.mp3",elevenLabsId:"yoZ06aMxZJJ28mfd3POQ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sarah",gender:"FEMALE",label:"Sarah",useCase:"News",age:"Young",description:"A soft and young voice.",languageCode:"it-IT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/EXAVITQu4vr4xnSDxMaL_Italian_preview.mp3",elevenLabsId:"EXAVITQu4vr4xnSDxMaL",accent:"american",languageAgnostic:!0},{name:"eleven-labs-serena",gender:"FEMALE",label:"Serena",useCase:"Narration",age:"Middle-aged",description:"A pleasant and middle-aged voice.",languageCode:"it-IT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pMsXgVXv3BLzUgSXRplE_Italian_preview.mp3",elevenLabsId:"pMsXgVXv3BLzUgSXRplE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-thomas",gender:"MALE",label:"Thomas",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"it-IT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/GBv7mTt0atIp3Br8iCZE_Italian_preview.mp3",elevenLabsId:"GBv7mTt0atIp3Br8iCZE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-will",gender:"MALE",label:"Will",useCase:"Social Media",age:"Young",description:"A friendly and young voice.",languageCode:"it-IT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bIHbv24MWmeRgasZH58o_Italian_preview.mp3",elevenLabsId:"bIHbv24MWmeRgasZH58o",accent:"american",languageAgnostic:!0}],Japanese:[{gender:"MALE",label:"Hiro",name:"eleven-labs-multilingual-male-japanese-3",languageCode:"ja-JP",sampleURL:"https://cdn-useast1.kapwing.com/static/RsY-voice_preview_Hiro-Satake.mp3",elevenLabsId:"MlgbiBnm4o8N3DaDzblH",age:"Middle-aged",description:"Calm narration by a middle-aged male Japanese voice over artist.",useCase:"Informative Educational",accent:"standard"},{gender:"MALE",label:"Ishibashi",name:"eleven-labs-multilingual-male-japanese-2",languageCode:"ja-JP",sampleURL:"https://cdn-useast1.kapwing.com/static/QLU-voice_preview_Ishibashi---Strong-Japanese-Male-Voice.mp3",elevenLabsId:"Mv8AjrYZCBkdsmDHNwcB",age:"Young",description:"A deep and young voice.",useCase:"Social Media",accent:"kanto"},{gender:"MALE",label:"Daisho",name:"ja-JP-Neural2-C",languageCode:"ja-JP",sampleURL:"https://cdn-useast1.kapwing.com/static/qmu-Japanese_Male.mp3",age:"Middle-aged",useCase:null},{gender:"FEMALE",label:"Sutan",name:"ja-JP-Neural2-B",languageCode:"ja-JP",sampleURL:"https://cdn-useast1.kapwing.com/static/eRF-Japanese_Female.mp3",age:"Middle-aged",useCase:null},{name:"eleven-labs-adam",gender:"MALE",label:"Adam",useCase:"Narration",age:"Middle-aged",description:"A deep and middle aged voice.",languageCode:"ja-JP",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pNInz6obpgDQGcFmaJgB_Japanese_preview.mp3",elevenLabsId:"pNInz6obpgDQGcFmaJgB",accent:"american",languageAgnostic:!0},{name:"eleven-labs-alice",gender:"FEMALE",label:"Alice",useCase:"News",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"ja-JP",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Xb7hH8MSUJpSbSDYk0k2_Japanese_preview.mp3",elevenLabsId:"Xb7hH8MSUJpSbSDYk0k2",accent:"british",languageAgnostic:!0},{name:"eleven-labs-antoni",gender:"MALE",label:"Antoni",useCase:"Narration",age:"Young",description:"A well-rounded and young voice.",languageCode:"ja-JP",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ErXwobaYiN019PkySvjV_Japanese_preview.mp3",elevenLabsId:"ErXwobaYiN019PkySvjV",accent:"american",languageAgnostic:!0},{name:"eleven-labs-aria",gender:"FEMALE",label:"Aria",useCase:"Social Media",age:"Middle-aged",description:"An expressive and middle-aged voice.",languageCode:"ja-JP",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/9BWtsMINqrJLrRacOk9x_Japanese_preview.mp3",elevenLabsId:"9BWtsMINqrJLrRacOk9x",accent:"american",languageAgnostic:!0},{name:"eleven-labs-arnold",gender:"MALE",label:"Arnold",useCase:"Narration",age:"Middle-aged",description:"A crisp and middle aged voice.",languageCode:"ja-JP",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/VR6AewLTigWG4xSOukaG_Japanese_preview.mp3",elevenLabsId:"VR6AewLTigWG4xSOukaG",accent:"american",languageAgnostic:!0},{name:"eleven-labs-bill",gender:"MALE",label:"Bill",useCase:"Narration",age:"Old",description:"A trustworthy and old voice.",languageCode:"ja-JP",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pqHfZKP75CvOlQylNhV4_Japanese_preview.mp3",elevenLabsId:"pqHfZKP75CvOlQylNhV4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-brian",gender:"MALE",label:"Brian",useCase:"Narration",age:"Middle-aged",description:"A deep and middle-aged voice.",languageCode:"ja-JP",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/nPczCjzI2devNBz1zQrb_Japanese_preview.mp3",elevenLabsId:"nPczCjzI2devNBz1zQrb",accent:"american",languageAgnostic:!0},{name:"eleven-labs-callum",gender:"MALE",label:"Callum",useCase:"Characters",age:"Middle-aged",description:"An intense and middle-aged voice.",languageCode:"ja-JP",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/N2lVS1w4EtoT3dr4eOWO_Japanese_preview.mp3",elevenLabsId:"N2lVS1w4EtoT3dr4eOWO",accent:"american",languageAgnostic:!0},{name:"eleven-labs-charlie",gender:"MALE",label:"Charlie",useCase:"Conversational",age:"Middle-aged",description:"A natural and middle aged voice.",languageCode:"ja-JP",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/IKne3meq5aSn9XLyUdCD_Japanese_preview.mp3",elevenLabsId:"IKne3meq5aSn9XLyUdCD",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-charlotte",gender:"FEMALE",label:"Charlotte",useCase:"Characters",age:"Young",description:"An inviting and young voice.",languageCode:"ja-JP",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XB0fDUnXU5powFXDhCwa_Japanese_preview.mp3",elevenLabsId:"XB0fDUnXU5powFXDhCwa",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-chris",gender:"MALE",label:"Chris",useCase:"Conversational",age:"Middle-aged",description:"A casual and middle-aged voice.",languageCode:"ja-JP",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/iP95p4xoKVk53GoZ742B_Japanese_preview.mp3",elevenLabsId:"iP95p4xoKVk53GoZ742B",accent:"american",languageAgnostic:!0},{name:"eleven-labs-clyde",gender:"MALE",label:"Clyde",useCase:"Characters",age:"Middle-aged",description:"A war veteran and middle-aged voice.",languageCode:"ja-JP",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/2EiwWnXFnvU5JabPnv8n_Japanese_preview.mp3",elevenLabsId:"2EiwWnXFnvU5JabPnv8n",accent:"american",languageAgnostic:!0},{name:"eleven-labs-daniel",gender:"MALE",label:"Daniel",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"ja-JP",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/onwK4e9ZLuTAKqWW03F9_Japanese_preview.mp3",elevenLabsId:"onwK4e9ZLuTAKqWW03F9",accent:"british",languageAgnostic:!0},{name:"eleven-labs-dave",gender:"MALE",label:"Dave",useCase:"Characters",age:"Young",description:"A conversational and young voice.",languageCode:"ja-JP",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CYw3kZ02Hs0563khs1Fj_Japanese_preview.mp3",elevenLabsId:"CYw3kZ02Hs0563khs1Fj",accent:"british-essex",languageAgnostic:!0},{name:"eleven-labs-domi",gender:"FEMALE",label:"Domi",useCase:"Narration",age:"Young",description:"A strong and young voice.",languageCode:"ja-JP",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/AZnzlk1XvdvUeBnXmlld_Japanese_preview.mp3",elevenLabsId:"AZnzlk1XvdvUeBnXmlld",accent:"american",languageAgnostic:!0},{name:"eleven-labs-dorothy",gender:"FEMALE",label:"Dorothy",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"ja-JP",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ThT5KcBeYPX3keUQqHPh_Japanese_preview.mp3",elevenLabsId:"ThT5KcBeYPX3keUQqHPh",accent:"british",languageAgnostic:!0},{name:"eleven-labs-drew",gender:"MALE",label:"Drew",useCase:"News",age:"Middle-aged",description:"A well-rounded and middle-aged voice.",languageCode:"ja-JP",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/29vD33N1CtxCmqQRPOHJ_Japanese_preview.mp3",elevenLabsId:"29vD33N1CtxCmqQRPOHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-emily",gender:"FEMALE",label:"Emily",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"ja-JP",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/LcfcDJNUP1GQjkzn1xUU_Japanese_preview.mp3",elevenLabsId:"LcfcDJNUP1GQjkzn1xUU",accent:"american",languageAgnostic:!0},{name:"eleven-labs-eric",gender:"MALE",label:"Eric",useCase:"Conversational",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"ja-JP",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cjVigY5qzO86Huf0OWal_Japanese_preview.mp3",elevenLabsId:"cjVigY5qzO86Huf0OWal",accent:"american",languageAgnostic:!0},{name:"eleven-labs-ethan",gender:"MALE",label:"Ethan",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"ja-JP",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/g5CIjZEefAph4nQFvHAz_Japanese_preview.mp3",elevenLabsId:"g5CIjZEefAph4nQFvHAz",accent:"american",languageAgnostic:!0},{name:"eleven-labs-fin",gender:"MALE",label:"Fin",useCase:"Characters",age:"Old",description:"A sailor and old voice.",languageCode:"ja-JP",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/D38z5RcWu1voky8WS1ja_Japanese_preview.mp3",elevenLabsId:"D38z5RcWu1voky8WS1ja",accent:"irish",languageAgnostic:!0},{name:"eleven-labs-freya",gender:"FEMALE",label:"Freya",useCase:"Characters",age:"Young",description:"An expressive and young voice.",languageCode:"ja-JP",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jsCqWAovK2LkecY7zXl4_Japanese_preview.mp3",elevenLabsId:"jsCqWAovK2LkecY7zXl4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-george",gender:"MALE",label:"George",useCase:"Narration",age:"Middle-aged",description:"A warm and middle aged voice.",languageCode:"ja-JP",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/JBFqnCBsd6RMkjVDRZzb_Japanese_preview.mp3",elevenLabsId:"JBFqnCBsd6RMkjVDRZzb",accent:"british",languageAgnostic:!0},{name:"eleven-labs-gigi",gender:"FEMALE",label:"Gigi",useCase:"Animation",age:"Young",description:"A childlish and young voice.",languageCode:"ja-JP",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jBpfuIE2acCO8z3wKNLl_Japanese_preview.mp3",elevenLabsId:"jBpfuIE2acCO8z3wKNLl",accent:"american",languageAgnostic:!0},{name:"eleven-labs-giovanni",gender:"MALE",label:"Giovanni",useCase:"Narration",age:"Young",description:"A foreigner and young voice.",languageCode:"ja-JP",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zcAOhNBS3c14rBihAFp1_Japanese_preview.mp3",elevenLabsId:"zcAOhNBS3c14rBihAFp1",accent:"english-italian",languageAgnostic:!0},{name:"eleven-labs-glinda",gender:"FEMALE",label:"Glinda",useCase:"Characters",age:"Middle-aged",description:"A smooth and middle-aged voice.",languageCode:"ja-JP",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/z9fAnlkpzviPz146aGWa_Japanese_preview.mp3",elevenLabsId:"z9fAnlkpzviPz146aGWa",accent:"american",languageAgnostic:!0},{name:"eleven-labs-grace",gender:"FEMALE",label:"Grace",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"ja-JP",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/oWAxZDx7w5VEj9dCyTzz_Japanese_preview.mp3",elevenLabsId:"oWAxZDx7w5VEj9dCyTzz",accent:"american-southern",languageAgnostic:!0},{name:"eleven-labs-harry",gender:"MALE",label:"Harry",useCase:"Characters",age:"Young",description:"An anxious and young voice.",languageCode:"ja-JP",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SOYHLrjzK2X1ezoPC6cr_Japanese_preview.mp3",elevenLabsId:"SOYHLrjzK2X1ezoPC6cr",accent:"american",languageAgnostic:!0},{name:"eleven-labs-james",gender:"MALE",label:"James",useCase:"News",age:"Old",description:"A calm and old voice.",languageCode:"ja-JP",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ZQe5CZNOzWyzPSCn5a3c_Japanese_preview.mp3",elevenLabsId:"ZQe5CZNOzWyzPSCn5a3c",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-jeremy",gender:"MALE",label:"Jeremy",useCase:"Narration",age:"Young",description:"An excited and young voice.",languageCode:"ja-JP",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bVMeCyTHy58xNoL34h3p_Japanese_preview.mp3",elevenLabsId:"bVMeCyTHy58xNoL34h3p",accent:"american-irish",languageAgnostic:!0},{name:"eleven-labs-jessica",gender:"FEMALE",label:"Jessica",useCase:"Conversational",age:"Young",description:"An expressive and young voice.",languageCode:"ja-JP",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cgSgspJ2msm6clMCkdW9_Japanese_preview.mp3",elevenLabsId:"cgSgspJ2msm6clMCkdW9",accent:"american",languageAgnostic:!0},{name:"eleven-labs-jessie",gender:"MALE",label:"Jessie",useCase:"Characters",age:"Old",description:"A raspy and old voice.",languageCode:"ja-JP",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/t0jbNlBVZ17f02VDIeMI_Japanese_preview.mp3",elevenLabsId:"t0jbNlBVZ17f02VDIeMI",accent:"american",languageAgnostic:!0},{name:"eleven-labs-joseph",gender:"MALE",label:"Joseph",useCase:"News",age:"Middle-aged",description:"An articulate and middle-aged voice.",languageCode:"ja-JP",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Zlb1dXrM653N07WRdFW3_Japanese_preview.mp3",elevenLabsId:"Zlb1dXrM653N07WRdFW3",accent:"british",languageAgnostic:!0},{name:"eleven-labs-josh",gender:"MALE",label:"Josh",useCase:"Narration",age:"Young",description:"A deep and young voice.",languageCode:"ja-JP",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TxGEqnHWrfWFTfGW9XjX_Japanese_preview.mp3",elevenLabsId:"TxGEqnHWrfWFTfGW9XjX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-laura",gender:"FEMALE",label:"Laura",useCase:"Social Media",age:"Young",description:"An upbeat and young voice.",languageCode:"ja-JP",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/FGY2WhTYpPnrIDTdsKH5_Japanese_preview.mp3",elevenLabsId:"FGY2WhTYpPnrIDTdsKH5",accent:"american",languageAgnostic:!0},{name:"eleven-labs-liam",gender:"MALE",label:"Liam",useCase:"Narration",age:"Young",description:"An articulate and young voice.",languageCode:"ja-JP",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TX3LPaxmHKxFdv7VOQHJ_Japanese_preview.mp3",elevenLabsId:"TX3LPaxmHKxFdv7VOQHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-lily",gender:"FEMALE",label:"Lily",useCase:"Narration",age:"Middle-aged",description:"A warm and middle-aged voice.",languageCode:"ja-JP",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pFZP5JQG7iQjIQuC4Bku_Japanese_preview.mp3",elevenLabsId:"pFZP5JQG7iQjIQuC4Bku",accent:"british",languageAgnostic:!0},{name:"eleven-labs-matilda",gender:"FEMALE",label:"Matilda",useCase:"Narration",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"ja-JP",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XrExE9yKIg1WjnnlVkGX_Japanese_preview.mp3",elevenLabsId:"XrExE9yKIg1WjnnlVkGX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-michael",gender:"MALE",label:"Michael",useCase:"Narration",age:"Old",description:"A calm and old voice.",languageCode:"ja-JP",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/flq6f7yk4E4fJM5XTYuZ_Japanese_preview.mp3",elevenLabsId:"flq6f7yk4E4fJM5XTYuZ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-mimi",gender:"FEMALE",label:"Mimi",useCase:"Animation",age:"Young",description:"A childish and young voice.",languageCode:"ja-JP",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zrHiDhphv9ZnVXBqCLjz_Japanese_preview.mp3",elevenLabsId:"zrHiDhphv9ZnVXBqCLjz",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-nicole",gender:"FEMALE",label:"Nicole",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"ja-JP",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/piTKgcLEGmPE4e6mEKli_Japanese_preview.mp3",elevenLabsId:"piTKgcLEGmPE4e6mEKli",accent:"american",languageAgnostic:!0},{name:"eleven-labs-patrick",gender:"MALE",label:"Patrick",useCase:"Characters",age:"Middle-aged",description:"A shouty and middle-aged voice.",languageCode:"ja-JP",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ODq5zmih8GrVes37Dizd_Japanese_preview.mp3",elevenLabsId:"ODq5zmih8GrVes37Dizd",accent:"american",languageAgnostic:!0},{name:"eleven-labs-paul",gender:"MALE",label:"Paul",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"ja-JP",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/5Q0t7uMcjvnagumLfvZi_Japanese_preview.mp3",elevenLabsId:"5Q0t7uMcjvnagumLfvZi",accent:"american",languageAgnostic:!0},{name:"eleven-labs-rachel",gender:"FEMALE",label:"Rachel",useCase:"Narration",age:"Young",description:"A calm and young voice.",languageCode:"ja-JP",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/21m00Tcm4TlvDq8ikWAM_Japanese_preview.mp3",elevenLabsId:"21m00Tcm4TlvDq8ikWAM",accent:"american",languageAgnostic:!0},{name:"eleven-labs-river",gender:"NEUTRAL",label:"River",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"ja-JP",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SAz9YHcvj6GT2YYXdXww_Japanese_preview.mp3",elevenLabsId:"SAz9YHcvj6GT2YYXdXww",accent:"american",languageAgnostic:!0},{name:"eleven-labs-roger",gender:"MALE",label:"Roger",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"ja-JP",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CwhRBWXzGAHq8TQ4Fs17_Japanese_preview.mp3",elevenLabsId:"CwhRBWXzGAHq8TQ4Fs17",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sam",gender:"MALE",label:"Sam",useCase:"Narration",age:"Young",description:"A raspy and young voice.",languageCode:"ja-JP",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/yoZ06aMxZJJ28mfd3POQ_Japanese_preview.mp3",elevenLabsId:"yoZ06aMxZJJ28mfd3POQ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sarah",gender:"FEMALE",label:"Sarah",useCase:"News",age:"Young",description:"A soft and young voice.",languageCode:"ja-JP",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/EXAVITQu4vr4xnSDxMaL_Japanese_preview.mp3",elevenLabsId:"EXAVITQu4vr4xnSDxMaL",accent:"american",languageAgnostic:!0},{name:"eleven-labs-serena",gender:"FEMALE",label:"Serena",useCase:"Narration",age:"Middle-aged",description:"A pleasant and middle-aged voice.",languageCode:"ja-JP",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pMsXgVXv3BLzUgSXRplE_Japanese_preview.mp3",elevenLabsId:"pMsXgVXv3BLzUgSXRplE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-thomas",gender:"MALE",label:"Thomas",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"ja-JP",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/GBv7mTt0atIp3Br8iCZE_Japanese_preview.mp3",elevenLabsId:"GBv7mTt0atIp3Br8iCZE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-will",gender:"MALE",label:"Will",useCase:"Social Media",age:"Young",description:"A friendly and young voice.",languageCode:"ja-JP",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bIHbv24MWmeRgasZH58o_Japanese_preview.mp3",elevenLabsId:"bIHbv24MWmeRgasZH58o",accent:"american",languageAgnostic:!0}],Korean:[{elevenLabsId:"uyVNoMrnUku1dZyVEXwD",sampleURL:"https://storage.googleapis.com/eleven-public-prod/database/user/OKaBDsX4AwWWjMaZHBmhCWFvt9N2/voices/uyVNoMrnUku1dZyVEXwD/W55oP1IsLNaNaglJpUZd.mp3",label:"Anna",gender:"FEMALE",age:"Young",accent:"seoul",description:"Young Korean female voice. Great for Narrations.",useCase:"Narrative Story",languageCode:"ko-KR",name:"elevenlabs-Anna Kim-ko-KR-female"},{elevenLabsId:"s07IwTCOrCDCaETjUVjx",sampleURL:"https://storage.googleapis.com/eleven-public-prod/hSWXaUomcSNh92DBdVimNedwBFB2/voices/s07IwTCOrCDCaETjUVjx/b9065609-ce5d-409b-b42d-59a39962f088.mp3",label:"Hyun",gender:"MALE",age:"Middle-aged",accent:"seoul",description:"Cool Korean male voice. Great for Professional corporate PR narration. ",useCase:"Narrative Story",languageCode:"ko-KR",name:"elevenlabs-Hyun Bin-ko-KR-male"},{gender:"MALE",label:"Jinyoung",name:"ko-KR-Neural2-C",languageCode:"ko-KR",sampleURL:"https://cdn-useast1.kapwing.com/static/l5f-Korean_Male.mp3",age:"Middle-aged",useCase:null},{gender:"FEMALE",label:"Minjoo",name:"ko-KR-Neural2-A",languageCode:"ko-KR",sampleURL:"https://cdn-useast1.kapwing.com/static/VSb-Korean_Female.mp3",age:"Middle-aged",useCase:null},{name:"eleven-labs-adam",gender:"MALE",label:"Adam",useCase:"Narration",age:"Middle-aged",description:"A deep and middle aged voice.",languageCode:"ko-KR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pNInz6obpgDQGcFmaJgB_Korean_preview.mp3",elevenLabsId:"pNInz6obpgDQGcFmaJgB",accent:"american",languageAgnostic:!0},{name:"eleven-labs-alice",gender:"FEMALE",label:"Alice",useCase:"News",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"ko-KR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Xb7hH8MSUJpSbSDYk0k2_Korean_preview.mp3",elevenLabsId:"Xb7hH8MSUJpSbSDYk0k2",accent:"british",languageAgnostic:!0},{name:"eleven-labs-antoni",gender:"MALE",label:"Antoni",useCase:"Narration",age:"Young",description:"A well-rounded and young voice.",languageCode:"ko-KR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ErXwobaYiN019PkySvjV_Korean_preview.mp3",elevenLabsId:"ErXwobaYiN019PkySvjV",accent:"american",languageAgnostic:!0},{name:"eleven-labs-aria",gender:"FEMALE",label:"Aria",useCase:"Social Media",age:"Middle-aged",description:"An expressive and middle-aged voice.",languageCode:"ko-KR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/9BWtsMINqrJLrRacOk9x_Korean_preview.mp3",elevenLabsId:"9BWtsMINqrJLrRacOk9x",accent:"american",languageAgnostic:!0},{name:"eleven-labs-arnold",gender:"MALE",label:"Arnold",useCase:"Narration",age:"Middle-aged",description:"A crisp and middle aged voice.",languageCode:"ko-KR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/VR6AewLTigWG4xSOukaG_Korean_preview.mp3",elevenLabsId:"VR6AewLTigWG4xSOukaG",accent:"american",languageAgnostic:!0},{name:"eleven-labs-bill",gender:"MALE",label:"Bill",useCase:"Narration",age:"Old",description:"A trustworthy and old voice.",languageCode:"ko-KR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pqHfZKP75CvOlQylNhV4_Korean_preview.mp3",elevenLabsId:"pqHfZKP75CvOlQylNhV4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-brian",gender:"MALE",label:"Brian",useCase:"Narration",age:"Middle-aged",description:"A deep and middle-aged voice.",languageCode:"ko-KR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/nPczCjzI2devNBz1zQrb_Korean_preview.mp3",elevenLabsId:"nPczCjzI2devNBz1zQrb",accent:"american",languageAgnostic:!0},{name:"eleven-labs-callum",gender:"MALE",label:"Callum",useCase:"Characters",age:"Middle-aged",description:"An intense and middle-aged voice.",languageCode:"ko-KR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/N2lVS1w4EtoT3dr4eOWO_Korean_preview.mp3",elevenLabsId:"N2lVS1w4EtoT3dr4eOWO",accent:"american",languageAgnostic:!0},{name:"eleven-labs-charlie",gender:"MALE",label:"Charlie",useCase:"Conversational",age:"Middle-aged",description:"A natural and middle aged voice.",languageCode:"ko-KR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/IKne3meq5aSn9XLyUdCD_Korean_preview.mp3",elevenLabsId:"IKne3meq5aSn9XLyUdCD",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-charlotte",gender:"FEMALE",label:"Charlotte",useCase:"Characters",age:"Young",description:"An inviting and young voice.",languageCode:"ko-KR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XB0fDUnXU5powFXDhCwa_Korean_preview.mp3",elevenLabsId:"XB0fDUnXU5powFXDhCwa",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-chris",gender:"MALE",label:"Chris",useCase:"Conversational",age:"Middle-aged",description:"A casual and middle-aged voice.",languageCode:"ko-KR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/iP95p4xoKVk53GoZ742B_Korean_preview.mp3",elevenLabsId:"iP95p4xoKVk53GoZ742B",accent:"american",languageAgnostic:!0},{name:"eleven-labs-clyde",gender:"MALE",label:"Clyde",useCase:"Characters",age:"Middle-aged",description:"A war veteran and middle-aged voice.",languageCode:"ko-KR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/2EiwWnXFnvU5JabPnv8n_Korean_preview.mp3",elevenLabsId:"2EiwWnXFnvU5JabPnv8n",accent:"american",languageAgnostic:!0},{name:"eleven-labs-daniel",gender:"MALE",label:"Daniel",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"ko-KR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/onwK4e9ZLuTAKqWW03F9_Korean_preview.mp3",elevenLabsId:"onwK4e9ZLuTAKqWW03F9",accent:"british",languageAgnostic:!0},{name:"eleven-labs-dave",gender:"MALE",label:"Dave",useCase:"Characters",age:"Young",description:"A conversational and young voice.",languageCode:"ko-KR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CYw3kZ02Hs0563khs1Fj_Korean_preview.mp3",elevenLabsId:"CYw3kZ02Hs0563khs1Fj",accent:"british-essex",languageAgnostic:!0},{name:"eleven-labs-domi",gender:"FEMALE",label:"Domi",useCase:"Narration",age:"Young",description:"A strong and young voice.",languageCode:"ko-KR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/AZnzlk1XvdvUeBnXmlld_Korean_preview.mp3",elevenLabsId:"AZnzlk1XvdvUeBnXmlld",accent:"american",languageAgnostic:!0},{name:"eleven-labs-dorothy",gender:"FEMALE",label:"Dorothy",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"ko-KR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ThT5KcBeYPX3keUQqHPh_Korean_preview.mp3",elevenLabsId:"ThT5KcBeYPX3keUQqHPh",accent:"british",languageAgnostic:!0},{name:"eleven-labs-drew",gender:"MALE",label:"Drew",useCase:"News",age:"Middle-aged",description:"A well-rounded and middle-aged voice.",languageCode:"ko-KR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/29vD33N1CtxCmqQRPOHJ_Korean_preview.mp3",elevenLabsId:"29vD33N1CtxCmqQRPOHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-emily",gender:"FEMALE",label:"Emily",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"ko-KR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/LcfcDJNUP1GQjkzn1xUU_Korean_preview.mp3",elevenLabsId:"LcfcDJNUP1GQjkzn1xUU",accent:"american",languageAgnostic:!0},{name:"eleven-labs-eric",gender:"MALE",label:"Eric",useCase:"Conversational",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"ko-KR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cjVigY5qzO86Huf0OWal_Korean_preview.mp3",elevenLabsId:"cjVigY5qzO86Huf0OWal",accent:"american",languageAgnostic:!0},{name:"eleven-labs-ethan",gender:"MALE",label:"Ethan",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"ko-KR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/g5CIjZEefAph4nQFvHAz_Korean_preview.mp3",elevenLabsId:"g5CIjZEefAph4nQFvHAz",accent:"american",languageAgnostic:!0},{name:"eleven-labs-fin",gender:"MALE",label:"Fin",useCase:"Characters",age:"Old",description:"A sailor and old voice.",languageCode:"ko-KR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/D38z5RcWu1voky8WS1ja_Korean_preview.mp3",elevenLabsId:"D38z5RcWu1voky8WS1ja",accent:"irish",languageAgnostic:!0},{name:"eleven-labs-freya",gender:"FEMALE",label:"Freya",useCase:"Characters",age:"Young",description:"An expressive and young voice.",languageCode:"ko-KR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jsCqWAovK2LkecY7zXl4_Korean_preview.mp3",elevenLabsId:"jsCqWAovK2LkecY7zXl4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-george",gender:"MALE",label:"George",useCase:"Narration",age:"Middle-aged",description:"A warm and middle aged voice.",languageCode:"ko-KR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/JBFqnCBsd6RMkjVDRZzb_Korean_preview.mp3",elevenLabsId:"JBFqnCBsd6RMkjVDRZzb",accent:"british",languageAgnostic:!0},{name:"eleven-labs-gigi",gender:"FEMALE",label:"Gigi",useCase:"Animation",age:"Young",description:"A childlish and young voice.",languageCode:"ko-KR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jBpfuIE2acCO8z3wKNLl_Korean_preview.mp3",elevenLabsId:"jBpfuIE2acCO8z3wKNLl",accent:"american",languageAgnostic:!0},{name:"eleven-labs-giovanni",gender:"MALE",label:"Giovanni",useCase:"Narration",age:"Young",description:"A foreigner and young voice.",languageCode:"ko-KR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zcAOhNBS3c14rBihAFp1_Korean_preview.mp3",elevenLabsId:"zcAOhNBS3c14rBihAFp1",accent:"english-italian",languageAgnostic:!0},{name:"eleven-labs-glinda",gender:"FEMALE",label:"Glinda",useCase:"Characters",age:"Middle-aged",description:"A smooth and middle-aged voice.",languageCode:"ko-KR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/z9fAnlkpzviPz146aGWa_Korean_preview.mp3",elevenLabsId:"z9fAnlkpzviPz146aGWa",accent:"american",languageAgnostic:!0},{name:"eleven-labs-grace",gender:"FEMALE",label:"Grace",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"ko-KR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/oWAxZDx7w5VEj9dCyTzz_Korean_preview.mp3",elevenLabsId:"oWAxZDx7w5VEj9dCyTzz",accent:"american-southern",languageAgnostic:!0},{name:"eleven-labs-harry",gender:"MALE",label:"Harry",useCase:"Characters",age:"Young",description:"An anxious and young voice.",languageCode:"ko-KR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SOYHLrjzK2X1ezoPC6cr_Korean_preview.mp3",elevenLabsId:"SOYHLrjzK2X1ezoPC6cr",accent:"american",languageAgnostic:!0},{name:"eleven-labs-james",gender:"MALE",label:"James",useCase:"News",age:"Old",description:"A calm and old voice.",languageCode:"ko-KR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ZQe5CZNOzWyzPSCn5a3c_Korean_preview.mp3",elevenLabsId:"ZQe5CZNOzWyzPSCn5a3c",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-jeremy",gender:"MALE",label:"Jeremy",useCase:"Narration",age:"Young",description:"An excited and young voice.",languageCode:"ko-KR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bVMeCyTHy58xNoL34h3p_Korean_preview.mp3",elevenLabsId:"bVMeCyTHy58xNoL34h3p",accent:"american-irish",languageAgnostic:!0},{name:"eleven-labs-jessica",gender:"FEMALE",label:"Jessica",useCase:"Conversational",age:"Young",description:"An expressive and young voice.",languageCode:"ko-KR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cgSgspJ2msm6clMCkdW9_Korean_preview.mp3",elevenLabsId:"cgSgspJ2msm6clMCkdW9",accent:"american",languageAgnostic:!0},{name:"eleven-labs-jessie",gender:"MALE",label:"Jessie",useCase:"Characters",age:"Old",description:"A raspy and old voice.",languageCode:"ko-KR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/t0jbNlBVZ17f02VDIeMI_Korean_preview.mp3",elevenLabsId:"t0jbNlBVZ17f02VDIeMI",accent:"american",languageAgnostic:!0},{name:"eleven-labs-joseph",gender:"MALE",label:"Joseph",useCase:"News",age:"Middle-aged",description:"An articulate and middle-aged voice.",languageCode:"ko-KR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Zlb1dXrM653N07WRdFW3_Korean_preview.mp3",elevenLabsId:"Zlb1dXrM653N07WRdFW3",accent:"british",languageAgnostic:!0},{name:"eleven-labs-josh",gender:"MALE",label:"Josh",useCase:"Narration",age:"Young",description:"A deep and young voice.",languageCode:"ko-KR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TxGEqnHWrfWFTfGW9XjX_Korean_preview.mp3",elevenLabsId:"TxGEqnHWrfWFTfGW9XjX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-laura",gender:"FEMALE",label:"Laura",useCase:"Social Media",age:"Young",description:"An upbeat and young voice.",languageCode:"ko-KR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/FGY2WhTYpPnrIDTdsKH5_Korean_preview.mp3",elevenLabsId:"FGY2WhTYpPnrIDTdsKH5",accent:"american",languageAgnostic:!0},{name:"eleven-labs-liam",gender:"MALE",label:"Liam",useCase:"Narration",age:"Young",description:"An articulate and young voice.",languageCode:"ko-KR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TX3LPaxmHKxFdv7VOQHJ_Korean_preview.mp3",elevenLabsId:"TX3LPaxmHKxFdv7VOQHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-lily",gender:"FEMALE",label:"Lily",useCase:"Narration",age:"Middle-aged",description:"A warm and middle-aged voice.",languageCode:"ko-KR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pFZP5JQG7iQjIQuC4Bku_Korean_preview.mp3",elevenLabsId:"pFZP5JQG7iQjIQuC4Bku",accent:"british",languageAgnostic:!0},{name:"eleven-labs-matilda",gender:"FEMALE",label:"Matilda",useCase:"Narration",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"ko-KR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XrExE9yKIg1WjnnlVkGX_Korean_preview.mp3",elevenLabsId:"XrExE9yKIg1WjnnlVkGX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-michael",gender:"MALE",label:"Michael",useCase:"Narration",age:"Old",description:"A calm and old voice.",languageCode:"ko-KR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/flq6f7yk4E4fJM5XTYuZ_Korean_preview.mp3",elevenLabsId:"flq6f7yk4E4fJM5XTYuZ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-mimi",gender:"FEMALE",label:"Mimi",useCase:"Animation",age:"Young",description:"A childish and young voice.",languageCode:"ko-KR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zrHiDhphv9ZnVXBqCLjz_Korean_preview.mp3",elevenLabsId:"zrHiDhphv9ZnVXBqCLjz",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-nicole",gender:"FEMALE",label:"Nicole",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"ko-KR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/piTKgcLEGmPE4e6mEKli_Korean_preview.mp3",elevenLabsId:"piTKgcLEGmPE4e6mEKli",accent:"american",languageAgnostic:!0},{name:"eleven-labs-patrick",gender:"MALE",label:"Patrick",useCase:"Characters",age:"Middle-aged",description:"A shouty and middle-aged voice.",languageCode:"ko-KR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ODq5zmih8GrVes37Dizd_Korean_preview.mp3",elevenLabsId:"ODq5zmih8GrVes37Dizd",accent:"american",languageAgnostic:!0},{name:"eleven-labs-paul",gender:"MALE",label:"Paul",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"ko-KR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/5Q0t7uMcjvnagumLfvZi_Korean_preview.mp3",elevenLabsId:"5Q0t7uMcjvnagumLfvZi",accent:"american",languageAgnostic:!0},{name:"eleven-labs-rachel",gender:"FEMALE",label:"Rachel",useCase:"Narration",age:"Young",description:"A calm and young voice.",languageCode:"ko-KR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/21m00Tcm4TlvDq8ikWAM_Korean_preview.mp3",elevenLabsId:"21m00Tcm4TlvDq8ikWAM",accent:"american",languageAgnostic:!0},{name:"eleven-labs-river",gender:"NEUTRAL",label:"River",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"ko-KR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SAz9YHcvj6GT2YYXdXww_Korean_preview.mp3",elevenLabsId:"SAz9YHcvj6GT2YYXdXww",accent:"american",languageAgnostic:!0},{name:"eleven-labs-roger",gender:"MALE",label:"Roger",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"ko-KR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CwhRBWXzGAHq8TQ4Fs17_Korean_preview.mp3",elevenLabsId:"CwhRBWXzGAHq8TQ4Fs17",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sam",gender:"MALE",label:"Sam",useCase:"Narration",age:"Young",description:"A raspy and young voice.",languageCode:"ko-KR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/yoZ06aMxZJJ28mfd3POQ_Korean_preview.mp3",elevenLabsId:"yoZ06aMxZJJ28mfd3POQ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sarah",gender:"FEMALE",label:"Sarah",useCase:"News",age:"Young",description:"A soft and young voice.",languageCode:"ko-KR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/EXAVITQu4vr4xnSDxMaL_Korean_preview.mp3",elevenLabsId:"EXAVITQu4vr4xnSDxMaL",accent:"american",languageAgnostic:!0},{name:"eleven-labs-serena",gender:"FEMALE",label:"Serena",useCase:"Narration",age:"Middle-aged",description:"A pleasant and middle-aged voice.",languageCode:"ko-KR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pMsXgVXv3BLzUgSXRplE_Korean_preview.mp3",elevenLabsId:"pMsXgVXv3BLzUgSXRplE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-thomas",gender:"MALE",label:"Thomas",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"ko-KR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/GBv7mTt0atIp3Br8iCZE_Korean_preview.mp3",elevenLabsId:"GBv7mTt0atIp3Br8iCZE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-will",gender:"MALE",label:"Will",useCase:"Social Media",age:"Young",description:"A friendly and young voice.",languageCode:"ko-KR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bIHbv24MWmeRgasZH58o_Korean_preview.mp3",elevenLabsId:"bIHbv24MWmeRgasZH58o",accent:"american",languageAgnostic:!0}],Latvian:[{name:"lv-LV-Standard-A",label:"Kishore",gender:"MALE",languageCode:"lv-LV",sampleURL:"https://cdn-useast1.kapwing.com/static/bmI-lv-LV-Standard-A.wav",age:"Middle-aged",useCase:null},{name:"lv-LV-Standard-B",label:"Pranav",gender:"MALE",languageCode:"lv-LV",sampleURL:"https://cdn-useast1.kapwing.com/static/5RJ-lv-LV-Standard-B.wav",age:"Middle-aged",useCase:null}],Lithuanian:[{gender:"MALE",label:"Aras",name:"lt-LT-Standard-A",languageCode:"lt-LT",sampleURL:"https://cdn-useast1.kapwing.com/static/9sM-Automatiskai_paverskite_V1.mp3",age:"Middle-aged",useCase:null}],Malay:[{name:"ms-MY-Wavenet-D",label:"Haruun",gender:"MALE",age:"Middle-aged",languageCode:"ms-MY",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-ms-MY-Wavenet-D_preview.mp3"},{name:"ms-MY-Wavenet-C",label:"Kasih",gender:"FEMALE",age:"Middle-aged",languageCode:"ms-MY",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-ms-MY-Wavenet-C_preview.mp3"},{name:"eleven-labs-adam",gender:"MALE",label:"Adam",useCase:"Narration",age:"Middle-aged",description:"A deep and middle aged voice.",languageCode:"ms-MY",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pNInz6obpgDQGcFmaJgB_Malay_preview.mp3",elevenLabsId:"pNInz6obpgDQGcFmaJgB",accent:"american",languageAgnostic:!0},{name:"eleven-labs-alice",gender:"FEMALE",label:"Alice",useCase:"News",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"ms-MY",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Xb7hH8MSUJpSbSDYk0k2_Malay_preview.mp3",elevenLabsId:"Xb7hH8MSUJpSbSDYk0k2",accent:"british",languageAgnostic:!0},{name:"eleven-labs-antoni",gender:"MALE",label:"Antoni",useCase:"Narration",age:"Young",description:"A well-rounded and young voice.",languageCode:"ms-MY",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ErXwobaYiN019PkySvjV_Malay_preview.mp3",elevenLabsId:"ErXwobaYiN019PkySvjV",accent:"american",languageAgnostic:!0},{name:"eleven-labs-aria",gender:"FEMALE",label:"Aria",useCase:"Social Media",age:"Middle-aged",description:"An expressive and middle-aged voice.",languageCode:"ms-MY",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/9BWtsMINqrJLrRacOk9x_Malay_preview.mp3",elevenLabsId:"9BWtsMINqrJLrRacOk9x",accent:"american",languageAgnostic:!0},{name:"eleven-labs-arnold",gender:"MALE",label:"Arnold",useCase:"Narration",age:"Middle-aged",description:"A crisp and middle aged voice.",languageCode:"ms-MY",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/VR6AewLTigWG4xSOukaG_Malay_preview.mp3",elevenLabsId:"VR6AewLTigWG4xSOukaG",accent:"american",languageAgnostic:!0},{name:"eleven-labs-bill",gender:"MALE",label:"Bill",useCase:"Narration",age:"Old",description:"A trustworthy and old voice.",languageCode:"ms-MY",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pqHfZKP75CvOlQylNhV4_Malay_preview.mp3",elevenLabsId:"pqHfZKP75CvOlQylNhV4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-brian",gender:"MALE",label:"Brian",useCase:"Narration",age:"Middle-aged",description:"A deep and middle-aged voice.",languageCode:"ms-MY",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/nPczCjzI2devNBz1zQrb_Malay_preview.mp3",elevenLabsId:"nPczCjzI2devNBz1zQrb",accent:"american",languageAgnostic:!0},{name:"eleven-labs-callum",gender:"MALE",label:"Callum",useCase:"Characters",age:"Middle-aged",description:"An intense and middle-aged voice.",languageCode:"ms-MY",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/N2lVS1w4EtoT3dr4eOWO_Malay_preview.mp3",elevenLabsId:"N2lVS1w4EtoT3dr4eOWO",accent:"american",languageAgnostic:!0},{name:"eleven-labs-charlie",gender:"MALE",label:"Charlie",useCase:"Conversational",age:"Middle-aged",description:"A natural and middle aged voice.",languageCode:"ms-MY",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/IKne3meq5aSn9XLyUdCD_Malay_preview.mp3",elevenLabsId:"IKne3meq5aSn9XLyUdCD",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-charlotte",gender:"FEMALE",label:"Charlotte",useCase:"Characters",age:"Young",description:"An inviting and young voice.",languageCode:"ms-MY",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XB0fDUnXU5powFXDhCwa_Malay_preview.mp3",elevenLabsId:"XB0fDUnXU5powFXDhCwa",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-chris",gender:"MALE",label:"Chris",useCase:"Conversational",age:"Middle-aged",description:"A casual and middle-aged voice.",languageCode:"ms-MY",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/iP95p4xoKVk53GoZ742B_Malay_preview.mp3",elevenLabsId:"iP95p4xoKVk53GoZ742B",accent:"american",languageAgnostic:!0},{name:"eleven-labs-clyde",gender:"MALE",label:"Clyde",useCase:"Characters",age:"Middle-aged",description:"A war veteran and middle-aged voice.",languageCode:"ms-MY",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/2EiwWnXFnvU5JabPnv8n_Malay_preview.mp3",elevenLabsId:"2EiwWnXFnvU5JabPnv8n",accent:"american",languageAgnostic:!0},{name:"eleven-labs-daniel",gender:"MALE",label:"Daniel",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"ms-MY",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/onwK4e9ZLuTAKqWW03F9_Malay_preview.mp3",elevenLabsId:"onwK4e9ZLuTAKqWW03F9",accent:"british",languageAgnostic:!0},{name:"eleven-labs-dave",gender:"MALE",label:"Dave",useCase:"Characters",age:"Young",description:"A conversational and young voice.",languageCode:"ms-MY",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CYw3kZ02Hs0563khs1Fj_Malay_preview.mp3",elevenLabsId:"CYw3kZ02Hs0563khs1Fj",accent:"british-essex",languageAgnostic:!0},{name:"eleven-labs-domi",gender:"FEMALE",label:"Domi",useCase:"Narration",age:"Young",description:"A strong and young voice.",languageCode:"ms-MY",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/AZnzlk1XvdvUeBnXmlld_Malay_preview.mp3",elevenLabsId:"AZnzlk1XvdvUeBnXmlld",accent:"american",languageAgnostic:!0},{name:"eleven-labs-dorothy",gender:"FEMALE",label:"Dorothy",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"ms-MY",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ThT5KcBeYPX3keUQqHPh_Malay_preview.mp3",elevenLabsId:"ThT5KcBeYPX3keUQqHPh",accent:"british",languageAgnostic:!0},{name:"eleven-labs-drew",gender:"MALE",label:"Drew",useCase:"News",age:"Middle-aged",description:"A well-rounded and middle-aged voice.",languageCode:"ms-MY",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/29vD33N1CtxCmqQRPOHJ_Malay_preview.mp3",elevenLabsId:"29vD33N1CtxCmqQRPOHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-emily",gender:"FEMALE",label:"Emily",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"ms-MY",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/LcfcDJNUP1GQjkzn1xUU_Malay_preview.mp3",elevenLabsId:"LcfcDJNUP1GQjkzn1xUU",accent:"american",languageAgnostic:!0},{name:"eleven-labs-eric",gender:"MALE",label:"Eric",useCase:"Conversational",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"ms-MY",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cjVigY5qzO86Huf0OWal_Malay_preview.mp3",elevenLabsId:"cjVigY5qzO86Huf0OWal",accent:"american",languageAgnostic:!0},{name:"eleven-labs-ethan",gender:"MALE",label:"Ethan",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"ms-MY",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/g5CIjZEefAph4nQFvHAz_Malay_preview.mp3",elevenLabsId:"g5CIjZEefAph4nQFvHAz",accent:"american",languageAgnostic:!0},{name:"eleven-labs-fin",gender:"MALE",label:"Fin",useCase:"Characters",age:"Old",description:"A sailor and old voice.",languageCode:"ms-MY",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/D38z5RcWu1voky8WS1ja_Malay_preview.mp3",elevenLabsId:"D38z5RcWu1voky8WS1ja",accent:"irish",languageAgnostic:!0},{name:"eleven-labs-freya",gender:"FEMALE",label:"Freya",useCase:"Characters",age:"Young",description:"An expressive and young voice.",languageCode:"ms-MY",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jsCqWAovK2LkecY7zXl4_Malay_preview.mp3",elevenLabsId:"jsCqWAovK2LkecY7zXl4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-george",gender:"MALE",label:"George",useCase:"Narration",age:"Middle-aged",description:"A warm and middle aged voice.",languageCode:"ms-MY",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/JBFqnCBsd6RMkjVDRZzb_Malay_preview.mp3",elevenLabsId:"JBFqnCBsd6RMkjVDRZzb",accent:"british",languageAgnostic:!0},{name:"eleven-labs-gigi",gender:"FEMALE",label:"Gigi",useCase:"Animation",age:"Young",description:"A childlish and young voice.",languageCode:"ms-MY",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jBpfuIE2acCO8z3wKNLl_Malay_preview.mp3",elevenLabsId:"jBpfuIE2acCO8z3wKNLl",accent:"american",languageAgnostic:!0},{name:"eleven-labs-giovanni",gender:"MALE",label:"Giovanni",useCase:"Narration",age:"Young",description:"A foreigner and young voice.",languageCode:"ms-MY",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zcAOhNBS3c14rBihAFp1_Malay_preview.mp3",elevenLabsId:"zcAOhNBS3c14rBihAFp1",accent:"english-italian",languageAgnostic:!0},{name:"eleven-labs-glinda",gender:"FEMALE",label:"Glinda",useCase:"Characters",age:"Middle-aged",description:"A smooth and middle-aged voice.",languageCode:"ms-MY",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/z9fAnlkpzviPz146aGWa_Malay_preview.mp3",elevenLabsId:"z9fAnlkpzviPz146aGWa",accent:"american",languageAgnostic:!0},{name:"eleven-labs-grace",gender:"FEMALE",label:"Grace",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"ms-MY",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/oWAxZDx7w5VEj9dCyTzz_Malay_preview.mp3",elevenLabsId:"oWAxZDx7w5VEj9dCyTzz",accent:"american-southern",languageAgnostic:!0},{name:"eleven-labs-harry",gender:"MALE",label:"Harry",useCase:"Characters",age:"Young",description:"An anxious and young voice.",languageCode:"ms-MY",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SOYHLrjzK2X1ezoPC6cr_Malay_preview.mp3",elevenLabsId:"SOYHLrjzK2X1ezoPC6cr",accent:"american",languageAgnostic:!0},{name:"eleven-labs-james",gender:"MALE",label:"James",useCase:"News",age:"Old",description:"A calm and old voice.",languageCode:"ms-MY",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ZQe5CZNOzWyzPSCn5a3c_Malay_preview.mp3",elevenLabsId:"ZQe5CZNOzWyzPSCn5a3c",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-jeremy",gender:"MALE",label:"Jeremy",useCase:"Narration",age:"Young",description:"An excited and young voice.",languageCode:"ms-MY",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bVMeCyTHy58xNoL34h3p_Malay_preview.mp3",elevenLabsId:"bVMeCyTHy58xNoL34h3p",accent:"american-irish",languageAgnostic:!0},{name:"eleven-labs-jessica",gender:"FEMALE",label:"Jessica",useCase:"Conversational",age:"Young",description:"An expressive and young voice.",languageCode:"ms-MY",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cgSgspJ2msm6clMCkdW9_Malay_preview.mp3",elevenLabsId:"cgSgspJ2msm6clMCkdW9",accent:"american",languageAgnostic:!0},{name:"eleven-labs-jessie",gender:"MALE",label:"Jessie",useCase:"Characters",age:"Old",description:"A raspy and old voice.",languageCode:"ms-MY",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/t0jbNlBVZ17f02VDIeMI_Malay_preview.mp3",elevenLabsId:"t0jbNlBVZ17f02VDIeMI",accent:"american",languageAgnostic:!0},{name:"eleven-labs-joseph",gender:"MALE",label:"Joseph",useCase:"News",age:"Middle-aged",description:"An articulate and middle-aged voice.",languageCode:"ms-MY",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Zlb1dXrM653N07WRdFW3_Malay_preview.mp3",elevenLabsId:"Zlb1dXrM653N07WRdFW3",accent:"british",languageAgnostic:!0},{name:"eleven-labs-josh",gender:"MALE",label:"Josh",useCase:"Narration",age:"Young",description:"A deep and young voice.",languageCode:"ms-MY",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TxGEqnHWrfWFTfGW9XjX_Malay_preview.mp3",elevenLabsId:"TxGEqnHWrfWFTfGW9XjX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-laura",gender:"FEMALE",label:"Laura",useCase:"Social Media",age:"Young",description:"An upbeat and young voice.",languageCode:"ms-MY",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/FGY2WhTYpPnrIDTdsKH5_Malay_preview.mp3",elevenLabsId:"FGY2WhTYpPnrIDTdsKH5",accent:"american",languageAgnostic:!0},{name:"eleven-labs-liam",gender:"MALE",label:"Liam",useCase:"Narration",age:"Young",description:"An articulate and young voice.",languageCode:"ms-MY",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TX3LPaxmHKxFdv7VOQHJ_Malay_preview.mp3",elevenLabsId:"TX3LPaxmHKxFdv7VOQHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-lily",gender:"FEMALE",label:"Lily",useCase:"Narration",age:"Middle-aged",description:"A warm and middle-aged voice.",languageCode:"ms-MY",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pFZP5JQG7iQjIQuC4Bku_Malay_preview.mp3",elevenLabsId:"pFZP5JQG7iQjIQuC4Bku",accent:"british",languageAgnostic:!0},{name:"eleven-labs-matilda",gender:"FEMALE",label:"Matilda",useCase:"Narration",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"ms-MY",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XrExE9yKIg1WjnnlVkGX_Malay_preview.mp3",elevenLabsId:"XrExE9yKIg1WjnnlVkGX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-michael",gender:"MALE",label:"Michael",useCase:"Narration",age:"Old",description:"A calm and old voice.",languageCode:"ms-MY",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/flq6f7yk4E4fJM5XTYuZ_Malay_preview.mp3",elevenLabsId:"flq6f7yk4E4fJM5XTYuZ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-mimi",gender:"FEMALE",label:"Mimi",useCase:"Animation",age:"Young",description:"A childish and young voice.",languageCode:"ms-MY",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zrHiDhphv9ZnVXBqCLjz_Malay_preview.mp3",elevenLabsId:"zrHiDhphv9ZnVXBqCLjz",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-nicole",gender:"FEMALE",label:"Nicole",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"ms-MY",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/piTKgcLEGmPE4e6mEKli_Malay_preview.mp3",elevenLabsId:"piTKgcLEGmPE4e6mEKli",accent:"american",languageAgnostic:!0},{name:"eleven-labs-patrick",gender:"MALE",label:"Patrick",useCase:"Characters",age:"Middle-aged",description:"A shouty and middle-aged voice.",languageCode:"ms-MY",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ODq5zmih8GrVes37Dizd_Malay_preview.mp3",elevenLabsId:"ODq5zmih8GrVes37Dizd",accent:"american",languageAgnostic:!0},{name:"eleven-labs-paul",gender:"MALE",label:"Paul",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"ms-MY",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/5Q0t7uMcjvnagumLfvZi_Malay_preview.mp3",elevenLabsId:"5Q0t7uMcjvnagumLfvZi",accent:"american",languageAgnostic:!0},{name:"eleven-labs-rachel",gender:"FEMALE",label:"Rachel",useCase:"Narration",age:"Young",description:"A calm and young voice.",languageCode:"ms-MY",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/21m00Tcm4TlvDq8ikWAM_Malay_preview.mp3",elevenLabsId:"21m00Tcm4TlvDq8ikWAM",accent:"american",languageAgnostic:!0},{name:"eleven-labs-river",gender:"NEUTRAL",label:"River",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"ms-MY",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SAz9YHcvj6GT2YYXdXww_Malay_preview.mp3",elevenLabsId:"SAz9YHcvj6GT2YYXdXww",accent:"american",languageAgnostic:!0},{name:"eleven-labs-roger",gender:"MALE",label:"Roger",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"ms-MY",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CwhRBWXzGAHq8TQ4Fs17_Malay_preview.mp3",elevenLabsId:"CwhRBWXzGAHq8TQ4Fs17",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sam",gender:"MALE",label:"Sam",useCase:"Narration",age:"Young",description:"A raspy and young voice.",languageCode:"ms-MY",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/yoZ06aMxZJJ28mfd3POQ_Malay_preview.mp3",elevenLabsId:"yoZ06aMxZJJ28mfd3POQ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sarah",gender:"FEMALE",label:"Sarah",useCase:"News",age:"Young",description:"A soft and young voice.",languageCode:"ms-MY",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/EXAVITQu4vr4xnSDxMaL_Malay_preview.mp3",elevenLabsId:"EXAVITQu4vr4xnSDxMaL",accent:"american",languageAgnostic:!0},{name:"eleven-labs-serena",gender:"FEMALE",label:"Serena",useCase:"Narration",age:"Middle-aged",description:"A pleasant and middle-aged voice.",languageCode:"ms-MY",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pMsXgVXv3BLzUgSXRplE_Malay_preview.mp3",elevenLabsId:"pMsXgVXv3BLzUgSXRplE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-thomas",gender:"MALE",label:"Thomas",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"ms-MY",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/GBv7mTt0atIp3Br8iCZE_Malay_preview.mp3",elevenLabsId:"GBv7mTt0atIp3Br8iCZE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-will",gender:"MALE",label:"Will",useCase:"Social Media",age:"Young",description:"A friendly and young voice.",languageCode:"ms-MY",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bIHbv24MWmeRgasZH58o_Malay_preview.mp3",elevenLabsId:"bIHbv24MWmeRgasZH58o",accent:"american",languageAgnostic:!0}],Malayalam:[{name:"ml-IN-Wavenet-C",label:"Aamiya",gender:"FEMALE",age:"Middle-aged",languageCode:"ml-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-ml-IN-Wavenet-C_preview.mp3"},{name:"ml-IN-Wavenet-D",label:"Nikhil",gender:"MALE",age:"Middle-aged",languageCode:"ml-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-ml-IN-Wavenet-D_preview.mp3"}],Marathi:[{name:"mr-IN-Wavenet-B",label:"Rohan",gender:"MALE",languageCode:"mr-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-mr-IN-Wavenet-B_preview.mp3",age:"Middle-aged",useCase:null},{name:"mr-IN-Wavenet-A",label:"Snehal",gender:"FEMALE",languageCode:"mr-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-mr-IN-Wavenet-A_preview.mp3",age:"Middle-aged",useCase:null}],Norwegian:[{name:"nb-NO-Wavenet-E",label:"Astrid",gender:"FEMALE",age:"Middle-aged",languageCode:"nb-NO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-nb-NO-Wavenet-E_preview.mp3"},{name:"nb-NO-Wavenet-B",label:"Henrik",gender:"MALE",languageCode:"nb-NO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-nb-NO-Wavenet-B_preview.mp3",age:"Middle-aged",useCase:null},{name:"nb-NO-Wavenet-A",label:"Ingrid",gender:"FEMALE",languageCode:"nb-NO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-nb-NO-Wavenet-A_preview.mp3",age:"Middle-aged",useCase:null},{name:"nb-NO-Wavenet-D",label:"Ola",gender:"MALE",age:"Middle-aged",languageCode:"nb-NO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-nb-NO-Wavenet-D_preview.mp3"},{name:"eleven-labs-adam",gender:"MALE",label:"Adam",useCase:"Narration",age:"Middle-aged",description:"A deep and middle aged voice.",languageCode:"no-NO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pNInz6obpgDQGcFmaJgB_Norwegian_preview.mp3",elevenLabsId:"pNInz6obpgDQGcFmaJgB",accent:"american",languageAgnostic:!0},{name:"eleven-labs-alice",gender:"FEMALE",label:"Alice",useCase:"News",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"no-NO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Xb7hH8MSUJpSbSDYk0k2_Norwegian_preview.mp3",elevenLabsId:"Xb7hH8MSUJpSbSDYk0k2",accent:"british",languageAgnostic:!0},{name:"eleven-labs-antoni",gender:"MALE",label:"Antoni",useCase:"Narration",age:"Young",description:"A well-rounded and young voice.",languageCode:"no-NO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ErXwobaYiN019PkySvjV_Norwegian_preview.mp3",elevenLabsId:"ErXwobaYiN019PkySvjV",accent:"american",languageAgnostic:!0},{name:"eleven-labs-aria",gender:"FEMALE",label:"Aria",useCase:"Social Media",age:"Middle-aged",description:"An expressive and middle-aged voice.",languageCode:"no-NO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/9BWtsMINqrJLrRacOk9x_Norwegian_preview.mp3",elevenLabsId:"9BWtsMINqrJLrRacOk9x",accent:"american",languageAgnostic:!0},{name:"eleven-labs-arnold",gender:"MALE",label:"Arnold",useCase:"Narration",age:"Middle-aged",description:"A crisp and middle aged voice.",languageCode:"no-NO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/VR6AewLTigWG4xSOukaG_Norwegian_preview.mp3",elevenLabsId:"VR6AewLTigWG4xSOukaG",accent:"american",languageAgnostic:!0},{name:"eleven-labs-bill",gender:"MALE",label:"Bill",useCase:"Narration",age:"Old",description:"A trustworthy and old voice.",languageCode:"no-NO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pqHfZKP75CvOlQylNhV4_Norwegian_preview.mp3",elevenLabsId:"pqHfZKP75CvOlQylNhV4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-brian",gender:"MALE",label:"Brian",useCase:"Narration",age:"Middle-aged",description:"A deep and middle-aged voice.",languageCode:"no-NO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/nPczCjzI2devNBz1zQrb_Norwegian_preview.mp3",elevenLabsId:"nPczCjzI2devNBz1zQrb",accent:"american",languageAgnostic:!0},{name:"eleven-labs-callum",gender:"MALE",label:"Callum",useCase:"Characters",age:"Middle-aged",description:"An intense and middle-aged voice.",languageCode:"no-NO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/N2lVS1w4EtoT3dr4eOWO_Norwegian_preview.mp3",elevenLabsId:"N2lVS1w4EtoT3dr4eOWO",accent:"american",languageAgnostic:!0},{name:"eleven-labs-charlie",gender:"MALE",label:"Charlie",useCase:"Conversational",age:"Middle-aged",description:"A natural and middle aged voice.",languageCode:"no-NO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/IKne3meq5aSn9XLyUdCD_Norwegian_preview.mp3",elevenLabsId:"IKne3meq5aSn9XLyUdCD",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-charlotte",gender:"FEMALE",label:"Charlotte",useCase:"Characters",age:"Young",description:"An inviting and young voice.",languageCode:"no-NO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XB0fDUnXU5powFXDhCwa_Norwegian_preview.mp3",elevenLabsId:"XB0fDUnXU5powFXDhCwa",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-chris",gender:"MALE",label:"Chris",useCase:"Conversational",age:"Middle-aged",description:"A casual and middle-aged voice.",languageCode:"no-NO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/iP95p4xoKVk53GoZ742B_Norwegian_preview.mp3",elevenLabsId:"iP95p4xoKVk53GoZ742B",accent:"american",languageAgnostic:!0},{name:"eleven-labs-clyde",gender:"MALE",label:"Clyde",useCase:"Characters",age:"Middle-aged",description:"A war veteran and middle-aged voice.",languageCode:"no-NO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/2EiwWnXFnvU5JabPnv8n_Norwegian_preview.mp3",elevenLabsId:"2EiwWnXFnvU5JabPnv8n",accent:"american",languageAgnostic:!0},{name:"eleven-labs-daniel",gender:"MALE",label:"Daniel",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"no-NO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/onwK4e9ZLuTAKqWW03F9_Norwegian_preview.mp3",elevenLabsId:"onwK4e9ZLuTAKqWW03F9",accent:"british",languageAgnostic:!0},{name:"eleven-labs-dave",gender:"MALE",label:"Dave",useCase:"Characters",age:"Young",description:"A conversational and young voice.",languageCode:"no-NO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CYw3kZ02Hs0563khs1Fj_Norwegian_preview.mp3",elevenLabsId:"CYw3kZ02Hs0563khs1Fj",accent:"british-essex",languageAgnostic:!0},{name:"eleven-labs-domi",gender:"FEMALE",label:"Domi",useCase:"Narration",age:"Young",description:"A strong and young voice.",languageCode:"no-NO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/AZnzlk1XvdvUeBnXmlld_Norwegian_preview.mp3",elevenLabsId:"AZnzlk1XvdvUeBnXmlld",accent:"american",languageAgnostic:!0},{name:"eleven-labs-dorothy",gender:"FEMALE",label:"Dorothy",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"no-NO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ThT5KcBeYPX3keUQqHPh_Norwegian_preview.mp3",elevenLabsId:"ThT5KcBeYPX3keUQqHPh",accent:"british",languageAgnostic:!0},{name:"eleven-labs-drew",gender:"MALE",label:"Drew",useCase:"News",age:"Middle-aged",description:"A well-rounded and middle-aged voice.",languageCode:"no-NO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/29vD33N1CtxCmqQRPOHJ_Norwegian_preview.mp3",elevenLabsId:"29vD33N1CtxCmqQRPOHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-emily",gender:"FEMALE",label:"Emily",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"no-NO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/LcfcDJNUP1GQjkzn1xUU_Norwegian_preview.mp3",elevenLabsId:"LcfcDJNUP1GQjkzn1xUU",accent:"american",languageAgnostic:!0},{name:"eleven-labs-eric",gender:"MALE",label:"Eric",useCase:"Conversational",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"no-NO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cjVigY5qzO86Huf0OWal_Norwegian_preview.mp3",elevenLabsId:"cjVigY5qzO86Huf0OWal",accent:"american",languageAgnostic:!0},{name:"eleven-labs-ethan",gender:"MALE",label:"Ethan",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"no-NO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/g5CIjZEefAph4nQFvHAz_Norwegian_preview.mp3",elevenLabsId:"g5CIjZEefAph4nQFvHAz",accent:"american",languageAgnostic:!0},{name:"eleven-labs-fin",gender:"MALE",label:"Fin",useCase:"Characters",age:"Old",description:"A sailor and old voice.",languageCode:"no-NO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/D38z5RcWu1voky8WS1ja_Norwegian_preview.mp3",elevenLabsId:"D38z5RcWu1voky8WS1ja",accent:"irish",languageAgnostic:!0},{name:"eleven-labs-freya",gender:"FEMALE",label:"Freya",useCase:"Characters",age:"Young",description:"An expressive and young voice.",languageCode:"no-NO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jsCqWAovK2LkecY7zXl4_Norwegian_preview.mp3",elevenLabsId:"jsCqWAovK2LkecY7zXl4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-george",gender:"MALE",label:"George",useCase:"Narration",age:"Middle-aged",description:"A warm and middle aged voice.",languageCode:"no-NO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/JBFqnCBsd6RMkjVDRZzb_Norwegian_preview.mp3",elevenLabsId:"JBFqnCBsd6RMkjVDRZzb",accent:"british",languageAgnostic:!0},{name:"eleven-labs-gigi",gender:"FEMALE",label:"Gigi",useCase:"Animation",age:"Young",description:"A childlish and young voice.",languageCode:"no-NO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jBpfuIE2acCO8z3wKNLl_Norwegian_preview.mp3",elevenLabsId:"jBpfuIE2acCO8z3wKNLl",accent:"american",languageAgnostic:!0},{name:"eleven-labs-giovanni",gender:"MALE",label:"Giovanni",useCase:"Narration",age:"Young",description:"A foreigner and young voice.",languageCode:"no-NO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zcAOhNBS3c14rBihAFp1_Norwegian_preview.mp3",elevenLabsId:"zcAOhNBS3c14rBihAFp1",accent:"english-italian",languageAgnostic:!0},{name:"eleven-labs-glinda",gender:"FEMALE",label:"Glinda",useCase:"Characters",age:"Middle-aged",description:"A smooth and middle-aged voice.",languageCode:"no-NO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/z9fAnlkpzviPz146aGWa_Norwegian_preview.mp3",elevenLabsId:"z9fAnlkpzviPz146aGWa",accent:"american",languageAgnostic:!0},{name:"eleven-labs-grace",gender:"FEMALE",label:"Grace",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"no-NO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/oWAxZDx7w5VEj9dCyTzz_Norwegian_preview.mp3",elevenLabsId:"oWAxZDx7w5VEj9dCyTzz",accent:"american-southern",languageAgnostic:!0},{name:"eleven-labs-harry",gender:"MALE",label:"Harry",useCase:"Characters",age:"Young",description:"An anxious and young voice.",languageCode:"no-NO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SOYHLrjzK2X1ezoPC6cr_Norwegian_preview.mp3",elevenLabsId:"SOYHLrjzK2X1ezoPC6cr",accent:"american",languageAgnostic:!0},{name:"eleven-labs-james",gender:"MALE",label:"James",useCase:"News",age:"Old",description:"A calm and old voice.",languageCode:"no-NO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ZQe5CZNOzWyzPSCn5a3c_Norwegian_preview.mp3",elevenLabsId:"ZQe5CZNOzWyzPSCn5a3c",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-jeremy",gender:"MALE",label:"Jeremy",useCase:"Narration",age:"Young",description:"An excited and young voice.",languageCode:"no-NO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bVMeCyTHy58xNoL34h3p_Norwegian_preview.mp3",elevenLabsId:"bVMeCyTHy58xNoL34h3p",accent:"american-irish",languageAgnostic:!0},{name:"eleven-labs-jessica",gender:"FEMALE",label:"Jessica",useCase:"Conversational",age:"Young",description:"An expressive and young voice.",languageCode:"no-NO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cgSgspJ2msm6clMCkdW9_Norwegian_preview.mp3",elevenLabsId:"cgSgspJ2msm6clMCkdW9",accent:"american",languageAgnostic:!0},{name:"eleven-labs-jessie",gender:"MALE",label:"Jessie",useCase:"Characters",age:"Old",description:"A raspy and old voice.",languageCode:"no-NO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/t0jbNlBVZ17f02VDIeMI_Norwegian_preview.mp3",elevenLabsId:"t0jbNlBVZ17f02VDIeMI",accent:"american",languageAgnostic:!0},{name:"eleven-labs-joseph",gender:"MALE",label:"Joseph",useCase:"News",age:"Middle-aged",description:"An articulate and middle-aged voice.",languageCode:"no-NO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Zlb1dXrM653N07WRdFW3_Norwegian_preview.mp3",elevenLabsId:"Zlb1dXrM653N07WRdFW3",accent:"british",languageAgnostic:!0},{name:"eleven-labs-josh",gender:"MALE",label:"Josh",useCase:"Narration",age:"Young",description:"A deep and young voice.",languageCode:"no-NO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TxGEqnHWrfWFTfGW9XjX_Norwegian_preview.mp3",elevenLabsId:"TxGEqnHWrfWFTfGW9XjX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-laura",gender:"FEMALE",label:"Laura",useCase:"Social Media",age:"Young",description:"An upbeat and young voice.",languageCode:"no-NO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/FGY2WhTYpPnrIDTdsKH5_Norwegian_preview.mp3",elevenLabsId:"FGY2WhTYpPnrIDTdsKH5",accent:"american",languageAgnostic:!0},{name:"eleven-labs-liam",gender:"MALE",label:"Liam",useCase:"Narration",age:"Young",description:"An articulate and young voice.",languageCode:"no-NO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TX3LPaxmHKxFdv7VOQHJ_Norwegian_preview.mp3",elevenLabsId:"TX3LPaxmHKxFdv7VOQHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-lily",gender:"FEMALE",label:"Lily",useCase:"Narration",age:"Middle-aged",description:"A warm and middle-aged voice.",languageCode:"no-NO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pFZP5JQG7iQjIQuC4Bku_Norwegian_preview.mp3",elevenLabsId:"pFZP5JQG7iQjIQuC4Bku",accent:"british",languageAgnostic:!0},{name:"eleven-labs-matilda",gender:"FEMALE",label:"Matilda",useCase:"Narration",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"no-NO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XrExE9yKIg1WjnnlVkGX_Norwegian_preview.mp3",elevenLabsId:"XrExE9yKIg1WjnnlVkGX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-michael",gender:"MALE",label:"Michael",useCase:"Narration",age:"Old",description:"A calm and old voice.",languageCode:"no-NO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/flq6f7yk4E4fJM5XTYuZ_Norwegian_preview.mp3",elevenLabsId:"flq6f7yk4E4fJM5XTYuZ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-mimi",gender:"FEMALE",label:"Mimi",useCase:"Animation",age:"Young",description:"A childish and young voice.",languageCode:"no-NO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zrHiDhphv9ZnVXBqCLjz_Norwegian_preview.mp3",elevenLabsId:"zrHiDhphv9ZnVXBqCLjz",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-nicole",gender:"FEMALE",label:"Nicole",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"no-NO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/piTKgcLEGmPE4e6mEKli_Norwegian_preview.mp3",elevenLabsId:"piTKgcLEGmPE4e6mEKli",accent:"american",languageAgnostic:!0},{name:"eleven-labs-patrick",gender:"MALE",label:"Patrick",useCase:"Characters",age:"Middle-aged",description:"A shouty and middle-aged voice.",languageCode:"no-NO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ODq5zmih8GrVes37Dizd_Norwegian_preview.mp3",elevenLabsId:"ODq5zmih8GrVes37Dizd",accent:"american",languageAgnostic:!0},{name:"eleven-labs-paul",gender:"MALE",label:"Paul",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"no-NO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/5Q0t7uMcjvnagumLfvZi_Norwegian_preview.mp3",elevenLabsId:"5Q0t7uMcjvnagumLfvZi",accent:"american",languageAgnostic:!0},{name:"eleven-labs-rachel",gender:"FEMALE",label:"Rachel",useCase:"Narration",age:"Young",description:"A calm and young voice.",languageCode:"no-NO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/21m00Tcm4TlvDq8ikWAM_Norwegian_preview.mp3",elevenLabsId:"21m00Tcm4TlvDq8ikWAM",accent:"american",languageAgnostic:!0},{name:"eleven-labs-river",gender:"NEUTRAL",label:"River",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"no-NO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SAz9YHcvj6GT2YYXdXww_Norwegian_preview.mp3",elevenLabsId:"SAz9YHcvj6GT2YYXdXww",accent:"american",languageAgnostic:!0},{name:"eleven-labs-roger",gender:"MALE",label:"Roger",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"no-NO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CwhRBWXzGAHq8TQ4Fs17_Norwegian_preview.mp3",elevenLabsId:"CwhRBWXzGAHq8TQ4Fs17",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sam",gender:"MALE",label:"Sam",useCase:"Narration",age:"Young",description:"A raspy and young voice.",languageCode:"no-NO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/yoZ06aMxZJJ28mfd3POQ_Norwegian_preview.mp3",elevenLabsId:"yoZ06aMxZJJ28mfd3POQ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sarah",gender:"FEMALE",label:"Sarah",useCase:"News",age:"Young",description:"A soft and young voice.",languageCode:"no-NO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/EXAVITQu4vr4xnSDxMaL_Norwegian_preview.mp3",elevenLabsId:"EXAVITQu4vr4xnSDxMaL",accent:"american",languageAgnostic:!0},{name:"eleven-labs-serena",gender:"FEMALE",label:"Serena",useCase:"Narration",age:"Middle-aged",description:"A pleasant and middle-aged voice.",languageCode:"no-NO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pMsXgVXv3BLzUgSXRplE_Norwegian_preview.mp3",elevenLabsId:"pMsXgVXv3BLzUgSXRplE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-thomas",gender:"MALE",label:"Thomas",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"no-NO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/GBv7mTt0atIp3Br8iCZE_Norwegian_preview.mp3",elevenLabsId:"GBv7mTt0atIp3Br8iCZE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-will",gender:"MALE",label:"Will",useCase:"Social Media",age:"Young",description:"A friendly and young voice.",languageCode:"no-NO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bIHbv24MWmeRgasZH58o_Norwegian_preview.mp3",elevenLabsId:"bIHbv24MWmeRgasZH58o",accent:"american",languageAgnostic:!0}],Polish:[{elevenLabsId:"zzBTsLBFM6AOJtkr1e9b",sampleURL:"https://storage.googleapis.com/eleven-public-prod/custom/voices/zzBTsLBFM6AOJtkr1e9b/jsLaAOqZnKHhKX1sJTWl.mp3",label:"Pawel",gender:"MALE",age:"Middle-aged",accent:"standard",description:"Middle aged male Polish Voice. Perfect for Narrations & Storytelling.",useCase:"Narrative Story",languageCode:"pl-PL",name:"elevenlabs-Pawel Pro - Polish-pl-PL-male"},{name:"pl-PL-Wavenet-B",label:"Filip",gender:"MALE",age:"Middle-aged",languageCode:"pl-PL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-pl-PL-Wavenet-B_preview.mp3"},{name:"pl-PL-Wavenet-A",label:"Julia",gender:"FEMALE",age:"Middle-aged",languageCode:"pl-PL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-pl-PL-Wavenet-A_preview.mp3"},{name:"eleven-labs-adam",gender:"MALE",label:"Adam",useCase:"Narration",age:"Middle-aged",description:"A deep and middle aged voice.",languageCode:"pl-PL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pNInz6obpgDQGcFmaJgB_Polish_preview.mp3",elevenLabsId:"pNInz6obpgDQGcFmaJgB",accent:"american",languageAgnostic:!0},{name:"eleven-labs-alice",gender:"FEMALE",label:"Alice",useCase:"News",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"pl-PL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Xb7hH8MSUJpSbSDYk0k2_Polish_preview.mp3",elevenLabsId:"Xb7hH8MSUJpSbSDYk0k2",accent:"british",languageAgnostic:!0},{name:"eleven-labs-antoni",gender:"MALE",label:"Antoni",useCase:"Narration",age:"Young",description:"A well-rounded and young voice.",languageCode:"pl-PL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ErXwobaYiN019PkySvjV_Polish_preview.mp3",elevenLabsId:"ErXwobaYiN019PkySvjV",accent:"american",languageAgnostic:!0},{name:"eleven-labs-aria",gender:"FEMALE",label:"Aria",useCase:"Social Media",age:"Middle-aged",description:"An expressive and middle-aged voice.",languageCode:"pl-PL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/9BWtsMINqrJLrRacOk9x_Polish_preview.mp3",elevenLabsId:"9BWtsMINqrJLrRacOk9x",accent:"american",languageAgnostic:!0},{name:"eleven-labs-arnold",gender:"MALE",label:"Arnold",useCase:"Narration",age:"Middle-aged",description:"A crisp and middle aged voice.",languageCode:"pl-PL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/VR6AewLTigWG4xSOukaG_Polish_preview.mp3",elevenLabsId:"VR6AewLTigWG4xSOukaG",accent:"american",languageAgnostic:!0},{name:"eleven-labs-bill",gender:"MALE",label:"Bill",useCase:"Narration",age:"Old",description:"A trustworthy and old voice.",languageCode:"pl-PL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pqHfZKP75CvOlQylNhV4_Polish_preview.mp3",elevenLabsId:"pqHfZKP75CvOlQylNhV4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-brian",gender:"MALE",label:"Brian",useCase:"Narration",age:"Middle-aged",description:"A deep and middle-aged voice.",languageCode:"pl-PL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/nPczCjzI2devNBz1zQrb_Polish_preview.mp3",elevenLabsId:"nPczCjzI2devNBz1zQrb",accent:"american",languageAgnostic:!0},{name:"eleven-labs-callum",gender:"MALE",label:"Callum",useCase:"Characters",age:"Middle-aged",description:"An intense and middle-aged voice.",languageCode:"pl-PL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/N2lVS1w4EtoT3dr4eOWO_Polish_preview.mp3",elevenLabsId:"N2lVS1w4EtoT3dr4eOWO",accent:"american",languageAgnostic:!0},{name:"eleven-labs-charlie",gender:"MALE",label:"Charlie",useCase:"Conversational",age:"Middle-aged",description:"A natural and middle aged voice.",languageCode:"pl-PL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/IKne3meq5aSn9XLyUdCD_Polish_preview.mp3",elevenLabsId:"IKne3meq5aSn9XLyUdCD",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-charlotte",gender:"FEMALE",label:"Charlotte",useCase:"Characters",age:"Young",description:"An inviting and young voice.",languageCode:"pl-PL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XB0fDUnXU5powFXDhCwa_Polish_preview.mp3",elevenLabsId:"XB0fDUnXU5powFXDhCwa",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-chris",gender:"MALE",label:"Chris",useCase:"Conversational",age:"Middle-aged",description:"A casual and middle-aged voice.",languageCode:"pl-PL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/iP95p4xoKVk53GoZ742B_Polish_preview.mp3",elevenLabsId:"iP95p4xoKVk53GoZ742B",accent:"american",languageAgnostic:!0},{name:"eleven-labs-clyde",gender:"MALE",label:"Clyde",useCase:"Characters",age:"Middle-aged",description:"A war veteran and middle-aged voice.",languageCode:"pl-PL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/2EiwWnXFnvU5JabPnv8n_Polish_preview.mp3",elevenLabsId:"2EiwWnXFnvU5JabPnv8n",accent:"american",languageAgnostic:!0},{name:"eleven-labs-daniel",gender:"MALE",label:"Daniel",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"pl-PL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/onwK4e9ZLuTAKqWW03F9_Polish_preview.mp3",elevenLabsId:"onwK4e9ZLuTAKqWW03F9",accent:"british",languageAgnostic:!0},{name:"eleven-labs-dave",gender:"MALE",label:"Dave",useCase:"Characters",age:"Young",description:"A conversational and young voice.",languageCode:"pl-PL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CYw3kZ02Hs0563khs1Fj_Polish_preview.mp3",elevenLabsId:"CYw3kZ02Hs0563khs1Fj",accent:"british-essex",languageAgnostic:!0},{name:"eleven-labs-domi",gender:"FEMALE",label:"Domi",useCase:"Narration",age:"Young",description:"A strong and young voice.",languageCode:"pl-PL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/AZnzlk1XvdvUeBnXmlld_Polish_preview.mp3",elevenLabsId:"AZnzlk1XvdvUeBnXmlld",accent:"american",languageAgnostic:!0},{name:"eleven-labs-dorothy",gender:"FEMALE",label:"Dorothy",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"pl-PL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ThT5KcBeYPX3keUQqHPh_Polish_preview.mp3",elevenLabsId:"ThT5KcBeYPX3keUQqHPh",accent:"british",languageAgnostic:!0},{name:"eleven-labs-drew",gender:"MALE",label:"Drew",useCase:"News",age:"Middle-aged",description:"A well-rounded and middle-aged voice.",languageCode:"pl-PL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/29vD33N1CtxCmqQRPOHJ_Polish_preview.mp3",elevenLabsId:"29vD33N1CtxCmqQRPOHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-emily",gender:"FEMALE",label:"Emily",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"pl-PL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/LcfcDJNUP1GQjkzn1xUU_Polish_preview.mp3",elevenLabsId:"LcfcDJNUP1GQjkzn1xUU",accent:"american",languageAgnostic:!0},{name:"eleven-labs-eric",gender:"MALE",label:"Eric",useCase:"Conversational",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"pl-PL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cjVigY5qzO86Huf0OWal_Polish_preview.mp3",elevenLabsId:"cjVigY5qzO86Huf0OWal",accent:"american",languageAgnostic:!0},{name:"eleven-labs-ethan",gender:"MALE",label:"Ethan",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"pl-PL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/g5CIjZEefAph4nQFvHAz_Polish_preview.mp3",elevenLabsId:"g5CIjZEefAph4nQFvHAz",accent:"american",languageAgnostic:!0},{name:"eleven-labs-fin",gender:"MALE",label:"Fin",useCase:"Characters",age:"Old",description:"A sailor and old voice.",languageCode:"pl-PL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/D38z5RcWu1voky8WS1ja_Polish_preview.mp3",elevenLabsId:"D38z5RcWu1voky8WS1ja",accent:"irish",languageAgnostic:!0},{name:"eleven-labs-freya",gender:"FEMALE",label:"Freya",useCase:"Characters",age:"Young",description:"An expressive and young voice.",languageCode:"pl-PL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jsCqWAovK2LkecY7zXl4_Polish_preview.mp3",elevenLabsId:"jsCqWAovK2LkecY7zXl4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-george",gender:"MALE",label:"George",useCase:"Narration",age:"Middle-aged",description:"A warm and middle aged voice.",languageCode:"pl-PL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/JBFqnCBsd6RMkjVDRZzb_Polish_preview.mp3",elevenLabsId:"JBFqnCBsd6RMkjVDRZzb",accent:"british",languageAgnostic:!0},{name:"eleven-labs-gigi",gender:"FEMALE",label:"Gigi",useCase:"Animation",age:"Young",description:"A childlish and young voice.",languageCode:"pl-PL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jBpfuIE2acCO8z3wKNLl_Polish_preview.mp3",elevenLabsId:"jBpfuIE2acCO8z3wKNLl",accent:"american",languageAgnostic:!0},{name:"eleven-labs-giovanni",gender:"MALE",label:"Giovanni",useCase:"Narration",age:"Young",description:"A foreigner and young voice.",languageCode:"pl-PL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zcAOhNBS3c14rBihAFp1_Polish_preview.mp3",elevenLabsId:"zcAOhNBS3c14rBihAFp1",accent:"english-italian",languageAgnostic:!0},{name:"eleven-labs-glinda",gender:"FEMALE",label:"Glinda",useCase:"Characters",age:"Middle-aged",description:"A smooth and middle-aged voice.",languageCode:"pl-PL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/z9fAnlkpzviPz146aGWa_Polish_preview.mp3",elevenLabsId:"z9fAnlkpzviPz146aGWa",accent:"american",languageAgnostic:!0},{name:"eleven-labs-grace",gender:"FEMALE",label:"Grace",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"pl-PL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/oWAxZDx7w5VEj9dCyTzz_Polish_preview.mp3",elevenLabsId:"oWAxZDx7w5VEj9dCyTzz",accent:"american-southern",languageAgnostic:!0},{name:"eleven-labs-harry",gender:"MALE",label:"Harry",useCase:"Characters",age:"Young",description:"An anxious and young voice.",languageCode:"pl-PL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SOYHLrjzK2X1ezoPC6cr_Polish_preview.mp3",elevenLabsId:"SOYHLrjzK2X1ezoPC6cr",accent:"american",languageAgnostic:!0},{name:"eleven-labs-james",gender:"MALE",label:"James",useCase:"News",age:"Old",description:"A calm and old voice.",languageCode:"pl-PL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ZQe5CZNOzWyzPSCn5a3c_Polish_preview.mp3",elevenLabsId:"ZQe5CZNOzWyzPSCn5a3c",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-jeremy",gender:"MALE",label:"Jeremy",useCase:"Narration",age:"Young",description:"An excited and young voice.",languageCode:"pl-PL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bVMeCyTHy58xNoL34h3p_Polish_preview.mp3",elevenLabsId:"bVMeCyTHy58xNoL34h3p",accent:"american-irish",languageAgnostic:!0},{name:"eleven-labs-jessica",gender:"FEMALE",label:"Jessica",useCase:"Conversational",age:"Young",description:"An expressive and young voice.",languageCode:"pl-PL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cgSgspJ2msm6clMCkdW9_Polish_preview.mp3",elevenLabsId:"cgSgspJ2msm6clMCkdW9",accent:"american",languageAgnostic:!0},{name:"eleven-labs-jessie",gender:"MALE",label:"Jessie",useCase:"Characters",age:"Old",description:"A raspy and old voice.",languageCode:"pl-PL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/t0jbNlBVZ17f02VDIeMI_Polish_preview.mp3",elevenLabsId:"t0jbNlBVZ17f02VDIeMI",accent:"american",languageAgnostic:!0},{name:"eleven-labs-joseph",gender:"MALE",label:"Joseph",useCase:"News",age:"Middle-aged",description:"An articulate and middle-aged voice.",languageCode:"pl-PL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Zlb1dXrM653N07WRdFW3_Polish_preview.mp3",elevenLabsId:"Zlb1dXrM653N07WRdFW3",accent:"british",languageAgnostic:!0},{name:"eleven-labs-josh",gender:"MALE",label:"Josh",useCase:"Narration",age:"Young",description:"A deep and young voice.",languageCode:"pl-PL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TxGEqnHWrfWFTfGW9XjX_Polish_preview.mp3",elevenLabsId:"TxGEqnHWrfWFTfGW9XjX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-laura",gender:"FEMALE",label:"Laura",useCase:"Social Media",age:"Young",description:"An upbeat and young voice.",languageCode:"pl-PL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/FGY2WhTYpPnrIDTdsKH5_Polish_preview.mp3",elevenLabsId:"FGY2WhTYpPnrIDTdsKH5",accent:"american",languageAgnostic:!0},{name:"eleven-labs-liam",gender:"MALE",label:"Liam",useCase:"Narration",age:"Young",description:"An articulate and young voice.",languageCode:"pl-PL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TX3LPaxmHKxFdv7VOQHJ_Polish_preview.mp3",elevenLabsId:"TX3LPaxmHKxFdv7VOQHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-lily",gender:"FEMALE",label:"Lily",useCase:"Narration",age:"Middle-aged",description:"A warm and middle-aged voice.",languageCode:"pl-PL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pFZP5JQG7iQjIQuC4Bku_Polish_preview.mp3",elevenLabsId:"pFZP5JQG7iQjIQuC4Bku",accent:"british",languageAgnostic:!0},{name:"eleven-labs-matilda",gender:"FEMALE",label:"Matilda",useCase:"Narration",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"pl-PL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XrExE9yKIg1WjnnlVkGX_Polish_preview.mp3",elevenLabsId:"XrExE9yKIg1WjnnlVkGX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-michael",gender:"MALE",label:"Michael",useCase:"Narration",age:"Old",description:"A calm and old voice.",languageCode:"pl-PL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/flq6f7yk4E4fJM5XTYuZ_Polish_preview.mp3",elevenLabsId:"flq6f7yk4E4fJM5XTYuZ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-mimi",gender:"FEMALE",label:"Mimi",useCase:"Animation",age:"Young",description:"A childish and young voice.",languageCode:"pl-PL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zrHiDhphv9ZnVXBqCLjz_Polish_preview.mp3",elevenLabsId:"zrHiDhphv9ZnVXBqCLjz",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-nicole",gender:"FEMALE",label:"Nicole",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"pl-PL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/piTKgcLEGmPE4e6mEKli_Polish_preview.mp3",elevenLabsId:"piTKgcLEGmPE4e6mEKli",accent:"american",languageAgnostic:!0},{name:"eleven-labs-patrick",gender:"MALE",label:"Patrick",useCase:"Characters",age:"Middle-aged",description:"A shouty and middle-aged voice.",languageCode:"pl-PL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ODq5zmih8GrVes37Dizd_Polish_preview.mp3",elevenLabsId:"ODq5zmih8GrVes37Dizd",accent:"american",languageAgnostic:!0},{name:"eleven-labs-paul",gender:"MALE",label:"Paul",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"pl-PL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/5Q0t7uMcjvnagumLfvZi_Polish_preview.mp3",elevenLabsId:"5Q0t7uMcjvnagumLfvZi",accent:"american",languageAgnostic:!0},{name:"eleven-labs-rachel",gender:"FEMALE",label:"Rachel",useCase:"Narration",age:"Young",description:"A calm and young voice.",languageCode:"pl-PL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/21m00Tcm4TlvDq8ikWAM_Polish_preview.mp3",elevenLabsId:"21m00Tcm4TlvDq8ikWAM",accent:"american",languageAgnostic:!0},{name:"eleven-labs-river",gender:"NEUTRAL",label:"River",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"pl-PL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SAz9YHcvj6GT2YYXdXww_Polish_preview.mp3",elevenLabsId:"SAz9YHcvj6GT2YYXdXww",accent:"american",languageAgnostic:!0},{name:"eleven-labs-roger",gender:"MALE",label:"Roger",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"pl-PL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CwhRBWXzGAHq8TQ4Fs17_Polish_preview.mp3",elevenLabsId:"CwhRBWXzGAHq8TQ4Fs17",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sam",gender:"MALE",label:"Sam",useCase:"Narration",age:"Young",description:"A raspy and young voice.",languageCode:"pl-PL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/yoZ06aMxZJJ28mfd3POQ_Polish_preview.mp3",elevenLabsId:"yoZ06aMxZJJ28mfd3POQ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sarah",gender:"FEMALE",label:"Sarah",useCase:"News",age:"Young",description:"A soft and young voice.",languageCode:"pl-PL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/EXAVITQu4vr4xnSDxMaL_Polish_preview.mp3",elevenLabsId:"EXAVITQu4vr4xnSDxMaL",accent:"american",languageAgnostic:!0},{name:"eleven-labs-serena",gender:"FEMALE",label:"Serena",useCase:"Narration",age:"Middle-aged",description:"A pleasant and middle-aged voice.",languageCode:"pl-PL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pMsXgVXv3BLzUgSXRplE_Polish_preview.mp3",elevenLabsId:"pMsXgVXv3BLzUgSXRplE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-thomas",gender:"MALE",label:"Thomas",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"pl-PL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/GBv7mTt0atIp3Br8iCZE_Polish_preview.mp3",elevenLabsId:"GBv7mTt0atIp3Br8iCZE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-will",gender:"MALE",label:"Will",useCase:"Social Media",age:"Young",description:"A friendly and young voice.",languageCode:"pl-PL",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bIHbv24MWmeRgasZH58o_Polish_preview.mp3",elevenLabsId:"bIHbv24MWmeRgasZH58o",accent:"american",languageAgnostic:!0}],"Portuguese (Brazil)":[{elevenLabsId:"vr6MVhO51WHYH7ev2Qn9",sampleURL:"https://storage.googleapis.com/eleven-public-prod/custom/voices/vr6MVhO51WHYH7ev2Qn9/ogi9WfKOXq0J6atkwSz8.mp3",label:"Onildo",gender:"MALE",age:"Middle-aged",accent:"brazilian",description:"A professional and middle-aged voice.",useCase:"Narrative Story",languageCode:"pt-BR",name:"elevenlabs-Onildo F. Rocha-pt-BR-male"},{gender:"MALE",label:"Artur",name:"pt-BR-Neural2-B",languageCode:"pt-BR",sampleURL:"https://cdn-useast1.kapwing.com/static/kJK-Portuguese_Male.mp3",age:"Middle-aged",useCase:null},{name:"pt-BR-Neural2-C",label:"Clara",gender:"FEMALE",age:"Middle-aged",languageCode:"pt-BR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-pt-BR-Neural2-C_preview.mp3"},{gender:"FEMALE",label:"Maya",name:"pt-BR-Neural2-A",languageCode:"pt-BR",sampleURL:"https://cdn-useast1.kapwing.com/static/XBm-Portuguese_Female.mp3",age:"Middle-aged",useCase:null},{name:"eleven-labs-adam",gender:"MALE",label:"Adam",useCase:"Narration",age:"Middle-aged",description:"A deep and middle aged voice.",languageCode:"pt-BR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pNInz6obpgDQGcFmaJgB_Portuguese(Brazil)_preview.mp3",elevenLabsId:"pNInz6obpgDQGcFmaJgB",accent:"american",languageAgnostic:!0},{name:"eleven-labs-alice",gender:"FEMALE",label:"Alice",useCase:"News",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"pt-BR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Xb7hH8MSUJpSbSDYk0k2_Portuguese(Brazil)_preview.mp3",elevenLabsId:"Xb7hH8MSUJpSbSDYk0k2",accent:"british",languageAgnostic:!0},{name:"eleven-labs-antoni",gender:"MALE",label:"Antoni",useCase:"Narration",age:"Young",description:"A well-rounded and young voice.",languageCode:"pt-BR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ErXwobaYiN019PkySvjV_Portuguese(Brazil)_preview.mp3",elevenLabsId:"ErXwobaYiN019PkySvjV",accent:"american",languageAgnostic:!0},{name:"eleven-labs-aria",gender:"FEMALE",label:"Aria",useCase:"Social Media",age:"Middle-aged",description:"An expressive and middle-aged voice.",languageCode:"pt-BR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/9BWtsMINqrJLrRacOk9x_Portuguese(Brazil)_preview.mp3",elevenLabsId:"9BWtsMINqrJLrRacOk9x",accent:"american",languageAgnostic:!0},{name:"eleven-labs-arnold",gender:"MALE",label:"Arnold",useCase:"Narration",age:"Middle-aged",description:"A crisp and middle aged voice.",languageCode:"pt-BR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/VR6AewLTigWG4xSOukaG_Portuguese(Brazil)_preview.mp3",elevenLabsId:"VR6AewLTigWG4xSOukaG",accent:"american",languageAgnostic:!0},{name:"eleven-labs-bill",gender:"MALE",label:"Bill",useCase:"Narration",age:"Old",description:"A trustworthy and old voice.",languageCode:"pt-BR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pqHfZKP75CvOlQylNhV4_Portuguese(Brazil)_preview.mp3",elevenLabsId:"pqHfZKP75CvOlQylNhV4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-brian",gender:"MALE",label:"Brian",useCase:"Narration",age:"Middle-aged",description:"A deep and middle-aged voice.",languageCode:"pt-BR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/nPczCjzI2devNBz1zQrb_Portuguese(Brazil)_preview.mp3",elevenLabsId:"nPczCjzI2devNBz1zQrb",accent:"american",languageAgnostic:!0},{name:"eleven-labs-callum",gender:"MALE",label:"Callum",useCase:"Characters",age:"Middle-aged",description:"An intense and middle-aged voice.",languageCode:"pt-BR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/N2lVS1w4EtoT3dr4eOWO_Portuguese(Brazil)_preview.mp3",elevenLabsId:"N2lVS1w4EtoT3dr4eOWO",accent:"american",languageAgnostic:!0},{name:"eleven-labs-charlie",gender:"MALE",label:"Charlie",useCase:"Conversational",age:"Middle-aged",description:"A natural and middle aged voice.",languageCode:"pt-BR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/IKne3meq5aSn9XLyUdCD_Portuguese(Brazil)_preview.mp3",elevenLabsId:"IKne3meq5aSn9XLyUdCD",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-charlotte",gender:"FEMALE",label:"Charlotte",useCase:"Characters",age:"Young",description:"An inviting and young voice.",languageCode:"pt-BR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XB0fDUnXU5powFXDhCwa_Portuguese(Brazil)_preview.mp3",elevenLabsId:"XB0fDUnXU5powFXDhCwa",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-chris",gender:"MALE",label:"Chris",useCase:"Conversational",age:"Middle-aged",description:"A casual and middle-aged voice.",languageCode:"pt-BR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/iP95p4xoKVk53GoZ742B_Portuguese(Brazil)_preview.mp3",elevenLabsId:"iP95p4xoKVk53GoZ742B",accent:"american",languageAgnostic:!0},{name:"eleven-labs-clyde",gender:"MALE",label:"Clyde",useCase:"Characters",age:"Middle-aged",description:"A war veteran and middle-aged voice.",languageCode:"pt-BR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/2EiwWnXFnvU5JabPnv8n_Portuguese(Brazil)_preview.mp3",elevenLabsId:"2EiwWnXFnvU5JabPnv8n",accent:"american",languageAgnostic:!0},{name:"eleven-labs-daniel",gender:"MALE",label:"Daniel",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"pt-BR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/onwK4e9ZLuTAKqWW03F9_Portuguese(Brazil)_preview.mp3",elevenLabsId:"onwK4e9ZLuTAKqWW03F9",accent:"british",languageAgnostic:!0},{name:"eleven-labs-dave",gender:"MALE",label:"Dave",useCase:"Characters",age:"Young",description:"A conversational and young voice.",languageCode:"pt-BR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CYw3kZ02Hs0563khs1Fj_Portuguese(Brazil)_preview.mp3",elevenLabsId:"CYw3kZ02Hs0563khs1Fj",accent:"british-essex",languageAgnostic:!0},{name:"eleven-labs-domi",gender:"FEMALE",label:"Domi",useCase:"Narration",age:"Young",description:"A strong and young voice.",languageCode:"pt-BR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/AZnzlk1XvdvUeBnXmlld_Portuguese(Brazil)_preview.mp3",elevenLabsId:"AZnzlk1XvdvUeBnXmlld",accent:"american",languageAgnostic:!0},{name:"eleven-labs-dorothy",gender:"FEMALE",label:"Dorothy",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"pt-BR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ThT5KcBeYPX3keUQqHPh_Portuguese(Brazil)_preview.mp3",elevenLabsId:"ThT5KcBeYPX3keUQqHPh",accent:"british",languageAgnostic:!0},{name:"eleven-labs-drew",gender:"MALE",label:"Drew",useCase:"News",age:"Middle-aged",description:"A well-rounded and middle-aged voice.",languageCode:"pt-BR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/29vD33N1CtxCmqQRPOHJ_Portuguese(Brazil)_preview.mp3",elevenLabsId:"29vD33N1CtxCmqQRPOHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-emily",gender:"FEMALE",label:"Emily",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"pt-BR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/LcfcDJNUP1GQjkzn1xUU_Portuguese(Brazil)_preview.mp3",elevenLabsId:"LcfcDJNUP1GQjkzn1xUU",accent:"american",languageAgnostic:!0},{name:"eleven-labs-eric",gender:"MALE",label:"Eric",useCase:"Conversational",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"pt-BR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cjVigY5qzO86Huf0OWal_Portuguese(Brazil)_preview.mp3",elevenLabsId:"cjVigY5qzO86Huf0OWal",accent:"american",languageAgnostic:!0},{name:"eleven-labs-ethan",gender:"MALE",label:"Ethan",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"pt-BR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/g5CIjZEefAph4nQFvHAz_Portuguese(Brazil)_preview.mp3",elevenLabsId:"g5CIjZEefAph4nQFvHAz",accent:"american",languageAgnostic:!0},{name:"eleven-labs-fin",gender:"MALE",label:"Fin",useCase:"Characters",age:"Old",description:"A sailor and old voice.",languageCode:"pt-BR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/D38z5RcWu1voky8WS1ja_Portuguese(Brazil)_preview.mp3",elevenLabsId:"D38z5RcWu1voky8WS1ja",accent:"irish",languageAgnostic:!0},{name:"eleven-labs-freya",gender:"FEMALE",label:"Freya",useCase:"Characters",age:"Young",description:"An expressive and young voice.",languageCode:"pt-BR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jsCqWAovK2LkecY7zXl4_Portuguese(Brazil)_preview.mp3",elevenLabsId:"jsCqWAovK2LkecY7zXl4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-george",gender:"MALE",label:"George",useCase:"Narration",age:"Middle-aged",description:"A warm and middle aged voice.",languageCode:"pt-BR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/JBFqnCBsd6RMkjVDRZzb_Portuguese(Brazil)_preview.mp3",elevenLabsId:"JBFqnCBsd6RMkjVDRZzb",accent:"british",languageAgnostic:!0},{name:"eleven-labs-gigi",gender:"FEMALE",label:"Gigi",useCase:"Animation",age:"Young",description:"A childlish and young voice.",languageCode:"pt-BR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jBpfuIE2acCO8z3wKNLl_Portuguese(Brazil)_preview.mp3",elevenLabsId:"jBpfuIE2acCO8z3wKNLl",accent:"american",languageAgnostic:!0},{name:"eleven-labs-giovanni",gender:"MALE",label:"Giovanni",useCase:"Narration",age:"Young",description:"A foreigner and young voice.",languageCode:"pt-BR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zcAOhNBS3c14rBihAFp1_Portuguese(Brazil)_preview.mp3",elevenLabsId:"zcAOhNBS3c14rBihAFp1",accent:"english-italian",languageAgnostic:!0},{name:"eleven-labs-glinda",gender:"FEMALE",label:"Glinda",useCase:"Characters",age:"Middle-aged",description:"A smooth and middle-aged voice.",languageCode:"pt-BR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/z9fAnlkpzviPz146aGWa_Portuguese(Brazil)_preview.mp3",elevenLabsId:"z9fAnlkpzviPz146aGWa",accent:"american",languageAgnostic:!0},{name:"eleven-labs-grace",gender:"FEMALE",label:"Grace",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"pt-BR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/oWAxZDx7w5VEj9dCyTzz_Portuguese(Brazil)_preview.mp3",elevenLabsId:"oWAxZDx7w5VEj9dCyTzz",accent:"american-southern",languageAgnostic:!0},{name:"eleven-labs-harry",gender:"MALE",label:"Harry",useCase:"Characters",age:"Young",description:"An anxious and young voice.",languageCode:"pt-BR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SOYHLrjzK2X1ezoPC6cr_Portuguese(Brazil)_preview.mp3",elevenLabsId:"SOYHLrjzK2X1ezoPC6cr",accent:"american",languageAgnostic:!0},{name:"eleven-labs-james",gender:"MALE",label:"James",useCase:"News",age:"Old",description:"A calm and old voice.",languageCode:"pt-BR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ZQe5CZNOzWyzPSCn5a3c_Portuguese(Brazil)_preview.mp3",elevenLabsId:"ZQe5CZNOzWyzPSCn5a3c",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-jeremy",gender:"MALE",label:"Jeremy",useCase:"Narration",age:"Young",description:"An excited and young voice.",languageCode:"pt-BR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bVMeCyTHy58xNoL34h3p_Portuguese(Brazil)_preview.mp3",elevenLabsId:"bVMeCyTHy58xNoL34h3p",accent:"american-irish",languageAgnostic:!0},{name:"eleven-labs-jessica",gender:"FEMALE",label:"Jessica",useCase:"Conversational",age:"Young",description:"An expressive and young voice.",languageCode:"pt-BR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cgSgspJ2msm6clMCkdW9_Portuguese(Brazil)_preview.mp3",elevenLabsId:"cgSgspJ2msm6clMCkdW9",accent:"american",languageAgnostic:!0},{name:"eleven-labs-jessie",gender:"MALE",label:"Jessie",useCase:"Characters",age:"Old",description:"A raspy and old voice.",languageCode:"pt-BR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/t0jbNlBVZ17f02VDIeMI_Portuguese(Brazil)_preview.mp3",elevenLabsId:"t0jbNlBVZ17f02VDIeMI",accent:"american",languageAgnostic:!0},{name:"eleven-labs-joseph",gender:"MALE",label:"Joseph",useCase:"News",age:"Middle-aged",description:"An articulate and middle-aged voice.",languageCode:"pt-BR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Zlb1dXrM653N07WRdFW3_Portuguese(Brazil)_preview.mp3",elevenLabsId:"Zlb1dXrM653N07WRdFW3",accent:"british",languageAgnostic:!0},{name:"eleven-labs-josh",gender:"MALE",label:"Josh",useCase:"Narration",age:"Young",description:"A deep and young voice.",languageCode:"pt-BR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TxGEqnHWrfWFTfGW9XjX_Portuguese(Brazil)_preview.mp3",elevenLabsId:"TxGEqnHWrfWFTfGW9XjX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-laura",gender:"FEMALE",label:"Laura",useCase:"Social Media",age:"Young",description:"An upbeat and young voice.",languageCode:"pt-BR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/FGY2WhTYpPnrIDTdsKH5_Portuguese(Brazil)_preview.mp3",elevenLabsId:"FGY2WhTYpPnrIDTdsKH5",accent:"american",languageAgnostic:!0},{name:"eleven-labs-liam",gender:"MALE",label:"Liam",useCase:"Narration",age:"Young",description:"An articulate and young voice.",languageCode:"pt-BR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TX3LPaxmHKxFdv7VOQHJ_Portuguese(Brazil)_preview.mp3",elevenLabsId:"TX3LPaxmHKxFdv7VOQHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-lily",gender:"FEMALE",label:"Lily",useCase:"Narration",age:"Middle-aged",description:"A warm and middle-aged voice.",languageCode:"pt-BR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pFZP5JQG7iQjIQuC4Bku_Portuguese(Brazil)_preview.mp3",elevenLabsId:"pFZP5JQG7iQjIQuC4Bku",accent:"british",languageAgnostic:!0},{name:"eleven-labs-matilda",gender:"FEMALE",label:"Matilda",useCase:"Narration",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"pt-BR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XrExE9yKIg1WjnnlVkGX_Portuguese(Brazil)_preview.mp3",elevenLabsId:"XrExE9yKIg1WjnnlVkGX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-michael",gender:"MALE",label:"Michael",useCase:"Narration",age:"Old",description:"A calm and old voice.",languageCode:"pt-BR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/flq6f7yk4E4fJM5XTYuZ_Portuguese(Brazil)_preview.mp3",elevenLabsId:"flq6f7yk4E4fJM5XTYuZ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-mimi",gender:"FEMALE",label:"Mimi",useCase:"Animation",age:"Young",description:"A childish and young voice.",languageCode:"pt-BR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zrHiDhphv9ZnVXBqCLjz_Portuguese(Brazil)_preview.mp3",elevenLabsId:"zrHiDhphv9ZnVXBqCLjz",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-nicole",gender:"FEMALE",label:"Nicole",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"pt-BR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/piTKgcLEGmPE4e6mEKli_Portuguese(Brazil)_preview.mp3",elevenLabsId:"piTKgcLEGmPE4e6mEKli",accent:"american",languageAgnostic:!0},{name:"eleven-labs-patrick",gender:"MALE",label:"Patrick",useCase:"Characters",age:"Middle-aged",description:"A shouty and middle-aged voice.",languageCode:"pt-BR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ODq5zmih8GrVes37Dizd_Portuguese(Brazil)_preview.mp3",elevenLabsId:"ODq5zmih8GrVes37Dizd",accent:"american",languageAgnostic:!0},{name:"eleven-labs-paul",gender:"MALE",label:"Paul",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"pt-BR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/5Q0t7uMcjvnagumLfvZi_Portuguese(Brazil)_preview.mp3",elevenLabsId:"5Q0t7uMcjvnagumLfvZi",accent:"american",languageAgnostic:!0},{name:"eleven-labs-rachel",gender:"FEMALE",label:"Rachel",useCase:"Narration",age:"Young",description:"A calm and young voice.",languageCode:"pt-BR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/21m00Tcm4TlvDq8ikWAM_Portuguese(Brazil)_preview.mp3",elevenLabsId:"21m00Tcm4TlvDq8ikWAM",accent:"american",languageAgnostic:!0},{name:"eleven-labs-river",gender:"NEUTRAL",label:"River",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"pt-BR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SAz9YHcvj6GT2YYXdXww_Portuguese(Brazil)_preview.mp3",elevenLabsId:"SAz9YHcvj6GT2YYXdXww",accent:"american",languageAgnostic:!0},{name:"eleven-labs-roger",gender:"MALE",label:"Roger",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"pt-BR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CwhRBWXzGAHq8TQ4Fs17_Portuguese(Brazil)_preview.mp3",elevenLabsId:"CwhRBWXzGAHq8TQ4Fs17",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sam",gender:"MALE",label:"Sam",useCase:"Narration",age:"Young",description:"A raspy and young voice.",languageCode:"pt-BR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/yoZ06aMxZJJ28mfd3POQ_Portuguese(Brazil)_preview.mp3",elevenLabsId:"yoZ06aMxZJJ28mfd3POQ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sarah",gender:"FEMALE",label:"Sarah",useCase:"News",age:"Young",description:"A soft and young voice.",languageCode:"pt-BR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/EXAVITQu4vr4xnSDxMaL_Portuguese(Brazil)_preview.mp3",elevenLabsId:"EXAVITQu4vr4xnSDxMaL",accent:"american",languageAgnostic:!0},{name:"eleven-labs-serena",gender:"FEMALE",label:"Serena",useCase:"Narration",age:"Middle-aged",description:"A pleasant and middle-aged voice.",languageCode:"pt-BR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pMsXgVXv3BLzUgSXRplE_Portuguese(Brazil)_preview.mp3",elevenLabsId:"pMsXgVXv3BLzUgSXRplE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-thomas",gender:"MALE",label:"Thomas",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"pt-BR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/GBv7mTt0atIp3Br8iCZE_Portuguese(Brazil)_preview.mp3",elevenLabsId:"GBv7mTt0atIp3Br8iCZE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-will",gender:"MALE",label:"Will",useCase:"Social Media",age:"Young",description:"A friendly and young voice.",languageCode:"pt-BR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bIHbv24MWmeRgasZH58o_Portuguese(Brazil)_preview.mp3",elevenLabsId:"bIHbv24MWmeRgasZH58o",accent:"american",languageAgnostic:!0}],"Portuguese (Portugal)":[{name:"pt-PT-Wavenet-A",label:"Francisca",gender:"FEMALE",languageCode:"pt-PT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-pt-PT-Wavenet-A_preview.mp3",age:"Middle-aged",useCase:null},{name:"pt-PT-Wavenet-B",label:"Pedro",gender:"MALE",languageCode:"pt-PT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-pt-PT-Wavenet-B_preview.mp3",age:"Middle-aged",useCase:null},{name:"eleven-labs-adam",gender:"MALE",label:"Adam",useCase:"Narration",age:"Middle-aged",description:"A deep and middle aged voice.",languageCode:"pt-PT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pNInz6obpgDQGcFmaJgB_Portuguese(Portugal)_preview.mp3",elevenLabsId:"pNInz6obpgDQGcFmaJgB",accent:"american",languageAgnostic:!0},{name:"eleven-labs-alice",gender:"FEMALE",label:"Alice",useCase:"News",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"pt-PT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Xb7hH8MSUJpSbSDYk0k2_Portuguese(Portugal)_preview.mp3",elevenLabsId:"Xb7hH8MSUJpSbSDYk0k2",accent:"british",languageAgnostic:!0},{name:"eleven-labs-antoni",gender:"MALE",label:"Antoni",useCase:"Narration",age:"Young",description:"A well-rounded and young voice.",languageCode:"pt-PT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ErXwobaYiN019PkySvjV_Portuguese(Portugal)_preview.mp3",elevenLabsId:"ErXwobaYiN019PkySvjV",accent:"american",languageAgnostic:!0},{name:"eleven-labs-aria",gender:"FEMALE",label:"Aria",useCase:"Social Media",age:"Middle-aged",description:"An expressive and middle-aged voice.",languageCode:"pt-PT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/9BWtsMINqrJLrRacOk9x_Portuguese(Portugal)_preview.mp3",elevenLabsId:"9BWtsMINqrJLrRacOk9x",accent:"american",languageAgnostic:!0},{name:"eleven-labs-arnold",gender:"MALE",label:"Arnold",useCase:"Narration",age:"Middle-aged",description:"A crisp and middle aged voice.",languageCode:"pt-PT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/VR6AewLTigWG4xSOukaG_Portuguese(Portugal)_preview.mp3",elevenLabsId:"VR6AewLTigWG4xSOukaG",accent:"american",languageAgnostic:!0},{name:"eleven-labs-bill",gender:"MALE",label:"Bill",useCase:"Narration",age:"Old",description:"A trustworthy and old voice.",languageCode:"pt-PT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pqHfZKP75CvOlQylNhV4_Portuguese(Portugal)_preview.mp3",elevenLabsId:"pqHfZKP75CvOlQylNhV4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-brian",gender:"MALE",label:"Brian",useCase:"Narration",age:"Middle-aged",description:"A deep and middle-aged voice.",languageCode:"pt-PT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/nPczCjzI2devNBz1zQrb_Portuguese(Portugal)_preview.mp3",elevenLabsId:"nPczCjzI2devNBz1zQrb",accent:"american",languageAgnostic:!0},{name:"eleven-labs-callum",gender:"MALE",label:"Callum",useCase:"Characters",age:"Middle-aged",description:"An intense and middle-aged voice.",languageCode:"pt-PT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/N2lVS1w4EtoT3dr4eOWO_Portuguese(Portugal)_preview.mp3",elevenLabsId:"N2lVS1w4EtoT3dr4eOWO",accent:"american",languageAgnostic:!0},{name:"eleven-labs-charlie",gender:"MALE",label:"Charlie",useCase:"Conversational",age:"Middle-aged",description:"A natural and middle aged voice.",languageCode:"pt-PT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/IKne3meq5aSn9XLyUdCD_Portuguese(Portugal)_preview.mp3",elevenLabsId:"IKne3meq5aSn9XLyUdCD",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-charlotte",gender:"FEMALE",label:"Charlotte",useCase:"Characters",age:"Young",description:"An inviting and young voice.",languageCode:"pt-PT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XB0fDUnXU5powFXDhCwa_Portuguese(Portugal)_preview.mp3",elevenLabsId:"XB0fDUnXU5powFXDhCwa",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-chris",gender:"MALE",label:"Chris",useCase:"Conversational",age:"Middle-aged",description:"A casual and middle-aged voice.",languageCode:"pt-PT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/iP95p4xoKVk53GoZ742B_Portuguese(Portugal)_preview.mp3",elevenLabsId:"iP95p4xoKVk53GoZ742B",accent:"american",languageAgnostic:!0},{name:"eleven-labs-clyde",gender:"MALE",label:"Clyde",useCase:"Characters",age:"Middle-aged",description:"A war veteran and middle-aged voice.",languageCode:"pt-PT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/2EiwWnXFnvU5JabPnv8n_Portuguese(Portugal)_preview.mp3",elevenLabsId:"2EiwWnXFnvU5JabPnv8n",accent:"american",languageAgnostic:!0},{name:"eleven-labs-daniel",gender:"MALE",label:"Daniel",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"pt-PT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/onwK4e9ZLuTAKqWW03F9_Portuguese(Portugal)_preview.mp3",elevenLabsId:"onwK4e9ZLuTAKqWW03F9",accent:"british",languageAgnostic:!0},{name:"eleven-labs-dave",gender:"MALE",label:"Dave",useCase:"Characters",age:"Young",description:"A conversational and young voice.",languageCode:"pt-PT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CYw3kZ02Hs0563khs1Fj_Portuguese(Portugal)_preview.mp3",elevenLabsId:"CYw3kZ02Hs0563khs1Fj",accent:"british-essex",languageAgnostic:!0},{name:"eleven-labs-domi",gender:"FEMALE",label:"Domi",useCase:"Narration",age:"Young",description:"A strong and young voice.",languageCode:"pt-PT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/AZnzlk1XvdvUeBnXmlld_Portuguese(Portugal)_preview.mp3",elevenLabsId:"AZnzlk1XvdvUeBnXmlld",accent:"american",languageAgnostic:!0},{name:"eleven-labs-dorothy",gender:"FEMALE",label:"Dorothy",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"pt-PT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ThT5KcBeYPX3keUQqHPh_Portuguese(Portugal)_preview.mp3",elevenLabsId:"ThT5KcBeYPX3keUQqHPh",accent:"british",languageAgnostic:!0},{name:"eleven-labs-drew",gender:"MALE",label:"Drew",useCase:"News",age:"Middle-aged",description:"A well-rounded and middle-aged voice.",languageCode:"pt-PT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/29vD33N1CtxCmqQRPOHJ_Portuguese(Portugal)_preview.mp3",elevenLabsId:"29vD33N1CtxCmqQRPOHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-emily",gender:"FEMALE",label:"Emily",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"pt-PT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/LcfcDJNUP1GQjkzn1xUU_Portuguese(Portugal)_preview.mp3",elevenLabsId:"LcfcDJNUP1GQjkzn1xUU",accent:"american",languageAgnostic:!0},{name:"eleven-labs-eric",gender:"MALE",label:"Eric",useCase:"Conversational",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"pt-PT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cjVigY5qzO86Huf0OWal_Portuguese(Portugal)_preview.mp3",elevenLabsId:"cjVigY5qzO86Huf0OWal",accent:"american",languageAgnostic:!0},{name:"eleven-labs-ethan",gender:"MALE",label:"Ethan",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"pt-PT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/g5CIjZEefAph4nQFvHAz_Portuguese(Portugal)_preview.mp3",elevenLabsId:"g5CIjZEefAph4nQFvHAz",accent:"american",languageAgnostic:!0},{name:"eleven-labs-fin",gender:"MALE",label:"Fin",useCase:"Characters",age:"Old",description:"A sailor and old voice.",languageCode:"pt-PT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/D38z5RcWu1voky8WS1ja_Portuguese(Portugal)_preview.mp3",elevenLabsId:"D38z5RcWu1voky8WS1ja",accent:"irish",languageAgnostic:!0},{name:"eleven-labs-freya",gender:"FEMALE",label:"Freya",useCase:"Characters",age:"Young",description:"An expressive and young voice.",languageCode:"pt-PT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jsCqWAovK2LkecY7zXl4_Portuguese(Portugal)_preview.mp3",elevenLabsId:"jsCqWAovK2LkecY7zXl4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-george",gender:"MALE",label:"George",useCase:"Narration",age:"Middle-aged",description:"A warm and middle aged voice.",languageCode:"pt-PT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/JBFqnCBsd6RMkjVDRZzb_Portuguese(Portugal)_preview.mp3",elevenLabsId:"JBFqnCBsd6RMkjVDRZzb",accent:"british",languageAgnostic:!0},{name:"eleven-labs-gigi",gender:"FEMALE",label:"Gigi",useCase:"Animation",age:"Young",description:"A childlish and young voice.",languageCode:"pt-PT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jBpfuIE2acCO8z3wKNLl_Portuguese(Portugal)_preview.mp3",elevenLabsId:"jBpfuIE2acCO8z3wKNLl",accent:"american",languageAgnostic:!0},{name:"eleven-labs-giovanni",gender:"MALE",label:"Giovanni",useCase:"Narration",age:"Young",description:"A foreigner and young voice.",languageCode:"pt-PT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zcAOhNBS3c14rBihAFp1_Portuguese(Portugal)_preview.mp3",elevenLabsId:"zcAOhNBS3c14rBihAFp1",accent:"english-italian",languageAgnostic:!0},{name:"eleven-labs-glinda",gender:"FEMALE",label:"Glinda",useCase:"Characters",age:"Middle-aged",description:"A smooth and middle-aged voice.",languageCode:"pt-PT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/z9fAnlkpzviPz146aGWa_Portuguese(Portugal)_preview.mp3",elevenLabsId:"z9fAnlkpzviPz146aGWa",accent:"american",languageAgnostic:!0},{name:"eleven-labs-grace",gender:"FEMALE",label:"Grace",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"pt-PT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/oWAxZDx7w5VEj9dCyTzz_Portuguese(Portugal)_preview.mp3",elevenLabsId:"oWAxZDx7w5VEj9dCyTzz",accent:"american-southern",languageAgnostic:!0},{name:"eleven-labs-harry",gender:"MALE",label:"Harry",useCase:"Characters",age:"Young",description:"An anxious and young voice.",languageCode:"pt-PT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SOYHLrjzK2X1ezoPC6cr_Portuguese(Portugal)_preview.mp3",elevenLabsId:"SOYHLrjzK2X1ezoPC6cr",accent:"american",languageAgnostic:!0},{name:"eleven-labs-james",gender:"MALE",label:"James",useCase:"News",age:"Old",description:"A calm and old voice.",languageCode:"pt-PT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ZQe5CZNOzWyzPSCn5a3c_Portuguese(Portugal)_preview.mp3",elevenLabsId:"ZQe5CZNOzWyzPSCn5a3c",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-jeremy",gender:"MALE",label:"Jeremy",useCase:"Narration",age:"Young",description:"An excited and young voice.",languageCode:"pt-PT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bVMeCyTHy58xNoL34h3p_Portuguese(Portugal)_preview.mp3",elevenLabsId:"bVMeCyTHy58xNoL34h3p",accent:"american-irish",languageAgnostic:!0},{name:"eleven-labs-jessica",gender:"FEMALE",label:"Jessica",useCase:"Conversational",age:"Young",description:"An expressive and young voice.",languageCode:"pt-PT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cgSgspJ2msm6clMCkdW9_Portuguese(Portugal)_preview.mp3",elevenLabsId:"cgSgspJ2msm6clMCkdW9",accent:"american",languageAgnostic:!0},{name:"eleven-labs-jessie",gender:"MALE",label:"Jessie",useCase:"Characters",age:"Old",description:"A raspy and old voice.",languageCode:"pt-PT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/t0jbNlBVZ17f02VDIeMI_Portuguese(Portugal)_preview.mp3",elevenLabsId:"t0jbNlBVZ17f02VDIeMI",accent:"american",languageAgnostic:!0},{name:"eleven-labs-joseph",gender:"MALE",label:"Joseph",useCase:"News",age:"Middle-aged",description:"An articulate and middle-aged voice.",languageCode:"pt-PT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Zlb1dXrM653N07WRdFW3_Portuguese(Portugal)_preview.mp3",elevenLabsId:"Zlb1dXrM653N07WRdFW3",accent:"british",languageAgnostic:!0},{name:"eleven-labs-josh",gender:"MALE",label:"Josh",useCase:"Narration",age:"Young",description:"A deep and young voice.",languageCode:"pt-PT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TxGEqnHWrfWFTfGW9XjX_Portuguese(Portugal)_preview.mp3",elevenLabsId:"TxGEqnHWrfWFTfGW9XjX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-laura",gender:"FEMALE",label:"Laura",useCase:"Social Media",age:"Young",description:"An upbeat and young voice.",languageCode:"pt-PT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/FGY2WhTYpPnrIDTdsKH5_Portuguese(Portugal)_preview.mp3",elevenLabsId:"FGY2WhTYpPnrIDTdsKH5",accent:"american",languageAgnostic:!0},{name:"eleven-labs-liam",gender:"MALE",label:"Liam",useCase:"Narration",age:"Young",description:"An articulate and young voice.",languageCode:"pt-PT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TX3LPaxmHKxFdv7VOQHJ_Portuguese(Portugal)_preview.mp3",elevenLabsId:"TX3LPaxmHKxFdv7VOQHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-lily",gender:"FEMALE",label:"Lily",useCase:"Narration",age:"Middle-aged",description:"A warm and middle-aged voice.",languageCode:"pt-PT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pFZP5JQG7iQjIQuC4Bku_Portuguese(Portugal)_preview.mp3",elevenLabsId:"pFZP5JQG7iQjIQuC4Bku",accent:"british",languageAgnostic:!0},{name:"eleven-labs-matilda",gender:"FEMALE",label:"Matilda",useCase:"Narration",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"pt-PT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XrExE9yKIg1WjnnlVkGX_Portuguese(Portugal)_preview.mp3",elevenLabsId:"XrExE9yKIg1WjnnlVkGX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-michael",gender:"MALE",label:"Michael",useCase:"Narration",age:"Old",description:"A calm and old voice.",languageCode:"pt-PT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/flq6f7yk4E4fJM5XTYuZ_Portuguese(Portugal)_preview.mp3",elevenLabsId:"flq6f7yk4E4fJM5XTYuZ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-mimi",gender:"FEMALE",label:"Mimi",useCase:"Animation",age:"Young",description:"A childish and young voice.",languageCode:"pt-PT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zrHiDhphv9ZnVXBqCLjz_Portuguese(Portugal)_preview.mp3",elevenLabsId:"zrHiDhphv9ZnVXBqCLjz",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-nicole",gender:"FEMALE",label:"Nicole",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"pt-PT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/piTKgcLEGmPE4e6mEKli_Portuguese(Portugal)_preview.mp3",elevenLabsId:"piTKgcLEGmPE4e6mEKli",accent:"american",languageAgnostic:!0},{name:"eleven-labs-patrick",gender:"MALE",label:"Patrick",useCase:"Characters",age:"Middle-aged",description:"A shouty and middle-aged voice.",languageCode:"pt-PT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ODq5zmih8GrVes37Dizd_Portuguese(Portugal)_preview.mp3",elevenLabsId:"ODq5zmih8GrVes37Dizd",accent:"american",languageAgnostic:!0},{name:"eleven-labs-paul",gender:"MALE",label:"Paul",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"pt-PT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/5Q0t7uMcjvnagumLfvZi_Portuguese(Portugal)_preview.mp3",elevenLabsId:"5Q0t7uMcjvnagumLfvZi",accent:"american",languageAgnostic:!0},{name:"eleven-labs-rachel",gender:"FEMALE",label:"Rachel",useCase:"Narration",age:"Young",description:"A calm and young voice.",languageCode:"pt-PT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/21m00Tcm4TlvDq8ikWAM_Portuguese(Portugal)_preview.mp3",elevenLabsId:"21m00Tcm4TlvDq8ikWAM",accent:"american",languageAgnostic:!0},{name:"eleven-labs-river",gender:"NEUTRAL",label:"River",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"pt-PT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SAz9YHcvj6GT2YYXdXww_Portuguese(Portugal)_preview.mp3",elevenLabsId:"SAz9YHcvj6GT2YYXdXww",accent:"american",languageAgnostic:!0},{name:"eleven-labs-roger",gender:"MALE",label:"Roger",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"pt-PT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CwhRBWXzGAHq8TQ4Fs17_Portuguese(Portugal)_preview.mp3",elevenLabsId:"CwhRBWXzGAHq8TQ4Fs17",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sam",gender:"MALE",label:"Sam",useCase:"Narration",age:"Young",description:"A raspy and young voice.",languageCode:"pt-PT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/yoZ06aMxZJJ28mfd3POQ_Portuguese(Portugal)_preview.mp3",elevenLabsId:"yoZ06aMxZJJ28mfd3POQ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sarah",gender:"FEMALE",label:"Sarah",useCase:"News",age:"Young",description:"A soft and young voice.",languageCode:"pt-PT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/EXAVITQu4vr4xnSDxMaL_Portuguese(Portugal)_preview.mp3",elevenLabsId:"EXAVITQu4vr4xnSDxMaL",accent:"american",languageAgnostic:!0},{name:"eleven-labs-serena",gender:"FEMALE",label:"Serena",useCase:"Narration",age:"Middle-aged",description:"A pleasant and middle-aged voice.",languageCode:"pt-PT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pMsXgVXv3BLzUgSXRplE_Portuguese(Portugal)_preview.mp3",elevenLabsId:"pMsXgVXv3BLzUgSXRplE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-thomas",gender:"MALE",label:"Thomas",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"pt-PT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/GBv7mTt0atIp3Br8iCZE_Portuguese(Portugal)_preview.mp3",elevenLabsId:"GBv7mTt0atIp3Br8iCZE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-will",gender:"MALE",label:"Will",useCase:"Social Media",age:"Young",description:"A friendly and young voice.",languageCode:"pt-PT",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bIHbv24MWmeRgasZH58o_Portuguese(Portugal)_preview.mp3",elevenLabsId:"bIHbv24MWmeRgasZH58o",accent:"american",languageAgnostic:!0}],"Punjabi (India)":[{name:"pa-IN-Wavenet-B",label:"Amrit",gender:"MALE",languageCode:"pa-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-pa-IN-Wavenet-B_preview.mp3",age:"Middle-aged",useCase:null},{name:"pa-IN-Wavenet-D",label:"Harjit",gender:"MALE",languageCode:"pa-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-pa-IN-Wavenet-D_preview.mp3",age:"Middle-aged",useCase:null},{name:"pa-IN-Wavenet-C",label:"Navjot",gender:"FEMALE",languageCode:"pa-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-pa-IN-Wavenet-C_preview.mp3",age:"Middle-aged",useCase:null},{name:"pa-IN-Wavenet-A",label:"Preet",gender:"FEMALE",languageCode:"pa-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-pa-IN-Wavenet-A_preview.mp3",age:"Middle-aged",useCase:null}],Romanian:[{elevenLabsId:"OlBp4oyr3FBAGEAtJOnU",sampleURL:"https://storage.googleapis.com/eleven-public-prod/custom/voices/OlBp4oyr3FBAGEAtJOnU/Uub5cEzcyVo34vqgA9cA.mp3",label:"Jora",gender:"MALE",age:"Middle_aged",accent:"standard",description:"A calm and low Romanian male voice.",useCase:"Narrative Story",languageCode:"ro-RO",name:"elevenlabs-Jora Slobod-ro-RO-male"},{name:"ro-RO-Wavenet-A",label:"Elena",gender:"FEMALE",age:"Middle-aged",languageCode:"ro-RO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-ro-RO-Wavenet-A_preview.mp3"},{name:"eleven-labs-adam",gender:"MALE",label:"Adam",useCase:"Narration",age:"Middle-aged",description:"A deep and middle aged voice.",languageCode:"ro-RO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pNInz6obpgDQGcFmaJgB_Romanian_preview.mp3",elevenLabsId:"pNInz6obpgDQGcFmaJgB",accent:"american",languageAgnostic:!0},{name:"eleven-labs-alice",gender:"FEMALE",label:"Alice",useCase:"News",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"ro-RO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Xb7hH8MSUJpSbSDYk0k2_Romanian_preview.mp3",elevenLabsId:"Xb7hH8MSUJpSbSDYk0k2",accent:"british",languageAgnostic:!0},{name:"eleven-labs-antoni",gender:"MALE",label:"Antoni",useCase:"Narration",age:"Young",description:"A well-rounded and young voice.",languageCode:"ro-RO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ErXwobaYiN019PkySvjV_Romanian_preview.mp3",elevenLabsId:"ErXwobaYiN019PkySvjV",accent:"american",languageAgnostic:!0},{name:"eleven-labs-aria",gender:"FEMALE",label:"Aria",useCase:"Social Media",age:"Middle-aged",description:"An expressive and middle-aged voice.",languageCode:"ro-RO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/9BWtsMINqrJLrRacOk9x_Romanian_preview.mp3",elevenLabsId:"9BWtsMINqrJLrRacOk9x",accent:"american",languageAgnostic:!0},{name:"eleven-labs-arnold",gender:"MALE",label:"Arnold",useCase:"Narration",age:"Middle-aged",description:"A crisp and middle aged voice.",languageCode:"ro-RO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/VR6AewLTigWG4xSOukaG_Romanian_preview.mp3",elevenLabsId:"VR6AewLTigWG4xSOukaG",accent:"american",languageAgnostic:!0},{name:"eleven-labs-bill",gender:"MALE",label:"Bill",useCase:"Narration",age:"Old",description:"A trustworthy and old voice.",languageCode:"ro-RO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pqHfZKP75CvOlQylNhV4_Romanian_preview.mp3",elevenLabsId:"pqHfZKP75CvOlQylNhV4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-brian",gender:"MALE",label:"Brian",useCase:"Narration",age:"Middle-aged",description:"A deep and middle-aged voice.",languageCode:"ro-RO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/nPczCjzI2devNBz1zQrb_Romanian_preview.mp3",elevenLabsId:"nPczCjzI2devNBz1zQrb",accent:"american",languageAgnostic:!0},{name:"eleven-labs-callum",gender:"MALE",label:"Callum",useCase:"Characters",age:"Middle-aged",description:"An intense and middle-aged voice.",languageCode:"ro-RO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/N2lVS1w4EtoT3dr4eOWO_Romanian_preview.mp3",elevenLabsId:"N2lVS1w4EtoT3dr4eOWO",accent:"american",languageAgnostic:!0},{name:"eleven-labs-charlie",gender:"MALE",label:"Charlie",useCase:"Conversational",age:"Middle-aged",description:"A natural and middle aged voice.",languageCode:"ro-RO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/IKne3meq5aSn9XLyUdCD_Romanian_preview.mp3",elevenLabsId:"IKne3meq5aSn9XLyUdCD",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-charlotte",gender:"FEMALE",label:"Charlotte",useCase:"Characters",age:"Young",description:"An inviting and young voice.",languageCode:"ro-RO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XB0fDUnXU5powFXDhCwa_Romanian_preview.mp3",elevenLabsId:"XB0fDUnXU5powFXDhCwa",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-chris",gender:"MALE",label:"Chris",useCase:"Conversational",age:"Middle-aged",description:"A casual and middle-aged voice.",languageCode:"ro-RO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/iP95p4xoKVk53GoZ742B_Romanian_preview.mp3",elevenLabsId:"iP95p4xoKVk53GoZ742B",accent:"american",languageAgnostic:!0},{name:"eleven-labs-clyde",gender:"MALE",label:"Clyde",useCase:"Characters",age:"Middle-aged",description:"A war veteran and middle-aged voice.",languageCode:"ro-RO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/2EiwWnXFnvU5JabPnv8n_Romanian_preview.mp3",elevenLabsId:"2EiwWnXFnvU5JabPnv8n",accent:"american",languageAgnostic:!0},{name:"eleven-labs-daniel",gender:"MALE",label:"Daniel",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"ro-RO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/onwK4e9ZLuTAKqWW03F9_Romanian_preview.mp3",elevenLabsId:"onwK4e9ZLuTAKqWW03F9",accent:"british",languageAgnostic:!0},{name:"eleven-labs-dave",gender:"MALE",label:"Dave",useCase:"Characters",age:"Young",description:"A conversational and young voice.",languageCode:"ro-RO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CYw3kZ02Hs0563khs1Fj_Romanian_preview.mp3",elevenLabsId:"CYw3kZ02Hs0563khs1Fj",accent:"british-essex",languageAgnostic:!0},{name:"eleven-labs-domi",gender:"FEMALE",label:"Domi",useCase:"Narration",age:"Young",description:"A strong and young voice.",languageCode:"ro-RO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/AZnzlk1XvdvUeBnXmlld_Romanian_preview.mp3",elevenLabsId:"AZnzlk1XvdvUeBnXmlld",accent:"american",languageAgnostic:!0},{name:"eleven-labs-dorothy",gender:"FEMALE",label:"Dorothy",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"ro-RO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ThT5KcBeYPX3keUQqHPh_Romanian_preview.mp3",elevenLabsId:"ThT5KcBeYPX3keUQqHPh",accent:"british",languageAgnostic:!0},{name:"eleven-labs-drew",gender:"MALE",label:"Drew",useCase:"News",age:"Middle-aged",description:"A well-rounded and middle-aged voice.",languageCode:"ro-RO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/29vD33N1CtxCmqQRPOHJ_Romanian_preview.mp3",elevenLabsId:"29vD33N1CtxCmqQRPOHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-emily",gender:"FEMALE",label:"Emily",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"ro-RO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/LcfcDJNUP1GQjkzn1xUU_Romanian_preview.mp3",elevenLabsId:"LcfcDJNUP1GQjkzn1xUU",accent:"american",languageAgnostic:!0},{name:"eleven-labs-eric",gender:"MALE",label:"Eric",useCase:"Conversational",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"ro-RO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cjVigY5qzO86Huf0OWal_Romanian_preview.mp3",elevenLabsId:"cjVigY5qzO86Huf0OWal",accent:"american",languageAgnostic:!0},{name:"eleven-labs-ethan",gender:"MALE",label:"Ethan",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"ro-RO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/g5CIjZEefAph4nQFvHAz_Romanian_preview.mp3",elevenLabsId:"g5CIjZEefAph4nQFvHAz",accent:"american",languageAgnostic:!0},{name:"eleven-labs-fin",gender:"MALE",label:"Fin",useCase:"Characters",age:"Old",description:"A sailor and old voice.",languageCode:"ro-RO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/D38z5RcWu1voky8WS1ja_Romanian_preview.mp3",elevenLabsId:"D38z5RcWu1voky8WS1ja",accent:"irish",languageAgnostic:!0},{name:"eleven-labs-freya",gender:"FEMALE",label:"Freya",useCase:"Characters",age:"Young",description:"An expressive and young voice.",languageCode:"ro-RO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jsCqWAovK2LkecY7zXl4_Romanian_preview.mp3",elevenLabsId:"jsCqWAovK2LkecY7zXl4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-george",gender:"MALE",label:"George",useCase:"Narration",age:"Middle-aged",description:"A warm and middle aged voice.",languageCode:"ro-RO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/JBFqnCBsd6RMkjVDRZzb_Romanian_preview.mp3",elevenLabsId:"JBFqnCBsd6RMkjVDRZzb",accent:"british",languageAgnostic:!0},{name:"eleven-labs-gigi",gender:"FEMALE",label:"Gigi",useCase:"Animation",age:"Young",description:"A childlish and young voice.",languageCode:"ro-RO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jBpfuIE2acCO8z3wKNLl_Romanian_preview.mp3",elevenLabsId:"jBpfuIE2acCO8z3wKNLl",accent:"american",languageAgnostic:!0},{name:"eleven-labs-giovanni",gender:"MALE",label:"Giovanni",useCase:"Narration",age:"Young",description:"A foreigner and young voice.",languageCode:"ro-RO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zcAOhNBS3c14rBihAFp1_Romanian_preview.mp3",elevenLabsId:"zcAOhNBS3c14rBihAFp1",accent:"english-italian",languageAgnostic:!0},{name:"eleven-labs-glinda",gender:"FEMALE",label:"Glinda",useCase:"Characters",age:"Middle-aged",description:"A smooth and middle-aged voice.",languageCode:"ro-RO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/z9fAnlkpzviPz146aGWa_Romanian_preview.mp3",elevenLabsId:"z9fAnlkpzviPz146aGWa",accent:"american",languageAgnostic:!0},{name:"eleven-labs-grace",gender:"FEMALE",label:"Grace",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"ro-RO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/oWAxZDx7w5VEj9dCyTzz_Romanian_preview.mp3",elevenLabsId:"oWAxZDx7w5VEj9dCyTzz",accent:"american-southern",languageAgnostic:!0},{name:"eleven-labs-harry",gender:"MALE",label:"Harry",useCase:"Characters",age:"Young",description:"An anxious and young voice.",languageCode:"ro-RO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SOYHLrjzK2X1ezoPC6cr_Romanian_preview.mp3",elevenLabsId:"SOYHLrjzK2X1ezoPC6cr",accent:"american",languageAgnostic:!0},{name:"eleven-labs-james",gender:"MALE",label:"James",useCase:"News",age:"Old",description:"A calm and old voice.",languageCode:"ro-RO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ZQe5CZNOzWyzPSCn5a3c_Romanian_preview.mp3",elevenLabsId:"ZQe5CZNOzWyzPSCn5a3c",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-jeremy",gender:"MALE",label:"Jeremy",useCase:"Narration",age:"Young",description:"An excited and young voice.",languageCode:"ro-RO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bVMeCyTHy58xNoL34h3p_Romanian_preview.mp3",elevenLabsId:"bVMeCyTHy58xNoL34h3p",accent:"american-irish",languageAgnostic:!0},{name:"eleven-labs-jessica",gender:"FEMALE",label:"Jessica",useCase:"Conversational",age:"Young",description:"An expressive and young voice.",languageCode:"ro-RO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cgSgspJ2msm6clMCkdW9_Romanian_preview.mp3",elevenLabsId:"cgSgspJ2msm6clMCkdW9",accent:"american",languageAgnostic:!0},{name:"eleven-labs-jessie",gender:"MALE",label:"Jessie",useCase:"Characters",age:"Old",description:"A raspy and old voice.",languageCode:"ro-RO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/t0jbNlBVZ17f02VDIeMI_Romanian_preview.mp3",elevenLabsId:"t0jbNlBVZ17f02VDIeMI",accent:"american",languageAgnostic:!0},{name:"eleven-labs-joseph",gender:"MALE",label:"Joseph",useCase:"News",age:"Middle-aged",description:"An articulate and middle-aged voice.",languageCode:"ro-RO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Zlb1dXrM653N07WRdFW3_Romanian_preview.mp3",elevenLabsId:"Zlb1dXrM653N07WRdFW3",accent:"british",languageAgnostic:!0},{name:"eleven-labs-josh",gender:"MALE",label:"Josh",useCase:"Narration",age:"Young",description:"A deep and young voice.",languageCode:"ro-RO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TxGEqnHWrfWFTfGW9XjX_Romanian_preview.mp3",elevenLabsId:"TxGEqnHWrfWFTfGW9XjX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-laura",gender:"FEMALE",label:"Laura",useCase:"Social Media",age:"Young",description:"An upbeat and young voice.",languageCode:"ro-RO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/FGY2WhTYpPnrIDTdsKH5_Romanian_preview.mp3",elevenLabsId:"FGY2WhTYpPnrIDTdsKH5",accent:"american",languageAgnostic:!0},{name:"eleven-labs-liam",gender:"MALE",label:"Liam",useCase:"Narration",age:"Young",description:"An articulate and young voice.",languageCode:"ro-RO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TX3LPaxmHKxFdv7VOQHJ_Romanian_preview.mp3",elevenLabsId:"TX3LPaxmHKxFdv7VOQHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-lily",gender:"FEMALE",label:"Lily",useCase:"Narration",age:"Middle-aged",description:"A warm and middle-aged voice.",languageCode:"ro-RO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pFZP5JQG7iQjIQuC4Bku_Romanian_preview.mp3",elevenLabsId:"pFZP5JQG7iQjIQuC4Bku",accent:"british",languageAgnostic:!0},{name:"eleven-labs-matilda",gender:"FEMALE",label:"Matilda",useCase:"Narration",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"ro-RO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XrExE9yKIg1WjnnlVkGX_Romanian_preview.mp3",elevenLabsId:"XrExE9yKIg1WjnnlVkGX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-michael",gender:"MALE",label:"Michael",useCase:"Narration",age:"Old",description:"A calm and old voice.",languageCode:"ro-RO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/flq6f7yk4E4fJM5XTYuZ_Romanian_preview.mp3",elevenLabsId:"flq6f7yk4E4fJM5XTYuZ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-mimi",gender:"FEMALE",label:"Mimi",useCase:"Animation",age:"Young",description:"A childish and young voice.",languageCode:"ro-RO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zrHiDhphv9ZnVXBqCLjz_Romanian_preview.mp3",elevenLabsId:"zrHiDhphv9ZnVXBqCLjz",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-nicole",gender:"FEMALE",label:"Nicole",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"ro-RO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/piTKgcLEGmPE4e6mEKli_Romanian_preview.mp3",elevenLabsId:"piTKgcLEGmPE4e6mEKli",accent:"american",languageAgnostic:!0},{name:"eleven-labs-patrick",gender:"MALE",label:"Patrick",useCase:"Characters",age:"Middle-aged",description:"A shouty and middle-aged voice.",languageCode:"ro-RO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ODq5zmih8GrVes37Dizd_Romanian_preview.mp3",elevenLabsId:"ODq5zmih8GrVes37Dizd",accent:"american",languageAgnostic:!0},{name:"eleven-labs-paul",gender:"MALE",label:"Paul",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"ro-RO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/5Q0t7uMcjvnagumLfvZi_Romanian_preview.mp3",elevenLabsId:"5Q0t7uMcjvnagumLfvZi",accent:"american",languageAgnostic:!0},{name:"eleven-labs-rachel",gender:"FEMALE",label:"Rachel",useCase:"Narration",age:"Young",description:"A calm and young voice.",languageCode:"ro-RO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/21m00Tcm4TlvDq8ikWAM_Romanian_preview.mp3",elevenLabsId:"21m00Tcm4TlvDq8ikWAM",accent:"american",languageAgnostic:!0},{name:"eleven-labs-river",gender:"NEUTRAL",label:"River",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"ro-RO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SAz9YHcvj6GT2YYXdXww_Romanian_preview.mp3",elevenLabsId:"SAz9YHcvj6GT2YYXdXww",accent:"american",languageAgnostic:!0},{name:"eleven-labs-roger",gender:"MALE",label:"Roger",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"ro-RO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CwhRBWXzGAHq8TQ4Fs17_Romanian_preview.mp3",elevenLabsId:"CwhRBWXzGAHq8TQ4Fs17",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sam",gender:"MALE",label:"Sam",useCase:"Narration",age:"Young",description:"A raspy and young voice.",languageCode:"ro-RO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/yoZ06aMxZJJ28mfd3POQ_Romanian_preview.mp3",elevenLabsId:"yoZ06aMxZJJ28mfd3POQ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sarah",gender:"FEMALE",label:"Sarah",useCase:"News",age:"Young",description:"A soft and young voice.",languageCode:"ro-RO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/EXAVITQu4vr4xnSDxMaL_Romanian_preview.mp3",elevenLabsId:"EXAVITQu4vr4xnSDxMaL",accent:"american",languageAgnostic:!0},{name:"eleven-labs-serena",gender:"FEMALE",label:"Serena",useCase:"Narration",age:"Middle-aged",description:"A pleasant and middle-aged voice.",languageCode:"ro-RO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pMsXgVXv3BLzUgSXRplE_Romanian_preview.mp3",elevenLabsId:"pMsXgVXv3BLzUgSXRplE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-thomas",gender:"MALE",label:"Thomas",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"ro-RO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/GBv7mTt0atIp3Br8iCZE_Romanian_preview.mp3",elevenLabsId:"GBv7mTt0atIp3Br8iCZE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-will",gender:"MALE",label:"Will",useCase:"Social Media",age:"Young",description:"A friendly and young voice.",languageCode:"ro-RO",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bIHbv24MWmeRgasZH58o_Romanian_preview.mp3",elevenLabsId:"bIHbv24MWmeRgasZH58o",accent:"american",languageAgnostic:!0}],Russian:[{name:"ru-RU-Wavenet-D",label:"Boris",gender:"MALE",age:"Middle-aged",languageCode:"ru-RU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-ru-RU-Wavenet-D_preview.mp3"},{name:"ru-RU-Wavenet-E",label:"Kira",gender:"FEMALE",age:"Middle-aged",languageCode:"ru-RU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-ru-RU-Wavenet-E_preview.mp3"},{name:"eleven-labs-adam",gender:"MALE",label:"Adam",useCase:"Narration",age:"Middle-aged",description:"A deep and middle aged voice.",languageCode:"ru-RU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pNInz6obpgDQGcFmaJgB_Russian_preview.mp3",elevenLabsId:"pNInz6obpgDQGcFmaJgB",accent:"american",languageAgnostic:!0},{name:"eleven-labs-alice",gender:"FEMALE",label:"Alice",useCase:"News",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"ru-RU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Xb7hH8MSUJpSbSDYk0k2_Russian_preview.mp3",elevenLabsId:"Xb7hH8MSUJpSbSDYk0k2",accent:"british",languageAgnostic:!0},{name:"eleven-labs-antoni",gender:"MALE",label:"Antoni",useCase:"Narration",age:"Young",description:"A well-rounded and young voice.",languageCode:"ru-RU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ErXwobaYiN019PkySvjV_Russian_preview.mp3",elevenLabsId:"ErXwobaYiN019PkySvjV",accent:"american",languageAgnostic:!0},{name:"eleven-labs-aria",gender:"FEMALE",label:"Aria",useCase:"Social Media",age:"Middle-aged",description:"An expressive and middle-aged voice.",languageCode:"ru-RU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/9BWtsMINqrJLrRacOk9x_Russian_preview.mp3",elevenLabsId:"9BWtsMINqrJLrRacOk9x",accent:"american",languageAgnostic:!0},{name:"eleven-labs-arnold",gender:"MALE",label:"Arnold",useCase:"Narration",age:"Middle-aged",description:"A crisp and middle aged voice.",languageCode:"ru-RU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/VR6AewLTigWG4xSOukaG_Russian_preview.mp3",elevenLabsId:"VR6AewLTigWG4xSOukaG",accent:"american",languageAgnostic:!0},{name:"eleven-labs-bill",gender:"MALE",label:"Bill",useCase:"Narration",age:"Old",description:"A trustworthy and old voice.",languageCode:"ru-RU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pqHfZKP75CvOlQylNhV4_Russian_preview.mp3",elevenLabsId:"pqHfZKP75CvOlQylNhV4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-brian",gender:"MALE",label:"Brian",useCase:"Narration",age:"Middle-aged",description:"A deep and middle-aged voice.",languageCode:"ru-RU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/nPczCjzI2devNBz1zQrb_Russian_preview.mp3",elevenLabsId:"nPczCjzI2devNBz1zQrb",accent:"american",languageAgnostic:!0},{name:"eleven-labs-callum",gender:"MALE",label:"Callum",useCase:"Characters",age:"Middle-aged",description:"An intense and middle-aged voice.",languageCode:"ru-RU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/N2lVS1w4EtoT3dr4eOWO_Russian_preview.mp3",elevenLabsId:"N2lVS1w4EtoT3dr4eOWO",accent:"american",languageAgnostic:!0},{name:"eleven-labs-charlie",gender:"MALE",label:"Charlie",useCase:"Conversational",age:"Middle-aged",description:"A natural and middle aged voice.",languageCode:"ru-RU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/IKne3meq5aSn9XLyUdCD_Russian_preview.mp3",elevenLabsId:"IKne3meq5aSn9XLyUdCD",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-charlotte",gender:"FEMALE",label:"Charlotte",useCase:"Characters",age:"Young",description:"An inviting and young voice.",languageCode:"ru-RU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XB0fDUnXU5powFXDhCwa_Russian_preview.mp3",elevenLabsId:"XB0fDUnXU5powFXDhCwa",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-chris",gender:"MALE",label:"Chris",useCase:"Conversational",age:"Middle-aged",description:"A casual and middle-aged voice.",languageCode:"ru-RU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/iP95p4xoKVk53GoZ742B_Russian_preview.mp3",elevenLabsId:"iP95p4xoKVk53GoZ742B",accent:"american",languageAgnostic:!0},{name:"eleven-labs-clyde",gender:"MALE",label:"Clyde",useCase:"Characters",age:"Middle-aged",description:"A war veteran and middle-aged voice.",languageCode:"ru-RU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/2EiwWnXFnvU5JabPnv8n_Russian_preview.mp3",elevenLabsId:"2EiwWnXFnvU5JabPnv8n",accent:"american",languageAgnostic:!0},{name:"eleven-labs-daniel",gender:"MALE",label:"Daniel",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"ru-RU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/onwK4e9ZLuTAKqWW03F9_Russian_preview.mp3",elevenLabsId:"onwK4e9ZLuTAKqWW03F9",accent:"british",languageAgnostic:!0},{name:"eleven-labs-dave",gender:"MALE",label:"Dave",useCase:"Characters",age:"Young",description:"A conversational and young voice.",languageCode:"ru-RU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CYw3kZ02Hs0563khs1Fj_Russian_preview.mp3",elevenLabsId:"CYw3kZ02Hs0563khs1Fj",accent:"british-essex",languageAgnostic:!0},{name:"eleven-labs-domi",gender:"FEMALE",label:"Domi",useCase:"Narration",age:"Young",description:"A strong and young voice.",languageCode:"ru-RU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/AZnzlk1XvdvUeBnXmlld_Russian_preview.mp3",elevenLabsId:"AZnzlk1XvdvUeBnXmlld",accent:"american",languageAgnostic:!0},{name:"eleven-labs-dorothy",gender:"FEMALE",label:"Dorothy",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"ru-RU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ThT5KcBeYPX3keUQqHPh_Russian_preview.mp3",elevenLabsId:"ThT5KcBeYPX3keUQqHPh",accent:"british",languageAgnostic:!0},{name:"eleven-labs-drew",gender:"MALE",label:"Drew",useCase:"News",age:"Middle-aged",description:"A well-rounded and middle-aged voice.",languageCode:"ru-RU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/29vD33N1CtxCmqQRPOHJ_Russian_preview.mp3",elevenLabsId:"29vD33N1CtxCmqQRPOHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-emily",gender:"FEMALE",label:"Emily",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"ru-RU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/LcfcDJNUP1GQjkzn1xUU_Russian_preview.mp3",elevenLabsId:"LcfcDJNUP1GQjkzn1xUU",accent:"american",languageAgnostic:!0},{name:"eleven-labs-eric",gender:"MALE",label:"Eric",useCase:"Conversational",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"ru-RU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cjVigY5qzO86Huf0OWal_Russian_preview.mp3",elevenLabsId:"cjVigY5qzO86Huf0OWal",accent:"american",languageAgnostic:!0},{name:"eleven-labs-ethan",gender:"MALE",label:"Ethan",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"ru-RU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/g5CIjZEefAph4nQFvHAz_Russian_preview.mp3",elevenLabsId:"g5CIjZEefAph4nQFvHAz",accent:"american",languageAgnostic:!0},{name:"eleven-labs-fin",gender:"MALE",label:"Fin",useCase:"Characters",age:"Old",description:"A sailor and old voice.",languageCode:"ru-RU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/D38z5RcWu1voky8WS1ja_Russian_preview.mp3",elevenLabsId:"D38z5RcWu1voky8WS1ja",accent:"irish",languageAgnostic:!0},{name:"eleven-labs-freya",gender:"FEMALE",label:"Freya",useCase:"Characters",age:"Young",description:"An expressive and young voice.",languageCode:"ru-RU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jsCqWAovK2LkecY7zXl4_Russian_preview.mp3",elevenLabsId:"jsCqWAovK2LkecY7zXl4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-george",gender:"MALE",label:"George",useCase:"Narration",age:"Middle-aged",description:"A warm and middle aged voice.",languageCode:"ru-RU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/JBFqnCBsd6RMkjVDRZzb_Russian_preview.mp3",elevenLabsId:"JBFqnCBsd6RMkjVDRZzb",accent:"british",languageAgnostic:!0},{name:"eleven-labs-gigi",gender:"FEMALE",label:"Gigi",useCase:"Animation",age:"Young",description:"A childlish and young voice.",languageCode:"ru-RU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jBpfuIE2acCO8z3wKNLl_Russian_preview.mp3",elevenLabsId:"jBpfuIE2acCO8z3wKNLl",accent:"american",languageAgnostic:!0},{name:"eleven-labs-giovanni",gender:"MALE",label:"Giovanni",useCase:"Narration",age:"Young",description:"A foreigner and young voice.",languageCode:"ru-RU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zcAOhNBS3c14rBihAFp1_Russian_preview.mp3",elevenLabsId:"zcAOhNBS3c14rBihAFp1",accent:"english-italian",languageAgnostic:!0},{name:"eleven-labs-glinda",gender:"FEMALE",label:"Glinda",useCase:"Characters",age:"Middle-aged",description:"A smooth and middle-aged voice.",languageCode:"ru-RU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/z9fAnlkpzviPz146aGWa_Russian_preview.mp3",elevenLabsId:"z9fAnlkpzviPz146aGWa",accent:"american",languageAgnostic:!0},{name:"eleven-labs-grace",gender:"FEMALE",label:"Grace",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"ru-RU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/oWAxZDx7w5VEj9dCyTzz_Russian_preview.mp3",elevenLabsId:"oWAxZDx7w5VEj9dCyTzz",accent:"american-southern",languageAgnostic:!0},{name:"eleven-labs-harry",gender:"MALE",label:"Harry",useCase:"Characters",age:"Young",description:"An anxious and young voice.",languageCode:"ru-RU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SOYHLrjzK2X1ezoPC6cr_Russian_preview.mp3",elevenLabsId:"SOYHLrjzK2X1ezoPC6cr",accent:"american",languageAgnostic:!0},{name:"eleven-labs-james",gender:"MALE",label:"James",useCase:"News",age:"Old",description:"A calm and old voice.",languageCode:"ru-RU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ZQe5CZNOzWyzPSCn5a3c_Russian_preview.mp3",elevenLabsId:"ZQe5CZNOzWyzPSCn5a3c",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-jeremy",gender:"MALE",label:"Jeremy",useCase:"Narration",age:"Young",description:"An excited and young voice.",languageCode:"ru-RU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bVMeCyTHy58xNoL34h3p_Russian_preview.mp3",elevenLabsId:"bVMeCyTHy58xNoL34h3p",accent:"american-irish",languageAgnostic:!0},{name:"eleven-labs-jessica",gender:"FEMALE",label:"Jessica",useCase:"Conversational",age:"Young",description:"An expressive and young voice.",languageCode:"ru-RU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cgSgspJ2msm6clMCkdW9_Russian_preview.mp3",elevenLabsId:"cgSgspJ2msm6clMCkdW9",accent:"american",languageAgnostic:!0},{name:"eleven-labs-jessie",gender:"MALE",label:"Jessie",useCase:"Characters",age:"Old",description:"A raspy and old voice.",languageCode:"ru-RU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/t0jbNlBVZ17f02VDIeMI_Russian_preview.mp3",elevenLabsId:"t0jbNlBVZ17f02VDIeMI",accent:"american",languageAgnostic:!0},{name:"eleven-labs-joseph",gender:"MALE",label:"Joseph",useCase:"News",age:"Middle-aged",description:"An articulate and middle-aged voice.",languageCode:"ru-RU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Zlb1dXrM653N07WRdFW3_Russian_preview.mp3",elevenLabsId:"Zlb1dXrM653N07WRdFW3",accent:"british",languageAgnostic:!0},{name:"eleven-labs-josh",gender:"MALE",label:"Josh",useCase:"Narration",age:"Young",description:"A deep and young voice.",languageCode:"ru-RU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TxGEqnHWrfWFTfGW9XjX_Russian_preview.mp3",elevenLabsId:"TxGEqnHWrfWFTfGW9XjX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-laura",gender:"FEMALE",label:"Laura",useCase:"Social Media",age:"Young",description:"An upbeat and young voice.",languageCode:"ru-RU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/FGY2WhTYpPnrIDTdsKH5_Russian_preview.mp3",elevenLabsId:"FGY2WhTYpPnrIDTdsKH5",accent:"american",languageAgnostic:!0},{name:"eleven-labs-liam",gender:"MALE",label:"Liam",useCase:"Narration",age:"Young",description:"An articulate and young voice.",languageCode:"ru-RU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TX3LPaxmHKxFdv7VOQHJ_Russian_preview.mp3",elevenLabsId:"TX3LPaxmHKxFdv7VOQHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-lily",gender:"FEMALE",label:"Lily",useCase:"Narration",age:"Middle-aged",description:"A warm and middle-aged voice.",languageCode:"ru-RU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pFZP5JQG7iQjIQuC4Bku_Russian_preview.mp3",elevenLabsId:"pFZP5JQG7iQjIQuC4Bku",accent:"british",languageAgnostic:!0},{name:"eleven-labs-matilda",gender:"FEMALE",label:"Matilda",useCase:"Narration",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"ru-RU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XrExE9yKIg1WjnnlVkGX_Russian_preview.mp3",elevenLabsId:"XrExE9yKIg1WjnnlVkGX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-michael",gender:"MALE",label:"Michael",useCase:"Narration",age:"Old",description:"A calm and old voice.",languageCode:"ru-RU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/flq6f7yk4E4fJM5XTYuZ_Russian_preview.mp3",elevenLabsId:"flq6f7yk4E4fJM5XTYuZ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-mimi",gender:"FEMALE",label:"Mimi",useCase:"Animation",age:"Young",description:"A childish and young voice.",languageCode:"ru-RU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zrHiDhphv9ZnVXBqCLjz_Russian_preview.mp3",elevenLabsId:"zrHiDhphv9ZnVXBqCLjz",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-nicole",gender:"FEMALE",label:"Nicole",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"ru-RU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/piTKgcLEGmPE4e6mEKli_Russian_preview.mp3",elevenLabsId:"piTKgcLEGmPE4e6mEKli",accent:"american",languageAgnostic:!0},{name:"eleven-labs-patrick",gender:"MALE",label:"Patrick",useCase:"Characters",age:"Middle-aged",description:"A shouty and middle-aged voice.",languageCode:"ru-RU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ODq5zmih8GrVes37Dizd_Russian_preview.mp3",elevenLabsId:"ODq5zmih8GrVes37Dizd",accent:"american",languageAgnostic:!0},{name:"eleven-labs-paul",gender:"MALE",label:"Paul",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"ru-RU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/5Q0t7uMcjvnagumLfvZi_Russian_preview.mp3",elevenLabsId:"5Q0t7uMcjvnagumLfvZi",accent:"american",languageAgnostic:!0},{name:"eleven-labs-rachel",gender:"FEMALE",label:"Rachel",useCase:"Narration",age:"Young",description:"A calm and young voice.",languageCode:"ru-RU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/21m00Tcm4TlvDq8ikWAM_Russian_preview.mp3",elevenLabsId:"21m00Tcm4TlvDq8ikWAM",accent:"american",languageAgnostic:!0},{name:"eleven-labs-river",gender:"NEUTRAL",label:"River",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"ru-RU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SAz9YHcvj6GT2YYXdXww_Russian_preview.mp3",elevenLabsId:"SAz9YHcvj6GT2YYXdXww",accent:"american",languageAgnostic:!0},{name:"eleven-labs-roger",gender:"MALE",label:"Roger",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"ru-RU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CwhRBWXzGAHq8TQ4Fs17_Russian_preview.mp3",elevenLabsId:"CwhRBWXzGAHq8TQ4Fs17",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sam",gender:"MALE",label:"Sam",useCase:"Narration",age:"Young",description:"A raspy and young voice.",languageCode:"ru-RU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/yoZ06aMxZJJ28mfd3POQ_Russian_preview.mp3",elevenLabsId:"yoZ06aMxZJJ28mfd3POQ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sarah",gender:"FEMALE",label:"Sarah",useCase:"News",age:"Young",description:"A soft and young voice.",languageCode:"ru-RU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/EXAVITQu4vr4xnSDxMaL_Russian_preview.mp3",elevenLabsId:"EXAVITQu4vr4xnSDxMaL",accent:"american",languageAgnostic:!0},{name:"eleven-labs-serena",gender:"FEMALE",label:"Serena",useCase:"Narration",age:"Middle-aged",description:"A pleasant and middle-aged voice.",languageCode:"ru-RU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pMsXgVXv3BLzUgSXRplE_Russian_preview.mp3",elevenLabsId:"pMsXgVXv3BLzUgSXRplE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-thomas",gender:"MALE",label:"Thomas",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"ru-RU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/GBv7mTt0atIp3Br8iCZE_Russian_preview.mp3",elevenLabsId:"GBv7mTt0atIp3Br8iCZE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-will",gender:"MALE",label:"Will",useCase:"Social Media",age:"Young",description:"A friendly and young voice.",languageCode:"ru-RU",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bIHbv24MWmeRgasZH58o_Russian_preview.mp3",elevenLabsId:"bIHbv24MWmeRgasZH58o",accent:"american",languageAgnostic:!0}],Slovak:[{name:"sk-SK-Wavenet-A",label:"Tamara",gender:"FEMALE",age:"Middle-aged",languageCode:"sk-SK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-sk-SK-Wavenet-A_preview.mp3"},{name:"eleven-labs-adam",gender:"MALE",label:"Adam",useCase:"Narration",age:"Middle-aged",description:"A deep and middle aged voice.",languageCode:"sk-SK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pNInz6obpgDQGcFmaJgB_Slovak_preview.mp3",elevenLabsId:"pNInz6obpgDQGcFmaJgB",accent:"american",languageAgnostic:!0},{name:"eleven-labs-alice",gender:"FEMALE",label:"Alice",useCase:"News",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"sk-SK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Xb7hH8MSUJpSbSDYk0k2_Slovak_preview.mp3",elevenLabsId:"Xb7hH8MSUJpSbSDYk0k2",accent:"british",languageAgnostic:!0},{name:"eleven-labs-antoni",gender:"MALE",label:"Antoni",useCase:"Narration",age:"Young",description:"A well-rounded and young voice.",languageCode:"sk-SK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ErXwobaYiN019PkySvjV_Slovak_preview.mp3",elevenLabsId:"ErXwobaYiN019PkySvjV",accent:"american",languageAgnostic:!0},{name:"eleven-labs-aria",gender:"FEMALE",label:"Aria",useCase:"Social Media",age:"Middle-aged",description:"An expressive and middle-aged voice.",languageCode:"sk-SK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/9BWtsMINqrJLrRacOk9x_Slovak_preview.mp3",elevenLabsId:"9BWtsMINqrJLrRacOk9x",accent:"american",languageAgnostic:!0},{name:"eleven-labs-arnold",gender:"MALE",label:"Arnold",useCase:"Narration",age:"Middle-aged",description:"A crisp and middle aged voice.",languageCode:"sk-SK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/VR6AewLTigWG4xSOukaG_Slovak_preview.mp3",elevenLabsId:"VR6AewLTigWG4xSOukaG",accent:"american",languageAgnostic:!0},{name:"eleven-labs-bill",gender:"MALE",label:"Bill",useCase:"Narration",age:"Old",description:"A trustworthy and old voice.",languageCode:"sk-SK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pqHfZKP75CvOlQylNhV4_Slovak_preview.mp3",elevenLabsId:"pqHfZKP75CvOlQylNhV4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-brian",gender:"MALE",label:"Brian",useCase:"Narration",age:"Middle-aged",description:"A deep and middle-aged voice.",languageCode:"sk-SK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/nPczCjzI2devNBz1zQrb_Slovak_preview.mp3",elevenLabsId:"nPczCjzI2devNBz1zQrb",accent:"american",languageAgnostic:!0},{name:"eleven-labs-callum",gender:"MALE",label:"Callum",useCase:"Characters",age:"Middle-aged",description:"An intense and middle-aged voice.",languageCode:"sk-SK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/N2lVS1w4EtoT3dr4eOWO_Slovak_preview.mp3",elevenLabsId:"N2lVS1w4EtoT3dr4eOWO",accent:"american",languageAgnostic:!0},{name:"eleven-labs-charlie",gender:"MALE",label:"Charlie",useCase:"Conversational",age:"Middle-aged",description:"A natural and middle aged voice.",languageCode:"sk-SK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/IKne3meq5aSn9XLyUdCD_Slovak_preview.mp3",elevenLabsId:"IKne3meq5aSn9XLyUdCD",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-charlotte",gender:"FEMALE",label:"Charlotte",useCase:"Characters",age:"Young",description:"An inviting and young voice.",languageCode:"sk-SK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XB0fDUnXU5powFXDhCwa_Slovak_preview.mp3",elevenLabsId:"XB0fDUnXU5powFXDhCwa",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-chris",gender:"MALE",label:"Chris",useCase:"Conversational",age:"Middle-aged",description:"A casual and middle-aged voice.",languageCode:"sk-SK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/iP95p4xoKVk53GoZ742B_Slovak_preview.mp3",elevenLabsId:"iP95p4xoKVk53GoZ742B",accent:"american",languageAgnostic:!0},{name:"eleven-labs-clyde",gender:"MALE",label:"Clyde",useCase:"Characters",age:"Middle-aged",description:"A war veteran and middle-aged voice.",languageCode:"sk-SK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/2EiwWnXFnvU5JabPnv8n_Slovak_preview.mp3",elevenLabsId:"2EiwWnXFnvU5JabPnv8n",accent:"american",languageAgnostic:!0},{name:"eleven-labs-daniel",gender:"MALE",label:"Daniel",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"sk-SK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/onwK4e9ZLuTAKqWW03F9_Slovak_preview.mp3",elevenLabsId:"onwK4e9ZLuTAKqWW03F9",accent:"british",languageAgnostic:!0},{name:"eleven-labs-dave",gender:"MALE",label:"Dave",useCase:"Characters",age:"Young",description:"A conversational and young voice.",languageCode:"sk-SK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CYw3kZ02Hs0563khs1Fj_Slovak_preview.mp3",elevenLabsId:"CYw3kZ02Hs0563khs1Fj",accent:"british-essex",languageAgnostic:!0},{name:"eleven-labs-domi",gender:"FEMALE",label:"Domi",useCase:"Narration",age:"Young",description:"A strong and young voice.",languageCode:"sk-SK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/AZnzlk1XvdvUeBnXmlld_Slovak_preview.mp3",elevenLabsId:"AZnzlk1XvdvUeBnXmlld",accent:"american",languageAgnostic:!0},{name:"eleven-labs-dorothy",gender:"FEMALE",label:"Dorothy",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"sk-SK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ThT5KcBeYPX3keUQqHPh_Slovak_preview.mp3",elevenLabsId:"ThT5KcBeYPX3keUQqHPh",accent:"british",languageAgnostic:!0},{name:"eleven-labs-drew",gender:"MALE",label:"Drew",useCase:"News",age:"Middle-aged",description:"A well-rounded and middle-aged voice.",languageCode:"sk-SK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/29vD33N1CtxCmqQRPOHJ_Slovak_preview.mp3",elevenLabsId:"29vD33N1CtxCmqQRPOHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-emily",gender:"FEMALE",label:"Emily",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"sk-SK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/LcfcDJNUP1GQjkzn1xUU_Slovak_preview.mp3",elevenLabsId:"LcfcDJNUP1GQjkzn1xUU",accent:"american",languageAgnostic:!0},{name:"eleven-labs-eric",gender:"MALE",label:"Eric",useCase:"Conversational",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"sk-SK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cjVigY5qzO86Huf0OWal_Slovak_preview.mp3",elevenLabsId:"cjVigY5qzO86Huf0OWal",accent:"american",languageAgnostic:!0},{name:"eleven-labs-ethan",gender:"MALE",label:"Ethan",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"sk-SK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/g5CIjZEefAph4nQFvHAz_Slovak_preview.mp3",elevenLabsId:"g5CIjZEefAph4nQFvHAz",accent:"american",languageAgnostic:!0},{name:"eleven-labs-fin",gender:"MALE",label:"Fin",useCase:"Characters",age:"Old",description:"A sailor and old voice.",languageCode:"sk-SK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/D38z5RcWu1voky8WS1ja_Slovak_preview.mp3",elevenLabsId:"D38z5RcWu1voky8WS1ja",accent:"irish",languageAgnostic:!0},{name:"eleven-labs-freya",gender:"FEMALE",label:"Freya",useCase:"Characters",age:"Young",description:"An expressive and young voice.",languageCode:"sk-SK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jsCqWAovK2LkecY7zXl4_Slovak_preview.mp3",elevenLabsId:"jsCqWAovK2LkecY7zXl4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-george",gender:"MALE",label:"George",useCase:"Narration",age:"Middle-aged",description:"A warm and middle aged voice.",languageCode:"sk-SK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/JBFqnCBsd6RMkjVDRZzb_Slovak_preview.mp3",elevenLabsId:"JBFqnCBsd6RMkjVDRZzb",accent:"british",languageAgnostic:!0},{name:"eleven-labs-gigi",gender:"FEMALE",label:"Gigi",useCase:"Animation",age:"Young",description:"A childlish and young voice.",languageCode:"sk-SK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jBpfuIE2acCO8z3wKNLl_Slovak_preview.mp3",elevenLabsId:"jBpfuIE2acCO8z3wKNLl",accent:"american",languageAgnostic:!0},{name:"eleven-labs-giovanni",gender:"MALE",label:"Giovanni",useCase:"Narration",age:"Young",description:"A foreigner and young voice.",languageCode:"sk-SK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zcAOhNBS3c14rBihAFp1_Slovak_preview.mp3",elevenLabsId:"zcAOhNBS3c14rBihAFp1",accent:"english-italian",languageAgnostic:!0},{name:"eleven-labs-glinda",gender:"FEMALE",label:"Glinda",useCase:"Characters",age:"Middle-aged",description:"A smooth and middle-aged voice.",languageCode:"sk-SK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/z9fAnlkpzviPz146aGWa_Slovak_preview.mp3",elevenLabsId:"z9fAnlkpzviPz146aGWa",accent:"american",languageAgnostic:!0},{name:"eleven-labs-grace",gender:"FEMALE",label:"Grace",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"sk-SK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/oWAxZDx7w5VEj9dCyTzz_Slovak_preview.mp3",elevenLabsId:"oWAxZDx7w5VEj9dCyTzz",accent:"american-southern",languageAgnostic:!0},{name:"eleven-labs-harry",gender:"MALE",label:"Harry",useCase:"Characters",age:"Young",description:"An anxious and young voice.",languageCode:"sk-SK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SOYHLrjzK2X1ezoPC6cr_Slovak_preview.mp3",elevenLabsId:"SOYHLrjzK2X1ezoPC6cr",accent:"american",languageAgnostic:!0},{name:"eleven-labs-james",gender:"MALE",label:"James",useCase:"News",age:"Old",description:"A calm and old voice.",languageCode:"sk-SK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ZQe5CZNOzWyzPSCn5a3c_Slovak_preview.mp3",elevenLabsId:"ZQe5CZNOzWyzPSCn5a3c",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-jeremy",gender:"MALE",label:"Jeremy",useCase:"Narration",age:"Young",description:"An excited and young voice.",languageCode:"sk-SK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bVMeCyTHy58xNoL34h3p_Slovak_preview.mp3",elevenLabsId:"bVMeCyTHy58xNoL34h3p",accent:"american-irish",languageAgnostic:!0},{name:"eleven-labs-jessica",gender:"FEMALE",label:"Jessica",useCase:"Conversational",age:"Young",description:"An expressive and young voice.",languageCode:"sk-SK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cgSgspJ2msm6clMCkdW9_Slovak_preview.mp3",elevenLabsId:"cgSgspJ2msm6clMCkdW9",accent:"american",languageAgnostic:!0},{name:"eleven-labs-jessie",gender:"MALE",label:"Jessie",useCase:"Characters",age:"Old",description:"A raspy and old voice.",languageCode:"sk-SK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/t0jbNlBVZ17f02VDIeMI_Slovak_preview.mp3",elevenLabsId:"t0jbNlBVZ17f02VDIeMI",accent:"american",languageAgnostic:!0},{name:"eleven-labs-joseph",gender:"MALE",label:"Joseph",useCase:"News",age:"Middle-aged",description:"An articulate and middle-aged voice.",languageCode:"sk-SK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Zlb1dXrM653N07WRdFW3_Slovak_preview.mp3",elevenLabsId:"Zlb1dXrM653N07WRdFW3",accent:"british",languageAgnostic:!0},{name:"eleven-labs-josh",gender:"MALE",label:"Josh",useCase:"Narration",age:"Young",description:"A deep and young voice.",languageCode:"sk-SK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TxGEqnHWrfWFTfGW9XjX_Slovak_preview.mp3",elevenLabsId:"TxGEqnHWrfWFTfGW9XjX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-laura",gender:"FEMALE",label:"Laura",useCase:"Social Media",age:"Young",description:"An upbeat and young voice.",languageCode:"sk-SK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/FGY2WhTYpPnrIDTdsKH5_Slovak_preview.mp3",elevenLabsId:"FGY2WhTYpPnrIDTdsKH5",accent:"american",languageAgnostic:!0},{name:"eleven-labs-liam",gender:"MALE",label:"Liam",useCase:"Narration",age:"Young",description:"An articulate and young voice.",languageCode:"sk-SK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TX3LPaxmHKxFdv7VOQHJ_Slovak_preview.mp3",elevenLabsId:"TX3LPaxmHKxFdv7VOQHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-lily",gender:"FEMALE",label:"Lily",useCase:"Narration",age:"Middle-aged",description:"A warm and middle-aged voice.",languageCode:"sk-SK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pFZP5JQG7iQjIQuC4Bku_Slovak_preview.mp3",elevenLabsId:"pFZP5JQG7iQjIQuC4Bku",accent:"british",languageAgnostic:!0},{name:"eleven-labs-matilda",gender:"FEMALE",label:"Matilda",useCase:"Narration",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"sk-SK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XrExE9yKIg1WjnnlVkGX_Slovak_preview.mp3",elevenLabsId:"XrExE9yKIg1WjnnlVkGX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-michael",gender:"MALE",label:"Michael",useCase:"Narration",age:"Old",description:"A calm and old voice.",languageCode:"sk-SK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/flq6f7yk4E4fJM5XTYuZ_Slovak_preview.mp3",elevenLabsId:"flq6f7yk4E4fJM5XTYuZ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-mimi",gender:"FEMALE",label:"Mimi",useCase:"Animation",age:"Young",description:"A childish and young voice.",languageCode:"sk-SK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zrHiDhphv9ZnVXBqCLjz_Slovak_preview.mp3",elevenLabsId:"zrHiDhphv9ZnVXBqCLjz",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-nicole",gender:"FEMALE",label:"Nicole",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"sk-SK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/piTKgcLEGmPE4e6mEKli_Slovak_preview.mp3",elevenLabsId:"piTKgcLEGmPE4e6mEKli",accent:"american",languageAgnostic:!0},{name:"eleven-labs-patrick",gender:"MALE",label:"Patrick",useCase:"Characters",age:"Middle-aged",description:"A shouty and middle-aged voice.",languageCode:"sk-SK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ODq5zmih8GrVes37Dizd_Slovak_preview.mp3",elevenLabsId:"ODq5zmih8GrVes37Dizd",accent:"american",languageAgnostic:!0},{name:"eleven-labs-paul",gender:"MALE",label:"Paul",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"sk-SK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/5Q0t7uMcjvnagumLfvZi_Slovak_preview.mp3",elevenLabsId:"5Q0t7uMcjvnagumLfvZi",accent:"american",languageAgnostic:!0},{name:"eleven-labs-rachel",gender:"FEMALE",label:"Rachel",useCase:"Narration",age:"Young",description:"A calm and young voice.",languageCode:"sk-SK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/21m00Tcm4TlvDq8ikWAM_Slovak_preview.mp3",elevenLabsId:"21m00Tcm4TlvDq8ikWAM",accent:"american",languageAgnostic:!0},{name:"eleven-labs-river",gender:"NEUTRAL",label:"River",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"sk-SK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SAz9YHcvj6GT2YYXdXww_Slovak_preview.mp3",elevenLabsId:"SAz9YHcvj6GT2YYXdXww",accent:"american",languageAgnostic:!0},{name:"eleven-labs-roger",gender:"MALE",label:"Roger",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"sk-SK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CwhRBWXzGAHq8TQ4Fs17_Slovak_preview.mp3",elevenLabsId:"CwhRBWXzGAHq8TQ4Fs17",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sam",gender:"MALE",label:"Sam",useCase:"Narration",age:"Young",description:"A raspy and young voice.",languageCode:"sk-SK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/yoZ06aMxZJJ28mfd3POQ_Slovak_preview.mp3",elevenLabsId:"yoZ06aMxZJJ28mfd3POQ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sarah",gender:"FEMALE",label:"Sarah",useCase:"News",age:"Young",description:"A soft and young voice.",languageCode:"sk-SK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/EXAVITQu4vr4xnSDxMaL_Slovak_preview.mp3",elevenLabsId:"EXAVITQu4vr4xnSDxMaL",accent:"american",languageAgnostic:!0},{name:"eleven-labs-serena",gender:"FEMALE",label:"Serena",useCase:"Narration",age:"Middle-aged",description:"A pleasant and middle-aged voice.",languageCode:"sk-SK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pMsXgVXv3BLzUgSXRplE_Slovak_preview.mp3",elevenLabsId:"pMsXgVXv3BLzUgSXRplE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-thomas",gender:"MALE",label:"Thomas",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"sk-SK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/GBv7mTt0atIp3Br8iCZE_Slovak_preview.mp3",elevenLabsId:"GBv7mTt0atIp3Br8iCZE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-will",gender:"MALE",label:"Will",useCase:"Social Media",age:"Young",description:"A friendly and young voice.",languageCode:"sk-SK",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bIHbv24MWmeRgasZH58o_Slovak_preview.mp3",elevenLabsId:"bIHbv24MWmeRgasZH58o",accent:"american",languageAgnostic:!0}],"Spanish (Spain)":[{elevenLabsId:"W5JElH3dK1UYYAiHH7uh",sampleURL:"https://storage.googleapis.com/eleven-public-prod/custom/voices/W5JElH3dK1UYYAiHH7uh/B7hO9vz5EKT5rXeyai8j.mp3",label:"Bruno",gender:"MALE",age:"Middle-aged",accent:"peninsular",description:"Middle aged Spanish-Castillian male. Voice is Intimate & Warm. Great for narrations.",useCase:"Narrative Story",languageCode:"es-ES",name:"elevenlabs-Martin Osborne 2-es-ES-male"},{elevenLabsId:"gD1IexrzCvsXPHUuT0s3",sampleURL:"https://storage.googleapis.com/eleven-public-prod/8RYUsFHsalUXjwVG0LjhNwH1j022/voices/gD1IexrzCvsXPHUuT0s3/b19247aa-6014-45bb-b7ef-5ab51463202f.mp3",label:"Sara",gender:"FEMALE",age:"Young",accent:"peninsular",description:"Young female Spanish-Castillian accent. Suitable for Dialogue and Characters.",useCase:"Conversational",languageCode:"es-ES",name:"elevenlabs-Sara Martin 3-es-ES-female"},{gender:"FEMALE",label:"Elena",name:"es-ES-Neural2-C",languageCode:"es-ES",sampleURL:"https://cdn-useast1.kapwing.com/static/nqk-Spanish_Spain_Female.mp3",age:"Middle-aged",useCase:null},{gender:"MALE",label:"Hugo",name:"es-ES-Neural2-F",languageCode:"es-ES",sampleURL:"https://cdn-useast1.kapwing.com/static/L8O-Spanish_Spain_Male.mp3",age:"Middle-aged",useCase:null},{name:"es-ES-Neural2-B",label:"Lucas",gender:"MALE",languageCode:"es-ES",sampleURL:"https://cdn-useast1.kapwing.com/static/VOf-es-US-Neural2-B.wav",age:"Middle-aged",useCase:null},{name:"es-ES-Neural2-A",label:"Luca",gender:"FEMALE",languageCode:"es-ES",sampleURL:"https://cdn-useast1.kapwing.com/static/GFe-es-ES-Neural2-A.wav",age:"Middle-aged",useCase:null},{name:"es-ES-Polyglot-1",label:"Martn",gender:"MALE",languageCode:"es-ES",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-es-ES-Polyglot-1_preview.mp3",age:"Middle-aged",useCase:null},{name:"es-ES-Neural2-E",label:"Noa",gender:"FEMALE",languageCode:"es-ES",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-es-ES-Neural2-E_preview.mp3",age:"Middle-aged",useCase:null},{name:"es-ES-Neural2-D",label:"Paula",gender:"FEMALE",languageCode:"es-ES",sampleURL:"https://cdn-useast1.kapwing.com/static/Vas-es-ES-Neural2-D.wav",age:"Middle-aged",useCase:null},{name:"eleven-labs-adam",gender:"MALE",label:"Adam",useCase:"Narration",age:"Middle-aged",description:"A deep and middle aged voice.",languageCode:"es-ES",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pNInz6obpgDQGcFmaJgB_Spanish(Spain)_preview.mp3",elevenLabsId:"pNInz6obpgDQGcFmaJgB",accent:"american",languageAgnostic:!0},{name:"eleven-labs-alice",gender:"FEMALE",label:"Alice",useCase:"News",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"es-ES",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Xb7hH8MSUJpSbSDYk0k2_Spanish(Spain)_preview.mp3",elevenLabsId:"Xb7hH8MSUJpSbSDYk0k2",accent:"british",languageAgnostic:!0},{name:"eleven-labs-antoni",gender:"MALE",label:"Antoni",useCase:"Narration",age:"Young",description:"A well-rounded and young voice.",languageCode:"es-ES",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ErXwobaYiN019PkySvjV_Spanish(Spain)_preview.mp3",elevenLabsId:"ErXwobaYiN019PkySvjV",accent:"american",languageAgnostic:!0},{name:"eleven-labs-aria",gender:"FEMALE",label:"Aria",useCase:"Social Media",age:"Middle-aged",description:"An expressive and middle-aged voice.",languageCode:"es-ES",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/9BWtsMINqrJLrRacOk9x_Spanish(Spain)_preview.mp3",elevenLabsId:"9BWtsMINqrJLrRacOk9x",accent:"american",languageAgnostic:!0},{name:"eleven-labs-arnold",gender:"MALE",label:"Arnold",useCase:"Narration",age:"Middle-aged",description:"A crisp and middle aged voice.",languageCode:"es-ES",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/VR6AewLTigWG4xSOukaG_Spanish(Spain)_preview.mp3",elevenLabsId:"VR6AewLTigWG4xSOukaG",accent:"american",languageAgnostic:!0},{name:"eleven-labs-bill",gender:"MALE",label:"Bill",useCase:"Narration",age:"Old",description:"A trustworthy and old voice.",languageCode:"es-ES",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pqHfZKP75CvOlQylNhV4_Spanish(Spain)_preview.mp3",elevenLabsId:"pqHfZKP75CvOlQylNhV4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-brian",gender:"MALE",label:"Brian",useCase:"Narration",age:"Middle-aged",description:"A deep and middle-aged voice.",languageCode:"es-ES",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/nPczCjzI2devNBz1zQrb_Spanish(Spain)_preview.mp3",elevenLabsId:"nPczCjzI2devNBz1zQrb",accent:"american",languageAgnostic:!0},{name:"eleven-labs-callum",gender:"MALE",label:"Callum",useCase:"Characters",age:"Middle-aged",description:"An intense and middle-aged voice.",languageCode:"es-ES",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/N2lVS1w4EtoT3dr4eOWO_Spanish(Spain)_preview.mp3",elevenLabsId:"N2lVS1w4EtoT3dr4eOWO",accent:"american",languageAgnostic:!0},{name:"eleven-labs-charlie",gender:"MALE",label:"Charlie",useCase:"Conversational",age:"Middle-aged",description:"A natural and middle aged voice.",languageCode:"es-ES",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/IKne3meq5aSn9XLyUdCD_Spanish(Spain)_preview.mp3",elevenLabsId:"IKne3meq5aSn9XLyUdCD",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-charlotte",gender:"FEMALE",label:"Charlotte",useCase:"Characters",age:"Young",description:"An inviting and young voice.",languageCode:"es-ES",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XB0fDUnXU5powFXDhCwa_Spanish(Spain)_preview.mp3",elevenLabsId:"XB0fDUnXU5powFXDhCwa",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-chris",gender:"MALE",label:"Chris",useCase:"Conversational",age:"Middle-aged",description:"A casual and middle-aged voice.",languageCode:"es-ES",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/iP95p4xoKVk53GoZ742B_Spanish(Spain)_preview.mp3",elevenLabsId:"iP95p4xoKVk53GoZ742B",accent:"american",languageAgnostic:!0},{name:"eleven-labs-clyde",gender:"MALE",label:"Clyde",useCase:"Characters",age:"Middle-aged",description:"A war veteran and middle-aged voice.",languageCode:"es-ES",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/2EiwWnXFnvU5JabPnv8n_Spanish(Spain)_preview.mp3",elevenLabsId:"2EiwWnXFnvU5JabPnv8n",accent:"american",languageAgnostic:!0},{name:"eleven-labs-daniel",gender:"MALE",label:"Daniel",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"es-ES",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/onwK4e9ZLuTAKqWW03F9_Spanish(Spain)_preview.mp3",elevenLabsId:"onwK4e9ZLuTAKqWW03F9",accent:"british",languageAgnostic:!0},{name:"eleven-labs-dave",gender:"MALE",label:"Dave",useCase:"Characters",age:"Young",description:"A conversational and young voice.",languageCode:"es-ES",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CYw3kZ02Hs0563khs1Fj_Spanish(Spain)_preview.mp3",elevenLabsId:"CYw3kZ02Hs0563khs1Fj",accent:"british-essex",languageAgnostic:!0},{name:"eleven-labs-domi",gender:"FEMALE",label:"Domi",useCase:"Narration",age:"Young",description:"A strong and young voice.",languageCode:"es-ES",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/AZnzlk1XvdvUeBnXmlld_Spanish(Spain)_preview.mp3",elevenLabsId:"AZnzlk1XvdvUeBnXmlld",accent:"american",languageAgnostic:!0},{name:"eleven-labs-dorothy",gender:"FEMALE",label:"Dorothy",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"es-ES",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ThT5KcBeYPX3keUQqHPh_Spanish(Spain)_preview.mp3",elevenLabsId:"ThT5KcBeYPX3keUQqHPh",accent:"british",languageAgnostic:!0},{name:"eleven-labs-drew",gender:"MALE",label:"Drew",useCase:"News",age:"Middle-aged",description:"A well-rounded and middle-aged voice.",languageCode:"es-ES",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/29vD33N1CtxCmqQRPOHJ_Spanish(Spain)_preview.mp3",elevenLabsId:"29vD33N1CtxCmqQRPOHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-emily",gender:"FEMALE",label:"Emily",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"es-ES",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/LcfcDJNUP1GQjkzn1xUU_Spanish(Spain)_preview.mp3",elevenLabsId:"LcfcDJNUP1GQjkzn1xUU",accent:"american",languageAgnostic:!0},{name:"eleven-labs-eric",gender:"MALE",label:"Eric",useCase:"Conversational",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"es-ES",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cjVigY5qzO86Huf0OWal_Spanish(Spain)_preview.mp3",elevenLabsId:"cjVigY5qzO86Huf0OWal",accent:"american",languageAgnostic:!0},{name:"eleven-labs-ethan",gender:"MALE",label:"Ethan",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"es-ES",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/g5CIjZEefAph4nQFvHAz_Spanish(Spain)_preview.mp3",elevenLabsId:"g5CIjZEefAph4nQFvHAz",accent:"american",languageAgnostic:!0},{name:"eleven-labs-fin",gender:"MALE",label:"Fin",useCase:"Characters",age:"Old",description:"A sailor and old voice.",languageCode:"es-ES",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/D38z5RcWu1voky8WS1ja_Spanish(Spain)_preview.mp3",elevenLabsId:"D38z5RcWu1voky8WS1ja",accent:"irish",languageAgnostic:!0},{name:"eleven-labs-freya",gender:"FEMALE",label:"Freya",useCase:"Characters",age:"Young",description:"An expressive and young voice.",languageCode:"es-ES",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jsCqWAovK2LkecY7zXl4_Spanish(Spain)_preview.mp3",elevenLabsId:"jsCqWAovK2LkecY7zXl4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-george",gender:"MALE",label:"George",useCase:"Narration",age:"Middle-aged",description:"A warm and middle aged voice.",languageCode:"es-ES",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/JBFqnCBsd6RMkjVDRZzb_Spanish(Spain)_preview.mp3",elevenLabsId:"JBFqnCBsd6RMkjVDRZzb",accent:"british",languageAgnostic:!0},{name:"eleven-labs-gigi",gender:"FEMALE",label:"Gigi",useCase:"Animation",age:"Young",description:"A childlish and young voice.",languageCode:"es-ES",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jBpfuIE2acCO8z3wKNLl_Spanish(Spain)_preview.mp3",elevenLabsId:"jBpfuIE2acCO8z3wKNLl",accent:"american",languageAgnostic:!0},{name:"eleven-labs-giovanni",gender:"MALE",label:"Giovanni",useCase:"Narration",age:"Young",description:"A foreigner and young voice.",languageCode:"es-ES",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zcAOhNBS3c14rBihAFp1_Spanish(Spain)_preview.mp3",elevenLabsId:"zcAOhNBS3c14rBihAFp1",accent:"english-italian",languageAgnostic:!0},{name:"eleven-labs-glinda",gender:"FEMALE",label:"Glinda",useCase:"Characters",age:"Middle-aged",description:"A smooth and middle-aged voice.",languageCode:"es-ES",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/z9fAnlkpzviPz146aGWa_Spanish(Spain)_preview.mp3",elevenLabsId:"z9fAnlkpzviPz146aGWa",accent:"american",languageAgnostic:!0},{name:"eleven-labs-grace",gender:"FEMALE",label:"Grace",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"es-ES",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/oWAxZDx7w5VEj9dCyTzz_Spanish(Spain)_preview.mp3",elevenLabsId:"oWAxZDx7w5VEj9dCyTzz",accent:"american-southern",languageAgnostic:!0},{name:"eleven-labs-harry",gender:"MALE",label:"Harry",useCase:"Characters",age:"Young",description:"An anxious and young voice.",languageCode:"es-ES",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SOYHLrjzK2X1ezoPC6cr_Spanish(Spain)_preview.mp3",elevenLabsId:"SOYHLrjzK2X1ezoPC6cr",accent:"american",languageAgnostic:!0},{name:"eleven-labs-james",gender:"MALE",label:"James",useCase:"News",age:"Old",description:"A calm and old voice.",languageCode:"es-ES",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ZQe5CZNOzWyzPSCn5a3c_Spanish(Spain)_preview.mp3",elevenLabsId:"ZQe5CZNOzWyzPSCn5a3c",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-jeremy",gender:"MALE",label:"Jeremy",useCase:"Narration",age:"Young",description:"An excited and young voice.",languageCode:"es-ES",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bVMeCyTHy58xNoL34h3p_Spanish(Spain)_preview.mp3",elevenLabsId:"bVMeCyTHy58xNoL34h3p",accent:"american-irish",languageAgnostic:!0},{name:"eleven-labs-jessica",gender:"FEMALE",label:"Jessica",useCase:"Conversational",age:"Young",description:"An expressive and young voice.",languageCode:"es-ES",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cgSgspJ2msm6clMCkdW9_Spanish(Spain)_preview.mp3",elevenLabsId:"cgSgspJ2msm6clMCkdW9",accent:"american",languageAgnostic:!0},{name:"eleven-labs-jessie",gender:"MALE",label:"Jessie",useCase:"Characters",age:"Old",description:"A raspy and old voice.",languageCode:"es-ES",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/t0jbNlBVZ17f02VDIeMI_Spanish(Spain)_preview.mp3",elevenLabsId:"t0jbNlBVZ17f02VDIeMI",accent:"american",languageAgnostic:!0},{name:"eleven-labs-joseph",gender:"MALE",label:"Joseph",useCase:"News",age:"Middle-aged",description:"An articulate and middle-aged voice.",languageCode:"es-ES",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Zlb1dXrM653N07WRdFW3_Spanish(Spain)_preview.mp3",elevenLabsId:"Zlb1dXrM653N07WRdFW3",accent:"british",languageAgnostic:!0},{name:"eleven-labs-josh",gender:"MALE",label:"Josh",useCase:"Narration",age:"Young",description:"A deep and young voice.",languageCode:"es-ES",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TxGEqnHWrfWFTfGW9XjX_Spanish(Spain)_preview.mp3",elevenLabsId:"TxGEqnHWrfWFTfGW9XjX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-laura",gender:"FEMALE",label:"Laura",useCase:"Social Media",age:"Young",description:"An upbeat and young voice.",languageCode:"es-ES",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/FGY2WhTYpPnrIDTdsKH5_Spanish(Spain)_preview.mp3",elevenLabsId:"FGY2WhTYpPnrIDTdsKH5",accent:"american",languageAgnostic:!0},{name:"eleven-labs-liam",gender:"MALE",label:"Liam",useCase:"Narration",age:"Young",description:"An articulate and young voice.",languageCode:"es-ES",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TX3LPaxmHKxFdv7VOQHJ_Spanish(Spain)_preview.mp3",elevenLabsId:"TX3LPaxmHKxFdv7VOQHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-lily",gender:"FEMALE",label:"Lily",useCase:"Narration",age:"Middle-aged",description:"A warm and middle-aged voice.",languageCode:"es-ES",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pFZP5JQG7iQjIQuC4Bku_Spanish(Spain)_preview.mp3",elevenLabsId:"pFZP5JQG7iQjIQuC4Bku",accent:"british",languageAgnostic:!0},{name:"eleven-labs-matilda",gender:"FEMALE",label:"Matilda",useCase:"Narration",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"es-ES",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XrExE9yKIg1WjnnlVkGX_Spanish(Spain)_preview.mp3",elevenLabsId:"XrExE9yKIg1WjnnlVkGX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-michael",gender:"MALE",label:"Michael",useCase:"Narration",age:"Old",description:"A calm and old voice.",languageCode:"es-ES",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/flq6f7yk4E4fJM5XTYuZ_Spanish(Spain)_preview.mp3",elevenLabsId:"flq6f7yk4E4fJM5XTYuZ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-mimi",gender:"FEMALE",label:"Mimi",useCase:"Animation",age:"Young",description:"A childish and young voice.",languageCode:"es-ES",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zrHiDhphv9ZnVXBqCLjz_Spanish(Spain)_preview.mp3",elevenLabsId:"zrHiDhphv9ZnVXBqCLjz",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-nicole",gender:"FEMALE",label:"Nicole",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"es-ES",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/piTKgcLEGmPE4e6mEKli_Spanish(Spain)_preview.mp3",elevenLabsId:"piTKgcLEGmPE4e6mEKli",accent:"american",languageAgnostic:!0},{name:"eleven-labs-patrick",gender:"MALE",label:"Patrick",useCase:"Characters",age:"Middle-aged",description:"A shouty and middle-aged voice.",languageCode:"es-ES",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ODq5zmih8GrVes37Dizd_Spanish(Spain)_preview.mp3",elevenLabsId:"ODq5zmih8GrVes37Dizd",accent:"american",languageAgnostic:!0},{name:"eleven-labs-paul",gender:"MALE",label:"Paul",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"es-ES",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/5Q0t7uMcjvnagumLfvZi_Spanish(Spain)_preview.mp3",elevenLabsId:"5Q0t7uMcjvnagumLfvZi",accent:"american",languageAgnostic:!0},{name:"eleven-labs-rachel",gender:"FEMALE",label:"Rachel",useCase:"Narration",age:"Young",description:"A calm and young voice.",languageCode:"es-ES",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/21m00Tcm4TlvDq8ikWAM_Spanish(Spain)_preview.mp3",elevenLabsId:"21m00Tcm4TlvDq8ikWAM",accent:"american",languageAgnostic:!0},{name:"eleven-labs-river",gender:"NEUTRAL",label:"River",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"es-ES",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SAz9YHcvj6GT2YYXdXww_Spanish(Spain)_preview.mp3",elevenLabsId:"SAz9YHcvj6GT2YYXdXww",accent:"american",languageAgnostic:!0},{name:"eleven-labs-roger",gender:"MALE",label:"Roger",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"es-ES",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CwhRBWXzGAHq8TQ4Fs17_Spanish(Spain)_preview.mp3",elevenLabsId:"CwhRBWXzGAHq8TQ4Fs17",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sam",gender:"MALE",label:"Sam",useCase:"Narration",age:"Young",description:"A raspy and young voice.",languageCode:"es-ES",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/yoZ06aMxZJJ28mfd3POQ_Spanish(Spain)_preview.mp3",elevenLabsId:"yoZ06aMxZJJ28mfd3POQ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sarah",gender:"FEMALE",label:"Sarah",useCase:"News",age:"Young",description:"A soft and young voice.",languageCode:"es-ES",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/EXAVITQu4vr4xnSDxMaL_Spanish(Spain)_preview.mp3",elevenLabsId:"EXAVITQu4vr4xnSDxMaL",accent:"american",languageAgnostic:!0},{name:"eleven-labs-serena",gender:"FEMALE",label:"Serena",useCase:"Narration",age:"Middle-aged",description:"A pleasant and middle-aged voice.",languageCode:"es-ES",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pMsXgVXv3BLzUgSXRplE_Spanish(Spain)_preview.mp3",elevenLabsId:"pMsXgVXv3BLzUgSXRplE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-thomas",gender:"MALE",label:"Thomas",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"es-ES",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/GBv7mTt0atIp3Br8iCZE_Spanish(Spain)_preview.mp3",elevenLabsId:"GBv7mTt0atIp3Br8iCZE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-will",gender:"MALE",label:"Will",useCase:"Social Media",age:"Young",description:"A friendly and young voice.",languageCode:"es-ES",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bIHbv24MWmeRgasZH58o_Spanish(Spain)_preview.mp3",elevenLabsId:"bIHbv24MWmeRgasZH58o",accent:"american",languageAgnostic:!0}],"Spanish (Mexico)":[{gender:"FEMALE",label:"Ana",name:"es-US-Neural2-A",languageCode:"es-US",sampleURL:"https://cdn-useast1.kapwing.com/static/kWb-Spanish_Mexico_Female.mp3",age:"Middle-aged",useCase:null},{name:"es-US-Polyglot-1",label:"Andrs",gender:"MALE",languageCode:"es-US",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-es-US-Polyglot-1_preview.mp3",age:"Middle-aged",useCase:null},{name:"es-US-News-D",label:"Diego",gender:"MALE",languageCode:"es-US",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-es-US-News-D_preview.mp3",age:"Middle-aged",useCase:null},{gender:"MALE",label:"Emilio",name:"es-US-Neural2-B",languageCode:"es-US",sampleURL:"https://cdn-useast1.kapwing.com/static/g-U-Spanish_Mexico_Male.mp3",age:"Middle-aged",useCase:null},{name:"es-US-News-E",label:"Manuel",gender:"MALE",languageCode:"es-US",sampleURL:"https://cdn-useast1.kapwing.com/static/VSM-es-US-News-E.wav",age:"Middle-aged",useCase:null},{name:"es-US-News-F",label:"Maria",gender:"FEMALE",languageCode:"es-US",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-es-US-News-F_preview.mp3",age:"Middle-aged",useCase:null},{name:"es-US-Neural2-C",label:"Mateo",gender:"MALE",languageCode:"es-US",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-es-US-Neural2-C_preview.mp3",age:"Middle-aged",useCase:null},{name:"es-US-News-G",label:"Sofa",gender:"FEMALE",languageCode:"es-US",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-es-US-News-G_preview.mp3",age:"Middle-aged",useCase:null},{elevenLabsId:"YExhVa4bZONzeingloMX",sampleURL:"https://storage.googleapis.com/eleven-public-prod/database/user/2UyeIa8hXzSW03KJIrIHdCeNRWi2/voices/YExhVa4bZONzeingloMX/I8gOUX5odbmcjPd0BuQK.mp3",label:"Juan",gender:"MALE",age:"Middle-aged",accent:"latin american",description:"A warm and pleasant voice.",useCase:"Conversational",languageCode:"es-MX",name:"elevenlabs-Juan Carlos-es-MX-male"},{elevenLabsId:"2rigMbVWLdqtBSCahJFX",sampleURL:"https://storage.googleapis.com/eleven-public-prod/database/user/8RYUsFHsalUXjwVG0LjhNwH1j022/voices/2rigMbVWLdqtBSCahJFX/h42L452UXdOFeirGlerd.mp3",label:"Tatiana",gender:"FEMALE",age:"Middle-aged",accent:"latin american",description:"A calm and middle-aged voice.",useCase:"Narrative Story",languageCode:"es-MX",name:"elevenlabs-Tatiana Martin-es-MX-female"},{name:"eleven-labs-adam",gender:"MALE",label:"Adam",useCase:"Narration",age:"Middle-aged",description:"A deep and middle aged voice.",languageCode:"es-MX",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pNInz6obpgDQGcFmaJgB_Spanish(Mexico)_preview.mp3",elevenLabsId:"pNInz6obpgDQGcFmaJgB",accent:"american",languageAgnostic:!0},{name:"eleven-labs-alice",gender:"FEMALE",label:"Alice",useCase:"News",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"es-MX",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Xb7hH8MSUJpSbSDYk0k2_Spanish(Mexico)_preview.mp3",elevenLabsId:"Xb7hH8MSUJpSbSDYk0k2",accent:"british",languageAgnostic:!0},{name:"eleven-labs-antoni",gender:"MALE",label:"Antoni",useCase:"Narration",age:"Young",description:"A well-rounded and young voice.",languageCode:"es-MX",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ErXwobaYiN019PkySvjV_Spanish(Mexico)_preview.mp3",elevenLabsId:"ErXwobaYiN019PkySvjV",accent:"american",languageAgnostic:!0},{name:"eleven-labs-aria",gender:"FEMALE",label:"Aria",useCase:"Social Media",age:"Middle-aged",description:"An expressive and middle-aged voice.",languageCode:"es-MX",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/9BWtsMINqrJLrRacOk9x_Spanish(Mexico)_preview.mp3",elevenLabsId:"9BWtsMINqrJLrRacOk9x",accent:"american",languageAgnostic:!0},{name:"eleven-labs-arnold",gender:"MALE",label:"Arnold",useCase:"Narration",age:"Middle-aged",description:"A crisp and middle aged voice.",languageCode:"es-MX",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/VR6AewLTigWG4xSOukaG_Spanish(Mexico)_preview.mp3",elevenLabsId:"VR6AewLTigWG4xSOukaG",accent:"american",languageAgnostic:!0},{name:"eleven-labs-bill",gender:"MALE",label:"Bill",useCase:"Narration",age:"Old",description:"A trustworthy and old voice.",languageCode:"es-MX",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pqHfZKP75CvOlQylNhV4_Spanish(Mexico)_preview.mp3",elevenLabsId:"pqHfZKP75CvOlQylNhV4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-brian",gender:"MALE",label:"Brian",useCase:"Narration",age:"Middle-aged",description:"A deep and middle-aged voice.",languageCode:"es-MX",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/nPczCjzI2devNBz1zQrb_Spanish(Mexico)_preview.mp3",elevenLabsId:"nPczCjzI2devNBz1zQrb",accent:"american",languageAgnostic:!0},{name:"eleven-labs-callum",gender:"MALE",label:"Callum",useCase:"Characters",age:"Middle-aged",description:"An intense and middle-aged voice.",languageCode:"es-MX",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/N2lVS1w4EtoT3dr4eOWO_Spanish(Mexico)_preview.mp3",elevenLabsId:"N2lVS1w4EtoT3dr4eOWO",accent:"american",languageAgnostic:!0},{name:"eleven-labs-charlie",gender:"MALE",label:"Charlie",useCase:"Conversational",age:"Middle-aged",description:"A natural and middle aged voice.",languageCode:"es-MX",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/IKne3meq5aSn9XLyUdCD_Spanish(Mexico)_preview.mp3",elevenLabsId:"IKne3meq5aSn9XLyUdCD",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-charlotte",gender:"FEMALE",label:"Charlotte",useCase:"Characters",age:"Young",description:"An inviting and young voice.",languageCode:"es-MX",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XB0fDUnXU5powFXDhCwa_Spanish(Mexico)_preview.mp3",elevenLabsId:"XB0fDUnXU5powFXDhCwa",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-chris",gender:"MALE",label:"Chris",useCase:"Conversational",age:"Middle-aged",description:"A casual and middle-aged voice.",languageCode:"es-MX",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/iP95p4xoKVk53GoZ742B_Spanish(Mexico)_preview.mp3",elevenLabsId:"iP95p4xoKVk53GoZ742B",accent:"american",languageAgnostic:!0},{name:"eleven-labs-clyde",gender:"MALE",label:"Clyde",useCase:"Characters",age:"Middle-aged",description:"A war veteran and middle-aged voice.",languageCode:"es-MX",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/2EiwWnXFnvU5JabPnv8n_Spanish(Mexico)_preview.mp3",elevenLabsId:"2EiwWnXFnvU5JabPnv8n",accent:"american",languageAgnostic:!0},{name:"eleven-labs-daniel",gender:"MALE",label:"Daniel",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"es-MX",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/onwK4e9ZLuTAKqWW03F9_Spanish(Mexico)_preview.mp3",elevenLabsId:"onwK4e9ZLuTAKqWW03F9",accent:"british",languageAgnostic:!0},{name:"eleven-labs-dave",gender:"MALE",label:"Dave",useCase:"Characters",age:"Young",description:"A conversational and young voice.",languageCode:"es-MX",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CYw3kZ02Hs0563khs1Fj_Spanish(Mexico)_preview.mp3",elevenLabsId:"CYw3kZ02Hs0563khs1Fj",accent:"british-essex",languageAgnostic:!0},{name:"eleven-labs-domi",gender:"FEMALE",label:"Domi",useCase:"Narration",age:"Young",description:"A strong and young voice.",languageCode:"es-MX",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/AZnzlk1XvdvUeBnXmlld_Spanish(Mexico)_preview.mp3",elevenLabsId:"AZnzlk1XvdvUeBnXmlld",accent:"american",languageAgnostic:!0},{name:"eleven-labs-dorothy",gender:"FEMALE",label:"Dorothy",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"es-MX",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ThT5KcBeYPX3keUQqHPh_Spanish(Mexico)_preview.mp3",elevenLabsId:"ThT5KcBeYPX3keUQqHPh",accent:"british",languageAgnostic:!0},{name:"eleven-labs-drew",gender:"MALE",label:"Drew",useCase:"News",age:"Middle-aged",description:"A well-rounded and middle-aged voice.",languageCode:"es-MX",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/29vD33N1CtxCmqQRPOHJ_Spanish(Mexico)_preview.mp3",elevenLabsId:"29vD33N1CtxCmqQRPOHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-emily",gender:"FEMALE",label:"Emily",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"es-MX",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/LcfcDJNUP1GQjkzn1xUU_Spanish(Mexico)_preview.mp3",elevenLabsId:"LcfcDJNUP1GQjkzn1xUU",accent:"american",languageAgnostic:!0},{name:"eleven-labs-eric",gender:"MALE",label:"Eric",useCase:"Conversational",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"es-MX",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cjVigY5qzO86Huf0OWal_Spanish(Mexico)_preview.mp3",elevenLabsId:"cjVigY5qzO86Huf0OWal",accent:"american",languageAgnostic:!0},{name:"eleven-labs-ethan",gender:"MALE",label:"Ethan",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"es-MX",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/g5CIjZEefAph4nQFvHAz_Spanish(Mexico)_preview.mp3",elevenLabsId:"g5CIjZEefAph4nQFvHAz",accent:"american",languageAgnostic:!0},{name:"eleven-labs-fin",gender:"MALE",label:"Fin",useCase:"Characters",age:"Old",description:"A sailor and old voice.",languageCode:"es-MX",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/D38z5RcWu1voky8WS1ja_Spanish(Mexico)_preview.mp3",elevenLabsId:"D38z5RcWu1voky8WS1ja",accent:"irish",languageAgnostic:!0},{name:"eleven-labs-freya",gender:"FEMALE",label:"Freya",useCase:"Characters",age:"Young",description:"An expressive and young voice.",languageCode:"es-MX",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jsCqWAovK2LkecY7zXl4_Spanish(Mexico)_preview.mp3",elevenLabsId:"jsCqWAovK2LkecY7zXl4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-george",gender:"MALE",label:"George",useCase:"Narration",age:"Middle-aged",description:"A warm and middle aged voice.",languageCode:"es-MX",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/JBFqnCBsd6RMkjVDRZzb_Spanish(Mexico)_preview.mp3",elevenLabsId:"JBFqnCBsd6RMkjVDRZzb",accent:"british",languageAgnostic:!0},{name:"eleven-labs-gigi",gender:"FEMALE",label:"Gigi",useCase:"Animation",age:"Young",description:"A childlish and young voice.",languageCode:"es-MX",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jBpfuIE2acCO8z3wKNLl_Spanish(Mexico)_preview.mp3",elevenLabsId:"jBpfuIE2acCO8z3wKNLl",accent:"american",languageAgnostic:!0},{name:"eleven-labs-giovanni",gender:"MALE",label:"Giovanni",useCase:"Narration",age:"Young",description:"A foreigner and young voice.",languageCode:"es-MX",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zcAOhNBS3c14rBihAFp1_Spanish(Mexico)_preview.mp3",elevenLabsId:"zcAOhNBS3c14rBihAFp1",accent:"english-italian",languageAgnostic:!0},{name:"eleven-labs-glinda",gender:"FEMALE",label:"Glinda",useCase:"Characters",age:"Middle-aged",description:"A smooth and middle-aged voice.",languageCode:"es-MX",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/z9fAnlkpzviPz146aGWa_Spanish(Mexico)_preview.mp3",elevenLabsId:"z9fAnlkpzviPz146aGWa",accent:"american",languageAgnostic:!0},{name:"eleven-labs-grace",gender:"FEMALE",label:"Grace",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"es-MX",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/oWAxZDx7w5VEj9dCyTzz_Spanish(Mexico)_preview.mp3",elevenLabsId:"oWAxZDx7w5VEj9dCyTzz",accent:"american-southern",languageAgnostic:!0},{name:"eleven-labs-harry",gender:"MALE",label:"Harry",useCase:"Characters",age:"Young",description:"An anxious and young voice.",languageCode:"es-MX",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SOYHLrjzK2X1ezoPC6cr_Spanish(Mexico)_preview.mp3",elevenLabsId:"SOYHLrjzK2X1ezoPC6cr",accent:"american",languageAgnostic:!0},{name:"eleven-labs-james",gender:"MALE",label:"James",useCase:"News",age:"Old",description:"A calm and old voice.",languageCode:"es-MX",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ZQe5CZNOzWyzPSCn5a3c_Spanish(Mexico)_preview.mp3",elevenLabsId:"ZQe5CZNOzWyzPSCn5a3c",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-jeremy",gender:"MALE",label:"Jeremy",useCase:"Narration",age:"Young",description:"An excited and young voice.",languageCode:"es-MX",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bVMeCyTHy58xNoL34h3p_Spanish(Mexico)_preview.mp3",elevenLabsId:"bVMeCyTHy58xNoL34h3p",accent:"american-irish",languageAgnostic:!0},{name:"eleven-labs-jessica",gender:"FEMALE",label:"Jessica",useCase:"Conversational",age:"Young",description:"An expressive and young voice.",languageCode:"es-MX",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cgSgspJ2msm6clMCkdW9_Spanish(Mexico)_preview.mp3",elevenLabsId:"cgSgspJ2msm6clMCkdW9",accent:"american",languageAgnostic:!0},{name:"eleven-labs-jessie",gender:"MALE",label:"Jessie",useCase:"Characters",age:"Old",description:"A raspy and old voice.",languageCode:"es-MX",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/t0jbNlBVZ17f02VDIeMI_Spanish(Mexico)_preview.mp3",elevenLabsId:"t0jbNlBVZ17f02VDIeMI",accent:"american",languageAgnostic:!0},{name:"eleven-labs-joseph",gender:"MALE",label:"Joseph",useCase:"News",age:"Middle-aged",description:"An articulate and middle-aged voice.",languageCode:"es-MX",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Zlb1dXrM653N07WRdFW3_Spanish(Mexico)_preview.mp3",elevenLabsId:"Zlb1dXrM653N07WRdFW3",accent:"british",languageAgnostic:!0},{name:"eleven-labs-josh",gender:"MALE",label:"Josh",useCase:"Narration",age:"Young",description:"A deep and young voice.",languageCode:"es-MX",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TxGEqnHWrfWFTfGW9XjX_Spanish(Mexico)_preview.mp3",elevenLabsId:"TxGEqnHWrfWFTfGW9XjX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-laura",gender:"FEMALE",label:"Laura",useCase:"Social Media",age:"Young",description:"An upbeat and young voice.",languageCode:"es-MX",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/FGY2WhTYpPnrIDTdsKH5_Spanish(Mexico)_preview.mp3",elevenLabsId:"FGY2WhTYpPnrIDTdsKH5",accent:"american",languageAgnostic:!0},{name:"eleven-labs-liam",gender:"MALE",label:"Liam",useCase:"Narration",age:"Young",description:"An articulate and young voice.",languageCode:"es-MX",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TX3LPaxmHKxFdv7VOQHJ_Spanish(Mexico)_preview.mp3",elevenLabsId:"TX3LPaxmHKxFdv7VOQHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-lily",gender:"FEMALE",label:"Lily",useCase:"Narration",age:"Middle-aged",description:"A warm and middle-aged voice.",languageCode:"es-MX",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pFZP5JQG7iQjIQuC4Bku_Spanish(Mexico)_preview.mp3",elevenLabsId:"pFZP5JQG7iQjIQuC4Bku",accent:"british",languageAgnostic:!0},{name:"eleven-labs-matilda",gender:"FEMALE",label:"Matilda",useCase:"Narration",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"es-MX",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XrExE9yKIg1WjnnlVkGX_Spanish(Mexico)_preview.mp3",elevenLabsId:"XrExE9yKIg1WjnnlVkGX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-michael",gender:"MALE",label:"Michael",useCase:"Narration",age:"Old",description:"A calm and old voice.",languageCode:"es-MX",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/flq6f7yk4E4fJM5XTYuZ_Spanish(Mexico)_preview.mp3",elevenLabsId:"flq6f7yk4E4fJM5XTYuZ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-mimi",gender:"FEMALE",label:"Mimi",useCase:"Animation",age:"Young",description:"A childish and young voice.",languageCode:"es-MX",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zrHiDhphv9ZnVXBqCLjz_Spanish(Mexico)_preview.mp3",elevenLabsId:"zrHiDhphv9ZnVXBqCLjz",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-nicole",gender:"FEMALE",label:"Nicole",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"es-MX",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/piTKgcLEGmPE4e6mEKli_Spanish(Mexico)_preview.mp3",elevenLabsId:"piTKgcLEGmPE4e6mEKli",accent:"american",languageAgnostic:!0},{name:"eleven-labs-patrick",gender:"MALE",label:"Patrick",useCase:"Characters",age:"Middle-aged",description:"A shouty and middle-aged voice.",languageCode:"es-MX",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ODq5zmih8GrVes37Dizd_Spanish(Mexico)_preview.mp3",elevenLabsId:"ODq5zmih8GrVes37Dizd",accent:"american",languageAgnostic:!0},{name:"eleven-labs-paul",gender:"MALE",label:"Paul",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"es-MX",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/5Q0t7uMcjvnagumLfvZi_Spanish(Mexico)_preview.mp3",elevenLabsId:"5Q0t7uMcjvnagumLfvZi",accent:"american",languageAgnostic:!0},{name:"eleven-labs-rachel",gender:"FEMALE",label:"Rachel",useCase:"Narration",age:"Young",description:"A calm and young voice.",languageCode:"es-MX",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/21m00Tcm4TlvDq8ikWAM_Spanish(Mexico)_preview.mp3",elevenLabsId:"21m00Tcm4TlvDq8ikWAM",accent:"american",languageAgnostic:!0},{name:"eleven-labs-river",gender:"NEUTRAL",label:"River",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"es-MX",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SAz9YHcvj6GT2YYXdXww_Spanish(Mexico)_preview.mp3",elevenLabsId:"SAz9YHcvj6GT2YYXdXww",accent:"american",languageAgnostic:!0},{name:"eleven-labs-roger",gender:"MALE",label:"Roger",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"es-MX",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CwhRBWXzGAHq8TQ4Fs17_Spanish(Mexico)_preview.mp3",elevenLabsId:"CwhRBWXzGAHq8TQ4Fs17",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sam",gender:"MALE",label:"Sam",useCase:"Narration",age:"Young",description:"A raspy and young voice.",languageCode:"es-MX",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/yoZ06aMxZJJ28mfd3POQ_Spanish(Mexico)_preview.mp3",elevenLabsId:"yoZ06aMxZJJ28mfd3POQ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sarah",gender:"FEMALE",label:"Sarah",useCase:"News",age:"Young",description:"A soft and young voice.",languageCode:"es-MX",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/EXAVITQu4vr4xnSDxMaL_Spanish(Mexico)_preview.mp3",elevenLabsId:"EXAVITQu4vr4xnSDxMaL",accent:"american",languageAgnostic:!0},{name:"eleven-labs-serena",gender:"FEMALE",label:"Serena",useCase:"Narration",age:"Middle-aged",description:"A pleasant and middle-aged voice.",languageCode:"es-MX",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pMsXgVXv3BLzUgSXRplE_Spanish(Mexico)_preview.mp3",elevenLabsId:"pMsXgVXv3BLzUgSXRplE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-thomas",gender:"MALE",label:"Thomas",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"es-MX",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/GBv7mTt0atIp3Br8iCZE_Spanish(Mexico)_preview.mp3",elevenLabsId:"GBv7mTt0atIp3Br8iCZE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-will",gender:"MALE",label:"Will",useCase:"Social Media",age:"Young",description:"A friendly and young voice.",languageCode:"es-MX",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bIHbv24MWmeRgasZH58o_Spanish(Mexico)_preview.mp3",elevenLabsId:"bIHbv24MWmeRgasZH58o",accent:"american",languageAgnostic:!0}],Swedish:[{elevenLabsId:"4xkUqaR9MYOJHoaC1Nak",sampleURL:"https://storage.googleapis.com/eleven-public-prod/custom/voices/4xkUqaR9MYOJHoaC1Nak/l4PwfhXHwvKzA0G9XP46.mp3",label:"Sara",gender:"FEMALE",age:"Middle-aged",accent:"stockholm",description:"Professional Swedish conversational voice artist for social media.",useCase:"Conversational",languageCode:"sv-SE",name:"elevenlabs-Sanna Hartfield - Swedish Conversational-sv-SE-female"},{name:"sv-SE-Wavenet-D",label:"Louisa",gender:"FEMALE",age:"Middle-aged",languageCode:"sv-SE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-sv-SE-Wavenet-D_preview.mp3"},{name:"sv-SE-Wavenet-E",label:"Oscar",gender:"MALE",age:"Middle-aged",languageCode:"sv-SE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-sv-SE-Wavenet-E_preview.mp3"},{name:"eleven-labs-adam",gender:"MALE",label:"Adam",useCase:"Narration",age:"Middle-aged",description:"A deep and middle aged voice.",languageCode:"sv-SE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pNInz6obpgDQGcFmaJgB_Swedish_preview.mp3",elevenLabsId:"pNInz6obpgDQGcFmaJgB",accent:"american",languageAgnostic:!0},{name:"eleven-labs-alice",gender:"FEMALE",label:"Alice",useCase:"News",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"sv-SE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Xb7hH8MSUJpSbSDYk0k2_Swedish_preview.mp3",elevenLabsId:"Xb7hH8MSUJpSbSDYk0k2",accent:"british",languageAgnostic:!0},{name:"eleven-labs-antoni",gender:"MALE",label:"Antoni",useCase:"Narration",age:"Young",description:"A well-rounded and young voice.",languageCode:"sv-SE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ErXwobaYiN019PkySvjV_Swedish_preview.mp3",elevenLabsId:"ErXwobaYiN019PkySvjV",accent:"american",languageAgnostic:!0},{name:"eleven-labs-aria",gender:"FEMALE",label:"Aria",useCase:"Social Media",age:"Middle-aged",description:"An expressive and middle-aged voice.",languageCode:"sv-SE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/9BWtsMINqrJLrRacOk9x_Swedish_preview.mp3",elevenLabsId:"9BWtsMINqrJLrRacOk9x",accent:"american",languageAgnostic:!0},{name:"eleven-labs-arnold",gender:"MALE",label:"Arnold",useCase:"Narration",age:"Middle-aged",description:"A crisp and middle aged voice.",languageCode:"sv-SE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/VR6AewLTigWG4xSOukaG_Swedish_preview.mp3",elevenLabsId:"VR6AewLTigWG4xSOukaG",accent:"american",languageAgnostic:!0},{name:"eleven-labs-bill",gender:"MALE",label:"Bill",useCase:"Narration",age:"Old",description:"A trustworthy and old voice.",languageCode:"sv-SE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pqHfZKP75CvOlQylNhV4_Swedish_preview.mp3",elevenLabsId:"pqHfZKP75CvOlQylNhV4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-brian",gender:"MALE",label:"Brian",useCase:"Narration",age:"Middle-aged",description:"A deep and middle-aged voice.",languageCode:"sv-SE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/nPczCjzI2devNBz1zQrb_Swedish_preview.mp3",elevenLabsId:"nPczCjzI2devNBz1zQrb",accent:"american",languageAgnostic:!0},{name:"eleven-labs-callum",gender:"MALE",label:"Callum",useCase:"Characters",age:"Middle-aged",description:"An intense and middle-aged voice.",languageCode:"sv-SE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/N2lVS1w4EtoT3dr4eOWO_Swedish_preview.mp3",elevenLabsId:"N2lVS1w4EtoT3dr4eOWO",accent:"american",languageAgnostic:!0},{name:"eleven-labs-charlie",gender:"MALE",label:"Charlie",useCase:"Conversational",age:"Middle-aged",description:"A natural and middle aged voice.",languageCode:"sv-SE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/IKne3meq5aSn9XLyUdCD_Swedish_preview.mp3",elevenLabsId:"IKne3meq5aSn9XLyUdCD",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-charlotte",gender:"FEMALE",label:"Charlotte",useCase:"Characters",age:"Young",description:"An inviting and young voice.",languageCode:"sv-SE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XB0fDUnXU5powFXDhCwa_Swedish_preview.mp3",elevenLabsId:"XB0fDUnXU5powFXDhCwa",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-chris",gender:"MALE",label:"Chris",useCase:"Conversational",age:"Middle-aged",description:"A casual and middle-aged voice.",languageCode:"sv-SE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/iP95p4xoKVk53GoZ742B_Swedish_preview.mp3",elevenLabsId:"iP95p4xoKVk53GoZ742B",accent:"american",languageAgnostic:!0},{name:"eleven-labs-clyde",gender:"MALE",label:"Clyde",useCase:"Characters",age:"Middle-aged",description:"A war veteran and middle-aged voice.",languageCode:"sv-SE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/2EiwWnXFnvU5JabPnv8n_Swedish_preview.mp3",elevenLabsId:"2EiwWnXFnvU5JabPnv8n",accent:"american",languageAgnostic:!0},{name:"eleven-labs-daniel",gender:"MALE",label:"Daniel",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"sv-SE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/onwK4e9ZLuTAKqWW03F9_Swedish_preview.mp3",elevenLabsId:"onwK4e9ZLuTAKqWW03F9",accent:"british",languageAgnostic:!0},{name:"eleven-labs-dave",gender:"MALE",label:"Dave",useCase:"Characters",age:"Young",description:"A conversational and young voice.",languageCode:"sv-SE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CYw3kZ02Hs0563khs1Fj_Swedish_preview.mp3",elevenLabsId:"CYw3kZ02Hs0563khs1Fj",accent:"british-essex",languageAgnostic:!0},{name:"eleven-labs-domi",gender:"FEMALE",label:"Domi",useCase:"Narration",age:"Young",description:"A strong and young voice.",languageCode:"sv-SE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/AZnzlk1XvdvUeBnXmlld_Swedish_preview.mp3",elevenLabsId:"AZnzlk1XvdvUeBnXmlld",accent:"american",languageAgnostic:!0},{name:"eleven-labs-dorothy",gender:"FEMALE",label:"Dorothy",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"sv-SE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ThT5KcBeYPX3keUQqHPh_Swedish_preview.mp3",elevenLabsId:"ThT5KcBeYPX3keUQqHPh",accent:"british",languageAgnostic:!0},{name:"eleven-labs-drew",gender:"MALE",label:"Drew",useCase:"News",age:"Middle-aged",description:"A well-rounded and middle-aged voice.",languageCode:"sv-SE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/29vD33N1CtxCmqQRPOHJ_Swedish_preview.mp3",elevenLabsId:"29vD33N1CtxCmqQRPOHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-emily",gender:"FEMALE",label:"Emily",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"sv-SE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/LcfcDJNUP1GQjkzn1xUU_Swedish_preview.mp3",elevenLabsId:"LcfcDJNUP1GQjkzn1xUU",accent:"american",languageAgnostic:!0},{name:"eleven-labs-eric",gender:"MALE",label:"Eric",useCase:"Conversational",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"sv-SE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cjVigY5qzO86Huf0OWal_Swedish_preview.mp3",elevenLabsId:"cjVigY5qzO86Huf0OWal",accent:"american",languageAgnostic:!0},{name:"eleven-labs-ethan",gender:"MALE",label:"Ethan",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"sv-SE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/g5CIjZEefAph4nQFvHAz_Swedish_preview.mp3",elevenLabsId:"g5CIjZEefAph4nQFvHAz",accent:"american",languageAgnostic:!0},{name:"eleven-labs-fin",gender:"MALE",label:"Fin",useCase:"Characters",age:"Old",description:"A sailor and old voice.",languageCode:"sv-SE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/D38z5RcWu1voky8WS1ja_Swedish_preview.mp3",elevenLabsId:"D38z5RcWu1voky8WS1ja",accent:"irish",languageAgnostic:!0},{name:"eleven-labs-freya",gender:"FEMALE",label:"Freya",useCase:"Characters",age:"Young",description:"An expressive and young voice.",languageCode:"sv-SE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jsCqWAovK2LkecY7zXl4_Swedish_preview.mp3",elevenLabsId:"jsCqWAovK2LkecY7zXl4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-george",gender:"MALE",label:"George",useCase:"Narration",age:"Middle-aged",description:"A warm and middle aged voice.",languageCode:"sv-SE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/JBFqnCBsd6RMkjVDRZzb_Swedish_preview.mp3",elevenLabsId:"JBFqnCBsd6RMkjVDRZzb",accent:"british",languageAgnostic:!0},{name:"eleven-labs-gigi",gender:"FEMALE",label:"Gigi",useCase:"Animation",age:"Young",description:"A childlish and young voice.",languageCode:"sv-SE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jBpfuIE2acCO8z3wKNLl_Swedish_preview.mp3",elevenLabsId:"jBpfuIE2acCO8z3wKNLl",accent:"american",languageAgnostic:!0},{name:"eleven-labs-giovanni",gender:"MALE",label:"Giovanni",useCase:"Narration",age:"Young",description:"A foreigner and young voice.",languageCode:"sv-SE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zcAOhNBS3c14rBihAFp1_Swedish_preview.mp3",elevenLabsId:"zcAOhNBS3c14rBihAFp1",accent:"english-italian",languageAgnostic:!0},{name:"eleven-labs-glinda",gender:"FEMALE",label:"Glinda",useCase:"Characters",age:"Middle-aged",description:"A smooth and middle-aged voice.",languageCode:"sv-SE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/z9fAnlkpzviPz146aGWa_Swedish_preview.mp3",elevenLabsId:"z9fAnlkpzviPz146aGWa",accent:"american",languageAgnostic:!0},{name:"eleven-labs-grace",gender:"FEMALE",label:"Grace",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"sv-SE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/oWAxZDx7w5VEj9dCyTzz_Swedish_preview.mp3",elevenLabsId:"oWAxZDx7w5VEj9dCyTzz",accent:"american-southern",languageAgnostic:!0},{name:"eleven-labs-harry",gender:"MALE",label:"Harry",useCase:"Characters",age:"Young",description:"An anxious and young voice.",languageCode:"sv-SE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SOYHLrjzK2X1ezoPC6cr_Swedish_preview.mp3",elevenLabsId:"SOYHLrjzK2X1ezoPC6cr",accent:"american",languageAgnostic:!0},{name:"eleven-labs-james",gender:"MALE",label:"James",useCase:"News",age:"Old",description:"A calm and old voice.",languageCode:"sv-SE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ZQe5CZNOzWyzPSCn5a3c_Swedish_preview.mp3",elevenLabsId:"ZQe5CZNOzWyzPSCn5a3c",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-jeremy",gender:"MALE",label:"Jeremy",useCase:"Narration",age:"Young",description:"An excited and young voice.",languageCode:"sv-SE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bVMeCyTHy58xNoL34h3p_Swedish_preview.mp3",elevenLabsId:"bVMeCyTHy58xNoL34h3p",accent:"american-irish",languageAgnostic:!0},{name:"eleven-labs-jessica",gender:"FEMALE",label:"Jessica",useCase:"Conversational",age:"Young",description:"An expressive and young voice.",languageCode:"sv-SE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cgSgspJ2msm6clMCkdW9_Swedish_preview.mp3",elevenLabsId:"cgSgspJ2msm6clMCkdW9",accent:"american",languageAgnostic:!0},{name:"eleven-labs-jessie",gender:"MALE",label:"Jessie",useCase:"Characters",age:"Old",description:"A raspy and old voice.",languageCode:"sv-SE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/t0jbNlBVZ17f02VDIeMI_Swedish_preview.mp3",elevenLabsId:"t0jbNlBVZ17f02VDIeMI",accent:"american",languageAgnostic:!0},{name:"eleven-labs-joseph",gender:"MALE",label:"Joseph",useCase:"News",age:"Middle-aged",description:"An articulate and middle-aged voice.",languageCode:"sv-SE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Zlb1dXrM653N07WRdFW3_Swedish_preview.mp3",elevenLabsId:"Zlb1dXrM653N07WRdFW3",accent:"british",languageAgnostic:!0},{name:"eleven-labs-josh",gender:"MALE",label:"Josh",useCase:"Narration",age:"Young",description:"A deep and young voice.",languageCode:"sv-SE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TxGEqnHWrfWFTfGW9XjX_Swedish_preview.mp3",elevenLabsId:"TxGEqnHWrfWFTfGW9XjX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-laura",gender:"FEMALE",label:"Laura",useCase:"Social Media",age:"Young",description:"An upbeat and young voice.",languageCode:"sv-SE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/FGY2WhTYpPnrIDTdsKH5_Swedish_preview.mp3",elevenLabsId:"FGY2WhTYpPnrIDTdsKH5",accent:"american",languageAgnostic:!0},{name:"eleven-labs-liam",gender:"MALE",label:"Liam",useCase:"Narration",age:"Young",description:"An articulate and young voice.",languageCode:"sv-SE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TX3LPaxmHKxFdv7VOQHJ_Swedish_preview.mp3",elevenLabsId:"TX3LPaxmHKxFdv7VOQHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-lily",gender:"FEMALE",label:"Lily",useCase:"Narration",age:"Middle-aged",description:"A warm and middle-aged voice.",languageCode:"sv-SE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pFZP5JQG7iQjIQuC4Bku_Swedish_preview.mp3",elevenLabsId:"pFZP5JQG7iQjIQuC4Bku",accent:"british",languageAgnostic:!0},{name:"eleven-labs-matilda",gender:"FEMALE",label:"Matilda",useCase:"Narration",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"sv-SE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XrExE9yKIg1WjnnlVkGX_Swedish_preview.mp3",elevenLabsId:"XrExE9yKIg1WjnnlVkGX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-michael",gender:"MALE",label:"Michael",useCase:"Narration",age:"Old",description:"A calm and old voice.",languageCode:"sv-SE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/flq6f7yk4E4fJM5XTYuZ_Swedish_preview.mp3",elevenLabsId:"flq6f7yk4E4fJM5XTYuZ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-mimi",gender:"FEMALE",label:"Mimi",useCase:"Animation",age:"Young",description:"A childish and young voice.",languageCode:"sv-SE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zrHiDhphv9ZnVXBqCLjz_Swedish_preview.mp3",elevenLabsId:"zrHiDhphv9ZnVXBqCLjz",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-nicole",gender:"FEMALE",label:"Nicole",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"sv-SE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/piTKgcLEGmPE4e6mEKli_Swedish_preview.mp3",elevenLabsId:"piTKgcLEGmPE4e6mEKli",accent:"american",languageAgnostic:!0},{name:"eleven-labs-patrick",gender:"MALE",label:"Patrick",useCase:"Characters",age:"Middle-aged",description:"A shouty and middle-aged voice.",languageCode:"sv-SE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ODq5zmih8GrVes37Dizd_Swedish_preview.mp3",elevenLabsId:"ODq5zmih8GrVes37Dizd",accent:"american",languageAgnostic:!0},{name:"eleven-labs-paul",gender:"MALE",label:"Paul",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"sv-SE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/5Q0t7uMcjvnagumLfvZi_Swedish_preview.mp3",elevenLabsId:"5Q0t7uMcjvnagumLfvZi",accent:"american",languageAgnostic:!0},{name:"eleven-labs-rachel",gender:"FEMALE",label:"Rachel",useCase:"Narration",age:"Young",description:"A calm and young voice.",languageCode:"sv-SE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/21m00Tcm4TlvDq8ikWAM_Swedish_preview.mp3",elevenLabsId:"21m00Tcm4TlvDq8ikWAM",accent:"american",languageAgnostic:!0},{name:"eleven-labs-river",gender:"NEUTRAL",label:"River",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"sv-SE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SAz9YHcvj6GT2YYXdXww_Swedish_preview.mp3",elevenLabsId:"SAz9YHcvj6GT2YYXdXww",accent:"american",languageAgnostic:!0},{name:"eleven-labs-roger",gender:"MALE",label:"Roger",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"sv-SE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CwhRBWXzGAHq8TQ4Fs17_Swedish_preview.mp3",elevenLabsId:"CwhRBWXzGAHq8TQ4Fs17",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sam",gender:"MALE",label:"Sam",useCase:"Narration",age:"Young",description:"A raspy and young voice.",languageCode:"sv-SE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/yoZ06aMxZJJ28mfd3POQ_Swedish_preview.mp3",elevenLabsId:"yoZ06aMxZJJ28mfd3POQ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sarah",gender:"FEMALE",label:"Sarah",useCase:"News",age:"Young",description:"A soft and young voice.",languageCode:"sv-SE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/EXAVITQu4vr4xnSDxMaL_Swedish_preview.mp3",elevenLabsId:"EXAVITQu4vr4xnSDxMaL",accent:"american",languageAgnostic:!0},{name:"eleven-labs-serena",gender:"FEMALE",label:"Serena",useCase:"Narration",age:"Middle-aged",description:"A pleasant and middle-aged voice.",languageCode:"sv-SE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pMsXgVXv3BLzUgSXRplE_Swedish_preview.mp3",elevenLabsId:"pMsXgVXv3BLzUgSXRplE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-thomas",gender:"MALE",label:"Thomas",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"sv-SE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/GBv7mTt0atIp3Br8iCZE_Swedish_preview.mp3",elevenLabsId:"GBv7mTt0atIp3Br8iCZE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-will",gender:"MALE",label:"Will",useCase:"Social Media",age:"Young",description:"A friendly and young voice.",languageCode:"sv-SE",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bIHbv24MWmeRgasZH58o_Swedish_preview.mp3",elevenLabsId:"bIHbv24MWmeRgasZH58o",accent:"american",languageAgnostic:!0}],Tamil:[{elevenLabsId:"Z0ocGS7BSRxFSMhV00nB",sampleURL:"https://storage.googleapis.com/eleven-public-prod/database/user/TLzQBQZ61wQrytFwliQpe4LeshE3/voices/Z0ocGS7BSRxFSMhV00nB/plLp35FRUXTo2PlzCHBP.mp3",label:"Madsri",gender:"FEMALE",age:"Middle_aged",accent:"standard",description:"A modulated and middle-aged voice.",useCase:"Conversational",languageCode:"ta-IN",name:"elevenlabs-Madsri - Friendly Tamil Voice-ta-IN-female"},{elevenLabsId:"gCr8TeSJgJaeaIoV4RWH",sampleURL:"https://storage.googleapis.com/eleven-public-prod/custom/voices/gCr8TeSJgJaeaIoV4RWH/ha2aASFQGRzGUGpylfpK.mp3",label:"Meera",gender:"FEMALE",age:"Middle-aged",accent:"standard",description:"A calm and explanatory voice.",useCase:"Conversational",languageCode:"ta-IN",name:"elevenlabs-Meera - Conversational Tamil Voice-ta-IN-female"},{elevenLabsId:"8J24wCDJGSNy9xjbiMla",sampleURL:"https://storage.googleapis.com/eleven-public-prod/database/user/TLzQBQZ61wQrytFwliQpe4LeshE3/voices/8J24wCDJGSNy9xjbiMla/5syfZ0TO12KEhBLcrbK0.mp3",label:"Ramaa",gender:"MALE",age:"Middle_aged",accent:"standard",description:"A modulated and middle-aged voice.",useCase:"Conversational",languageCode:"ta-IN",name:"elevenlabs-Ramaa  Energetic Conversational Tamil-ta-IN-male"},{name:"ta-IN-Wavenet-D",label:"Arun",gender:"MALE",age:"Middle-aged",languageCode:"ta-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-ta-IN-Wavenet-D_preview.mp3"},{name:"ta-IN-Wavenet-C",label:"Selvi",gender:"FEMALE",age:"Middle-aged",languageCode:"ta-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-ta-IN-Wavenet-C_preview.mp3"},{name:"eleven-labs-adam",gender:"MALE",label:"Adam",useCase:"Narration",age:"Middle-aged",description:"A deep and middle aged voice.",languageCode:"ta-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pNInz6obpgDQGcFmaJgB_Tamil_preview.mp3",elevenLabsId:"pNInz6obpgDQGcFmaJgB",accent:"american",languageAgnostic:!0},{name:"eleven-labs-alice",gender:"FEMALE",label:"Alice",useCase:"News",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"ta-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Xb7hH8MSUJpSbSDYk0k2_Tamil_preview.mp3",elevenLabsId:"Xb7hH8MSUJpSbSDYk0k2",accent:"british",languageAgnostic:!0},{name:"eleven-labs-antoni",gender:"MALE",label:"Antoni",useCase:"Narration",age:"Young",description:"A well-rounded and young voice.",languageCode:"ta-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ErXwobaYiN019PkySvjV_Tamil_preview.mp3",elevenLabsId:"ErXwobaYiN019PkySvjV",accent:"american",languageAgnostic:!0},{name:"eleven-labs-aria",gender:"FEMALE",label:"Aria",useCase:"Social Media",age:"Middle-aged",description:"An expressive and middle-aged voice.",languageCode:"ta-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/9BWtsMINqrJLrRacOk9x_Tamil_preview.mp3",elevenLabsId:"9BWtsMINqrJLrRacOk9x",accent:"american",languageAgnostic:!0},{name:"eleven-labs-arnold",gender:"MALE",label:"Arnold",useCase:"Narration",age:"Middle-aged",description:"A crisp and middle aged voice.",languageCode:"ta-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/VR6AewLTigWG4xSOukaG_Tamil_preview.mp3",elevenLabsId:"VR6AewLTigWG4xSOukaG",accent:"american",languageAgnostic:!0},{name:"eleven-labs-bill",gender:"MALE",label:"Bill",useCase:"Narration",age:"Old",description:"A trustworthy and old voice.",languageCode:"ta-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pqHfZKP75CvOlQylNhV4_Tamil_preview.mp3",elevenLabsId:"pqHfZKP75CvOlQylNhV4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-brian",gender:"MALE",label:"Brian",useCase:"Narration",age:"Middle-aged",description:"A deep and middle-aged voice.",languageCode:"ta-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/nPczCjzI2devNBz1zQrb_Tamil_preview.mp3",elevenLabsId:"nPczCjzI2devNBz1zQrb",accent:"american",languageAgnostic:!0},{name:"eleven-labs-callum",gender:"MALE",label:"Callum",useCase:"Characters",age:"Middle-aged",description:"An intense and middle-aged voice.",languageCode:"ta-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/N2lVS1w4EtoT3dr4eOWO_Tamil_preview.mp3",elevenLabsId:"N2lVS1w4EtoT3dr4eOWO",accent:"american",languageAgnostic:!0},{name:"eleven-labs-charlie",gender:"MALE",label:"Charlie",useCase:"Conversational",age:"Middle-aged",description:"A natural and middle aged voice.",languageCode:"ta-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/IKne3meq5aSn9XLyUdCD_Tamil_preview.mp3",elevenLabsId:"IKne3meq5aSn9XLyUdCD",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-charlotte",gender:"FEMALE",label:"Charlotte",useCase:"Characters",age:"Young",description:"An inviting and young voice.",languageCode:"ta-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XB0fDUnXU5powFXDhCwa_Tamil_preview.mp3",elevenLabsId:"XB0fDUnXU5powFXDhCwa",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-chris",gender:"MALE",label:"Chris",useCase:"Conversational",age:"Middle-aged",description:"A casual and middle-aged voice.",languageCode:"ta-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/iP95p4xoKVk53GoZ742B_Tamil_preview.mp3",elevenLabsId:"iP95p4xoKVk53GoZ742B",accent:"american",languageAgnostic:!0},{name:"eleven-labs-clyde",gender:"MALE",label:"Clyde",useCase:"Characters",age:"Middle-aged",description:"A war veteran and middle-aged voice.",languageCode:"ta-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/2EiwWnXFnvU5JabPnv8n_Tamil_preview.mp3",elevenLabsId:"2EiwWnXFnvU5JabPnv8n",accent:"american",languageAgnostic:!0},{name:"eleven-labs-daniel",gender:"MALE",label:"Daniel",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"ta-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/onwK4e9ZLuTAKqWW03F9_Tamil_preview.mp3",elevenLabsId:"onwK4e9ZLuTAKqWW03F9",accent:"british",languageAgnostic:!0},{name:"eleven-labs-dave",gender:"MALE",label:"Dave",useCase:"Characters",age:"Young",description:"A conversational and young voice.",languageCode:"ta-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CYw3kZ02Hs0563khs1Fj_Tamil_preview.mp3",elevenLabsId:"CYw3kZ02Hs0563khs1Fj",accent:"british-essex",languageAgnostic:!0},{name:"eleven-labs-domi",gender:"FEMALE",label:"Domi",useCase:"Narration",age:"Young",description:"A strong and young voice.",languageCode:"ta-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/AZnzlk1XvdvUeBnXmlld_Tamil_preview.mp3",elevenLabsId:"AZnzlk1XvdvUeBnXmlld",accent:"american",languageAgnostic:!0},{name:"eleven-labs-dorothy",gender:"FEMALE",label:"Dorothy",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"ta-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ThT5KcBeYPX3keUQqHPh_Tamil_preview.mp3",elevenLabsId:"ThT5KcBeYPX3keUQqHPh",accent:"british",languageAgnostic:!0},{name:"eleven-labs-drew",gender:"MALE",label:"Drew",useCase:"News",age:"Middle-aged",description:"A well-rounded and middle-aged voice.",languageCode:"ta-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/29vD33N1CtxCmqQRPOHJ_Tamil_preview.mp3",elevenLabsId:"29vD33N1CtxCmqQRPOHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-emily",gender:"FEMALE",label:"Emily",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"ta-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/LcfcDJNUP1GQjkzn1xUU_Tamil_preview.mp3",elevenLabsId:"LcfcDJNUP1GQjkzn1xUU",accent:"american",languageAgnostic:!0},{name:"eleven-labs-eric",gender:"MALE",label:"Eric",useCase:"Conversational",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"ta-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cjVigY5qzO86Huf0OWal_Tamil_preview.mp3",elevenLabsId:"cjVigY5qzO86Huf0OWal",accent:"american",languageAgnostic:!0},{name:"eleven-labs-ethan",gender:"MALE",label:"Ethan",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"ta-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/g5CIjZEefAph4nQFvHAz_Tamil_preview.mp3",elevenLabsId:"g5CIjZEefAph4nQFvHAz",accent:"american",languageAgnostic:!0},{name:"eleven-labs-fin",gender:"MALE",label:"Fin",useCase:"Characters",age:"Old",description:"A sailor and old voice.",languageCode:"ta-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/D38z5RcWu1voky8WS1ja_Tamil_preview.mp3",elevenLabsId:"D38z5RcWu1voky8WS1ja",accent:"irish",languageAgnostic:!0},{name:"eleven-labs-freya",gender:"FEMALE",label:"Freya",useCase:"Characters",age:"Young",description:"An expressive and young voice.",languageCode:"ta-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jsCqWAovK2LkecY7zXl4_Tamil_preview.mp3",elevenLabsId:"jsCqWAovK2LkecY7zXl4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-george",gender:"MALE",label:"George",useCase:"Narration",age:"Middle-aged",description:"A warm and middle aged voice.",languageCode:"ta-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/JBFqnCBsd6RMkjVDRZzb_Tamil_preview.mp3",elevenLabsId:"JBFqnCBsd6RMkjVDRZzb",accent:"british",languageAgnostic:!0},{name:"eleven-labs-gigi",gender:"FEMALE",label:"Gigi",useCase:"Animation",age:"Young",description:"A childlish and young voice.",languageCode:"ta-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jBpfuIE2acCO8z3wKNLl_Tamil_preview.mp3",elevenLabsId:"jBpfuIE2acCO8z3wKNLl",accent:"american",languageAgnostic:!0},{name:"eleven-labs-giovanni",gender:"MALE",label:"Giovanni",useCase:"Narration",age:"Young",description:"A foreigner and young voice.",languageCode:"ta-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zcAOhNBS3c14rBihAFp1_Tamil_preview.mp3",elevenLabsId:"zcAOhNBS3c14rBihAFp1",accent:"english-italian",languageAgnostic:!0},{name:"eleven-labs-glinda",gender:"FEMALE",label:"Glinda",useCase:"Characters",age:"Middle-aged",description:"A smooth and middle-aged voice.",languageCode:"ta-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/z9fAnlkpzviPz146aGWa_Tamil_preview.mp3",elevenLabsId:"z9fAnlkpzviPz146aGWa",accent:"american",languageAgnostic:!0},{name:"eleven-labs-grace",gender:"FEMALE",label:"Grace",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"ta-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/oWAxZDx7w5VEj9dCyTzz_Tamil_preview.mp3",elevenLabsId:"oWAxZDx7w5VEj9dCyTzz",accent:"american-southern",languageAgnostic:!0},{name:"eleven-labs-harry",gender:"MALE",label:"Harry",useCase:"Characters",age:"Young",description:"An anxious and young voice.",languageCode:"ta-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SOYHLrjzK2X1ezoPC6cr_Tamil_preview.mp3",elevenLabsId:"SOYHLrjzK2X1ezoPC6cr",accent:"american",languageAgnostic:!0},{name:"eleven-labs-james",gender:"MALE",label:"James",useCase:"News",age:"Old",description:"A calm and old voice.",languageCode:"ta-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ZQe5CZNOzWyzPSCn5a3c_Tamil_preview.mp3",elevenLabsId:"ZQe5CZNOzWyzPSCn5a3c",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-jeremy",gender:"MALE",label:"Jeremy",useCase:"Narration",age:"Young",description:"An excited and young voice.",languageCode:"ta-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bVMeCyTHy58xNoL34h3p_Tamil_preview.mp3",elevenLabsId:"bVMeCyTHy58xNoL34h3p",accent:"american-irish",languageAgnostic:!0},{name:"eleven-labs-jessica",gender:"FEMALE",label:"Jessica",useCase:"Conversational",age:"Young",description:"An expressive and young voice.",languageCode:"ta-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cgSgspJ2msm6clMCkdW9_Tamil_preview.mp3",elevenLabsId:"cgSgspJ2msm6clMCkdW9",accent:"american",languageAgnostic:!0},{name:"eleven-labs-jessie",gender:"MALE",label:"Jessie",useCase:"Characters",age:"Old",description:"A raspy and old voice.",languageCode:"ta-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/t0jbNlBVZ17f02VDIeMI_Tamil_preview.mp3",elevenLabsId:"t0jbNlBVZ17f02VDIeMI",accent:"american",languageAgnostic:!0},{name:"eleven-labs-joseph",gender:"MALE",label:"Joseph",useCase:"News",age:"Middle-aged",description:"An articulate and middle-aged voice.",languageCode:"ta-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Zlb1dXrM653N07WRdFW3_Tamil_preview.mp3",elevenLabsId:"Zlb1dXrM653N07WRdFW3",accent:"british",languageAgnostic:!0},{name:"eleven-labs-josh",gender:"MALE",label:"Josh",useCase:"Narration",age:"Young",description:"A deep and young voice.",languageCode:"ta-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TxGEqnHWrfWFTfGW9XjX_Tamil_preview.mp3",elevenLabsId:"TxGEqnHWrfWFTfGW9XjX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-laura",gender:"FEMALE",label:"Laura",useCase:"Social Media",age:"Young",description:"An upbeat and young voice.",languageCode:"ta-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/FGY2WhTYpPnrIDTdsKH5_Tamil_preview.mp3",elevenLabsId:"FGY2WhTYpPnrIDTdsKH5",accent:"american",languageAgnostic:!0},{name:"eleven-labs-liam",gender:"MALE",label:"Liam",useCase:"Narration",age:"Young",description:"An articulate and young voice.",languageCode:"ta-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TX3LPaxmHKxFdv7VOQHJ_Tamil_preview.mp3",elevenLabsId:"TX3LPaxmHKxFdv7VOQHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-lily",gender:"FEMALE",label:"Lily",useCase:"Narration",age:"Middle-aged",description:"A warm and middle-aged voice.",languageCode:"ta-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pFZP5JQG7iQjIQuC4Bku_Tamil_preview.mp3",elevenLabsId:"pFZP5JQG7iQjIQuC4Bku",accent:"british",languageAgnostic:!0},{name:"eleven-labs-matilda",gender:"FEMALE",label:"Matilda",useCase:"Narration",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"ta-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XrExE9yKIg1WjnnlVkGX_Tamil_preview.mp3",elevenLabsId:"XrExE9yKIg1WjnnlVkGX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-michael",gender:"MALE",label:"Michael",useCase:"Narration",age:"Old",description:"A calm and old voice.",languageCode:"ta-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/flq6f7yk4E4fJM5XTYuZ_Tamil_preview.mp3",elevenLabsId:"flq6f7yk4E4fJM5XTYuZ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-mimi",gender:"FEMALE",label:"Mimi",useCase:"Animation",age:"Young",description:"A childish and young voice.",languageCode:"ta-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zrHiDhphv9ZnVXBqCLjz_Tamil_preview.mp3",elevenLabsId:"zrHiDhphv9ZnVXBqCLjz",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-nicole",gender:"FEMALE",label:"Nicole",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"ta-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/piTKgcLEGmPE4e6mEKli_Tamil_preview.mp3",elevenLabsId:"piTKgcLEGmPE4e6mEKli",accent:"american",languageAgnostic:!0},{name:"eleven-labs-patrick",gender:"MALE",label:"Patrick",useCase:"Characters",age:"Middle-aged",description:"A shouty and middle-aged voice.",languageCode:"ta-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ODq5zmih8GrVes37Dizd_Tamil_preview.mp3",elevenLabsId:"ODq5zmih8GrVes37Dizd",accent:"american",languageAgnostic:!0},{name:"eleven-labs-paul",gender:"MALE",label:"Paul",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"ta-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/5Q0t7uMcjvnagumLfvZi_Tamil_preview.mp3",elevenLabsId:"5Q0t7uMcjvnagumLfvZi",accent:"american",languageAgnostic:!0},{name:"eleven-labs-rachel",gender:"FEMALE",label:"Rachel",useCase:"Narration",age:"Young",description:"A calm and young voice.",languageCode:"ta-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/21m00Tcm4TlvDq8ikWAM_Tamil_preview.mp3",elevenLabsId:"21m00Tcm4TlvDq8ikWAM",accent:"american",languageAgnostic:!0},{name:"eleven-labs-river",gender:"NEUTRAL",label:"River",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"ta-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SAz9YHcvj6GT2YYXdXww_Tamil_preview.mp3",elevenLabsId:"SAz9YHcvj6GT2YYXdXww",accent:"american",languageAgnostic:!0},{name:"eleven-labs-roger",gender:"MALE",label:"Roger",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"ta-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CwhRBWXzGAHq8TQ4Fs17_Tamil_preview.mp3",elevenLabsId:"CwhRBWXzGAHq8TQ4Fs17",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sam",gender:"MALE",label:"Sam",useCase:"Narration",age:"Young",description:"A raspy and young voice.",languageCode:"ta-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/yoZ06aMxZJJ28mfd3POQ_Tamil_preview.mp3",elevenLabsId:"yoZ06aMxZJJ28mfd3POQ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sarah",gender:"FEMALE",label:"Sarah",useCase:"News",age:"Young",description:"A soft and young voice.",languageCode:"ta-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/EXAVITQu4vr4xnSDxMaL_Tamil_preview.mp3",elevenLabsId:"EXAVITQu4vr4xnSDxMaL",accent:"american",languageAgnostic:!0},{name:"eleven-labs-serena",gender:"FEMALE",label:"Serena",useCase:"Narration",age:"Middle-aged",description:"A pleasant and middle-aged voice.",languageCode:"ta-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pMsXgVXv3BLzUgSXRplE_Tamil_preview.mp3",elevenLabsId:"pMsXgVXv3BLzUgSXRplE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-thomas",gender:"MALE",label:"Thomas",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"ta-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/GBv7mTt0atIp3Br8iCZE_Tamil_preview.mp3",elevenLabsId:"GBv7mTt0atIp3Br8iCZE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-will",gender:"MALE",label:"Will",useCase:"Social Media",age:"Young",description:"A friendly and young voice.",languageCode:"ta-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bIHbv24MWmeRgasZH58o_Tamil_preview.mp3",elevenLabsId:"bIHbv24MWmeRgasZH58o",accent:"american",languageAgnostic:!0}],Telugu:[{name:"te-IN-Standard-D",label:"Daivit",gender:"MALE",age:"Middle-aged",languageCode:"te-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-te-IN-Standard-D_preview.mp3"},{name:"te-IN-Standard-C",label:"Veena",gender:"FEMALE",age:"Middle-aged",languageCode:"te-IN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-te-IN-Standard-C_preview.mp3"}],Thai:[{gender:"FEMALE",label:"Anchalee",name:"th-TH-Neural2-C",languageCode:"th-TH",sampleURL:"https://cdn-useast1.kapwing.com/static/VPl-th-TH-Neural2-C.wav",age:"Middle-aged",useCase:null}],Turkish:[{elevenLabsId:"Y2T2O1csKPgWgyuKcU0a",sampleURL:"https://storage.googleapis.com/eleven-public-prod/6JbhU512evQq9QoZ59e62l52eWJ3/voices/Y2T2O1csKPgWgyuKcU0a/9b95aebc-cb62-4f1f-a82c-25bbc15c33df.mp3",label:"Cavit",gender:"MALE",age:"Middle-aged",accent:"istanbul",description:"A confident and middle-aged voice.",useCase:"Informative Educational",languageCode:"tr-TR",name:"elevenlabs-Cavit Pancar - Epic, Powerful, Historical-tr-TR-male"},{elevenLabsId:"EJGs6dWlD5VrB3llhBqB",sampleURL:"https://storage.googleapis.com/eleven-public-prod/database/user/Gp7macCqIbcDzuRHmrksJ4SdQH02/voices/EJGs6dWlD5VrB3llhBqB/szhfZFAxWkMVrrhwqt5s.mp3",label:"Cicek",gender:"FEMALE",age:"Young",accent:"standard",description:"A playful and middle-aged voice.",useCase:"Social Media",languageCode:"tr-TR",name:"elevenlabs-Cicek - Joyful, Dynamic Storyteller-tr-TR-female"},{elevenLabsId:"PdYVUd1CAGSXsTvZZTNn",sampleURL:"https://storage.googleapis.com/eleven-public-prod/database/user/Gp7macCqIbcDzuRHmrksJ4SdQH02/voices/PdYVUd1CAGSXsTvZZTNn/Sa6vpYH4HYQ556GX9J4G.mp3",label:"Mahidevran",gender:"FEMALE",age:"Middle_aged",accent:"standard",description:"Middle-aged female with perfect pacing for all languages. Playful.",useCase:"Narrative Story",languageCode:"tr-TR",name:"elevenlabs-Mahidevran - Playful, Clear, Powerful Narrator-tr-TR-female"},{name:"tr-TR-Wavenet-A",label:"Hande",gender:"FEMALE",languageCode:"tr-TR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-tr-TR-Wavenet-A_preview.mp3",age:"Middle-aged",useCase:null},{name:"tr-TR-Wavenet-B",label:"Ozan",gender:"MALE",languageCode:"tr-TR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-tr-TR-Wavenet-B_preview.mp3",age:"Middle-aged",useCase:null},{name:"eleven-labs-adam",gender:"MALE",label:"Adam",useCase:"Narration",age:"Middle-aged",description:"A deep and middle aged voice.",languageCode:"tr-TR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pNInz6obpgDQGcFmaJgB_Turkish_preview.mp3",elevenLabsId:"pNInz6obpgDQGcFmaJgB",accent:"american",languageAgnostic:!0},{name:"eleven-labs-alice",gender:"FEMALE",label:"Alice",useCase:"News",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"tr-TR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Xb7hH8MSUJpSbSDYk0k2_Turkish_preview.mp3",elevenLabsId:"Xb7hH8MSUJpSbSDYk0k2",accent:"british",languageAgnostic:!0},{name:"eleven-labs-antoni",gender:"MALE",label:"Antoni",useCase:"Narration",age:"Young",description:"A well-rounded and young voice.",languageCode:"tr-TR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ErXwobaYiN019PkySvjV_Turkish_preview.mp3",elevenLabsId:"ErXwobaYiN019PkySvjV",accent:"american",languageAgnostic:!0},{name:"eleven-labs-aria",gender:"FEMALE",label:"Aria",useCase:"Social Media",age:"Middle-aged",description:"An expressive and middle-aged voice.",languageCode:"tr-TR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/9BWtsMINqrJLrRacOk9x_Turkish_preview.mp3",elevenLabsId:"9BWtsMINqrJLrRacOk9x",accent:"american",languageAgnostic:!0},{name:"eleven-labs-arnold",gender:"MALE",label:"Arnold",useCase:"Narration",age:"Middle-aged",description:"A crisp and middle aged voice.",languageCode:"tr-TR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/VR6AewLTigWG4xSOukaG_Turkish_preview.mp3",elevenLabsId:"VR6AewLTigWG4xSOukaG",accent:"american",languageAgnostic:!0},{name:"eleven-labs-bill",gender:"MALE",label:"Bill",useCase:"Narration",age:"Old",description:"A trustworthy and old voice.",languageCode:"tr-TR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pqHfZKP75CvOlQylNhV4_Turkish_preview.mp3",elevenLabsId:"pqHfZKP75CvOlQylNhV4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-brian",gender:"MALE",label:"Brian",useCase:"Narration",age:"Middle-aged",description:"A deep and middle-aged voice.",languageCode:"tr-TR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/nPczCjzI2devNBz1zQrb_Turkish_preview.mp3",elevenLabsId:"nPczCjzI2devNBz1zQrb",accent:"american",languageAgnostic:!0},{name:"eleven-labs-callum",gender:"MALE",label:"Callum",useCase:"Characters",age:"Middle-aged",description:"An intense and middle-aged voice.",languageCode:"tr-TR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/N2lVS1w4EtoT3dr4eOWO_Turkish_preview.mp3",elevenLabsId:"N2lVS1w4EtoT3dr4eOWO",accent:"american",languageAgnostic:!0},{name:"eleven-labs-charlie",gender:"MALE",label:"Charlie",useCase:"Conversational",age:"Middle-aged",description:"A natural and middle aged voice.",languageCode:"tr-TR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/IKne3meq5aSn9XLyUdCD_Turkish_preview.mp3",elevenLabsId:"IKne3meq5aSn9XLyUdCD",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-charlotte",gender:"FEMALE",label:"Charlotte",useCase:"Characters",age:"Young",description:"An inviting and young voice.",languageCode:"tr-TR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XB0fDUnXU5powFXDhCwa_Turkish_preview.mp3",elevenLabsId:"XB0fDUnXU5powFXDhCwa",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-chris",gender:"MALE",label:"Chris",useCase:"Conversational",age:"Middle-aged",description:"A casual and middle-aged voice.",languageCode:"tr-TR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/iP95p4xoKVk53GoZ742B_Turkish_preview.mp3",elevenLabsId:"iP95p4xoKVk53GoZ742B",accent:"american",languageAgnostic:!0},{name:"eleven-labs-clyde",gender:"MALE",label:"Clyde",useCase:"Characters",age:"Middle-aged",description:"A war veteran and middle-aged voice.",languageCode:"tr-TR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/2EiwWnXFnvU5JabPnv8n_Turkish_preview.mp3",elevenLabsId:"2EiwWnXFnvU5JabPnv8n",accent:"american",languageAgnostic:!0},{name:"eleven-labs-daniel",gender:"MALE",label:"Daniel",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"tr-TR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/onwK4e9ZLuTAKqWW03F9_Turkish_preview.mp3",elevenLabsId:"onwK4e9ZLuTAKqWW03F9",accent:"british",languageAgnostic:!0},{name:"eleven-labs-dave",gender:"MALE",label:"Dave",useCase:"Characters",age:"Young",description:"A conversational and young voice.",languageCode:"tr-TR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CYw3kZ02Hs0563khs1Fj_Turkish_preview.mp3",elevenLabsId:"CYw3kZ02Hs0563khs1Fj",accent:"british-essex",languageAgnostic:!0},{name:"eleven-labs-domi",gender:"FEMALE",label:"Domi",useCase:"Narration",age:"Young",description:"A strong and young voice.",languageCode:"tr-TR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/AZnzlk1XvdvUeBnXmlld_Turkish_preview.mp3",elevenLabsId:"AZnzlk1XvdvUeBnXmlld",accent:"american",languageAgnostic:!0},{name:"eleven-labs-dorothy",gender:"FEMALE",label:"Dorothy",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"tr-TR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ThT5KcBeYPX3keUQqHPh_Turkish_preview.mp3",elevenLabsId:"ThT5KcBeYPX3keUQqHPh",accent:"british",languageAgnostic:!0},{name:"eleven-labs-drew",gender:"MALE",label:"Drew",useCase:"News",age:"Middle-aged",description:"A well-rounded and middle-aged voice.",languageCode:"tr-TR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/29vD33N1CtxCmqQRPOHJ_Turkish_preview.mp3",elevenLabsId:"29vD33N1CtxCmqQRPOHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-emily",gender:"FEMALE",label:"Emily",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"tr-TR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/LcfcDJNUP1GQjkzn1xUU_Turkish_preview.mp3",elevenLabsId:"LcfcDJNUP1GQjkzn1xUU",accent:"american",languageAgnostic:!0},{name:"eleven-labs-eric",gender:"MALE",label:"Eric",useCase:"Conversational",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"tr-TR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cjVigY5qzO86Huf0OWal_Turkish_preview.mp3",elevenLabsId:"cjVigY5qzO86Huf0OWal",accent:"american",languageAgnostic:!0},{name:"eleven-labs-ethan",gender:"MALE",label:"Ethan",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"tr-TR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/g5CIjZEefAph4nQFvHAz_Turkish_preview.mp3",elevenLabsId:"g5CIjZEefAph4nQFvHAz",accent:"american",languageAgnostic:!0},{name:"eleven-labs-fin",gender:"MALE",label:"Fin",useCase:"Characters",age:"Old",description:"A sailor and old voice.",languageCode:"tr-TR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/D38z5RcWu1voky8WS1ja_Turkish_preview.mp3",elevenLabsId:"D38z5RcWu1voky8WS1ja",accent:"irish",languageAgnostic:!0},{name:"eleven-labs-freya",gender:"FEMALE",label:"Freya",useCase:"Characters",age:"Young",description:"An expressive and young voice.",languageCode:"tr-TR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jsCqWAovK2LkecY7zXl4_Turkish_preview.mp3",elevenLabsId:"jsCqWAovK2LkecY7zXl4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-george",gender:"MALE",label:"George",useCase:"Narration",age:"Middle-aged",description:"A warm and middle aged voice.",languageCode:"tr-TR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/JBFqnCBsd6RMkjVDRZzb_Turkish_preview.mp3",elevenLabsId:"JBFqnCBsd6RMkjVDRZzb",accent:"british",languageAgnostic:!0},{name:"eleven-labs-gigi",gender:"FEMALE",label:"Gigi",useCase:"Animation",age:"Young",description:"A childlish and young voice.",languageCode:"tr-TR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jBpfuIE2acCO8z3wKNLl_Turkish_preview.mp3",elevenLabsId:"jBpfuIE2acCO8z3wKNLl",accent:"american",languageAgnostic:!0},{name:"eleven-labs-giovanni",gender:"MALE",label:"Giovanni",useCase:"Narration",age:"Young",description:"A foreigner and young voice.",languageCode:"tr-TR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zcAOhNBS3c14rBihAFp1_Turkish_preview.mp3",elevenLabsId:"zcAOhNBS3c14rBihAFp1",accent:"english-italian",languageAgnostic:!0},{name:"eleven-labs-glinda",gender:"FEMALE",label:"Glinda",useCase:"Characters",age:"Middle-aged",description:"A smooth and middle-aged voice.",languageCode:"tr-TR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/z9fAnlkpzviPz146aGWa_Turkish_preview.mp3",elevenLabsId:"z9fAnlkpzviPz146aGWa",accent:"american",languageAgnostic:!0},{name:"eleven-labs-grace",gender:"FEMALE",label:"Grace",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"tr-TR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/oWAxZDx7w5VEj9dCyTzz_Turkish_preview.mp3",elevenLabsId:"oWAxZDx7w5VEj9dCyTzz",accent:"american-southern",languageAgnostic:!0},{name:"eleven-labs-harry",gender:"MALE",label:"Harry",useCase:"Characters",age:"Young",description:"An anxious and young voice.",languageCode:"tr-TR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SOYHLrjzK2X1ezoPC6cr_Turkish_preview.mp3",elevenLabsId:"SOYHLrjzK2X1ezoPC6cr",accent:"american",languageAgnostic:!0},{name:"eleven-labs-james",gender:"MALE",label:"James",useCase:"News",age:"Old",description:"A calm and old voice.",languageCode:"tr-TR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ZQe5CZNOzWyzPSCn5a3c_Turkish_preview.mp3",elevenLabsId:"ZQe5CZNOzWyzPSCn5a3c",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-jeremy",gender:"MALE",label:"Jeremy",useCase:"Narration",age:"Young",description:"An excited and young voice.",languageCode:"tr-TR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bVMeCyTHy58xNoL34h3p_Turkish_preview.mp3",elevenLabsId:"bVMeCyTHy58xNoL34h3p",accent:"american-irish",languageAgnostic:!0},{name:"eleven-labs-jessica",gender:"FEMALE",label:"Jessica",useCase:"Conversational",age:"Young",description:"An expressive and young voice.",languageCode:"tr-TR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cgSgspJ2msm6clMCkdW9_Turkish_preview.mp3",elevenLabsId:"cgSgspJ2msm6clMCkdW9",accent:"american",languageAgnostic:!0},{name:"eleven-labs-jessie",gender:"MALE",label:"Jessie",useCase:"Characters",age:"Old",description:"A raspy and old voice.",languageCode:"tr-TR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/t0jbNlBVZ17f02VDIeMI_Turkish_preview.mp3",elevenLabsId:"t0jbNlBVZ17f02VDIeMI",accent:"american",languageAgnostic:!0},{name:"eleven-labs-joseph",gender:"MALE",label:"Joseph",useCase:"News",age:"Middle-aged",description:"An articulate and middle-aged voice.",languageCode:"tr-TR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Zlb1dXrM653N07WRdFW3_Turkish_preview.mp3",elevenLabsId:"Zlb1dXrM653N07WRdFW3",accent:"british",languageAgnostic:!0},{name:"eleven-labs-josh",gender:"MALE",label:"Josh",useCase:"Narration",age:"Young",description:"A deep and young voice.",languageCode:"tr-TR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TxGEqnHWrfWFTfGW9XjX_Turkish_preview.mp3",elevenLabsId:"TxGEqnHWrfWFTfGW9XjX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-laura",gender:"FEMALE",label:"Laura",useCase:"Social Media",age:"Young",description:"An upbeat and young voice.",languageCode:"tr-TR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/FGY2WhTYpPnrIDTdsKH5_Turkish_preview.mp3",elevenLabsId:"FGY2WhTYpPnrIDTdsKH5",accent:"american",languageAgnostic:!0},{name:"eleven-labs-liam",gender:"MALE",label:"Liam",useCase:"Narration",age:"Young",description:"An articulate and young voice.",languageCode:"tr-TR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TX3LPaxmHKxFdv7VOQHJ_Turkish_preview.mp3",elevenLabsId:"TX3LPaxmHKxFdv7VOQHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-lily",gender:"FEMALE",label:"Lily",useCase:"Narration",age:"Middle-aged",description:"A warm and middle-aged voice.",languageCode:"tr-TR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pFZP5JQG7iQjIQuC4Bku_Turkish_preview.mp3",elevenLabsId:"pFZP5JQG7iQjIQuC4Bku",accent:"british",languageAgnostic:!0},{name:"eleven-labs-matilda",gender:"FEMALE",label:"Matilda",useCase:"Narration",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"tr-TR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XrExE9yKIg1WjnnlVkGX_Turkish_preview.mp3",elevenLabsId:"XrExE9yKIg1WjnnlVkGX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-michael",gender:"MALE",label:"Michael",useCase:"Narration",age:"Old",description:"A calm and old voice.",languageCode:"tr-TR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/flq6f7yk4E4fJM5XTYuZ_Turkish_preview.mp3",elevenLabsId:"flq6f7yk4E4fJM5XTYuZ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-mimi",gender:"FEMALE",label:"Mimi",useCase:"Animation",age:"Young",description:"A childish and young voice.",languageCode:"tr-TR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zrHiDhphv9ZnVXBqCLjz_Turkish_preview.mp3",elevenLabsId:"zrHiDhphv9ZnVXBqCLjz",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-nicole",gender:"FEMALE",label:"Nicole",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"tr-TR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/piTKgcLEGmPE4e6mEKli_Turkish_preview.mp3",elevenLabsId:"piTKgcLEGmPE4e6mEKli",accent:"american",languageAgnostic:!0},{name:"eleven-labs-patrick",gender:"MALE",label:"Patrick",useCase:"Characters",age:"Middle-aged",description:"A shouty and middle-aged voice.",languageCode:"tr-TR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ODq5zmih8GrVes37Dizd_Turkish_preview.mp3",elevenLabsId:"ODq5zmih8GrVes37Dizd",accent:"american",languageAgnostic:!0},{name:"eleven-labs-paul",gender:"MALE",label:"Paul",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"tr-TR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/5Q0t7uMcjvnagumLfvZi_Turkish_preview.mp3",elevenLabsId:"5Q0t7uMcjvnagumLfvZi",accent:"american",languageAgnostic:!0},{name:"eleven-labs-rachel",gender:"FEMALE",label:"Rachel",useCase:"Narration",age:"Young",description:"A calm and young voice.",languageCode:"tr-TR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/21m00Tcm4TlvDq8ikWAM_Turkish_preview.mp3",elevenLabsId:"21m00Tcm4TlvDq8ikWAM",accent:"american",languageAgnostic:!0},{name:"eleven-labs-river",gender:"NEUTRAL",label:"River",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"tr-TR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SAz9YHcvj6GT2YYXdXww_Turkish_preview.mp3",elevenLabsId:"SAz9YHcvj6GT2YYXdXww",accent:"american",languageAgnostic:!0},{name:"eleven-labs-roger",gender:"MALE",label:"Roger",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"tr-TR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CwhRBWXzGAHq8TQ4Fs17_Turkish_preview.mp3",elevenLabsId:"CwhRBWXzGAHq8TQ4Fs17",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sam",gender:"MALE",label:"Sam",useCase:"Narration",age:"Young",description:"A raspy and young voice.",languageCode:"tr-TR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/yoZ06aMxZJJ28mfd3POQ_Turkish_preview.mp3",elevenLabsId:"yoZ06aMxZJJ28mfd3POQ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sarah",gender:"FEMALE",label:"Sarah",useCase:"News",age:"Young",description:"A soft and young voice.",languageCode:"tr-TR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/EXAVITQu4vr4xnSDxMaL_Turkish_preview.mp3",elevenLabsId:"EXAVITQu4vr4xnSDxMaL",accent:"american",languageAgnostic:!0},{name:"eleven-labs-serena",gender:"FEMALE",label:"Serena",useCase:"Narration",age:"Middle-aged",description:"A pleasant and middle-aged voice.",languageCode:"tr-TR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pMsXgVXv3BLzUgSXRplE_Turkish_preview.mp3",elevenLabsId:"pMsXgVXv3BLzUgSXRplE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-thomas",gender:"MALE",label:"Thomas",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"tr-TR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/GBv7mTt0atIp3Br8iCZE_Turkish_preview.mp3",elevenLabsId:"GBv7mTt0atIp3Br8iCZE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-will",gender:"MALE",label:"Will",useCase:"Social Media",age:"Young",description:"A friendly and young voice.",languageCode:"tr-TR",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bIHbv24MWmeRgasZH58o_Turkish_preview.mp3",elevenLabsId:"bIHbv24MWmeRgasZH58o",accent:"american",languageAgnostic:!0}],Ukrainian:[{name:"uk-UA-Wavenet-A",label:"Daryna",gender:"FEMALE",age:"Middle-aged",languageCode:"uk-UA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/google-uk-UA-Wavenet-A_preview.mp3"},{name:"eleven-labs-adam",gender:"MALE",label:"Adam",useCase:"Narration",age:"Middle-aged",description:"A deep and middle aged voice.",languageCode:"uk-UA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pNInz6obpgDQGcFmaJgB_Ukrainian_preview.mp3",elevenLabsId:"pNInz6obpgDQGcFmaJgB",accent:"american",languageAgnostic:!0},{name:"eleven-labs-alice",gender:"FEMALE",label:"Alice",useCase:"News",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"uk-UA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Xb7hH8MSUJpSbSDYk0k2_Ukrainian_preview.mp3",elevenLabsId:"Xb7hH8MSUJpSbSDYk0k2",accent:"british",languageAgnostic:!0},{name:"eleven-labs-antoni",gender:"MALE",label:"Antoni",useCase:"Narration",age:"Young",description:"A well-rounded and young voice.",languageCode:"uk-UA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ErXwobaYiN019PkySvjV_Ukrainian_preview.mp3",elevenLabsId:"ErXwobaYiN019PkySvjV",accent:"american",languageAgnostic:!0},{name:"eleven-labs-aria",gender:"FEMALE",label:"Aria",useCase:"Social Media",age:"Middle-aged",description:"An expressive and middle-aged voice.",languageCode:"uk-UA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/9BWtsMINqrJLrRacOk9x_Ukrainian_preview.mp3",elevenLabsId:"9BWtsMINqrJLrRacOk9x",accent:"american",languageAgnostic:!0},{name:"eleven-labs-arnold",gender:"MALE",label:"Arnold",useCase:"Narration",age:"Middle-aged",description:"A crisp and middle aged voice.",languageCode:"uk-UA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/VR6AewLTigWG4xSOukaG_Ukrainian_preview.mp3",elevenLabsId:"VR6AewLTigWG4xSOukaG",accent:"american",languageAgnostic:!0},{name:"eleven-labs-bill",gender:"MALE",label:"Bill",useCase:"Narration",age:"Old",description:"A trustworthy and old voice.",languageCode:"uk-UA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pqHfZKP75CvOlQylNhV4_Ukrainian_preview.mp3",elevenLabsId:"pqHfZKP75CvOlQylNhV4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-brian",gender:"MALE",label:"Brian",useCase:"Narration",age:"Middle-aged",description:"A deep and middle-aged voice.",languageCode:"uk-UA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/nPczCjzI2devNBz1zQrb_Ukrainian_preview.mp3",elevenLabsId:"nPczCjzI2devNBz1zQrb",accent:"american",languageAgnostic:!0},{name:"eleven-labs-callum",gender:"MALE",label:"Callum",useCase:"Characters",age:"Middle-aged",description:"An intense and middle-aged voice.",languageCode:"uk-UA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/N2lVS1w4EtoT3dr4eOWO_Ukrainian_preview.mp3",elevenLabsId:"N2lVS1w4EtoT3dr4eOWO",accent:"american",languageAgnostic:!0},{name:"eleven-labs-charlie",gender:"MALE",label:"Charlie",useCase:"Conversational",age:"Middle-aged",description:"A natural and middle aged voice.",languageCode:"uk-UA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/IKne3meq5aSn9XLyUdCD_Ukrainian_preview.mp3",elevenLabsId:"IKne3meq5aSn9XLyUdCD",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-charlotte",gender:"FEMALE",label:"Charlotte",useCase:"Characters",age:"Young",description:"An inviting and young voice.",languageCode:"uk-UA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XB0fDUnXU5powFXDhCwa_Ukrainian_preview.mp3",elevenLabsId:"XB0fDUnXU5powFXDhCwa",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-chris",gender:"MALE",label:"Chris",useCase:"Conversational",age:"Middle-aged",description:"A casual and middle-aged voice.",languageCode:"uk-UA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/iP95p4xoKVk53GoZ742B_Ukrainian_preview.mp3",elevenLabsId:"iP95p4xoKVk53GoZ742B",accent:"american",languageAgnostic:!0},{name:"eleven-labs-clyde",gender:"MALE",label:"Clyde",useCase:"Characters",age:"Middle-aged",description:"A war veteran and middle-aged voice.",languageCode:"uk-UA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/2EiwWnXFnvU5JabPnv8n_Ukrainian_preview.mp3",elevenLabsId:"2EiwWnXFnvU5JabPnv8n",accent:"american",languageAgnostic:!0},{name:"eleven-labs-daniel",gender:"MALE",label:"Daniel",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"uk-UA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/onwK4e9ZLuTAKqWW03F9_Ukrainian_preview.mp3",elevenLabsId:"onwK4e9ZLuTAKqWW03F9",accent:"british",languageAgnostic:!0},{name:"eleven-labs-dave",gender:"MALE",label:"Dave",useCase:"Characters",age:"Young",description:"A conversational and young voice.",languageCode:"uk-UA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CYw3kZ02Hs0563khs1Fj_Ukrainian_preview.mp3",elevenLabsId:"CYw3kZ02Hs0563khs1Fj",accent:"british-essex",languageAgnostic:!0},{name:"eleven-labs-domi",gender:"FEMALE",label:"Domi",useCase:"Narration",age:"Young",description:"A strong and young voice.",languageCode:"uk-UA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/AZnzlk1XvdvUeBnXmlld_Ukrainian_preview.mp3",elevenLabsId:"AZnzlk1XvdvUeBnXmlld",accent:"american",languageAgnostic:!0},{name:"eleven-labs-dorothy",gender:"FEMALE",label:"Dorothy",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"uk-UA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ThT5KcBeYPX3keUQqHPh_Ukrainian_preview.mp3",elevenLabsId:"ThT5KcBeYPX3keUQqHPh",accent:"british",languageAgnostic:!0},{name:"eleven-labs-drew",gender:"MALE",label:"Drew",useCase:"News",age:"Middle-aged",description:"A well-rounded and middle-aged voice.",languageCode:"uk-UA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/29vD33N1CtxCmqQRPOHJ_Ukrainian_preview.mp3",elevenLabsId:"29vD33N1CtxCmqQRPOHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-emily",gender:"FEMALE",label:"Emily",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"uk-UA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/LcfcDJNUP1GQjkzn1xUU_Ukrainian_preview.mp3",elevenLabsId:"LcfcDJNUP1GQjkzn1xUU",accent:"american",languageAgnostic:!0},{name:"eleven-labs-eric",gender:"MALE",label:"Eric",useCase:"Conversational",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"uk-UA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cjVigY5qzO86Huf0OWal_Ukrainian_preview.mp3",elevenLabsId:"cjVigY5qzO86Huf0OWal",accent:"american",languageAgnostic:!0},{name:"eleven-labs-ethan",gender:"MALE",label:"Ethan",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"uk-UA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/g5CIjZEefAph4nQFvHAz_Ukrainian_preview.mp3",elevenLabsId:"g5CIjZEefAph4nQFvHAz",accent:"american",languageAgnostic:!0},{name:"eleven-labs-fin",gender:"MALE",label:"Fin",useCase:"Characters",age:"Old",description:"A sailor and old voice.",languageCode:"uk-UA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/D38z5RcWu1voky8WS1ja_Ukrainian_preview.mp3",elevenLabsId:"D38z5RcWu1voky8WS1ja",accent:"irish",languageAgnostic:!0},{name:"eleven-labs-freya",gender:"FEMALE",label:"Freya",useCase:"Characters",age:"Young",description:"An expressive and young voice.",languageCode:"uk-UA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jsCqWAovK2LkecY7zXl4_Ukrainian_preview.mp3",elevenLabsId:"jsCqWAovK2LkecY7zXl4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-george",gender:"MALE",label:"George",useCase:"Narration",age:"Middle-aged",description:"A warm and middle aged voice.",languageCode:"uk-UA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/JBFqnCBsd6RMkjVDRZzb_Ukrainian_preview.mp3",elevenLabsId:"JBFqnCBsd6RMkjVDRZzb",accent:"british",languageAgnostic:!0},{name:"eleven-labs-gigi",gender:"FEMALE",label:"Gigi",useCase:"Animation",age:"Young",description:"A childlish and young voice.",languageCode:"uk-UA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jBpfuIE2acCO8z3wKNLl_Ukrainian_preview.mp3",elevenLabsId:"jBpfuIE2acCO8z3wKNLl",accent:"american",languageAgnostic:!0},{name:"eleven-labs-giovanni",gender:"MALE",label:"Giovanni",useCase:"Narration",age:"Young",description:"A foreigner and young voice.",languageCode:"uk-UA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zcAOhNBS3c14rBihAFp1_Ukrainian_preview.mp3",elevenLabsId:"zcAOhNBS3c14rBihAFp1",accent:"english-italian",languageAgnostic:!0},{name:"eleven-labs-glinda",gender:"FEMALE",label:"Glinda",useCase:"Characters",age:"Middle-aged",description:"A smooth and middle-aged voice.",languageCode:"uk-UA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/z9fAnlkpzviPz146aGWa_Ukrainian_preview.mp3",elevenLabsId:"z9fAnlkpzviPz146aGWa",accent:"american",languageAgnostic:!0},{name:"eleven-labs-grace",gender:"FEMALE",label:"Grace",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"uk-UA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/oWAxZDx7w5VEj9dCyTzz_Ukrainian_preview.mp3",elevenLabsId:"oWAxZDx7w5VEj9dCyTzz",accent:"american-southern",languageAgnostic:!0},{name:"eleven-labs-harry",gender:"MALE",label:"Harry",useCase:"Characters",age:"Young",description:"An anxious and young voice.",languageCode:"uk-UA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SOYHLrjzK2X1ezoPC6cr_Ukrainian_preview.mp3",elevenLabsId:"SOYHLrjzK2X1ezoPC6cr",accent:"american",languageAgnostic:!0},{name:"eleven-labs-james",gender:"MALE",label:"James",useCase:"News",age:"Old",description:"A calm and old voice.",languageCode:"uk-UA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ZQe5CZNOzWyzPSCn5a3c_Ukrainian_preview.mp3",elevenLabsId:"ZQe5CZNOzWyzPSCn5a3c",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-jeremy",gender:"MALE",label:"Jeremy",useCase:"Narration",age:"Young",description:"An excited and young voice.",languageCode:"uk-UA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bVMeCyTHy58xNoL34h3p_Ukrainian_preview.mp3",elevenLabsId:"bVMeCyTHy58xNoL34h3p",accent:"american-irish",languageAgnostic:!0},{name:"eleven-labs-jessica",gender:"FEMALE",label:"Jessica",useCase:"Conversational",age:"Young",description:"An expressive and young voice.",languageCode:"uk-UA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cgSgspJ2msm6clMCkdW9_Ukrainian_preview.mp3",elevenLabsId:"cgSgspJ2msm6clMCkdW9",accent:"american",languageAgnostic:!0},{name:"eleven-labs-jessie",gender:"MALE",label:"Jessie",useCase:"Characters",age:"Old",description:"A raspy and old voice.",languageCode:"uk-UA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/t0jbNlBVZ17f02VDIeMI_Ukrainian_preview.mp3",elevenLabsId:"t0jbNlBVZ17f02VDIeMI",accent:"american",languageAgnostic:!0},{name:"eleven-labs-joseph",gender:"MALE",label:"Joseph",useCase:"News",age:"Middle-aged",description:"An articulate and middle-aged voice.",languageCode:"uk-UA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Zlb1dXrM653N07WRdFW3_Ukrainian_preview.mp3",elevenLabsId:"Zlb1dXrM653N07WRdFW3",accent:"british",languageAgnostic:!0},{name:"eleven-labs-josh",gender:"MALE",label:"Josh",useCase:"Narration",age:"Young",description:"A deep and young voice.",languageCode:"uk-UA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TxGEqnHWrfWFTfGW9XjX_Ukrainian_preview.mp3",elevenLabsId:"TxGEqnHWrfWFTfGW9XjX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-laura",gender:"FEMALE",label:"Laura",useCase:"Social Media",age:"Young",description:"An upbeat and young voice.",languageCode:"uk-UA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/FGY2WhTYpPnrIDTdsKH5_Ukrainian_preview.mp3",elevenLabsId:"FGY2WhTYpPnrIDTdsKH5",accent:"american",languageAgnostic:!0},{name:"eleven-labs-liam",gender:"MALE",label:"Liam",useCase:"Narration",age:"Young",description:"An articulate and young voice.",languageCode:"uk-UA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TX3LPaxmHKxFdv7VOQHJ_Ukrainian_preview.mp3",elevenLabsId:"TX3LPaxmHKxFdv7VOQHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-lily",gender:"FEMALE",label:"Lily",useCase:"Narration",age:"Middle-aged",description:"A warm and middle-aged voice.",languageCode:"uk-UA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pFZP5JQG7iQjIQuC4Bku_Ukrainian_preview.mp3",elevenLabsId:"pFZP5JQG7iQjIQuC4Bku",accent:"british",languageAgnostic:!0},{name:"eleven-labs-matilda",gender:"FEMALE",label:"Matilda",useCase:"Narration",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"uk-UA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XrExE9yKIg1WjnnlVkGX_Ukrainian_preview.mp3",elevenLabsId:"XrExE9yKIg1WjnnlVkGX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-michael",gender:"MALE",label:"Michael",useCase:"Narration",age:"Old",description:"A calm and old voice.",languageCode:"uk-UA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/flq6f7yk4E4fJM5XTYuZ_Ukrainian_preview.mp3",elevenLabsId:"flq6f7yk4E4fJM5XTYuZ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-mimi",gender:"FEMALE",label:"Mimi",useCase:"Animation",age:"Young",description:"A childish and young voice.",languageCode:"uk-UA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zrHiDhphv9ZnVXBqCLjz_Ukrainian_preview.mp3",elevenLabsId:"zrHiDhphv9ZnVXBqCLjz",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-nicole",gender:"FEMALE",label:"Nicole",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"uk-UA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/piTKgcLEGmPE4e6mEKli_Ukrainian_preview.mp3",elevenLabsId:"piTKgcLEGmPE4e6mEKli",accent:"american",languageAgnostic:!0},{name:"eleven-labs-patrick",gender:"MALE",label:"Patrick",useCase:"Characters",age:"Middle-aged",description:"A shouty and middle-aged voice.",languageCode:"uk-UA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ODq5zmih8GrVes37Dizd_Ukrainian_preview.mp3",elevenLabsId:"ODq5zmih8GrVes37Dizd",accent:"american",languageAgnostic:!0},{name:"eleven-labs-paul",gender:"MALE",label:"Paul",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"uk-UA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/5Q0t7uMcjvnagumLfvZi_Ukrainian_preview.mp3",elevenLabsId:"5Q0t7uMcjvnagumLfvZi",accent:"american",languageAgnostic:!0},{name:"eleven-labs-rachel",gender:"FEMALE",label:"Rachel",useCase:"Narration",age:"Young",description:"A calm and young voice.",languageCode:"uk-UA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/21m00Tcm4TlvDq8ikWAM_Ukrainian_preview.mp3",elevenLabsId:"21m00Tcm4TlvDq8ikWAM",accent:"american",languageAgnostic:!0},{name:"eleven-labs-river",gender:"NEUTRAL",label:"River",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"uk-UA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SAz9YHcvj6GT2YYXdXww_Ukrainian_preview.mp3",elevenLabsId:"SAz9YHcvj6GT2YYXdXww",accent:"american",languageAgnostic:!0},{name:"eleven-labs-roger",gender:"MALE",label:"Roger",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"uk-UA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CwhRBWXzGAHq8TQ4Fs17_Ukrainian_preview.mp3",elevenLabsId:"CwhRBWXzGAHq8TQ4Fs17",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sam",gender:"MALE",label:"Sam",useCase:"Narration",age:"Young",description:"A raspy and young voice.",languageCode:"uk-UA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/yoZ06aMxZJJ28mfd3POQ_Ukrainian_preview.mp3",elevenLabsId:"yoZ06aMxZJJ28mfd3POQ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sarah",gender:"FEMALE",label:"Sarah",useCase:"News",age:"Young",description:"A soft and young voice.",languageCode:"uk-UA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/EXAVITQu4vr4xnSDxMaL_Ukrainian_preview.mp3",elevenLabsId:"EXAVITQu4vr4xnSDxMaL",accent:"american",languageAgnostic:!0},{name:"eleven-labs-serena",gender:"FEMALE",label:"Serena",useCase:"Narration",age:"Middle-aged",description:"A pleasant and middle-aged voice.",languageCode:"uk-UA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pMsXgVXv3BLzUgSXRplE_Ukrainian_preview.mp3",elevenLabsId:"pMsXgVXv3BLzUgSXRplE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-thomas",gender:"MALE",label:"Thomas",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"uk-UA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/GBv7mTt0atIp3Br8iCZE_Ukrainian_preview.mp3",elevenLabsId:"GBv7mTt0atIp3Br8iCZE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-will",gender:"MALE",label:"Will",useCase:"Social Media",age:"Young",description:"A friendly and young voice.",languageCode:"uk-UA",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bIHbv24MWmeRgasZH58o_Ukrainian_preview.mp3",elevenLabsId:"bIHbv24MWmeRgasZH58o",accent:"american",languageAgnostic:!0}],Vietnamese:[{elevenLabsId:"ueSxRO0nLF1bj93J2hVt",sampleURL:"https://storage.googleapis.com/eleven-public-prod/database/user/y6fKTFEG7Ee17Z1zDZHoGFNsVKY2/voices/ueSxRO0nLF1bj93J2hVt/de4ac6e9-75d7-44c5-bb50-2305dfdda280.mp3",label:"Trung",gender:"MALE",age:"Middle_aged",accent:"northern",description:"Middle aged Vietnamese male voice. Great for conversations. Min Bc.",useCase:"Conversational",languageCode:"vi-VN",name:"elevenlabs-Trung Caha-vi-VN-male"},{gender:"FEMALE",label:"Giang",name:"vi-VN-Neural2-A",languageCode:"vi-VN",sampleURL:"https://cdn-useast1.kapwing.com/static/OcO-Vietnamese_Female.mp3",age:"Middle-aged",useCase:null},{gender:"MALE",label:"Hai",name:"vi-VN-Neural2-D",languageCode:"vi-VN",sampleURL:"https://cdn-useast1.kapwing.com/static/iX7-Vietnamese_Male.mp3",age:"Middle-aged",useCase:null},{name:"eleven-labs-adam",gender:"MALE",label:"Adam",useCase:"Narration",age:"Middle-aged",description:"A deep and middle aged voice.",languageCode:"vi-VN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pNInz6obpgDQGcFmaJgB_Vietnamese_preview.mp3",elevenLabsId:"pNInz6obpgDQGcFmaJgB",accent:"american",languageAgnostic:!0},{name:"eleven-labs-alice",gender:"FEMALE",label:"Alice",useCase:"News",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"vi-VN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Xb7hH8MSUJpSbSDYk0k2_Vietnamese_preview.mp3",elevenLabsId:"Xb7hH8MSUJpSbSDYk0k2",accent:"british",languageAgnostic:!0},{name:"eleven-labs-antoni",gender:"MALE",label:"Antoni",useCase:"Narration",age:"Young",description:"A well-rounded and young voice.",languageCode:"vi-VN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ErXwobaYiN019PkySvjV_Vietnamese_preview.mp3",elevenLabsId:"ErXwobaYiN019PkySvjV",accent:"american",languageAgnostic:!0},{name:"eleven-labs-aria",gender:"FEMALE",label:"Aria",useCase:"Social Media",age:"Middle-aged",description:"An expressive and middle-aged voice.",languageCode:"vi-VN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/9BWtsMINqrJLrRacOk9x_Vietnamese_preview.mp3",elevenLabsId:"9BWtsMINqrJLrRacOk9x",accent:"american",languageAgnostic:!0},{name:"eleven-labs-arnold",gender:"MALE",label:"Arnold",useCase:"Narration",age:"Middle-aged",description:"A crisp and middle aged voice.",languageCode:"vi-VN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/VR6AewLTigWG4xSOukaG_Vietnamese_preview.mp3",elevenLabsId:"VR6AewLTigWG4xSOukaG",accent:"american",languageAgnostic:!0},{name:"eleven-labs-bill",gender:"MALE",label:"Bill",useCase:"Narration",age:"Old",description:"A trustworthy and old voice.",languageCode:"vi-VN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pqHfZKP75CvOlQylNhV4_Vietnamese_preview.mp3",elevenLabsId:"pqHfZKP75CvOlQylNhV4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-brian",gender:"MALE",label:"Brian",useCase:"Narration",age:"Middle-aged",description:"A deep and middle-aged voice.",languageCode:"vi-VN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/nPczCjzI2devNBz1zQrb_Vietnamese_preview.mp3",elevenLabsId:"nPczCjzI2devNBz1zQrb",accent:"american",languageAgnostic:!0},{name:"eleven-labs-callum",gender:"MALE",label:"Callum",useCase:"Characters",age:"Middle-aged",description:"An intense and middle-aged voice.",languageCode:"vi-VN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/N2lVS1w4EtoT3dr4eOWO_Vietnamese_preview.mp3",elevenLabsId:"N2lVS1w4EtoT3dr4eOWO",accent:"american",languageAgnostic:!0},{name:"eleven-labs-charlie",gender:"MALE",label:"Charlie",useCase:"Conversational",age:"Middle-aged",description:"A natural and middle aged voice.",languageCode:"vi-VN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/IKne3meq5aSn9XLyUdCD_Vietnamese_preview.mp3",elevenLabsId:"IKne3meq5aSn9XLyUdCD",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-charlotte",gender:"FEMALE",label:"Charlotte",useCase:"Characters",age:"Young",description:"An inviting and young voice.",languageCode:"vi-VN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XB0fDUnXU5powFXDhCwa_Vietnamese_preview.mp3",elevenLabsId:"XB0fDUnXU5powFXDhCwa",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-chris",gender:"MALE",label:"Chris",useCase:"Conversational",age:"Middle-aged",description:"A casual and middle-aged voice.",languageCode:"vi-VN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/iP95p4xoKVk53GoZ742B_Vietnamese_preview.mp3",elevenLabsId:"iP95p4xoKVk53GoZ742B",accent:"american",languageAgnostic:!0},{name:"eleven-labs-clyde",gender:"MALE",label:"Clyde",useCase:"Characters",age:"Middle-aged",description:"A war veteran and middle-aged voice.",languageCode:"vi-VN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/2EiwWnXFnvU5JabPnv8n_Vietnamese_preview.mp3",elevenLabsId:"2EiwWnXFnvU5JabPnv8n",accent:"american",languageAgnostic:!0},{name:"eleven-labs-daniel",gender:"MALE",label:"Daniel",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"vi-VN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/onwK4e9ZLuTAKqWW03F9_Vietnamese_preview.mp3",elevenLabsId:"onwK4e9ZLuTAKqWW03F9",accent:"british",languageAgnostic:!0},{name:"eleven-labs-dave",gender:"MALE",label:"Dave",useCase:"Characters",age:"Young",description:"A conversational and young voice.",languageCode:"vi-VN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CYw3kZ02Hs0563khs1Fj_Vietnamese_preview.mp3",elevenLabsId:"CYw3kZ02Hs0563khs1Fj",accent:"british-essex",languageAgnostic:!0},{name:"eleven-labs-domi",gender:"FEMALE",label:"Domi",useCase:"Narration",age:"Young",description:"A strong and young voice.",languageCode:"vi-VN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/AZnzlk1XvdvUeBnXmlld_Vietnamese_preview.mp3",elevenLabsId:"AZnzlk1XvdvUeBnXmlld",accent:"american",languageAgnostic:!0},{name:"eleven-labs-dorothy",gender:"FEMALE",label:"Dorothy",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"vi-VN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ThT5KcBeYPX3keUQqHPh_Vietnamese_preview.mp3",elevenLabsId:"ThT5KcBeYPX3keUQqHPh",accent:"british",languageAgnostic:!0},{name:"eleven-labs-drew",gender:"MALE",label:"Drew",useCase:"News",age:"Middle-aged",description:"A well-rounded and middle-aged voice.",languageCode:"vi-VN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/29vD33N1CtxCmqQRPOHJ_Vietnamese_preview.mp3",elevenLabsId:"29vD33N1CtxCmqQRPOHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-emily",gender:"FEMALE",label:"Emily",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"vi-VN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/LcfcDJNUP1GQjkzn1xUU_Vietnamese_preview.mp3",elevenLabsId:"LcfcDJNUP1GQjkzn1xUU",accent:"american",languageAgnostic:!0},{name:"eleven-labs-eric",gender:"MALE",label:"Eric",useCase:"Conversational",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"vi-VN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cjVigY5qzO86Huf0OWal_Vietnamese_preview.mp3",elevenLabsId:"cjVigY5qzO86Huf0OWal",accent:"american",languageAgnostic:!0},{name:"eleven-labs-ethan",gender:"MALE",label:"Ethan",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"vi-VN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/g5CIjZEefAph4nQFvHAz_Vietnamese_preview.mp3",elevenLabsId:"g5CIjZEefAph4nQFvHAz",accent:"american",languageAgnostic:!0},{name:"eleven-labs-fin",gender:"MALE",label:"Fin",useCase:"Characters",age:"Old",description:"A sailor and old voice.",languageCode:"vi-VN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/D38z5RcWu1voky8WS1ja_Vietnamese_preview.mp3",elevenLabsId:"D38z5RcWu1voky8WS1ja",accent:"irish",languageAgnostic:!0},{name:"eleven-labs-freya",gender:"FEMALE",label:"Freya",useCase:"Characters",age:"Young",description:"An expressive and young voice.",languageCode:"vi-VN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jsCqWAovK2LkecY7zXl4_Vietnamese_preview.mp3",elevenLabsId:"jsCqWAovK2LkecY7zXl4",accent:"american",languageAgnostic:!0},{name:"eleven-labs-george",gender:"MALE",label:"George",useCase:"Narration",age:"Middle-aged",description:"A warm and middle aged voice.",languageCode:"vi-VN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/JBFqnCBsd6RMkjVDRZzb_Vietnamese_preview.mp3",elevenLabsId:"JBFqnCBsd6RMkjVDRZzb",accent:"british",languageAgnostic:!0},{name:"eleven-labs-gigi",gender:"FEMALE",label:"Gigi",useCase:"Animation",age:"Young",description:"A childlish and young voice.",languageCode:"vi-VN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/jBpfuIE2acCO8z3wKNLl_Vietnamese_preview.mp3",elevenLabsId:"jBpfuIE2acCO8z3wKNLl",accent:"american",languageAgnostic:!0},{name:"eleven-labs-giovanni",gender:"MALE",label:"Giovanni",useCase:"Narration",age:"Young",description:"A foreigner and young voice.",languageCode:"vi-VN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zcAOhNBS3c14rBihAFp1_Vietnamese_preview.mp3",elevenLabsId:"zcAOhNBS3c14rBihAFp1",accent:"english-italian",languageAgnostic:!0},{name:"eleven-labs-glinda",gender:"FEMALE",label:"Glinda",useCase:"Characters",age:"Middle-aged",description:"A smooth and middle-aged voice.",languageCode:"vi-VN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/z9fAnlkpzviPz146aGWa_Vietnamese_preview.mp3",elevenLabsId:"z9fAnlkpzviPz146aGWa",accent:"american",languageAgnostic:!0},{name:"eleven-labs-grace",gender:"FEMALE",label:"Grace",useCase:"Narration",age:"Young",description:"A pleasant and young voice.",languageCode:"vi-VN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/oWAxZDx7w5VEj9dCyTzz_Vietnamese_preview.mp3",elevenLabsId:"oWAxZDx7w5VEj9dCyTzz",accent:"american-southern",languageAgnostic:!0},{name:"eleven-labs-harry",gender:"MALE",label:"Harry",useCase:"Characters",age:"Young",description:"An anxious and young voice.",languageCode:"vi-VN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SOYHLrjzK2X1ezoPC6cr_Vietnamese_preview.mp3",elevenLabsId:"SOYHLrjzK2X1ezoPC6cr",accent:"american",languageAgnostic:!0},{name:"eleven-labs-james",gender:"MALE",label:"James",useCase:"News",age:"Old",description:"A calm and old voice.",languageCode:"vi-VN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ZQe5CZNOzWyzPSCn5a3c_Vietnamese_preview.mp3",elevenLabsId:"ZQe5CZNOzWyzPSCn5a3c",accent:"australian",languageAgnostic:!0},{name:"eleven-labs-jeremy",gender:"MALE",label:"Jeremy",useCase:"Narration",age:"Young",description:"An excited and young voice.",languageCode:"vi-VN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bVMeCyTHy58xNoL34h3p_Vietnamese_preview.mp3",elevenLabsId:"bVMeCyTHy58xNoL34h3p",accent:"american-irish",languageAgnostic:!0},{name:"eleven-labs-jessica",gender:"FEMALE",label:"Jessica",useCase:"Conversational",age:"Young",description:"An expressive and young voice.",languageCode:"vi-VN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/cgSgspJ2msm6clMCkdW9_Vietnamese_preview.mp3",elevenLabsId:"cgSgspJ2msm6clMCkdW9",accent:"american",languageAgnostic:!0},{name:"eleven-labs-jessie",gender:"MALE",label:"Jessie",useCase:"Characters",age:"Old",description:"A raspy and old voice.",languageCode:"vi-VN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/t0jbNlBVZ17f02VDIeMI_Vietnamese_preview.mp3",elevenLabsId:"t0jbNlBVZ17f02VDIeMI",accent:"american",languageAgnostic:!0},{name:"eleven-labs-joseph",gender:"MALE",label:"Joseph",useCase:"News",age:"Middle-aged",description:"An articulate and middle-aged voice.",languageCode:"vi-VN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/Zlb1dXrM653N07WRdFW3_Vietnamese_preview.mp3",elevenLabsId:"Zlb1dXrM653N07WRdFW3",accent:"british",languageAgnostic:!0},{name:"eleven-labs-josh",gender:"MALE",label:"Josh",useCase:"Narration",age:"Young",description:"A deep and young voice.",languageCode:"vi-VN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TxGEqnHWrfWFTfGW9XjX_Vietnamese_preview.mp3",elevenLabsId:"TxGEqnHWrfWFTfGW9XjX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-laura",gender:"FEMALE",label:"Laura",useCase:"Social Media",age:"Young",description:"An upbeat and young voice.",languageCode:"vi-VN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/FGY2WhTYpPnrIDTdsKH5_Vietnamese_preview.mp3",elevenLabsId:"FGY2WhTYpPnrIDTdsKH5",accent:"american",languageAgnostic:!0},{name:"eleven-labs-liam",gender:"MALE",label:"Liam",useCase:"Narration",age:"Young",description:"An articulate and young voice.",languageCode:"vi-VN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/TX3LPaxmHKxFdv7VOQHJ_Vietnamese_preview.mp3",elevenLabsId:"TX3LPaxmHKxFdv7VOQHJ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-lily",gender:"FEMALE",label:"Lily",useCase:"Narration",age:"Middle-aged",description:"A warm and middle-aged voice.",languageCode:"vi-VN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pFZP5JQG7iQjIQuC4Bku_Vietnamese_preview.mp3",elevenLabsId:"pFZP5JQG7iQjIQuC4Bku",accent:"british",languageAgnostic:!0},{name:"eleven-labs-matilda",gender:"FEMALE",label:"Matilda",useCase:"Narration",age:"Middle-aged",description:"A friendly and middle-aged voice.",languageCode:"vi-VN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/XrExE9yKIg1WjnnlVkGX_Vietnamese_preview.mp3",elevenLabsId:"XrExE9yKIg1WjnnlVkGX",accent:"american",languageAgnostic:!0},{name:"eleven-labs-michael",gender:"MALE",label:"Michael",useCase:"Narration",age:"Old",description:"A calm and old voice.",languageCode:"vi-VN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/flq6f7yk4E4fJM5XTYuZ_Vietnamese_preview.mp3",elevenLabsId:"flq6f7yk4E4fJM5XTYuZ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-mimi",gender:"FEMALE",label:"Mimi",useCase:"Animation",age:"Young",description:"A childish and young voice.",languageCode:"vi-VN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/zrHiDhphv9ZnVXBqCLjz_Vietnamese_preview.mp3",elevenLabsId:"zrHiDhphv9ZnVXBqCLjz",accent:"english-swedish",languageAgnostic:!0},{name:"eleven-labs-nicole",gender:"FEMALE",label:"Nicole",useCase:"ASMR",age:"Young",description:"A soft and young voice.",languageCode:"vi-VN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/piTKgcLEGmPE4e6mEKli_Vietnamese_preview.mp3",elevenLabsId:"piTKgcLEGmPE4e6mEKli",accent:"american",languageAgnostic:!0},{name:"eleven-labs-patrick",gender:"MALE",label:"Patrick",useCase:"Characters",age:"Middle-aged",description:"A shouty and middle-aged voice.",languageCode:"vi-VN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/ODq5zmih8GrVes37Dizd_Vietnamese_preview.mp3",elevenLabsId:"ODq5zmih8GrVes37Dizd",accent:"american",languageAgnostic:!0},{name:"eleven-labs-paul",gender:"MALE",label:"Paul",useCase:"News",age:"Middle-aged",description:"An authoritative and middle-aged voice.",languageCode:"vi-VN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/5Q0t7uMcjvnagumLfvZi_Vietnamese_preview.mp3",elevenLabsId:"5Q0t7uMcjvnagumLfvZi",accent:"american",languageAgnostic:!0},{name:"eleven-labs-rachel",gender:"FEMALE",label:"Rachel",useCase:"Narration",age:"Young",description:"A calm and young voice.",languageCode:"vi-VN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/21m00Tcm4TlvDq8ikWAM_Vietnamese_preview.mp3",elevenLabsId:"21m00Tcm4TlvDq8ikWAM",accent:"american",languageAgnostic:!0},{name:"eleven-labs-river",gender:"NEUTRAL",label:"River",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"vi-VN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/SAz9YHcvj6GT2YYXdXww_Vietnamese_preview.mp3",elevenLabsId:"SAz9YHcvj6GT2YYXdXww",accent:"american",languageAgnostic:!0},{name:"eleven-labs-roger",gender:"MALE",label:"Roger",useCase:"Social Media",age:"Middle-aged",description:"A confident and middle-aged voice.",languageCode:"vi-VN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/CwhRBWXzGAHq8TQ4Fs17_Vietnamese_preview.mp3",elevenLabsId:"CwhRBWXzGAHq8TQ4Fs17",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sam",gender:"MALE",label:"Sam",useCase:"Narration",age:"Young",description:"A raspy and young voice.",languageCode:"vi-VN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/yoZ06aMxZJJ28mfd3POQ_Vietnamese_preview.mp3",elevenLabsId:"yoZ06aMxZJJ28mfd3POQ",accent:"american",languageAgnostic:!0},{name:"eleven-labs-sarah",gender:"FEMALE",label:"Sarah",useCase:"News",age:"Young",description:"A soft and young voice.",languageCode:"vi-VN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/EXAVITQu4vr4xnSDxMaL_Vietnamese_preview.mp3",elevenLabsId:"EXAVITQu4vr4xnSDxMaL",accent:"american",languageAgnostic:!0},{name:"eleven-labs-serena",gender:"FEMALE",label:"Serena",useCase:"Narration",age:"Middle-aged",description:"A pleasant and middle-aged voice.",languageCode:"vi-VN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/pMsXgVXv3BLzUgSXRplE_Vietnamese_preview.mp3",elevenLabsId:"pMsXgVXv3BLzUgSXRplE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-thomas",gender:"MALE",label:"Thomas",useCase:"Meditation",age:"Young",description:"A calm and young voice.",languageCode:"vi-VN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/GBv7mTt0atIp3Br8iCZE_Vietnamese_preview.mp3",elevenLabsId:"GBv7mTt0atIp3Br8iCZE",accent:"american",languageAgnostic:!0},{name:"eleven-labs-will",gender:"MALE",label:"Will",useCase:"Social Media",age:"Young",description:"A friendly and young voice.",languageCode:"vi-VN",sampleURL:"https://storage.googleapis.com/kapwing-useast1/static/bIHbv24MWmeRgasZH58o_Vietnamese_preview.mp3",elevenLabsId:"bIHbv24MWmeRgasZH58o",accent:"american",languageAgnostic:!0}]},vm="https://cdn-useast1.kapwing.com/static/cAt-in-flag.webp",fm={"English (US)":"https://cdn-useast1.kapwing.com/static/OF_-us-flag.webp","English (UK)":"https://cdn-useast1.kapwing.com/static/bTA-uk-flag.webp","English (Australia)":"https://cdn-useast1.kapwing.com/static/Pe0-as-flag.webp","English (India)":vm,"Arabic (Multi-Region)":"https://cdn-useast1.kapwing.com/static/j7k-eg-flag.webp","Bengali (India)":vm,"Bulgarian (Bulgaria)":"https://cdn-useast1.kapwing.com/static/5d4-bulgaria.webp","Chinese (Mandarin)":"https://cdn-useast1.kapwing.com/static/Pjq-ch-flag.webp","Mandarin (Taiwan)":"https://cdn-useast1.kapwing.com/static/wlH-taiwan_V6.webp",Croatian:"https://cdn-useast1.kapwing.com/static/nYl-croatia.webp",Czech:"https://cdn-useast1.kapwing.com/static/fET-ez-flag.webp",Danish:"https://cdn-useast1.kapwing.com/static/OLP-da-flag.webp",Dutch:"https://cdn-useast1.kapwing.com/static/P9E-nl-flag.webp","Finnish (Finland)":"https://cdn-useast1.kapwing.com/static/GHo-finland.webp","Filipino (Tagalog)":"https://cdn-useast1.kapwing.com/static/jT3-rp-flag.webp","French (Canada)":"https://cdn-useast1.kapwing.com/static/RAc-canda.webp","French (France)":"https://cdn-useast1.kapwing.com/static/tSu-fr-flag.webp",German:"https://cdn-useast1.kapwing.com/static/r0J-gm-flag.webp",Greek:"https://cdn-useast1.kapwing.com/static/i9a-gr-flag.webp","Gujarati (India)":vm,Hebrew:"https://cdn-useast1.kapwing.com/static/TYM-is-flag.webp",Hindi:vm,"Hindi (Romanized)":vm,[um]:vm,"Kannada (India)":vm,Hungarian:"https://cdn-useast1.kapwing.com/static/SCa-hu-flag.webp",Indonesian:"https://cdn-useast1.kapwing.com/static/JzI-id-flag.webp",Italian:"https://cdn-useast1.kapwing.com/static/-ob-it-flag.webp",Japanese:"https://cdn-useast1.kapwing.com/static/Qe6-ja-flag.webp",Korean:"https://cdn-useast1.kapwing.com/static/Ly4-ks-flag.webp",Latvian:"https://cdn-useast1.kapwing.com/static/CsU-Latvia.webp",Lithuanian:"https://cdn-useast1.kapwing.com/static/9FW-lithuania.webp",Malay:"https://cdn-useast1.kapwing.com/static/SWY-my-flag.webp",Malayalam:vm,Marathi:vm,Norwegian:"https://cdn-useast1.kapwing.com/static/3uF-no-flag.webp",Polish:"https://cdn-useast1.kapwing.com/static/ILb-pl-flag.webp","Portuguese (Brazil)":"https://cdn-useast1.kapwing.com/static/ssd-br-flag.webp","Portuguese (Portugal)":"https://cdn-useast1.kapwing.com/static/JV2-po-flag.webp","Punjabi (India)":vm,Romanian:"https://cdn-useast1.kapwing.com/static/KOb-romaniaflag-1121330378.webp",Russian:"https://cdn-useast1.kapwing.com/static/YDe-ru-flag.webp",Slovak:"https://cdn-useast1.kapwing.com/static/vtW-sk-flag.webp","Spanish (Spain)":"https://cdn-useast1.kapwing.com/static/HHd-sp-flag.webp","Spanish (Mexico)":"https://cdn-useast1.kapwing.com/static/ys_-mx-flag.webp",Swedish:"https://cdn-useast1.kapwing.com/static/RPB-sw-flag.webp",Tamil:"https://cdn-useast1.kapwing.com/static/cAt-in-flag.webp",Telugu:vm,Thai:"https://cdn-useast1.kapwing.com/static/JdO-Flag-Thailand.webp",Turkish:"https://cdn-useast1.kapwing.com/static/wNS-Flag-Turkey.webp",Ukrainian:"https://cdn-useast1.kapwing.com/static/A_c-ua-flag.webp",Vietnamese:"https://cdn-useast1.kapwing.com/static/QtD-vn-flag.webp"};new Set(Object.keys(hm));const bm=gm,ym=Object.keys(hm).sort(),wm=["Hinglish (Hindi and English)"],_m=ym,Cm=Object.keys(hm).filter((e=>!wm.includes(e)));function Sm(e){const t=(e=>{const t=e.lastIndexOf("-");if(-1===t)return e.toLowerCase();const a=e.slice(t+1).toUpperCase();let n=e.slice(0,t).toLowerCase();if(n.includes("-")){const[e,t]=n.split("-");n=`${e}-${om(t||"")}`}return`${n}-${a}`})(e),a=$p.get(t);if(!a)return[];if(t.includes("-")){const e=ym.filter((e=>pm[e]===t));if(e.length)return e}return ym.filter((e=>{const t=pm[e],n=$p.get(t);return n&&n.translateCode===a.translateCode}))}function xm(e){return pm[e]}function Im(e){return e.split("-")[0]}function Am(e){var t;const a=Sm(e)[0];if(!a)return e;if(!e.includes("-")){const e=null==(t=a.split("(")[0])?void 0:t.trim();if(e)return e}return a}function km(e){return!e.includes("cmn")&&!e.includes("ja")}function Tm(e){return`eleven-labs-clone-${e}`}const Em="clone-original-voice",Lm={label:"Clone original voice(s)",name:"clone-original-voice",languageCode:"en-US"},jm=e=>"clone-original-voice"===e.name,Rm=e=>!!e.elevenLabsId,Nm=[{gender:"MALE",age:"Middle-aged",accent:"american",useCase:"Narration",preview_url:"https://storage.googleapis.com/eleven-public-prod/premade/voices/pNInz6obpgDQGcFmaJgB/38a69695-2ca9-4b9e-b9ec-f07ced494a58.mp3",elevenLabsId:"pNInz6obpgDQGcFmaJgB",label:"Adam",description:"A deep and middle aged voice."},{gender:"FEMALE",age:"Middle-aged",accent:"british",useCase:"News",preview_url:"https://storage.googleapis.com/eleven-public-prod/premade/voices/Xb7hH8MSUJpSbSDYk0k2/f5409e2f-d9c3-4ac9-9e7d-916a5dbd1ef1.mp3",elevenLabsId:"Xb7hH8MSUJpSbSDYk0k2",label:"Alice",description:"A confident and middle-aged voice."},{gender:"MALE",age:"Young",accent:"american",useCase:"Narration",preview_url:"https://storage.googleapis.com/eleven-public-prod/premade/voices/ErXwobaYiN019PkySvjV/ee9ac367-91ee-4a56-818a-2bd1a9dbe83a.mp3",elevenLabsId:"ErXwobaYiN019PkySvjV",label:"Antoni",description:"A well-rounded and young voice."},{elevenLabsId:"9BWtsMINqrJLrRacOk9x",preview_url:"https://storage.googleapis.com/eleven-public-prod/premade/voices/9BWtsMINqrJLrRacOk9x/405766b8-1f4e-4d3c-aba1-6f25333823ec.mp3",label:"Aria",gender:"FEMALE",age:"Middle-aged",accent:"american",useCase:"Social Media",description:"An expressive and middle-aged voice."},{gender:"MALE",age:"Middle-aged",accent:"american",useCase:"Narration",preview_url:"https://storage.googleapis.com/eleven-public-prod/premade/voices/VR6AewLTigWG4xSOukaG/316050b7-c4e0-48de-acf9-a882bb7fc43b.mp3",elevenLabsId:"VR6AewLTigWG4xSOukaG",label:"Arnold",description:"A crisp and middle aged voice."},{gender:"MALE",age:"Old",accent:"american",useCase:"Narration",preview_url:"https://storage.googleapis.com/eleven-public-prod/premade/voices/pqHfZKP75CvOlQylNhV4/52f0842a-cf81-4715-8cf0-76cfbd77088e.mp3",elevenLabsId:"pqHfZKP75CvOlQylNhV4",label:"Bill",description:"A trustworthy and old voice."},{gender:"MALE",age:"Middle-aged",accent:"american",useCase:"Narration",preview_url:"https://storage.googleapis.com/eleven-public-prod/premade/voices/nPczCjzI2devNBz1zQrb/f4dbda0c-aff0-45c0-93fa-f5d5ec95a2eb.mp3",elevenLabsId:"nPczCjzI2devNBz1zQrb",label:"Brian",description:"A deep and middle-aged voice."},{gender:"MALE",age:"Middle-aged",accent:"american",useCase:"Characters",preview_url:"https://storage.googleapis.com/eleven-public-prod/premade/voices/N2lVS1w4EtoT3dr4eOWO/ac833bd8-ffda-4938-9ebc-b0f99ca25481.mp3",elevenLabsId:"N2lVS1w4EtoT3dr4eOWO",label:"Callum",description:"An intense and middle-aged voice."},{gender:"MALE",age:"Middle-aged",accent:"australian",useCase:"Conversational",preview_url:"https://storage.googleapis.com/eleven-public-prod/premade/voices/IKne3meq5aSn9XLyUdCD/102de6f2-22ed-43e0-a1f1-111fa75c5481.mp3",elevenLabsId:"IKne3meq5aSn9XLyUdCD",label:"Charlie",description:"A natural and middle aged voice."},{gender:"FEMALE",age:"Young",accent:"english-swedish",useCase:"Characters",preview_url:"https://storage.googleapis.com/eleven-public-prod/premade/voices/XB0fDUnXU5powFXDhCwa/942356dc-f10d-4d89-bda5-4f8505ee038b.mp3",elevenLabsId:"XB0fDUnXU5powFXDhCwa",label:"Charlotte",description:"An inviting and young voice."},{gender:"MALE",age:"Middle-aged",accent:"american",useCase:"Conversational",preview_url:"https://storage.googleapis.com/eleven-public-prod/premade/voices/iP95p4xoKVk53GoZ742B/c1bda571-7123-418e-a796-a2b464b373b4.mp3",elevenLabsId:"iP95p4xoKVk53GoZ742B",label:"Chris",description:"A casual and middle-aged voice."},{gender:"MALE",age:"Middle-aged",accent:"american",useCase:"Characters",preview_url:"https://storage.googleapis.com/eleven-public-prod/premade/voices/2EiwWnXFnvU5JabPnv8n/65d80f52-703f-4cae-a91d-75d4e200ed02.mp3",elevenLabsId:"2EiwWnXFnvU5JabPnv8n",label:"Clyde",description:"A war veteran and middle-aged voice."},{gender:"MALE",age:"Middle-aged",accent:"british",useCase:"News",preview_url:"https://storage.googleapis.com/eleven-public-prod/premade/voices/onwK4e9ZLuTAKqWW03F9/7eee0236-1a72-4b86-b303-5dcadc007ba9.mp3",elevenLabsId:"onwK4e9ZLuTAKqWW03F9",label:"Daniel",description:"An authoritative and middle-aged voice."},{gender:"MALE",age:"Young",accent:"british-essex",useCase:"Characters",preview_url:"https://storage.googleapis.com/eleven-public-prod/premade/voices/CYw3kZ02Hs0563khs1Fj/872cb056-45d3-419e-b5c6-de2b387a93a0.mp3",elevenLabsId:"CYw3kZ02Hs0563khs1Fj",label:"Dave",description:"A conversational and young voice."},{gender:"FEMALE",age:"Young",accent:"american",useCase:"Narration",preview_url:"https://storage.googleapis.com/eleven-public-prod/premade/voices/AZnzlk1XvdvUeBnXmlld/508e12d0-a7f7-4d86-a0d3-f3884ff353ed.mp3",elevenLabsId:"AZnzlk1XvdvUeBnXmlld",label:"Domi",description:"A strong and young voice."},{gender:"FEMALE",age:"Young",accent:"british",useCase:"Narration",preview_url:"https://storage.googleapis.com/eleven-public-prod/premade/voices/ThT5KcBeYPX3keUQqHPh/981f0855-6598-48d2-9f8f-b6d92fbbe3fc.mp3",elevenLabsId:"ThT5KcBeYPX3keUQqHPh",label:"Dorothy",description:"A pleasant and young voice."},{gender:"MALE",age:"Middle-aged",accent:"american",useCase:"News",preview_url:"https://storage.googleapis.com/eleven-public-prod/premade/voices/29vD33N1CtxCmqQRPOHJ/e8b52a3f-9732-440f-b78a-16d5e26407a1.mp3",elevenLabsId:"29vD33N1CtxCmqQRPOHJ",label:"Drew",description:"A well-rounded and middle-aged voice."},{gender:"FEMALE",age:"Young",accent:"american",useCase:"Meditation",preview_url:"https://storage.googleapis.com/eleven-public-prod/premade/voices/LcfcDJNUP1GQjkzn1xUU/e4b994b7-9713-4238-84f3-add8fccaaccd.mp3",elevenLabsId:"LcfcDJNUP1GQjkzn1xUU",label:"Emily",description:"A calm and young voice."},{elevenLabsId:"cjVigY5qzO86Huf0OWal",preview_url:"https://storage.googleapis.com/eleven-public-prod/premade/voices/cjVigY5qzO86Huf0OWal/d098fda0-6456-4030-b3d8-63aa048c9070.mp3",label:"Eric",gender:"MALE",age:"Middle-aged",accent:"american",useCase:"Conversational",description:"A friendly and middle-aged voice."},{gender:"MALE",age:"Young",accent:"american",useCase:"ASMR",preview_url:"https://storage.googleapis.com/eleven-public-prod/premade/voices/g5CIjZEefAph4nQFvHAz/26acfa99-fdec-43b8-b2ee-e49e75a3ac16.mp3",elevenLabsId:"g5CIjZEefAph4nQFvHAz",label:"Ethan",description:"A soft and young voice."},{gender:"MALE",age:"Old",accent:"irish",useCase:"Characters",preview_url:"https://storage.googleapis.com/eleven-public-prod/premade/voices/D38z5RcWu1voky8WS1ja/a470ba64-1e72-46d9-ba9d-030c4155e2d2.mp3",elevenLabsId:"D38z5RcWu1voky8WS1ja",label:"Fin",description:"A sailor and old voice."},{gender:"FEMALE",age:"Young",accent:"american",useCase:"Characters",preview_url:"https://storage.googleapis.com/eleven-public-prod/premade/voices/jsCqWAovK2LkecY7zXl4/8e1f5240-556e-4fd5-892c-25df9ea3b593.mp3",elevenLabsId:"jsCqWAovK2LkecY7zXl4",label:"Freya",description:"An expressive and young voice."},{gender:"MALE",age:"Middle-aged",accent:"british",useCase:"Narration",preview_url:"https://storage.googleapis.com/eleven-public-prod/premade/voices/JBFqnCBsd6RMkjVDRZzb/365e8ae8-5364-4b07-9a3b-1bfb4a390248.mp3",elevenLabsId:"JBFqnCBsd6RMkjVDRZzb",label:"George",description:"A warm and middle aged voice."},{gender:"FEMALE",age:"Young",accent:"american",useCase:"Animation",preview_url:"https://storage.googleapis.com/eleven-public-prod/premade/voices/jBpfuIE2acCO8z3wKNLl/3a7e4339-78fa-404e-8d10-c3ef5587935b.mp3",elevenLabsId:"jBpfuIE2acCO8z3wKNLl",label:"Gigi",description:"A childlish and young voice."},{gender:"MALE",age:"Young",accent:"english-italian",useCase:"Narration",preview_url:"https://storage.googleapis.com/eleven-public-prod/premade/voices/zcAOhNBS3c14rBihAFp1/e7410f8f-4913-4cb8-8907-784abee5aff8.mp3",elevenLabsId:"zcAOhNBS3c14rBihAFp1",label:"Giovanni",description:"A foreigner and young voice."},{gender:"FEMALE",age:"Middle-aged",accent:"american",useCase:"Characters",preview_url:"https://storage.googleapis.com/eleven-public-prod/premade/voices/z9fAnlkpzviPz146aGWa/cbc60443-7b61-4ebb-b8e1-5c03237ea01d.mp3",elevenLabsId:"z9fAnlkpzviPz146aGWa",label:"Glinda",description:"A smooth and middle-aged voice."},{gender:"FEMALE",age:"Young",accent:"american-southern",useCase:"Narration",preview_url:"https://storage.googleapis.com/eleven-public-prod/premade/voices/oWAxZDx7w5VEj9dCyTzz/84a36d1c-e182-41a8-8c55-dbdd15cd6e72.mp3",elevenLabsId:"oWAxZDx7w5VEj9dCyTzz",label:"Grace",description:"A pleasant and young voice."},{gender:"MALE",age:"Young",accent:"american",useCase:"Characters",preview_url:"https://storage.googleapis.com/eleven-public-prod/premade/voices/SOYHLrjzK2X1ezoPC6cr/86d178f6-f4b6-4e0e-85be-3de19f490794.mp3",elevenLabsId:"SOYHLrjzK2X1ezoPC6cr",label:"Harry",description:"An anxious and young voice."},{gender:"MALE",age:"Old",accent:"australian",useCase:"News",preview_url:"https://storage.googleapis.com/eleven-public-prod/premade/voices/ZQe5CZNOzWyzPSCn5a3c/35734112-7b72-48df-bc2f-64d5ab2f791b.mp3",elevenLabsId:"ZQe5CZNOzWyzPSCn5a3c",label:"James",description:"A calm and old voice."},{gender:"MALE",age:"Young",accent:"american-irish",useCase:"Narration",preview_url:"https://storage.googleapis.com/eleven-public-prod/premade/voices/bVMeCyTHy58xNoL34h3p/66c47d58-26fd-4b30-8a06-07952116a72c.mp3",elevenLabsId:"bVMeCyTHy58xNoL34h3p",label:"Jeremy",description:"An excited and young voice."},{elevenLabsId:"cgSgspJ2msm6clMCkdW9",preview_url:"https://storage.googleapis.com/eleven-public-prod/premade/voices/cgSgspJ2msm6clMCkdW9/56a97bf8-b69b-448f-846c-c3a11683d45a.mp3",label:"Jessica",gender:"FEMALE",age:"Young",accent:"american",useCase:"Conversational",description:"An expressive and young voice."},{gender:"MALE",age:"Old",accent:"american",useCase:"Characters",preview_url:"https://storage.googleapis.com/eleven-public-prod/premade/voices/t0jbNlBVZ17f02VDIeMI/e26939e3-61a4-4872-a41d-33922cfbdcdc.mp3",elevenLabsId:"t0jbNlBVZ17f02VDIeMI",label:"Jessie",description:"A raspy and old voice."},{gender:"MALE",age:"Middle-aged",accent:"british",useCase:"News",preview_url:"https://storage.googleapis.com/eleven-public-prod/premade/voices/Zlb1dXrM653N07WRdFW3/daa22039-8b09-4c65-b59f-c79c48646a72.mp3",elevenLabsId:"Zlb1dXrM653N07WRdFW3",label:"Joseph",description:"An articulate and middle-aged voice."},{gender:"MALE",age:"Young",accent:"american",useCase:"Narration",preview_url:"https://storage.googleapis.com/eleven-public-prod/premade/voices/TxGEqnHWrfWFTfGW9XjX/3ae2fc71-d5f9-4769-bb71-2a43633cd186.mp3",elevenLabsId:"TxGEqnHWrfWFTfGW9XjX",label:"Josh",description:"A deep and young voice."},{elevenLabsId:"FGY2WhTYpPnrIDTdsKH5",preview_url:"https://storage.googleapis.com/eleven-public-prod/premade/voices/FGY2WhTYpPnrIDTdsKH5/67341759-ad08-41a5-be6e-de12fe448618.mp3",label:"Laura",gender:"FEMALE",age:"Young",accent:"american",useCase:"Social Media",description:"An upbeat and young voice."},{gender:"MALE",age:"Young",accent:"american",useCase:"Narration",preview_url:"https://storage.googleapis.com/eleven-public-prod/premade/voices/TX3LPaxmHKxFdv7VOQHJ/63148076-6363-42db-aea8-31424308b92c.mp3",elevenLabsId:"TX3LPaxmHKxFdv7VOQHJ",label:"Liam",description:"An articulate and young voice."},{gender:"FEMALE",age:"Middle-aged",accent:"british",useCase:"Narration",preview_url:"https://storage.googleapis.com/eleven-public-prod/premade/voices/pFZP5JQG7iQjIQuC4Bku/0ab8bd74-fcd2-489d-b70a-3e1bcde8c999.mp3",elevenLabsId:"pFZP5JQG7iQjIQuC4Bku",label:"Lily",description:"A warm and middle-aged voice."},{gender:"FEMALE",age:"Middle-aged",accent:"american",useCase:"Narration",preview_url:"https://storage.googleapis.com/eleven-public-prod/premade/voices/XrExE9yKIg1WjnnlVkGX/b930e18d-6b4d-466e-bab2-0ae97c6d8535.mp3",elevenLabsId:"XrExE9yKIg1WjnnlVkGX",label:"Matilda",description:"A friendly and middle-aged voice."},{gender:"MALE",age:"Old",accent:"american",useCase:"Narration",preview_url:"https://storage.googleapis.com/eleven-public-prod/premade/voices/flq6f7yk4E4fJM5XTYuZ/c6431a82-f7d2-4905-b8a4-a631960633d6.mp3",elevenLabsId:"flq6f7yk4E4fJM5XTYuZ",label:"Michael",description:"A calm and old voice."},{gender:"FEMALE",age:"Young",accent:"english-swedish",useCase:"Animation",preview_url:"https://storage.googleapis.com/eleven-public-prod/premade/voices/zrHiDhphv9ZnVXBqCLjz/decbf20b-0f57-4fac-985b-a4f0290ebfc4.mp3",elevenLabsId:"zrHiDhphv9ZnVXBqCLjz",label:"Mimi",description:"A childish and young voice."},{gender:"FEMALE",age:"Young",accent:"american",useCase:"ASMR",preview_url:"https://storage.googleapis.com/eleven-public-prod/premade/voices/piTKgcLEGmPE4e6mEKli/c269a54a-e2bc-44d0-bb46-4ed2666d6340.mp3",elevenLabsId:"piTKgcLEGmPE4e6mEKli",label:"Nicole",description:"A soft and young voice."},{gender:"MALE",age:"Middle-aged",accent:"american",useCase:"Characters",preview_url:"https://storage.googleapis.com/eleven-public-prod/premade/voices/ODq5zmih8GrVes37Dizd/0ebec87a-2569-4976-9ea5-0170854411a9.mp3",elevenLabsId:"ODq5zmih8GrVes37Dizd",label:"Patrick",description:"A shouty and middle-aged voice."},{gender:"MALE",age:"Middle-aged",accent:"american",useCase:"News",preview_url:"https://storage.googleapis.com/eleven-public-prod/premade/voices/5Q0t7uMcjvnagumLfvZi/1094515a-b080-4282-aac7-b1b8a553a3a8.mp3",elevenLabsId:"5Q0t7uMcjvnagumLfvZi",label:"Paul",description:"An authoritative and middle-aged voice."},{gender:"FEMALE",age:"Young",accent:"american",useCase:"Narration",preview_url:"https://storage.googleapis.com/eleven-public-prod/premade/voices/21m00Tcm4TlvDq8ikWAM/df6788f9-5c96-470d-8312-aab3b3d8f50a.mp3",elevenLabsId:"21m00Tcm4TlvDq8ikWAM",label:"Rachel",description:"A calm and young voice."},{elevenLabsId:"SAz9YHcvj6GT2YYXdXww",preview_url:"https://storage.googleapis.com/eleven-public-prod/premade/voices/SAz9YHcvj6GT2YYXdXww/e6c95f0b-2227-491a-b3d7-2249240decb7.mp3",label:"River",gender:"NEUTRAL",age:"Middle-aged",accent:"american",useCase:"Social Media",description:"A confident and middle-aged voice."},{elevenLabsId:"CwhRBWXzGAHq8TQ4Fs17",preview_url:"https://storage.googleapis.com/eleven-public-prod/premade/voices/CwhRBWXzGAHq8TQ4Fs17/58ee3ff5-f6f2-4628-93b8-e38eb31806b0.mp3",label:"Roger",gender:"MALE",age:"Middle-aged",accent:"american",useCase:"Social Media",description:"A confident and middle-aged voice."},{gender:"MALE",age:"Young",accent:"american",useCase:"Narration",preview_url:"https://storage.googleapis.com/eleven-public-prod/premade/voices/yoZ06aMxZJJ28mfd3POQ/ac9d1c91-92ce-4b20-8cc2-3187a7da49ec.mp3",elevenLabsId:"yoZ06aMxZJJ28mfd3POQ",label:"Sam",description:"A raspy and young voice."},{gender:"FEMALE",age:"Young",accent:"american",useCase:"News",preview_url:"https://storage.googleapis.com/eleven-public-prod/premade/voices/EXAVITQu4vr4xnSDxMaL/6851ec91-9950-471f-8586-357c52539069.mp3",elevenLabsId:"EXAVITQu4vr4xnSDxMaL",label:"Sarah",description:"A soft and young voice."},{gender:"FEMALE",age:"Middle-aged",accent:"american",useCase:"Narration",preview_url:"https://storage.googleapis.com/eleven-public-prod/premade/voices/pMsXgVXv3BLzUgSXRplE/d61f18ed-e5b0-4d0b-a33c-5c6e7e33b053.mp3",elevenLabsId:"pMsXgVXv3BLzUgSXRplE",label:"Serena",description:"A pleasant and middle-aged voice."},{gender:"MALE",age:"Young",accent:"american",useCase:"Meditation",preview_url:"https://storage.googleapis.com/eleven-public-prod/premade/voices/GBv7mTt0atIp3Br8iCZE/98542988-5267-4148-9a9e-baa8c4f14644.mp3",elevenLabsId:"GBv7mTt0atIp3Br8iCZE",label:"Thomas",description:"A calm and young voice."},{elevenLabsId:"bIHbv24MWmeRgasZH58o",preview_url:"https://storage.googleapis.com/eleven-public-prod/premade/voices/bIHbv24MWmeRgasZH58o/8caf8f3d-ad29-4980-af41-53f20c72d7a4.mp3",label:"Will",gender:"MALE",age:"Young",accent:"american",useCase:"Social Media",description:"A friendly and young voice."}],Mm=(e,t)=>{const{label:a,gender:n,preview_url:s,elevenLabsId:o,useCase:i,age:r,description:l,accent:d}=e;return{name:`eleven-labs-${a.toLocaleLowerCase()}`,gender:n,label:a,useCase:i,age:r,description:l,languageCode:t,sampleURL:s,elevenLabsId:o,accent:d,languageAgnostic:!0}};function Pm(e){if(Fm(e))return up(e)?e.audio_asset_id:e.asset_id}function Fm(e){return e.type===Nc.Audio||e.type===Nc.Video&&!1!==e.hasAudio||up(e)}const Dm=u((e=>{var t;return null==(t=e.teams.activeBrandkit)?void 0:t.personas}),(e=>e||{})),Om={_id:"anon_team",name:"My Team",users:[{_id:"anon_user",email:"",userId:"anon_user",role:Ad.Admin,createdAt:new Date,firstName:"",lastName:"",name:"",teamId:"anon_team",picture:"",customPicture:"",loggedInWith:""}],creatorId:"anon_user",planTier:Id.Free,createdAt:String(new Date),emailDomain:"",settings:{inviteByLink:!0,defaultPrivacy:ad.unlisted},limits:{cumulativeExportDuration:0,lastUpdatedCumulativeDuration:new Date,transcribeUsage:0,lastUpdatedTranscribe:new Date,generatedDocumentToVideo:0,generatedArticleToVideo:0,generatedScripts:0,generatedScriptToVideo:0,generatedScriptsInScriptToVideo:0,generatedTTSVideos:0,generatedVideos:0,generatedImages:0,lastReset:new Date,monthlyTranslateUsage:0,monthlyAIGenerateUsage:0,monthlyTTSUsage:0,monthlyLipSyncUsage:0,TTSVoiceClones:0},brandkit:{cmlIds:[],colors:[],fonts:[],textStyles:{default:{},header:{},large:{}}}},Um=e=>{const{teams:{allTeams:t}}=Mu().state;return t.find((t=>t._id===e))||Om};function Bm(e,t=0){const[a,n]=[Math.min(e,t),Math.max(e,t)],s=Math.abs(n-a);return[...Array(s+1).keys()].map((e=>e+a))}function Wm(e,t=2){return+parseFloat((e??0).toString()).toFixed(t)}const Vm=(e,t)=>{if(!e||!t)return!1;return e.split("@")[1]===t.split("@")[1]};function Hm(e,t){return e.length>t?`${e.substr(0,t-1)}...`:e}const zm=()=>{const e=document.domain||"",t=e.startsWith("localhost");return e.endsWith(".kapwing-dev.com")||e.startsWith("kapwing-dev")&&e.endsWith(".herokuapp.com")||t&&["3000","4000","5000"].includes(window.location.port)||e.startsWith("192.")||e.startsWith("10.0.")||e.startsWith("10.1.")},Gm=e=>e.toLowerCase().split(" ").map((e=>e.charAt(0).toUpperCase()+e.substring(1))).join(" ");let Ym=1e5;function Km(e,t,a){let n;return e.has(t)?(n=e.get(t),a.update&&(n=a.update(n,t),e.set(t,n))):a.insert&&(n=a.insert(t),e.set(t,n)),n}function Xm(e){return`${e}%`}function Zm({retreive:e,validate:t,cancelSource:a,name:n="Resource",options:s}){return new Promise(((o,i)=>{let r=0;const d=(null==s?void 0:s.initialTimeout)??1e3,u=(null==s?void 0:s.maxAttempts)??0,p=(null==s?void 0:s.backoffFactor)??1.5,m=(null==s?void 0:s.maxTime)??0,g=(null==s?void 0:s.maxPollingInterval)??Math.max(1e4,3*d);let h;const v=Date.now();let f=d;const b=async()=>{try{let d;try{d=await e()}catch(b9e){l(b9e,{level:"warning",tags:{feature:Tu.broll}})}if(r++,null==a?void 0:a.cancelled)return void o({result:"cancelled"});if(d&&t(d))return void o({result:"success",resource:d});const y=Date.now()-v;if(u&&r>u||m&&y>m)return void i(new Error(`${n} polling timed out`));console.info(`Polling ${n}... Attempt ${r}`),(null==s?void 0:s.decreaseTimeout)&&d&&s.decreaseTimeout(d,h)?f/=p:f*=p,f=c.clamp(f,1e3,g),h=d,setTimeout(b,f)}catch(b9e){i(b9e)}};b()}))}function qm(e){const{user:t,token:a}=e||{};return!(c.isEmpty(t)||!a)}const Jm=()=>qm(Du((e=>e.currentUser)));function $m(e){if(!qm(e))return!1;const{accountType:t}=e.user;return t===sd.admin||!!e.impersonatingAdminEmail}function Qm(e){var t;if(!qm(e))return!1;const{onboarding:a}=e.user,n=null==(t=null==a?void 0:a.survey)?void 0:t.occupation;return"student"===n||"teacher"===n}function eg(e){if(!qm(e))return"";const{user:t}=e,{name:a,firstName:n,lastName:s}=t;return a||(n&&s?`${n} ${s}`:n||(s||""))}function tg(e){if(!qm(e))return"";const{user:t}=e,{name:a,firstName:n}=t;let s="";try{if(n){const e=n.split(" ")[0];e&&(s=Hm(e,24))}else if(a){const e=a.split(" ")[0];e&&(s=Hm(e,24))}}catch(b9e){}return s}function ag(e){if(!qm(e))return"";const{user:t}=e,{email:a}=t;return a||""}const ng=u((e=>e.currentUser),(e=>{return $m(e)?(t=e)&&$m(t)?{_id:"admin_team",name:"Admin Team",users:[{_id:"admin_team_user",userId:t.user._id,role:Ad.Admin,createdAt:new Date,email:t.user.email,firstName:t.user.firstName,lastName:t.user.lastName,name:t.user.name,teamId:"admin_team",picture:"",loggedInWith:""}],creatorId:t.user._id,planTier:Id.Pro,createdAt:String(new Date),emailDomain:"kapwing.com",settings:{inviteByLink:!0,defaultPrivacy:ad.unlisted},limits:{cumulativeExportDuration:0,lastUpdatedCumulativeDuration:new Date,transcribeUsage:0,lastUpdatedTranscribe:new Date,generatedDocumentToVideo:0,generatedScripts:0,generatedScriptToVideo:0,generatedScriptsInScriptToVideo:0,generatedTTSVideos:0,generatedVideos:0,generatedImages:0,lastReset:new Date,monthlyTranslateUsage:0,monthlyAIGenerateUsage:0,monthlyTTSUsage:0,monthlyLipSyncUsage:0,generatedArticleToVideo:0,TTSVoiceClones:0},brandkit:{cmlIds:[],colors:[],fonts:[],textStyles:{default:{},header:{},large:{}}}}:Om:void 0;var t})),sg=u((e=>e.teams.allTeams),(e=>e.teams.selectedTeamId),((e,t)=>e.find((e=>e._id===t)))),og=u((e=>e.teams.allTeams),(e=>{var t;return null==(t=e.workspaces.lastValidWorkspaceInfo)?void 0:t.teamId}),((e,t)=>e.find((e=>e._id===t)))),ig=u(sg,og,ng,(e=>e.teams.allTeams[0]),((e,t,a,n)=>e||(a||(t||(n||Om))))),rg=e=>ig(e??Mu().state),lg=()=>Du(ig),dg=u(ig,(e=>{if(!e)return nc(Id.Free);let{planTier:t}=e;return t||(t=Id.Free),nc(t)})),cg=()=>Du(dg),ug=()=>dg(Mu().state),pg=e=>{const t=Um(e);let{planTier:a}=t;return a||(a=Id.Free),nc(a)},mg=e=>{let{planTier:t}=e;return t||(t=Id.Free),nc(t)},gg=e=>cg().hasPermission(e),hg=e=>ug().hasPermission(e),vg=5e3,fg="None";function bg({ttsLanguageOption:e,voiceId:t}){var a;const{state:n}=Mu(),s=(null==(a=n.teams.activeBrandkit)?void 0:a.clonedVoices)||[],o=hm[e]||[];return[...o,...s.map((t=>({label:t.name,name:Tm(t.name),languageCode:e||"English (US)",sampleURL:t.previewUrl||"",elevenLabsId:t.voiceId,isClone:!0}))),...Cg(e)].find((e=>"elevenLabsId"in e&&e.elevenLabsId===t||("name"in e&&e.name===t||e.label===t)))||o[0]}function yg(e){const t=Pm(e);if(!t)return null;const a=Mu().state.assets.byId[t];if(!a)return null;const n=a.ttsInfo;if(!n)return null;const{voiceId:s,ttsLanguageOption:o,text:i}=n;if(!s)throw new Error(`Voice ID not found for TTS layer: ${e.id}`);if(!o)throw new Error(`tts language option not found for TTS layer: ${e.id}`);let r;return r=s.includes("Journey-O")||s.includes("Journey-F")?Sg(!1,o,"FEMALE"):s.includes("Journey-D")?Sg(!1,o,"MALE"):bg({ttsLanguageOption:o,voiceId:s}),{ttsLanguageOption:o,text:i,ttsVoiceOption:r}}const wg=(e,t)=>{const{startTime:a=0,endTime:n=e.duration||3}=e,{start_time:s,end_time:o}=t,i=Math.min(n,o)-Math.max(a,s);return i&&i>=.5*(o-s)};function _g(e,t="English (US)"){const a=xm(t),n=e.elevenLabsVoiceId,s=Nm.find((e=>e.elevenLabsId===n)),o=s?Mm(s,a):null;return{label:e.name,name:`persona-${Tm(e.name)}`,languageCode:a,elevenLabsId:n,isClone:!0,sampleURL:(null==o?void 0:o.sampleURL)||"",gender:null==o?void 0:o.gender,accent:null==o?void 0:o.accent,age:null==o?void 0:o.age}}function Cg(e="English (US)"){const{state:t}=Mu(),a=Dm(t);return[...Object.values(a||{}),...Object.values(Kp)].map((t=>_g(t,e)))}const Sg=(e,t="English (US)",a="FEMALE")=>{const n=hm[t],s=n.filter((e=>e.gender===a));if(e)return s[0]||n[0];return s.filter((e=>!Rm(e)))[0]||n[0]};function xg(e){const t=Sg(hg(Fd.TEXT_TO_SPEECH),"English (US)");if(!e)return{ttsVoiceOption:t,ttsLanguageOption:"English (US)",personaId:"None"};const a=yg(e),n=up(e)?e.personaId:"None";return{ttsVoiceOption:(null==a?void 0:a.ttsVoiceOption)||t,ttsLanguageOption:(null==a?void 0:a.ttsLanguageOption)||"English (US)",personaId:n}}function Ig(e){var t;return!!ep(e)&&!!(null==(t=yg(e))?void 0:t.text)}function Ag(e){return up(e)||Ig(e)}const kg=(e,t,a,n)=>({x:e+a,y:t+n}),Tg=(e,t,a,n)=>({x:e-a,y:t-n}),Eg=(e,t,a,n,s)=>{const{x:o,y:i}=Tg(e,t,n,s);return kg(o*a,i*a,n,s)},Lg=(e,t,a,n)=>({x:e-a,y:t-n}),jg=(e,t,a,n,s,o,i,r,l,d)=>{const c=e/100,u=((e,t,a,n,s,o,i,r,l,d)=>{const c={x:r+o/2,y:l+i/2},u=e.canvas.x/100*t+n+r,p=e.canvas.y/100*a+s+l,m=Eg(u,p,d,c.x,c.y),g=e.container.x/100*o+r,h=e.container.y/100*i+l;return{x:g-m.x,y:h-m.y}})(t,a,n,s,o,i,r,l,d,c);return{scale:c,translate:u}},Rg=(e,t,a,n,s,o,i,r,l,d,c,u)=>{const{scale:p,translate:m}=jg(a,n,s,o,i,r,l,d,c,u),g=Lg(e,t,m.x,m.y);return((e,t,a,n,s)=>{const{x:o,y:i}=Tg(e,t,n,s);return kg(o/a,i/a,n,s)})(g.x,g.y,p,c+l/2,u+d/2)},Ng=({x:e,y:t,zoom:a,anchor:n,canvasWidth:s,canvasHeight:o,canvasX:i,canvasY:r,containerWidth:l,containerHeight:d,containerX:c,containerY:u})=>{const{scale:p,translate:m}=jg(a,n,s,o,i,r,l,d,c,u),g=Eg(e,t,p,c+l/2,u+d/2);return Lg(g.x,g.y,-m.x,-m.y)},Mg=(e,t)=>{const{canvasWidth:a,canvasHeight:n}=e;return{container:{x:0,y:0},canvas:{x:100-50/(a*t/100)*100,y:100-50/(n*t/100)*100}}},Pg=(e,t)=>({container:{x:100,y:100},canvas:{x:50/(e.canvasWidth*t/100)*100,y:50/(e.canvasHeight*t/100)*100}}),Fg=e=>{var t,a,n,s;if((e=>{var t;return void 0!==window.TouchEvent&&e instanceof window.TouchEvent||!!(null==(t=null==e?void 0:e.touches)?void 0:t.length)})(e)){const o=e;return[(null==(a=null==(t=null==o?void 0:o.touches)?void 0:t[0])?void 0:a.clientX)||0,(null==(s=null==(n=null==o?void 0:o.touches)?void 0:n[0])?void 0:s.clientY)||0]}const o=e;return[o.clientX,o.clientY]},Dg=e=>{const t=Fg(e),a=Mu().state,{zoom:n,canvasX:s,canvasY:o,canvasWidth:i,canvasHeight:r,anchor:l,containerX:d,containerY:c,containerWidth:u,containerHeight:p}={zoom:a.studioSizing.zoom,anchor:a.studioSizing.anchor,canvasHeight:a.studio.height,canvasWidth:a.studio.width,canvasX:a.studioSizing.canvasX,canvasY:a.studioSizing.canvasY,containerHeight:a.studioSizing.containerHeight,containerWidth:a.studioSizing.containerWidth,containerX:a.studioSizing.containerX,containerY:a.studioSizing.containerY};if(!i||!r)return t;const m=Rg(t[0],t[1],n,l,i,r,s,o,u,p,d,c);return[m.x,m.y]},Og=(e,t=(e=>e))=>{if(e.length<=1)return!0;const[a,...n]=e;if(!a)return!1;const s=t(a);return n.every((e=>Object.is(t(e),s)))},Ug=e=>{const[t,a]=i.useState(window.matchMedia(e).matches);return i.useEffect((()=>{const n=window.matchMedia(e);n.matches!==t&&a(n.matches);const s=()=>a(n.matches);return n.addListener(s),()=>n.removeListener(s)}),[t,e]),t},Bg=()=>Du((e=>e.isMobile)),Wg=e=>{if(e.dataTransfer.types)for(let t=0;t<e.dataTransfer.types.length;t+=1)if("Files"===e.dataTransfer.types[t])return!0;return!1},Vg=()=>{const e=Bg(),t=Ug("(orientation: landscape)");return!(!e||!t)},Hg=()=>{const e=Ug("(max-width: 980px)"),t=Bg(),[a,n]=i.useState(e&&!t);return i.useEffect((()=>{const s=e&&!t;s!==a&&n(s)}),[a,e,t]),a},zg=(e,t,a)=>Math.min(Math.max(parseFloat(e),t),a),Gg=(e,t)=>e?e.length<=t?e:`${e.substring(0,t-3)}...`:"";function Yg(e){return Object.keys(e).filter((t=>e[t])).join(" ").trim()}const Kg=(e,t=3)=>{const a=10**t;return Math.round(e*a)/a},Xg=e=>Ql.includes(e.value)&&void 0===(null==e?void 0:e.default)||!0===(null==e?void 0:e.default),Zg=e=>"62d61954f85729d3ec1db3f4"===e,qg=()=>{const{state:e}=Mu(),{activeBrandkit:t}=e.teams;return!!t&&!!t.isPrepopulated};function Jg(){const{state:e}=Mu(),{user:t}=e.currentUser,{email:a}=t;if(t&&a){return a.split("@").pop()||""}return""}const $g={failed:-1,started:0,completed:1},Qg=Zp.flatMap((({translateCode:e,transcriptionVariants:t})=>t.map((t=>({en:t.en,code:t.code,label:t.label,translateCode:e}))))).sort(((e,t)=>e.en.localeCompare(t.en))),eh=Zp.map((e=>({en:e.en,label:e.label,code:e.translateCode}))),th=Qg.filter((e=>!e.code.endsWith("-RM"))),ah={en:["en","en-US","en-GB"],pt:["pt","pt-BR","pt-PT"],hi:["hi-IN","hi-RM","hi-EN"],es:["es","es-ES","es-MX","es-CO","es-AR","es-PE","es-CL","es-VE","es-EC","es-GT","es-CU","es-BO","es-DO","es-HN","es-PY","es-SV","es-NI","es-CR","es-PA","es-UY","es-GQ","es-PR"],fr:["fr","fr-FR","fr-CA","fr-BE","fr-CH"],ar:["ar","ar-DZ","ar-BH","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LB","ar-LY","ar-MA","ar-OM","ar-QA","ar-SA","ar-SY","ar-TN","ar-AE","ar-YE"]},nh=eh.filter((e=>!(e.code in ah))).concat(Zp.reduce(((e,t)=>{const{transcriptionVariants:a,translateCode:n}=t;if(n in ah){const t=ah[n]||[];for(const n of a)t.includes(n.code)&&e.push(n)}return e}),[])).sort(((e,t)=>e.en.localeCompare(t.en))),sh=6e4,oh="Trending Now",ih=Math.random().toString(36).substring(2),rh=()=>{const e=document.domain||"";return e.endsWith(".kapwing-dev.com")||e.startsWith("kapwing-dev")&&e.endsWith(".herokuapp.com")||e.startsWith("localhost")&&["3000","4000","5000","3030"].includes(window.location.port)},lh=()=>{try{if("undefined"!=typeof window&&"undefined"!=typeof document){if(window.Cypress)return;const e=rh(),t=e?"461b8b8947f81e4f070013ded04799df":"e3eca64f2da6246ee6a22cd63f455a07",a=()=>{window.amplitudeOnExit&&window.amplitudeOnExit()},n=Pl(),s=Fl(),o={includeUtm:!0,includeReferrer:!0,includeGclid:!0,includeFbclid:!0,useDynamicConfig:!0,saveParamsReferrerOncePerSession:!1,onExitPage:a,defaultTracking:{sessions:!1},appVersion:e?s:n};return amplitude.init(t,o),amplitude.add(h()),(()=>{var e,t,a,n;if(rh())return;const{state:s}=Mu(),{planTier:o}=rg()||{},i=s.currentUser.user,r=(null==(t=null==(e=i.onboarding)?void 0:e.survey)?void 0:t.usage)===Kc.Work;let l=0;switch(o){case Id.Enterprise:case Id.Business:l=1;break;case Id.Pro:l=r?1:.4;break;case Id.Free:{const e=(null==(n=null==(a=i.onboarding)?void 0:a.survey)?void 0:n.occupation)||"",t=["marketing","communications","media production","creative agency"];r&&t.includes(e.toLowerCase())&&(l=.3);break}}l&&amplitude.add(v({sampleRate:l}))})(),amplitude}}catch(b9e){}return null};function dh(e,{action:t,currency:a,items:n,transaction_id:s,value:o,revenue_value:i,plan_type:r,plan_frequency:l,seat_number:d}={}){ch({event:"Custom Event",eventProps:{name:e,action:t,transaction_id:s,value:o,currency:a,items:n,revenue_value:i,plan_type:r,plan_frequency:l,seat_number:d}})}function ch(e){((null==window?void 0:window.dataLayer)||[]).push(e)}const uh={tooltip:"tooltips-module_tooltip_iH0Xv",tooltipBubble:"tooltips-module_tooltipBubble_ojswa",tooltipTextBottomAlignRight:"tooltips-module_tooltipTextBottomAlignRight_q7P3c",tooltipTextBottomAlignLeft:"tooltips-module_tooltipTextBottomAlignLeft_WQiUM",tooltipTextSlightTop:"tooltips-module_tooltipTextSlightTop_iU89S",tooltipTextTop:"tooltips-module_tooltipTextTop_B8G2c",keyboardShortcut:"tooltips-module_keyboardShortcut_AtULU",keyboardShortcutWithOutline:"tooltips-module_keyboardShortcutWithOutline_cOJND"},ph={workspacePopoverZIndex:"18",popoverZIndex:"14",paywallZIndex:"1001",paywallBgZIndex:"1000",home:"SliderControl-module_home_khm1P",homeHowBackgroundWhite:"SliderControl-module_homeHowBackgroundWhite_0Wvtf",largeButton:"SliderControl-module_largeButton_jEWLw",sectionContent:"SliderControl-module_sectionContent_ec4wB",sectionHeader:"SliderControl-module_sectionHeader_yyav3",spacer:"SliderControl-module_spacer_TfMDQ",chevron:"SliderControl-module_chevron_XaaRi",splashText:"SliderControl-module_splashText_UeynX",splashSubtext:"SliderControl-module_splashSubtext_zwnNc",aboutSection:"SliderControl-module_aboutSection_AXLik",mobile:"SliderControl-module_mobile_ecYUU",desktop:"SliderControl-module_desktop_CZu0W",screenReaderOnlyLabel:"SliderControl-module_screenReaderOnlyLabel_lVie1",disabled:"SliderControl-module_disabled_A7sMJ",disabledWithPointerEvents:"SliderControl-module_disabledWithPointerEvents_-44n6",noScrollBar:"SliderControl-module_noScrollBar_RvhhQ",textOverflowEllipsis:"SliderControl-module_textOverflowEllipsis_e3A9I",disableTextHighlight:"SliderControl-module_disableTextHighlight_8FQq9",genericButtonBlue:"SliderControl-module_genericButtonBlue_HykSg",button:"SliderControl-module_button_gXJkt",buttonDisabled:"SliderControl-module_buttonDisabled_aoIXh",buttonSelected:"SliderControl-module_buttonSelected_Bivds",buttonOk:"SliderControl-module_buttonOk_6ktnB",buttonStacked:"SliderControl-module_buttonStacked_J2r7V",doneButton:"SliderControl-module_doneButton_mCpTO",controlSectionContainer:"SliderControl-module_controlSectionContainer_189It",section:"SliderControl-module_section_RLGyM",input:"SliderControl-module_input_rJerD",cyanDoneButton:"SliderControl-module_cyanDoneButton_yCYhJ",cyanDoneButton__disabled:"SliderControl-module_cyanDoneButton__disabled_v2d29",cyanDoneButtonContainer:"SliderControl-module_cyanDoneButtonContainer_t77do",genericButton:"SliderControl-module_genericButton_IE2LJ",genericButtonSelected:"SliderControl-module_genericButtonSelected_vEjjG",groupControlContainer:"SliderControl-module_groupControlContainer_bVOQI",controlSectionRows:"SliderControl-module_controlSectionRows_hM12r",controlSectionRowsTimeline:"SliderControl-module_controlSectionRowsTimeline_KeNG-",controlSectionRowsTwoPerRow:"SliderControl-module_controlSectionRowsTwoPerRow_ErUhZ",controlSectionRowsFullWidth:"SliderControl-module_controlSectionRowsFullWidth_LAxy6",controlSectionRowsIconAndControl:"SliderControl-module_controlSectionRowsIconAndControl_BkT0f",controlSectionTitle:"SliderControl-module_controlSectionTitle_ETV0N",controlSectionTitleNoPadding:"SliderControl-module_controlSectionTitleNoPadding_ICBAF",controlSectionDescription:"SliderControl-module_controlSectionDescription_70DwS",smallControlButton:"SliderControl-module_smallControlButton_dj883",smallControlButtonDisabled:"SliderControl-module_smallControlButtonDisabled_UuTAR",smallControlButtonSelected:"SliderControl-module_smallControlButtonSelected_k35lU",smallControlButtonLabel:"SliderControl-module_smallControlButtonLabel_nUzzg",controlSectionRow:"SliderControl-module_controlSectionRow_zWn6Y",controlButtonIcon:"SliderControl-module_controlButtonIcon_-Getl",controlButtonOnlyIcon:"SliderControl-module_controlButtonOnlyIcon_L55v4",controlButtonOnlyIconRoundedSmallTheme:"SliderControl-module_controlButtonOnlyIconRoundedSmallTheme_F3T2O",bigOverlayButton:"SliderControl-module_bigOverlayButton_fHLcW",glimmer:"SliderControl-module_glimmer_e937l",pulse:"SliderControl-module_pulse_VQKFG",bigOverlayButtonSelected:"SliderControl-module_bigOverlayButtonSelected_9h3Rc",bigOverlayButtonDisabled:"SliderControl-module_bigOverlayButtonDisabled_i-osI",bigOverlayButtonIcon:"SliderControl-module_bigOverlayButtonIcon_UORBT",incrementDecrementControl:"SliderControl-module_incrementDecrementControl_P1uJ-",incrementDecrementControlLightTheme:"SliderControl-module_incrementDecrementControlLightTheme_QmaYH",incrementDecrementControlSmallTheme:"SliderControl-module_incrementDecrementControlSmallTheme_R90Wc",incrementDecrementControlExtraSmallTheme:"SliderControl-module_incrementDecrementControlExtraSmallTheme_IADnN",incrementDecrementButton:"SliderControl-module_incrementDecrementButton_8ZTVe",incrementDecrementButtonLightTheme:"SliderControl-module_incrementDecrementButtonLightTheme_kV8jv",incrementDecrementButtonSmallTheme:"SliderControl-module_incrementDecrementButtonSmallTheme_9fsjf",incrementDecrementControlValue:"SliderControl-module_incrementDecrementControlValue_RnSq-",incrementDecrementControlValueSmallTheme:"SliderControl-module_incrementDecrementControlValueSmallTheme_AjsBE",incrementControl:"SliderControl-module_incrementControl_gSfgH",decrementControl:"SliderControl-module_decrementControl_-Vy-5",disabledIncrementDecrementButton:"SliderControl-module_disabledIncrementDecrementButton_VVGPb",tooltip:"SliderControl-module_tooltip_3V96y",selectDropDownContainer:"SliderControl-module_selectDropDownContainer_8--tl",selectDropDownDisplay:"SliderControl-module_selectDropDownDisplay_32rAt",selectDropDownDisabled:"SliderControl-module_selectDropDownDisabled_BKtrQ",selectDropDownLabel:"SliderControl-module_selectDropDownLabel_ID9p7",selectDropDownLabelContainer:"SliderControl-module_selectDropDownLabelContainer_NDtpu",selectDropDownFlag:"SliderControl-module_selectDropDownFlag_sPq6G",proSparkle:"SliderControl-module_proSparkle_J7VYp",selectDropDownLink:"SliderControl-module_selectDropDownLink_gLLRv",selectDropDownList:"SliderControl-module_selectDropDownList_TnwYL",selectDropDownListScrollContainer:"SliderControl-module_selectDropDownListScrollContainer_NHMuW",selectDropDownItem:"SliderControl-module_selectDropDownItem_NBmWG",selectDropDownItemDisabled:"SliderControl-module_selectDropDownItemDisabled_984Yk",selectDropDownItemLeft:"SliderControl-module_selectDropDownItemLeft_xmQ-3",selectDropDownItemBottomStatic:"SliderControl-module_selectDropDownItemBottomStatic_A1k-3",voiceCloneIcon:"SliderControl-module_voiceCloneIcon_GgCkR",bottomDivider:"SliderControl-module_bottomDivider_UJOPu",selectDropDownItemSelected:"SliderControl-module_selectDropDownItemSelected_c8vdK",selectDropDownShowing:"SliderControl-module_selectDropDownShowing_na-2c",dropDownButtonIcon:"SliderControl-module_dropDownButtonIcon_ig7AH",selectOptionIcon:"SliderControl-module_selectOptionIcon_5bfS5",dropDownAddIcon:"SliderControl-module_dropDownAddIcon_OxcMC",selectDropDownItemPreview:"SliderControl-module_selectDropDownItemPreview_g0kXo",selectDropDownItemPlayIcon:"SliderControl-module_selectDropDownItemPlayIcon_nSpZN",transparentSelectInput:"SliderControl-module_transparentSelectInput_gbgUS",selectOptionContainer:"SliderControl-module_selectOptionContainer_tDTrN",dropDownHeader:"SliderControl-module_dropDownHeader_BDXb4",noMargin:"SliderControl-module_noMargin_BMhlp",halfWidth:"SliderControl-module_halfWidth_Q0P8Q",fullWidth:"SliderControl-module_fullWidth_xE-fV",selectDropDownIcon:"SliderControl-module_selectDropDownIcon_6pc0S",controlButtonsContainer:"SliderControl-module_controlButtonsContainer_cl5RQ",loadingIcon:"SliderControl-module_loadingIcon_46-Hh",spin:"SliderControl-module_spin_tMVNQ",iconAndLabelRow:"SliderControl-module_iconAndLabelRow_kFpUt",dropdownDirectInput:"SliderControl-module_dropdownDirectInput_HE5R-",controlSliderContainer:"SliderControl-module_controlSliderContainer_HlkZf",sliderRoot:"SliderControl-module_sliderRoot_LObeo",sliderTrack:"SliderControl-module_sliderTrack_MaBGI",sliderThumb:"SliderControl-module_sliderThumb_FRC32",controlSliderTicks:"SliderControl-module_controlSliderTicks_cP7X9",controlSliderTick:"SliderControl-module_controlSliderTick_3XYuT",controlSliderPrecisionInput:"SliderControl-module_controlSliderPrecisionInput_LqwhN",controlSliderPrecisionUnit:"SliderControl-module_controlSliderPrecisionUnit_y-kHM",header:"SliderControl-module_header_S6lLz",labelIcon:"SliderControl-module_labelIcon_rbfap",label:"SliderControl-module_label_hECyR",reset:"SliderControl-module_reset_Ef6o1",sliderDragBubble:"SliderControl-module_sliderDragBubble_cTOfV",sliderDragBubbleText:"SliderControl-module_sliderDragBubbleText_JERGW",sliderDragBubbleArrow:"SliderControl-module_sliderDragBubbleArrow_PPAh6"},mh={opacity:.2,pointerEvents:"none"},gh=({className:e,label:t,labelIcon:a,min:n,max:s,defaultValue:o,step:r=1,onSliderChange:l,disabled:d=!1,tooltip:c=!1,testId:u,dataCy:p="",onReset:m,precisionOptions:g,dragTooltipText:h,style:v})=>{const b=void 0===o?+n+(+s-+n)/2:o,[y,w]=i.useState(String(b)),[_,C]=i.useState(b),S=i.useRef(_),[x,I]=i.useState(!1),A=i.useRef(null),k=i.useCallback((e=>{C(e),S.current=e}),[]);i.useEffect((function(){k(b),w(String(b))}),[b,k]);const T=e=>{I(!1);const t=e?e[0]:_;void 0!==t&&(k(t),l(t,!0))},E=i.useMemo((()=>[_]),[_]);return f.jsxs("div",{className:e,style:{width:"100%",...v},children:[(a||t||m)&&f.jsxs("div",{className:ph.header,children:[a&&f.jsx("div",{className:ph.labelIcon,children:a}),t&&f.jsx("div",{className:ph.label,children:t}),m&&f.jsx("button",{type:"button",className:ph.reset,onClick:m,disabled:d,children:"Reset"})]}),f.jsxs("div",{className:c?uh.tooltip:"",children:[c&&f.jsxs("span",{className:uh.tooltipTextTop,style:(()=>{let e=+_/+s*100;return e>90?e=90:e<10&&(e=10),{left:`${e}%`}})(),children:[Math.round(100*+_),"%"]}),f.jsxs("div",{className:ph.controlSliderContainer,children:[f.jsx(Gi,{className:ph.sliderRoot,ref:A,"data-testid":u||"slider","data-cy":(p?`${p}-`:"")+"slider-control",style:d?mh:void 0,min:n,max:s,step:r,value:E,onValueChange:e=>{const[t]=e;if(void 0===t)throw new Error("value is undefined");t!==S.current&&(I(!0),k(t),l(t,!1),w(String(t)))},disabled:d,onPointerDown:()=>{I(!0)},onPointerUp:()=>{I(!1)},onLostPointerCapture:()=>{x&&T()},onValueCommit:e=>{T(e)},onKeyDown:e=>{var t;t=e.key,["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(t)&&e.stopPropagation()},children:f.jsxs(Yi,{open:!!x||void 0,delayDuration:400,children:[f.jsx(Ki,{className:ph.sliderTrack}),h&&f.jsx(Xi,{children:f.jsxs(Zi,{className:ph.sliderDragBubble,updatePositionStrategy:"always",sideOffset:2,children:[f.jsx("div",{className:ph.sliderDragBubbleText,children:h(_)}),f.jsx(qi,{className:ph.sliderDragBubbleArrow})]})}),f.jsx(Ji,{asChild:!0,children:f.jsx($i,{className:ph.sliderThumb,"data-cy":"slider-thumb","data-testid":"slider-thumb","aria-disabled":d})})]})}),g&&f.jsxs(f.Fragment,{children:[f.jsx("input",{"data-testid":"slider-input","data-cy":"slider-input",className:ph.controlSliderPrecisionInput,min:n,max:s,value:y,onChange:e=>{const t=e.target,{value:a}=t;w(a);const o=(e=>{const t=Number(e);if(isNaN(t))return null;let a=Math.round(+t/r)*r;return t>s&&(a=s),t<n&&(a=n),a})(a);null!==o&&(k(o),l(o,!1))},onBlur:()=>{T()},onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),e.currentTarget.blur())},disabled:d}),f.jsx("span",{className:ph.controlSliderPrecisionUnit,children:g.unit})]})]})]})]})},hh="ZoomSlider-module_zoomSlider_hewNh",vh=[.7,1.3,2.8,5.3,10,20,40,85,150,600.5],fh={width:130};function bh(e){let t=0,a=Number.MAX_SAFE_INTEGER;return vh.forEach(((n,s)=>{const o=Math.abs(n-e);o<a&&(t=s,a=o)})),t}const yh={marginLeft:8,cursor:"pointer"},wh={marginLeft:4,marginRight:5,cursor:"pointer"},_h=b.memo((({isMobile:e,pxInSecond:t,setPxInSecond:a})=>{const n=t??vh[0],[s,o]=i.useState(bh(n));i.useEffect((function(){o(bh(n))}),[n]);const r=i.useCallback((e=>{const t=[.2,.4,.5,1,1,10,10,10,100,100];let s=n??.7;if(n)if(n<.7&&1===e)a(.7);else if(.7!==n||-1!==e)if(n>600.5&&-1===e)a(600.5);else if(600.5!==n||1!==e){for(let a=0;a<vh.length-1;a+=1){const o=vh[a],i=vh[a+1],r=t[a];if(o&&i&&r&&(o<n&&n<i||n===o||n===i)){s+=r*e;break}}a(s)}}),[n,a]),l=i.useMemo((()=>c.debounce((e=>a(e)),30)),[a]),d=i.useCallback((e=>{o(e);const t=vh[e];t&&l(t)}),[l]),u=i.useCallback((()=>r(-1)),[r]),p=i.useCallback((()=>r(1)),[r]);return f.jsxs("div",{className:hh,style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[f.jsx(y,{"data-cy":"zoom-out",size:24,onPointerDown:u,style:yh}),!e&&f.jsx(gh,{min:0,max:vh.length-1,step:1,defaultValue:s,onSliderChange:d,style:fh}),f.jsx(w,{"data-cy":"zoom-in",size:24,onPointerDown:p,style:wh})]})}));const Ch=new class{constructor(){a(this,"unackedOps",[]),a(this,"pendingOps",[])}clear(){this.pendingOps=[],this.unackedOps=[]}getAllUnackedOps(){return this.unackedOps}ackOps(e){const t=new Set(e.map((e=>e.__localMd.id)));this.unackedOps=this.unackedOps.filter((e=>!t.has(e.__localMd.id)))}submittedQueueIsFull(){return this.unackedOps.length-this.pendingOps.length>=100}_TEST_getPendingOps(){return this.pendingOps}getNextPendingOps(e=100){return this.pendingOps.splice(0,e)}hasPendingOps(){return this.pendingOps.length>0}push(e){this.pendingOps.push(e),this.unackedOps.push(e)}toJSON(){}},Sh={},xh=m({initialState:Sh,name:"projectSessionSettings",reducers:{showOverlayWithKey:(e,t)=>{e.overlay=t.payload},hideOverlay:e=>{e.overlay=null},setMediaSidebar:(e,t)=>{e.mediaSidebar=t.payload},updateTimelinePosition:(e,t)=>{e.timelinePosition=t.payload},setPxInSecond:(e,t)=>{t.payload<=600.5?e.pxInSecond=t.payload:e.pxInSecond=600.5},setCopiedModifications:(e,t)=>{e.copiedModifications=t.payload},setSessionSettings:(e,t)=>{Hu(e),Object.assign(e,t.payload),Ch.clear();for(const a of t.payload.offlineOps??[])a.__localMd.fromSessionSettings=!0,Ch.push(a)},logAddLayer:e=>{e.addLayerLogged?e.addLayerLogged+=1:e.addLayerLogged=1},logSplitVideo:e=>{e.splitsLogged?e.splitsLogged+=1:e.splitsLogged=1},logUsedTrimmer:(e,t)=>{const a=t.payload;if(e.trimsLogged){const t=e.trimsLogged[a]||0;e.trimsLogged={...e.trimsLogged,[a]:t+1}}else e.trimsLogged={[a]:1}},logMagicSubtitleSpeakerEvent:(e,t)=>{switch(t.payload){case"selectSpeaker":e.selectSpeakerStyleLogged?e.selectSpeakerStyleLogged+=1:e.selectSpeakerStyleLogged=1;break;case"editSpeakerStyle":e.editSpeakerStyleLogged?e.editSpeakerStyleLogged+=1:e.editSpeakerStyleLogged=1;break;case"toggleShowSpeaker":e.toggleSpeakerLabelLogged?e.toggleSpeakerLabelLogged+=1:e.toggleSpeakerLabelLogged=1}},addPendingUpload:(e,t)=>{e.pendingUploadMediaCacheIds||(e.pendingUploadMediaCacheIds=[]),e.pendingUploadMediaCacheIds.includes(t.payload)||e.pendingUploadMediaCacheIds.push(t.payload)},removePendingUpload:(e,t)=>{e.pendingUploadMediaCacheIds&&(e.pendingUploadMediaCacheIds=e.pendingUploadMediaCacheIds.filter((e=>e!==t.payload)))},setDraftEmailRef:(e,t)=>{e.draftEmailRef=t.payload},setDisableKeyframingHelper:(e,t)=>{e.disableKeyframingHelper=t.payload},setDisableIndividualPositionHint:(e,t)=>{e.disableIndividualPositionHint=t.payload},setTrimWithTranscriptEnabledAssets:(e,t)=>{e.trimWithTranscriptEnabledAssets=t.payload},updateTrimWithTranscriptAnalytics:(e,t)=>{e.trimWithTranscriptAnalytics={...e.trimWithTranscriptAnalytics,...t.payload}},updateAutoEditAnalytics:(e,t)=>{e.autoEditAnalytics={...e.trimWithTranscriptAnalytics,...t.payload}},updateSidebarCollapsedState:(e,t)=>{e.collapsibleSectionOpenStates||(e.collapsibleSectionOpenStates={}),e.collapsibleSectionOpenStates[t.payload.key]=t.payload.open},warnedAboutOverlappingLayers:e=>{e.warnedAboutOverlappingLayers=!0}},extraReducers:e=>e.addDefaultCase(((e,t)=>{switch(t.type){case"RESET_STUDIO":case"RESET_STATE_PRESERVE_USER":case"JEST_CLEAR_STORE":return Ch.clear(),{...Sh};case"SET_STUDIO":return t.projectIdChanged?(Ch.clear(),{...Sh}):e;default:return e}}))}),{addPendingUpload:Ih,hideOverlay:Ah,logAddLayer:kh,logSplitVideo:Th,logUsedTrimmer:Eh,removePendingUpload:Lh,setCopiedModifications:jh,setDraftEmailRef:Rh,setMediaSidebar:Nh,setPxInSecond:Mh,setSessionSettings:Ph,showOverlayWithKey:Fh,updateTimelinePosition:Dh,setDisableKeyframingHelper:Oh,setTrimWithTranscriptEnabledAssets:Uh,updateTrimWithTranscriptAnalytics:Bh,updateSidebarCollapsedState:Wh,setDisableIndividualPositionHint:Vh,logMagicSubtitleSpeakerEvent:Hh}=xh.actions,zh=xh.actions;function Gh(){if("undefined"==typeof window||"undefined"==typeof document)return!1;let e=null;try{e=localStorage.getItem("isTWA")}catch(b9e){console.error(b9e)}return"getDigitalGoodsService"in window&&e&&window.matchMedia("(display-mode: standalone)").matches}const Yh=e=>{var t;return null==(t=null==window?void 0:window.fbq)?void 0:t.call(window,"trackCustom",e)};function Kh(e){if(!e)return"";if("string"!=typeof e)return"";try{return((e.split(/#|\?/)[0]??"").split(".").pop()??"").trim()}catch{return""}}function Xh(e){const t=Kh(e);return""===t?"project":"jpg"===t||"png"===t||"jpeg"===t?"image":"gif"===t||"webp"===t?"gif":"mp3"===t?"audio":"video"}function Zh(e){let t="";const{origin:a}=e;t=e.isTrimmedOnly||e.isAudioTrimmedOnly?"Trimmed":e.memeTemplate?"Meme":"subtitler"===a?"Subtitled":e.isImageVideo?"Converted Image":"Edited";const n=Xh(e.fullPath);return t+=` ${n.charAt(0).toUpperCase()}${n.slice(1)}`,t}function qh(e){const{state:t}=Mu(),{currentUser:a}=t;return e===a.user._id}function Jh(e){const{state:t}=Mu(),{teams:a}=t;return!!a.allTeams.find((t=>t._id===e))}function $h(e,t){e.currentTime=t}var Qh=(e=>(e.GetStarted="Get Started",e.Sample="Sample",e.NewContentWorkspace="New Content (Workspace)",e.EditThisTemplate="Edit this Template",e.PasteALink="Paste a Link",e.UploadFiles="Upload File(s)",e.OnboardingModal="Onboarding Modal",e.RequestToEditEmail="Request to Edit Email",e.WorkspaceSearchTool="Workspace Search Tool Entry",e))(Qh||{});const ev={},tv={videoId:"",events:{}};lh();let av=!1;if("undefined"!=typeof window){const e=document.domain||"",t=e.startsWith("localhost");av=e.endsWith(".kapwing-dev.com")||e.startsWith("kapwing-dev")&&e.endsWith(".herokuapp.com")||t&&["3000","4000","5000"].includes(window.location.port)||e.startsWith("192.")||e.startsWith("10.0.")||e.startsWith("10.1.")}let nv=[];"undefined"!=typeof window&&(window.onload=()=>{lh()},window.addEventListener("online",(()=>{const e=[...nv];nv=[],e.forEach((e=>{e.userId&&amplitude.setUserId(e.userId),amplitude.logEvent(e.eventName,{...e.eventProperties,"Event Sent While Offline":!0,"Offline Event Time":e.dateTime}).promise.catch((()=>{navigator.onLine?console.error(`Error submitting event ${e.eventName}: `,e.eventProperties):nv.push(e)}))}))})));const sv=e=>{if(c.isEmpty(e))return;const t=new amplitude.Identify;return Object.entries(e).forEach((([e,a])=>{void 0!==a&&t.set(e,a)})),amplitude.identify(t)},ov=(e,t,a={})=>{var n,s;try{const{state:o}=Mu(),i=null==(s=null==(n=o.currentUser)?void 0:n.user)?void 0:s._id;(a.overrideUserId||i)&&amplitude.setUserId(a.overrideUserId||i);const r=((e={})=>{var t;const{state:a}=Mu(),{currentVideo:n,studio:s}=a||{};if(!e["Video ID"]){const{_id:t}=n||{},{_id:a}=s||{},o=a||t;o&&(e["Video ID"]=o)}const o=ug();if(e["Current Plan"]=o.type,!e["Team ID"]){const a=rg();a&&(e["Team ID"]=a._id,e["Number of Workspace Members"]=null==(t=a.users)?void 0:t.length)}const i=Pl(),r=Fl(),l=av?r:i;return e["App Version"]=l,e["Canary Server"]="canary"===Il,e["App Type"]=Gh()?"Android":"Web",e.hostname=window.location.hostname,{...e,...pv()}})(t),l=r["Video ID"];if(l){tv.videoId!==l&&(tv.videoId=l,tv.events={});const t=ev[e];if(t){const a=tv.events[e]??0;if(a>=t)return;tv.events[e]=a+1}}amplitude.logEvent(e,(e=>{const t={};for(const a in e){const n=hc[a];t[a]=n?n(e[a]):e[a]}return t})(r)).promise.then(a.onSuccess).catch((()=>{navigator.onLine?console.error(`Error submitting event ${e}: `,t):nv.push({eventName:e,eventProperties:t||{},dateTime:new Date,userId:i})}))}catch(b9e){console.error(`Error submitting event ${e}: `,t)}};function iv(){const{state:e,dispatch:t}=Mu();(e.projectSessionSettings.splitsLogged||0)<100&&(ov("Split Video Layer"),t(Th()))}function rv(e,t){const{state:a,dispatch:n}=Mu();(a.projectSessionSettings.addLayerLogged||0)<50&&"video"===e&&(ov("Add Video Layer To Project",{place:t}),n(kh()))}function lv(){const{state:e,dispatch:t}=Mu();(e.projectSessionSettings.selectSpeakerStyleLogged||0)<2&&(ov("Select Speaker for Style Edit"),t(Hh("selectSpeaker")))}function dv(){const{state:e,dispatch:t}=Mu();(e.projectSessionSettings.editSpeakerStyleLogged||0)<2&&(ov("Make Speaker Style Edit"),t(Hh("editSpeakerStyle")))}function cv(e){const{state:t,dispatch:a}=Mu();(t.projectSessionSettings.toggleSpeakerLabelLogged||0)<3&&(ov("Toggle Show Speaker Label",{on:e}),a(Hh("toggleShowSpeaker")))}function uv(e){var t;const{state:a,dispatch:n}=Mu();((null==(t=a.projectSessionSettings.trimsLogged)?void 0:t[e])||0)<2&&(n(Eh(e)),ov("Used Trimmer",{location:e}))}function pv(){const{state:e}=Mu(),t={...qu(e),OPTIMIZATION_PREVIEW_CATEGORY:$u()};return{...Object.fromEntries(Object.entries(t).map((([e,t])=>[`__FEATURE_FLAG_${e}`,t])))}}function mv(e,t,a,n=!1){let s={Email:e.email,"Entry Point":a};n&&(s={...s,"Google One-Tap":!0}),amplitude.setUserId(e._id),sv({Email:e.email,Domain:Jg()}),t?(amplitude.logEvent("Create Account",s),Yh("Create Account"),dh("Create Account")):amplitude.logEvent("Log In",s)}function gv({interval:e,planTier:t,upgradeSource:a,teamId:n,quantity:s,extraAmplitudeEventProperties:o,couponId:i=null}){const r=vv(a),l=Qd(t);ov("Upgrade Workspace",{"Monthly/Annual":xc({interval:e}),"License Tier Purchased":l,"Upgrade Source":r,"Team ID":n,"Number of Workspace Members":s,"Brand Kit Pre-Populated":qg(),Coupon:i,...o}),Yh("Upgraded")}function hv(e,t){ov("Timing Tab Exact Time Set",{"Layer Type":t,"Start or End Input":e})}const vv=e=>{var t;return e&&(null==(t=Xd[e].metadata)?void 0:t.prettyUpgradeSource)||e};function fv(e,t,a){var n,s;const{analytics:o,magicSubtitles:i,magicSubtitleFramesByAsset:r}=t;o&&(o.usedSplit&&(e["Used Split"]=!0),e["Number of Video Splits"]=Ep(a.studio),o.usedCollaboration&&(e["User Collaboration"]=!0),o.usedCollaborationWithOtherUser&&(e["User Collaboration With Other User"]=!0),o.usedSmartCut&&(e["Used Smart Cut"]=!0),o.usedSceneSplit&&(e["Used Scene Split"]=!0),o.usedCanvasResize&&(e["Used Canvas Resize"]=!0),o.usedGroupDrag&&(e["Used Group Drag"]=!0),o.usedGroupTrim&&(e["Used Group Trim"]=!0));let l=0;const d=new Set;for(const c of Object.values((null==(n=t.allLayers)?void 0:n.byId)||{})){const t=Hp(c,{mediaCacheState:a.mediaCache});c.type===Nc.Video&&t&&d.add(t),c.type===Nc.Text&&(e["Has Text"]=!0,l+=1)}if(e["Number of Video Input Files"]=d.size,e["Number of Text Layers"]=l,(e=>{for(const t of e)if(Ig(t)&&!up(t))return!0;return!1})(Object.values((null==(s=t.allLayers)?void 0:s.byId)||{}))&&(e["Has Text to Speech"]=!0),i&&Object.values(i).some((e=>null==e?void 0:e.enabled))&&(e["Has Magic Subtitles"]=!0),r){const t=Object.values(r).reduce(((e,t)=>e+(t?Object.keys(t.byId).length:0)),0);e["Number of Magic Subtitle Frames"]=t}t.duration&&(e.Duration=t.duration)}function bv({accountType:e}){switch(e){case sd.student:return"Student";case sd.teacher:return"Teacher"}switch(e){case sd.admin:return"Admin";case sd.free:return"Free"}return null}function yv(e,t,a){ov("Add Transition",{"Add Transition Method":e,"Transition Name":t,"Number of Layers":a})}const wv=[];function _v(e,t){const a=()=>ov(e,t);return wv.push(a),()=>{const e=wv.indexOf(a);e>-1&&wv.splice(e,1)}}"undefined"!=typeof window&&(window.amplitudeOnExit=()=>{for(const e of wv)e()});const Cv=(e,t,a,n)=>{if(!n.includes("/sharing")&&!n.includes("/invites"))return;const{currentFolderId:s,currentVideoId:o,creatorEmail:i,workspaceOwnerEmail:r,teamId:l,teamOwnerEmail:d}={currentFolderId:(c=Mu().state).workspaces.sharedWorkspaceId,currentVideoId:c.studio._id,creatorEmail:c.studio.creatorEmail,workspaceOwnerEmail:c.workspaces.workspaceOwnerEmail,teamId:c.teams.sharedTeamId,teamOwnerEmail:c.teams.sharedTeamOwnerEmail};var c;const u=null==n?void 0:n.includes("/studio/editor"),p=null==n?void 0:n.includes("team");let m,g,h,v,f;u?(m="Studio Project",g="Video ID",h=o,v="Project Owner Email",f=i):p?(m="Team",g="Team ID",h=l,v="Team Owner Email",f=d):(m="Folder",g="Folder ID",h=s,v="Folder Owner Email",f=r);const b=Vm(e.email,f),y={"Share Flow":m,"Sign In Method":a,Email:e.email,"New User":t,[g]:h,[v]:f,"Owner and Collaborator Domain Match":b};amplitude.setUserId(e._id),amplitude.logEvent("Share Sign In Success",y)},Sv=(e,t,a,n,s,o)=>{const i={"Project Owner Email":a,"Sharer Email":e.email,"Share Type":s,"Video ID":t,"Share Origin":n};void 0!==o&&(i["Is Sharing with Team Member"]=o),amplitude.setUserId(e._id),sv({Email:e.email}),amplitude.logEvent("Project Share Completed",i)},xv=(e,t,a={})=>{const{includeTimestamp:n,teamId:s,creatorId:o}=a,i={"Activity type":e,"Comment location":t};n&&(i["Timestamp included"]=n),s&&(i["Is Team Member"]=Jh(s)),o?i["Is Project Owner"]=qh(o):i["Anonymous User"]=!0,ov("New Comment Activity",i)},Iv=(e,t)=>{ov("Changed Text Outline Color",{layerType:e,color:t})},Av=e=>e/1024/1024,kv=()=>{if(!("memory"in performance))return{};const e=performance.memory;return{"Heap Size Limit":Av(e.jsHeapSizeLimit),"Total Heap Size":Av(e.totalJSHeapSize),"Used Heap Size":Av(e.usedJSHeapSize)}},Tv=()=>{const{state:e}=Mu();return{"Used Custom Broll Image Input":(e.studio.analytics.numberCustomBRollImageAssets||0)>0,"Number Custom Broll Image Asset Ids":e.studio.analytics.numberCustomBRollImageAssets||0,"Used Custom Broll Video Input":(e.studio.analytics.numberCustomBRollVideoAssets||0)>0,"Number Custom Broll Video Asset Ids":e.studio.analytics.numberCustomBRollVideoAssets||0,"Used Custom Broll Article Input":(e.studio.analytics.numberCustomBRollArticleUrls||0)>0,"Number Custom Broll Article Inputs":e.studio.analytics.numberCustomBRollArticleUrls||0,"Number Custom BRoll Youtube Search Inputs":e.studio.analytics.numberCustomBRollYoutubeSearchAssets||0,"Custom Broll Only":e.studio.analytics.customBRollOnly,"Used AI Generator Auto Youtube Search":e.studio.analytics.usedAIGeneratorAutoYoutubeSearch||!1,"Used Royalty Free Broll":e.studio.analytics.usedRoyaltyFreeBroll||!1}};const Ev=new class{constructor(){if(a(this,"storageEvictionAttempts",0),a(this,"supported"),a(this,"evictOldVideoUsageKeys",c.throttle((()=>{const e=Date.now();try{for(let t=0;t<localStorage.length;t++){const a=localStorage.key(t);if(a.startsWith("video_usage_")){const t=this.get(a,{disabled:null});t&&e-t.lastUpdated>432e6&&this.remove(a)}}}catch{}}),216e5,{leading:!0,trailing:!1})),"undefined"==typeof window)return void(this.supported=!1);let e;try{e=typeof localStorage}catch(t){console.error(t)}this.supported=!!e}get(e,t){if(!this.supported)return t.disabled||null;const a=localStorage.getItem(e);if(null===a)return null;try{return JSON.parse(a)}catch(n){return null}}set(e,t){if(!this.supported)return;const a=JSON.stringify(t);try{return void localStorage.setItem(e,a)}catch(n){console.warn("localStorage.setItem failed with: ",n,"\ntrying again...")}this.evictOldSessionsFromStorage(),this.evictOldVideoUsageKeys();try{localStorage.setItem(e,a)}catch(n){console.warn(`Failed to write ${e} in localstorage`,n)}}getAndUnset(e){const t=this.get(e,{disabled:null});return this.remove(e),t}remove(e){this.supported&&localStorage.removeItem(e)}evictOldSessionsFromStorage(){this.storageEvictionAttempts+=1;const e=[];for(let t=0;t<localStorage.length;t+=1){const a=localStorage.key(t);a&&a.startsWith("session_")&&e.push(a)}(1===this.storageEvictionAttempts||Math.random()<.1)&&ov("Localstorage Quota Exceeded",{"Cached Sessions":e.length,"Storage Size (MB)":this.getLocalStorageSizeMB(),"Eviction Attempts":this.storageEvictionAttempts});for(const t of e)Math.random()<.3&&localStorage.removeItem(t)}getLocalStorageSizeMB(){return new Blob(Object.values(localStorage)).size/1e3/1e3}};let Lv=!1;const jv=new Set,Rv=e=>Lv?(e(),()=>{}):(jv.add(e),()=>{Lv||jv.delete(e)}),Nv=new EventTarget,Mv=e=>{Object.assign(Pu,e),Ev.set("devModeDebugFlags",Pu),Nv.dispatchEvent(new Event("update"))},Pv=e=>{const[t,a]=i.useState(Lv),[n,s]=i.useState(Pu[e]??null);return i.useEffect((()=>Rv((()=>a(!0)))),[]),i.useEffect((()=>{const t=()=>s(Pu[e]??null);return Nv.addEventListener("update",t),()=>{Nv.removeEventListener("update",t)}}),[e]),t?n:null},Fv=WebSocket.prototype.send;let Dv=0;Rv((()=>{WebSocket.prototype.send=function(...e){return Dv+=1,Fv.apply(this,e)}}));class Ov extends EventTarget{constructor(){super(),a(this,"totals",new Map),a(this,"eventThrottle"),this.dispatchUpdate=c.throttle(this.dispatchUpdate.bind(this),100,{leading:!1,trailing:!0})}dispatchUpdate(){const e=new CustomEvent("update");this.dispatchEvent(e)}clear(){this.totals=new Map,this.dispatchUpdate()}getSortedCategories(e){this.totals=new Map([...this.totals].sort(((t,a)=>"uncategorized"===t[0]?-1:"uncategorized"===a[0]?1:a[1].total[e]-t[1].total[e])));for(const[t,a]of this.totals)a.totalByKey=new Map([...a.totalByKey].sort(((t,a)=>a[1][e]-t[1][e])));return this.totals}push(e){const t=e.labels.join("."),a=this.totals.get(e.category);if(a){a.total.totalTime+=e.totalTime,a.total.selfTime+=e.selfTime,a.total.hits+=e.hits;const n=a.totalByKey.get(t);n?(n.totalTime+=e.totalTime,n.selfTime+=e.selfTime,n.hits+=e.hits):a.totalByKey.set(t,{totalTime:e.totalTime,selfTime:e.selfTime,hits:e.hits})}else{const a={totalTime:e.totalTime,selfTime:e.selfTime,hits:e.hits};this.totals.set(e.category,{total:a,totalByKey:new Map([[t,{...a}]])})}this.dispatchUpdate()}}const Uv=new Ov;let Bv=0;const Wv=(e,t,a=1)=>{if(!Lv)return()=>{};const n=performance.now(),s=Bv;return()=>{const o=performance.now()-n,i=o-(Bv-s);Bv+=i,Uv.push({category:e,labels:t,totalTime:o,selfTime:i,hits:a})}},Vv=(e,t,a,n)=>{function s(...s){const o=Wv(e,t,n);let i;try{i=a.apply(this,s)}catch(b9e){throw o(),b9e}return i instanceof Promise?i.then((e=>(o(),e))):(o(),i)}const o=a.displayName||a.name;return o&&(s.displayName=`profiled(${o})`),s.original=a,s},Hv=(e,t,a)=>Vv(e,t,a)(),zv=3840,Gv=1280,Yv=10,Kv=390,Xv=280,Zv=854,qv=100,Jv=["#0083e2","#a15164","#11dabf","#79d304","#0936b1","#034748","#74be2f","#886F68","#E34A6F","#FFBA08","#D00000","#75DDDD","#4B2E39","#6E9075","#f7c306","#d4ae12","#074c5a","#07d86f","#d1680c","#04248b","#7d8aee"];class $v extends Error{constructor(e,t){const{cause:a,stack:n,...s}=t||{};super(e,{cause:a}),this.name="Error",n&&(this.stack=n),this.__SENTRY_INFO=s}static fromError(e,t){if(e instanceof $v)return e.__SENTRY_INFO=_.merge(e.__SENTRY_INFO,t),e;const a=new $v(e.message,t);return a.stack=e.stack,a.cause=e.cause,a}static fromUnknown(e,t,a){return e instanceof Error?$v.fromError(e,a):new $v(t,a)}}function Qv(e){return!!e&&"object"==typeof e&&e instanceof $v}function ef(e){return new Worker("/assets/gzip-worker-DfWEkBvi.js",{name:null==e?void 0:e.name})}const tf=new class extends class{constructor(){a(this,"cache",new Map),a(this,"subscribers",new Set)}addDocuments(e,t,a){const n=this.normalizeQuery(t);let s=this.cache.get(n);s||(s={documentIds:new Set,lastId:null},this.cache.set(n,s)),e.forEach((e=>{s.documentIds.add(e._id)})),s.lastId=a,this.notifySubscribers()}hasCachedEntry(e){const t=this.normalizeQuery(e);return this.cache.has(t)}hasCachedResults(e){const t=this.normalizeQuery(e);return!!this.cache.get(t)}getLastId(e){const t=this.normalizeQuery(e),a=this.cache.get(t);return(null==a?void 0:a.lastId)||null}getDocumentIds(e){const t=this.normalizeQuery(e),a=this.cache.get(t);return a?Array.from(a.documentIds):[]}clear(){this.cache.clear(),this.notifySubscribers()}normalizeQuery(e){return e.toLowerCase().trim()}subscribe(e){this.subscribers.add(e)}unsubscribe(e){this.subscribers.delete(e)}notifySubscribers(){this.subscribers.forEach((e=>{e()}))}}{addFromResponse(e,t){const{data:a,meta:n}=e;this.addDocuments(a.files,t,n.nextCursor)}};var af=(e=>(e[e.PROJECT_NAME=0]="PROJECT_NAME",e[e.DATE_EDITED=1]="DATE_EDITED",e[e.DATE_CREATED=2]="DATE_CREATED",e[e.LAST_EDITOR=3]="LAST_EDITOR",e))(af||{}),nf=(e=>(e[e.ASCENDING=0]="ASCENDING",e[e.DESCENDING=1]="DESCENDING",e))(nf||{}),sf=(e=>(e[e.INVITE=0]="INVITE",e[e.ROLE=1]="ROLE",e))(sf||{});const of={allWorkspaces:[],workspaceMenuVisible:!1,showDragUploadDialog:!1,selectedWorkspace:"",workspaceUploads:{},setSharedWorkspaceOwnerEmail:"",workspaceOwnerEmail:"",sharedWorkspaceId:"",selectionMode:!1,currentFolderSettings:{sortField:af.DATE_CREATED,sortOrder:nf.ASCENDING},SWMFolderSettings:{sortField:af.DATE_EDITED,sortOrder:nf.ASCENDING},suggestedWorkspaces:{isQualifiedDomain:!1,teams:[]},isFetchingFolders:!1,preferredFolderId:"",brandfetchAssetsFetched:!1},rf=m({initialState:of,name:"workspaces",reducers:{setWorkspaces:(e,t)=>{e.allWorkspaces=t.payload},updateFolder:(e,t)=>{e.allWorkspaces=e.allWorkspaces.map((e=>e._id===t.payload.id?{...e,...t.payload.updates}:e))},setCurrentFolder:(e,t)=>{e.selectedWorkspace=t.payload,e.preferredFolderId=t.payload},setPreferredFolder:(e,t)=>{e.preferredFolderId=t.payload},removeWorkspace:(e,t)=>{e.allWorkspaces=e.allWorkspaces.filter((e=>e._id!==t.payload)),e.selectedWorkspace=e.selectedWorkspace===t.payload?"":e.selectedWorkspace},changeFolderNameLocal:(e,t)=>{const a=e.allWorkspaces.findIndex((e=>e._id===t.payload.workspaceId)),n=e.allWorkspaces[a];n&&(n.name=t.payload.newName)},addWorkspaceUpload:(e,t)=>{const{folderId:a,uploadId:n,assetId:s}=t.payload,o=s&&{assetId:s}||n&&{uploadId:n}||null;e.workspaceUploads||(e.workspaceUploads={}),o&&(e.workspaceUploads[a]=[...e.workspaceUploads[a]??[],o])},removeWorkspaceUpload:(e,t)=>{var a;const{folderId:n,uploadId:s,assetId:o}=t.payload;e.workspaceUploads||(e.workspaceUploads={}),e.workspaceUploads[n]=(null==(a=e.workspaceUploads[n])?void 0:a.filter((e=>s&&e.uploadId!==s||o&&e.assetId!==o)))??[]},setSelectionMode:(e,t)=>{e.selectionMode=t.payload},setCurrentFolderSettings:(e,t)=>{e.currentFolderSettings=t.payload},setSWMFolderSettings:(e,t)=>{e.SWMFolderSettings=t.payload},updateWorkspaceFonts:(e,t)=>{const a=e.allWorkspaces.findIndex((e=>e._id===t.payload.workspaceId)),n=e.allWorkspaces[a];n&&(t.payload.recentlyUsedFonts&&(n.recentlyUsedFonts=[...t.payload.recentlyUsedFonts]),t.payload.customFonts&&(n.customFonts=[...t.payload.customFonts,...n.customFonts||[]]))},setSuggestedWorkspaces:(e,t)=>{e.suggestedWorkspaces=t.payload},setIsFetchingFolders:(e,t)=>{e.isFetchingFolders=t.payload},clearWorkspaces:()=>of,setBrandfetchAssetsFetched:(e,t)=>{e.brandfetchAssetsFetched=t.payload},setLastValidWorkspaceInfo:(e,t)=>{e.lastValidWorkspaceInfo=t.payload}}}),{setWorkspaces:lf,setCurrentFolder:df,removeWorkspace:cf,changeFolderNameLocal:uf,addWorkspaceUpload:pf,removeWorkspaceUpload:mf,setSelectionMode:gf,setCurrentFolderSettings:hf,setSWMFolderSettings:vf,updateWorkspaceFonts:ff,setSuggestedWorkspaces:bf,setIsFetchingFolders:yf,setPreferredFolder:wf,clearWorkspaces:_f,setBrandfetchAssetsFetched:Cf,updateFolder:Sf}=rf.actions,xf=rf.actions;function If(){return{type:"REQUEST_USER"}}function Af(){const{dispatch:e}=Mu(),t=new C;return t.remove("ssrSignedInCookie",{path:"/"}),t.remove("samlSignedInCookie",{path:"/"}),tf.clear(),e(_f()),{type:"SIGN_OUT"}}function kf(e){return null!==e}function Tf(e){return new Promise((t=>setTimeout(t,e)))}function Ef(){return void 0!==Al}function Lf(e){return e.map((e=>({value:e,sort:Math.random()}))).sort(((e,t)=>e.sort-t.sort)).map((({value:e})=>e))}function jf(e,t){return[...e].some((e=>t.has(e)))}const Rf={Accept:"application/json","Content-Type":"application/json","X-Client-Version":Pl()},Nf={method:"GET",parseJSON:!0,timeout:3e4},Mf="undefined"!=typeof window;function Pf(){return Mf?window.location.host:"localhost:5000"}function Ff(){let e=Pf();return e=e.startsWith("http")?e.replace("http","ws"):e.startsWith("localhost")?`ws://${e}/websocket`:`wss://${e}/websocket`,e=e.replace("localhost:3000","localhost:5000"),e}function Df(){return["127.0.0.1","localhost","kapwing.local"].some((e=>Pf().startsWith(e)))}function Of(e){if(e.includeAuth){const n=(null==(a=null==(t=Mu().state)?void 0:t.currentUser)?void 0:a.token)||"";n&&(e.headers={"x-access-token":n,...e.headers||{}})}var t,a}function Uf(e,t){let a=e;const{params:n}=t;if(n){const t=e.includes("?")?"&":"?",s=function(e){return Object.entries(e).filter((([,e])=>null!=e)).map((([e,t])=>`${encodeURIComponent(e)}=${encodeURIComponent(t)}`)).join("&")}(n);a+=`${t}${s}`}return a}class Bf extends Error{constructor(e){super(`Fetch timeout error: ${e}`),a(this,"name","FetchTimeoutError"),this.url=e}}async function Wf(e,t={}){var a;const n={...Nf,...t},{body:s,parseJSON:o,timeout:i=3e4,retries:r=0,shouldRetry:l=(()=>!0)}=n;delete n.parseJSON,delete n.shouldRetry,n.headers={...Rf,...n.headers||{}};const d="multipart/form-data"===(null==(a=n.headers)?void 0:a.enctype);d&&"Content-Type"in n.headers&&delete n.headers["Content-Type"],"object"!=typeof s||d||(n.body=JSON.stringify(n.body));if(n.body&&"string"==typeof n.body&&n.body.length>5e4&&!d&&"string"==typeof n.body)try{const e=await async function(e){return new Promise(((t,a)=>{const n=new ef;n.postMessage(e),n.onmessage=e=>{n.terminate(),t(e.data)},n.onerror=t=>{n.terminate();const s=e.slice(0,100);a(new $v("zipString failed",{extra:{errorEvent:t,error:t.error,strLength:e.length,strStart:s}}))}}))}(n.body);n.headers={...n.headers,"Content-Encoding":"gzip"},n.body=e}catch(h){console.error(h)}let c,u;const p=new Date;let m=null,g=0;for(;g<=r;){i&&(delete n.timeout,u=new AbortController,n.signal=t.signal||u.signal,c=setTimeout((()=>{console.debug("timeout on url",e," req sent on ",p," options are ",JSON.stringify(n)),u.abort(new Bf(e))}),i));const a=Uf(e,n);try{const t=S;m=await t(a,n),m.ok||await Vf(e,m);break}catch(h){if(h instanceof Hf&&429===h.status)throw h;if(g>=r||Ef())throw h;if(n.skipRetriesFor400s&&((null==m?void 0:m.status)||501)<500)throw h;if(!l(h))throw h;x({category:"fetch retry",message:`Url ${e} retry ${g}`}),g+=1,await new Promise((e=>setTimeout(e,2**g*1e3)))}finally{c&&clearTimeout(c)}}if(!m)throw new $v("No result from fetch",{extra:{url:e}});if(m.ok||await Vf(e,m),o){const t=m.clone();try{return await m.json()}catch(h){const a=h instanceof SyntaxError,s=h instanceof TypeError,o=h instanceof DOMException,i=await async function(e){try{return await e.text()}catch(h){return console.error(".text error(): ",h),null}}(t),r="string"==typeof i?i.length:-1;throw new $v("Failed to parse JSON from fetch",{extra:{url:e,text:i,status:m.status,error:h,headers:m.headers,method:n.method,textLen:r},tags:{isSyntaxError:a,isTypeError:s,isAbortError:o},level:"warning"})}}return m}async function Vf(e,t){let a=t.statusText||"An unexpected error occurred.",n=null;414===t.status&&l(new Error("Request-URI Too Long"));try{const e=await t.json(),{message:s,statusText:o,invalid_token:i,error:r,...l}=e;a=s||o||r,Object.keys(l).length>0&&(n=l),i&&(Mu().dispatch(Af()),a="Your token was invalid. Please sign in again.")}catch(s){try{a=await t.text()||a}catch(o){}}throw new Hf(a,t.status,t.statusText,e,n)}class Hf extends Error{constructor(e,t,n,s,o){super(e),a(this,"name","FetchStatusError"),this.status=t,this.statusText=n,this.url=s,this.additionalData=o}}async function zf(e,t={}){return async function(e,t={}){const a={...t,includeAuth:!0};let n;if(Of(a),Ll)n=Ll;else{n=`https://notifications.${Df()||Pf().includes("dev")?"kapwing-dev":"kapwing"}.com`}return Wf(`${n}/${e}`,a)}(e,{...t,method:"POST"})}async function Gf(e,t={}){const a={...t,includeAuth:!0};Of(a);return Wf(`${Df()?"http":"https"}://${Pf()}${e}`,a)}function Yf(e,t={}){return Gf(e,{...t,method:"DELETE"})}function Kf(e,t={}){return Gf(e,{...t,method:"GET"})}function Xf(e,t={}){return Gf(e,{...t,method:"POST"})}function Zf(e,t={}){return Gf(e,{...t,method:"PUT"})}function qf(e,t={}){return Gf(e,{...t,method:"PATCH"})}function Jf(e,t={}){return function(e,t={}){Of(t);const a=`${Df()||Pf().includes("dev")?"https://us-east1-kapwing-dev.cloudfunctions.net/":"https://us-east1-kapwing-prod.cloudfunctions.net/"}${e}`,n={...t.headers||{}};return Wf(a,{...t,headers:n})}(e,{...t,method:"POST"})}function $f(e,t,a=null){var n;const s=31536e3;return(new C).set("ssrSignedInCookie",t,{path:"/",expires:new Date(Date.now()+31536e6),maxAge:s,secure:!0}),e.email&&(null==(n=window.profitwell)||n.call(window,"user_email",e.email)),ch({user_id:e._id}),{type:"RECEIVE_USER_AND_SET_TOKEN",user:e,token:t,receivedAt:Date.now(),impersonatingAdminEmail:a}}async function Qf(){const{dispatch:e,state:t}=Mu(),{user:a,token:n,impersonatingAdminEmail:s}=t.currentUser||{},{_id:o}=a||{};if(!o||!n){return void(new C).remove("ssrSignedInCookie",{path:"/"})}const i={userId:o,token:n,googleAnalyticsCLientId:function(){var e;const t={};return document.cookie.split(";").forEach((function(e){var a;const n=e.split("="),s=null==(a=n[0])?void 0:a.trim();if(!s)return;const o=n[1];o&&(t[s]=o)})),null==(e=t._ga)?void 0:e.substring(6)}()},r=await Xf("/api/v1/users/getProfile",{body:i});e($f(r.user,r.token,s))}function eb({video:e,source:t,preserveId:a=!1,preserveStudioTime:n=!1,origin:s=!1,undoable:o=!1,sync:i=!1,isFirstVideoLoad:r}){const{state:{studio:{_id:l}}}=Mu();return{type:"SET_STUDIO",source:t,studio:e,preserveId:a,preserveStudioTime:n,projectIdChanged:!!l&&l!==e._id,origin:s,undoable:o,sync:i,isFirstVideoLoad:r}}function tb(){return{type:"RESET_STUDIO"}}const ab=(e,t=!0)=>({type:"UPDATE_BLUEPRINT_CHANGES",changes:e,undoable:t}),nb=e=>({type:"UPDATE_AUTO_ROUGH_CUT_JOB_IDS",jobId:e}),sb={},ob=m({name:"toasts",initialState:sb,reducers:{clearToasts:()=>sb,hideToast:(e,t)=>{const a=e[t.payload];a&&(a.open=!1)},removeToast:(e,t)=>{delete e[t.payload]},showToast:(e,t)=>{const{payload:a}=t;if(Object.values(e).some((e=>e.open&&e.type===a.type&&I.isEqual(e.bottomLink,a.bottomLink)&&I.isEqual(e.description,a.description)&&I.isEqual(e.headerOverride,a.headerOverride))))return;0===a.description.length&&(console.warn("Empty toast description, replacing with some default text"),"success"===a.type?a.description="Success":"warning"===a.type?a.description="Warning":"error"===a.type?a.description="Error":a.description="Info");e[(Ym+=1,String(Ym))]={...a,open:!0}}}}),{clearToasts:ib,hideToast:rb,removeToast:lb,showToast:db}=ob.actions;function cb({description:e,error:t,sendToSentry:a}){try{const{dispatch:n}=Mu(),{message:s,reportToSentry:o}=ub(t);if(n(db({description:[e,s],type:"error"})),console.error(t),!0===a||void 0===a&&o){const a=t instanceof Error?t:new Error(e);l(a,{extra:{toastDescription:e},tags:{triggeredToast:!0}})}let i=e;s&&(i+=`(${s})`),ov("Displayed Toast For Unexpected Error",{message:i})}catch(n){console.error("error handling error: ",n)}}function ub(e,t=""){if(e instanceof Hf)return{message:e.message,reportToSentry:!1};if(e instanceof Response)try{Vf(e.url,e)}catch(n){return ub(n)}let a=t;return"string"==typeof e&&(a=e),e&&"object"==typeof e&&"message"in e&&"string"==typeof e.message&&(a=e.message),{message:a,reportToSentry:!0}}function pb({description:e,sentryMessage:t,extra:a,tags:n,headerOverride:s}){try{const{dispatch:o}=Mu();o(db({description:e,type:"error",headerOverride:s})),t&&l(new Error(t),{extra:a,tags:n})}catch(o){console.error("error handling error: ",o)}}function mb({description:e,sentryMessage:t,extra:a,tags:n,headerOverride:s}){try{const{dispatch:o}=Mu();o(db({description:e,type:"warning",headerOverride:s})),t&&l(new Error(t),{extra:a,tags:n})}catch(o){console.error("error handling error: ",o)}}async function gb(e){return await Kf(`/api/v1/ai/brandkit-voice-cloning/${e}`)}async function hb({cancellationSource:e,...t}){const{id:a}=await async function(e){return await Xf("/api/v1/ai/brandkit-voice-cloning",{body:e})}(t),n=e=>new Promise((t=>setTimeout(t,e)));await n(4e3);let s=4e3,o=!1;for(;!o;){if(e&&e.cancelled)return"cancelled";const i=await gb(a);if("error"===i.status)return void pb({description:i.error,sentryMessage:"Failed to generate TTS audio",extra:{error:i.error,body:t},tags:{textToSpeechError:i.error}});if("pending"!==i.status)return o=!0,i;await n(1e3),s+=1e3,s>54e4&&pb({description:"Timed out waiting for voice cloning job to complete",sentryMessage:"Timed out waiting for voice cloning job to complete",extra:{body:t}})}}async function vb(e){await Yf("/api/v1/ai/clone-voice-elevenlabs/delete",{body:{voiceId:e}})}function fb(e){return{type:"SET_CURRENT_TEAM",_id:e}}function bb(e){return{type:"SET_PREFERRED_TEAM",_id:e}}function yb(e){return{type:"SET_LOCAL_CUMULATIVE_EXPORT_DURATION_FOR_CURRENT_TEAM",duration:e}}function wb(e){return{type:"SET_IS_FETCHING_TEAMS",isFetching:e}}function _b(e){return{type:"SET_TEAMS",teams:e}}function Cb(e){return{type:"SET_USER_TEAM_INVITES",invites:e}}function Sb(e,t){return{type:"UPDATE_TEAM",id:e,updateDict:t}}function xb(e,t){return{type:"UPDATE_TEAM_NAME",id:e,name:t}}function Ib(e){return{type:"SET_ACTIVE_BRANDKIT",update:e}}function Ab(e){return{type:"SET_BRANDKIT_TEMPLATES",templates:e}}async function kb(){var e;const{state:t,dispatch:a}=Mu(),{teams:n,currentUser:s}=t,{selectedTeamId:o}=n;if(!o)return;const i=await Lb(o,s,0===((null==(e=n.brandkitTemplates)?void 0:e.length)||0));let{brandkit:r}=i;r&&(r={isPrepopulated:!1,...r},a(Ib(r)));const{brandkitTemplates:l}=i;l&&a(Ab(l))}async function Tb(){var e;const{dispatch:t,state:a}=Mu(),{teams:{selectedTeamId:n},currentUser:s}=a,{token:o,user:i}=s||{},{_id:r}=i||{},l={token:o,userId:r};try{const a=await Kf("/api/v2/teams/user",{params:l});return n||t(fb((null==(e=a[0])?void 0:e._id)||"")),t(_b(a)),a}catch(b9e){return[]}}async function Eb(){const{state:e,dispatch:t}=Mu(),{teams:a}=e,{selectedTeamId:n}=a,s=await Kf(`/api/v2/teams/${n}`);t(Sb(s._id,s))}function Lb(e,t,a){const{token:n,user:s}=t||{},{_id:o}=s||{};return Kf(`/api/v2/teams/${e}`,{params:{token:n,userId:o,teamId:e,fetchBrandkitTemplates:a}})}function jb(e,t){const{token:a,user:n}=Mu().state.currentUser||{},{_id:s}=n||{};return Xf(`/api/v1/teams/${e}`,{body:{token:a,userId:s,teamId:e,updateDict:t},parseJSON:!1})}async function Rb(e,t){const{state:a}=Mu(),{currentUser:n}=a,{token:s,user:o}=n||{},i={discoverability:t,token:s,userId:o&&o._id},r=await Zf(`/api/v2/teams/${e}/discoverability`,{body:i});return Eb(),r}const Nb=e=>{var t;const{currentUser:a}=e;return!!(null==(t=null==a?void 0:a.user)?void 0:t._id)};function Mb(e){if(!e)throw Error("currentUser not set.");return!!e.impersonatingAdminEmail}function Pb(){return{type:"MOCK_SIGN_IN"}}const Fb=["Abyssinian","Balinese","Bengal","Bobtail","Calico","Maine Coon","Manx","Mau","Munchkin","Persian","Peterbald","Ragdoll","Russian Blue","Scottish Fold","Shorthair","Siamese","Sphynx","Tabby"],Db=["https://cdn-useast1.kapwing.com/samples/kat_blue.jpeg","https://cdn-useast1.kapwing.com/samples/kat_blue_gradient.jpeg","https://cdn-useast1.kapwing.com/samples/kat_brown.jpeg","https://cdn-useast1.kapwing.com/samples/kat_purple.jpeg","https://cdn-useast1.kapwing.com/samples/kat_purple_gradient.jpeg","https://cdn-useast1.kapwing.com/samples/kat_yellow.jpeg"];function Ob(){return Db[Math.floor(Math.random()*Db.length)]}function Ub(e=!1){const t=Mu().state.currentUser.user,a=function(e){var t;const{dispatch:a,state:n}=Mu(),{presenceUsedColors:s}=n.studio,{currentUser:o}=n,i=null==(t=null==o?void 0:o.user)?void 0:t._id,r=null==s?void 0:s[i];if(r)return r;const l=new Set(Object.values(s||{}));let d=Jv.filter((e=>!l.has(e)));0===d.length&&(d=Jv);const c=d[Math.floor(Math.random()*d.length)];return e&&Nb(n)&&a(((e,t)=>({type:"ADD_PRESENCE_COLOR",userId:e,color:t}))(i,c)),c}(e);if(!t._id)return{color:a,name:`Anonymous ${Fb[Math.floor(Math.random()*Fb.length)]}`,profileImg:Ob(),userId:void 0};const{name:n,picture:s}=t;return{color:a,name:n,profileImg:s??Ob(),userId:t._id}}const Bb=e=>{var t,a;return!(!(null==(t=e.statusText)?void 0:t.toLowerCase().includes("Captcha check error.".toLocaleLowerCase()))&&!(null==(a=e.message)?void 0:a.toLocaleLowerCase().includes("Captcha check error.".toLocaleLowerCase())))};async function Wb(){const{state:e,dispatch:t}=Mu(),{currentUser:a,teams:n}=e,{allTeams:s}=n;if(!qm(a))return[];const{token:o,user:i,email:r}=a||{},{_id:l}=i||{},d={token:o,userId:l,email:r};try{const e=(await Kf("/api/v1/users/team-invites",{params:d})).filter((e=>!s.some((t=>e.team._id===t._id))));return t(Cb(e)),e}catch(b9e){return[]}}const Vb=async(e,t)=>{await Zf("/api/v1/users/countedPopups",{body:{[e]:t}}),await Qf()};[...Fb].map((e=>e.replace(" ","")));Object.assign(window,{anonymousObjects:{}});const Hb=()=>!!Ev.get("devMode",{disabled:null}),zb=()=>{(()=>{if(!Lv){Lv=!0;for(const e of jv)e();jv.clear()}})(),Ev.set("devMode",!0)},Gb=()=>{Ev.remove("devMode"),(()=>{for(const e of Object.keys(Pu))delete Pu[e];Ev.remove("devModeDebugFlags"),Nv.dispatchEvent(new Event("update"))})()};Hb()&&zb();const Yb=["arrowup","arrowup","arrowdown","arrowdown","arrowleft","arrowright","arrowleft","arrowright","b","a"],Kb=e=>{let t=0;const a=n=>{Yb[t]===n.key.toLowerCase()?(t+=1,Yb.length===t&&(zb(),null==e||e(),document.removeEventListener("keydown",a))):t=0};document.addEventListener("keydown",a);return()=>{document.removeEventListener("keydown",a)}},Xb={backgroundColor:"rgba(0, 0, 0, 0.8)",backgroundPadding:10,backgroundStyle:"wrap",borderRadius:15,fontColor:"#ffffff",fontFamily:{type:"default",fontFamily:"Montserrat"},fontSize:30,fontStyle:"normal",fontWeight:"bold",lineHeight:1.2,textAlign:"center",textTransform:"none",textShadow:"transparent",underline:!1,italic:!1,verticalAlign:"bottom"},Zb={heightPct:0,widthPct:80,xPct:10,yPct:90,rotation:0},qb={heightPct:0,widthPct:80,xPct:10,yPct:85,rotation:0},Jb={heightPct:0,widthPct:80,xPct:10,yPct:80,rotation:0},$b={heightPct:0,widthPct:80,xPct:10,yPct:60,rotation:0},Qb=[0,-5,5,-5,0,5],ey={[Mc.None]:{},Color:{active:{color:"#3de1d9"}},Reveal:{unspoken:{color:"transparent",textShadow:"none",textDecoration:"none",display:"inline-block"}},Highlight:{active:{backgroundColor:"#3de1d9",borderRadius:"0.25em"}},Bounce:{active:{bottom:"0.25em"}},Paint:{spoken:{color:"#3de1d9"}},Custom:{spoken:{color:"#18E1D6",borderRadius:"0.125em",backgroundColor:"transparent",bottom:"0rem"},active:{color:"#FF4D8D",borderRadius:"0.125em",backgroundColor:"transparent",bottom:"0rem"},unspoken:{borderRadius:"0.125em",backgroundColor:"transparent",bottom:"0rem"}}};function ty(e){return{animationId:Mc.MagicWBW,animationName:e,wordByWordStyles:{[e]:ey[e]}}}function ay(e){var t,a;const n=ty("Color");return{...n,wordByWordStyles:{Color:{active:{...null==(a=null==(t=n.wordByWordStyles)?void 0:t.Color)?void 0:a.active,...e}}}}}function ny(e){var t,a;const n=ty("Highlight");return{...n,wordByWordStyles:{Highlight:{active:{...null==(a=null==(t=n.wordByWordStyles)?void 0:t.Highlight)?void 0:a.active,...e}}}}}function sy(e){var t,a;const n=ty("Paint");return{...n,wordByWordStyles:{Paint:{spoken:{...null==(a=null==(t=n.wordByWordStyles)?void 0:t.Paint)?void 0:a.spoken,...e}}}}}const oy={transitionId:Mc.MagicFade,transitionDuration:.25,transitionOverlapDuration:.15,transitionSpeed:50},iy={transitionId:Mc.MagicFlip,transitionDuration:.1,transitionOverlapDuration:0,transitionSpeed:50},ry={transitionId:Mc.MagicPop,transitionDuration:.1,transitionOverlapDuration:0,transitionSpeed:50},ly={width:16,height:9},dy={presetId:"DEFAULT_PRESET",title:"Default",style:Xb,wordByWordAnimations:ay({color:"#18E1D6"}),projectRatio:ly},cy={presetId:"CLASSIC_PRESET",title:"Classic",style:{...Xb,backgroundColor:"#FFFFFF",backgroundPadding:25,borderRadius:25,fontColor:"#000000",fontFamily:{type:"default",fontFamily:"Montserrat"},fontWeight:"normal"},wordByWordAnimations:ay({color:"#0083E2"}),transition:ry,projectRatio:ly},uy={presetId:"TYPEWRITER_PRESET",title:"Typewriter",style:{...Xb,backgroundColor:"#FFFFFF",backgroundPadding:25,borderRadius:0,fontColor:"#000000",fontFamily:{type:"default",fontFamily:"Courier New"},fontWeight:"normal"},wordByWordAnimations:ty("Reveal"),transition:iy,projectRatio:ly},py={presetId:"STRONG_PRESET",title:"Strong",style:{...Xb,backgroundColor:"#D23E3E",backgroundPadding:25,borderRadius:0,fontColor:"#FFFFFF",fontFamily:{type:"default",fontFamily:"Impact"},fontWeight:"bold",textTransform:"uppercase"},wordByWordAnimations:ay({color:"#FF9B97"}),transition:ry,projectRatio:ly},my={presetId:"HANDWRITING_PRESET",title:"Handwriting",style:{...Xb,backgroundColor:"#FFDCDC",backgroundPadding:25,borderRadius:25,fontColor:"#D23E3E",fontFamily:{type:"default",fontFamily:"Dancing Script"},fontWeight:"normal"},wordByWordAnimations:ty("Reveal"),transition:oy,projectRatio:ly},gy={presetId:"COMIC_PRESET",title:"Comic",style:{...Xb,backgroundColor:"#FFE279",backgroundPadding:25,borderRadius:0,fontColor:"#000000",fontFamily:{type:"default",fontFamily:"Comic Sans MS"},fontWeight:"normal",textTransform:"uppercase"},wordByWordAnimations:ty("Bounce"),transition:ry,projectRatio:ly},hy={presetId:"MEME_TEXT_PRESET",title:"Meme Text",style:{...Xb,backgroundColor:"transparent",backgroundPadding:25,borderRadius:0,fontColor:"#FFFFFF",fontFamily:{type:"default",fontFamily:"Impact"},fontWeight:"normal"},wordByWordAnimations:ty("Paint"),transition:ry,projectRatio:ly},vy={presetId:"FORMAL_PRESET",title:"Formal",style:{...Xb,backgroundColor:"#000000",backgroundPadding:25,borderRadius:25,fontColor:"#FFFFFF",fontFamily:{type:"default",fontFamily:"Times New Roman"},fontWeight:"normal"},wordByWordAnimations:ny({backgroundColor:"#404040"}),transition:oy,projectRatio:ly},fy={presetId:"GRAFITTI_PRESET",title:"Grafitti",style:{...Xb,backgroundColor:"#C5E6FF",backgroundPadding:25,borderRadius:0,fontColor:"#21A2FF",fontFamily:{type:"default",fontFamily:"Permanent Marker"},fontWeight:"normal",textTransform:"uppercase"},wordByWordAnimations:sy({color:"#196794"}),transition:ry,projectRatio:ly},by={presetId:"EARTH_TONED_PRESET",title:"Earth Toned",style:{...Xb,backgroundColor:"#CCDEBF",backgroundPadding:25,borderRadius:25,fontColor:"#3D6422",fontFamily:{type:"default",fontFamily:"Playfair Display"},fontWeight:"normal"},wordByWordAnimations:ny({backgroundColor:"#3D6422",color:"#FFFFFF"}),transition:oy,projectRatio:ly},yy={presetId:"PLAYFUL_PRESET",title:"Playful",style:{...Xb,backgroundColor:"#93518C",backgroundPadding:25,borderRadius:25,fontColor:"#FFFFFF",fontFamily:{type:"default",fontFamily:"Amatic SC"},fontWeight:"normal",textTransform:"uppercase"},wordByWordAnimations:ty("Bounce"),transition:ry,projectRatio:ly},wy={presetId:"HARDCORE_PRESET",title:"Hardcore",style:{...Xb,backgroundColor:"#000000",backgroundPadding:50,borderRadius:0,fontColor:"#FFFFFF",fontFamily:{type:"default",fontFamily:"New Rocker"},fontWeight:"normal",textTransform:"uppercase"},wordByWordAnimations:function(e,t,a){var n,s,o,i,r,l;const d=ty("Custom");return{...d,wordByWordStyles:{Custom:{spoken:{...null==(s=null==(n=d.wordByWordStyles)?void 0:n.Custom)?void 0:s.spoken,...e},active:{...null==(i=null==(o=d.wordByWordStyles)?void 0:o.Custom)?void 0:i.active,...t},unspoken:{...null==(l=null==(r=d.wordByWordStyles)?void 0:r.Custom)?void 0:l.unspoken,...a}}}}}({color:"#917F7F"},{},{}),transition:oy,projectRatio:ly},_y={presetId:"BOLD_PRESET",title:"Bold",style:{...Xb,backgroundColor:"#0047FF",backgroundPadding:25,borderRadius:0,fontColor:"#FFFFFF",fontFamily:{type:"default",fontFamily:"Passion One"},fontWeight:"bold"},wordByWordAnimations:ty("Color"),transition:ry,projectRatio:ly},Cy={presetId:"INDIE_PRESET",title:"Indie",style:{...Xb,backgroundColor:"#FFF5E9",backgroundPadding:25,borderRadius:25,fontColor:"#794718",fontFamily:{type:"default",fontFamily:"Indie Flower"},fontWeight:"normal"},wordByWordAnimations:sy({color:"#D81B60"}),transition:iy,projectRatio:ly},Sy={presetId:"CONSOLE_PRESET",title:"Console",style:{...Xb,backgroundColor:"#000000",backgroundPadding:25,borderRadius:0,fontColor:"#3EFF51",fontFamily:{type:"default",fontFamily:"Source Code Pro"},fontWeight:"normal"},wordByWordAnimations:ty("Reveal"),transition:oy,projectRatio:ly},xy={presetId:"BUBBLE_GUM_PRESET",title:"Bubble Gum",style:{...Xb,backgroundColor:"#FF66A6",backgroundPadding:25,borderRadius:50,fontColor:"#FFFFFF",fontFamily:{type:"default",fontFamily:"Fredoka One"},fontWeight:"normal"},wordByWordAnimations:ty("Bounce"),transition:iy,projectRatio:ly},Iy={presetId:"GOOFY_PRESET",title:"Goofy",style:{...Xb,backgroundColor:"#F08253",backgroundPadding:25,borderRadius:0,fontColor:"#FFFFFF",fontFamily:{type:"default",fontFamily:"Luckiest Guy"},fontWeight:"normal"},wordByWordAnimations:ny({backgroundColor:"#F25D37"}),transition:iy,projectRatio:ly},Ay={presetId:"CLEAN_PRESET",title:"Clean",style:{...Xb,backgroundColor:"#622424",backgroundPadding:25,borderRadius:0,fontColor:"#FFFFFF",fontFamily:{type:"default",fontFamily:"Quicksand"},fontWeight:"normal",textTransform:"uppercase"},wordByWordAnimations:ty("Color"),transition:oy,projectRatio:ly},ky={presetId:"OLIVE_PRESET",title:"Olive",style:{...Xb,backgroundColor:"#6a8268",backgroundPadding:25,borderRadius:25,fontColor:"#FFFFFF",fontFamily:{type:"default",fontFamily:"Raleway"},fontWeight:"normal",textShadow:"#35442F"},wordByWordAnimations:ay({color:"#FFFF00"}),transition:oy,projectRatio:ly},Ty={presetId:"FRESH_PRESET",title:"Fresh",style:{...Xb,backgroundColor:"#E7FBFF",backgroundPadding:25,borderRadius:0,fontColor:"#3589B9",fontFamily:{type:"default",fontFamily:"Georgia"},fontWeight:"normal",textTransform:"uppercase"},wordByWordAnimations:sy({color:"#1B3445"}),transition:iy,projectRatio:ly},Ey={presetId:"POP_ART_PRESET",title:"Pop Art",style:{...Xb,backgroundColor:"rgba(-255,-255,-255,0)",fontColor:"#FFFFFF",fontFamily:{type:"default",fontFamily:"The Bold Font"},fontSize:64,textOutline:{color:"#000000",width:17},textTransform:"uppercase",textShadow:"#000000",dropShadow:{blur:.12,distance:.17,rotation:45,color:"#000000"},lineHeight:1,colorHighlights:["#FDFA54","#72F459",void 0,"#FDFA54","#72F459"],rotationOffsets:Qb},transition:ry,projectRatio:{width:9,height:16}},Ly={presetId:"RED_PRESET",title:"Red",style:{...Xb,backgroundColor:"rgba(234,64,63,0.8)",backgroundPadding:25,backgroundStyle:"wrap",borderRadius:25,fontColor:"#ffffff",fontFamily:{type:"default",fontFamily:"Josefin Sans"},fontSize:30,fontStyle:"normal",fontWeight:"normal",lineHeight:1.2,textAlign:"center",textTransform:"none",textShadow:"transparent",underline:!1,italic:!1,verticalAlign:"middle"},wordByWordAnimations:ty("Bounce"),transition:ry,projectRatio:ly},jy={presetId:"CHELSEA",title:"Chelsea",style:{...Xb,backgroundColor:"rgba(-255,-255,-255,0)",backgroundPadding:10,backgroundStyle:"wrap",borderRadius:15,fontColor:"#aeeae6",fontFamily:{type:"default",fontFamily:"Chelsea Market"},fontSize:36,fontStyle:"normal",fontWeight:"normal",lineHeight:1.2,textAlign:"center",textTransform:"none",textShadow:"transparent",underline:!1,italic:!1,verticalAlign:"bottom",dropShadow:{blur:.1,distance:.08,rotation:45,color:"#404040"}},wordByWordAnimations:ty("Reveal"),transition:oy,projectRatio:ly},Ry={presetId:"CURSIVE",title:"Cursive",style:{...Xb,backgroundColor:"rgba(-255,-255,-255,0)",backgroundPadding:10,backgroundStyle:"wrap",borderRadius:15,fontColor:"#ffffff",fontFamily:{type:"default",fontFamily:"Yesteryear"},fontSize:48,fontStyle:"normal",fontWeight:"normal",lineHeight:1.2,textAlign:"center",textTransform:"none",textShadow:"transparent",underline:!1,italic:!1,verticalAlign:"bottom",dropShadow:{blur:.1,distance:.08,rotation:45,color:"#404040"}},wordByWordAnimations:ty("Reveal"),projectRatio:ly},Ny={presetId:"BUBBLEGUM",title:"Bubblegum",style:{...Xb,backgroundColor:"rgba(-255,-255,-255,0)",backgroundPadding:10,backgroundStyle:"wrap",borderRadius:15,fontColor:"#ffffff",fontFamily:{type:"default",fontFamily:"Shrikhand"},fontStyle:"normal",fontWeight:"normal",lineHeight:1.2,textAlign:"center",textTransform:"none",textShadow:"transparent",underline:!1,italic:!1,verticalAlign:"bottom",dropShadow:{blur:0,distance:.15,rotation:45,color:"#FF4D8D"}},transition:ry,projectRatio:ly},My={presetId:"CANTELOPE",title:"Cantelope",style:{...Xb,backgroundColor:"rgba(-255,-255,-255,0)",backgroundPadding:25,backgroundStyle:"wrap",borderRadius:25,fontColor:"#FFEFEA",fontFamily:{type:"custom",fontFamily:"Raleway_Black",source:"fromAsset",url:"https://cdn-useast1.kapwing.com/static/3IP-subtitle-font.ttf",fontType:"opentype",asset_id:"6269d8a0c20873007d7ebbba"},fontSize:36,fontStyle:"normal",fontWeight:"bold",lineHeight:1.2,textAlign:"center",textTransform:"uppercase",textShadow:"transparent",underline:!1,italic:!1,verticalAlign:"bottom",dropShadow:{blur:0,distance:.2,rotation:45,color:"#FF825A"}},transition:ry,projectRatio:ly},Py={presetId:"MONOSPACE",title:"Monospace",style:{...Xb,backgroundColor:"rgba(0,0,0,0.7)",backgroundPadding:25,backgroundStyle:"wrap",borderRadius:0,fontColor:"#ffffff",fontFamily:{type:"default",fontFamily:"Courier New"},fontSize:24,fontStyle:"normal",fontWeight:"bold",lineHeight:1.2,textAlign:"center",textTransform:"none",textShadow:"transparent",underline:!1,italic:!1,verticalAlign:"bottom",dropShadow:{blur:0,distance:.15,rotation:45,color:"rgba(-255,-255,-255,0)"}},transition:iy,projectRatio:ly},Fy={presetId:"MONOSPACE_WHITE",title:"Monospace White",style:{...Xb,backgroundColor:"rgba(255,255,255,0.7)",backgroundPadding:25,backgroundStyle:"wrap",borderRadius:0,fontColor:"#808080",fontFamily:{type:"default",fontFamily:"Source Code Pro"},fontSize:24,fontStyle:"normal",fontWeight:"bold",lineHeight:1.2,textAlign:"center",textTransform:"none",textShadow:"transparent",underline:!1,italic:!1,verticalAlign:"bottom",dropShadow:{blur:0,distance:.15,rotation:45,color:"rgba(-255,-255,-255,0)"}},wordByWordAnimations:ay({color:"#000000"}),projectRatio:ly},Dy={presetId:"FOREST",title:"Forest",style:{...Xb,backgroundColor:"#32523B",backgroundPadding:25,backgroundStyle:"wrap",borderRadius:36,fontColor:"#10290F",fontFamily:{type:"default",fontFamily:"Montserrat"},fontSize:30,fontStyle:"normal",fontWeight:"bold",lineHeight:1.2,textAlign:"center",textTransform:"none",textShadow:"transparent",underline:!1,italic:!1,verticalAlign:"bottom",dropShadow:{blur:.1,distance:.08,rotation:45,color:"rgba(-255,-255,-255,0)"}},transition:ry,wordByWordAnimations:ay({color:"#DAECC4"}),projectRatio:ly},Oy={presetId:"HIGHLIGHTER",title:"Highlighter",style:{...Xb,backgroundColor:"rgba(-255,-255,-255,0)",backgroundPadding:25,backgroundStyle:"wrap",borderRadius:0,fontColor:"#FFFFFF",fontFamily:{type:"default",fontFamily:"Jost"},fontStyle:"normal",fontWeight:"bold",lineHeight:1.2,textAlign:"left",textTransform:"none",textShadow:"transparent",underline:!1,italic:!1,verticalAlign:"bottom",dropShadow:{blur:.1,distance:.08,rotation:45,color:"#404040"}},transition:oy,wordByWordAnimations:ay({color:"#FFF731"}),projectRatio:ly},Uy={presetId:"OCEAN",title:"Ocean",style:{...Xb,backgroundColor:"#2F688C",backgroundPadding:10,backgroundStyle:"wrap",borderRadius:15,fontColor:"#ffffff",fontFamily:{type:"default",fontFamily:"Montserrat"},fontSize:30,fontStyle:"normal",fontWeight:"bold",lineHeight:1.2,textAlign:"center",textTransform:"none",textShadow:"transparent",underline:!1,italic:!1,verticalAlign:"bottom",dropShadow:{blur:.1,distance:.08,rotation:45,color:"rgba(-255,-255,-255,0)"}},transition:iy,wordByWordAnimations:ay({color:"#70EEFF"}),projectRatio:ly},By={style:{...Xb},position:Zb},Wy={presetId:"DARK_OUTLINE",title:"Dark Outline",style:{...Xb,backgroundColor:"rgba(-255,-255,-255,0)",backgroundPadding:25,backgroundStyle:"wrap",borderRadius:29,fontColor:"#FFFFFF",fontFamily:{type:"default",fontFamily:"Lexend Deca"},fontSize:38,fontStyle:"normal",fontWeight:"bold",lineHeight:1.2,textAlign:"center",textTransform:"none",textShadow:"transparent",underline:!1,italic:!1,verticalAlign:"bottom",dropShadow:{blur:.07,distance:.11,rotation:45,color:"#000000"},textOutline:{color:"#000000",width:15}},projectRatio:ly,checkIfSeenByUser:!0},Vy={presetId:"PRIME",title:"Prime",style:{...Xb,backgroundColor:"rgba(-255,-255,-255,0)",backgroundPadding:25,backgroundStyle:"wrap",borderRadius:29,fontColor:"#FFFFFF",fontFamily:{type:"default",fontFamily:"The Bold Font"},fontSize:38,fontStyle:"normal",fontWeight:"normal",lineHeight:1.2,textAlign:"center",textTransform:"none",textShadow:"transparent",underline:!1,italic:!1,verticalAlign:"bottom",dropShadow:{blur:.5,distance:.08,rotation:45,color:"#202020"},textOutline:{color:"#202020",width:50}},transition:ry,projectRatio:ly,checkIfSeenByUser:!0},Hy={presetId:"SPOKEN",title:"Spoken",style:{...Xb,backgroundColor:"rgba(-255,-255,-255,0)",backgroundPadding:25,backgroundStyle:"wrap",borderRadius:29,fontColor:"#FFFFFF",fontFamily:{type:"default",fontFamily:"Lexend Deca"},fontSize:38,fontStyle:"normal",fontWeight:"bold",lineHeight:1.2,textAlign:"left",textTransform:"none",textShadow:"transparent",underline:!1,italic:!1,verticalAlign:"bottom",dropShadow:{blur:.37,distance:.07,rotation:45,color:"#000000"},textOutline:{color:"rgba(-255,-255,-255,0)",width:15}},wordByWordAnimations:ty("Reveal"),transition:oy,projectRatio:ly,checkIfSeenByUser:!0},zy={presetId:"HEADLINE",title:"Headline",style:{...Xb,backgroundColor:"rgba(-255,-255,-255,0)",backgroundPadding:25,backgroundStyle:"wrap",borderRadius:29,fontColor:"#FFFFFF",fontFamily:{type:"default",fontFamily:"Bebas Neue"},fontSize:38,fontStyle:"normal",fontWeight:"bold",lineHeight:1.2,textAlign:"center",textTransform:"none",textShadow:"transparent",underline:!1,italic:!1,verticalAlign:"bottom",dropShadow:{blur:.08,distance:.1,rotation:45,color:"#202020"},textOutline:{color:"#000000",width:19}},projectRatio:ly,checkIfSeenByUser:!0},Gy={presetId:"SERIF",title:"Serif",style:{...Xb,backgroundColor:"rgba(-255,-255,-255,0)",backgroundPadding:25,backgroundStyle:"wrap",borderRadius:50,fontColor:"#FFFFFF",fontFamily:{type:"default",fontFamily:"Crimson Text"},fontSize:38,fontStyle:"normal",fontWeight:"bold",lineHeight:1.15,textAlign:"center",textTransform:"none",textShadow:"transparent",underline:!1,italic:!1,verticalAlign:"bottom",dropShadow:{blur:.22,distance:.07,rotation:45,color:"#000000"},textOutline:{color:"rgba(-255,-255,-255,0)",width:39}},projectRatio:ly,checkIfSeenByUser:!0},Yy={presetId:"KYOTO",title:"Kyoto",style:{...Xb,backgroundColor:"rgba(-255,-255,-255,0)",backgroundPadding:25,backgroundStyle:"wrap",borderRadius:29,fontColor:"#FFFFFF",fontFamily:{type:"default",fontFamily:"Gaegu"},fontSize:38,fontStyle:"normal",fontWeight:"bold",lineHeight:1.2,textAlign:"center",textTransform:"none",textShadow:"transparent",underline:!1,italic:!1,verticalAlign:"bottom",dropShadow:{blur:.15,distance:.08,rotation:45,color:"#000000"},textOutline:{color:"rgba(-255,-255,-255,0)",width:31}},transition:iy,projectRatio:ly,checkIfSeenByUser:!0},Ky={presetId:"LIGHT_MODE",title:"Light Mode",style:{...Xb,backgroundColor:"rgba(255,255,255,1)",backgroundPadding:25,backgroundStyle:"wrap",borderRadius:23,fontColor:"#000000",fontFamily:{type:"default",fontFamily:"Montserrat"},fontSize:38,fontStyle:"normal",fontWeight:"bold",lineHeight:1.15,textAlign:"center",textTransform:"none",textShadow:"transparent",underline:!1,italic:!1,verticalAlign:"bottom",dropShadow:{blur:.07,distance:.1,rotation:45,color:"rgba(-255,-255,-255,0)"},textOutline:{color:"rgba(-255,-255,-255,0)",width:16}},projectRatio:ly,checkIfSeenByUser:!0},Xy={presetId:"DARK_MODE",title:"Dark Mode",style:{...Xb,backgroundColor:"#000000",backgroundPadding:25,backgroundStyle:"wrap",borderRadius:23,fontColor:"#FFFFFF",fontFamily:{type:"default",fontFamily:"Montserrat"},fontSize:38,fontStyle:"normal",fontWeight:"bold",lineHeight:1.15,textAlign:"center",textTransform:"none",textShadow:"transparent",underline:!1,italic:!1,verticalAlign:"bottom",dropShadow:{blur:.07,distance:.1,rotation:45,color:"rgba(-255,-255,-255,0)"},textOutline:{color:"rgba(-255,-255,-255,0)",width:16}},projectRatio:ly,checkIfSeenByUser:!0},Zy={presetId:"REVEL",title:"Revel",style:{...Xb,backgroundColor:"rgba(255,255,255,1)",backgroundPadding:25,backgroundStyle:"wrap",borderRadius:23,fontColor:"#817F82",fontFamily:{type:"default",fontFamily:"Inter"},fontSize:38,fontStyle:"normal",fontWeight:"bold",lineHeight:1.15,textAlign:"center",textTransform:"none",textShadow:"transparent",underline:!1,italic:!1,verticalAlign:"bottom",dropShadow:{blur:.07,distance:.08,rotation:45,color:"rgba(-255,-255,-255,0)"},textOutline:{color:"rgba(-255,-255,-255,0)",width:16}},wordByWordAnimations:sy({color:"#020002"}),projectRatio:ly,checkIfSeenByUser:!0},qy={presetId:"DARK_LOFI",title:"Dark Lofi",style:{...Xb,backgroundColor:"rgba(0,0,0,0.3)",backgroundPadding:25,backgroundStyle:"wrap",borderRadius:16,fontColor:"#FFFFFF",fontFamily:{type:"default",fontFamily:"Alata"},fontSize:38,fontStyle:"normal",fontWeight:"bold",lineHeight:1.15,textAlign:"center",textTransform:"none",textShadow:"transparent",underline:!1,italic:!1,verticalAlign:"bottom",dropShadow:{blur:.02,distance:.09,rotation:45,color:"rgba(-255,-255,-255,0)"},textOutline:{color:"rgba(-255,-255,-255,0)",width:20}},projectRatio:ly,checkIfSeenByUser:!0},Jy={presetId:"NEAT",title:"Neat",style:{...Xb,backgroundColor:"rgba(255,255,255,1)",backgroundPadding:25,backgroundStyle:"wrap",borderRadius:0,fontColor:"#000000",fontFamily:{type:"default",fontFamily:"Crimson Text"},fontSize:38,fontStyle:"normal",fontWeight:"normal",lineHeight:1.15,textAlign:"center",textTransform:"none",textShadow:"transparent",underline:!1,italic:!1,verticalAlign:"bottom",dropShadow:{blur:.22,distance:.07,rotation:45,color:"rgba(-255,-255,-255,0)"},textOutline:{color:"rgba(-255,-255,-255,0)",width:39}},projectRatio:ly,checkIfSeenByUser:!0},$y={presetId:"SWIFT",title:"Swift",style:{...Xb,backgroundColor:"rgba(-255,-255,-255,0)",backgroundPadding:25,backgroundStyle:"wrap",borderRadius:29,fontColor:"#FFFFFF",fontFamily:{type:"default",fontFamily:"Paytone One"},fontSize:38,fontStyle:"normal",fontWeight:"bold",lineHeight:1.2,textAlign:"center",textTransform:"uppercase",textShadow:"transparent",underline:!1,italic:!0,verticalAlign:"bottom",dropShadow:{blur:.36,distance:.11,rotation:45,color:"#000000"},textOutline:{color:"#000000",width:50}},transition:ry,projectRatio:ly,checkIfSeenByUser:!0},Qy={presetId:"POINTED",title:"Pointed",style:{...Xb,backgroundColor:"rgba(-255,-255,-255,0)",backgroundPadding:25,backgroundStyle:"wrap",borderRadius:29,fontColor:"#FFEA00",fontFamily:{type:"default",fontFamily:"Lexend Deca"},fontSize:38,fontStyle:"normal",fontWeight:"bold",lineHeight:1.2,textAlign:"center",textTransform:"none",textShadow:"transparent",underline:!1,italic:!1,verticalAlign:"bottom",dropShadow:{blur:0,distance:.14,rotation:45,color:"#000000"},textOutline:{color:"#000000",width:31}},projectRatio:ly,checkIfSeenByUser:!0},ew={presetId:"CHILL",title:"Chill",style:{...Xb,backgroundColor:"rgba(-255,-255,-255,0)",backgroundPadding:25,backgroundStyle:"wrap",borderRadius:29,fontColor:"#FFFFFF",fontFamily:{type:"default",fontFamily:"Carter One"},fontSize:38,fontStyle:"normal",fontWeight:"bold",lineHeight:1.2,textAlign:"center",textTransform:"none",textShadow:"transparent",underline:!1,italic:!1,verticalAlign:"bottom",dropShadow:{blur:.09,distance:.11,rotation:45,color:"#000000"},textOutline:{color:"#000000",width:39}},wordByWordAnimations:ay({color:"#FFEA00"}),transition:ry,projectRatio:ly,checkIfSeenByUser:!0},tw={presetId:"ELECTRIC",title:"Electric",style:{...Xb,backgroundColor:"rgba(-255,-255,-255,0)",backgroundPadding:25,backgroundStyle:"wrap",borderRadius:29,fontColor:"#FFFFFF",fontFamily:{type:"default",fontFamily:"The Bold Font"},fontSize:38,fontStyle:"normal",fontWeight:"normal",lineHeight:1.2,textAlign:"center",textTransform:"none",textShadow:"transparent",underline:!1,italic:!1,verticalAlign:"bottom",dropShadow:{blur:0,distance:.14,rotation:45,color:"#000000"},textOutline:{color:"#000000",width:31}},wordByWordAnimations:ny({backgroundColor:"#00FF00"}),projectRatio:ly,checkIfSeenByUser:!0},aw={presetId:"BUBBLY",title:"Bubbly",style:{backgroundColor:"rgba(-255,-255,-255,0)",backgroundPadding:25,backgroundStyle:"wrap",borderRadius:29,fontColor:"#FFFFFF",fontFamily:{type:"default",fontFamily:"Fredoka One"},fontSize:38,fontStyle:"normal",fontWeight:"bold",lineHeight:1.2,textAlign:"center",textTransform:"none",textShadow:"transparent",underline:!1,italic:!1,verticalAlign:"bottom",dropShadow:{blur:.07,distance:.11,rotation:45,color:"#FF4D8D"},textOutline:{color:"#FF4D8D",width:50}},transition:ry,projectRatio:ly,checkIfSeenByUser:!0},nw={presetId:"VIVID",title:"Vivid",style:{...Xb,backgroundColor:"rgba(-255,-255,-255,0)",backgroundPadding:23,backgroundStyle:"wrap",borderRadius:10,fontColor:"#FFFFFF",fontFamily:{type:"default",fontFamily:"The Bold Font"},fontSize:38,fontStyle:"normal",fontWeight:"bold",lineHeight:1.15,textAlign:"center",textTransform:"uppercase",textShadow:"transparent",underline:!1,italic:!1,verticalAlign:"bottom",dropShadow:{blur:.02,distance:.16,rotation:45,color:"#F4511E"},textOutline:{color:"#F4511E",width:50}},projectRatio:ly,checkIfSeenByUser:!0},sw={presetId:"VINTAGE",title:"Vintage",style:{...Xb,backgroundColor:"rgba(-255,-255,-255,0)",backgroundPadding:25,backgroundStyle:"wrap",borderRadius:29,fontColor:"#FDD835",fontFamily:{type:"default",fontFamily:"Arial"},fontSize:38,fontStyle:"normal",fontWeight:"bold",lineHeight:1.2,textAlign:"center",textTransform:"none",textShadow:"transparent",underline:!1,italic:!0,verticalAlign:"bottom",dropShadow:{blur:.06,distance:.08,rotation:45,color:"#000000"},textOutline:{color:"#000000",width:8}},projectRatio:ly,checkIfSeenByUser:!0},ow={presetId:"ARCADE",title:"Arcade",style:{backgroundColor:"rgba(-255,-255,-255,0)",backgroundPadding:23,backgroundStyle:"wrap",borderRadius:10,fontColor:"#FFFFFF",fontFamily:{type:"default",fontFamily:"Press Start 2P"},fontSize:38,fontStyle:"normal",fontWeight:"bold",lineHeight:1.15,textAlign:"center",textTransform:"none",textShadow:"transparent",underline:!1,italic:!1,verticalAlign:"bottom",dropShadow:{blur:.02,distance:.24,rotation:45,color:"#6c19e8"},textOutline:{color:"#6c19e8",width:45}},wordByWordAnimations:ty("Bounce"),projectRatio:ly,checkIfSeenByUser:!0},iw={presetId:"AESHTETIC",title:"Aesthetic",style:{...Xb,backgroundColor:"rgba(-255,-255,-255,0)",backgroundPadding:25,backgroundStyle:"wrap",borderRadius:50,fontColor:"#F8D7E9",fontFamily:{type:"default",fontFamily:"Lexend Deca"},fontSize:38,fontStyle:"normal",fontWeight:"bold",lineHeight:1.15,textAlign:"center",textTransform:"none",textShadow:"transparent",underline:!1,italic:!0,verticalAlign:"bottom",dropShadow:{blur:0,distance:.12,rotation:45,color:"rgba(-255,-255,-255,0)"},textOutline:{color:"#D96C9F",width:50}},projectRatio:ly,checkIfSeenByUser:!0},rw={presetId:"PICKLE",title:"Pickle",style:{...Xb,backgroundColor:"rgba(-255,-255,-255,0)",backgroundPadding:25,backgroundStyle:"wrap",borderRadius:29,fontColor:"#C0CA33",fontFamily:{type:"default",fontFamily:"Fredoka One"},fontSize:38,fontStyle:"normal",fontWeight:"normal",lineHeight:1.2,textAlign:"center",textTransform:"none",textShadow:"transparent",underline:!1,italic:!1,verticalAlign:"bottom",dropShadow:{blur:0,distance:.14,rotation:45,color:"#53580E"},textOutline:{color:"#53580E",width:31}},projectRatio:ly,checkIfSeenByUser:!0},lw={presetId:"COBALT",title:"Cobalt",style:{...Xb,backgroundColor:"rgba(0,0,255,1)",backgroundPadding:25,backgroundStyle:"wrap",borderRadius:23,fontColor:"#FFFFFF",fontFamily:{type:"default",fontFamily:"Montserrat"},fontSize:38,fontStyle:"normal",fontWeight:"bold",lineHeight:1.15,textAlign:"center",textTransform:"none",textShadow:"transparent",underline:!1,italic:!1,verticalAlign:"bottom",dropShadow:{blur:.07,distance:.1,rotation:45,color:"rgba(-255,-255,-255,0)"},textOutline:{color:"rgba(-255,-255,-255,0)",width:16}},projectRatio:ly,checkIfSeenByUser:!0},dw={presetId:"YOSEMITE",title:"Yosemite",style:{backgroundColor:"#964B00",backgroundPadding:21,backgroundStyle:"wrap",borderRadius:31,fontColor:"#ffc790",fontFamily:{type:"default",fontFamily:"Patrick Hand SC"},fontSize:38,fontStyle:"normal",fontWeight:"bold",lineHeight:1,textAlign:"center",textTransform:"none",textShadow:"transparent",underline:!1,italic:!1,verticalAlign:"bottom",dropShadow:{blur:.07,distance:.1,rotation:45,color:"rgba(-255,-255,-255,0)"},textOutline:{color:"rgba(-255,-255,-255,0)",width:15}},transition:oy,projectRatio:ly,checkIfSeenByUser:!0},cw={presetId:"PINEAPPLE",title:"Pineapple",style:{...Xb,backgroundColor:"rgba(39,182,200,1)",backgroundPadding:25,backgroundStyle:"wrap",borderRadius:33,fontColor:"#FFF56C",fontFamily:{type:"default",fontFamily:"Slackey"},fontSize:38,fontStyle:"normal",fontWeight:"normal",lineHeight:1.15,textAlign:"center",textTransform:"none",textShadow:"transparent",underline:!1,italic:!1,verticalAlign:"bottom",dropShadow:{blur:0,distance:.12,rotation:45,color:"#817f00"},textOutline:{color:"rgba(-255,-255,-255,0)",width:16}},transition:ry,projectRatio:ly,checkIfSeenByUser:!0},uw={presetId:"LIGHT_OUTLINE",title:"Light Outline",style:{...Xb,backgroundColor:"rgba(-255,-255,-255,0)",backgroundPadding:25,backgroundStyle:"wrap",borderRadius:29,fontColor:"#000000",fontFamily:{type:"default",fontFamily:"Lexend Deca"},fontSize:38,fontStyle:"normal",fontWeight:"bold",lineHeight:1.2,textAlign:"center",textTransform:"none",textShadow:"transparent",underline:!1,italic:!1,verticalAlign:"bottom",dropShadow:{blur:.03,distance:.11,rotation:45,color:"#FFFFFF"},textOutline:{color:"#FFFFFF",width:15}},projectRatio:ly,checkIfSeenByUser:!0},pw={presetId:"UPFRONT",title:"Upfront",style:{...Xb,backgroundColor:"rgba(-255,-255,-255,0)",backgroundPadding:25,backgroundStyle:"wrap",borderRadius:29,fontColor:"#FFFFFF",fontFamily:{type:"default",fontFamily:"The Bold Font"},fontSize:38,fontStyle:"normal",fontWeight:"normal",lineHeight:1.2,textAlign:"center",textTransform:"none",textShadow:"transparent",underline:!1,italic:!1,verticalAlign:"bottom",dropShadow:{blur:0,distance:.14,rotation:45,color:"#000000"},textOutline:{color:"#000000",width:31}},projectRatio:ly,checkIfSeenByUser:!0},mw={presetId:"SLANT",title:"Slant",style:{...Xb,backgroundColor:"rgba(-255,-255,-255,0)",backgroundPadding:25,backgroundStyle:"wrap",borderRadius:29,fontColor:"#FFFFFF",fontFamily:{type:"default",fontFamily:"Montserrat"},fontSize:38,fontStyle:"normal",fontWeight:"bold",lineHeight:1.2,textAlign:"center",textTransform:"none",textShadow:"transparent",underline:!1,italic:!0,verticalAlign:"bottom",dropShadow:{blur:.15,distance:.08,rotation:45,color:"#000000"},textOutline:{color:"rgba(-255,-255,-255,0)",width:31}},projectRatio:ly,checkIfSeenByUser:!0},gw={presetId:"WIDE",title:"Wide",style:{...Xb,backgroundColor:"rgba(-255,-255,-255,0)",backgroundPadding:25,backgroundStyle:"wrap",borderRadius:29,fontColor:"#FFFFFF",fontFamily:{type:"default",fontFamily:"Lexend Giga"},fontSize:38,fontStyle:"normal",fontWeight:"bold",lineHeight:1.2,textAlign:"center",textTransform:"none",textShadow:"transparent",underline:!1,italic:!1,verticalAlign:"bottom",dropShadow:{blur:.07,distance:.11,rotation:45,color:"#000000"},textOutline:{color:"rgba(-255,-255,-255,0)",width:15}},projectRatio:ly,checkIfSeenByUser:!0},hw={presetId:"INTER",title:"Inter",style:{...Xb,backgroundColor:"rgba(-255,-255,-255,0)",backgroundPadding:25,backgroundStyle:"wrap",borderRadius:29,fontColor:"#FFFFFF",fontFamily:{type:"default",fontFamily:"Inter"},fontSize:38,fontStyle:"normal",fontWeight:"bold",lineHeight:1.2,textAlign:"center",textTransform:"none",textShadow:"transparent",underline:!1,italic:!1,verticalAlign:"bottom",dropShadow:{blur:.15,distance:.08,rotation:45,color:"#000000"},textOutline:{color:"rgba(-255,-255,-255,0)",width:31}},transition:iy,projectRatio:ly,checkIfSeenByUser:!0},vw={presetId:"STRATEGIST",title:"Strategist",style:{...Xb,backgroundColor:"rgba(-255,-255,-255,0)",backgroundPadding:25,backgroundStyle:"wrap",borderRadius:29,fontColor:"#FFFFFF",fontFamily:{type:"default",fontFamily:"Marko One"},fontSize:38,fontStyle:"normal",fontWeight:"bold",lineHeight:1.2,textAlign:"center",textTransform:"none",textShadow:"transparent",underline:!1,italic:!1,verticalAlign:"bottom",dropShadow:{blur:.15,distance:.08,rotation:45,color:"#000000"},textOutline:{color:"rgba(-255,-255,-255,0)",width:31}},transition:ry,projectRatio:ly,checkIfSeenByUser:!0},fw={presetId:"RETRO",title:"Retro",style:{...Xb,backgroundColor:"rgba(-255,-255,-255,0)",backgroundPadding:25,backgroundStyle:"wrap",borderRadius:29,fontColor:"#FFFFFF",fontFamily:{type:"default",fontFamily:"Chicle"},fontSize:38,fontStyle:"normal",fontWeight:"normal",lineHeight:1.2,textAlign:"center",textTransform:"none",textShadow:"transparent",underline:!1,italic:!1,verticalAlign:"bottom",dropShadow:{blur:.15,distance:.08,rotation:45,color:"#000000"},textOutline:{color:"rgba(-255,-255,-255,0)",width:31}},transition:ry,projectRatio:ly,checkIfSeenByUser:!0},bw={presetId:"ORGANIC",title:"Organic",style:{...Xb,backgroundColor:"rgba(-255,-255,-255,0)",backgroundPadding:25,backgroundStyle:"wrap",borderRadius:29,fontColor:"#FFFFFF",fontFamily:{type:"default",fontFamily:"Mansalva"},fontSize:38,fontStyle:"normal",fontWeight:"bold",lineHeight:1.2,textAlign:"center",textTransform:"none",textShadow:"transparent",underline:!1,italic:!1,verticalAlign:"bottom",dropShadow:{blur:.15,distance:.08,rotation:45,color:"#000000"},textOutline:{color:"rgba(-255,-255,-255,0)",width:31}},transition:ry,projectRatio:ly,checkIfSeenByUser:!0},yw={presetId:"SUMMER",title:"Summer",style:{...Xb,backgroundColor:"rgba(-255,-255,-255,0)",backgroundPadding:25,backgroundStyle:"wrap",borderRadius:29,fontColor:"#FFFFFF",fontFamily:{type:"default",fontFamily:"Corben"},fontSize:38,fontStyle:"normal",fontWeight:"bold",lineHeight:1.2,textAlign:"center",textTransform:"none",textShadow:"transparent",underline:!1,italic:!1,verticalAlign:"bottom",dropShadow:{blur:.15,distance:.08,rotation:45,color:"#000000"},textOutline:{color:"rgba(-255,-255,-255,0)",width:31}},transition:ry,projectRatio:ly,checkIfSeenByUser:!0},ww={presetId:"GLOW",title:"Glow",style:{...Xb,backgroundColor:"rgba(-255,-255,-255,0)",backgroundPadding:25,backgroundStyle:"wrap",borderRadius:29,fontColor:"#FFFFFF",fontFamily:{type:"default",fontFamily:"Nunito"},fontSize:38,fontStyle:"normal",fontWeight:"normal",lineHeight:1.2,textAlign:"center",textTransform:"none",textShadow:"transparent",underline:!1,italic:!1,verticalAlign:"bottom",dropShadow:{blur:.5,distance:.08,rotation:45,color:"#FFFFFF"},textOutline:{color:"#FFFFFF",width:16}},transition:oy,projectRatio:ly,checkIfSeenByUser:!0},_w={presetId:"CLOUD",title:"Cloud",style:{...Xb,backgroundColor:"rgba(-255,-255,-255,0)",backgroundPadding:25,backgroundStyle:"wrap",borderRadius:29,fontColor:"#FFFFFF",fontFamily:{type:"default",fontFamily:"Knewave"},fontSize:38,fontStyle:"normal",fontWeight:"normal",lineHeight:1.2,textAlign:"center",textTransform:"none",textShadow:"transparent",underline:!1,italic:!1,verticalAlign:"bottom",dropShadow:{blur:.15,distance:.08,rotation:45,color:"#000000"},textOutline:{color:"rgba(-255,-255,-255,0)",width:31}},transition:iy,projectRatio:ly,checkIfSeenByUser:!0},Cw={presetId:"SEETHRU",title:"Seethru",style:{...Xb,backgroundColor:"rgba(-255,-255,-255,0)",backgroundPadding:25,backgroundStyle:"wrap",borderRadius:29,fontColor:"#FFFFFF",fontFamily:{type:"default",fontFamily:"Londrina Shadow"},fontSize:38,fontStyle:"normal",fontWeight:"normal",lineHeight:1.2,textAlign:"center",textTransform:"none",textShadow:"transparent",underline:!1,italic:!1,verticalAlign:"bottom",dropShadow:{blur:.5,distance:.08,rotation:45,color:"#000000"},textOutline:{color:"#FFFFFF",width:2}},transition:oy,projectRatio:ly,checkIfSeenByUser:!0},Sw={presetId:"LIGHT_LOFI",title:"Light Lofi",style:{...Xb,backgroundColor:"rgba(255,255,255,0.3)",backgroundPadding:25,backgroundStyle:"wrap",borderRadius:16,fontColor:"#101010",fontFamily:{type:"default",fontFamily:"Alata"},fontSize:38,fontStyle:"normal",fontWeight:"bold",lineHeight:1.15,textAlign:"center",textTransform:"none",textShadow:"transparent",underline:!1,italic:!1,verticalAlign:"bottom",dropShadow:{blur:.02,distance:.09,rotation:45,color:"rgba(-255,-255,-255,0)"},textOutline:{color:"rgba(-255,-255,-255,0)",width:20}},projectRatio:ly,checkIfSeenByUser:!0},xw={presetId:"ZAP",title:"Zap",style:{...Xb,backgroundColor:"rgba(-255,-255,-255,0)",backgroundPadding:25,backgroundStyle:"wrap",borderRadius:29,fontColor:"#FFFFFF",fontFamily:{type:"default",fontFamily:"Bangers"},fontSize:38,fontStyle:"normal",fontWeight:"normal",lineHeight:1.2,textAlign:"center",textTransform:"none",textShadow:"transparent",underline:!1,italic:!1,verticalAlign:"bottom",dropShadow:{blur:.06,distance:.1,rotation:45,color:"#000000"},textOutline:{color:"#000000",width:19}},wordByWordAnimations:ay({color:"#9fff51"}),projectRatio:ly,checkIfSeenByUser:!0},Iw={presetId:"FOCUS",title:"Focus",style:{...Xb,backgroundColor:"rgba(-255,-255,-255,0)",backgroundPadding:25,backgroundStyle:"wrap",borderRadius:29,fontColor:"#FFEA00",fontFamily:{type:"default",fontFamily:"Fredoka One"},fontSize:38,fontStyle:"normal",fontWeight:"normal",lineHeight:1.2,textAlign:"center",textTransform:"none",textShadow:"transparent",underline:!1,italic:!1,verticalAlign:"bottom",dropShadow:{blur:0,distance:.14,rotation:45,color:"#000000"},textOutline:{color:"#000000",width:31}},wordByWordAnimations:ay({color:"#FFFFFF"}),projectRatio:ly,checkIfSeenByUser:!0},Aw={presetId:"BUTTERSCOTCH",title:"Butterscotch",style:{...Xb,backgroundColor:"rgba(-255,-255,-255,0)",backgroundPadding:25,backgroundStyle:"wrap",borderRadius:31,fontColor:"#ffd9a0",fontFamily:{type:"default",fontFamily:"Nothing You Could Do"},fontSize:38,fontStyle:"normal",fontWeight:"bold",lineHeight:1,textAlign:"center",textTransform:"none",textShadow:"transparent",underline:!1,italic:!1,verticalAlign:"bottom",dropShadow:{blur:.07,distance:.1,rotation:45,color:"#684714"},textOutline:{color:"rgba(-255,-255,-255,0)",width:15}},wordByWordAnimations:ty("Reveal"),projectRatio:ly,checkIfSeenByUser:!0},kw={presetId:"BURNT_SIENNA",title:"Burnt Sienna",style:{...Xb,backgroundColor:"rgba(-255,-255,-255,0)",backgroundPadding:25,backgroundStyle:"wrap",borderRadius:50,fontColor:"#F27F3D",fontFamily:{type:"default",fontFamily:"Fredoka One"},fontSize:38,fontStyle:"normal",fontWeight:"normal",lineHeight:1.15,textAlign:"center",textTransform:"none",textShadow:"transparent",underline:!1,italic:!1,verticalAlign:"bottom",dropShadow:{blur:0,distance:.12,rotation:45,color:"rgba(-255,-255,-255,0)"},textOutline:{color:"#481606",width:50}},transition:iy,projectRatio:ly,checkIfSeenByUser:!0},Tw={presetId:"FUSCHIA",title:"Fuchsia",style:{...Xb,backgroundColor:"rgba(-255,-255,-255,0)",backgroundPadding:25,backgroundStyle:"wrap",borderRadius:29,fontColor:"#ec7eff",fontFamily:{type:"default",fontFamily:"Koulen"},fontSize:38,fontStyle:"normal",fontWeight:"normal",lineHeight:1.2,textAlign:"center",textTransform:"none",textShadow:"transparent",underline:!1,italic:!1,verticalAlign:"bottom",dropShadow:{blur:0,distance:.11,rotation:45,color:"#000000"},textOutline:{color:"#000000",width:31}},projectRatio:ly,checkIfSeenByUser:!0},Ew={presetId:"CHERRY",title:"Cherry",style:{...Xb,backgroundColor:"rgba(-255,-255,-255,0)",backgroundPadding:23,backgroundStyle:"wrap",borderRadius:36,fontColor:"#F50057",fontFamily:{type:"default",fontFamily:"Molle"},fontSize:38,fontStyle:"normal",fontWeight:"normal",lineHeight:1.15,textAlign:"center",textTransform:"none",textShadow:"transparent",underline:!1,italic:!1,verticalAlign:"bottom",dropShadow:{blur:.02,distance:.16,rotation:45,color:"#FFFFFF"},textOutline:{color:"#FFFFFF",width:50}},projectRatio:ly,checkIfSeenByUser:!0},Lw={presetId:"PAYTONE",title:"Paytone",style:{...Xb,backgroundColor:"rgba(-255,-255,-255,0)",backgroundPadding:23,backgroundStyle:"wrap",borderRadius:10,fontColor:"#9aecf9",fontFamily:{type:"default",fontFamily:"Paytone One"},fontSize:38,fontStyle:"normal",fontWeight:"bold",lineHeight:1.15,textAlign:"center",textTransform:"none",textShadow:"transparent",underline:!1,italic:!1,verticalAlign:"bottom",dropShadow:{blur:.02,distance:.19,rotation:45,color:"#000000"},textOutline:{color:"#000000",width:45}},projectRatio:ly,checkIfSeenByUser:!0},jw={presetId:"FROST",title:"Frost",style:{...Xb,backgroundColor:"rgba(-255,-255,-255,0)",backgroundPadding:25,backgroundStyle:"wrap",borderRadius:50,fontColor:"#d7ecf7",fontFamily:{type:"default",fontFamily:"Hammersmith One"},fontSize:38,fontStyle:"normal",fontWeight:"bold",lineHeight:1.15,textAlign:"center",textTransform:"none",textShadow:"transparent",underline:!1,italic:!1,verticalAlign:"bottom",dropShadow:{blur:0,distance:.12,rotation:45,color:"rgba(-255,-255,-255,0)"},textOutline:{color:"#6c91d9",width:50}},transition:iy,projectRatio:ly,checkIfSeenByUser:!0},Rw={presetId:"MATCHA",title:"Matcha",style:{backgroundColor:"rgba(67,96,35,1)",backgroundPadding:25,backgroundStyle:"wrap",borderRadius:31,fontColor:"#F48FB1",fontFamily:{type:"default",fontFamily:"Lexend Deca"},fontSize:38,fontStyle:"normal",fontWeight:"bold",lineHeight:1.15,textAlign:"center",textTransform:"none",textShadow:"transparent",underline:!1,italic:!1,verticalAlign:"bottom",dropShadow:{blur:.07,distance:.11,rotation:45,color:"rgba(-255,-255,-255,0)"},textOutline:{color:"rgba(-255,-255,-255,0)",width:15}},transition:iy,projectRatio:ly,checkIfSeenByUser:!0},Nw={presetId:"LILAC",title:"Lilac",style:{...Xb,backgroundColor:"rgba(148,171,242,0.8)",backgroundPadding:25,backgroundStyle:"wrap",borderRadius:50,fontColor:"#FFFFFF",fontFamily:{type:"default",fontFamily:"Alata"},fontSize:38,fontStyle:"normal",fontWeight:"bold",lineHeight:1.15,textAlign:"center",textTransform:"none",textShadow:"transparent",underline:!1,italic:!1,verticalAlign:"bottom",dropShadow:{blur:0,distance:.12,rotation:45,color:"rgba(-255,-255,-255,0)"},textOutline:{color:"rgba(-255,-255,-255,0)",width:33}},transition:iy,projectRatio:ly,checkIfSeenByUser:!0},Mw={presetId:"NEON",title:"Neon",style:{...Xb,backgroundColor:"#FFFF00",backgroundPadding:20,backgroundStyle:"wrap",borderRadius:10,fontColor:"#D500F9",fontFamily:{type:"default",fontFamily:"Fredoka One"},fontSize:38,fontStyle:"normal",fontWeight:"normal",lineHeight:1,textAlign:"center",textTransform:"none",textShadow:"transparent",underline:!1,italic:!1,verticalAlign:"bottom",dropShadow:{blur:.02,distance:.09,rotation:45,color:"#FFFF00"},textOutline:{color:"#FFFF00",width:20}},projectRatio:ly,checkIfSeenByUser:!0},Pw={presetId:"BARCODE",title:"Barcode",style:{...Xb,backgroundColor:"rgba(-255,-255,-255,0)",backgroundPadding:25,backgroundStyle:"wrap",borderRadius:29,fontColor:"#FFFFFF",fontFamily:{type:"default",fontFamily:"Libre Barcode 128 Text"},fontSize:38,fontStyle:"normal",fontWeight:"bold",lineHeight:1.2,textAlign:"center",textTransform:"none",textShadow:"transparent",underline:!1,italic:!1,verticalAlign:"bottom",dropShadow:{blur:.15,distance:.08,rotation:45,color:"rgba(-255,-255,-255,0)"},textOutline:{color:"rgba(-255,-255,-255,0)",width:31}},wordByWordAnimations:ny({color:"#000000",backgroundColor:"#FFFFFF",borderRadius:"0em"}),transition:iy,projectRatio:ly,checkIfSeenByUser:!0},Fw=[dy,Ey,Ny,Oy],Dw=[dy,Ey,Oy,Wy,Vy,Hy,zy,Gy,Yy,Ky,Xy,Zy,qy,Jy,$y,Qy,ew,tw,aw,nw,sw,ow,iw,rw,lw,dw,cw,uw,pw,mw,gw,hw,vw,fw,bw,yw,ww,_w,Cw,Sw,xw,Iw,Aw,kw,Tw,Ew,Lw,jw,Rw,Nw,Mw,Pw,Ny,My,Dy,jy,Uy,Ly,Fy,Py,Ry,cy,uy,py,my,vy,by,yy,wy,_y,Cy,Sy,xy,Iy,Ay,ky,Ty,gy,hy,fy],Ow=e=>Dw.find((t=>t.presetId===e.presetId)),Uw=e=>!!Ow(e),Bw=e=>e.map((e=>{const t=Ow(e);return t?{...e,style:t.style,wordByWordAnimations:t.wordByWordAnimations,transition:t.transition}:e})),Ww="Tooltip-module_TooltipContent_cDsTX",Vw="Tooltip-module_TooltipArrow_gVdsC",Hw=b.memo((({children:e,delayDuration:t=500,message:a,wrapWithDiv:n,open:s,setOpen:o,style:r,side:l="top",align:d="center",noArrow:c,disabled:u,container:p})=>{const m=i.useCallback((e=>{null==o||o(e)}),[o]),g=a.split("\n"),h=()=>n?f.jsx("div",{children:e}):e;return u?h():f.jsx(Qi,{children:f.jsxs(Yi,{delayDuration:u?864e5:t,onOpenChange:m,...o?{open:s}:{},children:[f.jsx(Ji,{asChild:!0,children:h()}),f.jsx(Xi,{container:p,children:f.jsxs(Zi,{className:Ww,sideOffset:5,style:r,side:l,align:d,children:[g.map(((e,t)=>f.jsx("div",{children:e},t))),!c&&f.jsx(qi,{className:Vw})]})})]})})}));function zw(e){return e===Id.Business}function Gw(e){const t=nc(e.planTier);return Object.fromEntries(Object.values(Bd).map((a=>{var n,s,o,i;const r=null==(n=Vd[a].tier[e.planTier])?void 0:n.limit,l=null==(i=null==(o=null==(s=e.customTeamLimits)?void 0:s.usageType)?void 0:o[a])?void 0:i.limit;return t.is(Id.Enterprise)?[a,l??r]:[a,r]})))}function Yw({limitConsumption:e,teamPlanLimits:t}){const a={};for(const[n,s]of Object.entries(Vd)){const o=n,{dbKey:i}=s,r=t[o];if(void 0===r)continue;const l=(null==e?void 0:e[i])||0;if("number"!=typeof l)throw new Error("Invalid dbKey used in USAGE_LIMITS");const d=Math.max(r-l,0),c=d<=0,u=Math.max(l-r,0),p=!c&&d/r<=.1,m=!c&&!p&&d/r<=.5;a[o]={is50PercentConsumed:m,is90PercentConsumed:p,hasConsumedLimit:c,usage:l,remainingUsage:d,limitForPlan:r,excessUsage:u}}return a}var Kw=(e=>(e.EN="en",e.ES="es",e.FR="fr",e.PT="pt",e.JA="ja",e.AR="ar",e.ES_ES="es-es",e.ES_MX="es-mx",e.PT_BR="pt-br",e.FR_FR="fr-fr",e.HI_IN="hi-in",e.ID="id",e.IT="it",e.RU="ru",e.FIL_PH="fil-ph",e.TR="tr",e.DE="de",e.PL="pl",e.CMN_HANS_CN="cmn-hans-cn",e.KO="ko",e.HE="he",e.NL="nl",e))(Kw||{});Object.values(Kw);var Xw=(e=>(e.ASSET_ID="asset_id",e.TEAM_ID="team_id",e.REPURPOSE_ENTRY_POINT="repurpose_entry_point",e.REPURPOSE_SHARE="repurpose_share",e.REDIRECT_SOURCE="redirect_source",e.PASTED_LINK="pasted_link",e.SAMPLE="sample",e.SAMPLE_TYPE="sample_type",e.STUDIO_TOUR_STEP="studio_tour_step",e.STUDIO_TOUR_SOURCE="studio_tour_source",e.STUDIO_TOUR="studio_tour",e.TOOLTIP="tooltip",e.SHARER="sharer",e.SHARER_ID="sharer_id",e.UTM_SOURCE="utm_source",e.UTM_MEDIUM="utm_medium",e.UTM_CAMPAIGN="utm_campaign",e.START_DATE="start_date",e.END_DATE="end_date",e.WORKFLOW_ID="workflow_id",e.LANGUAGE_CODE="language_code",e.TRANSLATE_LANGUAGE_CODE="translate_language_code",e.IS_LANGUAGE_AUTO_DETECTED="is_language_auto_detected",e.LOCALE="locale",e))(Xw||{}),Zw=(e=>(e.AI_ARTICLE_TO_VIDEO="/ai/article-to-video",e.AI_AUDIO_ENHANCER="/ai/audio-enhancer",e.AI_AUTO_SPEAKER_FOCUS="/ai/auto-speaker-focus",e.AI_BLOG_TO_VIDEO="/ai/blog-to-video",e.AI_CLIP_MAKER="/ai/clip-maker",e.AI_CLIP_MAKER_PODCAST="/ai/clip-maker/podcast",e.AI_CLIP_MAKER_TIKTOK="/ai/clip-maker/tiktok",e.AI_DUBBING="/ai/dubbing",e.AI_IMAGE_ENHANCER="/ai/image-enhancer",e.AI_IMAGE_GENERATOR="/ai/image-generator",e.AI_MAGIC_FILL="/ai/image-extender",e.AI_OVERVIEW="/ai/overview",e.AI_TEXT_TO_VIDEO="/ai/text-to-video",e.AI_VIDEO_GENERATOR="/ai-video-generator",e.AI_VIDEO_SCRIPT_GENERATOR="/ai/video-script-generator",e.AI_VIDEO_SCRIPT_GENERATOR_PODCAST="/ai/video-script-generator/podcast",e.AI_VOICE_CLONING="/ai/voice-cloning",e.AI_VOICE_OVER_GENERATOR="/ai/voice-over-generator",e.AI_VOICE_OVER_GENERATOR_FEMALE="/ai/voice-over-generator/female",e.AI_VOICE_OVER_GENERATOR_MALE="/ai/voice-over-generator/male",e.B_ROLL_GENERATOR="/ai/b-roll-generator",e.GIF_MAKER="/tools/make/gif",e.MEME_MAKER="/meme-maker",e.MUTE_VIDEO="/tools/mute",e.SUBTITLES="/subtitles",e.SUBTITLES_ADD_SUBTITLES="/subtitles/add-subtitles",e.SUBTITLES_AUTO_GENERATOR="/subtitles/auto-generator",e.SUBTITLES_TRANSLATOR="/subtitles/translator",e.TEAMS_TRAINING="/teams/training",e.TEAMS_CREATIVE_AGENCIES="/teams/creative-agencies",e.TEAMS_MARKETING="/teams/marketing",e.TOOLS_ADD_AUDIO="/tools/add-audio",e.TOOLS_ADD_AUDIO_SOUND_EFFECTS="/tools/add-audio/sound-effects",e.TOOLS_ADD_BORDER="/tools/add-border",e.TOOLS_ADD_EFFECTS_FREEZE_FRAME="/tools/add-effects/freeze-frame",e.TOOLS_ADD_EFFECTS_KEN_BURNS="/tools/add-effects/ken-burns-effect",e.TOOLS_ADD_EFFECTS_WAVEFORM="/tools/add-effects/waveform",e.TOOLS_ADD_IMAGE="/tools/add-image",e.TOOLS_ADD_TEXT="/tools/add-text",e.TOOLS_AUDIIO_EDITOR_EXTRACT="/tools/audio-editor/extract",e.TOOLS_AUDIO_EDITOR_AUDIO_ENHANCER="tools/audio-editor/audio-enhancer",e.TOOLS_ADJUST="/tools/adjust",e.TOOLS_ADJUST_COLOR_CORRECTOR="/tools/adjust/color-corrector",e.TOOLS_BLUR="/tools/blur",e.TOOLS_BLUR_VIDEO_BACKGROUND="/tools/blur/video-background",e.TOOLS_COMPRESS="/tools/compress",e.TOOLS_COMPRESS_GIF="/tools/compress/gif",e.TOOLS_CONVERT="/tools/convert",e.TOOLS_CONVERT_GIF_TO_VIDEO="/tools/convert/gif-to-video",e.TOOLS_CROP="/tools/crop",e.TOOLS_FILTER="/tools/filter",e.TOOLS_MAKE_CUSTOM_EMOJI="/tools/make/custom-emoji",e.TOOLS_MAKE_PHOTO_COLLAGE="/tools/make/photo-collage",e.TOOLS_MAKE_VIDEO_CLIP="/tools/make/video-clip",e.TOOLS_MAKE_VIDEO_MONTAGE="/tools/make/video/montage",e.TOOLS_MAKE_VOICE_OVER="/tools/make/voice-over",e.TOOLS_MERGE_IMAGE="/tools/merge/image",e.TOOLS_REMOVE_BACKGROUND="/tools/remove-background",e.TOOLS_REMOVE_BACKGROUND_NOISE="/tools/remove-background/noise",e.TOOLS_RESIZE="/tools/resize",e.TOOLS_RESIZE_IMAGE="/tools/resize/image",e.TOOLS_RESIZE_TIKTOK="/tools/resize/tiktok",e.TOOLS_SMART_CUT_FILLER_WORDS="/tools/smart-cut/filler-words",e.TOOLS_SILENCE_REMOVER="/tools/audio-editor/silence-remover",e.TOOLS_SMART_CUT="/tools/smart-cut",e.TOOLS_TELEPROMPTER="/tools/teleprompter",e.TOOLS_TRANSCRIBE="/tools/transcribe",e.TOOLS_TRANSCRIBE_MP4_TO_TEXT="/tools/transcribe/mp4-to-text",e.TOOLS_TEXT_TO_SPEECH="/tools/text-to-speech",e.TOOLS_TRANSCRIPTION="/tools/transcription",e.TOOLS_TRANSLATE="/tools/translate",e.TOOLS_TRANSLATE_AUDIO="/tools/translate/audio",e.TOOLS_TRANSLATE_IMAGE="/tools/translate/image",e.TOOLS_TRIM="/tools/trim",e.TOOLS_VIDEO_STABILIZER="/tools/video-enhancer/video-stabilizer",e.VIDEO_EDITOR="/video-editor",e.SPLIT_VOCALS="/tools/split-vocals",e))(Zw||{});const qw=e=>{const t=new URLSearchParams;for(const[a,n]of Object.entries(e))n&&t.set(a,n.toString());return t.toString()?`?${t.toString()}`:""},Jw=(e,t)=>new URLSearchParams((null==t?void 0:t.search)??window.location.search).get(e);function $w(e){let t=function(e){let t=k(e);return t=t.replace(/[^a-z0-9.]/gi,"_"),t=t.replace(/_{2,}/g,"_"),t}(e);const a=t.split(".").pop();t=t.replace(/\..+$/,"");return t=`${t}-${A.generate()}`,t=`${t}.${a}`,t}function Qw({files:e,isPrivate:t=!0,useNameDirectly:a}){return Jf("create_resumable_upload",{body:{files:e.map((({file:e})=>({fileName:a?e.name:$w(e.name||""),fileType:e.type,private:t})))},retries:5})}const e_=()=>Promise.resolve(),t_=e=>new Promise((t=>setTimeout((()=>t()),e)));class a_{constructor({file:e,layer:t,bucket:n=Bl,isPrivate:s=!1,onProgress:o=e_,onFinish:i=e_,onError:r=e_,onCancel:d=e_,onRetry:c=e_,origin:u="unknown",uploadSourceComponent:p,useNameDirectly:m=!1,analyticsUploadSource:g}){a(this,"file"),a(this,"layer"),a(this,"bucket"),a(this,"isPrivate"),a(this,"onProgress"),a(this,"onFinish"),a(this,"onError"),a(this,"onCancel"),a(this,"onRetry"),a(this,"origin"),a(this,"upload_uri",""),a(this,"read_uri",""),a(this,"uploadSourceComponent"),a(this,"xhr",null),a(this,"offlineRetries",0),a(this,"otherRetries",0),a(this,"useNameDirectly"),a(this,"analyticsUploadSource"),a(this,"logError",((e,t,a=!0)=>{x({category:"Upload Fails",message:`Orign: ${this.origin} stage: ${t}, file: ${JSON.stringify(this.file)}`}),a&&l(e),ov("Upload Fails",{Origin:this.origin,Message:"string"==typeof e?e:e.message,FailStage:t,FileType:this.file.type,"File Size (MB)":this.file.size/1e6})})),a(this,"logProgress",(e=>{x({category:"Upload Progress",message:e})})),a(this,"upload",(async()=>{for(let t=0;t<=5;t+=1){try{this.logProgress("Upload Begins");const e=await Qw({files:[{file:this.file}],isPrivate:this.isPrivate,useNameDirectly:this.useNameDirectly}),{read_uri:t,upload_uri:a}=e.uris[0];this.upload_uri=a,this.read_uri=t,this.uploadToGCS()}catch(e){if(t<5){await t_(2**t*1e3);continue}const{message:a}=ub(e);this.logError(e instanceof Error?e:new Error(a),"upload"),this.onError({message:a,error:e,file:this.file,layer:this.layer,errorType:"upload",captureException:!1})}break}})),a(this,"uploadToGCS",(async({retry:e=0,startByte:t=0}={})=>{let a=null,n=null;const s=setInterval((()=>{if(null!==a&&null!==n&&1!==n){0===Math.abs(n-a)&&(ov("Upload Stalled",{"File Type":this.file.type,"Size (MB)":this.file.size/1e6,"Upload Location":this.analyticsUploadSource}),clearInterval(s))}a=n}),6e4);let o=this.file;const i={};if(t){const e=this.file.size-1;i["Content-Range"]=`bytes ${t}-${e}/${this.file.size}`,o=new File([this.file.slice(t,e+1)],this.file.name,{type:this.file.type})}const r=new XMLHttpRequest;r.open("PUT",this.upload_uri,!0),r.onerror=t=>{clearInterval(s),t&&console.error("upload error",t),this.handleUploadRetry(r.status,e)},r.onabort=()=>{clearInterval(s)},r.onload=async()=>{if(clearInterval(s),200!==r.status)return console.error(`xhr returned status ${r.status}, `,r),void this.handleUploadRetry(r.status,e);if(this.logProgress("Upload Finish Begins"),Array.isArray(this.onFinish)){for(const t of this.onFinish)await this.runInRetryLoop((async()=>await t(r,this.read_uri,this.file,this.layer,{retries:e})),7,"onFinish");this.logProgress("Upload Flow Succeeds")}else this.runInRetryLoop((()=>this.onFinish(r,this.read_uri,this.file,this.layer,{retries:e})),7,"onFinish",(()=>this.logProgress("Upload Flow Succeeds")))},r.upload.onprogress=e=>{const a=(t+e.loaded)/this.file.size;this.onProgress(a,this.file,this.layer),n=a},r.setRequestHeader("Content-Type",o.type),Object.entries(i).forEach((([e,t])=>{r.setRequestHeader(e,t)})),r.send(o),this.xhr=r})),a(this,"runInRetryLoop",(async(e,t,a,n)=>{let s="";for(let i=0;i<t;i+=1)try{return await e(),n&&n(),void(s="")}catch(o){console.error(o),s=o instanceof Error?o:ub(o).message;const e=2**Math.max(i,5)*1e3;await t_(e),console.debug(`Retrying (${i+1}) UploadManager stage ${a}`)}s&&this.logError("string"==typeof s?new Error(s):s,a)})),a(this,"waitForUserToBeOnline",(()=>new Promise((e=>{let t;const a=()=>{e(),clearTimeout(t)};window.addEventListener("online",a,{once:!0}),t=window.setTimeout((()=>{e(),window.removeEventListener("online",a)}),12e5)})))),a(this,"waitForNextUploadRetry",(async e=>{await t_(1e3);let t;if(navigator.onLine){const a=2**e,n=1e3*Math.max(15,Math.min(200,a));t=t_(n),this.otherRetries+=1}else this.logProgress("User is offline, waiting for network to reconnect"),t=this.waitForUserToBeOnline(),this.offlineRetries+=1;this.onRetry(this.layer,{retries:e+1,offlineRetries:this.offlineRetries,otherRetries:this.otherRetries}),await t;const a=5e3*Math.random();await t_(a)})),a(this,"handleUploadRetry",(async(e,t=0)=>{if(t<=1e3)return this.logProgress(`Upload Retry ${t}`),await this.waitForNextUploadRetry(t),void(0===e||503===e?this.resumeUploadToGCS(t+1):this.uploadToGCS({retry:t+1}));const a="An error occurred during upload. Please try again later.",n=new Error(a);this.logError(n,"handleUploadRetry"),this.onError({error:n,message:a,file:this.file,layer:this.layer,errorType:"handleUploadRetry",captureException:!1})})),a(this,"resumeUploadToGCS",(e=>{const{upload_uri:t,read_uri:a}=this,n=new XMLHttpRequest;n.open("PUT",t,!0),n.onload=async t=>{if(308===t.target.status){this.logProgress("Upload Resumes"),console.debug("gcs returned 308, try resuming upload");const t=n.getResponseHeader("Range");if(!t)return console.debug("no range returned, try again"),void this.uploadToGCS({retry:e});const a=parseInt(t.split("-").pop()||"0",10);if(a<0)return console.debug("Last uploaded byte < 0, try again from beginning"),void this.uploadToGCS({retry:e});const s=a+1;console.debug("Resuming upload, starting at byte ",a),this.uploadToGCS({startByte:s,retry:e})}else if(this.logProgress("Resumed Upload Finishes"),Array.isArray(this.onFinish)){for(const t of this.onFinish)await this.runInRetryLoop((async()=>await t(n,a,this.file,this.layer,{retries:e})),7,"onFinish");this.logProgress("Upload Flow Succeeds")}else this.runInRetryLoop((()=>this.onFinish(n,a,this.file,this.layer,{retries:e})),7,"onFinish/resumed",(()=>this.logProgress("Upload Flow Resumes and Succeeds")))},n.onerror=()=>{this.handleUploadRetry(n.status,e)},n.setRequestHeader("Content-Range",`bytes */${this.file.size}`),n.send(),this.xhr=n})),a(this,"cancel",(()=>{const{xhr:e}=this;e&&(e.abort(),this.onCancel())})),this.file=e,this.layer=t,this.bucket=n,this.isPrivate=s,this.onProgress=o,this.onFinish=i,this.onError=r,this.onCancel=d,this.onRetry=c,this.origin=u,this.uploadSourceComponent=p,this.useNameDirectly=m,this.analyticsUploadSource=g}}const n_=(e,t)=>e.filter((e=>e.teamId===t&&e.type===Zl.team&&!e.sharedAt));function s_(e){var t;const{teams:a}=Mu().state,{selectedTeamId:n}=a,s=Um(n);return null==(t=null==s?void 0:s.users)?void 0:t.find((t=>t.userId===e))}const o_=(e,t,a)=>{if(t&&a){const e=T.parse(a);if(!e.error&&e.sld){return`${e.sld.charAt(0).toLocaleUpperCase()+e.sld.toLocaleLowerCase().slice(1)} Team Workspace`}}return e?`${e}'s Team Workspace`:"Untitled Team Workspace"};function i_(e){return!!e&&e===Ad.Admin}const r_=async(e,t)=>{const a=await(e=>new Promise((t=>{new a_({file:e,onFinish:async(e,a)=>{t(a)},onError:()=>t(null),layer:{},useNameDirectly:!0,analyticsUploadSource:"Team creation modal",uploadSourceComponent:"CreateNewTeamModal"}).upload()})))(e);return Xf(`/api/v2/teams/${t}/logo`,{body:{picture:a}})};function l_(e,t,a){const{config:n,currentUser:s,teams:o}=Mu().state,{token:i,user:r}=s||{},{_id:l}=r||{},{selectedTeamId:d}=o;return Xf("/api/v1/invites/teams",{body:{emails:[e],token:i,userId:l,teamId:d,v3CaptchaToken:t,v2CaptchaToken:a,recaptchaKeyV3:n.RECAPTCHA_V3_SITEKEY,recaptchaKeyV2:n.RECAPTCHA_V2_SITEKEY}})}const d_=async e=>{const{dispatch:t}=Mu(),a={teamId:e},n=await Kf("/api/v1/invites/teams",{params:a});return t({type:"SET_ACTIVE_TEAM_INVITES",invites:n.invites}),n};async function c_(e){const{state:t,dispatch:a}=Mu(),n=rg(t),s=null==n?void 0:n.limits;if((null==n?void 0:n._id)===Om._id||!n)return;const o=await Xf(`/api/v2/teams/${n._id}/limits/update`,{body:{updates:e}});a(Sb(n._id,{...n,limits:o})),s&&function(e,t,a,n,s,o){var i,r,l;if(!zw(a))return;const d=Gw(e),c=Yw({limitConsumption:n,teamPlanLimits:d}),u=Yw({limitConsumption:s,teamPlanLimits:d}),p=[Bd.AI_GENERATE,Bd.TRANSCRIBE,Bd.TRANSLATE,Bd.TTS];for(const m of p){const e=u[m];e&&(!(null==(i=c[m])?void 0:i.hasConsumedLimit)&&e.hasConsumedLimit&&t(o?"Enterprise packaging usage out - Team":"Enterprise packaging usage out",{"Usage Category":m,"Usage Used":e.usage,"Usage Left":e.remainingUsage,"Percent of Limit Reached":100*e.usage/e.limitForPlan}),!(null==(r=c[m])?void 0:r.is90PercentConsumed)&&e.is90PercentConsumed&&t(o?"Enterprise packaging limit almost out - Team":"Enterprise packaging limit almost out",{"Usage Category":m,"Usage Used":e.usage,"Usage Left":e.remainingUsage,"Percent of Limit Reached":100*e.usage/e.limitForPlan}),!(null==(l=c[m])?void 0:l.is50PercentConsumed)&&e.is50PercentConsumed&&t(o?"Enterprise packaging usage half out - Team":"Enterprise packaging usage half out",{"Usage Category":m,"Usage Used":e.usage,"Usage Left":e.remainingUsage,"Percent of Limit Reached":100*e.usage/e.limitForPlan}))}}(n,ov,n.planTier,s,o,!1)}const u_=e=>{try{const{user:t}=Mu().state.currentUser,a=s_(t._id);if(!a)return!1;const{role:n}=a;return!!Rc[n].has(e)}catch(t){return console.error(t),!1}};function p_(e,t,a){return`${e} ${1===e||-1===e?t:a||`${t}s`}`}function m_(e){return!(!e||"object"!=typeof e||!("message"in e)||"Payment failed"!==e.message)}const g_={workspacePopoverZIndex:"18",popoverZIndex:"14",paywallZIndex:"1001",paywallBgZIndex:"1000",studioLoader:"SmallLoader-module_studioLoader_exWv-",blueLoader:"SmallLoader-module_blueLoader_rD-xy",workspaceLoader:"SmallLoader-module_workspaceLoader_J8RxV",load8:"SmallLoader-module_load8_EniId"};var h_=(e=>(e.Workspace="workspace",e.Studio="studio",e))(h_||{});const v_=b.memo((({theme:e=h_.Workspace})=>f.jsx("div",{className:g_[`${e}Loader`]}))),f_=(()=>{const e=new E.UAParser;return{browser:e.getBrowser(),device:e.getDevice(),os:e.getOS()}})();function b_(){return"chrome"in window}function y_(){const e=f_.browser.name;return"Chromium"===e||(null==e?void 0:e.startsWith("Chrome"))||!1}function w_(){return"mobile"===f_.device.type}function __(){return"iOS"===f_.os.name}function C_(){var e;return null==(e=f_.browser.name)?void 0:e.includes("Mobile Safari")}function S_(){var e;return null==(e=f_.browser.name)?void 0:e.includes("Safari")}function x_(){var e;return null==(e=f_.browser.name)?void 0:e.includes("Firefox")}function I_(){return["standalone","minimal-ui"].some((e=>window.matchMedia(`(display-mode: ${e})`).matches))}function A_(){return(new E.UAParser).getBrowser()}function k_(){return(new E.UAParser).getDevice().type}const T_={getOS:()=>f_.os,isMac(){var e;return null==(e=f_.os.name)?void 0:e.includes("Mac OS")},isWindows(){var e;return null==(e=f_.os.name)?void 0:e.includes("Windows")},isLinux(){var e;return null==(e=f_.os.name)?void 0:e.includes("Linux")},isChromium(){var e;return null==(e=f_.os.name)?void 0:e.includes("Chromium OS")}},E_=!__()&&!S_(),L_="ModalConfirmButtons-module_disabled_71Yll",j_="ModalConfirmButtons-module_primaryButton_Xwu15",R_="ModalConfirmButtons-module_loading_Tu9Gp",N_="ModalConfirmButtons-module_secondaryAction_R4Ejw",M_="ModalConfirmButtons-module_secondaryActionNoTransparency_X94a6",P_="ModalConfirmButtons-module_innerWrapper_ERaGW",F_="ModalConfirmButtons-module_leftOnMobile_O6-a0",D_="ModalConfirmButtons-module_loadingContainer_9aumF",O_="ModalConfirmButtons-module_loadingMsg_QZA4p",U_=b.memo((({cancelFn:e,confirmFn:t,loadingMsg:a,disabled:n,confirmText:s,cancelText:o,cancelStyle:i,cancelButtonNoTransparency:r,stayRightOnMobile:l,stopClickPropogation:d=!1,confirmButtonClassName:c,cancelButtonClassName:u,confirmTestId:p="workspace-modal-confirm-button",cancelTestId:m="workspace-modal-cancel-button"})=>{const g=e=>{d&&e.stopPropagation(),n||null==t||t()},h=t=>{d&&t.stopPropagation(),null==e||e()};return w_()&&!l?f.jsxs("div",{className:P_,children:[" ",f.jsx("div",{className:`${j_} ${n?L_:""} ${c}`,onClick:g,"data-cy":p,"data-testid":p,children:s||"Confirm"}),e&&f.jsx("div",{onClick:h,className:N_,"data-cy":m,"data-testid":m,children:o||"Never mind"})]}):f.jsxs("div",{className:P_,children:[e&&f.jsx("div",{onClick:h,className:L([N_,{[M_]:r,[F_]:!l},u]),"data-cy":m,"data-testid":m,style:i,children:o||"Never mind"}),f.jsx("div",{className:`${j_} ${n?L_:""} ${l?"":F_} ${c} ${a?R_:""}`,onClick:g,"data-cy":p,"data-testid":p,children:f.jsx("div",{className:D_,children:a?f.jsxs(f.Fragment,{children:[a," ",f.jsx(v_,{marginLeft:10})]}):f.jsx("span",{className:O_,children:s||"Confirm"})})})]})})),B_=()=>document.body,W_="OverlayWrapper-module_noScrollBar_KqIpz",V_="OverlayWrapper-module_overlayBackground_4wi2T",H_="OverlayWrapper-module_overlayContainer_9OkEV",z_="OverlayWrapper-module_noWidth_0KfRz",G_="OverlayWrapper-module_overlayContainerPadding_pNS7c",Y_="OverlayWrapper-module_overlayContainerSmall_ca1tI",K_="OverlayWrapper-module_overlayContainerSmaller_aesiV",X_="OverlayWrapper-module_exit_x9mUx",Z_="OverlayWrapper-module_overlayContent_3KFOV",q_="OverlayWrapper-module_header_E71ps",J_="OverlayWrapper-module_buttonsContainer_EZkNw",$_="OverlayWrapper-module_dark_sSI9o",Q_="OverlayWrapper-module_noPadding_aPZxX",eC="OverlayWrapper-module_noScroll_kz6GD",tC="OverlayWrapper-module_description_TG6Fd",aC={position:"fixed",display:"flex",alignItems:"center",justifyContent:"center"},nC={position:"relative",top:"auto",left:"auto",transform:"none"},sC={position:"absolute"},oC=r.connect((e=>({overlay:e.projectSessionSettings.overlay})),(e=>j({hideOverlay:Ah},e)));let iC=(e=class extends i.Component{constructor(){super(...arguments),a(this,"escFunction",(e=>{const{unsetCancelModal:t}=this.props;"Escape"===e.key&&t&&t()})),a(this,"hide",(()=>{const{unsetCancelModal:e,overlay:t,hideOverlay:a}=this.props;e?e():t&&t.key&&a()})),a(this,"stopPropagation",(e=>{e.stopPropagation()}))}componentDidMount(){document.addEventListener("keydown",this.escFunction,!1)}componentWillUnmount(){document.removeEventListener("keydown",this.escFunction,!1)}getContainerStyle(){return this.props.biggerPadding?G_:this.props.overlayContainerSmall?Y_:this.props.overlayContainerSmaller?K_:H_}get showCloseButton(){const{noCloseButton:e,unsetCancelModal:t,overlay:a}=this.props;return!e&&(t||(null==a?void 0:a.key))}renderContent(){const{afterElement:e,children:t,confirmButtonOptions:a,className:n,dark:s,id:o,onClick:i,style:r,onDrop:l,onDragOver:d,onDragEnter:c,cypressName:u,noScrollBar:p,noPadding:m,noWidth:g,backgroundStyle:h,noScroll:v,contentAsChildOfBackground:b=!1}=this.props,y=f.jsxs("div",{className:`${this.getContainerStyle()} ${s?$_:""} ${n||""} ${p?W_:""} ${g?z_:""}`,style:b?{...r,...nC}:r,onDrop:l,onDragOver:d,onDragEnter:c,onClick:b?this.stopPropagation:void 0,children:[f.jsxs("div",{className:`${Z_}\n        ${m?Q_:""} ${v?eC:""}`,children:[t,a&&f.jsx("div",{className:J_,children:f.jsx(U_,{cancelFn:this.hide,loadingMsg:this.props.loadingMsg,...a})})]}),this.showCloseButton&&f.jsx("div",{className:X_,style:b?sC:void 0,onClick:this.hide,"data-cy":`${u||"overlay"}-close`,"data-testid":`${u||"overlay"}-close`,children:f.jsx(R,{})}),f.jsx("span",{children:e})]});return f.jsxs("div",{id:o,onClick:e=>null==i?void 0:i(e),children:[f.jsx("div",{className:V_,onClick:this.hide,"data-cy":`${u||"overlay"}-background`,onDrop:l,onDragOver:d,onDragEnter:c,style:b?{...h,...aC}:h,children:b?y:null}),b?null:y]})}render(){const{usePortal:e}=this.props;return e?N.createPortal(this.renderContent(),B_()):this.renderContent()}},a(e,"Header",(({children:e})=>f.jsx("div",{className:q_,children:e}))),a(e,"Description",(({children:e})=>f.jsx("div",{className:tC,children:e}))),e);const rC=oC(iC),lC="Disclaimer-module_disclaimer_1vaJT",dC="Disclaimer-module_underlineLink_JEHBz",cC=b.memo((()=>f.jsxs("div",{className:lC,children:["By upgrading, you understand the subscription will auto-renew until cancelled. You agree to Kapwing's"," ",f.jsx("a",{href:"/policies/terms-of-service",target:"_blank",rel:"noopener",className:dC,children:"Terms of Service"})," ","and"," ",f.jsx("a",{href:"/policies/refund",target:"_blank",rel:"noopener",className:dC,children:"Refund Policy"}),". Learn more about our"," ",f.jsx("a",{href:"/pricing",target:"_blank",rel:"noopener",className:dC,children:"pricing here"}),"."]}))),uC="TypeformProvider-module_typeformWidget_0voha",pC=i.createContext({showTypeform:e=>{throw new Error("Attempted to use typeform context without provider")}}),mC={backgroundColor:"transparent",maxWidth:"none",zIndex:9999},gC=b.memo((({children:e})=>{const[t,a]=i.useState(void 0),[n,s]=i.useState((async e=>{})),o=i.useCallback(((e,t)=>{a(e),s((()=>t))}),[]),r=b.useRef(null);i.useEffect((function(){var e;const t=null==(e=r.current)?void 0:e.querySelector("iframe");if(t){const e=()=>{var e;return null==(e=t.contentWindow)?void 0:e.postMessage("embed-focus","*")};return e(),t.addEventListener("load",e),()=>t.removeEventListener("load",e)}}),[t]);const l=i.useCallback((()=>{a(void 0),s((async()=>{}))}),[]),d=i.useCallback((async e=>{const{responseId:t}=e;await n(t)}),[n]),c=i.useMemo((()=>({showTypeform:o})),[o]);return f.jsxs(pC.Provider,{value:c,children:[e,t&&f.jsx(rC,{unsetCancelModal:l,noPadding:!0,noScroll:!0,style:mC,noWidth:!0,children:f.jsx("div",{ref:r,id:"typeform-widget-container",children:f.jsx(M.Widget,{id:t,onSubmit:d,className:uC,inlineOnMobile:!0})})})]})})),hC=()=>{const e=lg(),{showTypeform:t}=(()=>{const{showTypeform:e}=i.useContext(pC);return{showTypeform:e}})(),a=i.useCallback((async t=>{const{surveyCompleted:a}=await Xf(`/api/v2/teams/${e._id}/enterprise-form-response`,{parseJSON:!1,body:{responseId:t,formId:"pwHBPoOI"}});a&&ov("Enterprise form submitted")}),[e._id]);return{openEnterpriseTypeform:i.useCallback((()=>t("pwHBPoOI",a)),[a,t])}};function vC(e){return t=>{const a=P(),n=F(),s=D(),o=i.useMemo((()=>({params:s})),[s]);return f.jsx(e,{...t,navigate:a,location:n,match:o})}}const fC=e=>({mediaCacheId:e,loadMetadataMs:0,seekStallCounts:0,seekStallsMs:0,seeks:0,durationPlayed:0,waitingEvents:0,seekStallsGreaterThan500:0,seekStallsGreaterThan1000:0,seekStallsGreaterThan5000:0,seekStallsGreaterThan10000:0});class bC{constructor(e){this.map=e}getUsage(e){return Km(this.map,e,{insert:()=>fC(e)})}attachEvents(e,t){const a=e=>e.target instanceof HTMLVideoElement?e.target:null;let n;let s=-1,o=-1;const i=e=>{const t=a(e);t&&(s=performance.now(),o=t.playbackRate)},r=e=>{if(s<0||o<0)return;if(!a(e))return;const n=(performance.now()-s)/1e3*o;this.getUsage(t).durationPlayed+=n,s=-1,o=-1},l=performance.now();e.addEventListener("seeking",(()=>{n=performance.now()}),{passive:!0}),e.addEventListener("seeked",(e=>{if(null==n)return;const s=a(e);if(!s)return;const o=performance.now()-n;n=void 0;const i=this.getUsage(t);("native-normal-playback"!==s.dataset.playbackType||!s.src.startsWith("blob:"))&&(i.seekStallCounts+=1,i.seekStallsMs+=o),i.seeks+=1,o>500&&(i.seekStallsGreaterThan500+=1),o>1e3&&(i.seekStallsGreaterThan1000+=1),o>5e3&&(i.seekStallsGreaterThan5000+=1),o>1e4&&(i.seekStallsGreaterThan10000+=1)}),{passive:!0}),e.addEventListener("loadedmetadata",(()=>{this.getUsage(t).loadMetadataMs+=performance.now()-l}),{passive:!0,once:!0}),e.addEventListener("waiting",(()=>{this.getUsage(t).waitingEvents+=1}),{passive:!0}),e.addEventListener("playing",i,{passive:!0}),e.addEventListener("pause",r,{passive:!0}),e.addEventListener("waiting",r,{passive:!0}),e.addEventListener("ratechange",(e=>{r(e),i(e)}),{passive:!0})}getMetrics(){if(0===this.map.size)return null;let e=0,t=0,a=0,n=0,s=0,o=0,i=0,r=0,l=0,d=0;for(const c of this.map.values())e+=c.loadMetadataMs,t+=c.seeks,a+=c.seekStallCounts,n+=c.seekStallsMs,s+=c.seekStallsGreaterThan500,o+=c.seekStallsGreaterThan1000,i+=c.seekStallsGreaterThan5000,r+=c.seekStallsGreaterThan10000,l+=c.durationPlayed,d+=c.waitingEvents;return{"Video seeks":t,"Average Seek stalls (ms)":n/a,"Average metadata loading (ms)":e/this.map.size,"Video duration played":l,"Video waiting events":d,"Seek stalls >500ms":s,"Seek stalls >1000ms":o,"Seek stalls >5000ms":i,"Seek stalls >10000ms":r}}}const yC=new bC(new Map),wC=new bC(new Map);const _C=()=>{var e;if("undefined"!=typeof window)try{const t=Mu().state,{localId:a}=t.studio,n=(()=>{const{state:e}=Mu(),t=!e.studio._id,a={...e.studio,topFontsLoaded:!1},n={...e.workspaces},{activeBrandkit:s,nextLimitReset:o,...i}=e.teams;return{teams:i,workspaces:n,currentUser:{user:e.currentUser.user,token:e.currentUser.token,impersonatingAdminEmail:e.currentUser.impersonatingAdminEmail},currentVideo:e.currentVideo,duration:e.duration,editorPath:e.editorPath,magicSubtitlePresets:e.magicSubtitlePresets,textPresets:e.textPresets,textTemplates:e.textTemplates,studio:t?a:void 0,projectSessionSettings:e.projectSessionSettings,selectedTabs:e.selectedTabs,sessionId:e.sessionId,sessionValues:e.sessionValues,mediaCache:e.mediaCache,scriptChat:e.scriptChat,bRoll:e.bRoll}})();if(a&&Object.keys(n.projectSessionSettings).length>0){const e=`session_${a}`,t={...n.projectSessionSettings};t.offlineOps=Ch.getAllUnackedOps(),Ev.set(e,t),delete n.projectSessionSettings}else n.projectSessionSettings={...n.projectSessionSettings,offlineOps:Ch.getAllUnackedOps()};if(Ev.set("state",function(e){if(!e.studio)return e;delete e.studio.sharedDoc;const t=c.cloneDeep(e.studio.allLayers.byId);for(const a of Object.values(t))delete a.base64_img,delete a.file,delete a.framesAndTimes,delete a.waveformData,delete a.optimizedPreviewFile;return{...e,studio:{...e.studio,allLayers:{...e.studio.allLayers,byId:t}}}}(n)),null==(e=n.studio)?void 0:e.localId){const e=`video_usage_${n.studio.localId}`;Ev.set(e,{records:Object.fromEntries(yC.map.entries()),lastUpdated:Date.now()})}}catch(t){console.error(t)}},CC=m({initialState:{},name:"sessionValues",reducers:{setOnboarding:(e,t)=>{e.onboarding=t.payload},setShowRequestEditModal:(e,t)=>{e.showRequestEditModal=t.payload},setShowRemoveFillerWordsModal:(e,t)=>{e.showRemoveFillerWordsModal=t.payload},setHideTimeline:(e,t)=>{e.hideTimeline=t.payload},setLastUsedResizeValue:(e,t)=>{const{sourceRatio:a,targetRatio:n}=t.payload;e.lastUsedResizeValues||(e.lastUsedResizeValues={}),e.lastUsedResizeValues[a]=n}},extraReducers:e=>e.addCase("SIGN_OUT",(e=>{Hu(e)}))}),{setOnboarding:SC,setShowRequestEditModal:xC,setShowRemoveFillerWordsModal:IC,setHideTimeline:AC}=CC.actions,kC=CC.actions,TC={},EC=function(e,t,a){let n=Promise.resolve();if(t&&t.length>0){const e=document.getElementsByTagName("link"),s=document.querySelector("meta[property=csp-nonce]"),o=(null==s?void 0:s.nonce)||(null==s?void 0:s.getAttribute("nonce"));n=Promise.all(t.map((t=>{if((t=function(e){return"/"+e}(t))in TC)return;TC[t]=!0;const n=t.endsWith(".css"),s=n?'[rel="stylesheet"]':"";if(!!a)for(let a=e.length-1;a>=0;a--){const s=e[a];if(s.href===t&&(!n||"stylesheet"===s.rel))return}else if(document.querySelector(`link[href="${t}"]${s}`))return;const i=document.createElement("link");return i.rel=n?"stylesheet":"modulepreload",n||(i.as="script",i.crossOrigin=""),i.href=t,o&&i.setAttribute("nonce",o),document.head.appendChild(i),n?new Promise(((e,a)=>{i.addEventListener("load",e),i.addEventListener("error",(()=>a(new Error(`Unable to preload CSS for ${t}`))))})):void 0})))}return n.then((()=>e())).catch((e=>{const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}))};function LC(e,t){return e instanceof Error?e:"string"==typeof e?new Error(e):new $v(t,{extra:{error:e}})}function jC(e){return{videoSrc:e.src,videoCurrentTime:e.currentTime,videoDuration:e.duration,videoReadyState:e.readyState,videoNetworkState:e.networkState,videoError:e.error}}function RC(e){if("string"==typeof e)return{errorEventString:e};const t=e.target;return t instanceof HTMLVideoElement?jC(t):{errorEventString:"Error event did not come from video element"}}function NC(e){if("string"==typeof e)return{errorEventString:e};const t=e.target;return t instanceof HTMLImageElement?function(e){return{imageSrc:e.src}}(t):{errorEventString:"Error event did not come from image element"}}function MC(e){return{fileName:e.name,fileType:e.type,fileSize:e.size}}function PC(e){return{blobType:e.type,blobSize:e.size}}const FC={ellipse:"Ellipse",progressBar:"Progress Bar",rectangle:"Rectangle",line:"Line",arrow:"Line",svg:"Shape"},DC=e=>{const{emojiDescription:t,name:a,originalName:n,searchQuery:s,shapeType:o,text:i,type:r,userSetName:l}=e,d=!n&&a?a.replace(/\s*-.*?\.\s*/gi,"."):n;let c="";switch(r){case"persona":case"video":c=l||s||d||"Video";break;case"audio":c=l||s||d||"Audio";break;case"image":c=l||t||s||d||"Image";break;case"text":c=l||i||"Text";break;case"shape":c=l||FC[o??""]||"Shape";break;default:c=l||FC[o??""]||"Placeholder"}return c};class OC extends $v{}async function UC({actionDescription:e,cleanup:t,fallbackValue:a,promise:n,timeoutMs:s,sentryInfo:o}){let i;const r=new Promise((e=>{i=setTimeout((()=>{e({winner:"timeout"})}),s)})),l=new Promise((e=>{n.then((()=>{e({winner:"result"})})).catch((()=>{e({winner:"result"})}))})),{winner:d}=await Promise.race([r,l]);if(t&&t(),"result"===d)return clearTimeout(i),n;if(void 0!==a)return a;throw new OC(`${e} timed out in ${s} ms.`,null==o?void 0:o())}const BC=e=>e?Math.floor(1e3*e+1e-7)/1e3:e,WC=(e,t)=>{if(t<1){const a=1/t;return Math.round(e*a)/a}return Math.round(e/t)*t};function VC(e,t,a){return Math.abs(t-e)<a}const HC=(e,t,a={})=>{if(up(e)){const n=e;if(!a.personaLayerHandling)return void n.id;if("audio"===a.personaLayerHandling)return HC({asset_id:n.audio_asset_id},t);if("video"===a.personaLayerHandling)return HC({asset_id:n.video_asset_id},t)}return e.asset_id?t.assets.byId[e.asset_id]:void 0},zC=(e,t={state:void 0,usePreviewDuration:!0})=>{var a;const n=t.state||Mu().state;if((np(e)||ep(e)||up(e))&&t.usePreviewDuration){const t=HC(e,n,{personaLayerHandling:"audio"}),s=null==(a=null==t?void 0:t.preview)?void 0:a.duration;return GC(e,s,n.studio.duration)}return GC(e,void 0,n.studio.duration)},GC=(e,t,a=0)=>{if(np(e)||ep(e)||up(e)){const a=e.videoDelay||0,n=a+Vu(e,t);return[BC(a),BC(n)]}const n=e.startTime||0,s=e.endTime||e.duration||a;return[BC(n),BC(s)]},YC={"/studio/editor":ql,"/editor/subtitles":"Subtitles Project","/editor/resize":"Resized Project","/editor/add-audio-to-video":"Add Audio Project","/editor/image-to-video":"Image to Video Project","/editor/filters":"Filtered Video Project","/editor/convert":"Converted Video Project","/":ql,"/editor/mute-video":"Muted Video Project","/editor/reverse":"Reversed Video Project","/editor/rotate":"Rotated Video Project","/editor/trimmer":"Trimmed Audio Project","/editor/video-speed":"Changed Speed Project"};class KC extends Error{constructor(e,t){super(e),a(this,"debugMessage"),this.name="ExtractValidationError",this.debugMessage=t}}var XC=(e=>(e[e.LOW=0]="LOW",e[e.MEDIUM=1]="MEDIUM",e[e.HIGH=2]="HIGH",e))(XC||{});const ZC=new class{constructor(){a(this,"activeVideoElements",new Set),a(this,"queue",[]),a(this,"JEST_ONLY_RESET_STATE",(()=>{this.activeVideoElements.clear(),this.queue=[]}))}async withVideoElement(e,{maxQueueWaitTime:t,maxRuntime:a,priority:n,actionDescription:s}){return void 0===t||this.activeVideoElements.size<10?this.executeTask(e,a,s):new Promise(((o,i)=>{const r=window.setTimeout((()=>{const e=this.queue.findIndex((e=>e.timeoutId===r));if(-1!==e){const[t]=this.queue.splice(e,1);if(!t)throw new Error("Item not found in queue");this.executeItem(t)}}),t);this.queue.push({priority:n,task:e,resolve:o,reject:i,queuedAt:Date.now(),maxQueueWaitTime:t,maxRuntime:a,actionDescription:s,timeoutId:r}),this.queue.sort(((e,t)=>t.priority-e.priority))}))}executeItem(e){void 0!==e.timeoutId&&clearTimeout(e.timeoutId),this.executeTask(e.task,e.maxRuntime,e.actionDescription).then(e.resolve).catch(e.reject)}async executeTask(e,t,a){const n=document.createElement("video");this.activeVideoElements.add(n);try{let s=null;const o=new Promise(((e,n)=>{s=setTimeout((()=>{s=null,n(new OC(`${a} exceeded maximum runtime of ${t}ms`,{extra:{numActiveElements:this.activeVideoElements.size},fingerprint:["backgroundVideoPool",a]}))}),t)}));return await Promise.race([e(n).finally((()=>{s&&clearTimeout(s)})),o])}finally{this.activeVideoElements.delete(n),this.processNextQueueItem()}}processNextQueueItem(){if(0===this.queue.length||this.activeVideoElements.size>=10)return;const e=this.queue.shift();e&&this.executeItem(e)}getQueueSize(){return this.queue.length}};function qC(e,t){const{state:a,dispatch:n}=Mu(),{mediaCache:s}=t??a,o="string"==typeof e?e:e._id,i=s.assetIdToMediaCacheId[o];if(i)return i;const r=O.v4();return n(Dp({assetId:o,mediaCacheId:r})),r}function JC(e,t={}){const{bucket:a=Bl}=t;return a===Bl?`${Vl}/${e}`:`https://cdn.kapwing.com/${e}`}const $C=["gif","jpg","jpeg","png","heic","heif","svg+xml","webp","avif"];function QC(e){return $C.map((e=>`image/${e}`)).includes(e)}const eS=["mp4","quicktime","webm","mpeg","ogg","3gpp","avi","x-ms-wmv","x-flv","x-matroska","x-msvideo"];function tS(e,t=null){const a=eS.map((e=>`video/${e}`));return a.push("application/vnd.apple.mpegurl"),a.push("video"),t&&a.push(...t),a.includes(e)}const aS=["aac","m4a","mp3","mp4","mpeg","ogg","wav","webm","x-m4a","x-wav","flac"];function nS(e,t=null){const a=aS.map((e=>`audio/${e}`));return t&&a.push(...t),a.includes(e)}const sS="/assets/waveform-DE-7-sir.png";function oS(e,t,a=Mu().state){if(e.asset_id)return function(e,t,a=Mu().state){var n,s,o,i,r;const l=a.assets.byId[e];if(!l)return;if("waveform"===t)return null==(n=l.waveformInfo)?void 0:n.cdnUrl;if("preview"===t)return(null==(s=l.preview)?void 0:s.hlsVideoUrl)??(null==(o=l.preview)?void 0:o.url);if("thumbnail_sheet"===t)return null==(i=l.thumbnail_sheet)?void 0:i.cdnUrl;if("track"===t)return null==(r=l.track_preview)?void 0:r.url;if("original"===t)return l.url}(e.asset_id,t,a)}function iS(e){if(!e)return;let t=e;return e.includes("X-Goog-Expires=")||(t=e.replace("https://storage.googleapis.com/kapwing/",Vl),t=e.replace("https://storage.googleapis.com/kapwing-useast1",Vl)),t}function rS(e,t){const a=e[t];return"string"!=typeof a?"":iS(a)}const lS=new Set;function dS({asset:e,layerType:t,personaLayerHandling:a,type:n,url:s}){lS.size>5||s&&(lS.has(s)||s.includes(Vl)&&ac(s,0)&&(lS.add(s),l(new Error("getAssetMediaUrl called on asset that needs signing"),{extra:{asset:e,type:n,personaLayerHandling:a,layerType:t,url:s},tags:{type:n}})))}function cS(e){var t,a,n;const s=[];return e.url&&s.push(e.url),(null==(t=e.preview)?void 0:t.url)&&s.push(e.preview.url),(null==(a=e.preview)?void 0:a.hlsVideoUrl)&&s.push(e.preview.hlsVideoUrl),(null==(n=e.track_preview)?void 0:n.url)&&s.push(e.track_preview.url),e.lowerQualityPreviewUrl&&s.push(e.lowerQualityPreviewUrl),e.soundUrl&&s.push(e.soundUrl),!!s.length&&s.some((e=>!!e&&(!!function(e){return e.includes(Vl)&&e.includes("Expires=")}(e)&&ac(e,3e5))))}const uS=(e,t={})=>{var a,n,s,o;const{layerType:i,layerMediaCacheId:r,state:l,personaLayerHandling:d,type:c="preview"}=t,u=l??Mu().state,p=r??(e?function(e,t=Mu().state.mediaCache){const{assetIdToMediaCacheId:a}=t;return a[e._id]}(e):void 0),m=p?u.assets.localAssetInfo[p]:void 0,g="image"===i||(null==e?void 0:e.content_type)&&QC(e.content_type),h="persona"===i&&"video"===d||"video"===i||(null==e?void 0:e.content_type)&&tS(e.content_type);if(h&&(null==e?void 0:e.lowerQualityPreviewUrl)&&("preview"===c&&!(null==(a=null==e?void 0:e.preview)?void 0:a.url)||"track_preview"===c&&!(null==(n=null==e?void 0:e.track_preview)?void 0:n.url)))return e.lowerQualityPreviewUrl;if("track_preview"===c){if(null==m?void 0:m.trackPreviewLocalUrl)return m.trackPreviewLocalUrl;if(null==(s=null==e?void 0:e.track_preview)?void 0:s.url)return e.track_preview.url}if((h||g)&&"preview"===c){if(null==m?void 0:m.preview_local_url)return m.preview_local_url;if(null==(o=null==e?void 0:e.preview)?void 0:o.url)return e.preview.url}return(null==m?void 0:m.local_url)?m.local_url:(null==e?void 0:e.soundUrl)?e.soundUrl:null==e?void 0:e.url},pS=(e,t={})=>{const{type:a="preview",state:n,personaLayerHandling:s}=t,o=((e,t={})=>{const{type:a="preview",state:n,personaLayerHandling:s}=t,o=n??Mu().state,i=Hp(e,{personaLayerHandling:s}),r=e.asset_id?o.assets.byId[e.asset_id]:void 0;if("image"===e.type&&e.isVideoThumbnailImage)return fS({asset:r,idbAsset:null});const l=uS(r,{type:a,layerType:e.type,layerMediaCacheId:i,state:o,personaLayerHandling:s});return dS({asset:r,layerType:e.type,type:a,personaLayerHandling:s,url:l}),l})(e,{type:a,state:n,personaLayerHandling:s});return iS(o)},mS=(e,t)=>{if(!np(e)&&!tp(e))return!0;const a=pS(e,{state:t});return!!a&&!(e=>!(e.includes(Vl)||e.includes("blob:")))(a)},gS=(e,t="preview",a={})=>{const{state:n,personaLayerHandling:s}=a,o=uS(e,{type:t,personaLayerHandling:s,state:n});return dS({asset:e,layerType:void 0,type:t,personaLayerHandling:s,url:o}),iS(o)};function hS(e){const{image_url:t,fullPath:a}=e;let n=t;return n||(n=a),n&&"string"==typeof n||(n="https://cdn-useast1.kapwing.com/video_image-cHDmsyz_G.jpg"),iS(n)}const vS=new WeakMap;function fS({asset:e,framePercentage:t=0,idbAsset:a,timelineLayer:n,state:s}){var o,i,r,l;if(e&&(null==(o=e.content_type)?void 0:o.startsWith("audio")))return sS;if("image"===(null==n?void 0:n.type))return pS(n,{type:"preview",state:s});if((null==(i=null==e?void 0:e.content_type)?void 0:i.startsWith("image"))&&(null==(r=null==e?void 0:e.preview)?void 0:r.url))return e.preview.url;if(e&&e.url&&(null==(l=e.content_type)?void 0:l.startsWith("image"))&&!e.conversion_id)return e.url;if(e&&e.metadata_stage&&e.thumbnails){const a=Math.round(t*(e.thumbnails.length-1)),n=e.thumbnails[a];if(n)return JC(n,{bucket:e.bucket_name})}if(a&&"thumbnail"in a&&a.thumbnail){const e=a.thumbnail;return Km(vS,a,{insert:()=>URL.createObjectURL(e)})}return e&&e.pasted_link_thumbnail?e.pasted_link_thumbnail:void 0}let bS;const yS=()=>{if(null==bS){const e=!!document.createElement("video").canPlayType("application/vnd.apple.mpegurl"),t=U.isSupported();bS={allowed:e||t,native:e,library:t}}return bS},wS=()=>"undefined"!=typeof MediaSource,_S=({isCanvas:e=!1,mediaPipe:t=!1}={})=>!!wS()&&CS({isCanvas:e,mediaPipe:t}),CS=({isCanvas:e,mediaPipe:t})=>{var a;const n=(new E.UAParser).getBrowser();if(!(null==(a=n.name)?void 0:a.includes("Safari")))return!0;if(t)return!1;const s=(()=>{if(null==n.version)return!1;return parseInt(n.version)<16||("16.0"===n.version||"16.2"===n.version)})();return!e||!s};class SS extends $v{constructor(e,t={}){super(e,{level:"warning",...t}),a(this,"name","MseError")}}class xS extends $v{constructor(e,t,n={}){super(t,{level:"warning",...n}),a(this,"name","Mp4FileError"),this.assetId=e}}class IS extends xS{constructor(){super(...arguments),a(this,"name","NotFragmentedMp4Error")}}class AS extends Event{constructor(e,t,a){super("nativeFallback",a),this.reason=e,this.video=t}}function kS(e){return e?{...jC(e.video),streamSource:e.source,hasBeenCleanedUp:e.hasBeenCleanedUp}:{}}const TS=e=>{const t=new AbortController,a=new Set(e);function n(){t.abort(),function(){for(const e of a)e.removeEventListener("abort",n)}()}for(const s of a){if(s.aborted){n();break}s.addEventListener("abort",n)}return t.signal},ES=e=>{const t=new AbortController,a=new Set;function n(e){a.delete(e.currentTarget),0===a.size&&t.abort()}for(const s of e)s.aborted||(a.add(s),s.addEventListener("abort",n));return 0===a.size&&t.abort(),t.signal};function LS(e){if(e.aborted)return e.reason?e.reason:new DOMException("signal is aborted without reason","AbortError")}const jS=e=>e instanceof DOMException&&e.message.toLowerCase().includes("abort");function RS(e){if(e.throwIfAborted)return e.throwIfAborted();if(e.aborted){throw LS(e)}}const NS=(e,t,a)=>{let n=e,s=t;for(;n<=s;){const e=Math.floor((n+s)/2),t=a(e);if(0===t)return{found:!0,index:e};t>0?n=e+1:s=e-1}return{found:!1,index:n}},MS=e=>new Promise((t=>setTimeout(t,e))),PS=()=>{const e={};return e.promise=new Promise(((t,a)=>{e.resolve=t,e.reject=a})),e};function FS({asset:e,error:t,extra:a,fn:n}){console.error(t,e),Math.random()<.1&&l(t,{extra:{asset:e,...a},tags:{fn:n}})}const DS=m({initialState:{idb:!0},name:"assets",reducers:{setIdbIsSupported:(e,t)=>{e.idb=t.payload}}}),{actions:OS}=DS;let US;function BS(){return US}const WS={COMMIT:"53b21b21",IN_GKE:!0,NODE_ENV:"production",REACT_APP_KAPWING_SERVER:"production",SENTRY_ENV:"production",VERSION:"v2025.04.07.3",REACT_CUSTOM_PROFILER:!1,DEPLOY_TARGET:"",USING_SEEDED_DB:!1}.CI?3e4:5e3;function VS(e){console.error(e);const{dispatch:t}=Mu();t(OS.setIdbIsSupported(!1))}if("undefined"!=typeof window){const e=15;!async function(){US=UC({actionDescription:"Open IDB",timeoutMs:WS,promise:(async()=>{try{await B();const e=await W("kapwing",7,{upgrade(e,t){if(t<=0&&e.createObjectStore("assets",{keyPath:"pathname"}),t<=1&&(e.objectStoreNames.contains("assets")&&e.deleteObjectStore("assets"),e.createObjectStore("assets",{keyPath:"mediaLibraryID"}),e.createObjectStore("pendingConversions",{keyPath:"mediaLibraryID"}),e.createObjectStore("pendingUploads",{keyPath:"mediaLibraryID"})),t<=2&&e.createObjectStore("thumbnails",{autoIncrement:!0}).createIndex("mediaLibraryID+frameTime",["mediaLibraryID","frameTime"]),t<=3&&e.createObjectStore("pendingDownloads",{keyPath:"mediaLibraryID"}),t<=4&&e.objectStoreNames.contains("pendingUploads")&&e.deleteObjectStore("pendingUploads"),t<=5&&e.objectStoreNames.contains("pendingDownloads")&&e.deleteObjectStore("pendingDownloads"),t<=6){e.createObjectStore("mp4Headers",{keyPath:"mediaCacheId"});const t=e.createObjectStore("mp4Segments",{autoIncrement:!0});t.createIndex("assetId+idx",["assetId","idx"]),t.createIndex("mediaCacheId","mediaCacheId")}},async blocked(){await V("kapwing")},async blocking(){await V("kapwing")}});if(function(e){try{const t=17132094e5,a=Ev.get("mseClearDate",{disabled:1/0});if(null!=a&&a>t)return;Ev.set("mseClearDate",Date.now()),e.clear("mp4Headers"),e.clear("mp4Segments")}catch{}}(e),Pu.clearDbOnLoad)for(const t of e.objectStoreNames)console.debug("Clearing ",t),e.clear(t);return Mu().dispatch(OS.setIdbIsSupported(!0)),e}catch(e){throw e instanceof Error&&"InvalidStateError"===e.name&&"string"==typeof e.message&&e.message.includes("A mutation operation was attempted on a database that did not allow mutations")&&(e.__SKIP_SENTRY=!0),e}})(),sentryInfo:()=>({level:"warning"})}),US.catch(VS)}(),setInterval((async function(){}),6e4*e)}async function HS(e){try{(await BS()).add("mp4Headers",e)}catch(t){FS({error:t,extra:{mediaCacheId:e.mediaCacheId,assetId:e.assetId},fn:"setIdbParsedMp4Headers"})}}function zS(e){return e.type===Nc.Audio}function GS(e){return e.type===Nc.Image}function YS(e){return e.type===Nc.Video}var KS=(e=>(e[e.unstarted=0]="unstarted",e[e.errored=1]="errored",e[e.inProgress=2]="inProgress",e[e.onGCSUploadFinish=3]="onGCSUploadFinish",e[e.createAsset=4]="createAsset",e[e.assetCreated=5]="assetCreated",e[e.runConversion=6]="runConversion",e[e.addPendingConversion=7]="addPendingConversion",e[e.updateCompletedUploadInIDB=8]="updateCompletedUploadInIDB",e[e.handleFinish=9]="handleFinish",e[e.done=10]="done",e))(KS||{}),XS=(e=>(e.trim="trim",e.smartCut="smart_cut",e.sceneSplit="scene_split",e.broll="broll",e))(XS||{}),ZS=(e=>(e.SETTINGS="settings",e.HISTORY="history",e))(ZS||{}),qS=(e=>(e.Command="command",e.Shift="shift",e.Control="control",e.Option="option",e.Alt="alt",e))(qS||{}),JS=(e=>(e.File="file",e.Link="link",e))(JS||{}),$S=(e=>(e.CML_FILE="CML_FILE",e.SIDEBAR_IMAGE="SIDEBAR_IMAGE",e.SIDEBAR_VIDEO="SIDEBAR_VIDEO",e.TRANSITION_TILE="TRANSITION_TILE",e.UPLOADING_LAYER="UPLOADING_LAYER",e.MAGIC_SUBTITLE_PRESET="MAGIC_SUBTITLE_PRESET",e.TEXT_PRESET="TEXT_PRESET",e.TEXT_TEMPLATE="TEXT_TEMPLATE",e))($S||{}),QS=(e=>(e.BROWSER_WARN="BROWSER_WARN",e))(QS||{}),ex=(e=>(e.EyedropperMode="eyedropperMode",e.ImageExport="imageExport",e.Thumbnail="thumbnail",e.RepurposeBlueprint="repurposeBlueprint",e.YouTubeThumbnail="youtubeThumbnail",e.None="none",e))(ex||{}),tx=(e=>(e.DELETED="DELETED",e.INCLUDED="INCLUDED",e.MIXED="MIXED",e))(tx||{});let ax={};let nx={};let sx={};function ox(){const e={...nx};for(const[a,n]of Object.entries(sx))e[a]?e[a]+=n:e[a]=n;const t=Object.values(e).reduce(((e,t)=>e+t),0);return{lastUsed:ax,assetSizes:e,totalAssetSize:t,segmentSizes:sx}}async function ix(e){const t=Ev.get("asset_last_used",{disabled:null});t&&"object"==typeof t&&(ax=t);const a=Ev.get("asset_sizes",{disabled:null});a&&"object"==typeof a&&(nx=a);const n=Ev.get("asset_segment_sizes",{disabled:null});n&&"object"==typeof n&&(sx=n),Object.keys(nx).forEach((t=>{e.has(t)||delete nx[t]})),Object.keys(ax).forEach((t=>{e.has(t)||delete ax[t]})),Object.keys(sx).forEach((t=>{e.has(t)||delete sx[t]})),e.forEach((e=>{nx[e]=nx[e]||0})),Ev.set("asset_sizes",nx)}function rx(e){const t=Date.now();for(const a of e)ax[a]=t;Ev.set("asset_last_used",ax)}function lx(e,t){const a=t?function(e){try{return YS(e)?function(e){var t,a,n,s;return((null==(t=e.file_v2)?void 0:t.file.size)||0)+((null==(a=e.optimizedPreviewFile_v2)?void 0:a.file.size)||0)+((null==(n=e.waveformData_v6)?void 0:n.file.size)||0)+((null==(s=e.thumbnail)?void 0:s.size)||0)}(e):zS(e)?function(e){var t,a;return((null==(t=e.file)?void 0:t.size)||0)+((null==(a=e.waveformData_v6)?void 0:a.file.size)||0)}(e):GS(e)?function(e){var t,a,n;return((null==(t=e.file_v2)?void 0:t.file.size)||0)+((null==(a=e.optimizedPreviewFile_v2)?void 0:a.file.size)||0)+((null==(n=e.trackOptimizedPreviewFile_v2)?void 0:n.file.size)||0)}(e):0}catch(t){return console.error(t),l(t),0}}(t):0;a?nx[e]=a:delete nx[e],Ev.set("asset_sizes",nx)}"undefined"!=typeof window&&(window.getMediaCache=()=>({assetSizes:nx,lastUsed:ax}));const dx=c.throttle(Ev.set.bind(Ev),100,{leading:!1,trailing:!0});const cx=e=>({size:e.getUint32(0),type:String.fromCharCode(e.getUint8(4),e.getUint8(5),e.getUint8(6),e.getUint8(7))});class ux extends Error{constructor(e,t){super(t),a(this,"name","FetchError"),a(this,"status"),a(this,"statusText"),this.response=e,this.status=e.status,this.statusText=e.statusText}}class px extends ux{}async function*mx(e){if(!e.body||!e.ok)throw new ux(e);const t=e.body.getReader();for(;;){const e=await t.read();if(e.done)return;yield e.value}}class gx{constructor(e,t=0){a(this,"currentStream"),this._stream=e,this.byteOffset=t}[Symbol.asyncIterator](){return this}[Symbol.asyncDispose](){var e,t;return null==(t=(e=this._stream)[Symbol.asyncDispose])?void 0:t.call(e)}async getStream(){if(null==this.currentStream||0===this.currentStream.length){const e=await this._stream.next();if(e.done)return;this.currentStream=e.value}return this.currentStream}async consumeAtMost(e){const t=await this.getStream();if(null==t)return;if(null!=e&&t.length>e){const a=t.subarray(0,e);return this.currentStream=t.subarray(e),this.byteOffset+=a.length,a}const a=t;return this.currentStream=void 0,this.byteOffset+=a.length,a}async peakExactly(e){const t=await this.getStream();if(null==t)return;if(t.length>=e)return t.subarray(0,e);const a=[t];let n=t.length;for(;n<e;){this.currentStream=void 0;const e=await this.getStream();if(null==e)break;n+=e.length,a.push(e)}const s=new Uint8Array(n);let o=0;for(const i of a)s.set(i,o),o+=i.length;return this.currentStream=s,s.subarray(0,e)}async nextAtMost(e){const t=await this.consumeAtMost(e);return null==t?{done:!0,value:void 0}:{done:!1,value:t}}async nextExactly(e){const t=await this.consumeAtMost(e);if(null==t)return{done:!0,value:void 0};const a=new Uint8Array(e);a.set(t,0);let n=t.length;for(;n<e;){const t=await this.consumeAtMost(e-n);if(null==t)throw new Error("Not enough bytes");a.set(t,n),n+=t.length}return{done:!1,value:a}}async next(e){return this.nextAtMost(void 0)}return(...e){return this._stream.return(...e)}throw(e){return this._stream.throw(e)}}async function hx(e){const t=await e.peakExactly(8);if(!(null==t||t.length<8))return cx(new DataView(t.buffer,t.byteOffset,t.length))}class vx{constructor(e,t){a(this,"queue",[]),a(this,"aborted",!1),a(this,"signal"),this.url=e,this.signal=ES(t)}addSignal(e){e.aborted||(this.signal=ES([this.signal,e]))}enqueue(e){const t=PS();return this.queue.push({element:e,resolvers:t}),t.promise}async fetch(e={}){const t=this.queue.splice(0,this.queue.length),a=(e=>{var t;if(0===e.length)return[];const a=[...e].sort(((e,t)=>e.element.startByte-t.element.startByte));let n=a[0];const s=[[n]],o=[];for(const r of a.slice(1))n.element.endByte+1e4>r.element.startByte?null==(t=s[s.length-1])||t.push(r):s.push([r]),n=r;const i=e=>(e.sort(((e,t)=>e.element.startByte-t.element.startByte)),{elements:e,all:{startByte:e[0].element.startByte,endByte:e[e.length-1].element.endByte,priority:e.reduce(((e,t)=>Math.min(e,t.element.priority)),1/0)}});for(let r=0;r<s.length;r++){const e=s[r],t=e.findIndex((e=>e.element.priority<=0));if(t<0)continue;const a=e[t].element,n=1e5,l=2e5;let d=t,c=t;const u=e.length-1;for(;d>0;){const t=e[d];if(a.startByte-t.element.startByte>n)break;d-=1}for(;c<u&&!(e[c].element.endByte-a.endByte>l);)c+=1;const p=[...e],m=p.splice(0,d),g=p.splice(0,c-d+1),h=p;s.splice(r,1),m.length&&h.length?s.splice(r,0,m,h):m.length?s.splice(r,0,m):h.length&&s.splice(r,0,h),r-=1,o.push(i(g));break}for(const r of s)for(;r.length;){const e=r[0].element.startByte;let t=1;for(;t<r.length&&!(r[t].element.endByte-e>3e5);)t+=1;const a=r.splice(0,t);o.push(i(a))}return o})(t);try{a.sort(((e,t)=>e.all.priority-t.all.priority));for(const t of a){RS(this.signal);const a={...e,signal:this.signal},n=`bytes=${t.all.startByte}-${t.all.endByte}`;a.headers?a.headers instanceof Headers?a.headers.set("Range",n):Array.isArray(a.headers)?a.headers.push(["Range",n]):a.headers.Range=n:a.headers={Range:n};const s=await fetch(this.url,a);if(206!==s.status&&304!==s.status)throw new px(s,`Expected range response, got ${s.status}`);const o=new gx(mx(s));let i=0;const r=t.all.startByte,l=t.elements;for(const e of l){const t=e.element.startByte-r-i;t>0&&(await o.nextExactly(t),i+=t,RS(this.signal));const a=e.element.endByte-r-i+1,n=await o.nextExactly(a);if(n.done)throw new ux(s,"Unexpected end of stream");e.resolvers.resolve(n.value),i+=a,RS(this.signal)}}}catch(b9e){if(jS(b9e))return}finally{if(this.aborted){const e=LS(this.signal);for(const a of t)a.resolvers.reject(e)}}}}const fx=(e,t)=>{if(c.uniqBy(t,(e=>e.firstOffset+e.offset+e.size)).length>1)throw new xS(e,"Fragmented mp4 file has multiple distinct sidx atoms");if(0===t.length||0===t[0].references.length)throw new IS(e,"MP4 file does not have an sidx");const a=t[0];if(null==a)throw new IS(e,"No sidx atoms to parse\nIs this file fragmented?");const{timescale:n}=a;let s=a.earliestPresentationTime,o=a.firstOffset+a.offset+a.size;if(0===n)throw new xS(e,"Invalid timescale");const i=a.references.map(((t,a)=>{if(0!==t.referenceType)throw new xS(e,"Unsupported SIDX format");const i=s/n,r=(s+t.subsegmentDuration)/n,l=o,d=o+t.referencedSize-1,c={idx:a,assetId:e,startTime:i,endTime:r,duration:t.subsegmentDuration/n,size:t.referencedSize,byteRange:[l,d]};return s+=t.subsegmentDuration,o+=t.referencedSize,c})),r=e=>((e,t)=>{const a=NS(0,e.length-1,(a=>t(e[a],a,e)));return{found:a.found,index:a.index,element:a.found?e[a.index]:void 0}})(i,(t=>t.startTime<=e&&e<=t.endTime?0:t.endTime<=e?1:-1));return{segmentList:i,queryInterval:(e,t)=>{const a=r(e),n=r(t);return i.slice(a.index,n.index+1)}}};async function bx(e,t,a){let n,s,o=0;const i=[],r=new gx(async function*({url:e,signal:t,headers:a={}},n=1e5){let s,o=0,i=n;const r=new AbortController,l=t?TS([t,r.signal]):r.signal;try{for(;;){RS(t);const r=await fetch(e,{signal:l,headers:{...a,Range:`bytes=${o}-${i}`}});if(null==s){const e=r.headers.get("Content-Range"),t=null==e?void 0:e.match(/^bytes \d+-\d+\/(\d+)$/);null!=t&&(s=Number(t[1]))}for await(const e of mx(r))RS(t),yield e;if(o+=n+1,i=o+n,null!=s&&s<o)return}}finally{r.abort()}}({url:e,signal:t}));for await(const l of async function*(e){try{for(;;){const t=await hx(e);if(null==t)return;const a=await e.nextExactly(t.size);if(a.done||a.value.length<t.size)return;yield a.value}}finally{e.return()}}(r)){const e=cx(new DataView(l.buffer,l.byteOffset,l.byteLength));if(null==n&&"ftyp"!==e.type)throw new xS(a,"Mp4 file doesn't contain ftyp. Is this actually an mp4 file?");switch(e.type){case"ftyp":n=l;break;case"moov":s=new Uint8Array(n.length+l.length),s.set(n,0),s.set(l,n.length);break;case"sidx":i.push({offset:o,bytes:l})}o+=l.length;const t=await hx(r);if(null==t||"moof"===t.type||"mdat"===t.type||i.length)break;if("moov"===t.type&&t.size>5e3)break}if(r.return(),null==s)throw new IS(a,"Could not parse the initialization segment");if(0===i.length)throw new IS(a,"Could not parse any sidx atoms");return{initSegment:s,sidxAtoms:i}}const yx=async e=>{const t=await async function(e){try{return await(await BS()).get("mp4Headers",e)}catch(t){throw FS({error:t,fn:"getIdbParsedMp4Headers"}),t}}(e.mediaLibraryId);if(null!=t){if(t.assetId===e.assetId){if(t.fragmented&&t.headers)return t.headers;throw new IS(e.mediaLibraryId,"IndexDB file is not fragmented")}!async function(e){try{(await BS()).delete("mp4Headers",e)}catch(t){throw FS({error:t,fn:"deleteIdbParsedMp4Headers"}),t}}(e.mediaLibraryId)}try{const{initSegment:t,sidxAtoms:a}=await bx(e.url,e.signal,e.assetId);return HS({mediaCacheId:e.mediaLibraryId,assetId:e.assetId,fragmented:!0,headers:{initSegment:t,sidx:a}}),{assetId:e.assetId,initSegment:t,sidx:a}}catch(b9e){throw HS({mediaCacheId:e.mediaLibraryId,assetId:e.assetId,fragmented:!1}),LC(b9e,"Element Pool downloadMp4Headers error")}},wx=new Map,_x=async e=>{const t=await Km(wx,e.assetId,{async insert(){try{return await yx(e)}finally{wx.delete(e.assetId)}}}),a=t.sidx.map((e=>{const t=H.inspect(e.bytes)[0];return t.offset=e.offset,t})),n=fx(e.assetId,a),s=(o=a,Math.max(...o.map((e=>e.references.reduce(((e,t)=>e+t.subsegmentDuration),0)/e.timescale))));var o;const i=z.tracks(t.initSegment).filter((e=>"video"===e.type||"audio"===e.type));return{mimeType:`${i.some((e=>"video"===e.type))?"video":"audio"}/mp4; codecs="${i.map((e=>e.codec)).join(",")}";`,initializationSegment:t.initSegment,mp4Segments:n,duration:s}},Cx=e=>new Promise((t=>e.addEventListener("updateend",t,{once:!0}))),Sx=new Map;async function xx(e,t,a,n,s){let o=0;const i=PS(),r=()=>{o+=1,o>=n.length&&i.resolve()},l=new vx(t,[s]),d=n.sort(((e,t)=>e.priority-t.priority)).map((({segment:t,priority:a})=>{const n=`${t.assetId}_${t.idx}`;return Km(Sx,n,{insert:()=>({multiFetch:l,buffer:(async()=>{try{const s=await async function(e,t){var a;try{return null==(a=await(await BS()).getFromIndex("mp4Segments","assetId+idx",[e,t]))?void 0:a.segment}catch(n){throw FS({error:n,fn:"getIdbFileSegmentData"}),n}}(t.assetId,t.idx);if(null!=s)return r(),s;const o=l.enqueue({startByte:t.byteRange[0],endByte:t.byteRange[1],priority:a});return o.then((a=>{var n,s;n=e,s=t.size,sx[n]?sx[n]+=s:sx[n]=s,dx("asset_segment_sizes",sx),async function(e,t,a,n){try{await(await BS()).add("mp4Segments",{mediaCacheId:e,assetId:t,idx:a,segment:n})}catch(s){FS({error:s,extra:{mediaCacheId:e,assetId:t,idx:a},fn:"setIdbFileSegmentData"})}}(e,t.assetId,t.idx,a)})),r(),await o}finally{Sx.delete(n)}})()}),update(e){var t;return null==(t=e.multiFetch)||t.addSignal(s),r(),e}})}));await i.promise,l.fetch(),RS(s);for(const{buffer:c}of d){RS(s);const e=await c;if(e){for(;a.updating;)await Cx(a),RS(s);RS(s),a.appendBuffer(e)}}}class Ix{constructor(e,t,n,s){a(this,"controller"),this.mediaLibraryId=e,this.url=t,this.signal=n,this.buffer=s}isSegmentLoaded(e){return NS(0,this.buffer.buffered.length-1,(t=>{const a=this.buffer.buffered.start(t),n=this.buffer.buffered.end(t);return e.startTime>=a&&e.endTime<=n?0:n<=e.startTime?1:-1})).found}async enqueue(e,t){const a=this.controller;(t||null==this.controller)&&(this.controller=new AbortController);const n=this.controller,s=TS([this.signal,n.signal]);try{const n=e.filter((e=>!this.isSegmentLoaded(e.segment))),o=xx(this.mediaLibraryId,this.url,this.buffer,n,s);t&&(null==a||a.abort()),await o}catch(b9e){if(jS(b9e))return;throw LC(b9e,"Element Pool SegmentQueue error")}}}const Ax=new class{constructor(e){a(this,"queue",[]),a(this,"currentCalls",0),this.concurrentCalls=e}enqueue(e){this.queue.push(e),this.currentCalls<this.concurrentCalls&&(this.currentCalls+=1,this.loop().finally((()=>{this.currentCalls-=1})))}async loop(){for(;this.queue.length;){const t=this.queue.shift();if(null==t)return;try{await t()}catch(e){jS(e)||console.error(t,"failed")}}}}(5),kx=new Map;class Tx{constructor(e){a(this,"backwardBufferTime"),a(this,"forwardBufferTime"),a(this,"mediaLibraryId"),a(this,"assetId"),a(this,"video"),a(this,"controller"),a(this,"target",new EventTarget),a(this,"mp4State"),a(this,"url"),a(this,"pausedBuffer"),a(this,"forceBufferId",0),a(this,"lastEnqueuedTime",0),a(this,"lastEnqueuedCurrentTime",0),a(this,"destroyed",!1),this.mediaLibraryId=e.mediaLibraryId,this.assetId=e.assetId,this.video=e.video,this.controller=new AbortController,this.url=e.url,this.backwardBufferTime=e.backwardBufferTime,this.forwardBufferTime=e.forwardBufferTime,this.pausedBuffer=e.pausedBuffer,e.signal.addEventListener("abort",(()=>{this.controller.abort()})),e.signal.aborted&&this.controller.abort(),this.error=this.error.bind(this),this.cleanup=this.cleanup.bind(this),this.listen=this.listen.bind(this),this.forceBufferCurrentTime=this.forceBufferCurrentTime.bind(this),this.bufferCurrentTime=this.bufferCurrentTime.bind(this),this.getMp4State=this.getMp4State.bind(this),this.listen(),Ax.enqueue(this.getMp4State)}updateUrl(e){this.destroyed?this.video.src=e:(this.url=e,this.mp4State&&this.mp4State.then((({queue:e})=>{e.url=this.url})))}async getMp4State(){return this.mp4State||(this.mp4State=(async()=>{const e=await _x({mediaLibraryId:this.mediaLibraryId,assetId:this.assetId,signal:this.controller.signal,url:this.url});if(RS(this.controller.signal),!MediaSource.isTypeSupported(e.mimeType))throw console.error("Type not supported!"),new xS(this.assetId,"Type not supported!",{extra:{mimeType:e.mimeType}});const t=new MediaSource,a=URL.createObjectURL(t);this.video.src=a,await new Promise((e=>{t.addEventListener("sourceopen",e,{once:!0})})),RS(this.controller.signal),t.duration=e.duration;const n=t.addSourceBuffer(e.mimeType);return t.addEventListener("sourceclose",this.error),n.addEventListener("error",this.error),n.appendBuffer(e.initializationSegment),{headers:e,mediaSource:t,mediaSourceLink:a,sourceBuffer:n,queue:new Ix(this.mediaLibraryId,this.url,this.controller.signal,n)}})().catch((e=>{this.target.dispatchEvent(new AS(e,this.video));const t=new $v(`MSE init error: ${String(e)}`,{cause:e instanceof Error?e:void 0,fingerprint:"mse-init-error",level:"warning"});throw l(t),this.controller.abort(),t}))),this.mp4State}getNodesToBuffer(e,t,a=0,n){let s=n;null==s&&(s=this.video.paused&&this.pausedBuffer?[this.pausedBuffer,this.pausedBuffer]:[this.backwardBufferTime,this.forwardBufferTime]);const[o,i]=s,r=e.queryInterval(t-o,t+i).map((e=>{let n;return n=e.startTime<=t&&t<=e.endTime?-1:e.endTime<=t?t-e.endTime:e.startTime-t,{segment:e,priority:n+a}}));return 0===r.length?(Km(kx,this.assetId,{insert:()=>{l(new Error("can't find a node for this time? this should never happen"),{extra:{time:t,url:this.url,assetId:this.assetId,mediaLibraryId:this.mediaLibraryId}})}}),[]):r.sort(((e,t)=>e.priority-t.priority))}async prebuffer(e){const{headers:t,queue:a}=await this.getMp4State();if(this.controller.signal.aborted)return;const n=this.getNodesToBuffer(t.mp4Segments,e,5);a.enqueue(n)}shouldEnqueue(){const e=performance.now()-this.lastEnqueuedTime;return Math.max(200-e,0)}async forceBufferCurrentTime(){this.forceBufferId=(this.forceBufferId+1)%1024;const e=this.forceBufferId,{headers:t,queue:a}=await this.getMp4State();if(this.controller.signal.aborted||this.forceBufferId!==e)return;const n=this.shouldEnqueue();if(n>0&&(await MS(n),this.controller.signal.aborted||this.forceBufferId!==e))return;this.lastEnqueuedTime=performance.now(),this.lastEnqueuedCurrentTime=this.video.currentTime;const s=this.getNodesToBuffer(t.mp4Segments,this.video.currentTime,0,[1,1]);if(a.enqueue(s,!0),await MS(250),this.controller.signal.aborted||this.forceBufferId!==e)return;const o=this.getNodesToBuffer(t.mp4Segments,this.video.currentTime);a.enqueue(o)}async bufferCurrentTime(){if(Math.abs(this.video.currentTime-this.lastEnqueuedCurrentTime)<3)return;this.lastEnqueuedTime=performance.now(),this.lastEnqueuedCurrentTime=this.video.currentTime;const{headers:e,queue:t}=await this.getMp4State();if(this.controller.signal.aborted)return;const a=this.getNodesToBuffer(e.mp4Segments,this.video.currentTime);t.enqueue(a)}listen(){this.video.addEventListener("timeupdate",this.bufferCurrentTime),this.video.addEventListener("playing",this.forceBufferCurrentTime),this.video.addEventListener("error",this.error),this.controller.signal.addEventListener("abort",this.cleanup);const e=Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype,"currentTime");Object.defineProperty(this.video,"currentTime",{...e,set:t=>{var a;null==(a=null==e?void 0:e.set)||a.call(this.video,t),this.forceBufferCurrentTime()}})}error(e){if(this.video.dataset.mseError="true",e instanceof Event&&!(e.target instanceof HTMLMediaElement)){const t=String(e.target);l(new SS(`Unexpected error from "${t}"`,{fingerprint:["mse-error-catch",t]}))}this.cleanup()}cleanup(){if(this.destroyed)return;this.destroyed=!0,delete Ex[this.mediaLibraryId],this.controller.abort(),this.video.removeEventListener("timeupdate",this.bufferCurrentTime),this.video.removeEventListener("playing",this.bufferCurrentTime),this.video.removeEventListener("error",this.error),this.controller.signal.removeEventListener("abort",this.cleanup),this.controller.abort();const e=Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype,"currentTime");e&&Object.defineProperty(this.video,"currentTime",e),this.mp4State&&this.mp4State.then((({mediaSource:e,mediaSourceLink:t,sourceBuffer:a})=>{e.removeEventListener("sourceclose",this.error),a.removeEventListener("error",this.error),URL.revokeObjectURL(t);for(const n of e.activeSourceBuffers)e.removeSourceBuffer(n)}),(()=>{})),delete this.video.dataset.mse,delete this.video.dataset.mediaId,this.video.src=this.url,this.video.load()}}const Ex={};function Lx(e,t){var a,n,s;return e&&"preview"===t?{previewAssetId:null==(a=e.preview)?void 0:a._id,hls:null==(n=e.preview)?void 0:n.hls,fragmented:null==(s=e.preview)?void 0:s.fragmented}:{previewAssetId:void 0,hls:!1,fragmented:!1}}function jx({layer:e,personaLayerHandling:t,state:a}){if(e.asset_id){const t=a.assets.byId[e.asset_id];if(t)return qC(t,a)}return Hp(e,{mediaCacheState:a.mediaCache,personaLayerHandling:t})||void 0}function Rx({layer:e,personaLayerHandling:t,state:a,type:n}){if(e.asset_id){const s=a.assets.byId[e.asset_id];if(s)return gS(s,n,{state:a,personaLayerHandling:t})}return pS(e,{type:n,state:a,personaLayerHandling:t})}const Nx=Gu(((e,t)=>e.assets.byId[t]),((e,t)=>qC(t,e)),((e,t,{personaLayerHandling:a,type:n="preview"})=>{const s=e.assets.byId[t];if(s)return gS(s,n,{state:e,personaLayerHandling:a})}),((e,t,{isCanvas:a})=>a),((e,t,{isMediapipe:a})=>a),((e,t,{type:a})=>a),((e,t,a,n,s,o="preview")=>({...Lx(e,o),mediaCacheId:t,url:a,isCanvas:n,isMediapipe:s}))),Mx=Gu(((e,t)=>{const a=e.studio.allLayers.byId[t];if(a&&a.asset_id)return e.assets.byId[a.asset_id]}),((e,t,{personaLayerHandling:a})=>{const n=e.studio.allLayers.byId[t];if(n)return jx({layer:n,personaLayerHandling:a,state:e})}),((e,t,{personaLayerHandling:a,type:n="preview"})=>{const s=e.studio.allLayers.byId[t];if(s)return Rx({layer:s,personaLayerHandling:a,state:e,type:n})}),((e,t,{isCanvas:a})=>a),((e,t,{isMediapipe:a})=>a),((e,t,{type:a})=>a),((e,t,a,n,s,o="preview")=>({...Lx(e,o),mediaCacheId:t,url:a,isCanvas:n,isMediapipe:s}))),Px=Gu(((e,t)=>t),((e,t)=>qC(t,e)),((e,t,{personaLayerHandling:a,type:n})=>gS(t,n,{state:e,personaLayerHandling:a})),((e,t,{isCanvas:a})=>a),((e,t,{isMediapipe:a})=>a),((e,t,{type:a})=>a),((e,t,a,n,s,o="preview")=>({...Lx(e,o),mediaCacheId:t,url:a,isCanvas:n,isMediapipe:s}))),Fx=Gu(((e,t)=>{if(t.asset_id)return e.assets.byId[t.asset_id]}),((e,t,{personaLayerHandling:a})=>jx({layer:t,personaLayerHandling:a,state:e})),((e,t,{personaLayerHandling:a,type:n="preview"})=>Rx({layer:t,personaLayerHandling:a,state:e,type:n})),((e,t,{isCanvas:a})=>a),((e,t,{isMediapipe:a})=>a),((e,t,{type:a})=>a),((e,t,a,n,s,o="preview")=>({...Lx(e,o),mediaCacheId:t,url:a,isCanvas:n,isMediapipe:s}))),Dx=(e,t={})=>{const[a,n]=i.useState(null),s=Du((a=>e?Nx(a,e,t):null));return i.useEffect((()=>{if(s&&a){const e=new AbortController;return new Bx(a,s,void 0,e.signal).start(),()=>e.abort()}}),[a,s]),{videoRef:a,setVideoRef:n,streamSource:s}},Ox=(e,t={})=>{const[a,n]=i.useState(null),s=Du((a=>e?Px(a,e,t):null));return i.useEffect((()=>{if(s&&a){const e=new AbortController;return new Bx(a,s,void 0,e.signal).start(),()=>e.abort()}}),[a,s]),{videoRef:a,setVideoRef:n,streamSource:s}},Ux=e=>`/api/v2/m3u8/generate/${e}.m3u8`;class Bx{constructor(e,t,n={},s){var o;a(this,"previewAssetId"),a(this,"hls"),a(this,"hlsSrc"),a(this,"stream"),a(this,"abortController"),a(this,"streamSettings"),a(this,"playbackType"),a(this,"hasBeenCleanedUp",!1),a(this,"updateSrcController"),a(this,"updateSrcCounter",0),a(this,"_waitForVideoToBeReadyToBeDrawnOnCanvas",this.updateSrcCounter),this.video=e,this.source=t,this.parentSignal=s,this.previewAssetId=t.previewAssetId,this.streamSettings={bufferWhilePaused:n.bufferWhilePaused??15,backwardBufferTime:n.backwardBufferTime??15,forwardBufferTime:n.forwardBufferTime??15},this.cleanup=this.cleanup.bind(this),null==(o=this.parentSignal)||o.addEventListener("abort",this.cleanup),this.start()}static fromAssetId({assetId:e,streamOptions:t={},video:a,abortSignal:n}){return new Bx(a,Nx(Mu().state,e,t),t,n)}static fromLayerId({layerId:e,streamOptions:t={},video:a,abortSignal:n}){return new Bx(a,Mx(Mu().state,e,t),t,n)}cleanup(){var e,t,a;null==(e=this.abortController)||e.abort(),null==(t=this.hls)||t.destroy(),null==(a=this.stream)||a.cleanup(),this.hls=void 0,this.stream=void 0,this.abortController=void 0,this.hasBeenCleanedUp=!0}mute(){this.video.volume=0,this.video.muted=!0,this.video.defaultMuted=!0}sourceNeedsUpdated(e){return CS({isCanvas:!!this.source.isCanvas,mediaPipe:!!this.source.isMediapipe})!==CS({isCanvas:!!e.isCanvas,mediaPipe:!!e.isMediapipe})||(e.hls&&this.source.hls?e.previewAssetId!==this.source.previewAssetId:e.hls!==this.source.hls||(e.fragmented&&this.source.fragmented?e.url!==this.source.url||e.previewAssetId!==this.source.previewAssetId||e.mediaCacheId!==this.source.mediaCacheId:e.fragmented!==this.source.fragmented||e.url!==this.source.url))}reportStartupFailure(e,t){kl||(console.warn(e),l(new Error(e),{extra:kS(this),fingerprint:["video-stream-startup",t]}))}startNativeHlsStream(){if(this.playbackType="native-hls",this.video.dataset.playbackType=this.playbackType,null==this.source.previewAssetId)return void this.reportStartupFailure("Missing preview asset id for native hls stream","native-hls");this.cleanup(),this.hasBeenCleanedUp=!1;const e=Ux(this.source.previewAssetId)+"#t=0.01";e!==this.video.src&&(this.updateSrcCounter+=1,this.video.src=e)}startLibraryHlsStream(){if(this.playbackType="library-hls",this.video.dataset.playbackType=this.playbackType,null==this.source.previewAssetId)return void this.reportStartupFailure("Missing preview asset id for library hls stream","library-hls");const e=Ux(this.source.previewAssetId);if(this.hls)return void(e!==this.hlsSrc&&(this.updateSrcCounter+=1,this.hls.loadSource(e),this.hlsSrc=e));this.cleanup(),this.hasBeenCleanedUp=!1;const t=new U;this.hls=t,this.hlsSrc=e,t.on(U.Events.ERROR,((e,t)=>{console.warn("HLS error: ",t)})),t.loadSource(e),t.attachMedia(this.video),this.updateSrcCounter+=1}startFragmentedStream(){if(this.playbackType="mse",this.video.dataset.playbackType=this.playbackType,null==this.source.url||null==this.source.previewAssetId||null==this.source.mediaCacheId)return void this.reportStartupFailure("Missing information to start fragmented stream","mse");if(this.stream)return this.updateSrcCounter+=1,void this.stream.updateUrl(this.source.url);this.cleanup(),this.hasBeenCleanedUp=!1,this.abortController=new AbortController;const e=function(e,{url:t,signal:a,mediaLibraryId:n,assetId:s,pausedBuffer:o,backwardBufferTime:i=15,forwardBufferTime:r=15}){return"undefined"==typeof MediaSource?void(e.src=t):(e.dataset.hasUsedMse="true",e.dataset.mse="true",e.dataset.mediaId=n,e.dataset.assetId=s,new Tx({mediaLibraryId:n,assetId:s,video:e,signal:a,url:t,pausedBuffer:o,backwardBufferTime:i,forwardBufferTime:r}))}(this.video,{url:this.source.url,mediaLibraryId:this.source.mediaCacheId,assetId:this.source.previewAssetId,signal:this.abortController.signal,pausedBuffer:this.streamSettings.bufferWhilePaused,forwardBufferTime:this.streamSettings.forwardBufferTime,backwardBufferTime:this.streamSettings.backwardBufferTime});this.stream=e,this.updateSrcCounter+=1}startNativePlayback(){this.playbackType="native-normal-playback",this.video.dataset.playbackType=this.playbackType,this.cleanup(),this.hasBeenCleanedUp=!1;let e="";!this.source.url||this.source.url.startsWith("blob:")||this.source.url.startsWith("data:")?this.source.url?e=this.source.url:this.reportStartupFailure("Missing url for native playback","native-normal-playback"):e=this.source.url+"#t=0.01",this.source.url===this.video.src&&this.video.src||(this.updateSrcCounter+=1,this.video.src=e)}start(){this.previewAssetId!==this.source.previewAssetId&&(this.cleanup(),this.hasBeenCleanedUp=!1),this.previewAssetId=this.source.previewAssetId,this.video.dataset.previewAssetId=this.previewAssetId;let e=!1;var t;this.source.hls?e=!0:this.source.url&&(e=(t=this.source.url).includes("https://cdn.kapwing.com/")||t.includes("https://cdn-useast1.kapwing.com/"));const a=this.video.currentTime;this.video.crossOrigin=e?"anonymous":null;try{const e=CS({isCanvas:!!this.source.isCanvas,mediaPipe:!!this.source.isMediapipe}),t=yS();return t.allowed&&this.source.hls&&this.source.previewAssetId&&e?t.library?void this.startLibraryHlsStream():t.native?void this.startNativeHlsStream():void this.reportStartupFailure("Trying to use hls but no support","hls-not-supported"):wS()&&e&&this.source.url&&this.source.fragmented&&this.source.previewAssetId&&this.source.mediaCacheId?void this.startFragmentedStream():void this.startNativePlayback()}finally{this.video.currentTime=a}}updateSrc(e){var t;null==(t=this.updateSrcController)||t.abort(),this.video.paused?(this.source=e,this.start()):(this.updateSrcController=new AbortController,this.video.addEventListener("paused",(()=>{this.source=e,this.start()}),{once:!0,signal:this.updateSrcController.signal}))}updateSrcWithAssetId(e,t={}){const a=Nx(Mu().state,e,t);return!!this.sourceNeedsUpdated(a)&&(this.updateSrc(a),!0)}async waitForVideoToBeReadyToBeDrawnOnCanvas(){__()&&this.updateSrcCounter!==this._waitForVideoToBeReadyToBeDrawnOnCanvas&&(this._waitForVideoToBeReadyToBeDrawnOnCanvas=this.updateSrcCounter,this.video.load(),await new Promise((e=>{this.video.addEventListener("canplay",(()=>{const t=document.createElement("canvas").getContext("2d");null==t||t.drawImage(this.video,0,0),e()}),{once:!0})})))}async waitForMetadataToLoad(){if(!kl)return new Promise((e=>{this.video.readyState>=HTMLMediaElement.HAVE_METADATA?e():this.video.addEventListener("loadedmetadata",(()=>{e()}),{once:!0})}))}}async function Wx(e,t){var a;let n;try{return await ZC.withVideoElement((async a=>{const s=new Promise(((e,s)=>{const o=new Error(`video element errored during ${t.actionDescription}`);a.addEventListener("error",(e=>{var a;s($v.fromError(o,{...t.sentryInfo,extra:{...RC(e),...kS(n),...null==(a=t.sentryInfo)?void 0:a.extra},fingerprint:["withVideoStream",t.actionDescription]}))}))}));return Promise.race([(async()=>{const s=function(e){if("layerId"in e)return Mx(Mu().state,e.layerId,{type:e.type});if("assetId"in e)return Nx(Mu().state,e.assetId,{type:e.type});if("url"in e)return{previewAssetId:void 0,mediaCacheId:void 0,hls:!1,fragmented:!1,url:e.url};if("streamSource"in e)return e.streamSource;if("asset"in e)return Px(Mu().state,e.asset,{type:e.type});if("layer"in e)return Fx(Mu().state,e.layer,{type:e.type});throw new Error("Invalid source type ",e)}(t.source);n=new Bx(a,s,t.streamOptions,t.abortSignal),n.mute(),await n.waitForVideoToBeReadyToBeDrawnOnCanvas(),await n.waitForMetadataToLoad();return await e(n)})(),s])}),t)}catch(s){if(!(s instanceof Error))throw s;throw $v.fromError(s,{...t.sentryInfo,extra:{...n?kS(n):{},...null==(a=t.sentryInfo)?void 0:a.extra},fingerprint:Qv(s)&&s.__SENTRY_INFO.fingerprint?s.__SENTRY_INFO.fingerprint:["withVideoStream",t.actionDescription]})}finally{n&&n.cleanup()}}let Vx=!1;function Hx(e,t){if(!Vx)for(const a of e)if(!a||!(null==a?void 0:a.id)){console.warn("Missing layer id in selectAllLayers",{layer:a,src:t});const e=new Error("Missing layer id in selectAllLayers");l(e,{extra:{layer:a,src:t}}),Vx=!0}}const zx=[],Gx=u((e=>e.studio.allLayers.byId),(e=>{const t=Object.values(e);return t.length?(Hx(t,"non-empty"),t):(Hx(t,"empty"),zx)}));class Yx extends Error{constructor(e){super(),this.name="GetMediaInfoError",this.message=e}}const Kx=EC((()=>import("./vendor-tYOXRCg-.js").then((e=>e.i))),__vite__mapDeps([0,1])),Xx=Math.random()<.01,Zx=()=>{};function qx(e){let t="";const a=e.byteLength;for(let n=0;n<a;n+=1)t+=String.fromCharCode(e.getUint8(n));return`data:image/jpeg;base64,${window.btoa(t)}`}function Jx(e){return new Promise(((t,a)=>{const n=new FileReader;n.onload=n=>{var s;const o=null==(s=n.target)?void 0:s.result;if(!o)return a(new $v("Getting file orientation failed",{extra:{...MC(e)}}));try{const e=new DataView(o);return t(function(e){if(65496!==e.getUint16(0,!1))return{orientation:null};const t=e.byteLength;let a=2;for(;a<t;){if(e.getUint16(a+2,!1)<=8)return{orientation:null};const t=e.getUint16(a,!1);if(a+=2,65505===t){if(1165519206!==e.getUint32(a+=2,!1))return{orientation:null};const t=18761===e.getUint16(a+=6,!1);a+=e.getUint32(a+4,t);const n=e.getUint16(a,t);a+=2;for(let s=0;s<n;s+=1)if(274===e.getUint16(a+12*s,t)){const n=e.getUint16(a+12*s+8,t);return e.setUint16(a+12*s+8,0,t),{orientation:n,stripped:qx(e)}}}else{if(65280!=(65280&t))break;a+=e.getUint16(a,!1)}}return{orientation:null}}(e))}catch(i){return console.error(i),a($v.fromUnknown(i,"Error getting file orientation",{extra:{...MC(e)}}))}},n.addEventListener("error",(t=>{a(new $v("Getting file orientation failed",{extra:{errorEvent:t,...MC(e)}}))})),n.readAsArrayBuffer(e)}))}function $x(e,t){let a=e;return e.includes(t)&&(a=e.substring(0,e.indexOf(t)+t.length)),a}function Qx(e=""){return e?e.includes("youtube")||e.includes("youtu.be")?"youtube":e.includes("kapwing")||e.includes("kapwi.ng")?"kapwing":e.includes("tiktok")?"tiktok":e.includes("instagram")?"instagram":e.includes("twitter")||e.includes("x.com")?"twitter":e.includes("twitch")?"twitch":e.includes("vimeo")?"vimeo":e.includes("pinterest")?"pinterest":e.includes("dropbox")?"dropbox":e.includes("facebook")||e.includes("fb.watch")?"facebook":e.includes("drive.google.com")?"google-drive":null:null}async function eI({url:e,excludedMimes:t=[],analyticsCallback:a=Zx,doDuplicateHandling:n=!1}){let s=null;const o=function(e){if(!e)return"";let t=e.trim();if(e.length>2e3)return;const a=[".jpeg",".jpg",".png",".gif",".mp4"];for(const n of a)t=$x(t,n);return t}(e);let i="";try{s=await Jf("extract",{body:{url:o,doDuplicateHandling:n},timeout:6e4})}catch(r){const e=r;if(e.status&&a({errorCode:e.status}),422===e.status)throw new KC("That link is not supported. Please try a different URL.");i=String(r)}if(s)return a({isDirectLink:s.isDirectLink,mimeType:s.mime,fileType:s.ext,stage:Au.ExtractionValidation,"Duration (seconds)":s.duration}),function(e,t){let a="";if(e.hasUploadedAssetDuplicate)return e;if(e.url?e.duration&&e.duration>10800?a="Videos from a link must be shorter than 3 hours.":e.mime&&(t||[]).length&&t.includes(e.mime)?a=`Format ${e.mime} currently unsupported.`:e.url&&e.url.includes("accounts.google.com/Captcha")&&(a="Content is not supported"):a="No content found for this URL.",a)throw new KC(a)}(s,t),s;throw new KC("Something went wrong when extracting the video from this link. Please try a different URL.",String(i))}async function tI(e){const t=new Promise(((t,a)=>{const n=new FileReader;n.readAsText(e),n.onload=()=>{n.result?t(n.result.includes("ANMF")?"animated":"static"):a(new Error("Reader result was empty"))},n.onerror=e=>a(new $v("Get webp type failed",{extra:{errorEvent:e}}))})),a=new Promise((t=>{const a=e instanceof File?e.name:"blob";setTimeout((()=>{console.debug(`Failed to load webp within timeout, defaulting to static for ${a}`),t("static")}),1e4)}));return Promise.race([t,a])}function aI(e,t){const a=function(e){var t;const[a="",n=""]=e.split(","),s=a.includes("base64")?atob(n):unescape(n),o=null==(t=a.split(":")[1])?void 0:t.split(";")[0],i=new Uint8Array(s.length);for(let r=0;r<s.length;r+=1)i[r]=s.charCodeAt(r);return new Blob([i],{type:o})}(t);return new File([a],e.name||"",{type:a.type})}const nI=async(e,t,a)=>{try{const{orientation:n,stripped:s}=await UC({promise:Jx(e),timeoutMs:1e4,actionDescription:"Getting image orientation"});return n?(t&&t("Processing content ..."),await function(e,t,a,n){return new Promise((s=>{const o=new Image;o.onerror=()=>{n("Something went wrong. Please make sure your media is a compatible format.",e,"cleanUpImage")},o.onload=()=>{const{width:t}=o,{height:i}=o,r=document.createElement("canvas"),l=r.getContext("2d");if(l){switch(a>4&&a<9?(r.width=i,r.height=t):(r.width=t,r.height=i),a){case 2:l.transform(-1,0,0,1,t,0);break;case 3:l.transform(-1,0,0,-1,t,i);break;case 4:l.transform(1,0,0,-1,0,i);break;case 5:l.transform(0,1,1,0,0,0);break;case 6:l.transform(0,1,-1,0,i,0);break;case 7:l.transform(0,-1,-1,0,i,t);break;case 8:l.transform(0,-1,1,0,0,t)}l.drawImage(o,0,0),s(aI(e,r.toDataURL("image/jpeg")))}else n("No ctx",e,"cleanUpImage")},o.src=t||""}))}(e,s,n,a)):e}catch(b9e){return e}};function sI(e=""){const t=e.split(".").pop();return t?t.split("?").shift():e}function oI(e,t){const a=e&&sI(e);return"m3u8"===a?"hls-to-mp4":"3gp"===a||"video/3gpp"===t?"3gp-to-mp4":"mov"===a||"video/quicktime"===t?"mov-to-mp4":"mp4"===a||"video/mp4"===t?"mp4-to-mp4":"avi"===a||["video/avi","video/x-msvideo"].includes(t)?"avi-to-mp4":"flv"===a||"video/x-flv"===t?"flv-to-mp4":"wmv"===a||"video/x-ms-wmv"===t?"wmv-to-mp4":"m4a"===a||"audio/x-m4a"===t?"m4a-to-mp3":"mp3"===a||"audio/mpeg"===t?"mp3-to-mp3":"heic"===a||"image/heic"===t?"heic-to-jpeg":"heif"===a||"image/heif"===t?"heif-to-jpeg":"avif"===a||"image/avif"===t?"avif-to-png":"mpeg"===a||"video/mpeg"===t?"mpeg-to-mp4":"none"}function iI(e){var t;const{name:a,type:n}=e,s=a?a.split("?")[0]:a;if(n)return n;switch(s?(null==(t=s.split(".").pop())?void 0:t.toLowerCase())||"":void 0){case"mkv":return"video/x-matroska";case"ttf":return"font/ttf";case"otf":return"font/otf";default:return null}}const rI={gif:"gif",jpg:"jpg",jpeg:"jpeg",png:"png",heic:"heic",heif:"heif","svg+xml":"svg",webp:"webp",mp4:"mp4",quicktime:"mov",webm:"webm",mpeg:"mpeg",ogg:"ogg","3gpp":"3gp",avi:"avi","x-ms-wmv":"wmv","x-flv":"flv","x-matroska":"mkv","x-msvideo":"avi",aac:"aac",m4a:"m4a",mp3:"mp3",wav:"wav","x-wav":"wav","x-m4a":"m4a",flac:"flac"},lI=e=>new Promise((t=>setTimeout((()=>t()),e))),dI=async(e,t,a)=>{await(__()||S_()?lI(10):lI(0));let n=0;a===XC.LOW?n=3e4:a===XC.MEDIUM&&(n=5e3);try{const s=await Wx((async({video:e})=>(async(e,t)=>new Promise((a=>{let n=null,s=null;const o=()=>{n&&s&&a({success:!0,properties:{...n,...s}})};e.duration!==1/0?(s=uI(e,t),o()):(console.error("getVideoInfoFromSource returned Infinity duration"),a({success:!1,properties:{type:Nc.Video},errorInfo:{fileType:t,mediaType:"video",htmlVideoFailureEvent:"Infinity duration"}})),cI(e).then((e=>{n={hasAudio:e},o()}))})))(e,t)),{actionDescription:"getVideoInfoFromSource",source:e,priority:a,maxQueueWaitTime:n,maxRuntime:3e4});return s}catch(s){return{success:!1,properties:{type:Nc.Video},errorInfo:{fileType:t,mediaType:"video",htmlVideoFailureEvent:String(s)}}}},cI=e=>new Promise((t=>{const a=()=>t(!0),n=__()||S_()?"canplay":"loadeddata",s=()=>{try{if("mozHasAudio"in e)return e.mozHasAudio;if("audioTracks"in e)return(e.audioTracks||[]).length>0;if("webkitAudioDecodedByteCount"in e&&e.webkitAudioDecodedByteCount>0)return!0;if("captureStream"in e)return e.captureStream().getAudioTracks().length>0}catch(b9e){console.error(b9e)}return!0};e.readyState>1?t(s()):e.error?a():(e.addEventListener("error",(()=>{a()}),{once:!0}),e.addEventListener(n,(()=>t(s())),{once:!0}),setTimeout(a,3e3))})),uI=(e,t)=>{const a=pI(t,e.videoHeight,e.videoWidth);return{duration:e.duration,height:e.videoHeight,type:a,width:e.videoWidth}},pI=(e,t,a)=>!e.includes("/webm")&&!e.includes("/mpeg")||t||a?e.includes("audio")?Nc.Audio:Nc.Video:Nc.Audio;function mI(e,t,a){return new Promise((n=>{const s=new Image;s.onload=()=>{n({success:!0,properties:{height:s.height,type:Nc.Image,width:s.width,...a&&{webpType:a}}})},s.onerror=a=>{n({success:!1,properties:{type:Nc.Image},errorInfo:{fileType:t,mediaType:"image",url:e,htmlImageFailureEvent:"string"==typeof a?a:a.type}})},s.src=e}))}const gI=[{mime:"audio/x-m4a",type:Nc.Audio}];async function hI(e,t,a){try{return await vI(e,t,a)}catch(b9e){return l(b9e,{extra:{src:e,fileLike:t}}),console.warn("getMediaInfo failed",b9e),null}}async function vI(e,t,a){Xx&&ov("getMediaInfo Started");const n=(t?iI(t):"")||iI({name:e})||"",s=tS(n),o=QC(n),i=G(e),r=!s&&(o||i);if(!r&&!s){const[s,o]=await Promise.all([mI(e,n),dI({url:e},n,a)]);if(o.success)return o.properties;if(s.success)return s.properties;let i,r;if("size"in t){if([i,r]=await Promise.all([bI(t),fI(t)]),i.success)return i.properties;if(r.success)return r.properties}console.debug("Failed to load unclear media type",o.errorInfo,s.errorInfo),wI({imageResErrorInfo:s.errorInfo,videoResErrorInfo:o.errorInfo,imageWasmRes:i,videoWasmRes:r,fileType:n,src:e});const l=gI.find((e=>e.mime===n));if(l)return l.type,Nc.Image,{type:l.type};throw new $v("Failed to get media info for unclear media",{extra:{videoResErrorInfo:o.errorInfo,imageResErrorInfo:s.errorInfo,src:e,fileLike:t},level:"warning"})}if(r){let a;try{a=await tI(t)}catch(b9e){}const s=await mI(e,n,a);let o;if(!s.success){if("size"in t&&a&&(o=await bI(t,a),o.success))return o.properties;Ef()||console.debug("Failed to image video info",s.errorInfo),wI({imageResErrorInfo:s.errorInfo,imageWasmRes:o,fileType:n,src:e,layerType:Nc.Image})}return s.properties}const l=await dI({url:e},n,a);if("duration"in l.properties){const{duration:e}=l.properties;if(Number.isNaN(e)||e>43200)throw Error("Asset has invalid duration")}if(!l.success){let a;if("size"in t&&(a=await fI(t),a.success))return a.properties;const s=(null==a?void 0:a.properties.type)||Nc.Video;Ef()||console.debug("Failed to load video info",l.errorInfo),wI({videoResErrorInfo:l.errorInfo,videoWasmRes:a,fileType:n,src:e,layerType:s})}return l.properties}async function fI(e){const t=await yI(e);let a,n=!1,s=0,o=0,i=0;for(const r of t.media.track)"General"===r["@type"]?s=parseFloat(r.Duration):"Video"===r["@type"]?(a=Nc.Video,i=parseFloat(r.Width),o=parseFloat(r.Height)):"Audio"===r["@type"]&&(n=!0);return!a&&n&&(a=Nc.Audio,o=0,i=0),s&&a===Nc.Audio&&n||s&&a&&o&&i&&a===Nc.Video?{success:!0,properties:{duration:s,didFailHtmlMediaCheck:!0,hasAudio:n,height:o,width:i,type:a}}:{success:!1,properties:{type:a}}}async function bI(e,t){const a=await yI(e),n={};n.webpType=t||await tI(e);for(const s of a.media.track)"Image"===s["@type"]&&(n.type=Nc.Image,n.width=parseFloat(s.Width),n.height=parseFloat(s.Height));return n.type&&n.height&&n.width&&n.webpType?(n.didFailHtmlMediaCheck=!0,{success:!0,properties:n}):{success:!1,properties:{type:n.type}}}async function yI(e){const t=await Y({format:"JSON",locateFile:()=>"/MediaInfoModule.wasm"});return JSON.parse(await t.analyzeData((()=>e.size),((t,a)=>new Promise(((n,s)=>{const o=new FileReader;o.onload=e=>{var t;(null==(t=e.target)?void 0:t.error)&&s(e.target.error),e.target&&e.target.result&&n(new Uint8Array(e.target.result)),s(new Error("getMediaInfoFromWasm failed"))},o.readAsArrayBuffer(e.slice(a,a+t))})))))}function wI({imageResErrorInfo:e,videoResErrorInfo:t,imageWasmRes:a,videoWasmRes:n,fileType:s,src:o,layerType:i}){const r=i||(null==a?void 0:a.properties.type)||(null==n?void 0:n.properties.type)||"unclear",d=!!a||!!n;Xx&&(l(new Yx("getMediaInfo failure"),{extra:{src:o},tags:{isFile:d,mediaType:r}}),ov("getMediaInfo failure",{fileType:s,mediaType:r,url:o,htmlImageFailureEvent:null==e?void 0:e.htmlImageFailureEvent,htmlVideoFailureEvent:null==t?void 0:t.htmlVideoFailureEvent,isFile:d}))}const _I=["video/3gpp","video/avi","video/x-flv","video/x-ms-wmv","video/x-msvideo","video/mpeg","audio/x-m4a","image/heif","image/heic","image/avif"],CI=["m3u8","3gp","3gpp","mov","avi","flv","wmv","heic","heif","mpeg","avif"];async function SI(e,t){if(null==t?void 0:t.conversion_id)return!0;const a=e.type;if(_I.includes(a))return!0;if(!["audio/mpeg","video/quicktime","video/mp4"].includes(a))return!1;try{if(t&&(t.width||t.height)&&!t.didFailHtmlMediaCheck)return!1;if("video/quicktime"===a)return!0;if("audio/mpeg"===a){const t=await async function(e){var t;const a=await yI(e),n=null==(t=null==a?void 0:a.media)?void 0:t.track;for(const s of n)if("OverallBitRate_Mode"in s)return s.OverallBitRate_Mode;return"Unknown"}(e);return"VBR"===t}const n=await e.arrayBuffer(),s=new Uint8Array(n),o=await(await Kx).mp4.probe.tracks(s);if(!o.length)return!0;for(let e=0;e<o.length;e+=1)if("video"===o[e].type)return!0;return!1}catch(n){return console.error(n),!0}}const xI=new Set([Nc.Text,Nc.Shape]);function II(e){if(xI.has(e.type))return!1;const{type:t,source:a,asset_id:n,uploadPending:s}=e;return s?"uploadPending":!n&&("local"===a?"localSource":!(![Nc.Image,Nc.Audio,Nc.Video].includes(t)||n)&&"noAssetOnLayer")}function AI(e){return e.requireConversion||e.videoConvertedState&&"complete"!==e.videoConvertedState}function kI(e){const t=[];for(const a of e)(II(a)||AI(a))&&t.push(a);return t}function TI(e){const t=function(e){const t=[];for(const a of e)II(a)&&t.push(a);return t}(Gx(e));return t.length>0?{reason:"LAYERS",layerInfo:t.map((e=>{const[t,a]=zC(e);return{name:DC(e),start:t,end:a}}))}:null}function EI(e){return!!TI(e)}const LI=(e={})=>{const t="image/*,image/heic,image/heif",a="audio/mpeg,audio/wav,audio/aac,audio/ogg,audio/x-wav,audio/aac,audio/mp4,audio/x-m4a,audio/*",n="video/mp4,video/webm,video/*,video/3gpp,video/avi,video/x-flv,.mkv,video/x-ms-wmv";return e.audiogramUpload?a:e.audioUpload?[a,n].join(","):e.disallowVideo?t:e.fontUpload?".ttf,.otf":e.logoUpload?"image/jpg,image/jpeg,image/png,image/heic,image/heif,image/svg+xml,image/webp":e.disallowAudio?[t,n].join(","):[t,a,n].join(",")};function jI(e){if(!e)return!1;if(!e.startsWith("http"))return!1;try{return new URL(e),!0}catch(b9e){return console.error(b9e),!1}}function RI(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}const NI=e=>0!==e.length&&(!jI(e)&&!RI(e));class MI extends Error{constructor(e){super(),this.name="BulkActionsError",this.message=e}}const PI=["intro","outro","constant"],FI=["id",...PI],DI=e=>{let t=e.duration;return"slow"===e.speed&&(t*=2),"fast"===e.speed&&(t/=2),t},OI={versionNumber:"0.2",migrate:e=>{e.animations={allIds:[],byId:{}};const t=["animations"];return e.scenes?(t.push("scenes"),e.scenes.forEach((t=>{t.layers.forEach((t=>{if(!t.animation)return;if("progress-bar"===t.animation.id)return void(t.animation={constant:["progress-bar"]});if(FI.every((e=>!(e in t.animation))))return void delete t.animation;if("id"in t.animation){const e=t.animation,a=e.animatesForever?"constant":"intro";t.animation={[a]:[e]}}PI.forEach((a=>{const n=t.animation[a];if(!n)return;const s=n.map((n=>{const s=K();if(n.transitionId){const[o,i]="intro"===a?[t.id,n.transitionLayerId]:[n.transitionLayerId,t.id],r=Object.values(e.animations.byId).find((e=>{if(!e.isCrossTransition)return!1;return("intro"===a?e.introLayerId:e.outroLayerId)===t.id}));if(r)return r.id;e.animations.allIds.push(s),e.animations.byId[s]={animationName:n.transitionId,id:s,isCrossTransition:!0,transitionDuration:DI(n),introLayerId:o,outroLayerId:i}}else e.animations.allIds.push(s),e.animations.byId[s]={animationName:n.id,id:s,isCrossTransition:!1,layerId:t.id,transitionDuration:DI(n)};return s}));t.animation[a]=s}))}))})),t):t}},UI={versionNumber:"0.6",migrate:e=>{if(!e.scenes)return[];const t=e.scenes.map((e=>e.layers.map((e=>e.id)))).flat(),a=new Set(t);if(t.length!==a.size){const t=new Set;return e.scenes=e.scenes.map((e=>({...e,layers:e.layers.filter((e=>!t.has(e.id)&&(t.add(e.id),!0)))}))),e.allLayers={byId:Object.fromEntries(e.scenes.map((e=>e.layers)).flat().map((e=>[e.id,e])))},["scenes","allLayers"]}return[]}},BI={versionNumber:"0.12",migrate:e=>{let t=!1;const a=e.enhanceJobIds;if(a){const n={};Object.entries(a).forEach((([e,t])=>{n[e]={id:t,type:"clean-audio"}})),e.enhanceAssetJobs=n,delete e.enhanceJobIds,t=!0}return t?["enhanceAssetJobs"]:[]}},WI={versionNumber:"0.4",migrate:e=>{if(!e.scenes)return[];return e.scenes[0]&&e.scenes[0].layers.forEach((e=>{if("string"==typeof e.fontSize){const t=e.fontSize;e.fontSize=t.includes("px")?parseFloat(t.slice(0,t.length-2)):parseFloat(t)}})),["scenes"]}},VI="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function HI(e,t,a){const n=a[0];if(null!=t&&e>=t)throw new Error(e+" >= "+t);if(e.slice(-1)===n||t&&t.slice(-1)===n)throw new Error("trailing zero");if(t){let s=0;for(;(e[s]||n)===t[s];)s++;if(s>0)return t.slice(0,s)+HI(e.slice(s),t.slice(s),a)}const s=(()=>{if(e){if(void 0===e[0])throw new Error("shouldn't happen");return a.indexOf(e[0])}return 0})(),o=(()=>{if(null!=t){if(void 0===t[0])throw new Error("shouldn't happen");return a.indexOf(t[0])}return a.length})();if(!(o-s>1))return t&&t.length>1?t.slice(0,1):a[s]+HI(e.slice(1),null,a);{const e=Math.round(.5*(s+o));if(a[e])return a[e]}throw new Error("shouldn't happen")}function zI(e){if(void 0===e[0]||e.length!==GI(e[0]))throw new Error("invalid integer part of order key: "+e)}function GI(e){if(e>="a"&&e<="z")return e.charCodeAt(0)-"a".charCodeAt(0)+2;if(e>="A"&&e<="Z")return"Z".charCodeAt(0)-e.charCodeAt(0)+2;throw new Error("invalid order key head: "+e)}function YI(e){if(void 0===e[0])throw new Error("invalid order key: "+e);const t=GI(e[0]);if(t>e.length)throw new Error("invalid order key: "+e);return e.slice(0,t)}function KI(e,t){if(void 0===t[0])throw new Error("shouldn't happen");if(e==="A"+t[0].repeat(26))throw new Error("invalid order key: "+e);const a=YI(e);if(e.slice(a.length).slice(-1)===t[0])throw new Error("invalid order key: "+e)}function XI(e,t){zI(e);const[a,...n]=e.split("");let s=!0;for(let o=n.length-1;s&&o>=0;o--){if(void 0===n[o])throw new Error("shouldn't happen");const e=t.indexOf(n[o])+1;if(e===t.length){if(void 0===t[0])throw new Error("shouldn't happen");n[o]=t[0]}else{if(void 0===t[e])throw new Error("shouldn't happen");n[o]=t[e],s=!1}}if(s){if("Z"===a)return"a"+t[0];if("z"===a)return null;if(void 0===a)throw new Error("shouldn't happen");const e=String.fromCharCode(a.charCodeAt(0)+1);if(e>"a"){if(void 0===t[0])throw new Error("shouldn't happen");n.push(t[0])}else n.pop();return e+n.join("")}return a+n.join("")}function ZI(e,t,a=VI){if(null!=e&&KI(e,a),null!=t&&KI(t,a),null!=e&&null!=t&&e>=t)throw new Error(e+" >= "+t);if(null==e){if(null==t)return"a"+a[0];const e=YI(t),n=t.slice(e.length);if(void 0===a[0])throw new Error("shouldn't happen");if(e==="A"+a[0].repeat(26))return e+HI("",n,a);if(e<t)return e;const s=function(e,t){zI(e);const[a,...n]=e.split("");let s=!0;for(let o=n.length-1;s&&o>=0;o--){if(void 0===n[o])throw new Error("shouldn't happen");const e=t.indexOf(n[o])-1;if(-1===e)n[o]=t.slice(-1);else{if(void 0===t[e])throw new Error("shouldn't happen");n[o]=t[e],s=!1}}if(s){if("a"===a)return"Z"+t.slice(-1);if("A"===a)return null;if(void 0===a)throw new Error("shouldn't happen");const e=String.fromCharCode(a.charCodeAt(0)-1);return e<"Z"?n.push(t.slice(-1)):n.pop(),e+n.join("")}return a+n.join("")}(e,a);if(null==s)throw new Error("cannot decrement any more");return s}if(null==t){const t=YI(e),n=e.slice(t.length),s=XI(t,a);return null==s?t+HI(n,null,a):s}const n=YI(e),s=e.slice(n.length),o=YI(t),i=t.slice(o.length);if(n===o)return n+HI(s,i,a);const r=XI(n,a);if(null==r)throw new Error("cannot increment any more");return r<t?r:n+HI(s,null,a)}function qI(e,t,a,n=VI){if(0===a)return[];if(1===a)return[ZI(e,t,n)];if(null==t){let s=ZI(e,t,n);const o=[s];for(let e=0;e<a-1;e++)s=ZI(s,t,n),o.push(s);return o}if(null==e){let s=ZI(e,t,n);const o=[s];for(let t=0;t<a-1;t++)s=ZI(e,s,n),o.push(s);return o.reverse(),o}const s=Math.floor(a/2),o=ZI(e,t,n);return[...qI(e,o,s,n),o,...qI(o,t,a-s-1,n)]}const JI={versionNumber:"0.14",migrate:e=>{var t;if(!e.scenes)return[];let a=!1,n=!1;const s=Object.keys((null==(t=e.tetheredWaveforms)?void 0:t.byAssetId)||{}),o=s.length,i=e.scenes[0].layers,r=i.length,l=qI(null,null,r+o).reverse();i.forEach(((e,t)=>{const a=l[t];if(void 0===a)throw new Error("ndx is undefined");e.depth=a,n=!0})),s.forEach(((t,n)=>{var s;const o=null==(s=e.tetheredWaveforms)?void 0:s.byAssetId[t];if(!o)throw new Error("Waveform not found");const i=l[n+r];if(void 0===i)throw new Error("ndx is undefined");o.depth=i,a=!0}));const d=[];return n&&d.push("scenes"),a&&d.push("tetheredWaveforms"),d}},$I={versionNumber:"0.7",migrate:e=>{if(e.magicSubtitleFrames){const t={};for(const[a,n]of Object.entries(e.magicSubtitleFrames||{})){if(null===n)continue;const e={byId:{},orderedFrames:[]},s=n.filter(Boolean);for(const t of s)e.byId[t.id]=t,e.orderedFrames.push(t.id);t[a]=e}return e.magicSubtitleFramesByAsset=t,delete e.magicSubtitleFrames,["magicSubtitleFramesByAsset","magicSubtitleFrames"]}return[]}},QI={versionNumber:"0.16",migrate:e=>{let t=!1;if(!e.allLayers)return[];for(const a of Object.keys(e.allLayers.byId)){const n=e.allLayers.byId[a];if(!n)continue;if(!n.keyframeAnimation)continue;const s=n.keyframeAnimation.transitions[0],{startValues:o,endValues:i}=s;delete n.keyframeAnimation;const r=`migrated-moving-zoom-${a}`,l={id:r,animationName:Mc.MovingZoom,isCrossTransition:!1,layerId:a,transitionDuration:1,movingZoomOptions:{startValues:o,endValues:i}};e.animations.byId[r]=l,e.animations.allIds.push(r),n.animation||(n.animation={constant:[],intro:[],outro:[]}),n.animation.constant=[r],t=!0}return t?["allLayers","animations"]:[]}},eA={versionNumber:"0.17",migrate:e=>{let t=!1;if(!e.allLayers)return[];const a=Object.entries(e.allLayers.byId).filter((([e,t])=>(e=>"audio"===e.type&&"isPersona"in e&&!!e.isPersona&&!!e.personaId)(t)));for(const[n,s]of a){const a=e.allLayers.byId[`persona-preview-${s.id}`];if(a&&a.asset_id&&s.asset_id){const o={...s,type:Nc.Persona,audio_asset_id:s.asset_id,video_asset_id:a.asset_id,position:a.position||{height:"100%",width:"100%",x:"0",y:"0",rotation:0},crop:a.crop,depth:a.depth,isPersona:!0,personaId:s.personaId,name:s.name||`Persona ${s.personaId}`};delete e.allLayers.byId[n],delete e.allLayers.byId[a.id],e.allLayers.byId[o.id]=o,t=!0}}return t?["allLayers"]:[]}},tA=(e=21)=>{let t="",a=e;for(;a--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return t},aA="background-asset",nA=e=>{var t;return null==(t=e.magicSubtitleFramesByAsset)?void 0:t["background-asset"]},sA=()=>tA(12),oA=["enabled","languageKey","translated","translatedLanguageCode","transcriptionSource"],iA=e=>e.includes("-")&&e.split("-")[1]||null,rA=p(((e,t,a)=>{let n=0,s="",o=!1;const{isImageVideo:i}=e;for(const l of t){const e=yp(l),t=!(ep(l)||np(l)||up(l));if(!e&&t)continue;if(e&&(o=!0),t){const e=Number(l.endTime||0);e>n&&(n=e,s=l.id);continue}if(np(l)&&l.converted_gif)continue;(np(l)||up(l))&&(o=!0);const a=Number(l.videoDelay||0);let i=wp(l);i+=a,i>n&&(n=i,s=l.id)}const r=e.userSelectedDuration||0;if(n||(n=0),0===n&&i&&(n=e.duration||r||5),o||(n=Math.max(n,r)),null==a?void 0:a.byId)for(const l of Object.values(null==a?void 0:a.byId))l&&l[Xc.end]>n&&(n=l[Xc.end]);return n=BC(n),{duration:n,maxLayerId:s}})),lA=["local_url","preview","track_preview","thumbnail_sheet"],dA=e=>{let t=!1;const a=e;a.url&&a.asset_id&&(delete a.url,t=!0),a.pastedUrl&&a.asset_id&&(delete a.pastedUrl,t=!0);for(const n of lA)a[n]&&(delete a[n],t=!0);return a.original_asset&&(e.original_asset={asset_id:a.original_asset.id,cmlFileId:a.original_asset.cmlFileId},t=!0),a.alt_asset&&(e.alt_asset={altType:a.alt_asset.altType,asset_id:a.alt_asset.id,cmlFileId:a.alt_asset.cmlFileId},t=!0),t},cA=(uA=[{versionNumber:"0.1",migrate:e=>{if(!e.scenes)return[];for(const t of e.scenes){for(const e of t.layers)for(const t of["duration","startTime","endTime","videoDelay"]){const a=e[t];a&&"number"==typeof a&&(e[t]=BC(a))}const{duration:a,maxLayerId:n}=rA(t,t.layers,nA(e));t.duration=a,t.maxLayerId=n}return e.duration&&(e.duration=e.scenes.reduce(((e,t)=>t.duration+e),0)),["scenes","duration"]}},OI,{versionNumber:"0.3",migrate:e=>{var t,a,n;const s=[];if(e.scenes&&1===e.scenes.length&&0===Object.keys(e.audio??{}).length)return s;if(!e.scenes)return s.push("scenes"),e.scenes=[{background:e.background,duration:e.duration,id:tA(),userSelectedDuration:0,userSetDuration:!1,layers:e.layers||[]}],s;s.push("scenes","duration");const o=[],i={background:(null==(t=e.scenes[0])?void 0:t.background)||"",duration:0,id:(null==(a=e.scenes[0])?void 0:a.id)||"",isImageVideo:!1,layers:[],subtitle:(null==(n=e.scenes[0])?void 0:n.subtitle)||{},userSelectedDuration:0,userSetDuration:!1};let r=0,l=-1;if(e.scenes.forEach((e=>{!i.isImageVideo&&e.isImageVideo&&(i.isImageVideo=!0),!i.background&&e.background&&(i.background=e.background),!i.id&&e.id&&(i.id=e.id),!i.subtitle&&e.subtitle&&(i.subtitle=e.subtitle),i.duration+=e.duration;let t=0;e.layers.forEach(((a,n)=>{l=Math.max(l,a.timelineRow||-1);let s=0;const{start:i,end:d}=bp(a);"video"===a.type||"audio"===a.type?(a.videoDelay||(a.videoDelay=0),s=a.videoDelay+((d||0)-(i||0)),a.videoDelay=r+(a.videoDelay||0)):(s=d||0,a.startTime=r+(i||0),a.endTime=r+(d||0)),t=Math.max(t,s),n===e.layers.length-1&&(r+=t),o.push(a)}))})),e.audio&&0!==Object.keys(e.audio).length){const t=e.audio,a={asset_id:t.asset_id,cmlFileId:t.cmlFileId,duration:t.duration,hasAudio:t.hasAudio,height:t.height,id:t.id,mime:t.mime,name:t.name,objectFit:t.objectFit,timelineRow:l+1,videoDelay:t.videoDelay,url:t.url,source:t.source,type:"audio",position:{height:"100%",rotation:0,width:"100%",x:"0%",y:"0%"},startTime:0,endTime:t.duration>i.duration?i.duration:t.duration,volume:1};e.audio={},s.push("audio"),o.push(a)}return i.layers=o,i.duration=BC(i.duration),e.duration=i.duration,e.scenes=[i],s}},WI,{versionNumber:"0.5",migrate:e=>{if(!e.scenes)return[];let t=!1;for(const a of e.scenes)for(const e of a.layers)"text"===e.type&&""===e.textShadow&&(e.textShadow="transparent",t=!0);return t?["scenes"]:[]}},UI,$I,{versionNumber:"0.8",migrate:e=>{if(!e.scenes||!e.scenes[0])return[];if(!e.scenes[0].layers.find((e=>"subtitle"===e.type)))return[];const t=["scenes"],a=[];if(e.scenes[0].layers.forEach((e=>{"subtitle"===e.type&&e.text&&void 0!==e.startTime&&void 0!==e.endTime&&a.push({text:e.text,start:e.startTime,end:e.endTime})})),0===a.length)return t;const n=e.scenes[0].layers.filter((e=>"subtitle"!==e.type));e.scenes=[{...e.scenes[0],layers:n}],delete e.scenes[0].subtitle;if(Object.keys(e.magicSubtitles||{}).length>0||Object.values(e.magicSubtitleFramesByAsset||{}).length>0)return t;t.push("magicSubtitles"),e.magicSubtitles={"background-asset":{enabled:!0,transcriptionSource:"manual",languageKey:null}};const s={};for(const o of a){s[sA()]={words:o.text.split(" ").map((e=>({text:e}))),start:o.start,end:o.end}}return t.push("magicSubtitleFramesByAsset"),e.magicSubtitleFramesByAsset={"background-asset":{byId:s}},t}},{versionNumber:"0.9",migrate:e=>{if(!e.scenes)return[];let t=!1;return e.scenes[0]&&e.scenes[0].layers.forEach((e=>{e.usedProFeature&&(e.usedProFeatures=[e.usedProFeature],delete e.usedProFeature,t=!0)})),t?["scenes"]:[]}},{versionNumber:"0.10",migrate:e=>{var t;const a=[];let n=!1;for(const o of e.scenes[0].layers){const e=dA(o);n=n||e}n&&a.push("scenes");let s=!1;for(const o of Object.values((null==(t=e.allLayers)?void 0:t.byId)||{})){const e=dA(o);s=s||e}return s&&a.push("allLayers"),a}},{versionNumber:"0.11",migrate:e=>{const t=e.magicSubtitleFramesByAsset;let a=!1;for(const n in t){const e=t[n];e&&Object.entries(e.byId).forEach((([e,t])=>{if(!t)return;const n=t;if(a=!0,"id"in n&&delete n.id,"start"in n&&(t[Xc.start]=n.start,delete n.start),"end"in n&&(t[Xc.end]=n.end,delete n.end),"position"in n&&(t[Xc.position]=n.position,delete n.position),"words"in n){const e=n.words.map((e=>{const t=e;return"start"in t&&(e[Zc.start]=t.start,delete t.start),"end"in t&&(e[Zc.end]=t.end,delete t.end),"text"in t&&(e[Zc.text]=t.text,delete t.text),"speaker"in t&&(e[Zc.speaker]=t.speaker,delete t.speaker),"styles"in t&&(e[Zc.inlineStyles]=t.styles,delete t.styles),e}));t[Xc.words]=e,delete n.words}}))}return a?["magicSubtitleFramesByAsset"]:[]}},BI,{versionNumber:"0.13",migrate:()=>[]},JI,{versionNumber:"0.15",migrate:e=>{if(!e.scenes)return[];const t=e.scenes[0];e.background=t.background,e.duration=t.duration,e.isImageVideo=t.isImageVideo,e.userSelectedDuration=t.userSelectedDuration,e.userSetDuration=t.userSetDuration;const a={byId:t.layers.reduce(((e,t)=>(e[t.id]=t,e)),{})};return e.allLayers=a,delete e.scenes[0].layers,["scenes","allLayers","background","duration","isImageVideo","userSelectedDuration","userSetDuration"]}},QI,eA,{versionNumber:"0.18",migrate:e=>{let t=!1;if(!e.allLayers)return[];for(const a of Object.keys(e.allLayers.byId)){const n=e.allLayers.byId[a];if(n&&"dropShadow"===n.textEffect){n.textEffect=void 0,n.textEffect=void 0;const e=n.textEffectColor;e&&(n.textDropShadowColor=e,delete n.textEffectColor,t=!0),t=!0}}return t?["allLayers"]:[]}}],function(e,t){const a=[];for(const n of uA){const s=pA(n.versionNumber),o="Older"===hA(e,s),i="Newer"!==hA(s,t);o&&i&&a.push(n)}return a});var uA;function pA(e){return e?e.split(".").map((e=>parseInt(e))):[0,0]}var mA=(e=>(e.Equal="Equal",e.Newer="Newer",e.Older="Older",e))(mA||{});function gA(e,t){return e[0]<t[0]||e[0]===t[0]&&e[1]<t[1]}function hA(e,t){return gA(e,t)?"Older":gA(t,e)?"Newer":"Equal"}function vA(e){return null!=e}var fA=(e=>(e.DELETE_ACCOUNT="DELETE_ACCOUNT",e.MOVE_PROJECT="MOVE_PROJECT",e.COPY_PROJECT="COPY_PROJECT",e.EMBED_CODE="EMBED_CODE",e.SWM_REMOVE_PROJECT="SWM REMOVE PROJECT",e.DELETE_PROJECT="DELETE_PROJECT",e.START_FROM_BRAND_TEMPLATE="START_FROM_BRAND_TEMPLATE",e.FOLDER_UPLOAD="FOLDER_UPLOAD",e.SIGN_IN="SIGN_IN",e.PROJECT_LIMIT="PROJECT_LIMIT",e.REPURPOSE_PERSONALIZED_SHARE="REPURPOSE_PERSONALIZED_SHARE",e.POST_TO_SOCIALS="POST_TO_SOCIALS",e))(fA||{});const bA=m({name:"modal",initialState:{},reducers:{showModal:(e,t)=>{e.modalProps=t.payload.props},hideModal:e=>{e.modalProps=void 0,e.title=void 0,e.subtitle=void 0},setModalTitle:(e,t)=>{e.title=t.payload.title,e.subtitle=t.payload.subtitle}}}),yA=()=>{const{dispatch:e}=Mu();return e({type:_A.hideModal.type})},wA=e=>{const{dispatch:t}=Mu();return t(_A.showModal({props:e}))},_A=bA.actions,CA=m({name:"explorer",initialState:{teams:[],folders:[]},reducers:{setTeams:(e,t)=>{e.teams=t.payload.teams,t.payload.folders.find((e=>e.sharedAt))&&(e.teams=t.payload.teams.concat({_id:rd,name:"Shared with Me"})),e.folders=t.payload.folders.map((e=>e.sharedAt?{...e,teamId:rd}:e))}}}),SA=async(e=!1)=>{const{state:t,dispatch:a}=Mu(),{explorer:n,currentUser:s}=t;if(!qm(s)||n.teams.length&&!e)return;const o=await Kf("/api/v1/explorer");a({type:CA.actions.setTeams.type,payload:o})},xA=e=>{const t=Jm();i.useEffect((()=>{SA(e)}),[e,t]);return{refetchExplorer:i.useCallback((()=>{SA(!0)}),[])}},IA=()=>Du((e=>e.explorer)).folders.length>1;function AA(e,t){var a,n,s,o;const i=t||Mu().state;return Kp[e]||(null==(n=null==(a=i.studio.personas)?void 0:a.inProject)?void 0:n[e])||(null==(o=null==(s=i.teams.activeBrandkit)?void 0:s.personas)?void 0:o[e])}function kA(e,t){const a=AA(e,t);return null==a?void 0:a.assetId}function TA(e){return e.endsWith("-video")?e.replace("-video",""):e.endsWith("-audio")?e.replace("-audio",""):e}function EA(e){const t=kA(e.personaId),{state:a}=Mu();if(!t)return;const n=a.assets.byId[t];if(!n)return;const s=n.thumbnails;return s&&s.length>0?JC(s[0],{bucket:Bl}):void 0}function LA(e){return`Hi, I'm ${e}. I'm an AI persona, and you can use me to generate videos, make presentations, narrate stories, and much more. Edit this text to customize my message. My voice and lips will be synced on export.`}function jA(e){return{x:`${e.x}%`,y:`${e.y}%`,width:`${e.width}%`,height:`${e.height}%`,rotation:e.rotation}}const RA=["type","position","lockAspectRatio","globalAlpha","asset_id","name","isAudiogram","waveformStyle","color","volume","locked"],NA=e=>!!(null==e?void 0:e.endsWith("_waveform")),MA=e=>NA(e)?e.replace("_waveform",""):e,PA=e=>`${DC(e)} waveform`,FA=e=>`${e}_waveform`,DA=({assetId:e,waveformInfo:t,layer:a})=>({...{type:Nc.Audio,position:jA(t.position),lockAspectRatio:!!t.lockedRatio,globalAlpha:t.style.opacity/100,asset_id:e,name:t.name??PA(a),isAudiogram:!0,waveformStyle:t.style.type,color:t.style.color,volume:0,locked:t.locked??!1},id:FA(a.id),tetheredWaveformLayerId:a.id,startTime:a.startTime,duration:a.duration,endTime:a.endTime,videoDelay:a.videoDelay,playbackRate:a.playbackRate,depth:t.depth});function OA({asset:e,uploadingLayer:t,timelineLayer:a}){var n;return e&&e.duration?e.duration:t&&"image"!==t.type?t.duration??null:void 0!==(null==(n=null==e?void 0:e.extract_info)?void 0:n.duration)?e.extract_info.duration:void 0!==(null==a?void 0:a.duration)?a.duration:null}function UA(e,t){return{type:"ADD_ANIMATION",animationInstance:e,undoable:t}}function BA(e,t){return{type:"UPDATE_ANIMATION",animationId:e,layerAnim:t,undoable:!0}}function WA(e,t){return{type:"BULK_DELETE_ANIMATIONS",animationIds:e,undoable:t}}function VA({layers:e,layerDepth:t,isUndoable:a=!1}){return{type:"ADD_LAYERS",layers:e,layerDepth:t,isUndoable:a}}function HA(e,t,a){return{type:"REMOVE_LAYER",layer:e,source:t,undoable:a}}function zA(e,t,a,n,s,o){return{type:"RESIZE_LAYER",layerId:e,x:t,y:a,width:n,height:s,undoable:o}}function GA(e,t,a,n,s,o,i,r){return{type:"RESIZE_LINE_LAYER",layer:e,x:t,y:a,width:n,height:s,linePointStartCorner:o,lineRightAngle:i,undoable:r}}function YA(e,t,a){return{type:"SET_SCALE",layer:e,scaleX:t,scaleY:a}}function KA(e,t,a){return{type:"SET_STUDIO_ROTATION",layerId:e,rotation:t,undoable:a}}function XA(e,t,a){return{type:`SET_STUDIO_FLIP_${{x:"HORIZONTAL",y:"VERTICAL"}[t]}`,layer:e,axis:t,undoable:a}}function ZA(e,t){return{type:"ENHANCE_LAYER",assetId:e,enhanceAssetJob:t}}function qA(e,t){return{type:"START_ASSET_TEXT_JOB",assetId:e,jobId:t}}function JA(e){return{type:"REMOVE_ASSET_TEXT_JOB",assetId:e}}function $A(e,t,a){return{type:"UPDATE_ALL_LAYERS",layers:e,sceneIndex:t,undoable:a}}function QA(e,t,a=!1){return{type:"UPDATE_LAYERS",srcFn:t,updates:e,undoable:a}}function ek(e){return{type:"SELECT_TRANSITION",payload:e,undoable:!1}}function tk(e){return{type:"SHOW_SNAP_LINES",lines:e}}function ak(e,t,a){return{type:"ADD_LAYERS_TO_GROUP",layerIds:e,groupId:t,undoable:a}}const nk=({layerId:e,undoable:t=!0})=>({type:"ADD_OR_REMOVE_LAYER_FROM_SELECTION",layerId:e,undoable:t});function sk(e,t=!0){return{type:"REMOVE_GROUP",groupId:e,undoable:t}}function ok(e=!0){return{type:"REMOVE_ALL_UNSAVED_GROUPS",undoable:e}}function ik(e,t,a){return{type:"SAVE_LAYER_GROUP",groupId:e,saved:t,undoable:a}}function rk(e){return{type:"SET_SELECTED_TIMELINE_ROWS",timelineRows:e}}function lk(e){return{type:"ADD_SELECTED_TIMELINE_ROWS",timelineRows:e}}function dk(e){return{type:"SET_LAYER_DUPLICATED",layerDuplicated:e}}function ck(e,t=!1){const{state:a}=Mu();return a.userPermissions.canWrite?{type:"SELECT_ITEM",item:e,undoable:t}:{type:"SELECT_ITEM",item:null,undoable:!1}}const uk=(e,t,a=!1)=>{if(0===Object.keys(e).length)return;const{dispatch:n}=Mu();n(QA(e,t,a))};function pk(e){const{conformed:t,done:a,downloaded:n,extracted:s,speech:o,trimmed:i}=e;if(a)return{stage:5,text:null,stageProgress:0};if(t&&i){let e="Step 4/4: Transcribing";return o&&(e+=` ${Math.floor(o)}%`),{stage:4,text:e,stageProgress:o}}return s?{stage:3,text:"Step 3/4: Preparing audio",stageProgress:0}:n?{stage:2,text:"Step 2/4: Preprocessing",stageProgress:0}:{stage:1,text:"Step 1/4: Downloading",stageProgress:0}}function mk(e){if("pending"!==e.state)return null;const{progress:t}=e;if(!t)return"Starting transcription";const{text:a}=pk(t);return a}function gk(e){const t=e.filter((e=>"pending"===e.state)),a=t[0];if(!a)return null;return t.reduce(((e,t)=>{const a=pk(t.progress);return a.stage<e.stage?a:(a.stageProgress,e.stageProgress,e)}),pk(a.progress))}function hk(e){var t;const a=e.filter((e=>"pending"===e.state));return a[0]?a.some((e=>!e.progress))?"Starting transcription":(null==(t=gk(e))?void 0:t.text)||"Starting transcription":null}function vk({assetTranscription:e,languageKey:t}){if(e){if(t===qp.value){const t=Object.values(e).find((e=>"completed"===(null==e?void 0:e.state)&&e.isLanguageAutoDetected));if(t)return t}return e[t]}}function fk({transcriptionIds:e,languageKey:t}){if(e){if(t===qp.value){const t=Object.values(e).find((e=>null==e?void 0:e.is_language_auto_detected));if(t)return t}return e[t]}}async function bk(e){let t;if("string"==typeof e||e instanceof String)t=e;else{if(!e)throw new Error("GetBlobDuration passed null blob");t=window.URL.createObjectURL(e)}try{return await Wx((async e=>{const{video:t}=e;return t.duration===1/0?new Promise((e=>{t.currentTime=Number.MAX_SAFE_INTEGER,t.ontimeupdate=()=>{t.ontimeupdate=null,e(t.duration),t.currentTime=0}})):t.duration}),{actionDescription:"Get blob duration",source:{url:t},maxQueueWaitTime:6e4,maxRuntime:15e3,priority:XC.LOW})}catch(a){return void console.warn(a)}}const yk=(e,t,a)=>Math.min(Math.max(parseFloat(e),t),a);const wk=function(e){const{layer:t,ctx:a,frameBezValue:n}=e;let{padding:s}=function(e){if(!sp(e))return{padding:0,doublePadding:0};let t=(e.lineHeight||1)*e.fontSize;"wrap"!==e.wrapOrFill&&(t=Math.min(e.position.pixel_height,e.position.pixel_width));const a=(e.textPadding||0)*t/100;return{padding:a,doublePadding:2*a}}(t);s*=2;const o=2*s;a.beginPath(),a.rect(-s,-s,(t.position.pixel_width+o)*n,t.position.pixel_height+o),a.clip()},_k=function(e){const{ctx:t,frameBezValue:a,invertedFrameBezValue:n}=e;t.globalAlpha=0,t.globalAlpha=a,t.filter=`blur(${String(12*n)}px)`},Ck=function(e){const{ctx:t,frameBezValue:a}=e;t.globalAlpha=a},Sk=function(e){const{ctx:t}=e;t.globalAlpha=0},xk=[.42,0,.58,1],Ik=X(...xk),Ak=[.25,.46,.45,.94],kk=X(...Ak),Tk=[.22,.19,.54,1.62],Ek=X(...Tk),Lk={none:{bezArray:[],animationFunction:()=>{},duration:0},"moving-zoom":{bezArray:[0,0,1,1],animationFunction:function(e){},duration:1},drop:{bezArray:[.175,.885,.32,1.275],animationFunction:function(e){const{ctx:t,frameBezValue:a}=e;t.scale(1,a)},duration:.5},"flicker-in-glow":{bezArray:[],animationFunction:function(e){const{ctx:t,framePercent:a}=e;let n;n=a>0&&a<.1?0:a>=.1&&a<.101||a>=.101&&a<.102?1:a>=.102&&a<.2?0:a>=.2&&a<.201?1:a>=.201&&a<.206?0:a>=.206&&a<.3||a>=.3&&a<.301?1:a>=.301&&a<.305?0:a>=.305&&a<.306||a>=.306&&a<.45?1:a>=.45&&a<.451?0:a>=.451&&a<.5?1:a>=.5&&a<.55?0:a>=.55&&a<.551||a>=.551&&a<.57?1:a>=.57&&a<.571?0:a>=.571&&a<.6||a>=.6&&a<.601?1:a>=.601&&a<.65||a>=.65&&a<.651?0:a>=.651&&a<.75||a>=.75&&a<.751?1:a>=.751&&a<.77?0:a>=.77&&a<.771||a>=.771&&a<.85?1:a>=.85&&a<.851?0:a>=.851&&a<.86?1:a>=.86&&a<.861?0:1,t.globalAlpha=n},duration:2},"focus-in":{bezArray:[.55,.085,.68,.53],animationFunction:function(e){const{layer:t,ctx:a,frameBezValue:n,invertedFrameBezValue:s}=e,o="number"==typeof t.globalAlpha?t.globalAlpha:1;a.globalAlpha=n*o;const i=`blur(${12*s}px)`;"none"===a.filter?a.filter=i:a.filter=`${a.filter}  ${i}`},duration:.5},"hue-rotate":{bezArray:[.25,.25,.75,.75],animationFunction:function(e){const{ctx:t,repeatingFramePercent:a}=e,n=`hue-rotate(${-360-360*a}deg)`;"none"===t.filter?t.filter=n:t.filter=`${t.filter}  ${n}`},duration:1},"pop-in-bounce":{bezArray:[.09,.54,.38,2.47],animationFunction:function(e){const{layer:t,ctx:a,frameBezValue:n,frameBezValueMinusOne:s}=e,o=t.position.pixel_width*(t.position.float_x+t.position.float_width/2)/100||0,i=t.position.pixel_height*(t.position.float_y+t.position.float_height/2)/100||0;a.translate(-o*s,-i*s),a.scale(n,n)},duration:.5},reveal:{bezArray:[.25,.1,.25,1],animationFunction:wk,duration:1},"slide-up":{bezArray:[.55,.085,.68,.53],animationFunction:function(e){const{frameBezValue:t,invertedFrameBezValue:a,ctx:n}=e;n.translate(0,20*a),n.globalAlpha=t},duration:.5},vibrate:{bezArray:[],animationFunction:function(e){const{ctx:t,fontSize:a,repeatingFramePercent:n}=e,s=.03*a,o=.2;let i=0,r=0;n>0&&n<=o?(i=-s*n/o,r=s*n/o):n>.2&&n<=.4?(i=-s,r=s-2*s*(n%o/o)):n>.4&&n<=.6?(r=2*s*(n%o/o)-s,i=2*s*(n%o/o)-s):n>.6&&n<.8?(r=s+s*(n%o/o),i=s):n>=.8&&n<1&&(r=2*s-2*s*(n%o/o),i=s-s*(n%o/o)),t.translate(i,r)},duration:.3},"wipe-rectangle":{bezArray:[.25,.1,.25,1],animationFunction:function(e){wk(e)},duration:1},"blur-in":{bezArray:[.24,.085,.72,.93],animationFunction:_k,duration:.5},"blur-out":{bezArray:[.24,.085,.72,.93],animationFunction:_k,duration:.5},"fade-in":{bezArray:[.24,.9,.72,.93],animationFunction:Ck,duration:.5},"fade-out":{bezArray:[.24,.9,.72,.93],animationFunction:Ck,duration:.5},"hide-in":{bezArray:[],animationFunction:Sk,duration:.5},"hide-out":{bezArray:[],animationFunction:Sk,duration:.5},"magic-fade":{bezArray:xk,animationFunction:function(e){const{frameTime:t,layer:a,ctx:n,animation:s}=e,{transitionDuration:o=0}=s,{startTime:i,endTime:r}=a;if(!i||!r)return;const l=t-i<r-t;let d,c,u;if(l?(d=i,c=d+o):(c=r,d=c-o),u=(t-d)/o,u=yk(u,0,1),l||(u=1-u),1===u)return;const p=Ik(u),m=20-20*p;n.filter=`blur(${m}px)`,n.globalAlpha=p},duration:2},"magic-flip":{bezArray:Ak,animationFunction:function(e){const{frameTime:t,layer:a,ctx:n,animation:s}=e,{transitionDuration:o=0}=s,{startTime:i,endTime:r}=a;if(!i||!r)return;const l=t-i<r-t;let d,c,u;if(l?(d=i,c=d+o):(c=r,d=c-o),u=(t-d)/o,u=yk(u,0,1),l||(u=1-u),1===u)return;const p=a.position.pixel_height*(a.position.float_y+a.position.float_height/2)/100||0,m=kk(u),g=m-1;n.translate(0,-p*g),n.scale(1,m)},duration:2},"magic-pop":{bezArray:Tk,animationFunction:function(e){const{frameTime:t,layer:a,ctx:n,animation:s}=e,{transitionDuration:o=0}=s,{startTime:i,endTime:r}=a;if(!i||!r)return;if(!(t-i<r-t))return;let l=(t-i)/o;if(l=yk(l,0,1),1===l)return;const d=a.position.pixel_width*(a.position.float_x+a.position.float_width/2)/100||0,c=a.position.pixel_height*(a.position.float_y+a.position.float_height/2)/100||0,u=.7+(1-.7)*Ek(l),p=u-1;n.translate(-d*p,-c*p),n.scale(u,u)},duration:2}},jk=Intl&&Intl.Segmenter,Rk=_.memoize((e=>{if(jk)try{return[...(new Intl.Segmenter).segment(e)].map((e=>e.segment))}catch(b9e){console.error("safeSplitText error",b9e)}return[...e]}));_.memoize((e=>{const t=Rk(e),a=[];let n="";for(const s of t)/^\s*$/.test(s)?n&&(a.push(n),n=""):n+=s;return n&&a.push(n),a}));function Nk(e){return[".","!","?","","","","",""].some((t=>!!e.endsWith(t)||!!e.includes(`${t}\n`)))}const Mk={"cross-dissolve":{intro:"fade-in",outro:"fade-out"},"cross-blur":{intro:"blur-in",outro:"blur-out"},...Object.assign({},...Z.map((({name:e})=>({[e]:{intro:"hide-in",outro:"hide-out"}}))))},Pk={"fade-in":Mc.FocusIn,"text-focus-in":Mc.FocusIn,"text-flicker-in-glow":Mc.FlickerInGlow,"linear-wipe":Mc.Reveal,"swing-in-top-fwd":Mc.Drop},Fk=function({animation:e,layer:t,ctx:a,frameTime:n,fontSize:s=50,studioAnimations:o=null}){if(!e||!t||!e.id)return null;let{start:i,end:r}=bp(t,5);i=parseFloat(i.toFixed(2)),r=parseFloat(r.toFixed(2));let l=Wk(e,o);e.animationName===Mc.MovingZoom&&(l=r-i);let d=Math.max(0,Math.min((n-i)/l,1)),c=Math.max(0,(n-i)/l%1);if("outro"===e.type){const e=n-(r-l);e<0?(d=0,c=0):(d=Math.min(e/l,1),c=e/l%1)}const u={animation:e,layer:t,ctx:a,id:e.id,fontSize:s,frameTime:n,framePercent:d,repeatingFramePercent:c,frameBezValue:0,invertedFrameBezValue:1,frameBezValueMinusOne:1},p=Pk[u.id];!e.transitionId&&p&&(u.id=p),Mk[u.id]&&(u.id=Mk[u.id][e.type]);const{bezArray:m=[],animationFunction:g=(()=>{})}=Lk[u.id]||{},h=((e,t,a,n)=>{let s=t;return"outro"===e.type&&(s=n<=a?1-t:1),s})(e,d,l,r-n);if(4===m.length){const e=X(m[0],m[1],m[2],m[3]);u.frameBezValue=e(h),u.frameBezValueMinusOne=u.frameBezValue-1,u.invertedFrameBezValue=Math.max(0,1-u.frameBezValue)}return u.animationFunction=g,u},Dk=(e,t)=>{if(!e.animation)return!1;if(e.animation.id&&"none"!==e.animation.id)return!0;return Uk(e,t).length>0||void 0},Ok=(e,t)=>{const a=Uk(e,t).find((({keyframeChannels:e})=>!!e));return(null==a?void 0:a.keyframeChannels)||{}},Uk=(e,t)=>{const a=[];if(!e.animation)return Object.values(t.byId).forEach((t=>{t.isCrossTransition?t.introLayerId===e.id?a.push({...t,type:"intro"}):t.outroLayerId===e.id&&a.push({...t,type:"outro"}):t.layerId===e.id&&a.push({...t,type:"constant"})})),a;if(e.animation&&e.animation.id)return"none"===e.animation.id?[]:[e.animation];for(const n of["intro","outro","constant"]){(e.animation[n]||[]).forEach((e=>{var s;const o="string"==typeof e?null==(s=null==t?void 0:t.byId)?void 0:s[e]:null;o?a.push({...o,type:n,id:o.animationName}):"none"!==e.id&&a.push(e)}))}return a},Bk=(e,t,a,n,s)=>{if(!t.animation)return;if(t.animation.id)return void((e,t,a,n)=>{const{animation:s}=e,o=Fk({animation:s,layer:e,ctx:t,frameTime:a,fontSize:n});o&&o.animationFunction&&o.animationFunction(o)})(t,a,n,s);const o=Uk(t,e),i=o.find((e=>"intro"===e.type)),r=o.find((e=>"outro"===e.type)),l=o.find((e=>"constant"===e.type)),{start:d,end:c}=bp(t,5),u=n-d,p={start:0,end:i?Wk(i,e):0},m={start:r?c-Wk(r,e)-d:0,end:r?c-d:0};if(l){const o=Fk({animation:l,layer:t,ctx:a,frameTime:n,fontSize:s,studioAnimations:e});if(!o||!o.animationFunction)return;o.animationFunction(o)}if(i&&u>=p.start&&u<p.end){const o=Fk({animation:i,layer:t,ctx:a,frameTime:n,fontSize:s,studioAnimations:e});if(!o||!o.animationFunction)return;o.animationFunction(o)}else if(r&&u>=m.start&&u<=m.end){const o=Fk({animation:r,layer:t,ctx:a,frameTime:n,fontSize:s,studioAnimations:e});if(!o||!o.animationFunction)return;o.animationFunction(o)}else n>c?i?a.globalAlpha=1:r&&(a.globalAlpha=0):n<d&&(i?a.globalAlpha=0:r&&(a.globalAlpha=1))},Wk=(e,t)=>{var a;let n,s;if("string"==typeof e){const o=null==(a=null==t?void 0:t.byId)?void 0:a[e];if(o){if(void 0!==o.transitionDuration)return o.transitionDuration;const e=Lk[o.animationName];e&&(n=e.duration,s=o.speed)}}else{if(void 0!==e.transitionDuration)return e.transitionDuration;n=e.animationName?(Lk[e.animationName]||{}).duration:e.duration,s=e.speed}switch(null==n&&(n=.5),s){case"slow":n*=2;break;case"fast":n*=.5}return n},Vk=e=>BC(e.time),Hk=(e,t,a)=>{const n={prevFrame:null,nextFrame:null,isAnimating:!1};if(!a.length)return n;const s=BC(e.videoDelay??e.startTime??0),o=a[0],i=a[a.length-1];if(!i||!o)throw Error();if(t>=Vk(i)+s)n.prevFrame=i||null;else if(t<o.time+s)n.nextFrame=o||null,n.isAnimating=!0;else{n.isAnimating=!0;for(let e=0;e<a.length;e++){const o=a[e];if(!o)throw Error();if(!(t>=Vk(o)+s))break;n.prevFrame=o||null,n.nextFrame=a[e+1]||null}}return n};function zk(e,t,a){return e+a*(t-e)}const Gk=(e,t,a,n)=>{if(!e)return a.value;const s=a.value,o=n.value,i=X(...e),r=a.time;return zk(s,o,i((t-r)/(n.time-r)))},Yk=(e,t,a,n)=>{if(!e)return a.value;const s=a.value,o=n.value,i=X(...e),r=q([s,o]),l=a.time;return r(i((t-l)/(n.time-l)))},Kk=(e,t,a,n)=>{if(!e)return a.value;const s=X(...e),o=a.value,i=n.value,r=a.time,l=n.time-r,d=t-r,c=Math.max(o,i)-Math.min(o,i),u=360-c,p=Math.min(c,u),m=Math.sign(i-o)*Math.sign(u-c);let g=o+s(d/l)*p*m;return g<0?g+=360:g>360&&(g-=360),g},Xk={position:(e,t,a,n)=>{if(!e)return a.value;const s=X(...e),o=a.value,i=n.value,r=n.time-a.time,l=s((t-a.time)/r),d=(parseFloat(i.x)-parseFloat(o.x))*l,c=(parseFloat(i.y)-parseFloat(o.y))*l;return{x:`${parseFloat(o.x)+d}%`,y:`${parseFloat(o.y)+c}%`}},zoom:Gk,opacity:Gk,brightness:Gk,contrast:Gk,saturate:Gk,blurPercent:Gk,background:Yk,rotation:Kk,volume:Gk},Zk=(e,t,a,n,s)=>{if(!t)return n.value;return(Xk[e]||((e,t,a,n)=>a.value??n.value))(t,a,n,s)},qk={bezArray:null,keyframes:[]},Jk=(e,t,a,n,s)=>{var o,i,r,l;let d=(null==(o=e.position)?void 0:o.adjusted_x)||0,c=(null==(i=e.position)?void 0:i.adjusted_y)||0,u=(null==(r=e.position)?void 0:r.pixel_width)||0,p=(null==(l=e.position)?void 0:l.pixel_height)||0;const m=t=>{var a,o;let i=d,r=c;const l=parseFloat((null==(a=e.position)?void 0:a.x)||"0"),u=parseFloat((null==(o=e.position)?void 0:o.y)||"0");return d&&c&&l&&u?(i=d*parseFloat(t.x)/l,r=c*parseFloat(t.y)/u):(i=parseInt(t.x)/100*n,r=parseInt(t.y)/100*s),{x:i,y:r}},g=Ok(e,t.animations),h=g.position||qk,v=g.zoom||qk,f=!!h.keyframes.length,b=!!v.keyframes.length,y=(f||b)&&!e.preProcessed&&!(e=>e.isCanvasBlurLayer||!!e.originalLayerId)(e);if(y){const t=e.videoDelay??e.startTime??0,{keyframes:n}=h,{prevFrame:s,nextFrame:o}=Hk(e,a,n);let i={x:d,y:c};if(o&&s){const e=s.value,n=o.value,r=m(e),l=m(n);let d=0,c=0;if(h.bezArray){const e=X(...h.bezArray),n=s.time??0,i=e((a-t-n)/((o.time??0)-n)),u=l.x-r.x,p=l.y-r.y;d=u*i,c=p*i}i={x:r.x+d,y:r.y+c}}else s?i=m(s.value):o&&(i=m(o.value));if(b){f||(i.x+=u/2,i.y+=p/2);const{bezArray:n,keyframes:s}=v,{prevFrame:o,nextFrame:r}=Hk(e,a,s),l=e.zoom||100;let d=l;d=o&&r?Gk(n,a-t,o,r):(null==o?void 0:o.value)||(null==r?void 0:r.value)||(null==e?void 0:e.zoom)||100;const c=d/l;u*=c,p*=c}"ellipse"!==e.shapeType&&(i.x-=u/2,i.y-=p/2),d=i.x,c=i.y,e.position&&(e.position.adjusted_x=d,e.position.adjusted_y=c,e.position.pixel_width=u,e.position.pixel_height=p)}return{xPos:d,yPos:c,width:u,height:p}},$k=(e,t,a)=>{var n,s;const o=e.background||"#000000";if(!t)return o;const i=(null==(n=t.background)?void 0:n.keyframes)||[],r=(null==(s=t.background)?void 0:s.bezArray)||null;if(!i.length)return o;const l=e.videoDelay??e.startTime??0,{prevFrame:d,nextFrame:c}=Hk(e,a,i);let u=o;return u=d&&c?Yk(r,a-l,d,c):(null==d?void 0:d.value)??(null==c?void 0:c.value)??o,u},Qk=(e,t,a)=>{const n={...e.filters};return t?("opacity"in t&&(n.opacity=((e,t,a)=>{var n,s,o;const i=(null==(n=e.filters)?void 0:n.opacity)??100;if(!t)return i;const r=(null==(s=t.opacity)?void 0:s.keyframes)||[],l=(null==(o=t.opacity)?void 0:o.bezArray)||null;if(!r.length)return i;const d=e.videoDelay??e.startTime??0,{prevFrame:c,nextFrame:u}=Hk(e,a,r);let p=i;return p=c&&u?Gk(l,a-d,c,u):(null==c?void 0:c.value)??(null==u?void 0:u.value)??i,p})(e,t,a)),"brightness"in t&&(n.brightness=((e,t,a)=>{var n,s,o;const i=(null==(n=e.filters)?void 0:n.brightness)??100;if(!t)return i;const r=(null==(s=t.brightness)?void 0:s.keyframes)||[],l=(null==(o=t.brightness)?void 0:o.bezArray)||null;if(!r.length)return i;const d=e.videoDelay??e.startTime??0,{prevFrame:c,nextFrame:u}=Hk(e,a,r);let p=i;return p=c&&u?Gk(l,a-d,c,u):(null==c?void 0:c.value)??(null==u?void 0:u.value)??i,p})(e,t,a)),"contrast"in t&&(n.contrast=((e,t,a)=>{var n,s,o;const i=(null==(n=e.filters)?void 0:n.contrast)??100;if(!t)return i;const r=(null==(s=t.contrast)?void 0:s.keyframes)||[],l=(null==(o=t.contrast)?void 0:o.bezArray)||null;if(!r.length)return i;const d=e.videoDelay??e.startTime??0,{prevFrame:c,nextFrame:u}=Hk(e,a,r);let p=i;return p=c&&u?Gk(l,a-d,c,u):(null==c?void 0:c.value)??(null==u?void 0:u.value)??i,p})(e,t,a)),"saturate"in t&&(n.saturate=((e,t,a)=>{var n,s,o;const i=(null==(n=e.filters)?void 0:n.saturate)??100;if(!t)return i;const r=(null==(s=t.saturate)?void 0:s.keyframes)||[],l=(null==(o=t.saturate)?void 0:o.bezArray)||null;if(!r.length)return i;const d=e.videoDelay??e.startTime??0,{prevFrame:c,nextFrame:u}=Hk(e,a,r);let p=i;return p=c&&u?Gk(l,a-d,c,u):(null==c?void 0:c.value)??(null==u?void 0:u.value)??i,p})(e,t,a)),"blurPercent"in t&&!(null==e?void 0:e.originalLayerId)&&(n.blurPercent=((e,t,a)=>{var n,s,o;const i=(null==(n=e.filters)?void 0:n.blurPercent)??100;if(!t)return i;const r=(null==(s=t.blurPercent)?void 0:s.keyframes)||[],l=(null==(o=t.blurPercent)?void 0:o.bezArray)||null;if(!r.length)return i;const d=e.videoDelay??e.startTime??0,{prevFrame:c,nextFrame:u}=Hk(e,a,r);let p=i;return p=c&&u?Gk(l,a-d,c,u):(null==c?void 0:c.value)??(null==u?void 0:u.value)??i,p})(e,t,a)),n):n},eT=new Set(["fade","BowTieVertical","BowTieWithParameter","CircleCrop","TopBottom","LeftRight","LinearBlur","ZoomLeftWipe","ZoomRigthWipe","angular","cannabisleaf","circle","coord-from-in","fadecolor","fadegrayscale","polar_function","squareswire"]),tT=[Pc.CrossDissolve,"CrossZoom"],aT=Object.assign({},...J.map((e=>({[e.name]:e})))),nT={[Pc.CrossDissolve]:{id:Pc.CrossDissolve,name:"Cross Dissolve",introAnimId:Mc.FadeIn,outroAnimId:Mc.FadeOut,isCrossTransition:!0,gltransition:!1},[Pc.CrossBlur]:{id:Pc.CrossBlur,name:"Cross Blur",introAnimId:Mc.BlurIn,outroAnimId:Mc.BlurOut,isCrossTransition:!0,gltransition:!1},...Object.assign({},...J.filter((({name:e})=>!eT.has(e))).map((({name:e,displayName:t})=>({[e]:{id:e,name:t,introAnimId:Mc.HideIn,outroAnimId:Mc.HideOut,isCrossTransition:!0,gltransition:!0}}))))},sT=e=>e in nT,oT=e=>!!lT(e),iT=[Pc.CrossDissolve,...J.filter((({name:e})=>!eT.has(e))).map((({name:e})=>e))].map((e=>({...nT[e]}))).sort(((e,t)=>{const a=tT.indexOf(e.id)+1||tT.length+1,n=tT.indexOf(t.id)+1||tT.length+1;return a===n?e.name.toLowerCase().localeCompare(t.name.toLowerCase()):a>n?1:-1}));function rT(e){return{...nT[e]}}function lT(e){return aT[e]}const dT=["video","image","persona"];function cT(e){return dT.includes(e.type)}const uT=e=>{let t=Q(`${e}`).hsl();const a=t.array()[1],n=t.array()[2];return a<25&&(t=t.saturationl(25)),n<25&&(t=t.lightness(25)),n>80&&(t=t.lightness(80)),t.hex()},pT=e=>[e.startTime||0,e.endTime||e.duration||Mu().state.studio.duration],mT=$(...Lk["magic-fade"].bezArray),gT=$(...Lk["magic-flip"].bezArray),hT=$(...Lk["magic-pop"].bezArray),vT={[Mc.None]:{id:Mc.None,name:"None",duration:Lk.none.duration,speed:"default",type:"none",animationFunc:()=>({})},[Mc.MagicFade]:{id:Mc.MagicFade,name:"Fade",duration:Lk["magic-fade"].duration,speed:"default",type:"constant",animationFunc:(e,t)=>{const a=t,{transitionDuration:n=0,transitionOverlapDuration:s=0}=a.transition||{},[o,i]=pT(t),r=e-o<i-e;let l,d,c;if(r?(l=o-s,d=l+n):(d=i+s,l=d-n),c=(e-l)/n,c=zg(c,0,1),r||(c=1-c),1===c)return{};const u=mT(c);return{WebkitFilter:`blur(${20-20*u}px)`,opacity:100*u+"%"}}},[Mc.MagicFlip]:{id:Mc.MagicFlip,name:"Flip",duration:Lk["magic-flip"].duration,speed:"default",type:"none",animationFunc:(e,t)=>{const a=t,{transitionDuration:n=0,transitionOverlapDuration:s=0}=a.transition||{},[o,i]=pT(t),r=e-o,l=i-e;if(Math.min(r,l)>n)return{};const d=r<l;let c,u,p;if(d?(c=o-s,u=c+n):(u=i+s,c=u-n),p=(e-c)/n,p=zg(p,0,1),d||(p=1-p),1===p)return{};return{transform:`scale(1, ${gT(p)})`,transformOrigin:"center"}}},[Mc.MagicPop]:{id:Mc.MagicPop,name:"Pop",duration:Lk["magic-pop"].duration,speed:"default",type:"none",animationFunc:(e,t)=>{const a=t,{transitionDuration:n=0,transitionOverlapDuration:s=0}=a.transition||{},[o,i]=pT(t),r=e-o,l=i-e;if(Math.min(r,l)>n)return{};if(!(r<l))return{};let d=(e-(o-s))/n;if(d=zg(d,0,1),1===d)return{};return{transform:`scale(${.7+(1-.7)*hT(d)})`,transformOrigin:"center"}}}},fT={...vT,[Mc.MovingZoom]:{id:Mc.MovingZoom,name:"Moving Zoom",duration:1,speed:"default",layerInvolvesMovement:!0,type:"constant",animationFunc:()=>({}),movingZoomOptions:{startValues:{topLeft:{x:0,y:0},bottomRight:{x:1,y:1}},endValues:{topLeft:{x:.15,y:.15},bottomRight:{x:.85,y:.85}}}},[Mc.Drop]:{id:Mc.Drop,name:"Drop",duration:Lk.drop.duration,speed:"default",layerInvolvesMovement:!0,type:"intro",animationFunc:(e,t,a)=>{const n=$(.175,.885,.32,1.275)(e);return{...zT({layer:t,transform:`${a} scaleY(${n})`})}}},[Mc.FlickerInGlow]:{id:Mc.FlickerInGlow,name:"Flicker",duration:Lk["flicker-in-glow"].duration,speed:"default",type:"intro",animationFunc:(e,t)=>{const a=_p(t)||1;return e>=0&&e<.1?{opacity:0}:e>=.1&&e<.101||e>=.101&&e<.102?{opacity:a}:e>=.102&&e<.2?{opacity:0}:e>=.2&&e<.201?{opacity:a}:e>=.201&&e<.206?{opacity:0}:e>=.206&&e<.3||e>=.3&&e<.301?{opacity:a}:e>=.301&&e<.305?{opacity:0}:e>=.305&&e<.306||e>=.306&&e<.45?{opacity:a}:e>=.45&&e<.451?{opacity:0}:e>=.451&&e<.5?{opacity:a}:e>=.5&&e<.55?{opacity:0}:e>=.55&&e<.551||e>=.551&&e<.57?{opacity:a}:e>=.57&&e<.571?{opacity:0}:e>=.571&&e<.6||e>=.6&&e<.601?{opacity:a}:e>=.601&&e<.65||e>=.601&&e<.65?{opacity:0}:e>=.651&&e<.75||e>=.75&&e<.751?{opacity:a}:e>=.751&&e<.77?{opacity:0}:e>=.77&&e<.771||e>=.771&&e<.85?{opacity:a}:e>=.85&&e<.851?{opacity:0}:e>=.851&&e<.86?{opacity:a}:e>=.86&&e<.861?{opacity:0}:e>=.861&&e<=.1?{opacity:a}:{}}},[Mc.FocusIn]:{id:Mc.FocusIn,name:"Fade",duration:Lk["focus-in"].duration,speed:"default",type:"intro",animationFunc:(e,t)=>{const a=_p(t)||1,n=$(.55,.085,.68,.53)(e),s=1*n;return{WebkitFilter:`blur(${12*(1-n)}px)`,opacity:s>a?a:s}}},[Mc.HueRotate]:{id:Mc.HueRotate,name:"Hue Rotate",duration:Lk["hue-rotate"].duration,speed:"default",animatesForever:!0,type:"constant",animationFunc:e=>({WebkitFilter:`hue-rotate(${-360*$(.25,.25,.75,.75)(e)}deg)`}),selectionFunc:e=>{switch(e.type){case Nc.Text:return{color:`${uT(e.color)}`,textShadow:"transparent",originalColor:e.color};case Nc.Shape:return{background:`${uT(e.background)}`,originalColor:e.background}}return{}}},[Mc.Reveal]:{id:Mc.Reveal,name:"Reveal",duration:Lk.reveal.duration,speed:"default",type:"intro",animationFunc:e=>{const t=100*(1-$(.22,1.03,.67,1)(e));return{WebkitClipPath:`inset( 0 ${t}% 0 0)`,clipPath:`inset( 0 ${t}% 0 0)`}}},[Mc.PopInBounce]:{id:Mc.PopInBounce,name:"Pop",duration:Lk["pop-in-bounce"].duration,speed:"default",type:"intro",animationFunc:(e,t)=>{const a=$(.09,.54,.38,2.47)(e);return tp(t)||np(t)||up(t)?{scale:a}:{transform:`scale(${a})`,transformOrigin:"center"}}},[Mc.SlideUp]:{id:Mc.SlideUp,name:"Slide",duration:Lk["slide-up"].duration,speed:"default",layerInvolvesMovement:!0,type:"intro",animationFunc:(e,t,a)=>{const n=_p(t)||1,s=$(.55,.085,.68,.53)(e);return{...HT({yPixels:20*(1-s),layer:t,transform:a}),opacity:e*n}}},[Mc.Vibrate]:{id:Mc.Vibrate,name:"Vibrate",duration:Lk.vibrate.duration,speed:"default",animatesForever:!0,layerInvolvesMovement:!0,type:"constant",animationFunc:(e,t,a)=>{const n=e%1,s=.03*parseInt(String(t.fontSize||"50")),o=.2;let i=0,r=0;return n>0&&n<=o?(i=-s*n/o,r=s*n/o):n>o&&n<=.4?(i=-s,r=s-2*s*(n%o/o)):n>.4&&n<=.6000000000000001?(r=2*s*(n%o/o)-s,i=2*s*(n%o/o)-s):n>.6000000000000001&&n<.8?(r=s+s*(n%o/o),i=s):n>=.8&&n<1&&(r=2*s-2*s*(n%o/o),i=s-s*(n%o/o)),HT({layer:t,xPixels:i,yPixels:r,transform:a})}},[Mc.WipeRectangle]:{id:Mc.WipeRectangle,name:"Wipe",duration:Lk["wipe-rectangle"].duration,speed:"default",type:"intro",animationFunc:e=>{const t=100*(1-$(.25,.1,.25,1)(e));return{WebkitClipPath:`inset( 0 ${t}% 0 0)`,clipPath:`inset( 0 ${t}% 0 0)`}}},[Mc.ProgressBar]:{id:Mc.ProgressBar,name:"Progress Bar",duration:1,speed:"default",type:"constant",animationFunc:e=>{const t=100*(1-e);return{WebkitClipPath:`inset( 0 ${t}% 0 0)`,clipPath:`inset( 0 ${t}% 0 0)`}}},[Mc.BlurIn]:{id:Mc.BlurIn,name:"Blur in",duration:Lk["blur-in"].duration,speed:"default",type:"intro",animationFunc:e=>{const t=$(.24,.085,.72,.93)(e);return{WebkitFilter:`blur(${12*(1-t)}px)`,opacity:t}}},[Mc.BlurOut]:{id:Mc.BlurOut,name:"Blur Out",duration:Lk["blur-out"].duration,speed:"default",type:"outro",animationFunc:e=>{const t=$(.24,.085,.72,.93)(e);return{WebkitFilter:`blur(${12*t}px)`,opacity:t}}},[Mc.FadeIn]:{id:Mc.FadeIn,name:"Fade in",duration:Lk["fade-in"].duration,speed:"default",type:"intro",animationFunc:e=>({opacity:$(.24,.9,.72,.93)(e)})},[Mc.FadeOut]:{id:Mc.FadeOut,name:"Fade Out",duration:Lk["fade-out"].duration,speed:"default",type:"outro",animationFunc:e=>({opacity:$(.24,.9,.72,.93)(e)})},[Mc.HideIn]:{id:Mc.HideIn,name:"Hide In",duration:Lk["hide-in"].duration,speed:"default",type:"intro",animationFunc:()=>({display:"none"})},[Mc.HideOut]:{id:Mc.HideOut,name:"Hide Out",duration:Lk["hide-out"].duration,speed:"default",type:"outro",animationFunc:()=>({display:"none"})}};function bT(e){return{...e}}const yT=["id","name","animationFunc","duration","speed"];function wT(e){if(!e)return!1;if(!e.id)return!1;if(e.duration<=0)return!1;for(const t of yT)if(!e[t])return!1;return!e.layerInvolvesMovement||"boolean"==typeof e.layerInvolvesMovement}function _T(e){let t=fT[Mc.None],a=e;return e?(!(e in fT)&&e in Pk&&(a=Pk[e]),t=fT[a],wT(t)?bT(t):bT(fT[Mc.None])):bT(t)}function CT(e,t=Mu().state.studio.animations){if(null==t?void 0:t.byId[e])return null==t?void 0:t.byId[e]}function ST(e,t){const a=e.intro||[],n=e.outro||[],s=e.constant||[],o=[],i=[],r=[];return a.forEach((e=>{const a=CT(e,t);a&&o.push(a)})),n.forEach((e=>{const a=CT(e,t);a&&i.push(a)})),s.forEach((e=>{const a=CT(e,t);a&&r.push(a)})),{intro:o,outro:i,constant:r}}function xT(e,t){let a,n=!0;if(sT(e.animationName)){const{introAnimId:n,outroAnimId:s}=rT(e.animationName);a="intro"===t?n:s}else e.animationName===Mc.None?a=Mc.None:(n=!1,a=e.animationName);const s=a in fT?fT[a]:void 0;if(wT(s)){if(e.isCrossTransition){return{...s,transitionDuration:e.transitionDuration,transitionId:n?e.animationName:void 0,animationStateMapId:e.id,type:t,isCrossTransition:!0,introLayerId:e.introLayerId,outroLayerId:e.outroLayerId}}return{...s,transitionDuration:e.transitionDuration,isCrossTransition:e.isCrossTransition,movingZoomOptions:e.movingZoomOptions,animationStateMapId:e.id,type:t,layerId:e.layerId}}return null}function IT(e){const t=e.intro||[],a=e.outro||[],n=e.constant||[],s=[],o=[],i=[];t.forEach((e=>{const t=xT(e,"intro");t&&s.push(t)})),a.forEach((e=>{const t=xT(e,"outro");t&&o.push(t)})),n.forEach((e=>{const t=xT(e,"constant");t&&i.push(t)}));return{intro:s,outro:o,constant:i}}function AT(e,t){const a={intro:[],constant:[],outro:[]};if(!e.animation)return a;const n=IT(ST(e.animation,t));return n||a}function kT(e){var t,a;const n=fT[Mc.None];if(!e.animation)return bT(n);if((null==(t=e.animation.constant)?void 0:t[0])===Mc.ProgressBar)return bT(fT[Mc.ProgressBar]);const s=IT(ST(e.animation));if(!s)return bT(n);let o=null;for(const r of Object.keys(s))if(s[r]&&(null==(a=s[r][0])?void 0:a.id)){const e=s[r][0];e&&(o=e)}if(!o||o.id===Mc.None)return bT(fT[Mc.None]);const i=_T(o.id);return i.transitionDuration=o.transitionDuration||.5,bT(i)}function TT(e,t){var a;const n=fT[Mc.None];if(!e.animation)return[bT(n)];if((null==(a=e.animation.constant)?void 0:a[0])===Mc.ProgressBar)return[bT(fT[Mc.ProgressBar])];const s=IT(ST(e.animation,t));if(!s)return[bT(n)];let o=[];for(const i of Object.keys(s)){if(!i)return[bT(n)];s[i]&&(o=[...o,s[i][0]])}return o.map((e=>{if(!e)return bT(n);const t=_T(e.id);return t.type=e.type,t.transitionDuration=e.transitionDuration,t.movingZoomOptions=e.movingZoomOptions,bT(t)}))}function ET(e,t,a){var n,s;if(!e.animation)return null;const o=IT(ST(e.animation,a));if(!o)return null;let i=null;if(null==(n=null==o?void 0:o[t])?void 0:n[0]){const e=null==(s=null==o?void 0:o[t])?void 0:s[0];e&&(i=e)}if(!i||i.id===Mc.None)return null;return{..._T(i.id),...i}}function LT(e,t){if(!e.animation)return{introTransition:null,outroTransition:null};const a=IT(ST(e.animation,t));if(!a)return{introTransition:null,outroTransition:null};let n=null,s=null;for(const r of Object.keys(a)){const e=a[r][0];e&&e.isCrossTransition&&("intro"===r&&(n=e),"outro"===r&&(s=e))}if(!n&&!s)return{introTransition:null,outroTransition:null};let o=null,i=null;return n&&(o=bT({..._T(n.id),...n})),s&&(i=bT({..._T(s.id),...s})),{introTransition:o,outroTransition:i}}const jT=(e,t)=>{const{introTransition:a,outroTransition:n}=LT(e,t);return{introDuration:(null==a?void 0:a.transitionDuration)||0,outroDuration:(null==n?void 0:n.transitionDuration)||0}};const RT=e=>e.map((e=>({...fT[e]}))),NT=RT([Mc.None,Mc.Drop,Mc.FlickerInGlow,Mc.FocusIn,Mc.Reveal,Mc.PopInBounce,Mc.SlideUp,Mc.WipeRectangle]),MT=RT([Mc.None,Mc.Vibrate]),PT=RT([Mc.None,Mc.Drop,Mc.FlickerInGlow,Mc.FocusIn,Mc.Reveal,Mc.PopInBounce,Mc.SlideUp]),FT=RT([Mc.None,Mc.HueRotate,Mc.Vibrate,Mc.MovingZoom]),DT=RT([Mc.None,Mc.FlickerInGlow,Mc.FocusIn,Mc.Reveal,Mc.SlideUp]),OT=RT([Mc.None,Mc.HueRotate,Mc.Vibrate]),UT=RT([Mc.None,Mc.HueRotate,Mc.MovingZoom]),BT=RT([Mc.None,Mc.Drop,Mc.FocusIn,Mc.FlickerInGlow,Mc.Reveal,Mc.PopInBounce,Mc.SlideUp]),WT=RT([Mc.FadeIn,Mc.FadeOut,Mc.BlurIn,Mc.BlurOut,Mc.HideIn,Mc.HideOut]),VT=RT([Mc.FocusIn,Mc.Drop,Mc.FlickerInGlow,Mc.Reveal,Mc.PopInBounce,Mc.SlideUp]),HT=({layer:e,xPixels:t=0,yPixels:a=0,transform:n=""})=>{switch(e.type){case Nc.Audio:case Nc.Video:case Nc.Image:case Nc.Shape:return{x:t,y:a,transform:n};case Nc.Text:return{transform:`${n} translate(${t}px, ${a}px)`};default:return{}}},zT=({layer:e,transform:t=""})=>{switch(e.type){case Nc.Audio:case Nc.Video:case Nc.Image:case Nc.Shape:case Nc.Text:return{transform:t};default:return{}}};function GT(e){const t=kT(e);return!e.animation||"none"===t.id}function YT(e){return!(e.requireConversion||"gif-to-webm"===e.conversion_type)}function KT(e){return!Uc(e)&&!(function(e){return!(!e.isReversed&&!e.isAudiogram)||!!np(e)&&!!(e.removeBg||e.blurBg||e.chromaKey||!GT(e)||e.audioEffect)}(e)||Mp(e)||!YT(e)||ep(e)||!e.width||!e.height)}function XT(e){return!!KT(e)||!Rp(e)&&(!(!np(e)&&!ep(e))&&(!(!YT(e)||e.isReversed)&&(!np(e)||!(e.removeBg||e.blurBg||e.chromaKey||!GT(e)||e.audioEffect))))}const ZT=30,qT=1/30,JT=new WeakMap;function $T(e,t){const a=Km(JT,e,{insert:()=>new AbortController,update:e=>(e.abort(),new AbortController)}),{signal:n}=a;return new Promise(((s,o)=>{function i(){n.removeEventListener("abort",l),e.removeEventListener("seeking",d),e.removeEventListener("seeked",c),e.removeEventListener("error",r),e.removeEventListener("loadedmetadata",u)}function r(t){i(),console.error(e.id,"failed loading with: ",t),o()}function l(){i(),o(n.reason)}function d(e){e.target instanceof HTMLVideoElement&&(VC(t,e.target.currentTime,1/30)||a.abort())}function c(){i(),s()}function u(){e.currentTime=t}RS(n),n.addEventListener("abort",l),e.addEventListener("error",r),e.addEventListener("seeking",d),e.addEventListener("seeked",c),e.addEventListener("loadedmetadata",u),e.readyState>=HTMLMediaElement.HAVE_METADATA?e.currentTime=t:__()&&e.load()})).catch((()=>{}))}function QT(e,t,a=1/30){const n=VC(e.currentTime,t,a),s=e.readyState>HTMLMediaElement.HAVE_METADATA,o="seeking"===e.dataset.seekStatus;n&&s&&0!==t&&!o||(e.currentTime=t)}function eE(e,t,a=1/30){const n=VC(e.currentTime,t,a),s=e.readyState>HTMLMediaElement.HAVE_METADATA,o="seeking"===e.dataset.seekStatus;return n&&s&&0!==t&&!o?Promise.resolve():$T(e,t)}async function tE(e){return Wx((async({video:e})=>{const{duration:t}=e,a=document.createElement("canvas"),n=e.videoHeight,s=e.videoWidth,o=n/s;a.width=200,a.height=200*o;const i=await cI(e),r=await async function(e,t,a){await $T(e,a);const n=t.getContext("2d");if(!n)throw new Error("Failed to get 2d context");n.drawImage(e,0,0,e.videoWidth,e.videoHeight,0,0,t.width,t.height);return await async function(e){return new Promise((t=>{e.toBlob((e=>t(e)),"image/jpeg",.6)}))}(t)}(e,a,0);return{duration:t,height:n,width:s,thumbnail:r,hasAudio:i}}),{source:{url:e},maxQueueWaitTime:15e3,maxRuntime:5e3,priority:XC.LOW,sentryInfo:{level:"warning"},actionDescription:"get IDB video metadata"})}const aE=(e,t)=>{let a=null;return new Promise(((n,s)=>{try{const o=(new Error).stack,i=new Image;i.onload=()=>{n({width:i.width,height:i.height})},i.onerror=a=>{const n=e.type.startsWith("video");s(new $v("getImageDimensions failed to load image",{...t,extra:{...null==t?void 0:t.extra,name:e.name,type:e.type,size:e.size,...NC(a)},stack:o,skipSentry:n}))},a=URL.createObjectURL(e),i.src=a}catch(o){s(o)}})).finally((()=>{a&&URL.revokeObjectURL(a)}))},nE=(e,t)=>UC({actionDescription:"get image dimensions",promise:aE(e,t||{}),timeoutMs:3e3,sentryInfo:()=>({...t,extra:{...null==t?void 0:t.extra,name:e.name,type:e.type,size:e.size}})});async function sE(e,t,a,n){const[s,o,i]=await Promise.all([e,t,a].map((e=>e?tE(URL.createObjectURL(e)):Promise.resolve(void 0))));return{...s&&e&&{file_v2:{file:e,duration:s.duration,width:s.width,height:s.height,hasAudio:n??s.hasAudio}},...o&&t&&{optimizedPreviewFile_v2:{file:t,duration:o.duration,width:o.width,height:o.height,hasAudio:n??o.hasAudio}},...i&&a&&{trackOptimizedPreviewFile_v2:{file:a,duration:i.duration,width:i.width,height:i.height,hasAudio:n??i.hasAudio}},thumbnail:(null==s?void 0:s.thumbnail)||(null==o?void 0:o.thumbnail)||(null==i?void 0:i.thumbnail)||void 0,thumbnailSource:(!(null==s?void 0:s.thumbnail)?!!(null==o?void 0:o.thumbnail)&&"preview":"original")||!!(null==i?void 0:i.thumbnail)&&"thumbnail"}}async function oE({optimizedPreviewFile:e,originalFile:t,trackOptimizedPreviewFile:a,extraErrorOptions:n}){const[s,o,i]=await Promise.all([t,e,a].map((e=>e?nE(e,n):Promise.resolve(void 0))));return{...s&&t&&{file_v2:{file:t,width:s.width,height:s.height}},...o&&e&&{optimizedPreviewFile_v2:{file:e,width:o.width,height:o.height}},...i&&a&&{trackOptimizedPreviewFile_v2:{file:a,width:i.width,height:i.height}}}}"undefined"!=typeof window&&(window.idbCache||(window.idbCache={}));const iE=new Map;let rE=1e3;const lE={};function dE(e,t){Object.values(lE[e]||{}).forEach((e=>e(t)))}function cE(e,t){lE[e]||(lE[e]={});const a=lE[e];if(!a)throw Error();const n=(rE+=1,rE);a[n]=t;const s=window.idbCache[e];return s?"complete"===s.status?t(s.asset):s.subscribers.push(t):SE(e).then((e=>{e&&t(e)})),()=>{var t;null==(t=lE[e])||delete t[n]}}async function uE(e,t){let a=iE.get(e);a||(a=new ee,iE.set(e,a));const n=await a.acquire();try{return await t()}finally{n()}}async function pE(e){const{mediaLibraryID:t}=e,a=window.idbCache[t];a?(a.status="complete",a.asset=e,dE(t,e)):window.idbCache[t]={subscribers:[],asset:e,status:"complete"};try{await(await BS()).add("assets",e),lx(t,e)}catch(n){return FS({error:n,asset:e,fn:"addNewAssetToIDB"}),!1}return!0}function mE(e){var t;const{state:a}=Mu(),n=a.mediaCache.mediaCacheIdToAssetId[e],s=n?a.assets.byId[n]:null;return(null==(t=null==s?void 0:s.preview)?void 0:t.hasAudio)??void 0}async function gE(e,t,a){try{const n={...e,...t};if("video"===e.type&&a){const s=e=>{switch(e){case"original":return 3;case"preview":return 2;case"track":return 1;default:return 0}},o=mE(n.mediaLibraryID),i=await sE(a.original,a.preview,a.track,o),r={file_v2:e.file_v2,optimizedPreviewFile_v2:e.optimizedPreviewFile_v2,trackOptimizedPreviewFile_v2:e.trackOptimizedPreviewFile_v2,thumbnail:e.thumbnail,thumbnailSource:e.thumbnailSource},l={...r,...i};if(s(r.thumbnailSource)>s(null==i?void 0:i.thumbnailSource)&&(l.thumbnail=r.thumbnail,l.thumbnailSource=r.thumbnailSource),a.thumbnailSheet){const{width:n,height:s}=await nE(a.thumbnailSheet.file,{extra:{asset:e,properties:t}});l.thumbnailSheet={file:a.thumbnailSheet.file,thumbnail_width:a.thumbnailSheet.thumbnail_width,thumbnail_height:a.thumbnailSheet.thumbnail_height,fps:a.thumbnailSheet.fps,width:n,height:s}}Object.assign(n,l)}const s=window.idbCache[e.mediaLibraryID];return s&&(s.status="complete",s.asset=n),dE(e.mediaLibraryID,n),await(await BS()).put("assets",n),lx(n.mediaLibraryID,n),!0}catch(n){FS({error:n,asset:e,fn:"updateAssetInIDB"})}return!1}async function hE(e){try{await(await BS()).delete("pendingConversions",e)}catch(t){FS({error:t,fn:"deletePendingConversion"})}}async function vE(){let e=[];try{e=await(await BS()).getAll("pendingConversions")}catch(t){FS({error:t,fn:"getPendingConversions"})}return e}async function fE(e,t,a,n,s){try{await(await BS()).add("pendingConversions",{name:a,mediaLibraryID:g(),conversion_id:e,id:t,uploadId:n,cmlFileId:s})}catch(o){FS({error:o,fn:"addPendingConversion"})}}async function bE(e,t,a){return uE(e,(async()=>{const{state:n}=Mu(),s=n.currentUser.user._id??"anonymous",o={mediaLibraryID:e,timestamp:new Date,user_id:s,type:a,waveformData_v6:t,duration:t.duration};try{const a=await xE(e);return a?await gE(a,{waveformData_v6:t}):await pE(o)}catch(i){return console.error("Error trying to add asset waveform into idb",i),FS({error:i,asset:o,fn:"addAssetWaveform"}),!1}}))}async function yE(e,t,a){return uE(e,(async()=>{try{const n=await xE(e);return n?await gE(n,t,a):(console.error(`Could not find asset ${e}`),!1)}catch(n){FS({error:n,fn:"updateAsset"})}}))}async function wE(e,t){return uE(e,(async()=>{try{const a=await xE(e);if(!a)return console.error(`Could not find asset ${e}`),!1;if(a.type!==Nc.Video)return console.error(`Asset ${e} is not a video`),!1;const{file_v2:n,optimizedPreviewFile_v2:s}=a,o={...a};n&&(o.file_v2={...n,hasAudio:t}),s&&(o.optimizedPreviewFile_v2={...s,hasAudio:t});const i=window.idbCache[a.mediaLibraryID];return i&&(i.status="complete",i.asset=o),dE(a.mediaLibraryID,o),await(await BS()).put("assets",o),!0}catch(a){FS({error:a,fn:"updateVideoHasAudio"})}}))}async function _E({mediaCacheId:e,type:t,file:a,optimizedPreviewFile:n,trackOptimizedPreviewFile:s,thumbnailSheet:o,extraErrorOptions:i}){if(!(t!==Nc.Video||a||n||s||o))throw Error("No files provided for video asset");const r={mediaCacheId:e,type:t,file:a,optimizedPreviewFile:n,trackOptimizedPreviewFile:s,thumbnailSheet:o};return uE(e,(async()=>{const{state:l}=Mu(),d=l.currentUser.user._id??"anonymous",c=mE(e);try{const l=await xE(e);if(l){if(l.type===Nc.Video){const e={};if(a&&!l.file_v2&&(e.original=a),n&&!l.optimizedPreviewFile_v2&&(e.preview=n),s&&!l.trackOptimizedPreviewFile_v2&&(e.track=s),o&&!l.thumbnailSheet&&(e.thumbnailSheet=o),0===Object.keys(e).length)return!1;const t=await sE(a,n,s,c);return await gE(l,t,e)}if(l.type===Nc.Image){const e=await oE({originalFile:a,optimizedPreviewFile:n,trackOptimizedPreviewFile:s,extraErrorOptions:i});return await gE(l,e)}if(l.file)return!1;const e={file:a};if(t===Nc.Audio){const t=n||a;if(!t)throw new $v("No file to check for audio duration",{extra:{args:r}});const s=await bk(t);s&&(e.duration=s)}return await gE(l,e)}let u;if(t===Nc.Video){const t=await sE(a,n,s,c);if(u={mediaLibraryID:e,timestamp:new Date,user_id:d,type:Nc.Video,...t},o){const{width:e,height:t}=await nE(o.file,i);u.thumbnailSheet={file:o.file,thumbnail_width:o.thumbnail_width,thumbnail_height:o.thumbnail_height,fps:o.fps,width:e,height:t}}}else if(t===Nc.Image){const t=await oE({originalFile:a,optimizedPreviewFile:n,trackOptimizedPreviewFile:s,extraErrorOptions:i});u={mediaLibraryID:e,timestamp:new Date,user_id:d,type:Nc.Image,...t}}else{if(t!==Nc.Audio){const n=window.idbCache[e];throw n&&(n.status="failed"),dE(e,null),new Error(`IDB.addAsset. File type not supported: ${null==a?void 0:a.type} (layer type was ${t})`)}{const t=n||a;if(!t)throw new $v("No file to check for audio duration",{extra:{args:r}});const s=await bk(t);if(void 0===s)throw new $v("Unable to get audio duration",{extra:{args:r,...MC(t)}});u={file:a,mediaLibraryID:e,timestamp:new Date,user_id:d,duration:s,type:Nc.Audio}}}return await pE(u)}catch(u){return console.error("Error adding asset files",u),FS({error:u,fn:"addAssetFile"}),!1}}))}async function CE(e){return uE(e,(async()=>{try{const{idbCache:t}=window;delete t[e];const a=await BS(),n=[];n.push(a.delete("assets",e)),n.push(a.delete("mp4Headers",e)),n.push(a.getAllKeysFromIndex("mp4Segments","mediaCacheId",e).then((async e=>{const t=[];for(const n of e)t.push(a.delete("mp4Segments",n));await Promise.all(t)}))),await Promise.all(n),lx(e,null),function(e,t){sx[e]=t}(e,0)}catch(t){FS({error:t,fn:"deleteAsset"})}}))}async function SE(e){let t;const{idbCache:a}=window,n=a[e];if(n&&"complete"===n.status)t=n.asset;else if(n&&"pending"===n.status)t=await new Promise((e=>{n.subscribers.push(e)}));else{a[e]={subscribers:[],status:"pending"};try{t=await UC({actionDescription:"IDB getAsset",timeoutMs:7e3,promise:(await BS()).get("assets",e),sentryInfo:()=>({level:"warning"})});const n=a[e];n&&(t?(n.status="complete",n.asset=t):n.status="failed")}catch(s){const t=a[e];t&&(t.status="failed"),FS({error:s,fn:"getAsset"})}finally{const n=a[e];n&&(n.subscribers.forEach((e=>{e(t)})),n.subscribers=[])}}return t}async function xE(e){if(window.indexedDB){const t=await(await BS()).get("assets",e);if(null!=t)return t}const{idbCache:t}=window,a=t[e];if(a)switch(a.status){case"complete":return a.asset;case"failed":return;case"pending":return new Promise((e=>{a.subscribers.push(e)}))}}function IE(e){const{idbCache:t}=window,a=t[e];if(a&&"complete"===a.status)return a.asset}async function AE(){try{const e=[];e.push((await BS()).getAllKeys("assets")),e.push((await BS()).getAllKeys("mp4Headers"));const t=(await Promise.all(e)).flat();return[...new Set(t)]}catch(e){FS({error:e,fn:"getAllAssetIds"})}return[]}function kE(e){const[t,a]=i.useState(null);return i.useEffect((()=>{if(!e)return a(null),()=>{};return cE(e,(e=>{e&&a(e)}))}),[e]),(null==t?void 0:t.mediaLibraryID)!==e?null:t}function TE(e,t){var a,n,s;if("audio"===e.type)return["original",e.file||null];if(!t)return(null==(a=e.file_v2)?void 0:a.file)?["original",null==(n=e.file_v2)?void 0:n.file]:["preview",(null==(s=e.optimizedPreviewFile_v2)?void 0:s.file)||null];const[o]=t.map((t=>{var a,n,s,o;switch(t){case"original":return["original",null==(a=e.file_v2)?void 0:a.file];case"preview":return["preview",null==(n=e.optimizedPreviewFile_v2)?void 0:n.file];case"track":return["track",null==(s=e.trackOptimizedPreviewFile_v2)?void 0:s.file];case"thumbnail_sheet":if("video"!==e.type)throw Error("Can't get the thumbnail sheet of a non-video asset");return["thumbnail_sheet",null==(o=e.thumbnailSheet)?void 0:o.file];default:return[null,null]}})).filter((([e,t])=>!!t));return o||[null,null]}const EE=["original","preview","track"];function LE(e,t){if("video"!==e.type)return{file:e.file,hasAudio:!0,assetQuality:"original",assetDuration:e.duration};let a,n;for(const s of t||EE)switch(s){case"original":if(e.file_v2){a=e.file_v2,n="original";break}continue;case"preview":if(e.optimizedPreviewFile_v2){a=e.optimizedPreviewFile_v2,n="preview";break}continue;case"track":if(e.trackOptimizedPreviewFile_v2){a=e.trackOptimizedPreviewFile_v2,n="track";break}continue;default:continue}return{file:null==a?void 0:a.file,hasAudio:null==a?void 0:a.hasAudio,assetQuality:n,assetDuration:null==a?void 0:a.duration}}function jE({idbAsset:e,includeHasAudio:t,fileSelectionOrder:a}){if("audio"===e.type)return{duration:e.duration};let n=null;a?[n]=a.map((t=>{switch(t){case"original":return e.file_v2;case"preview":return e.optimizedPreviewFile_v2;case"track":return e.trackOptimizedPreviewFile_v2;default:return null}})).filter((e=>!!e)):n=e.file_v2||e.optimizedPreviewFile_v2;const s={height:null==n?void 0:n.height,width:null==n?void 0:n.width};if("image"===e.type)return s;const o=n;return s.duration=null==o?void 0:o.duration,t&&(s.hasAudio=null==o?void 0:o.hasAudio),s}function RE(e){setTimeout((()=>{e()}))}let NE=new Set;const ME=e=>{for(const t of e)NE.add(t)},PE=m({initialState:{byId:{}},name:"assets",reducers:{assetTranscriptionFailed:(e,t)=>{const{assetId:a,languageKey:n}=t.payload,s=e.byId[a]||{},o={assetId:a,state:"failed"};s[n]=o,e.byId[a]=s},assetTranscriptionFetched:(e,t)=>{t.payload.forEach((({assetId:t,languageKey:a,status:n})=>{const s=e.byId[t]||{};s[a]=n,"completed"===n.state&&n.isLanguageAutoDetected&&delete s[qp.value],e.byId[t]=s}))},assetTranscriptionCancelled:(e,t)=>{const{assetId:a,languageKey:n}=t.payload,s=e.byId[a]||{};s[n]=void 0,e.byId[a]=s}}}),{assetTranscriptionFailed:FE,assetTranscriptionFetched:DE,assetTranscriptionCancelled:OE}=PE.actions,UE={_id:"65b168557927b99764ba9e8a",blob_name:"circle_logo-5HHKIH9dl.png",bucket_name:"kapwing-useast1",conversion_id:null,content_type:"image/png",name:"circle logo.png",status:2,created:"Wed Jan 24 2024 12:43:17 GMT-0700 (Mountain Standard Time)",modified:"Wed Jan 24 2024 12:43:17 GMT-0700 (Mountain Standard Time)",source:"fromAsset",url:"https://cdn-useast1.kapwing.com/static/qGr-circle_logo-5HHKIH9dl.png",dimensions:{width:1633,height:1633},file_size:35876,metadata_stage:1,size:35876,preview:{_id:"65b168557927b99764ba9e8a",blob_name:"circle_logo-5HHKIH9dl.png",bucket_name:"kapwing-useast1",conversion_id:null,content_type:"image/png",name:"circle logo.png",status:2,usedProFeature:null,original_asset_id:"65aac0cc55436be44c096181",dimensions:{width:1633,height:1633},created:"2024-01-19T18:34:55.272Z",modified:"2024-01-19T18:34:55.272Z",source:"fromAsset",url:"https://cdn-useast1.kapwing.com/static/qGr-circle_logo-5HHKIH9dl.png"},preview_asset_id:"65aac0cf55436be44c096184",track_preview:{_id:"65aac0cf870ace6924eeb8b3",blob_name:"circle_logo-5HHKIH9dl.png",bucket_name:"kapwing-useast1",conversion_id:null,content_type:"image/png",name:"circle logo.png",status:2,usedProFeature:null,original_asset_id:"65aac0cc55436be44c096181",dimensions:{width:1633,height:1633},created:"2024-01-19T18:34:55.316Z",modified:"2024-01-19T18:34:55.316Z",source:"fromAsset",url:"https://cdn-useast1.kapwing.com/static/qGr-circle_logo-5HHKIH9dl.png"},track_preview_asset_id:"65aac0cf870ace6924eeb8b3"},BE=(e,t,a)=>{const n=e.assetIdByLayerId[a];if(e.assetIdByLayerId[a]=t,n&&e.layerIdsByAssetId[n]){const t=e.layerIdsByAssetId[n]||[];e.layerIdsByAssetId[n]=t.filter((e=>e!==a))}const s=e.layerIdsByAssetId[t];s?s.push(a):e.layerIdsByAssetId[t]=[a]},WE=(e,t,a)=>{if(t.asset_id){const n=t.asset_id;BE(e,n,a)}},VE=(e,t,a)=>{if(a&&(e.assetIdByLayerId[t]&&delete e.assetIdByLayerId[t],e.layerIdsByAssetId[a])){const n=e.layerIdsByAssetId[a]||[];e.layerIdsByAssetId[a]=n.filter((e=>e!==t))}},HE=(e,t)=>{const a=(()=>{const e=NE;return NE=new Set,e})();a.size>0&&(t.assets=te(t.assets,(n=>{for(const s of a){const a=t.studio.allLayers.byId[s],o=null==e?void 0:e.studio.allLayers.byId[s];a?o?WE(n,{asset_id:a.asset_id},s):a.asset_id&&BE(n,a.asset_id,s):VE(n,s,null==o?void 0:o.asset_id)}})))};function zE(e){RE((()=>{var t;const{state:a}=Mu(),n=a.mediaCache.assetIdToMediaCacheId[e._id],s=null==(t=e.preview)?void 0:t.hasAudio;if(null==s)return;n&&wE(n,s);const o={};for(const i of Object.values(a.studio.allLayers.byId))i.asset_id===e._id&&(i.hasAudio||null!=i.detachedAudioId||(o[i.id]={hasAudio:s}));uk(o,"assetsFetched")}))}const GE=m({initialState:{byId:{[UE._id]:UE},estimatedDurationsById:{},layerIdsByAssetId:{},assetIdByLayerId:{},localAssetInfo:{},assetWaveformData:{}},name:"assets",reducers:{addEstimatedDuration:(e,t)=>{e.estimatedDurationsById[t.payload.assetId]=t.payload.duration},assetsFetched:(e,t)=>{var a,n;for(const s of t.payload){const t=e.byId[s._id],o={...s,preview:null==s.preview?null==t?void 0:t.preview:s.preview,track_preview:null==s.track_preview?null==t?void 0:t.track_preview:s.track_preview};e.byId[s._id]=o,null!=(null==(a=o.preview)?void 0:a.hasAudio)&&o.preview.hasAudio!==o.hasAudio&&(o.hasAudio=null==(n=o.preview)?void 0:n.hasAudio,zE(o))}},updateAsset:(e,t)=>{const a=e.byId[t.payload.assetId];a&&(e.byId[t.payload.assetId]={...a,...t.payload.update})},clearWaveformDataForAssets:(e,t)=>{var a;for(const n of t.payload.assetIds){delete e.assetWaveformData[n];const t=e.byId[n];t&&delete t.waveformInfo}for(const n of t.payload.mediaCacheIds)null==(a=e.localAssetInfo[n])||delete a.localWaveformData},updateAssetWaveformData:(e,t)=>{e.assetWaveformData[t.payload.assetId]={...e.assetWaveformData[t.payload.assetId],...t.payload.update}},updateAssetIdOnLayers:(e,t)=>{const{assetId:a,layerIds:n}=t.payload;n.forEach((t=>{BE(e,a,t)}))},updateLocalAssetInfo:(e,t)=>{const a=t.payload;Object.entries(a).forEach((([t,a])=>{const n=e.localAssetInfo[t]||{};e.localAssetInfo[t]={...n,...a}}))},DEVONLY_deletePreviews:(e,t)=>{for(const a of t.payload){const t=e.byId[a];t&&(delete t.preview,delete t.preview_asset_id,delete t.track_preview,delete t.track_preview_asset_id)}}},extraReducers:e=>{e.addCase(DE,((e,t)=>{t.payload.forEach((t=>{var a;const n=e.byId[t.assetId];if(n)if(n.transcriptionIds||(n.transcriptionIds={}),"pending"===t.status.state)n.transcriptionIds[t.languageKey]={job:t.status.transcriptionId,is_language_auto_detected:t.languageKey===qp.value};else if("completed"===t.status.state){let e;if(t.status.isLanguageAutoDetected)e=qp.value in n.transcriptionIds;else{e=!!fk({transcriptionIds:n.transcriptionIds,languageKey:t.languageKey})}if(e){const e={result:t.status.assetTranscriptionId,is_language_auto_detected:t.status.isLanguageAutoDetected};t.status.isLanguageAutoDetected&&(e.job=null==(a=n.transcriptionIds[qp.value])?void 0:a.job,delete n.transcriptionIds[qp.value]),n.transcriptionIds[t.languageKey]={...n.transcriptionIds[t.languageKey],...e}}else console.error("Completed transcription without pending transcription")}}))})),e.addCase("SET_STUDIO",((e,t)=>{const a={},n={};for(const s of Object.values(t.studio.allLayers.byId)){if(!s.asset_id)continue;a[s.id]=s.asset_id;let e=n[s.asset_id];e||(e=[],n[s.asset_id]=e),e.push(s.id)}e.assetIdByLayerId=a,e.layerIdsByAssetId=n})),e.addCase("ADD_LAYERS",((e,t)=>{t.layers.forEach((t=>{if(!t.asset_id)return;e.assetIdByLayerId[t.id]=t.asset_id;const a=e.layerIdsByAssetId[t.asset_id];a?a.includes(t.id)||a.push(t.id):e.layerIdsByAssetId[t.asset_id]=[t.id]}))})),e.addCase("REMOVE_LAYER",((e,t)=>{VE(e,t.layer.id,t.layer.asset_id)})),e.addCase("REMOVE_LAYERS",((e,t)=>{t.layers.forEach((t=>{VE(e,t.id,t.asset_id)}))})),e.addCase("UPDATE_LAYER",((e,t)=>{WE(e,t.properties,t.layer.id)})),e.addCase("UPDATE_LAYERS",((e,t)=>{Object.entries(t.updates).forEach((([t,a])=>{WE(e,a,t)}))}))}}),{assetsFetched:YE,updateAsset:KE,updateLocalAssetInfo:XE,updateAssetWaveformData:ZE,updateAssetIdOnLayers:qE}=GE.actions,JE=GE.actions;function $E({asset:e,fallback:t,timelineLayer:a,uploadingLayer:n,cmlFile:s}){return s&&s.fileName?s.fileName:e&&e.name?e.name:n&&n.name?n.name:(null==a?void 0:a.name)?a.name:e&&e.blob_name?e.blob_name:t}function QE(e){var t;const a=OA(e);if(null!==a)return a;const n=e.asset?Mu().state.assets.estimatedDurationsById[null==(t=e.asset)?void 0:t._id]:void 0;return void 0!==n?n:null}const eL=e=>{var t,a,n,s,o,i;const r=(null==(t=null==e?void 0:e.dimensions)?void 0:t.width)??(null==(a=null==e?void 0:e.extract_info)?void 0:a.width)??(null==(n=null==e?void 0:e.source_dimensions)?void 0:n.width),l=(null==(s=null==e?void 0:e.dimensions)?void 0:s.height)??(null==(o=null==e?void 0:e.extract_info)?void 0:o.height)??(null==(i=null==e?void 0:e.source_dimensions)?void 0:i.height);if(r&&l)return{width:r,height:l,aspectRatio:r/l}};function tL(e,t){var a;return up(e)?e.video_asset_id&&e.video_asset_id===t||e.audio_asset_id&&e.audio_asset_id===t:e.asset_id===t||(null==(a=e.original_asset)?void 0:a.asset_id)===t}function aL(e,t){var a;return up(e)?e.video_asset_id&&t.has(e.video_asset_id)||e.audio_asset_id&&t.has(e.audio_asset_id):e.asset_id&&t.has(e.asset_id)||(null==(a=e.original_asset)?void 0:a.asset_id)&&t.has(e.original_asset.asset_id)}function nL(e,t={}){var a;const{personaLayerHandling:n}=t;return up(e)?n?"video"===n?e.video_asset_id:e.audio_asset_id:nL(e,{personaLayerHandling:"audio"}):(null==(a=e.original_asset)?void 0:a.asset_id)||e.asset_id}function sL(e){return e.original_asset_id||e._id}const oL=e=>{const{dispatch:t}=Mu();t(XE(e))},iL=c.memoize((e=>Gu(Gx,(t=>t.filter((t=>nL(t)===e)))))),rL=[],lL=(e,t)=>{const a=nL(e,{personaLayerHandling:"audio"});return dL(a)(t)},dL=e=>t=>{var a,n;return!!e&&!!(null==(n=null==(a=t.studio.tetheredWaveforms)?void 0:a.byAssetId[e])?void 0:n.enabled)},cL=Gu((e=>e.studio.tetheredWaveforms),(e=>e?Object.entries(e.byAssetId).filter((([,e])=>e.enabled)).map((([e])=>e)).sort(((e,t)=>e.localeCompare(t))):rL)),uL=c.memoize((e=>{const t=iL(e);return u((t=>{var a;return null==(a=t.studio.tetheredWaveforms)?void 0:a.byAssetId[e]}),t,((t,a)=>{if(!(null==t?void 0:t.enabled))return rL;const n=[];return a.forEach((a=>{a.detachedAudioId&&"video"===a.type||n.push(DA({assetId:e,waveformInfo:t,layer:a}))})),n}))})),pL=c.memoize((()=>Gu((e=>cL(e).map((e=>uL(e))).map((t=>t(e)))),(e=>e.flat())))),mL=e=>{var t;return Object.entries((null==(t=e.studio.tetheredWaveforms)?void 0:t.byAssetId)||{}).map((([t,a])=>{if(!a.enabled)return;const n=uL(t)(e),s=n[0];if(!s)return;const o=c.pick(s,RA);return{partialLayers:n.map((e=>c.omit(e,RA))),commonProperties:o}})).filter(vA)},gL=u(((e,t)=>t),(e=>e.studio.tetheredWaveforms),(e=>e.studio.allLayers.byId),((e,t,a)=>hL({layerId:e,tetheredWaveforms:t,allLayersById:a}))),hL=({layerId:e,allLayersById:t,tetheredWaveforms:a})=>{if(!NA(e))return;const n=t[MA(e)];if(!n)return;const s=nL(n);if(!s)return;const o=null==a?void 0:a.byAssetId[s];return o?DA({assetId:s,waveformInfo:o,layer:n}):void 0},vL={id:"FAKE_TRANSPARENT_LAYER_FOR_TRANSITIONS",type:"image",animation:{},position:{x:"0%",y:"0%",width:"100%",height:"100%",rotation:0},depth:"a"},fL=e=>e===vL.id||"transparent"===e,bL=e=>fL(e.id),yL=e=>e.isCrossTransition&&![e.outroLayerId,e.introLayerId].some(fL),wL=(e,t,a)=>{const n=bp(e,t),{introTransition:s,outroTransition:o}=LT(e,a),i=s&&!fL(s.outroLayerId)?((null==s?void 0:s.transitionDuration)??0)/2:0,r=o&&!fL(o.introLayerId)?((null==o?void 0:o.transitionDuration)??0)/2:0;return{start:n.start+i,end:n.end-r}},_L=({layerId:e,layersById:t,tetheredWaveforms:a})=>{const n=e;return fL(n)?vL:t[n]??hL({layerId:n,tetheredWaveforms:a,allLayersById:t})},CL=({layerId:e,layersById:t,tetheredWaveforms:a})=>{const n=_L({layerId:e,layersById:t,tetheredWaveforms:a});if(n){if(Mp(n))return console.warn("Persona playback layer used for transformer selection. We should just be using the persona layer directly."),t[TA(n.id)];if((e=>"audio"!==e.type||Oc(e))(n))return n}},SL=u(((e,t)=>t),(e=>e.studio.allLayers.byId),(e=>e.studio.tetheredWaveforms),((e,t,a)=>CL({layerId:e,layersById:t,tetheredWaveforms:a}))),xL=e=>SL(Mu().state,e),IL=e=>new RegExp("\\p{P}","u").test(e),AL=(e,t,a)=>{if(!e)return"";let n="";for(const s of e.toString().replace(/\s+/g," ").trim())IL(s)?a&&(n+=s):n+=s;return t?n:n.toLowerCase()},kL=(e,t,a=!1,n=!1)=>AL(e,a,n)===AL(t,a,n),TL=(e,t,a)=>{let n=e.toLowerCase().replace(t.toLowerCase(),a);var s;return a[0]&&e[0]&&(s=e[0],/[\p{Alphabetic}]/u.test(s))&&e.startsWith(e[0].toUpperCase())&&(n=a[0].toUpperCase()+n.slice(1)),n},EL=(e,t,a)=>{const n=[...t];return n.forEach(((t,s)=>{a.forEach((a=>{const o=a.from.split(/\s+/);if(o[0]&&!kL(o[0],t.word,!1))return;if(!((e,t)=>{if(t.length>e.length)return!1;for(let a=0;a<e.length;++a)if(!kL(t[a],e[a],!1))return!1;return!0})(o,e.slice(s,s+o.length)))return;const i=a.to.split(/\s+/),r=[];let l=0;for(l=0;l<o.length;l++){const e=s+l;if(o[l]&&i[l]){const t=n[e];if(!t)continue;l===o.length-1?t.word=TL(t.word,o[l],i.slice(l).join(" ")):t.word=TL(t.word,o[l],i[l])}else o[l]&&!i[l]&&r.push(e)}const d=r[0];if(d&&r.length>0){const t=d+r.length-1;n[d-1].end_time=n[t].end_time,e.splice(d,r.length),n.splice(d,r.length)}}))})),n},LL=(e,t)=>{try{const a=e.map((e=>e[Zc.text])),n=e.map((e=>{const t={word:e[Zc.text]};return e[Zc.speaker]&&(t.speaker=e[Zc.speaker]),Zc.start in e&&Zc.end in e?{...t,start_time:e[Zc.start],end_time:e[Zc.end]}:t}));return EL(a,n,t).map((e=>{const t={[Zc.text]:e.word};return e.speaker&&(t[Zc.speaker]=e.speaker),"start_time"in e&&"end_time"in e?{...t,[Zc.start]:e.start_time,[Zc.end]:e.end_time}:t}))}catch(b9e){return console.error(b9e),e}};const jL=/[\uFFE5\u3000-\u303F!.,:?;\x3F@\x5B-\x5D_\x7B}\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]$/,RL=e=>jL.test(e);function NL(e){const t=$p.get(e);if(!t)return" ";const{noSpaces:a}=t;return a?"":" "}function ML({languageCode:e,translateCode:t}){let a=e;return t&&"none"!==t&&(a+=`_${t}`),a}function PL(e){const[t,a]=e.split("_");return{languageCode:t,translateCode:a}}function FL(e,t,a,n){const[s,o]=e<t?[e,t]:[t,e],[i,r]=a<n?[a,n]:[n,a];return s<r&&i<o}function DL(e){return e[0]!==OL}const OL="",UL=[".","!","?"];const BL=(e,t)=>!!t&&(!!function(e){return!!e.startsWith("en")||"es"===e||"fr"===e}(t)&&UL.some((t=>e.endsWith(t))));function WL(e,t){const a=[];let n=null;for(const o of e){let e=a[a.length-1];e||(e=[],a.push(e));const i=e[e.length-1];if(!i){e.push(o),n=DL(o.text)?o:n;continue}let r=!1;DL(o.text)&&(r=!!(n&&o.start-n.end>1),n=o);const l=!i||o.transcriptionNdx===i.transcriptionNdx+1,d=r||!l||o.assetId!==i.assetId||o.speaker!==i.speaker,c=(s=e,s.filter((e=>DL(e.text)))).length>=50&&BL(o.text,t);d?(a.push([]),e=a[a.length-1],null==e||e.push(o)):c?(null==e||e.push(o),a.push([]),e=a[a.length-1]):null==e||e.push(o)}var s;return a.filter((e=>e.length>0))}function VL(e,t,a=[0,0]){const[n,s]=e,[o,i]=a,r=t*Math.PI/180,l=Math.cos(r),d=Math.sin(r);return[o+(n-o)*l-(s-i)*d,i+(n-o)*d+(s-i)*l]}function HL(e,t,a){return{x:parseFloat(e)/100*a.width+a.x,y:parseFloat(t)/100*a.height+a.y}}function zL(e,t,a){return{width:parseFloat(e)/100*a.width,height:parseFloat(t)/100*a.height}}function GL(e,t,a){const{x:n,y:s,width:o,height:i}=t,{x:r,y:l,width:d,height:c,rotation:u=0}=e;let p=parseFloat(r),m=parseFloat(l),g=parseFloat(d),h=parseFloat(c);if(a){const e=Math.sin(u*Math.PI/180),t=Math.cos(u*Math.PI/180),{width:n,height:s,x:r,y:l}=a,d=100-r-n,c=100-l-s;g/=n/100,h/=s/100;const v=g*o/100,f=h*i/100,b=r*v/100,y=d*v/100,w=l*f/100,_=c*f/100,C={topLeft:{x:p*o/100,y:m*i/100},topRight:{x:p*o/100+v*n/100,y:m*i/100},bottomLeft:{x:p*o/100,y:m*i/100+f*s/100},bottomRight:{x:p*o/100+v*n/100,y:m*i/100+f*s/100},center:{x:p*o/100+v*n/200,y:m*i/100+f*s/200}};if(Object.keys(C).forEach((e=>{const t=e;if("center"===t)return;const[a,n]=VL(Object.values(C[t]),u,[C.center.x,C.center.y]);C[t].x=a,C[t].y=n})),0===u)p-=v*r/o,m-=f*l/i;else if(u<90){C.topLeft.y-=b*e+w*t,C.topLeft.x+=w*e-b*t,C.topRight.y+=y*e-w*t,C.topRight.x+=w*e+y*t,C.bottomLeft.y-=b*e-_*t,C.bottomLeft.x-=_*e+b*t,C.bottomRight.y+=y*e+_*t,C.bottomRight.x-=_*e-y*t,C.center.x=(C.topLeft.x+C.bottomLeft.x+C.bottomRight.x+C.topRight.x)/4,C.center.y=(C.topLeft.y+C.bottomLeft.y+C.bottomRight.y+C.topRight.y)/4;const a=[C.center.x,C.center.y],n=VL([C.topLeft.x,C.topLeft.y],-u,a);p=100*n[0]/o,m=100*n[1]/i}else if(90===u){C.topLeft.y-=r*v/100,C.topLeft.x+=l*f/100,C.topRight.y+=d*v/100,C.topRight.x+=l*f/100,C.bottomLeft.y-=r*v/100,C.bottomLeft.x-=c*f/100,C.bottomRight.y+=d*v/100,C.bottomRight.x-=c*f/100,C.center.x=(C.topLeft.x+C.bottomLeft.x+C.bottomRight.x+C.topRight.x)/4,C.center.y=(C.topLeft.y+C.bottomLeft.y+C.bottomRight.y+C.topRight.y)/4;const e=[C.center.x,C.center.y],t=VL([C.topLeft.x,C.topLeft.y],-u,e);p=100*t[0]/o,m=100*t[1]/i}else if(u<180){C.topLeft.y+=-b*e-w*t,C.topLeft.x+=w*e-b*t,C.topRight.y+=y*e-w*t,C.topRight.x+=w*e+y*t,C.bottomLeft.y+=-b*e+_*t,C.bottomLeft.x+=-_*e-b*t,C.bottomRight.y+=y*e+_*t,C.bottomRight.x+=-_*e+y*t,C.center.x=(C.topLeft.x+C.bottomLeft.x+C.bottomRight.x+C.topRight.x)/4,C.center.y=(C.topLeft.y+C.bottomLeft.y+C.bottomRight.y+C.topRight.y)/4;const a=[C.center.x,C.center.y],n=VL([C.topLeft.x,C.topLeft.y],-u,a);p=100*n[0]/o,m=100*n[1]/i}else if(180===u)p-=v*d/o,m-=f*c/i;else if(u<270){C.topLeft.y-=b*e+w*t,C.topLeft.x+=w*e-b*t,C.topRight.y+=y*e-w*t,C.topRight.x+=w*e+y*t,C.bottomLeft.y-=b*e-_*t,C.bottomLeft.x-=_*e+b*t,C.bottomRight.y+=y*e+_*t,C.bottomRight.x-=_*e-y*t,C.center.x=(C.topLeft.x+C.bottomLeft.x+C.bottomRight.x+C.topRight.x)/4,C.center.y=(C.topLeft.y+C.bottomLeft.y+C.bottomRight.y+C.topRight.y)/4;const a=[C.center.x,C.center.y],n=VL([C.topLeft.x,C.topLeft.y],-u,a);p=100*n[0]/o,m=100*n[1]/i}else if(270===u){C.topLeft.y+=r*v/100,C.topLeft.x-=l*f/100,C.topRight.y-=d*v/100,C.topRight.x-=l*f/100,C.bottomLeft.y+=r*v/100,C.bottomLeft.x+=c*f/100,C.bottomRight.y-=d*v/100,C.bottomRight.x+=c*f/100,C.center.x=(C.topLeft.x+C.bottomLeft.x+C.bottomRight.x+C.topRight.x)/4,C.center.y=(C.topLeft.y+C.bottomLeft.y+C.bottomRight.y+C.topRight.y)/4;const e=[C.center.x,C.center.y],t=VL([C.topLeft.x,C.topLeft.y],-u,e);p=100*t[0]/o,m=100*t[1]/i}else{C.topLeft.y+=-b*e-w*t,C.topLeft.x+=w*e-b*t,C.topRight.y+=y*e-w*t,C.topRight.x+=w*e+y*t,C.bottomLeft.y+=-b*e+_*t,C.bottomLeft.x+=-_*e-b*t,C.bottomRight.y+=y*e+_*t,C.bottomRight.x+=-_*e+y*t,C.center.x=(C.topLeft.x+C.bottomLeft.x+C.bottomRight.x+C.topRight.x)/4,C.center.y=(C.topLeft.y+C.bottomLeft.y+C.bottomRight.y+C.topRight.y)/4;const a=[C.center.x,C.center.y],n=VL([C.topLeft.x,C.topLeft.y],-u,a);p=100*n[0]/o,m=100*n[1]/i}}const{x:v,y:f}=HL(p,m,{height:i,width:o,x:n,y:s}),{width:b,height:y}=zL(g.toString(),h.toString(),{height:i,width:o,x:n,y:s});return{x:v,y:f,width:b,height:y}}var YL=(e=>(e.ADD_TEXT_LAYER_ID_ADDED_IN_SESSION="ADD_TEXT_LAYER_ID_ADDED_IN_SESSION",e.ALT_IS_BEING_PRESSED="ALT_IS_BEING_PRESSED",e.COMMAND_IS_BEING_PRESSED="COMMAND_IS_BEING_PRESSED",e.CONTROL_IS_BEING_PRESSED="CONTROL_IS_BEING_PRESSED",e.SET_BOX_SELECTED_IDS="SET_BOX_SELECTED_IDS",e.SET_DRAGGED_TRACKS_OVERRIDES="SET_DRAGGED_TRACKS_OVERRIDES",e.INIT_DRAGGED_TRACKS_OVERRIDES="INIT_DRAGGED_TRACKS_OVERRIDES",e.SET_IS_NEW_PROJECT="SET_IS_FIRST_EDIT",e.SET_LOCAL_LAYER_VALUES="SET_LOCAL_LAYER_VALUE",e.BATCHED_SET_LOCAL_LAYER_VALUES="BATCHED_SET_LOCAL_LAYER_VALUES",e.SET_IS_INLINE_CROPPING="SET_IS_INLINE_CROPPING",e.SET_MEDIA_ITEM_GHOST_TRACK="SET_MEDIA_ITEM_GHOST_TRACK",e.SET_DND_GHOST_TRACK_DROP_POSITION="SET_DND_GHOST_TRACK_DROP_POSITION",e.SET_MEDIA_ITEM_LOCATION="SET_MEDIA_ITEM_LOCATION",e.SET_MOUSE_DOWN="SET_MOUSE_DOWN",e.SET_PROJECT_FETCHED="SET_PROJECT_FETCHED",e.SET_SELECTED_EDITOR_PANE="SET_SELECTED_EDITOR_PANE",e.SET_SHOW_TRANSCRIBE="SET_SHOW_TRANSCRIBE",e.SET_SNAP_TIMELINE_TO_SEEKER="SET_SNAP_TIMELINE_TO_SEEKER",e.SET_STUDIO_DRAG_DROP_ACTIVE="SET_STUDIO_DRAG_DROP_ACTIVE",e.SET_MAIN_STUDIO_DRAG_DROP_DISABLED="SET_MAIN_STUDIO_DRAG_DROP_DISABLED",e.SET_TRACK_THUMBNAIL_FALLBACK="SET_TRACK_THUMBNAIL_FALLBACK",e.SET_VOLUME_SLIDER_IS_DRAGGING="SET_VOLUME_SLIDER_IS_DRAGGING",e.SHIFT_IS_BEING_PRESSED="SHIFT_IS_BEING_PRESSED",e.START_EDITING_TEXT_LAYER="START_EDITING_TEXT_LAYER",e.SET_INFO_TOAST_SHOWN_THIS_SESSION="SET_INFO_TOAST_SHOWN_THIS_SESSION",e.SET_PREVIEW_PLAYING="SET_PREVIEW_PLAYING",e.SET_MEDIA_SIDEBAR_SELECTED_TAB="SET_MEDIA_SIDEBAR_SELECTED_TAB",e.SHOW_SIGN_IN="SHOW_SIGN_IN",e.HIDE_SIGN_IN="HIDE_SIGN_IN",e.SET_AWAITING_RECORDINGS="SET_AWAITING_RECORDINGS",e.SET_PREVIEW_TRACK="SET_PREVIEW_TRACK",e.SET_PREVIEW_TIMELINE_STATE="SET_PREVIEW_TIMELINE_STATE",e.SET_ROW_UPLOAD_IN_PROGRESS="SET_ROW_UPLOAD_IN_PROGRESS",e.CLEAR_PROJECT_FETCHED="CLEAR_PROJECT_FETCHED",e.SET_GHOST_SEEKER_OFFSET="SET_GHOST_SEEKER_OFFSET",e.SET_STATIC_UPLOAD_IDS="SET_STATIC_UPLOAD_IDS",e.SET_MOBILE_TRAY_CONTENT="SET_MOBILE_TRAY_CONTENT",e.SET_MOBILE_TRAY_HEIGHT="SET_MOBILE_TRAY_HEIGHT",e.SET_GROUP_DRAG_OVERRIDES="SET_GROUP_DRAG_OVERRIDES",e.CLEAR_GROUP_DRAG_OVERRIDES="CLEAR_GROUP_DRAG_OVERRIDES",e.SYNC_ATTEMPTED="SYNC_ATTEMPTED",e.SYNC_SUCCEEDED="SYNC_SUCCEEDED",e.SET_IS_ADDING="SET_IS_ADDING",e.PLAYBACK_RATE="PLAYBACK_RATE",e.UPDATE_MAGIC_SUBTITLE_LOCAL="UPDATE_MAGIC_SUBTITLE_GLOBAL_CONFIG_LOCAL",e.CLEAR_MAGIC_SUBTITLE_LOCAL="CLEAR_MAGIC_SUBTITLE_LOCAL",e.SET_MAGIC_SUBTITLE_SELECTION="SET_MAGIC_SUBTITLE_SELECTION",e.SET_MAGIC_SUBTITLE_FOCUS="SET_MAGIC_SUBTITLE_FOCUS",e.RESIZE_MEDIABAR="RESIZE_MEDIABAR",e.RESIZING_SIDEBAR="RESIZING_SIDEBAR",e.UPDATE_LAST_GENERATED_THUMBNAIL="UPDATE_LAST_GENERATED_THUMBNAIL",e.SET_SHOW_REPORT_ISSUE_MODAL="SET_SHOW_REPORT_ISSUE_MODAL",e.SET_LOCAL_MAGIC_SUBTITLE_FRAMES="SET_LOCAL_MAGIC_SUBTITLE_FRAMES",e.SET_LAYER_MOUNTED_STATE="SET_LAYER_MOUNTED_STATE",e.SET_ASSET_MONITOR_ID="SET_ASSET_MONITOR_ID",e.UPDATE_DALLE_TEMP_VALUES="UPDATE_DALLE_TEMP_VALUES",e.SET_AI_TOOLS_DATA="SET_AI_TOOLS_DATA",e.SET_CLICKED_TTS_BUTTON_FROM_RIGHT_SIDEBAR="SET_CLICKED_TTS_BUTTON_FROM_RIGHT_SIDEBAR",e.SET_TRACK_IS_DRAGGING="SET_TRACK_IS_DRAGGING",e.SET_INITIAL_EXPORT_TAB="SET_INITIAL_EXPORT_TAB",e))(YL||{});function KL(e,t){return{type:"SET_LOCAL_LAYER_VALUE",layerId:e,properties:t}}function XL(e){return{type:"BATCHED_SET_LOCAL_LAYER_VALUES",updates:e}}const ZL=(e,t)=>({type:"SET_IS_INLINE_CROPPING",layerId:e,isInlineCropping:t});function qL(){return{type:"SET_PROJECT_FETCHED"}}function JL(){return{type:"CLEAR_PROJECT_FETCHED"}}function $L(e){const{dispatch:t}=Mu();return t(ek(null)),{type:"SET_SELECTED_EDITOR_PANE",selectedEditorPane:e}}function QL(e){return{type:"SET_SNAP_TIMELINE_TO_SEEKER",snapTimelineToSeeker:e}}function ej(e){return{studioDragDropActive:e,type:"SET_STUDIO_DRAG_DROP_ACTIVE"}}function tj(e){return{type:"SET_DRAGGED_TRACKS_OVERRIDES",overrides:e}}function aj(e){return{type:"SET_VOLUME_SLIDER_IS_DRAGGING",isDragging:e}}function nj(e){return{type:"SET_MEDIA_ITEM_GHOST_TRACK",track:e}}function sj(e){return{type:"SET_MEDIA_ITEM_LOCATION",location:e}}const oj=ne("SET_IS_FIRST_EDIT"),ij=ne("START_EDITING_TEXT_LAYER"),rj=ne("SET_MEDIA_SIDEBAR_SELECTED_TAB");function lj(e){return{type:"ADD_TEXT_LAYER_ID_ADDED_IN_SESSION",id:e}}const dj=ne("SET_MOUSE_DOWN"),cj=ne("SET_INFO_TOAST_SHOWN_THIS_SESSION"),uj=ne("SET_PREVIEW_PLAYING");function pj(){return{type:"SHOW_SIGN_IN"}}const mj=ne("SET_AWAITING_RECORDINGS");function gj(e){return{type:"SET_PREVIEW_TIMELINE_STATE",timelineState:e}}const hj=ne("SET_PREVIEW_TRACK"),vj=ne("SET_ROW_UPLOAD_IN_PROGRESS"),fj=ne("SET_GHOST_SEEKER_OFFSET"),bj=ne("SET_STATIC_UPLOAD_IDS"),yj=ne("SET_MOBILE_TRAY_CONTENT"),wj=ne("SET_MOBILE_TRAY_HEIGHT"),_j=ne("SET_BOX_SELECTED_IDS"),Cj=ne("SET_GROUP_DRAG_OVERRIDES"),Sj=ne("CLEAR_GROUP_DRAG_OVERRIDES"),xj=ne("SYNC_ATTEMPTED"),Ij=ne("SYNC_SUCCEEDED"),Aj=ne("SET_IS_ADDING"),kj=ne("PLAYBACK_RATE"),Tj=ne("UPDATE_MAGIC_SUBTITLE_GLOBAL_CONFIG_LOCAL"),Ej=ne("CLEAR_MAGIC_SUBTITLE_LOCAL"),Lj=ne("SET_MAGIC_SUBTITLE_SELECTION"),jj=ne("SET_MAGIC_SUBTITLE_FOCUS"),Rj=ne("RESIZE_MEDIABAR"),Nj=ne("RESIZING_SIDEBAR"),Mj=ne("SET_SHOW_REPORT_ISSUE_MODAL"),Pj=ne("SET_LOCAL_MAGIC_SUBTITLE_FRAMES"),Fj=ne("SET_LAYER_MOUNTED_STATE"),Dj=ne("SET_ASSET_MONITOR_ID"),Oj=e=>({type:"UPDATE_DALLE_TEMP_VALUES",...e}),Uj=e=>({type:"SET_AI_TOOLS_DATA",payload:e}),Bj=ne("SET_TRACK_IS_DRAGGING"),Wj=ne("SET_INITIAL_EXPORT_TAB");function Vj(e,t){const{dispatch:a,state:n}=Mu(),s=TA(e),o=n.studioLocal.layerTempValues[s];if(o){for(const[i,r]of Object.entries(t))if(r!==o[i]){a(KL(s,t));break}}else a(KL(s,t))}function Hj(e){if(0===Object.keys(e).length)return;const{dispatch:t}=Mu();t(XL(e))}const zj=e=>{var t;return(null==(t=e.teams.activeBrandkit)?void 0:t.projectId)===e.studio.projectId||!!Object.entries(e.workflows.workflowById).length},Gj=u(dg,zj,((e,t)=>e.hasPermission(Fd.BRANDKIT)&&t)),Yj=u((e=>{var t;return null==(t=e.teams.activeBrandkit)?void 0:t.teamId}),(e=>e.teams.selectedTeamId),((e,t)=>e===t)),Kj=e=>{const{allTeams:t,selectedTeamId:a}=e.teams;return t.find((e=>e._id===a))},Xj=u(Kj,(e=>e.currentUser.user),((e,t)=>{var a;return null==(a=null==e?void 0:e.users)?void 0:a.find((e=>e.userId===t._id))})),Zj=e=>{const t=Xj(e);return!!(null==t?void 0:t.enterpriseFormDismissed)},qj=e=>{const{allTeams:t}=e.teams;return t.some((e=>e.planTier!==Id.Free))};var Jj=(e=>(e.EDIT_SELECTION_CONTROLS="EDIT_SELECTION_CONTROLS",e.MEDIA_CONTROLS="MEDIA_CONTROLS",e.EXPORT_CONTROLS="EXPORT_CONTROLS",e.COMMENT_CONTROLS="COMMENT_CONTROLS",e.TRANSITION_CONTROLS="TRANSITION_CONTROLS",e))(Jj||{});function $j(){const{dispatch:e}=Mu();e(yj(void 0)),e(wj(0))}function Qj(){const{dispatch:e}=Mu();e(yj(Jj.EDIT_SELECTION_CONTROLS))}const eR=e=>e&&e.replace(/.*\/studio/,"/studio"),tR=e=>{const{state:t}=Mu();let a="";t&&t.studio&&t.studio._id&&rR()&&e.includes("/studio/editor")&&(a=t.studio._id);const n=eR(e);return a?`/${a}${n}`:n},aR=(e,t={})=>{const a=tR(e);a!==Ml.location.pathname&&Ml.push(a,{...t})},nR=()=>{const{state:e}=Mu(),t=Kj(e);t?aR(`/team/${t._id}/billing`):cR()},sR=()=>{Ml.back()},oR=(e,t="")=>{const a=tR(e);a!==Ml.location.pathname&&Ml.replace(`${a}${t}`)},iR=()=>window.location.pathname.includes("/studio/editor/export-as-image"),rR=()=>window.location.pathname.includes("/studio/editor"),lR=()=>rR()&&!iR();function dR(){aR("/studio/editor")}function cR(){const{state:e}=Mu(),t=e.workspaces.selectedWorkspace;aR(t?`/folder/${t}`:"/")}function uR(){oR("/studio/editor")}function pR(){const{dispatch:e,state:t}=Mu();e(ck(null)),t.comments.commentsOpen&&!t.isMobile||$j(),uR()}function mR(){const{dispatch:e}=Mu();dR(),e(Nh(!1))}const gR=e=>{var t;const a=new URLSearchParams((null==(t=null==Ml?void 0:Ml.location)?void 0:t.search)??window.location.search);if(!e.some((e=>a.has(e))))return;const n=(e=>{const t=new URLSearchParams(window.location.search);for(const n of Object.values(e??Xw))t.delete(n);const a=t.toString()?`?${t.toString()}`:"";return`${window.location.pathname}${a}`})(e);var s;return s=n,Ml&&(Ml.replace(s),window.location.href!==s&&(x({message:"Replacing URL",data:{url:s,currentUrl:window.location.href}}),window.history.replaceState({},"",s))),n};var hR=(e=>(e.SocialVideoFromTopic="SocialVideoFromTopic",e.SocialVideoFromURL="SocialVideoFromURL",e.SocialVideoFromScript="SocialVideoFromScript",e.Image="Image",e.Scene="Scene",e))(hR||{});const vR={"generate-video":"SocialVideoFromTopic","generate-images":"Image","generate-script":"SocialVideoFromScript","convert-document-to-video":"SocialVideoFromTopic","convert-article-to-video":"SocialVideoFromURL","convert-script-to-video":"SocialVideoFromScript"};function fR(e){const[t,a]=i.useState(1);return i.useEffect((()=>{const t=setInterval((()=>{a((e=>e+1))}),e);return()=>clearInterval(t)}),[e]),t}const bR={assetId:"6442fadf5f78eb6847b20101",url:`${Vl}/static/z9k-Sample_Video.mp4`,layerProperties:{name:"Sample_Video.mp4",mime:"video/mp4",isSample:!0,type:Nc.Video}},yR={assetId:"64b4dba9a589bcfbe1b36736",url:`${Vl}/static/Summer_Love_trim.mp3`,layerProperties:{name:"Summer_Love_trim.mp3",size:1172125,mime:"audio/mp3",isSample:!0,type:Nc.Audio},assetMediaInfo:{hasAudio:!0,duration:14.315102,height:0,width:0,type:Nc.Audio}},wR={assetId:"64485c2a212c1f64200e1dd5",url:`${Vl}/static/Scl-SmartCut.mp4`,layerProperties:{name:"SmartCut.mp4",mime:"video/mp4",isSample:!0,type:Nc.Video}},_R={assetId:"644819a865abfe8c6804c49c",url:`${Vl}/static/FuL-Reverse.mp4`,layerProperties:{name:"Reverse.mp4",mime:"video/mp4",isSample:!0,type:Nc.Video}},CR={assetId:"644b09ff552926956056ca56",url:`${Vl}/static/RrW-RepurposeVideos.mp4`,layerProperties:{name:"Repurpose.mp4",mime:"video/mp4",isSample:!0,type:Nc.Video}},SR={assetId:"644c587caea3923b09106063",url:`${Vl}/static/joD-RemoveVideoBackground.mp4`,layerProperties:{name:"RemoveVideoBackground.mp4",mime:"video/mp4",isSample:!0,type:Nc.Video}},xR={assetId:"644c594aaea3923b09106086",url:`${Vl}/samples/DiRXHpj.jpg`,layerProperties:{name:"samples/DiRXHpj.jpg",size:46354,mime:"image/jpeg",isSample:!0,type:Nc.Image},assetMediaInfo:{height:477,type:Nc.Image,width:715}},IR={assetId:"644c24aaaea3923b09105ddd",url:`${Vl}/static/BFG-GreenScreenEditor.mp4`,layerProperties:{name:"GreenScreenEditor.mp4",mime:"video/mp4",isSample:!0,type:Nc.Video}},AR={assetId:"640514105306cc0019c1df18",url:`${Vl}/samples/5c9aa36be1f08a0015e24a7f.mp4`,layerProperties:{asset_id:"5cb77386a16201b8b45092ec",name:"sample.mp4",size:1172125,mime:"video/mp4",duration:11.2,isSample:!0,startTime:0,type:Nc.Video},assetMediaInfo:{duration:11.2,height:318,width:480,hasAudio:!1,type:Nc.Video}},kR={assetId:"64502233df8c3445a426b509",url:`${Vl}/static/ZG8-0KjwKXBW.mp4`,layerProperties:{name:"Text_to_Speech.mp4",mime:"video/mp4",isSample:!0,type:Nc.Video}},TR={assetId:"6446dbf5ceb99163142c32d4",url:`${Vl}/static/-py-spirit-landscape-118015.mp3`,layerProperties:{name:"spirit-landscape.mp3",mime:"audio/mp3",isSample:!0,type:Nc.Audio,startTime:2.977,endTime:15.307,duration:154,fadePosition:"both",fadeSpeed:"default",timelineRow:2,volume:.25},assetMediaInfo:{hasAudio:!0,duration:154,height:0,width:0,type:Nc.Audio}};Nc.Text;const ER="ghost-track",LR={};function jR(e,t){return e.studioLocal.layerTempValues[TA(t)]??LR}function RR(e,t){return jR(e,t).isEditing??!1}function NR(e){var t;return null==(t=e.studioLocal.layerTempValues["ghost-track"])?void 0:t.mIGhostLayerAbsolutePosition}function MR(e,t){const{draggedTracksOverrides:a}=e.studioLocal;return!!((null==a?void 0:a.overrides)||{})[t]}const PR=u((e=>e.studioLocal.isProjectFetched),(e=>e.studioLocal.lastSyncedWithServer),(e=>e.userPermissions.canWrite),((e,t,a)=>{const{attempted:n,firstAttemptSinceLastSuccess:s,succeeded:o}=t;if(!a)return!1;if(!e)return!1;if(!(n.websocket||n.http))return!1;const i=[o.websocket,o.http].filter(kf),r=[s.websocket,s.http].filter(kf);if(0===r.length)return!1;if(1===r.length){if(s.websocket&&s.websocket<=(o.http||0))return!1;if(s.http&&s.http<=(o.websocket||0))return!1}const l=i.length>0?Math.max(...i):0;if(Date.now()-l<122e3)return!1;const d=r.length>0?Math.max(...r):0;return Date.now()-d>122e3})),FR=u((e=>e.studioLocal.ai.selectedTab),(e=>e||hR.SocialVideoFromTopic)),DR=e=>e===hR.SocialVideoFromTopic||e===hR.SocialVideoFromScript||e===hR.SocialVideoFromURL,OR=u((e=>e.studio.allLayers.byId),(e=>{const t=Object.values(e);if(1!==t.length)return!1;for(const a of t)if(a.asset_id!==bR.assetId)return!1;return!0}));function UR(e,t=8){return+`${Math.round(`${parseFloat(e).toFixed(t)}e+${t}`)}e-${t}`}function BR(){const{state:e}=Mu();return{height:e.studio.height,width:e.studio.width,x:e.studioSizing.canvasX,y:e.studioSizing.canvasY}}function WR(e,t,a=BR()){return HL(e,t,{x:a.x,y:a.y,width:a.width||0,height:a.height||0})}function VR(e,t,a=BR()){return zL(e,t,{width:a.width,height:a.height})}function HR(e,t,a){let n=50,s=50;return a.width&&a.height?(n=e/a.width*100,s=t/a.height*100,{widthPercent:n,heightPercent:s}):{widthPercent:n,heightPercent:s}}function zR(e,t,a){const{heightPercent:n,widthPercent:s}=HR(e,t,a);return{heightPercent:`${n}%`,widthPercent:`${s}%`}}function GR(e,t){const{state:a}=Mu();return zR(e,t,{width:a.studio.width,height:a.studio.height})}function YR(e,t,a){let n=0,s=0;return void 0!==a.x&&void 0!==a.y&&a.width&&a.height?(n=(e-a.x)/a.width*100,s=(t-a.y)/a.height*100,{xPercent:n,yPercent:s}):{xPercent:n,yPercent:s}}function KR(e,t,a){const{xPercent:n,yPercent:s}=YR(e,t,a);return{xPercent:`${n}%`,yPercent:`${s}%`}}function XR(e,t){const{state:a}=Mu(),{canvasX:n,canvasY:s}=a.studioSizing;return KR(e,t,{x:n,y:s,width:a.studio.width,height:a.studio.height})}const ZR=(e,t,a,n)=>{const{dispatch:s}=Mu(),o=XR(t.x,t.y),i=GR(t.width,t.height);a?Vj(e.id,{positionTemp:{x:o.xPercent,y:o.yPercent,width:i.widthPercent,height:i.heightPercent,rotation:t.rotation}}):(Vj(e.id,{positionTemp:null}),s(zA(e.id,o.xPercent,o.yPercent,i.widthPercent,i.heightPercent,n)),s(KA(e.id,t.rotation,n)))},qR=e=>{const{state:t}=Mu();let{canvasX:a,canvasY:n}=t.studioSizing;const s=t.studio.width,o=t.studio.height;if(void 0===a||void 0===n||void 0===s||void 0===o)return null;iR()&&(a=0,n=0);const i=$R(e,{x:a,y:n,width:s,height:o});return e.position||ZR(e,i),i},JR=e=>{var t,a;const{state:n}=Mu(),{canvasX:s,canvasY:o}=n.studioSizing,i=n.studio.width,r=n.studio.height;if(void 0===s||void 0===o||void 0===i||void 0===r)return null;const l=$R(e,{x:s,y:o,width:i,height:r}),d=XR(l.x,l.y),c=GR(l.width,l.height);return{x:d.xPercent,y:d.yPercent,rotation:null==(t=null==e?void 0:e.position)?void 0:t.rotation,width:c.widthPercent,height:c.heightPercent,flip:null==(a=null==e?void 0:e.position)?void 0:a.flip}},$R=(e,t)=>{var a,n,s;const{state:o}=Mu();let{x:i,y:r,width:l,height:d}=t;const c=d,{lineWidth:u}=e,p=(null==(a=jR(o,e.id))?void 0:a.positionTemp)||e.position,m=parseFloat(String(u))/100*c,g=HC(e,o,{personaLayerHandling:"video"}),h=e.width??(null==(n=null==g?void 0:g.dimensions)?void 0:n.width),v=e.height??(null==(s=null==g?void 0:g.dimensions)?void 0:s.height);if(p){const e=HL(p.x,p.y,t);i=e.x,r=e.y;const a=zL(p.width,p.height,t);l=a.width,d=a.height}else if(h&&v){const e=t.width/t.height,a=h/v;let n=t.width,s=t.height;a>=e?(s=v*t.width/h,r=(t.height-s)/2+t.y):(n=h*t.height/v,i=(t.width-n)/2+t.x),l=n,d=s}let f=0;if(e.position&&e.position.rotation&&(f=e.position.rotation),c)switch(e.lineRightAngle){case"horizontal":d=m;break;case"vertical":l=m}return{x:i,y:r,width:l,height:d,rotation:f}};function QR(e){const{state:t}=Mu(),a=t.studio.width||0,n=t.studio.height||0;if(a>n){const t=GR(VR(e.width,e.height).height,0);e.width=t.widthPercent}else if(a<n){const t=GR(0,VR(e.width,e.height).width);e.height=t.heightPercent}return e}const eN=e=>{const{xPercent:t,yPercent:a}=XR(e.x,e.y),{widthPercent:n,heightPercent:s}=GR(e.width,e.height);return{x:t,y:a,width:n,height:s,rotation:e.rotation??0}};function tN(e){return{x:parseFloat(e.x),y:parseFloat(e.y),width:parseFloat(e.width),height:parseFloat(e.height),rotation:e.rotation}}const aN=(e,t,a)=>{if(!e.position)return{x:"0%",y:"0%"};if("ellipse"===e.shapeType)return c.pick(e.position,["x","y"]);const n=parseFloat(e.position.x)/100*t,s=parseFloat(e.position.y)/100*a;return{x:`${(n+parseFloat(e.position.width)/100*t/2)/t*100}%`,y:`${(s+parseFloat(e.position.height)/100*a/2)/a*100}%`}},nN=(e,t,a)=>{if(!e.position)return{x:"0%",y:"0%"};const n=aN(e,t,a),s=2*(parseFloat(n.x)-50),o=2*-(parseFloat(n.y)-50);return{x:`${+s.toFixed(2)}%`,y:`${+o.toFixed(2)}%`}};const sN=new Set([Nc.Image,Nc.Persona,Nc.Video]),oN=new Set([Nc.Image,Nc.Persona,Nc.Video,Nc.Shape]),iN=new Set(["zh","ja","th","lo","my","km","bo","dz"]),rN=e=>/^[^\S\n]*$/.test(e);function lN(e){let t=e.toLocaleLowerCase();return t.includes("-")&&(t=t.split("-")[0]),!t||!iN.has(t)}function dN({locale:e,text:t,removeSpaces:a=!1,useSpaceAsDelimiter:n}){const s=new Intl.Segmenter(e,{granularity:"word"}).segment(t),o=[];let i,r="",l=!1;function d(){if(r.length>0){if(Array.from(r).every((e=>"\n"===e))){const e=function(){for(let e=o.length-1;e>=0;e--){const t=o[e];if(t&&!rN(t))return e}return-1}(),t=o[e];if(!t)return;o[e]=t+r}else o.push(r);r=""}}i=void 0!==n?n:lN(e);for(const{segment:c,isWordLike:u}of s){if(!u&&rN(c)){d(),a||o.push(c);continue}const e=u&&!l||r.endsWith("\n")&&"\n"!==c||u&&!i&&l,t=!Array.from(r).every((e=>"\n"===e));e&&t&&d(),r+=c,l=!u&&"\n"!==c}return d(),o}function cN({locale:e,text:t}){return[...new Intl.Segmenter(e,{granularity:"sentence"}).segment(t)].map((e=>e.segment.trim()))}const uN=!(!Intl||!Intl.Segmenter);function pN(e){let t=0,a=0;for(const n of e)rN(n)||(n.includes(" ")?t+=1:a+=1);return t/(t+a)>.1?" ":""}function mN({cursorIndex:e=0,locale:t,text:a}){const n=t&&!lN(t);if(!t||!uN)return function({text:e,cursorIndex:t,keepSpacesOnWords:a=!1}){const n=e.split(/(\s)/g).filter((e=>""!==e)),s=[];for(const l of n){const e=s[s.length-1];"\n"===l&&(e?s[s.length-1]+="\n":s.push("\n")),gN(l)?a&&e&&(s[s.length-1]+=l):e&&Array.from(e).every((e=>"\n"===e))?s[s.length-1]+=l:s.push(l)}let o=0===t?-1:0;const i=s[0];if(void 0===i)return{segments:[],cursorSegmentIndex:o};let r=hN(i);for(;r<t&&!(o>=s.length-1);){o+=1;const e=s[o];void 0!==e&&(r+=hN(e))}return{segments:s,cursorSegmentIndex:o}}({cursorIndex:e,text:a,keepSpacesOnWords:!!n});const s=dN({locale:t,text:a}),o=[],i=[];for(const c of s)if(rN(c)){void 0!==i[i.length-1]&&(i[i.length-1]+=c)}else o.push(c),i.push(c);let r=0===e?-1:0;const l=i[0];let d=(null==l?void 0:l.length)??0;for(;d<e&&!(r>=i.length-1);){r+=1;const e=i[r];if(void 0===e)break;d+=e.length}return{segments:n?i:o,cursorSegmentIndex:r}}const gN=e=>null!==e.match(/\s/),hN=e=>gN(e)?e.length:e.length+1;const vN=16,fN=100,bN=e=>e?RL(e.word)?.5:1:.5;function yN({languageCode:e,maxCharsPerSubtitle:t,separator:a,words:n,depth:s=0}){const o=[];function i(n){const i=n[0];if(!i)return;let r=[n];const l=o[o.length-1],d=l?l.flat():[],c=d[d.length-1];if(l&&c){const u=RL(c.word),p=d.length>1,m=i.start_time-c.end_time>bN(c);if(p&&!u&&!m){const i=l.flat(),d=n.flat();for(let e=i.length-1;e>=0;e-=1){const t=i[e];if(!t)throw Error("Missing left word");if(RL(t.word))break;i.splice(e,1);if(i.map((e=>e.word)).join(a).length<=[t,...d].map((e=>e.word)).join(a).length){i.push(t);break}d.unshift(t)}const[c]=yN({languageCode:e,words:i,maxCharsPerSubtitle:t,separator:a,depth:s+1});c&&(o[o.length-1]=c);r=yN({languageCode:e,words:d,maxCharsPerSubtitle:t,separator:a,depth:s+1})}}o.push(...r)}let r=[];const l=[...n],d=l.length;for(;l.length>0;){if(l.length>d)throw Error();const n=l.shift();if(!n)throw Error();const o=r.flat(),u=o[o.length-1],p=u?u.end_time:0;let m=!1;const g=n.start_time-p>bN(u),h=o.length>4&&u&&BL(u.word,e);(g||h)&&(m=!0);[...r,n].map((e=>e.word)).join(a).length>t&&(m=!0);const v=u?u.speaker:void 0;n.speaker&&v&&v!==n.speaker&&(m=!0);let f=!0;if(m&&r.length){let d=r;if(!(!!u&&RL(u.word))){if(o.some((e=>RL(e.word)))){const i=c.findLastIndex(o,(e=>RL(e.word))),r=o.slice(0,i+1),u=[...o.slice(i+1),n],[p]=yN({languageCode:e,words:r,maxCharsPerSubtitle:t,separator:a,depth:s+1});p&&(d=p),l.unshift(...u),f=!1}}i(d),r=[]}f&&r.push(n)}return r.length>0&&i(r),o}function wN(e,t,a){const{id:n,duration:s}=t;if(void 0===s)throw Error("Cannot transcribe asset with no duration");const o={id:n,asset_id:a,type:"video",videoDelay:0,startTime:0,endTime:s,duration:s,depth:"a"};return{_id:e||"",isStudio:!0,scenes:[{background:"#ffffff",duration:s,id:g(),layers:[o],userSelectedDuration:0,userSetDuration:!1}],duration:s}}function _N(e,t,a){const{fontSize:n,lineHeight:s}=e,o=t.reduce(((e,t)=>Math.max(e,t.width)),0),i=t.length,r=n*i+(s-1)*n*i;let{y:l}=a;const d=Math.max(o-a.width,0);let c=a.x-d/2,u=Math.max(o,a.width);u+=.5,c+=.25;let p=0;return"bottom"===e.verticalAlign?p=-r:"middle"===e.verticalAlign&&(p=-r/2),l+=p,{x:c,y:l,width:u,height:r,rotation:a.rotation,yOffset:p,xDiff:d}}const CN=1.5;function SN({distributed:e,removeGaps:t,type:a}){let n="";return e.reduce(((e,s)=>{const o=s[0],i=s[s.length-1];if(!o||!i)throw Error("Empty frame");const r=sA();let l=o.start_time;const d=i.end_time;if(t){const t=e[n];if(t){const e=l-t[Xc.end];if(e<1.5){const a=e/2;t[Xc.end]+=a,l-=a}}}n=r;const{newFrameProperties:c}=s.find((e=>e.newFrameProperties))||{};return e[r]={[Xc.words]:s.flat(1).map((e=>{const t="simple"===a?{[Zc.text]:e.word,[Zc.speaker]:e.speaker}:{[Zc.end]:e.end_time,[Zc.start]:e.start_time,[Zc.text]:e.word,[Zc.speaker]:e.speaker};return e.styles&&(t[Zc.inlineStyles]=e.styles),t})),[Xc.start]:l,[Xc.end]:d,...c},e}),{})}function xN(e){const t=pN(e.map((e=>e.text)));return e.reduce(((e,a)=>{const n=a.text.split(t).map((e=>({[Zc.text]:e})));return e[sA()]={[Xc.start]:a.start,[Xc.end]:a.end,[Xc.words]:n},e}),{})}function IN(e){const{heightPercent:t,widthPercent:a}=function(e,t){const{state:a}=Mu();return HR(e,t,{width:a.studio.width,height:a.studio.height})}(e.width,e.height),{xPercent:n,yPercent:s}=function(e,t){const{state:a}=Mu(),{canvasX:n,canvasY:s}=a.studioSizing;return YR(e,t,{x:n,y:s,width:a.studio.width,height:a.studio.height})}(e.x,e.y);return{heightPct:t,widthPct:a,xPct:n,yPct:s,rotation:e.rotation}}const AN=["dubbing","dubbing-clone-voice"],kN=e=>{const{languageCode:t,enabledAssetIds:a,assetTranscriptions:n,assetsById:s}=Du((e=>{var t,a;return{languageCode:null==(t=e.projectSessionSettings.trimWithTranscriptEnabledAssets)?void 0:t.languageCode,enabledAssetIds:null==(a=e.projectSessionSettings.trimWithTranscriptEnabledAssets)?void 0:a.assetIds,assetTranscriptions:e.assetTranscriptions,assetsById:e.assets.byId}}),Ou),o=i.useCallback((()=>(a??[]).every((e=>{const t=n.byId[e];if(!t)return!1;return Object.keys(t).some((e=>{var a;const n="completed"===(null==(a=t[e])?void 0:a.state);return e.startsWith("en")&&n}))}))),[n,a]),r=i.useCallback((()=>(a??[]).some((e=>{const t=n.byId[e];if(!t)return!1;return Object.keys(t).some((e=>{var a;if("completed"===(null==(a=t[e])?void 0:a.state)){return t[e].words.length>0}return!1}))}))),[n,a]),l=i.useCallback((()=>(a??[]).some((e=>{const t=s[e];return!!t&&"tts"!==t.source}))),[s,a]),d=e??t,c=i.useMemo((()=>Object.keys(n.byId).length>0),[n]);return{enableRemoveFillerWords:i.useMemo((()=>c&&(null==d?void 0:d.startsWith("en"))&&o()&&r()&&l()),[c,d,o,r,l]),removeFillerWordTooltip:i.useMemo((()=>c?(null==a?void 0:a.length)?d&&!d.startsWith("en")?"Filler word removal is only available for English":o()?r()?l()?"":"At least one asset must not be text-to-speech":"At least one transcription must have words":"All assets must have an English transcription":"Select at least one asset in the transcript tab to remove filler words":"Generate an English transcription to remove filler words"),[c,o,r,l,d,null==a?void 0:a.length])}},TN=(e,t)=>{var a;const{state:n}=Mu(),s=e??(null==(a=n.projectSessionSettings.trimWithTranscriptEnabledAssets)?void 0:a.languageCode);return(!t||!AN.includes(t))&&(null==s?void 0:s.startsWith("en"))};function EN(e){return`"${e}", Noto Sans, Apple Color Emoji, Noto Color Emoji`}function LN(e,t=e.fallbackFonts||[]){let a=EN(e.fontFamily);return t.length&&(a+=`, ${t.join(", ")}`),a}function jN(e,t,a){const n=[];e.italic&&n.push("italic"),e.fontWeight&&n.push(e.fontWeight);const s=`${t}px/${null!=e.lineHeight?e.lineHeight:1}`;n.push(s),n.push(LN(e,a));return n.join(" ")}const RN=.1,NN=.08,MN=45,PN=1,FN={animationId:Mc.MagicWBW,animationName:"Color",wordByWordStyles:{Color:{active:{color:"#18E1D6"}}}},DN={backgroundColor:"rgba(0, 0, 0, 0.8)",backgroundPadding:10,backgroundStyle:"wrap",borderRadius:15,fontColor:"#ffffff",fontFamily:{type:"default",fontFamily:"Montserrat"},fontSize:30,fontStyle:"normal",fontWeight:"bold",lineHeight:1.2,textAlign:"center",textTransform:"none",textShadow:"transparent",underline:!1,italic:!1,verticalAlign:"bottom"},ON={presetId:"DEFAULT_PRESET",title:"Default",style:DN,wordByWordAnimations:FN},UN={};class BN{constructor(e,t){a(this,"widths",new Map),a(this,"useCachedWidth",!1),a(this,"useCachedWidthTimeout"),a(this,"contexts",new Map),a(this,"textHeight"),this.style=e,this.scaledFontSize=t,this.textHeight=this.scaledFontSize*this.style.lineHeight}initalizeCtx(e){const t=document.createElement("canvas");t.width=800,t.height=500;const a=t.getContext("2d");if(!a)throw Error("Missing ctx");const n=[e,`${this.scaledFontSize}px`,EN(this.style.fontFamily.fontFamily)].filter((e=>!!e)).join(" ");return a.font=n,a}getCtx(e){const t=this.getWordStyleKey(e);if(!this.contexts.has(t)){const e="bold"===t?"bold":"normal";this.contexts.set(t,this.initalizeCtx(e))}const a=this.contexts.get(t);if(!a)throw Error("Missing ctx");return a}measureWord(e){const t=this.getWordText(e);if(Ef())return t.length*this.scaledFontSize;return this.getCtx(e).measureText(t).width}getWordStyleKey({[Zc.text]:e,[Zc.inlineStyles]:t}){var a;if(Object.values(t||{}).some((e=>"bold"===e.fontWeight)))return"bold";if(t){let n=!0;for(let s=0;s<e.length;s++)"\n"!==e[s]&&(n=n&&"normal"===(null==(a=t[s])?void 0:a.fontWeight));if(n)return"normal"}return this.style.fontWeight}getWordText(e){return" "===e[Zc.text]?" ":e[Zc.text].trim()}getWidth(e){if(0===this.scaledFontSize)return 0;const t=`${this.getWordText(e)} ${this.getWordStyleKey(e)}`;let a=e;return"uppercase"===this.style.textTransform?a={...e,[Zc.text]:e[Zc.text].toUpperCase()}:"lowercase"===this.style.textTransform&&(a={...e,[Zc.text]:e[Zc.text].toLowerCase()}),this.widths.has(t)&&this.useCachedWidth||this.widths.set(t,this.measureWord(a)),this.useCachedWidth||this.useCachedWidthTimeout||(this.useCachedWidthTimeout=setTimeout((()=>{this.useCachedWidth=!0,this.useCachedWidthTimeout=null}),50)),this.widths.get(t)??0}}let WN=null;function VN(e,t,a){if(0===t)return WN||(console.warn("Creating a word sizer for a font size of 0, this is probably wrong"),WN=new BN({...DN},0)),WN;const n=`${t}_${a}_${(e=>JSON.stringify(e))(e)}`;if(!UN[n]){if(Object.keys(UN).length>=5){const e=Object.entries(UN).sort(((e,t)=>e[1].lastUpdated-t[1].lastUpdated))[0];if(e){const[t]=e;delete UN[t]}}UN[n]={lastUpdated:Date.now(),wordSizer:new BN(e,t)}}const s=UN[n];if(!s)throw Error("Missing cached");return s.lastUpdated=Date.now(),s.wordSizer}function HN({canvasWidth:e,fontIsLoaded:t,fontSizeOverride:a,style:n}){const s=e/700;return VN(n,(a??n.fontSize)*s,t)}const zN=e=>Object.values(e.studio.allLayers.byId).some((e=>e.dubbingWorkflowId)),GN=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,YN=/^rgba?\((-?\d{1,3}), ?(-?\d{1,3}), ?(-?\d{1,3})(?:(?:, ?)(\d+(?:\.\d*)?|undefined))?\)$/i,KN="rgba(-255,-255,-255,0)",XN=e=>{if("transparent"===e)return!0;const t=qN(e);return 0===(null==t?void 0:t.a)};function ZN(e){const t=YN.exec(e);if(!t)return null;return{r:parseInt(t[1]??"0",10),g:parseInt(t[2]??"0",10),b:parseInt(t[3]??"0",10),a:5===t.length?parseFloat(t[4]??"1"):1}}function qN(e){if(!e||"none"===e)return null;let t=null;return e.startsWith("#")?t=function(e){const t=GN.exec(e);return t?{r:parseInt(t[1]??"0",16),g:parseInt(t[2]??"0",16),b:parseInt(t[3]??"0",16),a:1}:null}(e):e.startsWith("rgb")&&(t=ZN(e)),t}function JN(e,t){if(!e)return e;const a=qN(e);if(!a)return e;Object.assign(a,t);const{r:n,g:s,b:o}=a;return`#${n.toString(16).padStart(2,"0")}${s.toString(16).padStart(2,"0")}${o.toString(16).padStart(2,"0")}`.toLocaleUpperCase()}const $N=e=>[...new Set(e.getBlocksAsArray().flatMap((e=>e.getCharacterList().toArray().flatMap((e=>e.getStyle().toArray())))))],QN=e=>{if(""===e.getPlainText())return[];const t=e.getBlocksAsArray();if(0===t.length)return[];const a=t.flatMap((e=>e.getCharacterList().toArray().flatMap((e=>e.getStyle())))),n=a[0];return n?n.intersect(...a).toArray():[]},eM=(e,t)=>{const a=e=>e.hasChildNodes()?Array.from(e.childNodes,a).flat(1):e instanceof Element?"BR"===e.tagName?[{text:"",css:{},position:oe(e.getBoundingClientRect(),"top","left","right","bottom","width","height")}]:[]:e.nodeType===Node.TEXT_NODE?(e=>{const t=e.textContent||"";if(e.nodeType!==Node.TEXT_NODE||null==e.parentElement||["\r\n","\n"].includes(t))return[];let a=e.parentElement;for(;!a.getAttribute("data-offset-key");){if(null==a.parentElement){a=e.parentElement;break}a=a.parentElement}const n=getComputedStyle(a),s={fontWeight:n.fontWeight,fontStyle:n.fontStyle,textDecoration:n.textDecoration,color:n.color},o=[],i=document.createRange();i.setStart(e,0),i.setEnd(e,1);let r,l=i.getBoundingClientRect();for(let c=2;c<=t.length;c+=1){i.setEnd(e,c);const t=i.getBoundingClientRect();if(l.bottom!==t.bottom){i.setEnd(e,c-1);const t={...oe(i.getBoundingClientRect(),"top","left","right","bottom","width","height")};r=r||t.height,t.top=t.bottom-r,t.height=r,o.push({text:i.toString(),css:s,position:t}),i.setStart(e,c-1),i.setEnd(e,c),l=i.getBoundingClientRect()}}i.setEnd(e,t.length);const d={...oe(i.getBoundingClientRect(),"top","left","right","bottom","width","height")};return r=r||d.height,d.top=d.bottom-r,d.height=r,o.push({text:i.toString(),css:s,position:d}),o})(e)??[]:[],n=a(t),s=e.getBoundingClientRect();return n.map((({position:e,...t})=>{const a={top:(e.top-s.top)/s.height,bottom:(e.bottom-s.top)/s.height,height:e.height/s.height,left:(e.left-s.left)/s.width,right:(e.right-s.left)/s.width,width:e.width/s.width};return{...t,text:t.text.replace(/\r\n/g,"").replace(/\n/g,""),position:se(a,(e=>WC(e,1e-4)))}}))},tM=e=>e.startsWith("COLOR");function aM(e){if(e.startsWith("COLOR"))return{color:e.slice("COLOR".length+1)}}const nM=(e,t,a)=>{var n,s,o;const i=(e=>{const t=document.createElement("div"),a=e.getCurrentContent().getBlocksAsArray(),n={...ie.DefaultDraftInlineStyle},s=$N(e.getCurrentContent());for(const o of s)tM(o)&&(n[o]=aM(o));for(const o of a){const a=document.createElement("div");a.style.whiteSpace="pre-wrap";const s=o.getKey(),i=o.getText(),r=e.getBlockTree(s);for(const e of r.toArray()){const t=e.get("leaves");for(const e of t){const t=e.get("start"),s=e.get("end"),r=document.createElement("span");r.setAttribute("data-offset-key",String(t));for(const e of o.getInlineStyleAt(t).toArray())Object.assign(r.style,n[e]);r.textContent=i.slice(t,s).replace(/\r\n/g,""),a.appendChild(r)}}t.appendChild(a)}return t})(ie.EditorState.createWithContent(ie.convertFromRaw(t)));Object.assign(i.style,{font:jN(e,a,e.fallbackFonts),fontSize:a,width:`${null==(n=e.position)?void 0:n.pixel_width}px`,height:`${null==(s=e.position)?void 0:s.pixel_height}px`,textAlign:e.textAlign??"initial",textTransform:e.textTransform??"none",color:e.color,textDecoration:e.underline?"underline":"none",alignItems:"center"});const r=null==(o=e.textAlign)?void 0:o.toLowerCase();"left"===r?i.style.justifyContent="flex-start":"right"===r&&(i.style.justifyContent="flex-end");const l=document.createElement("div");l.style.display="flex",l.style.position="absolute",l.style.left="10000px",l.appendChild(i),document.body.appendChild(l);try{return eM(i,i)}finally{l.remove()}},sM={x:0,y:0,width:100,height:100,presetIndex:-1},oM=(e,t)=>{if(!e||!t||0===t.width||0===t.height)return;const a=iM(e,t),n=rM(e,t);return{x:a.x,y:a.y,width:n.width,height:n.height}},iM=(e,t)=>({x:e.x/100*t.width+t.x,y:e.y/100*t.height+t.y}),rM=(e,t)=>({width:e.width/100*t.width,height:e.height/100*t.height});function lM(e,t,a){const{crop:n,position:s,lockAspectRatio:o,width:i=100,height:r=100}=e,l=i/r/(t/a);if(o)return!1;const{width:d,height:c}=s||{x:"0%",y:"0%",height:"100%",width:"100%",rotation:0},u=parseFloat(d),p=parseFloat(c);if(!n){const e=u/p;if(Math.abs(e-l)>=.01)return!0}const{width:m,height:g}=n||{height:100,width:100,x:0,y:0,presetIndex:0},h=u/(m/100)/(p/(g/100));return Math.abs(h-l)>=.01}const dM=(e,t,a)=>{let n={width:100,height:100,x:0,y:0};const{crop:s,position:o,width:i=100,height:r=100}=e;s&&(n=s);const l={...n};if(!o)return;if(!t)return;if(!a)return;const{width:d,height:c}=t,{width:u,height:p}=a,m=i/r;if(d/c<i*n.width/(r*n.height)){const e=p*m,t=l.width;l.width*=u/e;const a=t-l.width;l.x+=a/2}else{const e=u/m,t=l.height;l.height*=p/e;const a=t-l.height;l.y+=a/2}return l};function cM(e,t,a,n){const s=Math.abs(e),o=Math.abs(t);let i=Math.abs(a),r=Math.abs(n);const l=s/o,d=i/r;let c=1,u=1,p=0,m=0;d<l?(c=s/i,u=s/i,r=s*r/i,i=s,m=Math.abs(r-o)/2):d>=l&&(c=o/r,u=o/r,i=o*i/r,r=o,p=Math.abs(i-s)/2);return{xScaleFactor:c,yScaleFactor:u,xOffset:-1*p,yOffset:-1*m}}const uM=(e,t)=>{const{width:a,height:n}=((e,t,a,n)=>{const s=mM(t,a,e),{width:o,height:i}=pM(a,[s.width,s.height]);return{width:n?s.width:o,height:n?s.height:i}})(sM,e,t);return{width:Number(a),height:Number(n)}},pM=(e,t)=>{const[a,n]=t,s=e[1]?e[0]/e[1]:t[0]/t[1],o=Math.ceil(a),i=Math.ceil(n);let r,l;return o-a>i-n?(l=o,r=o*(1/s)):(r=i,l=i*s),s<1&&(l*=1.0013),{width:l,height:r}};function mM(e,t,a){const n=oM(a,{x:0,y:0,width:t[0],height:t[1]}),s=cM(e[0],e[1],n?n.width:t[0],n?n.height:t[1]),o=oM(a,{x:0,y:0,width:s.xScaleFactor*t[0],height:s.yScaleFactor*t[1]});return{x:s.xOffset-(o?o.x:0),y:s.yOffset-(o?o.y:0),width:s.xScaleFactor*t[0]||e[0],height:s.yScaleFactor*t[1]||e[1]}}const gM='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg"><filter id="a"><feComponentTransfer><feFuncA type="linear" slope="10"/></feComponentTransfer></filter>#a',hM=(e,t,a,n,s)=>{let o=t;return n&&s&&(o=uM([t,a],[n,s]).width),o*e/100},vM=(e,t)=>{if(!e||e===KN)return e;let a=re(e);return"number"==typeof t&&(a=a.alpha(t)),a.hexa()},fM=({filters:e,width:t,height:a,layer:n=null,isBackgroundLayer:s=!1,supportsSVGBlur:o})=>{let i="";if(e)for(const r in e){switch(r){case"contrast":case"brightness":case"saturate":{const t=e[r];(t||0===t)&&(i+=`${r}(${t/100})`);break}case"opacity":s||(i+=`opacity(${e[r]}%)`);break;case"blurPercent":{const s=e[r];if(!s)break;i+=`blur(${hM(s,t,a,null==n?void 0:n.width,null==n?void 0:n.height)}px)`,o&&(i+=` url('${gM}')`);break}case"blurBackground":{const n=e[r];if(!n)break;i+=`blur(${Math.min(t,a)*n/100}px)`,o&&(i+=` url('${gM}')`);break}}i+=" "}return i};const bM=(e,t,a,n)=>{const s=t.borderRadius?parseFloat(t.borderRadius.relative):0;if(_M(t.position.pixel_width,t.position.pixel_height,s))wM(e,t.position.pixel_width/2,t.position.pixel_height/2,t.position.pixel_width/2,a,n);else{const o=s/100*(t.position.pixel_width<t.position.pixel_height?t.position.pixel_width:t.position.pixel_height);yM(e,t,t.position.pixel_width,t.position.pixel_height,o,a,n)}e.clip()},yM=(e,t,a,n,s,o,i)=>{e.beginPath(),o&&(e.lineWidth=o,e.strokeStyle=i),e.moveTo(s,0),e.lineTo(a-s,0),e.arcTo(a,0,a,s,s),e.lineTo(a,n-s),e.arcTo(a,n,a-s,n,s),e.lineTo(s,n),e.arcTo(0,n,0,n-s,s),e.lineTo(0,s),e.arcTo(0,0,s,0,s),function(e,t){const a=t.imageShadowDist||0,n=(t.imageShadowRot||0)*Math.PI/180,s=100*a*Math.cos(n),o=100*a*Math.sin(n),i=vM(t.imageEffectColor,t.imageShadowOpacity);e.shadowOffsetX=s,e.shadowOffsetY=o,e.shadowColor=i,e.shadowBlur=50*t.imageShadowBlur}(e,t),e.fill(),e.closePath(),o&&e.stroke()},wM=(e,t,a,n,s,o)=>{e.beginPath(),s&&(e.lineWidth=s,e.strokeStyle=o),e.arc(t,a,n,0,2*Math.PI),e.fill(),e.closePath(),s&&e.stroke()},_M=(e,t,a)=>e/t>=.98&&e/t<=1.02&&a>=49;function CM(e,t,a,n,s,o){const i=t+n,r=a+s;e.moveTo(t+o,a),e.lineTo(i-o,a),e.arcTo(i,a,i,a+o,o),e.lineTo(i,r-o),e.arcTo(i,r,i-o,r,o),e.lineTo(t+o,r),e.arcTo(t,r,t,r-o,o),e.lineTo(t,a+o),e.arcTo(t,a,t+o,a,o)}function SM(e,t,a,n,s){n&&(e.moveTo(t,a+n),e.arcTo(t,a,t-n,a,n),e.lineTo(t,a),e.lineTo(t,a+n)),s&&(e.moveTo(t,a+s),e.arcTo(t,a,t+s,a,s),e.lineTo(t,a),e.lineTo(t,a+s))}function xM(e,t,a,n,s){n&&(e.moveTo(t,a-n),e.arcTo(t,a,t-n,a,n),e.lineTo(t,a),e.lineTo(t,a-n)),s&&(e.moveTo(t,a-s),e.arcTo(t,a,t+s,a,s),e.lineTo(t,a),e.lineTo(t,a-s))}function IM(e,t,a){if(!e.textOutline)return 0;return.3*t*(.01*(a||e.textOutline.width))}function AM(e,t,a){const n=document.createElement("span"),s=document.createElement("div"),o=document.createElement("div");s.style.display="inline-block",s.style.width="1px",s.style.height="0",s.style.verticalAlign="baseline",o.style.visibility="hidden",o.style.position="absolute",o.style.top="0",o.style.left="0",o.style.whiteSpace="nowrap",n.style.whiteSpace="nowrap",n.style.font=jN(e,t,e.fallbackFonts),a&&(n.style.lineHeight=`${a}px`),n.textContent=e.text.replace(/\s/g,String.fromCharCode(160)),o.appendChild(n),o.appendChild(s),document.body.appendChild(o);const{offsetTop:i}=s,{height:r}=n.getBoundingClientRect();return o.remove(),{baseline:i,height:r}}function kM(e,t,a,n){const s=[];let o=0;OM(e,t,a,n,(({text:e,y:a})=>{if(0!==e.length){if(a!==o||0===s.length)s.push([e,t.measureText(e).width]);else{const a=s.pop();s.push([`${a[0]} ${e}`,a[1]+t.measureText(e).width])}o=a}}));const i=a.text.split("\n");if(i.length>s.length)for(let r=0;r<i.length;r+=1)""===i[r]&&s.splice(r,0,["",0]);return s}function TM(e,t,a,n,s,o,i){let r;if(o.textDropShadowColor&&o.textDropShadowColor!==LM){if(i.color&&XN(i.color))return;e.save();const l=o.textShadowDist*s,d=o.textShadowRot*(Math.PI/180),c=l*Math.cos(d),u=l*Math.sin(d);r=`blur(${o.textShadowBlur*s/2}px)`,e.filter="none"===e.filter?r:r+e.filter;const p=vM(o.textDropShadowColor,o.textShadowOpacity);e.fillStyle=p||o.textDropShadowColor,e.fillText(t,a+c,n+u),o.underline&&EM(e,t,a+c,n+u,s,o),e.restore()}if("textBlur"===o.textEffect){const{textBlurTemp:t,textBlur:a}=o;return r=`blur(${.2*+s*+(t||a||.2)}px)`,void(e.filter=e.filter&&"none"!==e.filter?r+e.filter:r)}}function EM(e,t,a,n,s,o,i=0){e.save();const r=e.measureText(t).width+i,l=.004*(e.canvas.clientHeight||e.canvas.height);switch(e.textAlign){case"center":a-=r/2;break;case"right":a-=r}e.beginPath(),e.strokeStyle=o.textShadow,e.lineWidth=Math.max(2,l),e.lineJoin="round";const d=.05*s;e.strokeRect(a,n+d,r,s/10),e.rect(a,n+d,r,s/10),e.fill(),e.restore()}const LM="rgba(-255,-255,-255,0)";function jM(e,t,a,n,s,o,i){var r;if(null==i?void 0:i.backgroundColor){const l=t.strokeStyle;t.fillStyle=i.backgroundColor,t.strokeStyle="transparent";const d=Object.values(a[Zc.inlineStyles]||{}).some((e=>"bold"===e.fontWeight));t.save(),d&&(t.font=jN({...e,fontWeight:"bold"},o));const{width:c}=t.measureText(a[Zc.text]),u=t.measureText(e.wordSeparator).width/2;t.restore();const p=o*e.lineHeight,m=p/5,g=30,h=Math.min(1,Math.floor(e.fontSize/g));!function(e,t,a,n,s,o){const i=Math.min(n,s)/2*.95,r=Math.min(o,i);e.beginPath(),CM(e,t,a,n,s,r),e.stroke(),e.fill()}(t,Math.floor(n-u)-h,s-p+m-parseFloat((i.bottom||0).toString())*o,Math.ceil(c+2*u)+h,p,parseFloat((null==(r=i.borderRadius)?void 0:r.toString())||"0")*o),t.strokeStyle=l}const l=n;let d=s;return(null==i?void 0:i.bottom)&&(d-=parseFloat(i.bottom.toString())*o),t.fillStyle=(null==i?void 0:i.color)||e.color,"none"===i.textShadow?t.strokeStyle="transparent":t.strokeStyle=i.textShadow||e.textShadow,{...i,x:l,y:d}}const RM=(e,t,a,n)=>{const s=Rk(e[Zc.text]),o=[];let i,r,l=t||0;return s.forEach(((s,d)=>{var c;let u=null==(c=e[Zc.inlineStyles])?void 0:c[d];!(null==u?void 0:u.color)&&n&&(u={...u||{},index:d,color:n});const p=!!(a&&void 0!==t&&a.cleanSelectionStart<=l&&a.cleanSelectionEnd>l);if(p||0===d||!function(e,t){if(!e||!t)return e===t;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const a of Object.keys(e)){if("index"===a)continue;const n=a;if(e[n]!==t[n])return!1}return!0}(u,i)||r!==p)o.push({isSelected:p,text:s,styles:u});else{const e=o[o.length-1];e&&(e.text+=s)}i=u,r=p,l+=s.length})),o},NM=(e,t,a)=>{let n={index:-1};return!!t&&!!a&&(Object.keys(a).forEach((e=>{const s=e;s in a&&a[s]===t[s]&&(n={...n,[s]:a[s]})})),!e.underline||"none"!==a.textDecoration&&"none"!==t.textDecoration||(n.textDecoration="none")),e.underline&&"none"!==n.textDecoration&&(n.textDecoration="underline"),n};function MM(e,t){const a={...e};return"italic"===(null==t?void 0:t.fontStyle)?a.italic=!0:"normal"===(null==t?void 0:t.fontStyle)&&(a.italic=!1),"bold"===(null==t?void 0:t.fontWeight)?a.fontWeight="bold":"normal"===(null==t?void 0:t.fontWeight)&&(a.fontWeight="normal"),a}function PM(e,t,a,n,s,o,i){const{textOutline:r}=s;if(r&&!XN(r.color)&&"none"!==i.textShadow&&(!i.color||!XN(i.color))){const i=IM(s,o);if(i){const s=e.strokeStyle,o=e.lineWidth,l=e.lineJoin;e.strokeStyle=r.color,e.lineWidth=i,e.lineJoin="miter",e.strokeText(t,a,n),e.strokeStyle=s,e.lineWidth=o,e.lineJoin=l}}e.strokeText(t,a,n),e.fillText(t,a,n)}function FM(e){return e.textEffect||e.textDropShadowColor}function DM(e,t,a,n,s,o){const{frame:i}=a;if(!i)return;let r=i;a.isRTL&&(r={...i,lines:i.lines.map((e=>function(e){const t=e.words,a=[];let n=[],s=[];return t.forEach((e=>{HM(e[Zc.text])?(s.length&&(a.unshift(...s),s=[]),n.push(e)):(n.length&&(a.unshift(...n.reverse()),n=[]),s.push(e))})),s.length&&a.unshift(...s),n.length&&a.unshift(...n.reverse()),{...e,words:a}}(e)))}),t.font=jN(a,n);const l=a.position.pixel_width,d=a.position.pixel_height,c=(a.lineHeight||1)*n,u=d/2-c*e.length/2;if(l<=0||d<=0)return;const{wordByWordStyles:p,animationName:m}=o||{},{active:g,spoken:h,unspoken:v,inactive:f}=p||{};r.lines.forEach(((o,i)=>{const r=e[i];if(!r)return;const[d,p]=r,b=[];let y=0,w=0;switch(a.textAlign){case"center":y=(l-p)/2;break;case"right":y=l-p;break;default:y=0}const _=y;w=u+c*i+AM(a,n,c).baseline;let C=y;o.words.forEach(((e,i)=>{var r,l,d;const c=s<e[Zc.start],u=s>=e[Zc.start],p=m&&s>=e[Zc.start]&&s<e[Zc.end];let S={};!p&&(S={...S,...f}),c&&(S={...S,...v}),u&&(S={...S,...h}),p&&(S={...S,...g});const{y:x}=jM(a,t,e,C,w,n,S),I=i+1===o.words.length;let A="";const k=RM(e);if(a.isRTL&&k.reverse(),k.forEach((e=>{t.save();const s=e.styles,o=MM(a,s);(null==s?void 0:s.color)&&((!p||p&&!(null==g?void 0:g.color))&&(t.fillStyle=s.color),c&&"transparent"===(null==v?void 0:v.color)&&(t.fillStyle="transparent")),t.font=jN(o,n),FM(a)&&TM(t,e.text,C,x,n,o,S);if(a.underline&&"none"!==(null==s?void 0:s.textDecoration)||"underline"===(null==s?void 0:s.textDecoration)){const s=.5;EM(t,e.text,C,x,n,a,s)}PM(t,e.text,C,x,a,n,S),A+=e.text,C+=t.measureText(e.text).width,t.restore()})),!I&&a.wordSeparator){t.save();const s=i+1,u=o.words[s],m=a.isRTL?((null==(r=null==u?void 0:u[Zc.text])?void 0:r.length)??1)-1:0,g=null==(l=null==u?void 0:u[Zc.inlineStyles])?void 0:l[m],h=a.isRTL?0:e[Zc.text].length-1,f=null==(d=e[Zc.inlineStyles])?void 0:d[h],b=NM(a,f,g),y=MM(a,b);t.font=jN(y,n),p&&(t.fillStyle=b.color||a.color),(null==b?void 0:b.color)&&(t.fillStyle=b.color),c&&"transparent"===(null==v?void 0:v.color)&&(t.fillStyle="transparent");if("underline"===(null==b?void 0:b.textDecoration)){const e=.5;EM(t,a.wordSeparator,C,w,n,a,e)}t.strokeText(a.wordSeparator,C,x),t.fillText(a.wordSeparator,C,x),A+=a.wordSeparator,C+=t.measureText(a.wordSeparator).width,t.restore()}b.push(A);const T=b.join("");y=_+t.measureText(T).width}))}))}function OM(e,t,a,n,s){var o;const i=a.position.pixel_width,r=a.position.pixel_height;t.textBaseline="alphabetic",t.textAlign="left";for(const{text:l,css:d,position:c}of e){const e=!!(null==(o=d.textDecoration)?void 0:o.toString().includes("underline")),u={...a,text:l,textWithLineBreaks:l,fontSize:n,lineHeight:1,underline:e,italic:"italic"===d.fontStyle,fontWeight:d.fontWeight},p=jN(u,n,a.fallbackFonts);t.font=p,t.fillStyle=d.color;const m=c.left*i,g=c.height*r,{baseline:h}=AM({...u,lineHeight:"normal"},n,g);s({text:l,x:m,y:c.bottom*r-(g-h),correctedLayer:u,hasUnderline:e})}}const UM=e=>{let t=[];t=e.replace(/\r?\n|\r/g,"\n").split(/(\n)/);return t.filter((function(e){return""!==e})).filter((function(e,t,a){return 0===t||!("\n"===e&&"\n"!==a[t-1])}))};function BM(e,t,a=null,n=null,s=null,o=null){const i=a||t.position.pixel_width,r=n||t.position.pixel_height;if(i<=0||r<=0)return;let l="0%";s?l=s:t.borderRadius&&t.borderRadius.relative&&(l=t.borderRadius.relative);const d=parseFloat(l)/100*Math.min(i,r),c=(o||t.textPadding||0)*Math.min(i,r)/100,u=2*c,p=document.createElement("canvas");p.width=i+u,p.height=r+u;const m=p.getContext("2d");m.beginPath(),m.rect(0,0,p.width,p.height),m.clip(),m.beginPath(),CM(m,0,0,p.width,p.height,d),m.lineWidth=1,m.strokeStyle=t.backgroundColor,m.stroke(),m.fillStyle=t.backgroundColor,m.fill(),p.width>0&&p.height>0&&e.drawImage(p,-c,-c,p.width,p.height)}function WM(e,t,a){return Math.max(e,Math.min(a,t))}function VM(e,t,a,n,s=null,o=null,i=null,r=null,l=null,d=null){const c=s||n.position.pixel_width,u=o||n.position.pixel_height;if(c<=0||u<=0)return;const p=n.textAlign,m="left"===p,g="right"===p,h=n.lineHeight??1,v=i||h*a,f=d??n.textPadding??0,b=f*v/100,y=2*b;let w=r||Math.max(0,(u-v*t.length)/2);const _=document.createElement("canvas");_.width=c+y,_.height=u+y;const C=_.getContext("2d");C.beginPath(),C.rect(0,0,_.width,_.height),C.clip();let S=0;null!==l?S=parseFloat(l)/100:void 0!==n.borderRadius&&n.borderRadius.relative&&(S=parseFloat(n.borderRadius.relative)/100);const x=S*v,I=x+x;let A=t;const k=(e,t)=>{const a=A[t-1]??0;let n=e;if(t>0){Math.abs(a-e)<I&&(n=Math.max(a,e))}return n};function T(e){const t=A[e]??c-2,a=Math.min(c-2,t);let n=0;switch(p){case"right":n=c-a-1;break;case"center":n=(c-a)/2}return{x:n,w:a}}let E;A=t.map(k).reverse(),A=A.map(k).reverse();let L=1;const j=qN(n.backgroundColor);function R(){C.lineWidth=1,C.strokeStyle=E,C.stroke(),C.fillStyle=E,C.fill(),C.beginPath()}j?(L=j.a,E=`rgb(${j.r}, ${j.g}, ${j.b})`):E=n.backgroundColor,C.beginPath();const N=S+f/100;let M=x;N>.5&&(M=x-v*(N-.5));for(let P=0;P<t.length;P++){const{x:e,w:a}=T(P);if(CM(C,e,w,a+y,v+y,x),R(),P>0){const{x:t,w:n}=T(P-1);let s=n>a+x+x;(g||m)&&(s=n>a+x),SM(C,e,w+y-(m||n===a?b:0),m?0:WM(0,e-(t+x),M),m||s||n===a?x:0),R(),SM(C,e+a+y,w+y-("right"===p||n===a?b:0),g||s||n===a?x:0,g?0:WM(0,t+n-x-(e+a),M)),R()}if(P<t.length-1){const{x:t,w:n}=T(P+1);let s=n>a+x+x;(g||m)&&(s=n>a+x),xM(C,e,w+v+("left"===p||n===a?b:0),m?0:WM(0,e-(t+x),M),m||s||n===a?x:0),R(),xM(C,e+a+y,w+v+("right"===p||n===a?b:0),g||s||n===a?x:0,g?0:WM(0,t+n-x-(e+a),M)),R()}R(),w+=v}if(_.width>0&&_.height>0){const t=e.globalAlpha;e.globalAlpha=L*e.globalAlpha,e.drawImage(_,-b,-b,_.width,_.height),e.globalAlpha=t}}function HM(e){return/[\u0600-\u06FF]/.test(e)||/[\u0590-\u05FF]/.test(e)}function zM(e,t,a,n,s){var o,i,r;if(!t.text)return;e.save();const l=Number(t.fontSize||0)*n;e.font=jN(t,l),e.textAlign="left",e.textBaseline="alphabetic";const d=t.position.pixel_width,c=.004*(e.canvas.clientHeight||e.canvas.height);e.strokeStyle=t.textShadow||"transparent",e.lineWidth=Math.max(2,c),e.lineJoin="round";const{xPos:u,yPos:p}=Jk(t,{animations:s},a,e.canvas.clientWidth||e.canvas.width,e.canvas.clientHeight||e.canvas.height),m=u+t.position.pixel_width/2,g=p+t.position.pixel_height/2;e.translate(m,g),(null==(o=t.position)?void 0:o.rotation)&&e.rotate(t.position.rotation*Math.PI/180),e.translate(-m,-g),e.translate(u,p),e.globalAlpha=t.globalAlpha;const h=Ok(t,s);h&&h.opacity&&(e.globalAlpha=Qk(t,h,a).opacity/100);let v=null;Dk(t,s)&&(v=((e,t)=>Uk(e,t).find((({animationName:e,wordByWordStyles:t})=>!!t&&e!==Mc.None))||null)(t,s),Bk(s,t,e,a,l)),e.fillStyle=t.color;const f="uppercase"===t.textTransform?e=>e.toLocaleUpperCase():"lowercase"===t.textTransform?e=>e.toLocaleLowerCase():e=>e;t.text=f(t.text),t.textWithLineBreaks&&(t.textWithLineBreaks=f(t.textWithLineBreaks)),t.textBlocks=null==(i=t.textBlocks)?void 0:i.map((e=>({...e,text:f(e.text)}))),"frame"in t&&t.frame&&(t.frame={...t.frame,lines:null==(r=t.frame.lines)?void 0:r.map((e=>({...e,words:e.words.map((e=>({...e,[Zc.text]:f(e[Zc.text])})))})))});const b=e=>e.replace(/\r\n/g,"\n"),y=b(t.text||""),w=b(t.textWithLineBreaks||""),_=!!w&&function(e,t){return e.replace(/[\s\n]/g,"")===t.replace(/[\s\n]/g,"")}(y,w);let C,S=[];try{t.textBlocks?(C=t.textBlocks,S=kM(t.textBlocks,e,t,l)):t.draftJSTextTree&&(t.draftJSTextTree={...t.draftJSTextTree,blocks:t.draftJSTextTree.blocks.map((e=>({...e,text:f(e.text)})))},C=nM(t,t.draftJSTextTree,l),S=kM(C,e,t,l))}catch(b9e){console.error("failed to getPhrasesFromTextBlocks",b9e)}"frame"in t&&t.frame&&(S=function(e,t,a){const n=[],{frame:s}=t;return null==s||s.lines.forEach((s=>{let o=0,i="";const r=e.measureText(t.wordSeparator).width;s.words.forEach(((n,l)=>{const d=Object.values(n[Zc.inlineStyles]||{}).some((e=>"bold"===e.fontWeight));e.save(),d&&(e.font=jN({...t,fontWeight:"bold"},a)),i+=n[Zc.text],o+=e.measureText(n[Zc.text]).width,e.restore(),s.words.length-1!==l&&(o+=r,i+=t.wordSeparator)})),n.push([i,o])})),n}(e,t,l)),0===S.length&&(S=function({ctx:e,lines:t,pxCap:a}){let n=[];const s=" ",o=e.measureText(s).width;let i,r;return t.filter((e=>e&&e.length)).forEach((t=>{i="",r=0,t.split(s).forEach((t=>{let{width:l}=e.measureText(t);if(l>a){r&&n.push([i,r]);const s=((e,t,a)=>{const n=t.split(""),s=[];let o="",i=0;return n.forEach((t=>{const{width:n}=e.measureText(t);i+n>a?(i&&s.push([o,i]),o=t,i=n):(o+=t,i+=n)})),i&&s.push([o,i]),s})(e,t,a),o=s.pop();return[i,r]=o,void(n=[...n,...s])}r+o+l>a?(r&&n.push([i,r]),i="",r=0):r&&""!==t&&(i+=s,r+=o),""===t&&(t=s,l=o),i+=t,r+=l})),r&&n.push([i,r])})),n}({ctx:e,lines:UM(_?w:y)||[],pxCap:_?Number.MAX_SAFE_INTEGER:d}));if(t.backgroundColor&&t.backgroundColor!==LM)if("wrap"===t.wrapOrFill){VM(e,S.map((([e,t])=>t)),l,t)}else BM(e,t);("isRTL"in t&&t.isRTL||!t.isMagicSubtitle&&HM(y))&&(e.direction="rtl"),C?function(e,t,a,n){OM(e,t,a,n,(({text:e,x:s,y:o,correctedLayer:i,hasUnderline:r})=>{t.save(),FM(a)&&TM(t,e,s,o,n,i,{}),r&&EM(t,e,s,o,n,i),PM(t,e,s,o,i,n,{}),t.restore()}))}(C,e,t,l):"frame"in t&&t.frame?DM(S,e,t,l,a,v):function(e,t,a,n,s=null,o=null){var i,r;const l=s||a.position.pixel_width,d=o||a.position.pixel_height;if(l<=0||d<=0)return;const c=(a.lineHeight||1)*n,u=d/2-c*e.length/2;for(let p=0;p<e.length;p++){const s=(null==(i=e[p])?void 0:i[0])??"",o=(null==(r=e[p])?void 0:r[1])??0;let d;switch(a.textAlign){case"center":d=(l-o)/2;break;case"right":d=l-o;break;default:d=0}const m=u+c*p+AM(a,n,c).baseline;FM(a)&&TM(t,s,d,m,n,a,{}),a.underline&&EM(t,s,d,m,n,a),PM(t,s,d,m,a,n,{})}}(S,e,t,l),e.restore()}const GM=e=>e.length>25?e.slice(0,22)+"...:":e+":",YM=({text:e,textIndent:t=0,divClass:a,divWidth:n})=>{const s=document.createElement("div");s.className=a,s.style.width=`${n}px`,s.style.textIndent=`${t}px`,s.style.whiteSpace="nowrap",s.style.overflow="hidden",s.style.textOverflow="ellipsis",s.style.position="absolute",s.style.top="-9999px",s.style.left="-9999px",s.innerHTML=e,document.body.appendChild(s);const o=s.scrollWidth<=n;return document.body.removeChild(s),o},KM=(e,t)=>{if(e)return e[t%e.length]||void 0},XM=e=>{let t="",a=0;return e.forEach(((e,n)=>{e.length>t.length&&(t=e,a=n)})),a};function ZM(e){var t,a;const n=(null==(t=e.match(/^\n+/))?void 0:t[0].length)??0,s=(null==(a=e.match(/\n+$/))?void 0:a[0].length)??0;return{leadingNewlineCount:n,trailingNewlineCount:s,trimmedWordText:e.slice(n,e.length-s)}}function qM({words:e,verticalAlign:t}){const a=[];if("top"===t)e.forEach(((e,t)=>{a.push({originalNdx:t,side:"front",word:e})}));else if("bottom"===t)[...e].reverse().forEach(((t,n)=>{const s=e.length-1-n;a.push({originalNdx:s,side:"back",word:t})}));else{let t=Math.floor(e.length/2),n=t;for(;t>=0||n<e.length;){const s=e[t];if(s&&a.push({originalNdx:t,side:"back",word:s}),t!==n){const s=e[n];s&&a.push({originalNdx:t,side:"front",word:s})}t--,n++}}return a}function JM({maxWidth:e,orderedWords:t,separator:a,wordSizer:n}){const s=[];function o(e,t,a){"front"===a?s.push({words:[e],width:t}):s.unshift({words:[e],width:t})}const i=" "===a?n.getWidth({[Zc.text]:" "}):0;return t.forEach((t=>{const{side:a,word:r}=t,l=n.getWidth(r),d=s["front"===a?s.length-1:0];if(d){const n=d.width,s=(n?n+i:0)+l;n>0&&s>e?o(t,l,a):("front"===a?d.words.push(t):d.words.unshift(t),d.width=s)}else o(t,l,a)})),s}function $M(){const{teams:e}=Mu().state,{allTeams:t,selectedTeamId:a}=e;return!(0===t.length||!a)&&t.some((e=>e._id===a))}function QM(e=rg()){if(!nc(e.planTier).hasPermission(Fd.EXCEED_LIMITS))return!1;if(!e.customTeamLimits)return!1;if(!e.customTeamLimits.overagesEnabledAt)return!1;return new Date(e.customTeamLimits.overagesEnabledAt)>new Date(e.customTeamLimits.overagesDisabledAt??0)}async function eP(e,t){const a={teamId:e,fromVideoId:t};try{await Xf("/api/v1/requests/teams",{body:a})}catch(b9e){cb({description:"Failed to request to join team",error:b9e})}}var tP=(e=>(e.ACCEPT="accept",e.REJECT="reject",e))(tP||{});async function aP(e){try{const{name:t,_id:a}=await Kf(`/api/v2/teams/teamIdAndName/${e}`);return{name:t,teamId:a}}catch(b9e){console.error(b9e)}return{}}async function nP(){const{state:e}=Mu();if(!qm(e.currentUser))return[];let t;try{t=(await Kf(`/api/v1/requests/userId/pending/${e.currentUser.user._id}`)).requests}catch(b9e){console.error(b9e)}return t}async function sP(e,t,a){if(!a.length||!t.length)return!1;const n=a.find((t=>t._id===e));let s;if(n)s=n.teamId;else{const t=await(async e=>Kf(`/api/v1/folders/limitedDTO/${e}`))(e);if(!t)return!1;s=t.teamId}return!!t.find((e=>e._id===s))}const oP=(e,t)=>{if(!nc(e.planTier).isPaid)return 0;const a=e.users.length;return Math.max(0,t.quantity-a)},iP=e=>{const{state:t,dispatch:a}=Mu(),n=t.teams.activeBrandkit,s=rg();if(!n||!s)return;const o={...n,colors:e};a(Ib(o)),jb(s._id,{brandkit:o})};function rP({limitOverrides:e}={}){const t=Du((t=>dP(t,e)),r.shallowEqual);return i.useMemo((()=>t),[t])}const lP=({limitOverrides:e})=>dP(Mu().state,e),dP=u(((e,t)=>t),ig,((e,t)=>{const a=Gw(t);return Yw({teamPlanLimits:e||a,limitConsumption:t.limits})}));function cP({projectedUsage:e,team:t=rg(),teamLimitConsumption:a,limitOverrides:n}){const s=a||lP({limitOverrides:n}),o=QM(t),i=[];Object.entries(e).forEach((([e,t])=>{const a=s[e];a&&a.remainingUsage<t&&i.push(e)}));return{blocked:!o&&!(!e||!i.length),usageExceededCategories:i}}function uP({limitOverrides:e,projectedUsage:t}){return cP({projectedUsage:t,team:lg(),teamLimitConsumption:rP({limitOverrides:e}),limitOverrides:e})}async function pP(e,{maxAttempts:t=5,exponential_multiplier:a=1e3,attempt:n=0,event_properties:s,shouldStopRetrying:o=(()=>!1)}){try{return await e(n)}catch(b9e){if(o(b9e))throw b9e;const l=s.fn;if(console.info(`attempt #${n} failed.  fn = ${l}`,b9e.message||""),n>t)throw b9e;return await(i=2**n*a,new Promise((e=>setTimeout(e,i)))),pP(e,{maxAttempts:t,exponential_multiplier:a,attempt:n+1,event_properties:s})}var i}const mP={epochs:["yr","month","day","hr","min"],yr:31536e3,month:2592e3,day:86400,hr:3600,min:60},gP=new Date;function hP(e,t){try{const t=function(e){for(let t=0;t<mP.epochs.length;t+=1){const a=mP.epochs[t];if(!a)continue;const n=Math.floor(e/mP[a]);if(n>=1)return{interval:n,epoch:a}}return null}(Math.floor((new Date-new Date(e))/1e3)),a=t.interval>1||0===t.interval?"s":"";return`${t.interval} ${t.epoch}${a}`}catch(b9e){return t||"a little while"}}function vP(e,t={}){const{excludeMs:a,msPrecision:n=2,dontPadMax:s}=t,o=!s,i=Number(Number.parseFloat(e).toFixed(n));if(Number.isNaN(i))return"0.00";const r=Math.round(1e3*i),l=Math.floor(r%1e3),d=Math.floor(i%60),c=Math.floor(r/6e4%60),u=Math.floor(r/36e5%60);let p=l.toString(),m=d.toString(),g=c.toString(),h=u.toString();u<10&&o&&(h=`0${u}`),c<10&&(u>0||o)&&(g=`0${c}`),d<10&&(u>0||c>0||o)&&(m=`0${d}`),l<100&&(p=`0${l}`),l<10&&n>2&&(p=`0${p}`);let v=`${m}`;return a||(v=`${m}.${p.slice(0,n)}`),(c>0||parseFloat(h))&&(v=`${g}:${v}`),u>0&&(v=`${h}:${v}`),v}function fP(e,t,a){let n=vP(e,a);return t||(n=n.replace(".00","")),n.includes(":")||(n=`0:${n}`),n.startsWith("0")&&!n.startsWith("0:")&&(n=n.slice(1)),n}const bP=e=>{const t="string"==typeof e?new Date(e):e,a=le(new Date).diff(t,"days"),n=le(t).day(),s=le().day(),o=le().subtract(1,"days").day();return a<7?n===s?le(t).format("[today at] h:mma"):n===o?le(t).format("[yesterday at] h:mma"):le(t).format("[last] dddd [at] h:mma"):le(t).format("MM/DD/YYYY")},yP=e=>{const t=le(e).get("date"),a=le().get("date"),n=le().subtract(1,"days").get("date");return t===a?le(e).format("[today at] h:mma"):t===n?le(e).format("[yesterday at] h:mma"):le(e).format("MM/DD/YYYY")};function wP(e){const t=new Date(1e3*e);return`${t.getMonth()+1}/${t.getDate()}/${t.getFullYear()}`}function _P(e){const t=Math.floor(e/1e3),a=Math.floor(t/60),n=Math.floor(a/60),s=t%60,o=a%60;return n>0?`${n}h ${o}m`:a>0?`${o}m ${s}s`:`${s}s`}function CP(e){return`${_P(e)} ago`}const SP=e=>{const t=new Date(1e3*e).toISOString(),a=t.substr(14,5),n=t.substr(11,8);return e>=3600?n:a},xP=e=>{const t=new Date(e).getTime(),a=(new Date).getTime()-t,n=Math.floor(a/1e3);return Math.floor(n/60)},IP={},AP=m({name:"transcriptionCostsCache",initialState:IP,reducers:{clearTranscriptionCosts:()=>IP,setTranscriptionCost:(e,t)=>{e[t.payload.key]={costMin:t.payload.costMin,updatedAt:(new Date).getTime(),status:"fulfilled"}},setPendingTranscriptionCost:(e,t)=>{e[t.payload.key]={updatedAt:(new Date).getTime(),status:"pending"}}}}),kP=AP.actions,TP=({assetId:e,teamId:t,languageCode:a,translateLanguageCode:n})=>n?`${e}-${t}-${a}-${n}`:`${e}-${t}-${a}`,EP=u(((e,t)=>t),(e=>e.transcriptionCostsCache),((e,t)=>t[TP(e)])),LP=e=>{const t=EP(Mu().state,e);if(t&&("fulfilled"===(a=t).status&&0===a.costMin||!(xP(new Date(a.updatedAt))>=10)))return t;var a},jP=({assetId:e,teamId:t,languageCode:a,translateLanguageCode:n,costMin:s})=>{const{dispatch:o}=Mu(),i=TP({assetId:e,teamId:t,languageCode:a,translateLanguageCode:n});return o(kP.setTranscriptionCost({key:i,costMin:s})),i};function RP(e){return new Date(1e3*parseInt(e.substring(0,8),16))}function NP(e){return{type:"SET_USER",user:e}}async function MP(e,t,a){const{state:n,dispatch:s}=Mu(),{token:o,user:i}=n.currentUser||{},{_id:r}=i||{};try{const n=await zf("api/v1/settingsUpdate",{body:{token:o,userId:r,notifType:e,on:t,location:a}});n.success?s(function(e,t,a){return{type:"UPDATE_USER_NOTIF_SETTING",on:e,notifType:t,location:a}}(t,e,a)):(console.error("Error update user settings:",n.messsage),s(db({description:"There was an error with updating your notification settings.",type:"error"})))}catch(l){console.error("Error update user settings:",l),s(db({description:"There was an error with updating your notification settings.",type:"error"}))}}function PP(e){const{state:t,dispatch:a}=Mu(),{user:n}=t.currentUser||{};a(NP({...n,royaltyFreePreference:e})),n._id&&Xf("/api/v1/users/updateProfile/royaltyFreePreference",{body:{royaltyFreePreference:e},parseJSON:!1}).catch((e=>console.error(e)))}async function FP(e){return Xf("/api/v1/users/updateProfile/upsells",{body:{upsells:e},parseJSON:!1})}async function DP(e){const{state:t,dispatch:a}=Mu(),{user:n}=t.currentUser||{};if(a(NP({...n,tooltipActivity:e})),n._id)return Xf("/api/v1/users/updateProfile/tooltipActivity",{body:{tooltipActivity:e},parseJSON:!1}).then((()=>{Qf()}))}function OP(e){const{state:t,dispatch:a}=Mu(),{user:n}=t.currentUser||{};a(NP({...n,shownPopups:{...n.shownPopups,[e]:!0}})),n._id&&Xf("/api/v1/users/updateProfile/shownPopup",{body:{shownPopup:e},parseJSON:!1}).catch((e=>console.error(e)))}async function UP(e){const t=await Xf("/api/v1/users/updateProfile/transcriptionPreferences",{body:{transcriptionPreferences:e}}),{state:a,dispatch:n}=Mu(),{user:s}=a.currentUser||{};n(NP({...s,...t}))}function BP(e){const{state:t,dispatch:a}=Mu(),{user:n}=t.currentUser;a(NP({...n,preferences:{...n.preferences,...e}})),qm(t.currentUser)&&Xf("/api/v1/users/updateProfile/preferences",{body:{preferenceUpdates:e},parseJSON:!1})}const WP=60,VP=de("2023-10-05"),HP=de("2023-10-21");function zP(e,t,a){if(!Nb(Mu().state))return!0;const n=de(RP(t));return!(e&&"google"===e.provider_id&&!1===e.speaker_labels&&n.isAfter(VP)&&n.isBefore(HP))&&(!!function({previousTerms:e,currentTerms:t}){if(Object.keys(e||{}).length!==Object.keys(t||{}).length)return!1;for(const a in e)if(e[a]!==(null==t?void 0:t[a]))return!1;return!0}({previousTerms:null==e?void 0:e.glossary_terms,currentTerms:a})&&(null==e?void 0:e.speaker_labels))}const GP=u(((e,t)=>t),(e=>e.assetTranscriptions.byId),(e=>e.assets.byId),(({assetId:e,languageKey:t},a,n)=>{const s=vk({assetTranscription:a[e],languageKey:t});if(s&&YP(s))return s.assetTranscriptionId;const o=n[e];if(o){const{result:e}=fk({transcriptionIds:o.transcriptionIds,languageKey:t})??{};if(e)return e}}));const YP=e=>"completed"===e.state&&e.words.length>0;async function KP({languageKey:e,assetId:t,videoId:a,glossaryTerms:n}){var s,o;if(Pu.forceNewAssets)return;const{dispatch:i,state:r}=Mu(),l=!!(null==(o=null==(s=r.teams.activeBrandkit)?void 0:s.customSpelling)?void 0:o.length),d=vk({assetTranscription:r.assetTranscriptions.byId[t],languageKey:e});if(d&&YP(d)&&zP(d.job_params,d.assetTranscriptionId,n)&&!l)return d;const c=(u={languageKey:e,assetId:t},GP(Mu().state,u));var u;if(c)try{const e={videoId:a},{asset_transcription:s}=await Kf(`/api/v2/transcriptions/result/${c}`,{params:e});if(s&&s.words.length>0&&zP(s.job_params,s._id,n)){const{language_code:e,translate_language_code:a}=s,n=ML({languageCode:e,translateCode:a}),o={assetTranscriptionId:c,state:"completed",languageKey:n,words:s.words,job_params:s.job_params,created_at:s.created_at,isLanguageAutoDetected:s.is_language_auto_detected};return i(DE([{assetId:t,languageKey:n,status:o}])),o}}catch(p){throw new Error("Failed to fetch existing transcription")}}async function XP({assetId:e,assetDuration:t,languageCode:a,languageKey:n,requestingFeature:s,timelineLayer:o,translateCode:i,videoId:r,speakerCount:l,teamIdToCharge:d=rg()._id}){const{dispatch:c,state:u}=Mu(),p=Nb(u),m=TN(a,s);p&&a!==qp.value&&UP({languageCode:a,translateCode:i}).catch((e=>{console.error(e)}));let g={};if(p&&d&&a&&i)try{g=await async function({teamId:e,sourceLanguageCode:t,targetLanguageCode:a}){const n=`/api/glossary/terms/${e}/${t}/${a}`;return await Kf(n)}({teamId:d,sourceLanguageCode:a,targetLanguageCode:i})}catch(b9e){console.error("Error getting glossary terms",b9e)}if(!Pu.forceNewAssets)try{const o=await KP({languageKey:n,assetId:e,videoId:r,glossaryTerms:g}),l=!o||!!o.created_at&&new Date(o.created_at)>new Date(qP),c="translate-review"===s;if(d&&l&&!c&&await JP({teamId:d,assetId:e,userId:u.currentUser.user._id,languageCode:a,isLanguageAutoDetected:a===qp.value,translateLanguageCode:i??void 0,assetDuration:t,requestingFeature:s}),o){if("translate-review"!==s)return;if(await KP({languageKey:a,assetId:e,videoId:r,glossaryTerms:g}))return}}catch(b){return c(FE({assetId:e,languageKey:n})),void cb({description:"Failed to transcribe asset",error:b,sendToSentry:!0})}if(!p)return c({type:"SHOW_SIGN_IN"}),void c(FE({assetId:e,languageKey:n}));const h=m,v={Origin:"Studio","Translated Language":i,"Source Language":a,Location:s,asset_id:o.asset_id,"Duration (sec)":t,keep_whole:false,speaker_labels:!0,disfluencies:h,"Number of Glossary Terms":Object.keys(g).length,"Language was autodetected":a===qp.value},f=am(a);try{const s=o;ov("Auto-generate Subtitles",v);const d={sourceVideo:wN(r,s,e),assetId:e,selectedSceneIndex:0,full:!0,languageCode:a,translate:!!i,translateLanguageCode:i,translateSourceLanguageCode:f,keep_whole:false,speaker_labels:!0,speakerCount:l,disfluencies:h,teamId:u.teams.selectedTeamId,glossary_terms:g},p=await Xf("/api/v2/transcriptions",{body:d});if(!p.success)throw Error("Starting transcription failed");c(DE([{assetId:e,languageKey:n,status:{assetDuration:t,assetId:e,state:"pending",languageKey:n,progress:{conformed:!1,trimmed:!1,done:!1,downloaded:!1,extracted:!1,speech:0},transcriptionId:p.transcriptionId}}])),i&&p.sourceLanguageTranscriptionId&&c(DE([{assetId:e,languageKey:a,status:{assetDuration:t,assetId:e,state:"pending",languageKey:a,progress:{conformed:!1,trimmed:!1,done:!1,downloaded:!1,extracted:!1,speech:0},transcriptionId:p.sourceLanguageTranscriptionId}}]))}catch(b){c(FE({assetId:e,languageKey:n})),cb({description:"Failed to transcribe asset",error:b,sendToSentry:!0}),ov("Auto-generate Subtitles Fails",{...v,failureMessage:"Job failed","Language was autodetected":a===qp.value})}}const ZP=async({teamId:e,assetId:t,languageCode:a,translateLanguageCode:n,isLanguageAutoDetected:s})=>{if(e===Om._id)return t===bR.assetId;const{success:o,teamTranscriptions:i}=await(async({teamId:e,assetId:t,languageCode:a,translateLanguageCode:n,isLanguageAutoDetected:s})=>Kf(`/api/v2/teams/${e}/user/transcriptions${qw({asset_id:t,language_code:a,translate_language_code:n,is_language_auto_detected:`${!!s}`})}`))({teamId:e,assetId:t,languageCode:a,translateLanguageCode:n,isLanguageAutoDetected:s});if(!o)throw new Error("Failed to get team transcriptions.");return!!i.length},qP="Thu Sep 05 2024 12:30:00 GMT-0400 (Eastern Daylight Time)",JP=async({teamId:e,assetId:t,userId:a,languageCode:n,isLanguageAutoDetected:s,translateLanguageCode:o,assetDuration:i,requestingFeature:r})=>{const d=async()=>{if(await ZP({teamId:e,assetId:t,languageCode:n,isLanguageAutoDetected:s,translateLanguageCode:o}))return;const{success:r}=await(async({teamId:e,transcriptionInfo:t})=>Zf(`/api/v2/teams/${e}/transcriptions`,{body:t}))({teamId:e,transcriptionInfo:{assetId:t,languageCode:n,translateLanguageCode:o,teamId:e,userId:a,isLanguageAutoDetected:s}});if(!r)throw new Error("Failed to create team transcription.");const{usageCost:l}=QP({withTranslation:!!o,durationSec:i});await c_(l),jP({assetId:t,teamId:e,languageCode:n,translateLanguageCode:o,costMin:0})};try{if(e===Om._id)throw new $v("You must be logged in to transcribe.",{tags:{requestingFeature:r}});return{success:await pP(d,{maxAttempts:3,event_properties:{fn:"chargeTeamForTranscriptionIfNeeded"}})}}catch(b9e){return l(b9e),{success:!1,message:"Failed to charge team for transcription"}}},$P=e=>Math.ceil(e/60),QP=({withTranslation:e,durationSec:t,limitOverrides:a})=>{var n;const s=hg(Fd.TRANSCRIBE),o=(null==(n=lP({limitOverrides:a})[Bd.TRANSCRIBE])?void 0:n.remainingUsage)??0,i=$P(t),r={};e?r[Bd.TRANSLATE]=i:r[Bd.TRANSCRIBE]=i;const l=!s&&i>o,{blocked:d}=cP({limitOverrides:a,projectedUsage:r});return{usageCost:r,usageMinutes:i,freeUsageExceeded:l,proUsageExceeded:d}},eF=async({assetIds:e,languageCode:t,translateCode:a,limitOverrides:n,fallbackDurationSec:s=60})=>{const{state:o}=Mu(),i=o.assets.byId;let r=0,l=0,d=0,c=!0,u=!0;const p=new Map,m=new Map,g=e.map((async e=>{const n=await tF({asset:i[e],languageCode:t,fallbackDurationSec:s}),o=await tF({asset:i[e],languageCode:t,translateCode:a,fallbackDurationSec:s}),g=n.assetDurationSec,h=$P(n.assetDurationSec??60);r+=n.transcribeCostMin,a&&(l+=o.transcribeCostMin,o.isFree||(u=!1)),n.isFree||(c=!1),d+=h,m.set(e,{transcribe:n.transcribeCostMin,translate:a?o.transcribeCostMin:0}),g&&p.set(e,g)}));if(await Promise.all(g),s&&0===e.length){const e=$P(s);r=e,d=e}const h=QP({withTranslation:!!a,durationSec:60*r,limitOverrides:n}),v=a?QP({withTranslation:!!a,durationSec:60*l,limitOverrides:n}):null,f={cost:r,isFree:c},b={cost:l,isFree:u},y=v?{...h.usageCost,...v.usageCost}:h.usageCost,w=h.freeUsageExceeded||!!v&&(null==v?void 0:v.freeUsageExceeded),_=h.proUsageExceeded||!!v&&(null==v?void 0:v.proUsageExceeded);return{durationOfAllAssetsBeingRequested:d,assetDurationsSecById:p,transcribeCost:f,translateCost:b,transcribeCostByAssetId:m,freeUsageExceeded:w,projectedUsage:y,proUsageExceeded:_}};async function tF({asset:e,languageCode:t,translateCode:a,fallbackDurationSec:n=60}){const{state:s}=Mu(),o=Object.values(s.studio.allLayers.byId),i=e?sL(e):void 0,r=rg(),l=QE({asset:e,timelineLayer:o.find((e=>nL(e)===i))})??void 0,d={transcribeCostMin:$P(n),assetDurationSec:l,isFree:!1};if(!i||void 0===l)return d;const c=LP({assetId:i,teamId:r._id,languageCode:t,translateLanguageCode:a});if("fulfilled"===(null==c?void 0:c.status))return{transcribeCostMin:c.costMin,assetDurationSec:l,isFree:!1};if("pending"===(null==c?void 0:c.status))return d;(({assetId:e,teamId:t,languageCode:a,translateLanguageCode:n})=>{const{dispatch:s}=Mu(),o=TP({assetId:e,teamId:t,languageCode:a,translateLanguageCode:n});s(kP.setPendingTranscriptionCost({key:o}))})({assetId:i,teamId:r._id,languageCode:t,translateLanguageCode:a});const[u,p,m]=await Promise.all([KP({assetId:i,languageKey:t}),ZP({assetId:i,teamId:r._id,languageCode:t,isLanguageAutoDetected:t===qp.value,translateLanguageCode:void 0}),ZP({assetId:i,teamId:r._id,languageCode:t,isLanguageAutoDetected:t===qp.value,translateLanguageCode:a})]),g=!u||!!u.created_at&&new Date(u.created_at)>new Date(qP),h=a?!m&&g:!p&&g,v=h?$P(l??n):0;return jP({assetId:i,teamId:r._id,languageCode:t,translateLanguageCode:a,costMin:v}),{transcribeCostMin:v,assetDurationSec:l,isFree:!h}}const aF=m({name:"vision",initialState:{byAssetId:{},progressByAssetId:{}},reducers:{setAssetVisionJob:(e,t)=>{const{assetId:a,visionJob:n}=t.payload;e.byAssetId[a]={...e.byAssetId[a],[n.job_type]:n}},setVisionJobProgress:(e,t)=>{const{assetId:a,jobId:n,progress:s}=t.payload;e.progressByAssetId[a]={jobId:n,progress:s}},deleteVisionJobProgress:(e,t)=>{const{assetId:a}=t.payload;delete e.progressByAssetId[a]}}}),{setAssetVisionJob:nF,setVisionJobProgress:sF,deleteVisionJobProgress:oF}=aF.actions,iF=async e=>{try{const t=await Kf(`/api/v2/vision/vision-job/${e}`);if(t.visionJob)return t.visionJob}catch(b9e){console.error(b9e)}},rF=async({assetIds:e})=>{try{const t=await Kf("/api/v2/vision/vision-jobs",{params:{asset_ids:e}});if(t.visionJobs)return t.visionJobs}catch(b9e){console.error(b9e)}return[]},lF=async({assetId:e,jobType:t,jobParams:a,creatorId:n})=>{const{dispatch:s}=Mu();if((null==a?void 0:a.languageCode)&&t===ou.ObjectTrackingV2)try{const t=function(e,t){var a;const{state:n}=Mu(),s=null==(a=n.assetTranscriptions.byId[e])?void 0:a[t];return null==s?void 0:s.state}(e,a.languageCode);t||XP({...a,teamIdToCharge:null})}catch(b9e){console.error(b9e)}try{const{vision_job_id:o}=await Xf("/api/v2/vision/vision-job",{body:{creator_id:n,asset_id:e,job_type:t,job_params:{existingVisionJobId:null==a?void 0:a.existingVisionJobId,languageCode:null==a?void 0:a.languageCode,version:(null==a?void 0:a.version)??2}}});if(!o)throw new Error("Failed to start vision job");return s(sF({jobId:o,assetId:e,progress:void 0})),o}catch(b9e){pb({description:"There was an error starting speaker focus. Please try again.",sentryMessage:"Speaker Focus: failed to initialize vision job",extra:{asset_id:e,job_type:t}})}},dF="FIT_TO_CENTER_SPEAKER",cF={x:0,y:0,width:100,height:100},uF="CUSTOM_CROP_SPEAKER",pF=.5,mF=.9,gF=.8,hF=.4,vF={neighborhoodRadius:1,minClusterSize:1,speakerFeatureWeights:{centerX:{weight:2.5},centerY:{weight:2.5},width:{weight:1},height:{weight:1},area:{weight:1.5},aspectRatio:{weight:1.5},x1:{weight:.8},x2:{weight:.8},y1:{weight:.8},y2:{weight:.8}},nonSpeakerFeatureWeights:{}},fF=e=>e.x2-e.x1,bF=e=>e.y2-e.y1,yF=e=>(e.x1+e.x2)/2,wF=e=>(e.y1+e.y2)/2,_F=e=>(e.x2-e.x1)*(e.y2-e.y1),CF=e=>{const t=e.y2-e.y1,a=(e.x2-e.x1)/t;return isNaN(a)?0:a},SF=(e,t)=>{const{x1:a,y1:n,x2:s,y2:o}=e,{x1:i,y1:r,x2:l,y2:d}=t,c=Math.max(a,i),u=Math.min(s,l),p=Math.max(n,r),m=Math.min(o,d);return Math.max(0,u-c)*Math.max(0,m-p)},xF=(e,t)=>{const{intersectionArea:a,unionArea:n}=((e,t)=>{const{x1:a,y1:n,x2:s,y2:o}=e,{x1:i,y1:r,x2:l,y2:d}=t,c=s-a,u=o-n,p=l-i,m=d-r,g=SF(e,t);return{intersectionArea:g,unionArea:c*u+p*m-g}})(e,t);return n>0?a/n:0},IF=({boxA:e,boxB:t})=>{const a=_F(e),n=_F(t),s=a>n?t:e;return SF(s,a>n?e:t)/_F(s)},AF=({box:e,assetWidth:t,assetHeight:a,minimumCropSize:n=62500,minimumBoxArea:s=.4})=>{const o=t*a,i=_F(e)*o;if(i>n)return e;const r=i/s,l=Math.min(n,r)/o,d=RF(e),c=Math.sqrt(l*d),u=Math.sqrt(l/d),p=(e.x2+e.x1)/2,m=(e.y2+e.y1)/2,g=zg(p-c/2,0,1),h=zg(m-u/2,0,1);return{x1:g,x2:g+c,y1:h,y2:h+u}},kF=({box:e,faceBox:t,canvasAspectRatio:a,assetAspectRatio:n,maximumFaceBoxWidth:s=.8,maximumFaceBoxHeight:o=.8})=>{if(!t)return e;const i=t.x2-t.x1,r=t.y2-t.y1,l=e.x2-e.x1,d=e.y2-e.y1,c=i/l>s,u=r/d>o;if(!c&&!u)return e;let p=e;if(c){const t=a/n,o=1*t,r=(Math.min(o,i/s,1)-l)/2,c=Math.min(e.x1,r),u=Math.min(1-e.x2,r),m=(l+c+u)/t,g=m-d,h=Math.min(1-e.y2,g/2),v=m-d-h,f=Math.min(e.y1,v),b=v-f;p={x1:e.x1-c,x2:e.x2+u,y1:zg(e.y1-f,0,1),y2:zg(e.y2+h+b,0,1)}}if(u){const t=a/n,s=1/t,i=(Math.min(s,r/o,1)-d)/2,c=Math.min(e.y1,i),u=Math.min(1-e.y2,i),m=(d+c+u)*t,g=m-l,h=Math.min(1-e.x2,g/2),v=m-l-h,f=Math.min(e.x1,v),b=v-f;p={x1:zg(e.x1-f,0,1),x2:zg(e.x2+h+b,0,1),y1:e.y1-c,y2:e.y2+u}}return p},TF=({box:e,top:t=.02,left:a=.02,bottom:n=.02,right:s=.02})=>({x1:zg(e.x1-a,0,1),x2:zg(e.x2+s,0,1),y1:zg(e.y1-t,0,1),y2:zg(e.y2+n,0,1)}),EF=e=>{const t=e.x2-e.x1,a=e.y2-e.y1,n=Math.min(Math.abs(0-e.x1),Math.abs(1-e.x2)),s=Math.min(Math.abs(0-e.y1),Math.abs(1-e.y2)),o=a,i=t,r=Math.min(o,s),l=Math.min(i,n);return TF({box:e,top:r,left:l,bottom:r,right:l})},LF=(e,t,a,n,s)=>n+(e-t)*(s-n)/(a-t),jF=({box:e,canvasAspectRatio:t,assetAspectRatio:a,isFaceBox:n,referenceFaceBox:s})=>{const o=RF(e),i=s?(s.x1+s.x2)/2:(e.x1+e.x2)/2,r=s?(s.y1+s.y2)/2:(e.y1+e.y2)/2,l=e.x2-e.x1,d=e.y2-e.y1,c=t/o,u=t/a,p=1-Math.abs(t-o)/(t+o),m=2*Math.min(Math.abs(0-r),Math.abs(1-r)),g=2*Math.min(Math.abs(0-i),Math.abs(1-i));if(c>1){const t=n?d:d*LF(p,0,1,.4,1);let a=Math.min(t,m);const o=a*u,l=Math.min(o,g);a=l*a/o;const c=i-l/2,h=s||n?r-a/2:e.y1;return{x1:c,x2:c+l,y1:h,y2:h+a}}if(c<1){const e=n?l:l*LF(p,0,1,.8,1);let t=Math.min(e,g);const a=t/u,s=Math.min(a,m);t=t*s/a;const o=i-t/2,d=r-s/2;return{x1:o,x2:o+t,y1:d,y2:d+s}}return e},RF=e=>(e.x2-e.x1)/(e.y2-e.y1),NF=e=>e.sort(((e,t)=>e-t)),MF=e=>{const t=e.toString();return t.includes(".")?t:t+".0"},PF=e=>{const t=I.sum(e)/e.length,a=(e=>{const t=I.sum(e)/e.length,a=I.map(e,(e=>Math.pow(e-t,2))),n=I.sum(a)/e.length;return Math.sqrt(n)})(e),n=e.map((e=>(e-t)/a)),s=Math.min(...n),o=Math.max(...n);return n.map((e=>(e-s)/(o-s)))};function FF(e){const t=e.length,a=2*t+2,n=Array.from({length:a},(()=>Array(a).fill(0))),s=a-2,o=a-1;let i=0,r=0;for(;i<=1/0;){const l=Array(a).fill(1/0),d=Array(a).fill(0),c=Array(a).fill(!1),u=[];l[s]=0,d[s]=-1,u.push(s);let p=0;for(;u.length>0;){const a=u.shift();if(c[a]=!1,a===s)for(let e=0;e<t;++e)0===n[s][e]&&(l[e]=0,d[e]=s,c[e]=!0,u.push(e));else if(a<t)for(let s=t;s<t+t;++s)n[a][s]<1&&l[s]>l[a]+e[a][s-t]&&(l[s]=l[a]+e[a][s-t],d[s]=a,c[s]||(u.push(s),c[s]=!0));else for(let s=0;s<t;++s)n[a][s]<0&&l[s]>l[a]-e[s][a-t]&&(l[s]=l[a]-e[s][a-t],d[s]=a,c[s]||(u.push(s),c[s]=!0));if(p++,p>300)throw new Error("Assignment problem: infinite loop detected in inner loop")}let m=1/0;for(let e=t;e<t+t;++e)0===n[e][o]&&l[e]<m&&(m=l[e],d[o]=e);if(m===1/0)break;i+=m;for(let e=o;-1!==e;e=d[e]){const t=d[e];-1!==t&&(n[e][t]=-(n[t][e]=1))}if(r++,r>300)throw new Error("Assignment problem: infinite loop detected in outer loop")}const l=Array(t).fill(0);for(let d=0;d<t;++d)for(let e=0;e<t;++e)1===n[d][e+t]&&(l[d]=e);return l}const DF=({edges:e,type:t})=>{const{matrix:a,leftNodes:n,rightNodes:s}=function({edges:e,type:t}){const a=I.uniq(e.map((e=>e.left))),n=I.uniq(e.map((e=>e.right))),s=[];if(0===a.length||0===n.length)throw new Error("Invalid edges");const o=Math.max(a.length,n.length);for(let l=0;l<o;l++){s[l]=[];for(let e=0;e<o;e++)s[l].push(1/0)}const i=e.map((e=>e.weight)),r=PF(i);return e.forEach(((e,o)=>{const i=a.length<n.length?a.indexOf(e.left):n.indexOf(e.right),l=a.length<n.length?n.indexOf(e.right):a.indexOf(e.left),d=r[o];if(void 0===d)throw new Error("Invalid normalized weight");const c="maximum"===t?1-d:d;s[i][l]=c})),{matrix:s,leftNodes:a,rightNodes:n}}({edges:e,type:t});return function({assignment:e,leftNodes:t,rightNodes:a,edges:n}){const s=[];return e.forEach(((e,o)=>{const i=t[t.length<a.length?o:e],r=a[t.length<a.length?e:o],l=n.find((e=>(null==e?void 0:e.left)===i&&(null==e?void 0:e.right)===r));l&&s.push(l)})),s}({assignment:FF(a),leftNodes:n,rightNodes:s,edges:e})},OF=e=>e.toFixed(2),UF=({object:e,key:t})=>{if(t in e)return e[t];return"number"==typeof t&&MF(t)in e?e[MF(t)]:String(t)in e?e[String(t)]:Number(t)in e?e[Number(t)]:void 0},BF=e=>!e.includes("unverified")&&e.includes("verified"),WF=e=>Object.entries(e).reduce(((e,[t,a])=>a>e.score?{speaker:t,score:a}:e),{speaker:"",score:-1/0}),VF=(e,t=.5)=>{const a={};for(const[n,s]of Object.entries(e)){HF(s)>=t&&(a[n]=s)}return a},HF=e=>{var t,a,n;let s=0;return su(e.name)?(s+=e.conf,void 0!==(null==(t=e.face_box)?void 0:t.conf)?s+=(null==(a=e.face_box)?void 0:a.conf)??0:void 0!==(null==(n=e.face_features)?void 0:n.jawOpen)&&(s+=100*e.face_features.jawOpen),s):s},zF=(e,t)=>{const a=e.face_box?{x1:e.face_box.x1,x2:e.face_box.x2,y1:e.face_box.y1,y2:e.face_box.y2}:null,n={x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2},s=t.face_box?{x1:t.face_box.x1,x2:t.face_box.x2,y1:t.face_box.y1,y2:t.face_box.y2}:null,o={x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2},i=xF(n,o);let r=1;return a&&s?r=xF(a,s):(a||s)&&(r=0),.4*r+.6*i},GF=(e,t)=>{const a=VF(e),n=VF(t),s=Object.entries(a).reduce(((e,[t,a],n)=>({...e,[String(n+1)]:{label:t,box:a}})),{}),o=Object.entries(n).reduce(((e,[t,a],n)=>({...e,[String(-(n+1))]:{label:t,box:a}})),{}),i=[];Object.entries(s).forEach((([e,{box:t}])=>{Object.entries(o).forEach((([a,{box:n}])=>{i.push({left:e,right:a,weight:zF(t,n)})}))}));return DF({edges:i,type:"maximum"}).map((e=>{const t=s[e.left],a=o[e.right];if(!t||!a)throw new Error("Invalid matching");return{left:{label:t.label,box:t.box},right:{label:a.label,box:a.box}}})).sort(((e,t)=>e.left.label.localeCompare(t.left.label)))};Ef()&&ce("cpu");const YF=({boundingBoxesByObject:e,cleanupSpeakerScoreThreshold:t=pF,faceBoxSimilarityThreshold:a=gF,boxSimilarityThreshold:n=hF,boxEnclosureThreshold:s=mF})=>{const o=Object.entries(VF(e,1e-4));if(o.length<=1)return e;const i=c.cloneDeep(e),r=[];return o.sort((([e,t],[a,n])=>{const s=BF(e)?1:0,o=(BF(a)?1:0)-s,i=n.conf-t.conf,r=t.face_box?1:0;return o+i+((n.face_box?1:0)-r)})).forEach((([e,o])=>{if(HF(o)<t)return void delete i[e];const l=r.find((({box:t})=>{if(BF(e))return!1;if(o.face_box||t.face_box){const e=xF(o,t),s=o.face_box&&t.face_box?xF(o.face_box,t.face_box):0;return e>=n&&s>=a}return IF({boxA:o,boxB:t})>=s}));if(l){let t,a;BF(l.object)?(t=l,a={box:o,object:e}):(t=l.box.conf>o.conf?l:{box:o,object:e},a=l.box.conf>o.conf?{box:o,object:e}:l),delete i[a.object],l.object=t.object,l.box=t.box}else r.push({object:e,box:o})})),i},KF=({nonSpeakerWeights:e,speakerWeights:t,speakerCount:a})=>{const n=[],s=[];Object.keys(t).sort().forEach((e=>{const o=t[e],{weight:i}=o??{};s.push({type:"speaker",feature:e});for(let t=0;t<a;t++)n.push(i??0)}));return Object.keys(e).sort().forEach((t=>{const a=e[t],o=null==a?void 0:a.aggregators;if(!(null==o?void 0:o.length))return;o.sort(((e,t)=>e.type.localeCompare(t.type))).forEach((e=>{(null==e?void 0:e.weight)&&(s.push({type:"non-speaker",feature:t,sceneAggregator:e.type}),n.push((null==e?void 0:e.weight)??0));const a=e.measurers;if(!(null==a?void 0:a.length))return;a.sort(((e,t)=>e.type.localeCompare(t.type))).forEach((a=>{const o=a.aggregators;if(!o.length)return;o.sort(((e,t)=>e.type.localeCompare(t.type))).forEach((o=>{s.push({type:"non-speaker",feature:t,sceneAggregator:e.type,objectAggregator:o.type,objectMeasurer:a.type}),n.push((null==o?void 0:o.weight)??0)}))}))}))})),{featureExtractionInfo:s,featureWeightsVector:n}},XF=e=>{switch(e){case"width":return fF;case"height":return bF;case"centerX":return yF;case"centerY":return wF;case"area":return _F;case"aspectRatio":return CF;case"x1":return e=>e.x1;case"x2":return e=>e.x2;case"y1":return e=>e.y1;case"y2":return e=>e.y2;case"none":return()=>0;case"faceWidth":return e=>e.face_box?fF(e.face_box):0;case"faceHeight":return e=>e.face_box?bF(e.face_box):0;case"faceCenterX":return e=>e.face_box?yF(e.face_box):0;case"faceCenterY":return e=>e.face_box?wF(e.face_box):0;case"faceArea":return e=>e.face_box?_F(e.face_box):0;case"faceAspectRatio":return e=>e.face_box?CF(e.face_box):0;case"faceX1":return e=>e.face_box?e.face_box.x1:0;case"faceX2":return e=>e.face_box?e.face_box.x2:0;case"faceY1":return e=>e.face_box?e.face_box.y1:0;case"faceY2":return e=>e.face_box?e.face_box.y2:0;default:throw new Error("Feature extractor not implemented")}},ZF=e=>{switch(e){case"mean":return c.mean;case"min":return c.min;case"max":return c.max;case"count":return e=>e.length;default:throw new Error("Feature aggregator not implemented")}},qF=({scene:e,objectLabel:t,feature:a,aggregator:n,measurer:s})=>{const o=e[t],i=Object.entries(e),r=XF(a);if(!o)throw new Error("Object not found");if(!n||!s)return r(o)??0;const l=(e=>{if("distance"===e)return(e,t)=>Math.abs(e-t);throw new Error("Feature measurer not implemented")})(s);return ZF(n)(i.filter((([e])=>e!==t)).map((([e,t])=>t)).map((e=>l(r(o),r(e)))))??0},JF=({referenceScene:e,scene:t,featureExtractionInfo:a})=>{const n=VF(t),s=(e=>{const t={};for(const[a,n]of Object.entries(e))HF(n)<.5&&(t[a]=n);return t})(t);return a.flatMap((a=>{if("speaker"===a.type){return GF(e,t).map((({right:e})=>{const t=n[e.label];if(!t)throw new Error("test");return t?(({box:e,feature:t})=>XF(t)(e))({box:t,feature:a.feature}):0}))}if("non-speaker"===a.type){return ZF(a.sceneAggregator)(Object.keys(s).map((e=>qF({scene:t,objectLabel:e,feature:a.feature,aggregator:a.objectAggregator,measurer:a.objectMeasurer}))))??0}throw new Error("Feature extraction type not implemented")}))},$F=({sceneSplitTimes:e,transcriptSpeakerSwitchTimes:t=[],boundingBoxes:a,assetDuration:n})=>{const s=NF(Array.from(new Set([...e,...t]))),o=NF(Array.from(new Set(Object.keys(a).map((e=>Number(e)))))),i=[];for(let r=0;r<=s.length;r++){const e=s[r-1]??0,t=s[r]??n,a=o.find((a=>a>=e&&a<=t));void 0===a?console.error(`Invalid timestamp: no scene timestamp found between interval ${e} - ${t}`):i.push({startEndTimes:[e,t],boundingBoxesTimestamp:a})}return i},QF=({groups:e,boundingBoxes:t,hasVerifiedSpeakers:a})=>{const n=c.cloneDeep(t),s=(({boundingBoxes:e})=>{const t=new Set;return Object.values(e).forEach((e=>{Object.keys(e).forEach((e=>{BF(e)&&t.add(e)}))})),t})({boundingBoxes:n});let o=0;return e.forEach((e=>{var t;const i=Array.from(e.scenes),r=null==(t=i[0])?void 0:t.timestamp;if(void 0===r)return;const l=c.cloneDeep(n[r]);if(!l)return;const d=Object.entries(VF(l)).reduce(((e,[t,n])=>({...e,[t]:s.has(t)?t:a?"unverified_speaker_"+o++:"speaker_"+o++})),{});i.forEach((({timestamp:e})=>{const t=UF({object:n,key:e});if(!t)throw new Error(`Could not find bounding boxes for scene at timestamp ${e}`);GF(l,t).forEach((e=>{const{label:n,box:o}=e.left,{label:i,box:r}=e.right,l=d[e.left.label],c=s.has(n),u=s.has(i);a?c?n!==i&&(t[n]=r,delete t[i]):u?n!==i&&(t[i]=o,delete t[n]):l&&l!==i&&(t[l]=r,delete t[i]):l&&l!==i&&(t[l]=r,delete t[i])}))}))})),n},eD=u((e=>e.studio.allLayers.byId),(e=>{const t=[],a=[];return Object.values(e).forEach((e=>{e&&(e.type===Nc.Video?t.push(e):e.type===Nc.Image&&a.push(e))})),{videoLayers:t,imageLayers:a}}));function tD(){const{state:e}=Mu();return eD(e)}const aD=u((e=>e.studio.allLayers.byId),(e=>{const t=new Set;return Object.values(e).forEach((e=>{if(!e)return;if(cp(e))return;if(!tp(e)&&!np(e))return;const a=nL(e);a&&t.add(a)})),t})),nD=async()=>{const{dispatch:e}=Mu(),t=(()=>{const{state:e}=Mu();return aD(e)})();if(!t.size)return;const a=[...t];(await rF({assetIds:a})).forEach((t=>{e(nF({assetId:String(t.asset_id),visionJob:iD(t)}))}))},sD=async(e,t)=>{var a,n,s,o,i;const{state:r,dispatch:l}=Mu(),d=nL(e),c=r.currentUser.user._id;if(!d||!c)return;let u;"success"===(null==(n=null==(a=r.vision.byAssetId[d])?void 0:a[ou.ObjectTrackingV2])?void 0:n.status)&&(u=null==(s=r.vision.byAssetId[d])?void 0:s[ou.ObjectTrackingV2]),u||(u=await(async({assetId:e})=>{const t=await rF({assetIds:[e]});if(null==t?void 0:t.length)return t[0]})({assetId:d}));const p=(null==t?void 0:t.languageCode)&&u&&ru(u)&&(null==(o=null==u?void 0:u.job_params)?void 0:o.languageCode)!==t.languageCode,m=u&&!ru(u),g=u&&ru(u)&&(null==(i=null==u?void 0:u.job_params)?void 0:i.version)!==((null==t?void 0:t.version)??2),h=p||m||g;if("success"===(null==u?void 0:u.status)&&!h)return l(nF({assetId:d,visionJob:iD(u)})),u;if(!r.studio._id)throw new Error("Please login to use Speaker Focus.");const v=nL(e),f=v&&r.assets.byId[v],b=(f?QE({asset:f}):void 0)??e.duration??r.assets.estimatedDurationsById[d]??60;await lF({creatorId:c,assetId:d,jobType:ou.ObjectTrackingV2,jobParams:(null==t?void 0:t.languageCode)?{assetId:d,assetDuration:b,languageCode:t.languageCode,languageKey:t.languageCode,translateCode:void 0,requestingFeature:"speaker-focus",timelineLayer:e,videoId:r.studio._id,speakerLabels:!0,existingVisionJobId:null==u?void 0:u._id,version:t.version??2}:(null==t?void 0:t.version)?{version:t.version??2,existingVisionJobId:null==u?void 0:u._id}:void 0})},oD=he((({boundingBoxes:e,hasVerifiedSpeakers:t,sceneSplitTimes:a,transcriptSpeakerSwitchTimes:n,assetDuration:s})=>{try{const o=Object.entries(e).reduce(((e,[t,a])=>({...e,[t]:YF({boundingBoxesByObject:a})})),{}),i=(({boundingBoxes:e,hasVerifiedSpeakers:t,config:a=vF,...n})=>{const s=Object.entries(e).reduce(((e,[a,n])=>{const s=Object.keys(VF(n)),o=t?s.filter((e=>BF(e))):[],i=s.length;if(!i)return e;const r=e.find((e=>{const a=e.speakerCount===i,n=!(!o.length||!e.verifiedSpeakers.size)&&o.every((t=>e.verifiedSpeakers.has(t)));return a&&(n&&t||!t)}));return r?(r.timestamps.push(a),e):[...e,{timestamps:[a],speakerCount:i,speakers:new Set(s),verifiedSpeakers:new Set(o)}]}),[]).map((({speakerCount:t,timestamps:n,verifiedSpeakers:s})=>{const{featureExtractionInfo:o}=KF({nonSpeakerWeights:a.nonSpeakerFeatureWeights,speakerWeights:a.speakerFeatureWeights,speakerCount:Number(t)}),i=n[0],r=void 0!==i?e[i]:void 0;if(!r)throw new Error(`No reference scene found at timestamp ${i}`);return{speakerCount:t,features:n.map((t=>{const a=e[t];if(!a)throw new Error(`No scene found at timestamp ${t}`);const n=JF({referenceScene:r,scene:a,featureExtractionInfo:o});return{timestamp:t,vector:n.length?n:[0]}})),verifiedSpeakers:s}}),{}),o=[],i=$F({boundingBoxes:e,...n});return s.forEach((({features:e,speakerCount:t,verifiedSpeakers:n})=>{const{featureWeightsVector:s}=KF({speakerWeights:a.speakerFeatureWeights,nonSpeakerWeights:a.nonSpeakerFeatureWeights,speakerCount:Number(t)}),r=ue(e.map((e=>e.vector))),l=pe(s.length?s:[0]),d=r.sub(r.mean(0)).div(me(r).variance.sqrt()).mul(l).arraySync();(new ge.DBSCAN).run(d,a.neighborhoodRadius,a.minClusterSize).forEach((t=>{const a=t.map((t=>{var a;const s=null==(a=e[t])?void 0:a.timestamp;if(void 0===s)throw new Error(`Vision job scene error: no timestamp found at index ${t}`);const o=i.find((e=>{const[t,a]=e.startEndTimes;return Number(s)>=t&&Number(s)<a}));if(!o)throw new Error(`Vision job scene error: no interval found for timestamp ${s}`);return{startEndTimes:o.startEndTimes,timestamp:Number(s),verifiedSpeakers:Array.from(n)}}));o.push({id:`scene_${o.length}`,scenes:a})}))})),o})({boundingBoxes:o,hasVerifiedSpeakers:t,sceneSplitTimes:a,transcriptSpeakerSwitchTimes:n,assetDuration:s});return{labeledBoundingBoxes:QF({groups:i,boundingBoxes:o,hasVerifiedSpeakers:t}),groups:i}}catch(b9e){console.error(b9e),l(b9e,{tags:{feature:Tu.speakerFocus}})}})),iD=e=>{var t,a,n;if(iu(e))return e;if(ru(e)&&(null==(t=e.job_result)?void 0:t.result)){const{groups:t,labeledBoundingBoxes:s}=oD({boundingBoxes:e.job_result.result,sceneSplitTimes:e.job_result.scene_split_timestamps,transcriptSpeakerSwitchTimes:void 0!==(null==(a=e.job_params)?void 0:a.version)&&Number(e.job_params.version)>=2?[]:e.job_result.transcript_speaker_switch_timestamps,assetDuration:e.asset_duration,hasVerifiedSpeakers:void 0!==(null==(n=e.job_params)?void 0:n.version)&&Number(e.job_params.version)>=2})??{};return{...e,job_result:{...e.job_result,result:s??e.job_result.result},groups:t}}return e},rD=u(((e,t)=>lD(e,[t])),(e=>e[0])),lD=Gu(((e,t)=>t),(e=>e.vision),((e,t)=>e.sort().map((e=>t.progressByAssetId[e])).filter(vA))),dD=u(((e,t)=>cD(e,[t])),(e=>e[0])),cD=Gu(((e,t)=>t),(e=>e.vision.byAssetId),((e,t)=>e.sort().map((e=>{var a;return null==(a=t[e])?void 0:a[ou.ObjectTrackingV2]})).filter(vA))),uD=e=>t=>!(null==t?void 0:t.duration)||t.duration>=e,pD=e=>"tts"===e.source||!!e.content_type&&((!QC(e.content_type)||void 0!==e.dimensions)&&(!nS(e.content_type)&&!tS(e.content_type)||void 0!==e.duration)),mD=e=>{const{currentUser:t}=e;return null==t?void 0:t.user.usage},gD=()=>Du(mD),hD=()=>mD(Mu().state),vD=async({feature:e,value:t})=>{const a={...hD(),[e]:t};await Xf("/api/v1/users/updateProfile/usage",{body:{usage:a},parseJSON:!1}),await Qf()},fD=[{type:"loading",message:"Processing your upload...",isValid:e=>!!e&&pD(e)},{type:"error",message:"Your upload file type is unsupported. Please upload a video or audio file.",isValid:(bD=["audio","video"],e=>!!((null==e?void 0:e.content_type)&&(bD.includes("image")&&QC(e.content_type)||bD.includes("audio")&&nS(e.content_type)||bD.includes("video")&&tS(e.content_type))))},{type:"error",message:"Your upload is too short to generate clips from. Repurpose Studio works best with videos that are 10 minutes or longer; upload a longer video to get started.",isValid:uD(180)},{type:"error",message:"You cannot create a repurpose project from a TTS asset. Please upload a video or audio file to continue.",isValid:e=>"tts"!==(null==e?void 0:e.source)},{type:"warning",message:"Your upload is less than 10 minutes long. Repurpose Studio works best with videos that are 10 minutes or longer; upload a longer video to get better results.",isValid:uD(300)}];var bD;const yD={[Bd.TRANSCRIBE]:60},wD=()=>{const e=cg(),t=gD(),a=null==t?void 0:t.repurposeStudioMinutes;return i.useMemo((()=>({limitOverrides:e.isFree?{...yD,[Bd.TRANSCRIBE]:Math.max(60-(a??0),0)}:void 0})),[e.isFree,a])};function _D(e,t){return function(e,t){const{fontSize:a,...n}=e,{fontSize:s,...o}=t;return c.isEqual(n,o)}(e.style,t.style)&&c.isEqual(e.wordByWordAnimations??{},t.wordByWordAnimations??{})&&c.isEqual(e.transition??{},t.transition??{})}const CD=(e,t)=>t.some((t=>_D(e,t))),SD=he((e=>iu(e)?e:ru(e)?iD(e):e)),xD={},ID=he((e=>u((t=>t.workflows.workflowById[e]),(e=>"success"!==(null==e?void 0:e.status)?xD:e.data&&fu(e.data)?e.data.highlightSettings??xD:xD))));function AD(e){const t=e.sort(((e,t)=>e.start-t.start)),a=[];let n=null;for(const s of t)null!==n?s.start<n.end?n.end=s.end:(a.push(n),n=s):n=s;return n&&a.push(n),a}u(((e,t)=>t),Gx,(e=>e.assets.byId),((e,t,a)=>{var n;if(!t.length||!t[0])return!1;const s=null==(n=t.find((e=>e.asset_id)))?void 0:n.asset_id;if(!s)return!1;if(t.some((e=>e.asset_id!==s)))return!1;const o=a[s];return!!o&&(o.duration??0)>60*e})),u(((e,t)=>t),Gx,(e=>e.assets.byId),((e,t,a)=>{if(!t.length||!t[0])return!1;for(const n of t){if(!n.asset_id)continue;const t=a[n.asset_id];if(t&&(t.duration??0)>60*e)return!0}return!1}));function kD(e){return function(e){return np(e)||ep(e)||up(e)}(e)&&!((t=e).detachedAudioId&&"video"===t.type)&&!(e=>!!e.bRollId)(e)&&!(e=>!!e.isAIGeneratorMusic)(e);var t}const TD=u((e=>e.studio.allLayers.byId),(e=>c.uniq(Object.values(e).filter(kD).map((e=>nL(e,{personaLayerHandling:"audio"}))).filter(vA)))),ED=u((e=>e.uploadStatuses),((e={})=>Object.values(e).filter((e=>e.stage!==KS.errored&&e.stage!==KS.done)).map((e=>{var t;const a=null==(t=e.uploadManager)?void 0:t.layer;return a&&kD(a)?a:null})).filter(vA))),LD=c.memoize((e=>u(Gx,(t=>t.filter(kD).filter((t=>e===nL(t))))))),jD=c.memoize(((e,t)=>u((a=>{var n;return(null==(n=a.assetTranscriptions.byId[e])?void 0:n[t])||null}),LD(e),((e,t)=>"completed"!==(null==e?void 0:e.state)||t.some((t=>{const a=t.startTime??0,n=t.endTime??t.duration??0;return e.words.some((e=>FL(e.start_time,e.end_time,a,n)))}))))),((...e)=>e.join("|")));var RD=(e=>(e.IsNotStockAsset="isNotStockAsset",e.HasAudio="hasAudio",e.HasVolume="hasVolume",e.HasWords="hasWords",e.FindHighlightsMinDuration="findHighlightsMinDuration",e.DisableTextToSpeech="filterTextToSpeech",e.DisableLipSync="filterLipSync",e.DisableDubbed="FilterDubbed",e.CombineDubbedLayersIntoSingleTile="CombineDubbedLayersIntoSingleTile",e))(RD||{});const ND=c.memoize(((e,t=["hasAudio","hasVolume","hasWords"])=>{const a=new Set(t);return u(TD,(e=>e.studio.allLayers.byId),(e=>e.assetTranscriptions.byId),(e=>e.assets.byId),(e=>Yu((t=>TD(t).map((a=>[a,jD(a,e)(t)]))),(e=>{const t={};for(const[a,n]of e)t[a]=n;return t})))(e),((t,n,s,o,i)=>{const r=new Map;for(const e of Object.values(n)){const t=nL(e);if(!t)continue;const[a]=zC(e),n=r.get(t);(void 0===n||a<n)&&r.set(t,a)}return t.map((t=>{var r,l,d;const c=Object.values(n).filter((e=>nL(e)===t));if(a.has("isNotStockAsset")){const e=o[t];if((null==(r=null==e?void 0:e.input_url)?void 0:r.includes(`${Vl}/static/`))&&e.input_url!==bR.url)return{assetId:t,canBeEnabled:!1,defaultEnabled:!1,reason:"Cannot dub music and sound effects"}}if(a.has("findHighlightsMinDuration")){if(AD(c.map((e=>{const{startTime:t,endTime:a}=vp(e);return{start:t,end:a}}))).reduce(((e,t)=>e+(t.end-t.start)),0)<180)return{assetId:t,canBeEnabled:!1,defaultEnabled:!1,reason:"Asset must be at least 3 minutes"}}if(!c.some((e=>e.hasAudio))&&a.has("hasAudio"))return null;const u=null==(l=s[t])?void 0:l[e];if("completed"===(null==u?void 0:u.state)&&0===u.words.length&&a.has("hasWords"))return{assetId:t,canBeEnabled:!1,defaultEnabled:!1,reason:"No speech detected"};if(!i[t]&&a.has("hasWords"))return{assetId:t,canBeEnabled:!0,defaultEnabled:!1,reason:"No speech detected"};if(c.some((e=>{var t,a;return e.isSplitVocalsLayer&&(e.dubbingWorkflowId||(null==(t=e.name)?void 0:t.endsWith("(No Vocals)"))||(null==(a=e.name)?void 0:a.endsWith("(Background Audio)")))}))&&a.has("hasWords"))return{assetId:t,canBeEnabled:!1,defaultEnabled:!1,reason:"No speech detected"};if(!c.some((e=>0!==e.volume))&&a.has("hasVolume"))return{assetId:t,canBeEnabled:!0,defaultEnabled:!1,reason:"Asset is muted"};if(a.has("filterTextToSpeech")){if(c.some((e=>Ig(e)||up(e))))return{assetId:t,canBeEnabled:!1,defaultEnabled:!1,reason:"Cannot use text-to-speech assets"}}if(a.has("FilterDubbed")){if(c.some((e=>dp(e))))return{assetId:t,canBeEnabled:!1,defaultEnabled:!1,reason:"Cannot use dubbed assets"}}if(a.has("filterLipSync")){if(c.some(cp))return{assetId:t,canBeEnabled:!1,defaultEnabled:!1,reason:"Cannot use lip-sync assets"}}if(a.has("CombineDubbedLayersIntoSingleTile")&&c.some((e=>dp(e)))){const e=null==(d=c.find((e=>e.dubbedAssetId)))?void 0:d.dubbedAssetId;return e?{assetId:t,canBeEnabled:!0,defaultEnabled:!0,reason:"",originalDubbedAssetId:e}:null}return c.every((e=>"pastedLink"===e.source))?{assetId:t,canBeEnabled:!1,defaultEnabled:!1,reason:"Processing pasted link"}:{assetId:t,canBeEnabled:!0,defaultEnabled:!0,reason:""}})).filter(vA).sort(((e,t)=>{if(e.canBeEnabled&&!t.canBeEnabled)return-1;if(!e.canBeEnabled&&t.canBeEnabled)return 1;return(r.get(e.assetId)??Number.MAX_SAFE_INTEGER)-(r.get(t.assetId)??Number.MAX_SAFE_INTEGER)}))}))}),((e,t)=>`${e}-${null==t?void 0:t.join(",")}`));function MD(e){return JSON.stringify(e)}window.orderedMagicSubtitleFrames=()=>{const{state:e}=Mu();return Object.keys(e.studio.magicSubtitleFramesByAsset||{}).reduce(((t,a)=>{const n=eO(e,a);return t[a]=n,t}),{})};const PD=(...e)=>e.join("|"),FD=(e,t)=>{const a=e.layerAlignedStart-t.layerAlignedStart;return 0!==a?a:e.layerAlignedEnd-t.layerAlignedEnd},DD=u((e=>e.studio.magicSubtitles),Gx,(e=>!!(eO(e,"background-asset")||[]).length),zN,((e,t,a,n)=>{const s=new Set(t.map((e=>nL(e,{personaLayerHandling:"audio"}))));a&&s.add("background-asset");let o=Object.entries(e||{}).filter((([e,t])=>"background-asset"===e||!!t&&(!!t.enabled&&("background-asset"===e||s.has(e))))).map((e=>e[0]));return o.includes("background-asset")&&n&&(o=o.filter((e=>"background-asset"!==e))),o})),OD=u(((e,t)=>{var a;return null==(a=e.studio.magicSubtitleFramesByAsset)?void 0:a[t]}),((e,t)=>e.studioLocal.magicSubtitleFramesByAsset[t]),((e,t)=>t||e)),UD=(e,t)=>{var a,n,s;return(null==(a=e.studioLocal.magicSubtitlesGlobal.position)?void 0:a[t])??(null==(s=null==(n=e.studio.magicSubtitlesGlobal)?void 0:n.position)?void 0:s[t])??0},BD=u(((e,{canvasWidth:t}={})=>t??e.studio.width),((e,{canvasHeight:t}={})=>t??e.studio.height),((e,{canvasX:t}={})=>t??e.studioSizing.canvasX),((e,{canvasY:t}={})=>t??e.studioSizing.canvasY),((e,t,a,n)=>({canvasWidth:e,canvasHeight:t,canvasX:a,canvasY:n}))),WD=u(BD,(e=>UD(e,"widthPct")),(e=>UD(e,"heightPct")),(({canvasWidth:e,canvasHeight:t},a,n)=>{const s={height:t,width:e},{width:o,height:i}=VR(a,n,s);return{width:o,height:i}})),VD=u((e=>e.studio.magicSubtitlesGlobal),(e=>e.studioLocal.magicSubtitlesGlobal),((e,t)=>c.merge({},By,e,t)));function HD(e,t,a){t&&t.style&&!t.style.verticalAlign&&(t.style={...t.style,verticalAlign:"top"});const n=c.omit(t,oA);return c.merge({languageKey:void 0,enabled:void 0,translated:void 0,translatedLanguageCode:void 0,transcriptionSource:void 0},By,e,n,a)}const zD=c.memoize((e=>u((t=>{var a;const n=null==(a=t.studio.magicSubtitles)?void 0:a[e];return n||"background-asset"!==e?n:By}),(e=>e.studio.magicSubtitlesGlobal),(e=>e.studioLocal.magicSubtitlesGlobal),((e,t,a)=>HD(e,t,a))))),GD=u((e=>e.studio.magicSubtitles),(e=>e.studio.magicSubtitlesGlobal),(e=>e.studioLocal.magicSubtitlesGlobal),((e,t,a)=>{const n=Object.entries(e??{}).map((([e,n])=>n||"background-asset"!==e?[e,HD(n,t,a)]:[e,HD(By,t,a)]));return Object.fromEntries(n)})),YD=u(VD,(e=>e.style)),KD=(e,t)=>{const a=e.assetTranscriptions.byId[t],{languageKey:n}=zD(t)(e);return n&&a?a[n]:null},XD=u((e=>{var t;return null==(t=e.studio.magicSubtitlesGlobal)?void 0:t.wordByWordAnimations}),(e=>e.studioLocal.magicSubtitlesGlobal.wordByWordAnimations),((e,t)=>{const a={...e,...t};return a.animationName||(a.animationName=Mc.None),a})),ZD=u(XD,(e=>{var t;return null==(t=e.studio.magicSubtitleSpeakers)?void 0:t.speakerConfigs}),((e,t)=>{var a;const n=[];if(Object.values(t||{}).forEach((e=>{e.wbwAnimation&&n.push(e.wbwAnimation)})),!n.length)return e;const{animationId:s,animationName:o,wordByWordStyles:i}=e;if(!s||!o)return null;if(!n.every((e=>(null==e?void 0:e.animationName)===o)))return null;let r=c.cloneDeep((null==i?void 0:i[o])||{});for(const l of n){const e=null==(a=null==l?void 0:l.wordByWordStyles)?void 0:a[o];if(!e){r={};break}Object.keys(r).forEach((t=>{const a=t,n=r[a],s=e[a];n?s&&Object.keys(n).forEach((e=>{const t=e;n[t]!==s[t]&&delete n[t]})):r[a]=void 0}))}return{animationId:s,animationName:o,wordByWordStyles:{[o]:r}}})),qD=c.memoize((e=>u(Gx,(t=>{const a=t.filter(kD).filter((t=>e.includes(nL(t)??"")));return e.includes("background-asset")&&a.push({type:Nc.Video,id:"123",asset_id:"background-asset",startTime:0,duration:1e5,name:"bg",depth:"a"}),a}))),(e=>e.join("_"))),JD=u(TD,GD,(e=>e.assetTranscriptions.byId),((e,t,a)=>Object.fromEntries(e.map((e=>{var n;const s=null==(n=t[e])?void 0:n.languageKey,o=a[e];return s&&o?[e,o[s]]:[e,null]}))))),$D=c.memoize((({canvasWidth:e=1,fontSizeOverride:t,fontIsLoaded:a,style:n})=>HN({style:n,canvasWidth:e,fontIsLoaded:a,fontSizeOverride:t})),MD),QD=c.memoize((e=>{if($c(e))return e;if(0===e[Xc.words].length)return{...e,[Xc.words]:[]};const t=(e[Xc.end]-e[Xc.start])/e[Xc.words].length;return{...e,[Xc.words]:e[Xc.words].map(((a,n)=>({[Zc.text]:a[Zc.text],[Zc.start]:e[Xc.start]+n*t,[Zc.end]:e[Xc.start]+(n+1)*t,[Zc.inlineStyles]:a[Zc.inlineStyles],[Zc.speaker]:a[Zc.speaker]})))}}));QD.cache=new WeakMap;const eO=u(((e,t)=>{var a;return null==(a=OD(e,t))?void 0:a.byId}),(e=>{if(!e)return null;const t=Object.entries(e).map((([e,t])=>{if(null==t)throw new $v(`No frame with id ${e}`,{fingerprint:"magic-subtitles-no-frame-with-id-1"});return aO(t,e)}));return t?t.sort(((e,t)=>e[Xc.start]-t[Xc.start])):null})),tO=c.memoize(((e,t)=>u((a=>{var n;return null==(n=OD(a,e))?void 0:n.byId[t]}),(e=>e?aO(e,t):void 0))),PD),aO=c.memoize(((e,t)=>({...e,[Xc.id]:t})));aO.cache=new WeakMap;const nO=(e,t,a)=>{var n;const s=null==(n=OD(e,t))?void 0:n.byId[a];if(!s)throw new $v(`No frame with id ${a}`,{fingerprint:"magic-subtitles-no-frame-with-id-2"});return aO(s,a)},sO=c.memoize((e=>u((t=>{var a;return null==(a=OD(t,e))?void 0:a.byId}),(e=>{if(!e)return null;return Object.entries(e).map((([e,t])=>{if(!t)throw new $v(`No frame with id ${e}`,{fingerprint:"magic-subtitles-no-frame-with-id-3"});const a=aO(t,e);return QD(a)})).sort(((e,t)=>e[Xc.start]-t[Xc.start]))}))));function oO(e){return()=>{const t=new WeakMap;return a=>{const n=t.get(a.frame);if(n&&Ou(n.params,a))return n.result;const s=e(a);return t.set(a.frame,{params:a,result:s}),s}}}function iO(e){const t=[],a=[],n=[];if(!e.wasTimedFrame)return{clippedLeft:a,clippedRight:n,keptWords:e.words};for(const s of e.words){const o=s.layerAlignedEnd-e.layerAlignedStart,i=e.layerAlignedEnd-s.layerAlignedStart,r=Math.min(o,i),l=s.layerAlignedEnd-s.layerAlignedStart,d=0===l?100:r/l,c=o<i;c&&d>.5||!c&&d>=.5?t.push(s):o<i?a.push(s):n.push(s)}return{keptWords:t,clippedLeft:a,clippedRight:n}}const rO=e=>{var t;const a=null==(t=e[Xc.words][0])?void 0:t[Zc.speaker];if(a){for(const t of e[Xc.words])if(t[Zc.speaker]!==a)return;return a}},lO=oO((({assetId:e,frame:t,subtitleableLayers:a,animationsById:n})=>{var s;const o=$c(t),i=QD(t),r=rO(t);if(!a.length)return[];const l=[];for(const c of a){const{startTime:t,endTime:a,playbackRate:d,videoDelay:u}=vp(c);let p=a;if(np(c)){const[e]=(null==(s=c.animation)?void 0:s.outro)??[];if(e){const t=n[e];if(t&&yL(t)){const{transitionDuration:e}=t;p-=e??0}}}if(!FL(i[Xc.start],i[Xc.end],t,p))continue;const m=1/d,g=u-t*m,h=u,v=u+(p-t)*m,f=i[Xc.start]*m+g,b=i[Xc.end]*m+g,y=Math.max(f,h),w=Math.min(b,v),_={assetId:e,id:i[Xc.id],layerAlignedStart:y,layerAlignedEnd:w,containingLayerIds:new Set([c.id]),containingLayerStartTime:h,containingLayerEndTime:v,containingLayerPlaybackRate:d,speakerId:r,startTimeOffset:g,endTimeOffset:g,wasTimedFrame:o,words:i[Xc.words].map((e=>({text:e[Zc.text],layerAlignedStart:e[Zc.start]*m+g,layerAlignedEnd:e[Zc.end]*m+g,speaker:e[Zc.speaker],styles:e[Zc.inlineStyles]})))},C={..._,words:_.words,wordIsClippedList:w<y?[]:(()=>{const{clippedLeft:e,clippedRight:t,keptWords:a}=iO(_);return[...e.map((()=>!0)),...a.map((()=>!1)),...t.map((()=>!0))]})()};l.push(C)}l.sort(FD);const d=function(e){const t=[];for(let s=0;s<e.length;s++){const o=e[s];if(!o)continue;const i=t[t.length-1];if(!i){t.push(o);continue}if(i.id!==o.id){t.push(o);continue}const r=(a=i.layerAlignedEnd,n=o.layerAlignedStart,Math.abs(a-n)<.001);if(i.endTimeOffset<o.startTimeOffset-.001||!r){t.push(o);continue}let l=i.wordIsClippedList.lastIndexOf(!1);-1===l&&(l=i.words.length-1);let d=o.wordIsClippedList.indexOf(!1);if(-1===d&&(d=o.words.length-1),l>d&&!i.wordIsClippedList.every((e=>!e))&&!o.wordIsClippedList.every((e=>!e))){t.push(o);continue}const c=i.wordIsClippedList.map(((e,t)=>{const a=o.wordIsClippedList[t];return e&&!!a})),u=[];for(let e=0;e<c.length;e++){const t=i.wordIsClippedList[e],a=o.wordIsClippedList[e],n=i.words[e],s=o.words[e];n&&s&&(t?a?u.push(n):u.push(s):u.push(n))}t[t.length-1]={...i,layerAlignedEnd:o.layerAlignedEnd,endTimeOffset:o.endTimeOffset,containingLayerEndTime:o.containingLayerEndTime,containingLayerIds:new Set([...i.containingLayerIds,...o.containingLayerIds]),wordIsClippedList:c,words:u}}var a,n;return t.map((e=>({...e,words:e.words.filter(((t,a)=>!e.wordIsClippedList[a]))})))}(l);return d.filter((e=>!(e.wordIsClippedList.length>0&&0===e.words.length)))})),dO=c.memoize((e=>{const t=lO();return u((t=>eO(t,e)),qD([e]),(e=>e.studio.animations.byId),(function(a,n,s){return(a||[]).map((a=>t({assetId:e,frame:a,subtitleableLayers:n,animationsById:s}))).flat().sort(FD)}))}),MD),cO=({assetId:e,ignoreCorrections:t,languageCode:a,maxCharsPerSubtitle:n})=>u((t=>KD(t,e)),hO(e),sO(e),(function(e,s,o){let i;if((null==o?void 0:o.length)&&!t)i=o.flatMap((e=>e[Xc.words].map((t=>({...t,[Xc.position]:e[Xc.position]}))))).map((e=>({start_time:e[Zc.start],end_time:e[Zc.end],word:e[Zc.text],styles:e[Zc.inlineStyles],newFrameProperties:{[Xc.position]:e[Xc.position]},speaker:e[Zc.speaker]})));else{if(!e||"completed"!==e.state)return[];i=TN(a)?function(e){const t=[];let a=!1;return e.forEach((e=>{const n=e.word;let s=!1;for(const t of yd)if(kL(n,t,!1,!1)){s=!0,n&&n.charAt(0)===n.charAt(0).toUpperCase()&&(a=!0);break}if(s){const e=t[t.length-1];e&&(t[t.length-1]={...e,word:(o=e.word,o.endsWith(",")?o.slice(0,-1):o)})}else a?t.push({...e,word:ae.startCase(e.word)}):t.push(e),a=!1;var o})),t}(e.words):e.words,i=i.map((e=>({...e,start_time:BC(e.start_time),end_time:BC(e.end_time)})))}return yN({languageCode:a,words:i,maxCharsPerSubtitle:n,separator:s})})),uO=u(DD,(e=>e.length>0)),pO=e=>{const[t,a]=e.split("_");return{languageCode:t||e,translateCode:a}},mO=c.memoize((e=>{const t=zD(e);return u((e=>t(e).languageKey),(e=>t(e).translatedLanguageCode),((e,t)=>{if(t)return t;if(!e)return null;const{languageCode:a,translateCode:n}=pO(e);return n??a}))})),gO=c.memoize((e=>{const t=zD(e);return u((e=>t(e).languageKey),(e=>t(e).translatedLanguageCode),((e,t)=>{if(!e)return null;const{languageCode:a,translateCode:n}=pO(e);return{languageCode:a,translateCode:t||n}}))})),hO=c.memoize((e=>u(mO(e),(t=>{var a,n;return null==(n=null==(a=t.studio.assetUploadedSubtitles)?void 0:a[e])?void 0:n.subtitles}),((e,t)=>e?NL(e):t?pN(t.map((e=>e.text))):" ")))),vO=c.memoize((({assetId:e,filterEmpty:t,filterInvalid:a})=>{const n=bO();return u((t=>eO(t,e)),qD([e]),YD,hO(e),(e=>e.studioLocal.magicSubtitlesGlobal.style),(e=>{var t;return null==(t=e.studio.magicSubtitleSpeakers)?void 0:t.speakerConfigs}),YO,(e=>e.studio.animations.byId),((s,o,i,r,l,d,c,u)=>(s||[]).map((s=>n({assetId:e,filterEmpty:t,filterInvalid:a,frame:s,globalStyles:i,localStyles:l,selectedSpeakerId:c,speakerConfigs:d,subtitleableLayers:o,wordSeparator:r,animationsById:u}))).flat()))}),MD);function fO(e){const t={backgroundColor:e.backgroundColor,borderRadius:{relative:`${e.borderRadius}%`},color:e.fontColor,fontFamily:e.fontFamily.fontFamily,fontWeight:e.fontWeight,globalAlpha:1,italic:e.italic,lineHeight:e.lineHeight,textAlign:e.textAlign,textTransform:e.textTransform,textShadow:"none"!==e.textShadow?e.textShadow:"transparent",textOutline:e.textOutline,textPadding:e.backgroundPadding,type:Nc.Text,wrapOrFill:e.backgroundStyle,underline:e.underline,isMagicSubtitle:!0,verticalAlign:e.verticalAlign,depth:"A00000000000000000000000001"};return"custom"===e.fontFamily.type&&(t.asset_id=e.fontFamily.asset_id,t.fontType=e.fontFamily.fontType,t.hasCustomFont=!0),e.dropShadow&&(t.textDropShadowColor=e.dropShadow.color,t.textShadowBlur=e.dropShadow.blur,t.textShadowDist=e.dropShadow.distance,t.textShadowRot=e.dropShadow.rotation),t}const bO=oO((function({assetId:e,frame:t,globalStyles:a,localStyles:n,selectedSpeakerId:s,speakerConfigs:o,subtitleableLayers:i,wordSeparator:r,animationsById:l}){return lO()({assetId:e,frame:t,subtitleableLayers:i,animationsById:l}).map((function(t){const i=t.words.map((e=>e.text)).join(r),l=[...t.containingLayerIds.keys(),t.id].join("-");return{...fO(xO(t.speakerId,a,n,s,o)),id:l,assetId:e,wordSeparator:r,text:i,startTime:t.layerAlignedStart,endTime:t.layerAlignedEnd,frame:{[Xc.id]:t.id,[Xc.start]:t.layerAlignedStart,[Xc.end]:t.layerAlignedEnd,containingLayerEndTime:t.containingLayerEndTime,containingLayerIds:t.containingLayerIds,containingLayerPlaybackRate:t.containingLayerPlaybackRate,containingLayerStartTime:t.containingLayerStartTime,endTimeOffset:t.endTimeOffset,startTimeOffset:t.startTimeOffset,wordIsClippedList:t.wordIsClippedList,[Xc.words]:t.words.map((e=>({[Zc.text]:e.text,[Zc.start]:e.layerAlignedStart,[Zc.end]:e.layerAlignedEnd,[Zc.inlineStyles]:e.styles}))),speakerId:t.speakerId},fontSize:1,textWithLineBreaks:i}}))}));function yO({assetId:e,canvasHeight:t,canvasWidth:a,canvasX:n,canvasY:s,filterEmpty:o,filterInvalid:i,fontIsLoaded:r,fontSizeOverride:l,frame:d,frameIndex:c,globalWordByWordAnimations:u,globalStyles:p,localStyles:m,isRTL:g,selectedSpeakerId:h,selection:v,speakerConfigs:f,speakerLabel:b,subtitleableLayers:y,transformerPosition:w,transformerSize:_,transition:C,wordSeparator:S,tempConfigPosition:x,animationsById:I}){const A=bO(),k=(a??1)/700;return A({assetId:e,filterEmpty:o,filterInvalid:i,frame:d,globalStyles:p,localStyles:m,selectedSpeakerId:h,speakerConfigs:f,subtitleableLayers:y,wordSeparator:S,animationsById:I}).map((o=>{var i;const y=o.frame.speakerId,I=xO(y,p,m,h,f),A=SO(d,u,f)??void 0,T=$D({canvasWidth:a,fontIsLoaded:r,fontSizeOverride:l,style:I}),E=(l??I.fontSize)*k;let L=w;const j=y?null==(i=null==f?void 0:f[y])?void 0:i.position:void 0,R=(y===h?x:void 0)||d[Xc.position]||j;R&&(L={x:R.xPct/100*(a||0)+(n||0),y:R.yPct/100*(t||0)+(s||0),width:R.widthPct/100*(a||0),height:R.heightPct/100*(t||0),rotation:R.rotation||0});const N=function({assetId:e,frame:t,frameIndex:a,subtitleStyles:n,maxWidth:s,selection:o,separator:i,speakerLabel:r,verticalAlign:l,wordSizer:d}){const c=r?{[Zc.text]:GM(r),[Zc.start]:-1,[Zc.end]:-1}:void 0,u=c?[[c]]:[],p=t[Xc.words];for(let y=0;y<p.length;y++){const e=p[y],{leadingNewlineCount:t,trailingNewlineCount:a,trimmedWordText:n}=ZM(e[Zc.text]);for(let o=0;o<t;o++)u.push([]);0===u.length&&u.push([]);const s=u[u.length-1];if(!s)throw new Error("latestPhrase is undefined");s.push({...e,[Zc.text]:n});for(let o=0;o<a;o++)u.push([])}const m=[];for(const y of u){if(0===y.length){m.push({words:[],width:0});continue}let e=JM({maxWidth:s,orderedWords:qM({words:y,verticalAlign:l}),separator:i,wordSizer:d});if("middle"===l){const t=JM({maxWidth:s,orderedWords:qM({words:y,verticalAlign:"bottom"}),separator:i,wordSizer:d});t.length<e.length&&(e=t)}m.push(...e)}const g=XM(t[Xc.words].map((e=>e[Zc.text]))),h=KM(n.colorHighlights,a),v=" "===i?1:0,f=[];let b=0;for(const{width:y,words:w}of m){const a={width:y,words:[]};for(let n=0;n<w.length;n++){const s=w[n];if(!s)continue;const{originalNdx:i,word:r}=s;let l=r;if(n===w.length-1&&(l={...r,[Zc.text]:r[Zc.text].replace(/[ \t]+$/,"")}),i===g&&h){const e=Rk(l[Zc.text]).map(((e,t)=>{var a;const n=null==(a=l[Zc.inlineStyles])?void 0:a[t];return n?n&&void 0===n.color?{...n,color:h}:n:{index:t,color:h}}));l[Zc.inlineStyles]=e}a.words.push({...l,splitTextByStyle:RM(l,b,(null==o?void 0:o.assetId)===e&&o.frameId===t[Xc.id]?o:null),charOffset:b}),b+=l[Zc.text].length,n!==w.length-1&&(b+=v)}f.push(a),b++}return f}({assetId:e,frame:o.frame,frameIndex:c,speakerLabel:b,subtitleStyles:I,maxWidth:(null==d?void 0:d[Xc.position])?L.width:_.width,selection:v,separator:S,verticalAlign:o.verticalAlign??"top",wordSizer:T}),{x:M,y:P,width:F,height:D,rotation:O}=_N({...o,fontSize:E},N,L),{xPercent:U,yPercent:B}=KR(M,P,{x:n,y:s,width:a,height:t}),{widthPercent:W,heightPercent:V}=zR(F,D,{width:a,height:t}),H=((e,t)=>e&&e[t%e.length]||0)(I.rotationOffsets,c);return{...o,brokenLines:N,frame:{...o.frame,lines:N},isRTL:g,position:{height:V,width:W,x:U,y:B,rotation:(O||0)+H},fontSize:E,textWithLineBreaks:N.map((e=>e.words.map((e=>"label"in e?e.label:e[Zc.text])).join(S))).join("\n"),transition:C,wordByWordAnimations:A}}))}const wO=oO(yO),_O=c.memoize((({filterEmpty:e,filterInvalid:t,fontSizeOverride:a})=>Gu(((n,s={})=>DD(n).map((n=>AO({assetId:n,filterEmpty:e,filterInvalid:t,fontSizeOverride:a??null}))).map((e=>e(n,s)))),(e=>e.flat()))),MD),CO=u(BD,(e=>VD(e).position),(({canvasWidth:e,canvasHeight:t,canvasX:a,canvasY:n},s)=>{const o={height:t,width:e,x:a,y:n},{x:i,y:r}=WR(s.xPct,s.yPct,o),{width:l,height:d}=VR(s.widthPct,s.heightPct,o);return{x:i,y:r,width:l,height:d,rotation:s.rotation??0}})),SO=(e,t,a)=>{var n,s,o;const i=rO(e);return i&&((null==(n=null==a?void 0:a[i])?void 0:n.wbwAnimation)||(null==(s=null==a?void 0:a[i])?void 0:s.preset))?null==(o=null==a?void 0:a[i])?void 0:o.wbwAnimation:t},xO=(e,t,a,n,s)=>{var o;let i=t||By.style;i={...i,...a};let r=e?null==(o=null==s?void 0:s[e])?void 0:o.style:null;return r?(e===n&&(r={...r,...a}),r):i},IO=c.memoize(((e,t)=>u((a=>nO(a,e,t)),(e=>{var t;return null==(t=e.studio.magicSubtitlesGlobal)?void 0:t.style}),(e=>e.studioLocal.magicSubtitlesGlobal.style),(e=>{var t;return null==(t=e.studio.magicSubtitleSpeakers)?void 0:t.speakerConfigs}),YO,((e,t,a,n,s)=>{const o=rO(e);return xO(o,t,a,s,n)}))),PD),AO=c.memoize((({assetId:e,filterEmpty:t,filterInvalid:a,fontSizeOverride:n})=>u((t=>eO(t,e)),CO,DO(e),(e=>e.studioLocal.magicSubtitleInlineSelection),YD,qD([e]),WD,BO,XD,hO(e),(e=>e.studioLocal.magicSubtitlesGlobal.position),BD,TO(),(e=>e.studioLocal.magicSubtitlesGlobal.style),(e=>{var t;return null==(t=e.studio.magicSubtitleSpeakers)?void 0:t.speakerConfigs}),YO,jO,(e=>e.studio.animations.byId),((s,o,i,r,l,d,c,u,p,m,g,{canvasWidth:h,canvasHeight:v,canvasX:f,canvasY:b},y,w,_,C,S,x)=>{const I=wO();return(s||[]).map(((s,A)=>{const k=rO(s),T=xO(k,l,w,C,_).fontFamily.fontFamily,E=!!y[T],L=S[s[Xc.id]];return I({assetId:e,canvasHeight:v,canvasWidth:h,canvasX:f,canvasY:b,filterEmpty:t,filterInvalid:a,frame:s,frameIndex:A,fontIsLoaded:E,fontSizeOverride:n,isRTL:i,selection:r,speakerLabel:L,globalStyles:l,localStyles:w,selectedSpeakerId:C,speakerConfigs:_,subtitleableLayers:d,transformerPosition:o,transformerSize:c,transition:u,globalWordByWordAnimations:p,wordSeparator:m,tempConfigPosition:g,animationsById:x})})).flat()}))),MD),kO=c.memoize((()=>{const e=OO({filterEmpty:!1,filterInvalid:!1});return Gu(e,(e=>{const t=new Set;for(const a of e)t.add(a.fontFamily);return Array.from(t)}))})),TO=c.memoize((()=>{const e=kO();return Gu(e,(e=>e.loadedFonts),((e,t)=>e.reduce(((e,a)=>(e[a]="success"===t[a],e)),{})))})),EO=Gu((e=>DD(e).map((e=>dO(e))).map((t=>t(e)))),(e=>{const t=e.flat().sort(FD);return NO(t.flat())})),LO=u(EO,(e=>{var t;return null==(t=e.studio.magicSubtitleSpeakers)?void 0:t.showSpeakerLabelsOnCanvas}),((e,t)=>{const a={};if(!e||!t)return a;let n;for(const s of e)s.speakerId!==n&&(n=s.speakerId,s.speakerId&&(a[s.id]=s.speakerId));return a})),jO=u(LO,(e=>{var t;return null==(t=e.studio.magicSubtitleSpeakers)?void 0:t.speakerLabelsMap}),((e,t)=>{const a={};return Object.keys(e).forEach((n=>{var s;const o=e[n],i=o?null==(s=null==t?void 0:t[o])?void 0:s.name:void 0;i&&(a[n]=i)})),a})),RO=c.memoize((e=>{const t=bO();return u((t=>eO(t,e)),CO,DO(e),(e=>e.studioLocal.magicSubtitleInlineSelection),YD,qD([e]),WD,BO,XD,hO(e),(e=>e.studioLocal.magicSubtitlesGlobal.position),((e,t,a)=>BD(e,a)),((e,t)=>t),TO(),(e=>e.studioLocal.magicSubtitlesGlobal.style),(e=>{var t;return null==(t=e.studio.magicSubtitleSpeakers)?void 0:t.speakerConfigs}),YO,jO,(e=>e.studio.animations.byId),(function(a,n,s,o,i,r,l,d,c,u,p,{canvasWidth:m,canvasHeight:g,canvasX:h,canvasY:v},f,b,y,w,_,C,S){if(!a)return null;const x=a.map((a=>t({assetId:e,filterEmpty:!0,filterInvalid:!0,frame:a,globalStyles:i,localStyles:y,speakerConfigs:w,selectedSpeakerId:_,subtitleableLayers:r,wordSeparator:u,animationsById:S}))).flat().filter((function(e){return e.startTime<=f&&e.endTime>f})),[I]=x.sort(((e,t)=>t.startTime-e.startTime));if(!I)return null;const A=a.findIndex((e=>e[Xc.id]===I.frame[Xc.id])),k=a[A];if(!k)return null;const T=!!b[I.fontFamily],E=C[k[Xc.id]];return yO({assetId:e,canvasHeight:g,canvasWidth:m,canvasX:h,canvasY:v,filterEmpty:!0,filterInvalid:!0,frame:k,frameIndex:A,fontIsLoaded:T,fontSizeOverride:null,globalStyles:i,localStyles:y,selectedSpeakerId:_,speakerConfigs:w,speakerLabel:E,isRTL:s,selection:o,subtitleableLayers:r,transformerPosition:n,transformerSize:l,transition:d,globalWordByWordAnimations:c,wordSeparator:u,tempConfigPosition:p,animationsById:S}).find((function(e){return e.startTime<=f&&e.endTime>f}))||null}))})),NO=e=>{let t;return e.map((e=>(e.words.length>0?t=e.speakerId:e.speakerId=t,e)))},MO=e=>{const t=e.frame,{[Xc.start]:a,[Xc.end]:n,[Xc.id]:s,[Xc.words]:o,[Xc.position]:i,lines:r}=t,l=o.map((e=>{const{[Zc.text]:t,[Zc.start]:a,[Zc.end]:n,[Zc.inlineStyles]:s,[Zc.speaker]:o}=e;return{text:t,start:a,end:n,styles:s,speaker:o}})),d=r.map((e=>{const{words:t}=e,a=t.map((e=>{const{[Zc.text]:t,[Zc.start]:a,[Zc.end]:n,[Zc.inlineStyles]:s,[Zc.speaker]:o}=e;return{...e,text:t,start:a,end:n,styles:s,speaker:o}}));return{...e,words:a}})),c={...t,lines:d,id:s,start:a,end:n,position:i,words:l};return{...e,frame:c}},PO=e=>{const t=DD(e),a={},n={byId:{}},s=VD(e),{transitionId:o,transitionDuration:i,transitionOverlapDuration:r=0}=s;if(0===t.length)return{animations:n,magicSubtitlesOnExport:a};const l=qO(e),d=new Map;let c;for(const{animation:u,speakerId:p}of l){if(!u)continue;const{animationId:e,animationName:t,wordByWordStyles:a}=u,s=t?null==a?void 0:a[t]:null;let o="";if(s&&e&&e!==Mc.None&&t&&t!==Mc.None){const t="";o=fe(12);const a={animationName:e,id:o,isCrossTransition:!1,layerId:t,transitionDuration:.5,wordByWordStyles:s};n.byId[o]=a,p?d.set(p,o):c=o}}for(const u of t){const t=AO({assetId:u,filterEmpty:!0,filterInvalid:!0,fontSizeOverride:null})(e,{canvasHeight:e.studio.height??1,canvasWidth:e.studio.width??1});t.sort(((e,t)=>e.startTime-t.startTime));const s=t[0];if(!t.length||!s)continue;let l="";if(o&&o!==Mc.None){const e=s.id;l=fe(12),n.byId[l]={animationName:o,id:l,isCrossTransition:!1,layerId:e,speed:"default",transitionDuration:i||.5}}a[u]=t.map((e=>{const t=[];l&&t.push(l);let a="";const s=e.frame.speakerId;if(a=s&&d.has(s)?d.get(s):c,a){t.push(a);const s=n.byId[a];s&&"layerId"in s&&(s.layerId=e.id)}const o=l?-r:0,i=l?r:0;return{...MO(e),fallbackFonts:be(e.text),startTime:e.startTime+o,endTime:e.endTime+i,animation:{constant:t},position:e.position?{...e.position}:void 0}}))}return{animations:n,magicSubtitlesOnExport:a}},FO=/[\u0591-\u07FF]/,DO=c.memoize((e=>u(mO(e),(t=>eO(t,e)),hO(e),((e,t,a)=>{if(e)return ve.isRtlLang(e);const n=(t||[]).slice(0,4).map((e=>e[Xc.words].map((e=>e[Zc.text])).join(a))).join(a);return FO.test(n)})))),OO=c.memoize((({filterEmpty:e,filterInvalid:t})=>Gu((a=>DD(a).map((a=>vO({assetId:a,filterEmpty:e,filterInvalid:t}))).map((e=>e(a)))),(e=>e.flat()))),MD),UO=OO({filterEmpty:!1,filterInvalid:!0}),BO=u(VD,(e=>{const{transitionId:t,transitionDuration:a,transitionOverlapDuration:n,transitionSpeed:s}=e;return{transitionId:t,transitionDuration:a,transitionOverlapDuration:n,transitionSpeed:s}})),WO=u((e=>e.studio.magicSubtitles),((e={})=>{var t,a;return Object.values(e).some((e=>"transcription"===(null==e?void 0:e.transcriptionSource)||!(null==e?void 0:e.transcriptionSource)))?"transcription":"upload"===(null==(t=e["background-asset"])?void 0:t.transcriptionSource)?"upload":"manual"===(null==(a=e["background-asset"])?void 0:a.transcriptionSource)?"manual":null})),VO=u((e=>e.studio.magicSubtitles),DD,((e,t)=>{for(const[a,n]of Object.entries(e||{}))if(t.includes(a)&&(null==n?void 0:n.languageKey))return n.languageKey;return null})),HO=u(VO,(e=>e?pO(e):null)),zO=u(HO,(e=>{if(!e)return null;const{translateCode:t,languageCode:a}=e;return t&&t!==a?t:a})),GO=u((e=>e.studio.magicSubtitles),(e=>e.assets),DD,((e,t,a)=>{var n;for(const[s,o]of Object.entries(e||{}))if(a.includes(s)&&(null==o?void 0:o.languageKey)){const e=t.byId[s];if(!e)return null;const a=null==(n=null==e?void 0:e.transcriptionIds)?void 0:n[o.languageKey];return(null==a?void 0:a.job)?a.job:null}return null})),YO=Gu((e=>e.studio.selectedItem),(e=>"magicSubtitle"===(null==e?void 0:e.type)?e.speakerId:void 0)),KO=[],XO=Gu((e=>{const{magicSubtitleInlineSelection:t}=e.studioLocal;if(t){const{assetId:a,frameId:n}=t;try{return[nO(e,a,n)]}catch(b9e){return KO}}const{selectedItem:a}=e.studio;return"magicSubtitle"!==(null==a?void 0:a.type)?KO:Object.values(a.frames).reduce(((t,a)=>{const n=tO(a.assetId,a.id)(e);return n&&t.push(n),t}),[])}),(e=>e)),ZO=Gu(XO,YD,YO,(e=>{var t;return null==(t=e.studio.magicSubtitleSpeakers)?void 0:t.speakerConfigs}),(e=>e.studioLocal.magicSubtitlesGlobal.style),((e,t,a,n,s)=>{if(!e.length)return[{style:{...s,...t},speakerId:void 0}];const o=[];return e.forEach((e=>{var i;const r=rO(e);let l=r;if(l&&!(null==(i=null==n?void 0:n[l])?void 0:i.style)&&(l=void 0),o.some((e=>e.speakerId===l)))return;const d=xO(r,t,s,a,n);o.push({style:d,speakerId:l})})),o})),qO=u(XD,(e=>{var t;return null==(t=e.studio.magicSubtitleSpeakers)?void 0:t.speakerConfigs}),((e,t)=>{const a=[];return e&&a.push({speakerId:void 0,animation:e}),Object.keys(t||{}).forEach((e=>{var n;const s=null==(n=null==t?void 0:t[e])?void 0:n.wbwAnimation;s&&a.push({speakerId:e,animation:s})})),a})),JO=u(YD,(e=>{var t;return null==(t=e.studio.magicSubtitleSpeakers)?void 0:t.speakerConfigs}),(e=>e.studioLocal.magicSubtitlesGlobal.style),YO,((e,t,a,n)=>{let s=e||By.style;n||(s={...a,...s});const o=[{style:s,speakerId:null}];return t&&Object.keys(t).forEach((e=>{var a;const n=null==(a=t[e])?void 0:a.style;n&&o.push({style:n,speakerId:e})})),o})),$O=Gu(((e,t)=>DD(e).map((e=>RO(e))).map((a=>a(e,t)))),(e=>e.filter(vA)[0]||null)),QO=u((e=>VD(e).position),(e=>e.studioLocal.magicSubtitlesGlobal.position),(e=>{var t;return null==(t=e.studio.magicSubtitleSpeakers)?void 0:t.speakerConfigs}),YO,((e,t,a,n)=>{const s=[{position:n?e:{...e,...t},speakerId:null}];return a&&Object.keys(a).forEach((e=>{var o;let i=null==(o=a[e])?void 0:o.position;i&&(e===n&&(i={...i,...t}),s.push({position:i,speakerId:e}))})),s})),eU=e=>"layer"===e.type||"waveform"===e.type||"placeholder"===e.type,tU=({layerId:e,layersById:t,tetheredWaveforms:a})=>{const n=_L({layerId:e,layersById:t,tetheredWaveforms:a});return n?{id:n.id,item:n,type:"layer"}:null},aU=({groupId:e,groups:t,layersById:a,tetheredWaveforms:n})=>{const s=t[e],o=(null==s?void 0:s.layers.filter((({deselected:e})=>!e)).map((({id:e})=>_L({layerId:e,layersById:a,tetheredWaveforms:n}))).filter(vA))??[];return s?{id:e,item:{group:s,selectedLayers:o},type:"group"}:null},nU=({selectedItem:e,layersById:t,tetheredWaveforms:a,groups:n,timelineGap:s})=>{switch(null==e?void 0:e.type){case"layer":return tU({layerId:e.id,layersById:t,tetheredWaveforms:a});case"group":return aU({groupId:e.id,groups:n,layersById:t,tetheredWaveforms:a});case"magicSubtitle":case"background":return e;case"waveform":return(({layerId:e,layersById:t,tetheredWaveforms:a})=>{const n=hL({layerId:e,allLayersById:t,tetheredWaveforms:a});return n?{id:n.id,item:n,type:"waveform"}:null})({layerId:e.id,layersById:t,tetheredWaveforms:a});case"gap":return(({gapId:e,timelineGap:t})=>e===(null==t?void 0:t.gapId)?{id:t.gapId,item:t,type:"gap"}:null)({gapId:e.id,timelineGap:s});case"placeholder":return(({layerId:e,layersById:t,tetheredWaveforms:a})=>{const n=_L({layerId:e,layersById:t,tetheredWaveforms:a});return n&&Bc(n)?{id:n.id,item:n,type:"placeholder"}:null})({layerId:e.id,layersById:t,tetheredWaveforms:a});default:return null}},sU=u((e=>e.studioLocal.boxSelectedIds),(e=>e.studio.allLayers.byId),(e=>e.studio.tetheredWaveforms),(e=>e.studio.groups),UO,((e,t,a,n,s)=>{const o=[];return Object.entries(e).forEach((([e,i])=>{const r=(({boxSelectedId:e,boxSelectedItem:t,layersById:a,tetheredWaveforms:n,groups:s,allMagicLayers:o})=>{switch(t.type){case"layer":return tU({layerId:e,layersById:a,tetheredWaveforms:n});case"group":return aU({groupId:e,groups:s,layersById:a,tetheredWaveforms:n});case"magicSubtitle":return{type:"magicSubtitle",frames:t.frames.reduce(((e,t)=>({...e,[t.id]:t})),{}),isPartialSelection:!(t.frames.length===o.length)};default:return null}})({boxSelectedId:e,boxSelectedItem:i,layersById:t,tetheredWaveforms:a,groups:n,allMagicLayers:s});r&&o.push(r)})),o})),oU=u((e=>e.studio.selectedItem),(e=>e.studio.groups),(e=>e.studio.allLayers.byId),(e=>e.studio.timelineGap),(e=>e.studio.tetheredWaveforms),((e,t,a,n,s)=>e?nU({selectedItem:e,layersById:a,groups:t,timelineGap:n,tetheredWaveforms:s}):null)),iU=()=>oU(Mu().state),rU=u(oU,((e,t)=>t),((e,t)=>"magicSubtitle"===(null==e?void 0:e.type)?!!e.frames[t]:"group"===(null==e?void 0:e.type)?e.item.selectedLayers.some((e=>e.id===t)):(null==e?void 0:e.id)===t)),lU=u(sU,((e,t)=>t),((e,t)=>e.some((e=>"magicSubtitle"===(null==e?void 0:e.type)?!!e.frames[t]:"group"===(null==e?void 0:e.type)?e.item.selectedLayers.some((e=>e.id===t)):(null==e?void 0:e.id)===t)))),dU=u(oU,(e=>e?"group"===e.type?e.item.selectedLayers:eU(e)?[e.item]:[]:[])),cU=()=>dU(Mu().state),uU=rU,pU=u(oU,(e=>{if(e)return eU(e)?e.item:void 0})),mU=()=>pU(Mu().state),gU=u(dU,(e=>[...e].sort(((e,t)=>bp(e).start-bp(t).start))[0]));let hU;const vU=()=>hU,fU=he((e=>hU?_L({layerId:hU,layersById:e.studio.allLayers.byId,tetheredWaveforms:e.studio.tetheredWaveforms}):void 0)),bU={plugins:(e=[],t)=>{switch(t.type){case"OPEN_PLUGIN":{const a=e.map((e=>e.id));return t.pluginName&&!a.includes(t.pluginName)?[...e,{id:t.pluginName,isMediaLibraryUpload:t.isMediaLibraryUpload,idOfLayerToReplace:t.idOfLayerToReplace}]:[...e]}case"CLOSE_PLUGIN":{const a=e.map((e=>e.id));if(t.pluginName&&a.includes(t.pluginName)){const n=a.indexOf(t.pluginName);if(n>-1)return e.splice(n,1),[...e]}return[...e]}case"RESET_EDITOR":return[];default:return e}},pluginOrder:(e=[],t)=>{switch(t.type){case"OPEN_PLUGIN":return t.pluginName&&!e.includes(t.pluginName)?[...e,t.pluginName]:[...e];case"CLOSE_PLUGIN":if(t.pluginName&&e.includes(t.pluginName)){const a=e.indexOf(t.pluginName);if(a>-1)return e.splice(a,1),[...e]}return[...e];case"PLUGIN_TO_TOP":if(e.includes(t.pluginName)){const a=e.indexOf(t.pluginName);if(a>-1&&a!==e.length-1){const[t]=e.splice(a,1);return[...e,t]}}return[...e];case"RESET_EDITOR":return[];default:return e}}},yU={exports:[],exportsLoading:!1,pendingExport:void 0,roughCutSurvey:!1,tooltip:null},wU=m({name:"exports",initialState:yU,reducers:{clearExportStore:e=>({...yU,tooltip:e.tooltip}),exportsLoading:e=>{e.exportsLoading=!0},exportsFetched:(e,t)=>{e.exports=t.payload.exports,e.exportsLoading=!1,t.payload.finishPendingExport&&(e.pendingExport=void 0)},exportStarted:(e,t)=>{e.pendingExport={name:t.payload.name||ql,clientSide:t.payload.clientSide}},finishPendingExport:e=>{e.pendingExport=void 0},showRoughCutSurvey:e=>{e.roughCutSurvey=!0},hideRoughCutSurvey:e=>{e.roughCutSurvey=!1},showToolTip:(e,t)=>{e.tooltip=t.payload}}}),_U=wU.actions,{exportsFetched:CU,exportsLoading:SU,exportStarted:xU,finishPendingExport:IU,showRoughCutSurvey:AU,hideRoughCutSurvey:kU,clearExportStore:TU}=wU.actions,EU=m({initialState:{},name:"history",reducers:{setIndex:(e,{payload:{historyIndex:t,usedUndo:a}})=>{e.historyIndex=t,e.usedUndo=a,e.lastUndoTimestamp=a?Date.now():e.lastUndoTimestamp},setIndexMinimum:(e,{payload:{historyIndexMinimum:t}})=>{e.historyIndexMinimum=t}}}),{actions:LU}=EU,jU={index:-1,actions:[],batches:[]},RU={...jU};function NU(e){return!!e.func}function MU(e,t){const{dispatch:a}=Mu();e&&(t?NU(e.undo)?e.undo.func(e.undo):a(e.undo):NU(e.redo)?e.redo.func(e.redo):a(e.redo))}const PU={getState:()=>RU,setMinimumIndex(e=!0){const{dispatch:t}=Mu();t(e?LU.setIndexMinimum({historyIndexMinimum:RU.index}):LU.setIndexMinimum({historyIndexMinimum:-1}))},beginBatch(){const{batches:e}=RU;e.push([])},endBatch(){const{batches:e}=RU,t=e.pop();null!=t?0!==t.length&&PU.add({undo:{func(){for(let e=t.length-1;e>=0;e-=1){MU(t[e],!0)}},batch:t},redo:{func(){for(let e=0;e<t.length;e+=1){MU(t[e],!1)}},batch:t}}):console.error("Tried to endBatch while no batch is active.")},execInUndoBatch(e){try{this.beginBatch(),e()}catch(b9e){console.error(b9e)}finally{this.endBatch()}},withUndoBatch(e){return(...t)=>{try{return this.beginBatch(),e(...t)}finally{this.endBatch()}}},withUndoBatchAsync(e){return async(...t)=>{try{return this.beginBatch(),await e(...t)}finally{this.endBatch()}}},add(e){const{actions:t,batches:a,index:n}=RU,s=a.pop(),o=s||t;let i=(null==s?void 0:s.length)??n,r=[...o];s||(n!==o.length-1&&(r=o.slice(0,n+1)),o.length>=1e3&&(r=r.slice(1),i-=1),o.length>-1&&(i+=1)),r.push(c.cloneDeep(e)),s?a.push(r):(RU.actions=r,RU.index=i,FU())},studioStateAllowsUndoOrRedo(){const{state:e}=Mu(),t=mU();return!(e.studio.overlayMounted||t&&RR(e,t.id))},canUndo({force:e}={}){const{state:t}=Mu(),{index:a,batches:n}=RU;return!!(a>=0&&t.userPermissions.canWrite&&t.history.historyIndexMinimum!==a&&0===n.length)&&(!!e||this.studioStateAllowsUndoOrRedo())},undo(e={}){const{dispatch:t}=Mu(),{index:a}=RU;if(!PU.canUndo(e))return;const n=a-1;RU.index=n;const s=RU.actions[a];s&&MU(s,!0),t(LU.setIndex({historyIndex:n,usedUndo:!0})),FU()},canRedo({force:e}={}){const{state:t}=Mu(),{index:a,actions:n,batches:s}=RU;return!(a===n.length-1||!t.userPermissions.canWrite||0!==s.length)&&(!!e||this.studioStateAllowsUndoOrRedo())},redo(e={}){const{dispatch:t}=Mu(),{index:a}=RU,n=a+1;if(!PU.canRedo(e))return;RU.index=n;const s=RU.actions[n];s&&MU(s,!1),t(LU.setIndex({historyIndex:n,usedUndo:!0})),FU()},reset(){const{dispatch:e}=Mu();Object.assign(RU,jU),e(LU.setIndex({historyIndex:-1,usedUndo:!1})),FU()}},FU=()=>{setTimeout((()=>{DU.forEach((e=>e()))}),0)},DU=new Set,OU=e=>{const[t,a]=i.useState(e());return i.useEffect((()=>{const t=()=>a(e());DU.add(t);const n=zu((e=>{var t;return RR(e,(null==(t=e.studio.selectedItem)?void 0:t.id)??"")}),(e=>e.studio.overlayMounted),(()=>a(e()))),s=Mu().store.subscribe((()=>n(Mu().state)));return()=>{DU.delete(t),s()}}),[e]),t},UU=()=>OU((()=>PU.canUndo())),BU=()=>OU((()=>PU.canRedo()));"undefined"!=typeof window&&(window.editHistoryState=RU);const WU=m({name:"bRoll",initialState:{bRollLayerData:[],bRollAlignment:"center",bRollLoadingMsg:"",bRollDragging:!1,bRollLanguageCode:"en-US",isBRollDebugOverlayOpen:!1,bRollDebugId:"",bRollDebugAssetId:"",socialVideoCustomBRoll:[],bRollUploadProjectId:""},reducers:{setBRollDragging:(e,t)=>{const{bRollDragging:a}=t.payload;e.bRollDragging=a},setBRollLoadingMsg:(e,t)=>{const{bRollLoadingMsg:a}=t.payload;e.bRollLoadingMsg=a},setBRollDebugOverlayOpen:(e,t)=>{const{bRollDebugOpen:a}=t.payload;e.isBRollDebugOverlayOpen=a},setBRollDebugIds:(e,t)=>{const{newBrollDebugId:a,newBrollDebugAssetId:n}=t.payload;e.bRollDebugId=a,e.bRollDebugAssetId=n},setBRollLanguageCode:(e,t)=>{const{newBRollLanguageCode:a}=t.payload;e.bRollLanguageCode=a},setBRollAlignment:(e,t)=>{const{bRollAlignment:a,undoable:n}=t.payload;if(n){const n={type:t.type,payload:{bRollAlignment:e.bRollAlignment,undoable:!1}},s={type:t.type,payload:{bRollAlignment:a,undoable:!1}};PU.add({undo:n,redo:s})}e.bRollAlignment=a},setBRollLayerData:(e,t)=>{const{bRollLayerData:a,undoable:n}=t.payload;if(n){const n={type:t.type,payload:{bRollLayerData:e.bRollLayerData,undoable:!1}},s={type:t.type,payload:{bRollLayerData:a,undoable:!1}};PU.add({undo:n,redo:s})}e.bRollLayerData=a},addBRollLayerData:(e,t)=>{const{bRollLayerData:a,index:n,undoable:s}=t.payload;if(s){const e={type:"bRoll/removeBRollLayerData",payload:{bRollId:a.bRollId,undoable:!1}},s={type:t.type,payload:{bRollLayerData:a,index:n,undoable:!1}};PU.add({undo:e,redo:s})}void 0!==n?e.bRollLayerData.splice(n,0,a):e.bRollLayerData.push(a)},removeBRollLayerData:(e,t)=>{const{bRollId:a,undoable:n}=t.payload;if(n){const n=e.bRollLayerData.findIndex((e=>e.bRollId===a)),s=e.bRollLayerData[n];if(s){const e={type:"bRoll/addBRollLayerData",payload:{bRollLayerData:s,index:n,undoable:!1}},o={type:t.type,payload:{bRollId:a,undoable:!1}};PU.add({undo:e,redo:o})}}e.bRollLayerData=e.bRollLayerData.filter((e=>e&&e.bRollId&&e.bRollId!==a))},updateBRollLayerData:(e,t)=>{const{bRollLayerData:a,undoable:n}=t.payload;let s;const o=e.bRollLayerData.map((e=>e.bRollId===a.bRollId?(s=e,a):e));if(n&&a&&s){const e={type:t.type,payload:{bRollLayerData:s,undoable:!1}},n={type:t.type,payload:{bRollLayerData:a,undoable:!1}};PU.add({undo:e,redo:n})}e.bRollLayerData=o},addSocialVideoCustomBRoll:(e,t)=>{const{payload:{newBRollItem:a}}=t,n=[...(e.socialVideoCustomBRoll||[]).filter((e=>{return n=a,!((t=e).article&&t.article.articleUrl===(null==(s=n.article)?void 0:s.articleUrl)||t.asset&&t.asset._id===(null==(o=n.asset)?void 0:o._id)||t.id===n.id);var t,n,s,o})),a];e.socialVideoCustomBRoll=n},removeSocialVideoCustomBRoll:(e,t)=>{const{payload:{id:a}}=t,n=(e.socialVideoCustomBRoll||[]).filter((e=>e.id!==a));e.socialVideoCustomBRoll=n},resetSocialVideoCustomBRollOnProjectChange:(e,t)=>{e.bRollUploadProjectId&&e.bRollUploadProjectId!==t.payload.projectId&&(e.socialVideoCustomBRoll=[]),e.bRollUploadProjectId=t.payload.projectId}}}),{setBRollDragging:VU,setBRollDebugOverlayOpen:HU,setBRollDebugIds:zU,setBRollLoadingMsg:GU,setBRollAlignment:YU,setBRollLanguageCode:KU,setBRollLayerData:XU,addBRollLayerData:ZU,removeBRollLayerData:qU,updateBRollLayerData:JU,addSocialVideoCustomBRoll:$U,removeSocialVideoCustomBRoll:QU,resetSocialVideoCustomBRollOnProjectChange:eB}=WU.actions;var tB=(e=>(e.exportAsImage="exportAsImage",e.studio="studio",e.repurposeStudio="repurposeStudio",e.adminRedubbing="adminRedubbing",e.aiPreview="aiPreview",e))(tB||{});const aB="all-layers-container",nB=m({initialState:{byElementPoolId:{[tB.studio]:{paused:!0,userManualSeekTime:null}}},name:"elementPool",reducers:{initialize(e,t){const{elementPoolId:a}=t.payload;e.byElementPoolId[a]||(e.byElementPoolId[a]={paused:!0,userManualSeekTime:null})},setUserManualSeek(e,t){const{elementPoolId:a,time:n}=t.payload,s=a||tB.studio;e.byElementPoolId[s]={...e.byElementPoolId[s],userManualSeekTime:null!==n?BC(n):null}},setPaused(e,t){const{elementPoolId:a,paused:n}=t.payload,s=a||tB.studio;e.byElementPoolId[s]={...e.byElementPoolId[s],paused:n}},togglePaused(e,t){var a;const{elementPoolId:n}=t.payload,s=n||tB.studio;e.byElementPoolId[s]={...e.byElementPoolId[s],paused:!(null==(a=e.byElementPoolId[s])?void 0:a.paused)}}}}),sB=()=>nB.actions.setPaused({paused:!0}),oB=()=>nB.actions.setPaused({paused:!1}),iB=nB.actions.setUserManualSeek,rB=nB.actions,lB=()=>{const e=Ev.get("state",{disabled:null}),t=Ev.get("featureFlags2",{disabled:null});if(!t||!e)return{};const a=e.currentUser.user._id,{flags:n,userId:s}=t;return s!==a?{}:n},dB=m({initialState:()=>({flags:lB(),loading:!0,flagSource:"local",fetchErrMsg:null}),name:"featureFlags",reducers:{setFlags:(e,t)=>{const a=t.payload;e.flags=a,e.loading=!1,e.flagSource="fetch",RE((()=>{const e=Mu().state.currentUser.user._id;Ev.set("featureFlags2",{flags:a,userId:e})}))},setFlag:(e,t)=>{const a=t.payload,n=e.flags;n[a.name]=a;const s=ye(n);RE((()=>{const e=Mu().state.currentUser.user._id;Ev.set("featureFlags2",{flags:s,userId:e})}))},setErrorMessage:(e,t)=>{e.loading=!1,e.fetchErrMsg=t.payload}}}),cB=e=>e.featureFlags.loading,uB=dB.actions,pB=["ABeeZee","ADLaM Display","AR One Sans","Abel","Abhaya Libre","Aboreto","Abril Fatface","Abyssinica SIL","Aclonica","Acme","Actor","Adamina","Advent Pro","Agdasima","Aguafina Script","Akatab","Akaya Kanadaka","Akaya Telivigala","Akronim","Akshar","Aladin","Alata","Alatsi","Albert Sans","Aldrich","Alef","Alegreya","Alegreya SC","Alegreya Sans","Alegreya Sans SC","Aleo","Alex Brush","Alexandria","Alfa Slab One","Alice","Alike","Alike Angular","Alkalami","Alkatra","Allan","Allerta","Allerta Stencil","Allison","Allura","Almarai","Almendra","Almendra Display","Almendra SC","Alumni Sans","Alumni Sans Collegiate One","Alumni Sans Inline One","Alumni Sans Pinstripe","Amarante","Amaranth","Amatic SC","Amethysta","Amiko","Amiri","Amiri Quran","Amita","Anaheim","Andada Pro","Andika","Anek Bangla","Anek Devanagari","Anek Gujarati","Anek Gurmukhi","Anek Kannada","Anek Latin","Anek Malayalam","Anek Odia","Anek Tamil","Anek Telugu","Angkor","Annie Use Your Telescope","Anonymous Pro","Antic","Antic Didone","Antic Slab","Anton","Antonio","Anuphan","Anybody","Aoboshi One","Arapey","Arbutus","Arbutus Slab","Architects Daughter","Archivo","Archivo Black","Archivo Narrow","Are You Serious","Aref Ruqaa","Aref Ruqaa Ink","Arima","Arima Madurai","Arimo","Arizonia","Armata","Arsenal","Artifika","Arvo","Arya","Asap","Asap Condensed","Asar","Asset","Assistant","Astloch","Asul","Athiti","Atkinson Hyperlegible","Atma","Atomic Age","Aubrey","Audiowide","Autour One","Average","Average Sans","Averia Gruesa Libre","Averia Libre","Averia Sans Libre","Averia Serif Libre","Azeret Mono","B612","B612 Mono","BIZ UDGothic","BIZ UDMincho","BIZ UDPGothic","BIZ UDPMincho","Babylonica","Bacasime Antique","Bad Script","Bagel Fat One","Bahiana","Bahianita","Bai Jamjuree","Bakbak One","Ballet","Baloo 2","Baloo Bhai 2","Baloo Bhaijaan 2","Baloo Bhaina 2","Baloo Chettan 2","Baloo Da 2","Baloo Paaji 2","Baloo Tamma 2","Baloo Tammudu 2","Baloo Thambi 2","Balsamiq Sans","Balthazar","Bangers","Barlow","Barlow Condensed","Barlow Semi Condensed","Barriecito","Barrio","Basic","Baskervville","Battambang","Baumans","Bayon","Be Vietnam","Be Vietnam Pro","Beau Rivage","Bebas Neue","Belanosima","Belgrano","Bellefair","Belleza","Bellota","Bellota Text","BenchNine","Benne","Bentham","Berkshire Swash","Besley","Beth Ellen","Bevan","BhuTuka Expanded One","Big Shoulders Display","Big Shoulders Inline Display","Big Shoulders Inline Text","Big Shoulders Stencil Display","Big Shoulders Stencil Text","Big Shoulders Text","Bigelow Rules","Bigshot One","Bilbo","Bilbo Swash Caps","BioRhyme","BioRhyme Expanded","Birthstone","Birthstone Bounce","Biryani","Bitter","Black And White Picture","Black Han Sans","Black Ops One","Blaka","Blaka Hollow","Blaka Ink","Blinker","Bodoni Moda","Bokor","Bona Nova","Bonbon","Bonheur Royale","Boogaloo","Borel","Bowlby One","Bowlby One SC","Braah One","Brawler","Bree Serif","Bricolage Grotesque","Bruno Ace","Bruno Ace SC","Brygada 1918","Bubblegum Sans","Bubbler One","Buda","Buenard","Bungee","Bungee Hairline","Bungee Inline","Bungee Outline","Bungee Shade","Bungee Spice","Butcherman","Butterfly Kids","Cabin","Cabin Condensed","Cabin Sketch","Caesar Dressing","Cagliostro","Cairo","Cairo Play","Caladea","Calistoga","Calligraffitti","Cambay","Cambo","Candal","Cantarell","Cantata One","Cantora One","Caprasimo","Capriola","Caramel","Carattere","Cardo","Carlito","Carme","Carrois Gothic","Carrois Gothic SC","Carter One","Castoro","Castoro Titling","Catamaran","Caudex","Caveat","Caveat Brush","Cedarville Cursive","Ceviche One","Chakra Petch","Changa","Changa One","Chango","Charis SIL","Charm","Charmonman","Chathura","Chau Philomene One","Chela One","Chelsea Market","Chenla","Cherish","Cherry Bomb One","Cherry Cream Soda","Cherry Swash","Chewy","Chicle","Chilanka","Chivo","Chivo Mono","Chokokutai","Chonburi","Cinzel","Cinzel Decorative","Clicker Script","Climate Crisis","Coda","Coda Caption","Codystar","Coiny","Combo","Comfortaa","Comforter","Comforter Brush","Comic Neue","Coming Soon","Comme","Commissioner","Condiment","Content","Contrail One","Convergence","Cookie","Copse","Corben","Corinthia","Cormorant","Cormorant Garamond","Cormorant Infant","Cormorant SC","Cormorant Unicase","Cormorant Upright","Courgette","Courier Prime","Cousine","Coustard","Covered By Your Grace","Crafty Girls","Creepster","Crete Round","Crimson Pro","Crimson Text","Croissant One","Crushed","Cuprum","Cute Font","Cutive","Cutive Mono","DM Mono","DM Sans","DM Serif Display","DM Serif Text","Dai Banna SIL","Damion","Dancing Script","Dangrek","Darker Grotesque","Darumadrop One","David Libre","Dawning of a New Day","Days One","Dekko","Dela Gothic One","Delicious Handrawn","Delius","Delius Swash Caps","Delius Unicase","Della Respira","Denk One","Devonshire","Dhurjati","Didact Gothic","Diphylleia","Diplomata","Diplomata SC","Do Hyeon","Dokdo","Domine","Donegal One","Dongle","Doppio One","Dorsa","Dosis","DotGothic16","Dr Sugiyama","Duru Sans","DynaPuff","Dynalight","EB Garamond","Eagle Lake","East Sea Dokdo","Eater","Economica","Eczar","Edu NSW ACT Foundation","Edu QLD Beginner","Edu SA Beginner","Edu TAS Beginner","Edu VIC WA NT Beginner","El Messiri","Electrolize","Elsie","Elsie Swash Caps","Emblema One","Emilys Candy","Encode Sans","Encode Sans Condensed","Encode Sans Expanded","Encode Sans SC","Encode Sans Semi Condensed","Encode Sans Semi Expanded","Engagement","Englebert","Enriqueta","Ephesis","Epilogue","Erica One","Esteban","Estonia","Euphoria Script","Ewert","Exo","Exo 2","Expletus Sans","Explora","Fahkwang","Familjen Grotesk","Fanwood Text","Farro","Farsan","Fascinate","Fascinate Inline","Faster One","Fasthand","Fauna One","Faustina","Federant","Federo","Felipa","Fenix","Festive","Figtree","Finger Paint","Finlandica","Fira Code","Fira Mono","Fira Sans","Fira Sans Condensed","Fira Sans Extra Condensed","Fjalla One","Fjord One","Flamenco","Flavors","Fleur De Leah","Flow Block","Flow Circular","Flow Rounded","Foldit","Fondamento","Fontdiner Swanky","Forum","Fragment Mono","Francois One","Frank Ruhl Libre","Fraunces","Freckle Face","Fredericka the Great","Fredoka","Fredoka One","Freehand","Fresca","Frijole","Fruktur","Fugaz One","Fuggles","Fuzzy Bubbles","GFS Didot","GFS Neohellenic","Gabarito","Gabriela","Gaegu","Gafata","Gajraj One","Galada","Galdeano","Galindo","Gamja Flower","Gantari","Gasoek One","Gayathri","Gelasio","Gemunu Libre","Genos","Gentium Basic","Gentium Book Basic","Gentium Book Plus","Gentium Plus","Geo","Geologica","Georama","Geostar","Geostar Fill","Germania One","Gideon Roman","Gidugu","Gilda Display","Girassol","Give You Glory","Glass Antiqua","Glegoo","Gloock","Gloria Hallelujah","Glory","Gluten","Goblin One","Gochi Hand","Goldman","Golos Text","Gorditas","Gothic A1","Gotu","Goudy Bookletter 1911","Gowun Batang","Gowun Dodum","Graduate","Grand Hotel","Grandiflora One","Grandstander","Grape Nuts","Gravitas One","Great Vibes","Grechen Fuemen","Grenze","Grenze Gotisch","Grey Qo","Griffy","Gruppo","Gudea","Gugi","Gulzar","Gupter","Gurajada","Gwendolyn","Habibi","Hachi Maru Pop","Hahmlet","Halant","Hammersmith One","Hanalei","Hanalei Fill","Handjet","Handlee","Hanken Grotesk","Hanuman","Happy Monkey","Harmattan","Headland One","Heebo","Henny Penny","Hepta Slab","Herr Von Muellerhoff","Hi Melody","Hina Mincho","Hind","Hind Guntur","Hind Madurai","Hind Siliguri","Hind Vadodara","Holtwood One SC","Homemade Apple","Homenaje","Hubballi","Hurricane","IBM Plex Mono","IBM Plex Sans","IBM Plex Sans Arabic","IBM Plex Sans Condensed","IBM Plex Sans Devanagari","IBM Plex Sans Hebrew","IBM Plex Sans JP","IBM Plex Sans KR","IBM Plex Sans Thai","IBM Plex Sans Thai Looped","IBM Plex Serif","IM Fell DW Pica","IM Fell DW Pica SC","IM Fell Double Pica","IM Fell Double Pica SC","IM Fell English","IM Fell English SC","IM Fell French Canon","IM Fell French Canon SC","IM Fell Great Primer","IM Fell Great Primer SC","Ibarra Real Nova","Iceberg","Iceland","Imbue","Imperial Script","Imprima","Inclusive Sans","Inconsolata","Inder","Indie Flower","Ingrid Darling","Inika","Inknut Antiqua","Inria Sans","Inria Serif","Inspiration","Instrument Sans","Instrument Serif","Inter","Inter Tight","Irish Grover","Island Moments","Istok Web","Italiana","Italianno","Itim","Jacques Francois","Jacques Francois Shadow","Jaldi","JetBrains Mono","Jim Nightshade","Joan","Jockey One","Jolly Lodger","Jomhuria","Jomolhari","Josefin Sans","Josefin Slab","Jost","Joti One","Jua","Judson","Julee","Julius Sans One","Junge","Jura","Just Another Hand","Just Me Again Down Here","K2D","Kablammo","Kadwa","Kaisei Decol","Kaisei HarunoUmi","Kaisei Opti","Kaisei Tokumin","Kalam","Kameron","Kanit","Kantumruy","Kantumruy Pro","Karantina","Karla","Karma","Katibeh","Kaushan Script","Kavivanar","Kavoon","Kdam Thmor","Kdam Thmor Pro","Keania One","Kelly Slab","Kenia","Khand","Khmer","Khula","Kings","Kirang Haerang","Kite One","Kiwi Maru","Klee One","Knewave","KoHo","Kodchasan","Koh Santepheap","Kolker Brush","Konkhmer Sleokchher","Kosugi","Kosugi Maru","Kotta One","Koulen","Kranky","Kreon","Kristi","Krona One","Krub","Kufam","Kulim Park","Kumar One","Kumar One Outline","Kumbh Sans","Kurale","La Belle Aurore","Labrada","Lacquer","Laila","Lakki Reddy","Lalezar","Lancelot","Langar","Lateef","Lato","Lavishly Yours","League Gothic","League Script","League Spartan","Leckerli One","Ledger","Lekton","Lemon","Lemonada","Lexend","Lexend Deca","Lexend Exa","Lexend Giga","Lexend Mega","Lexend Peta","Lexend Tera","Lexend Zetta","Libre Barcode 128","Libre Barcode 128 Text","Libre Barcode 39","Libre Barcode 39 Extended","Libre Barcode 39 Extended Text","Libre Barcode 39 Text","Libre Barcode EAN13 Text","Libre Baskerville","Libre Bodoni","Libre Caslon Display","Libre Caslon Text","Libre Franklin","Licorice","Life Savers","Lilita One","Lily Script One","Limelight","Linden Hill","Lisu Bosa","Literata","Liu Jian Mao Cao","Livvic","Lobster","Lobster Two","Londrina Outline","Londrina Shadow","Londrina Sketch","Londrina Solid","Long Cang","Lora","Love Light","Love Ya Like A Sister","Loved by the King","Lovers Quarrel","Luckiest Guy","Lugrasimo","Lumanosimo","Lunasima","Lusitana","Lustria","Luxurious Roman","Luxurious Script","M PLUS 1","M PLUS 1 Code","M PLUS 1p","M PLUS 2","M PLUS Code Latin","M PLUS Rounded 1c","Ma Shan Zheng","Macondo","Macondo Swash Caps","Mada","Magra","Maiden Orange","Maitree","Major Mono Display","Mako","Mali","Mallanna","Mandali","Manjari","Manrope","Mansalva","Manuale","Marcellus","Marcellus SC","Marck Script","Margarine","Marhey","Markazi Text","Marko One","Marmelad","Martel","Martel Sans","Martian Mono","Marvel","Mate","Mate SC","Material Icons","Material Icons Outlined","Material Icons Round","Material Icons Sharp","Material Icons Two Tone","Material Symbols Outlined","Material Symbols Rounded","Material Symbols Sharp","Maven Pro","McLaren","Mea Culpa","Meddon","MedievalSharp","Medula One","Meera Inimai","Megrim","Meie Script","Meow Script","Merienda","Merienda One","Merriweather","Merriweather Sans","Metal","Metal Mania","Metamorphous","Metrophobic","Michroma","Milonga","Miltonian","Miltonian Tattoo","Mina","Mingzat","Miniver","Miriam Libre","Mirza","Miss Fajardose","Mitr","Mochiy Pop One","Mochiy Pop P One","Modak","Modern Antiqua","Mogra","Mohave","Moirai One","Molengo","Molle","Monda","Monofett","Monomaniac One","Monoton","Monsieur La Doulaise","Montaga","Montagu Slab","MonteCarlo","Montez","Montserrat","Montserrat Alternates","Montserrat Subrayada","Moo Lah Lah","Mooli","Moon Dance","Moul","Moulpali","Mountains of Christmas","Mouse Memoirs","Mr Bedfort","Mr Dafoe","Mr De Haviland","Mrs Saint Delafield","Mrs Sheppards","Ms Madi","Mukta","Mukta Mahee","Mukta Malar","Mukta Vaani","Mulish","Murecho","MuseoModerno","My Soul","Mynerve","Mystery Quest","NTR","Nabla","Nanum Brush Script","Nanum Gothic","Nanum Gothic Coding","Nanum Myeongjo","Nanum Pen Script","Narnoor","Neonderthaw","Nerko One","Neucha","Neuton","New Rocker","New Tegomin","News Cycle","Newsreader","Niconne","Niramit","Nixie One","Nobile","Nokora","Norican","Nosifer","Notable","Nothing You Could Do","Noticia Text","Noto Color Emoji","Noto Emoji","Noto Kufi Arabic","Noto Music","Noto Naskh Arabic","Noto Nastaliq Urdu","Noto Rashi Hebrew","Noto Sans","Noto Sans Adlam","Noto Sans Adlam Unjoined","Noto Sans Anatolian Hieroglyphs","Noto Sans Arabic","Noto Sans Armenian","Noto Sans Avestan","Noto Sans Balinese","Noto Sans Bamum","Noto Sans Bassa Vah","Noto Sans Batak","Noto Sans Bengali","Noto Sans Bhaiksuki","Noto Sans Brahmi","Noto Sans Buginese","Noto Sans Buhid","Noto Sans Canadian Aboriginal","Noto Sans Carian","Noto Sans Caucasian Albanian","Noto Sans Chakma","Noto Sans Cham","Noto Sans Cherokee","Noto Sans Chorasmian","Noto Sans Coptic","Noto Sans Cuneiform","Noto Sans Cypriot","Noto Sans Cypro Minoan","Noto Sans Deseret","Noto Sans Devanagari","Noto Sans Display","Noto Sans Duployan","Noto Sans Egyptian Hieroglyphs","Noto Sans Elbasan","Noto Sans Elymaic","Noto Sans Ethiopic","Noto Sans Georgian","Noto Sans Glagolitic","Noto Sans Gothic","Noto Sans Grantha","Noto Sans Gujarati","Noto Sans Gunjala Gondi","Noto Sans Gurmukhi","Noto Sans HK","Noto Sans Hanifi Rohingya","Noto Sans Hanunoo","Noto Sans Hatran","Noto Sans Hebrew","Noto Sans Imperial Aramaic","Noto Sans Indic Siyaq Numbers","Noto Sans Inscriptional Pahlavi","Noto Sans Inscriptional Parthian","Noto Sans JP","Noto Sans Javanese","Noto Sans KR","Noto Sans Kaithi","Noto Sans Kannada","Noto Sans Kayah Li","Noto Sans Kharoshthi","Noto Sans Khmer","Noto Sans Khojki","Noto Sans Khudawadi","Noto Sans Lao","Noto Sans Lao Looped","Noto Sans Lepcha","Noto Sans Limbu","Noto Sans Linear A","Noto Sans Linear B","Noto Sans Lisu","Noto Sans Lycian","Noto Sans Lydian","Noto Sans Mahajani","Noto Sans Malayalam","Noto Sans Mandaic","Noto Sans Manichaean","Noto Sans Marchen","Noto Sans Masaram Gondi","Noto Sans Math","Noto Sans Mayan Numerals","Noto Sans Medefaidrin","Noto Sans Meetei Mayek","Noto Sans Mende Kikakui","Noto Sans Meroitic","Noto Sans Miao","Noto Sans Modi","Noto Sans Mongolian","Noto Sans Mono","Noto Sans Mro","Noto Sans Multani","Noto Sans Myanmar","Noto Sans NKo","Noto Sans NKo Unjoined","Noto Sans Nabataean","Noto Sans Nag Mundari","Noto Sans Nandinagari","Noto Sans New Tai Lue","Noto Sans Newa","Noto Sans Nushu","Noto Sans Ogham","Noto Sans Ol Chiki","Noto Sans Old Hungarian","Noto Sans Old Italic","Noto Sans Old North Arabian","Noto Sans Old Permic","Noto Sans Old Persian","Noto Sans Old Sogdian","Noto Sans Old South Arabian","Noto Sans Old Turkic","Noto Sans Oriya","Noto Sans Osage","Noto Sans Osmanya","Noto Sans Pahawh Hmong","Noto Sans Palmyrene","Noto Sans Pau Cin Hau","Noto Sans Phags Pa","Noto Sans Phoenician","Noto Sans Psalter Pahlavi","Noto Sans Rejang","Noto Sans Runic","Noto Sans SC","Noto Sans Samaritan","Noto Sans Saurashtra","Noto Sans Sharada","Noto Sans Shavian","Noto Sans Siddham","Noto Sans SignWriting","Noto Sans Sinhala","Noto Sans Sogdian","Noto Sans Sora Sompeng","Noto Sans Soyombo","Noto Sans Sundanese","Noto Sans Syloti Nagri","Noto Sans Symbols","Noto Sans Symbols 2","Noto Sans Syriac","Noto Sans Syriac Eastern","Noto Sans TC","Noto Sans Tagalog","Noto Sans Tagbanwa","Noto Sans Tai Le","Noto Sans Tai Tham","Noto Sans Tai Viet","Noto Sans Takri","Noto Sans Tamil","Noto Sans Tamil Supplement","Noto Sans Tangsa","Noto Sans Telugu","Noto Sans Thaana","Noto Sans Thai","Noto Sans Thai Looped","Noto Sans Tifinagh","Noto Sans Tirhuta","Noto Sans Ugaritic","Noto Sans Vai","Noto Sans Vithkuqi","Noto Sans Wancho","Noto Sans Warang Citi","Noto Sans Yi","Noto Sans Zanabazar Square","Noto Serif","Noto Serif Ahom","Noto Serif Armenian","Noto Serif Balinese","Noto Serif Bengali","Noto Serif Devanagari","Noto Serif Display","Noto Serif Dogra","Noto Serif Ethiopic","Noto Serif Georgian","Noto Serif Grantha","Noto Serif Gujarati","Noto Serif Gurmukhi","Noto Serif HK","Noto Serif Hebrew","Noto Serif JP","Noto Serif KR","Noto Serif Kannada","Noto Serif Khitan Small Script","Noto Serif Khmer","Noto Serif Khojki","Noto Serif Lao","Noto Serif Makasar","Noto Serif Malayalam","Noto Serif Myanmar","Noto Serif NP Hmong","Noto Serif Oriya","Noto Serif Ottoman Siyaq","Noto Serif SC","Noto Serif Sinhala","Noto Serif TC","Noto Serif Tamil","Noto Serif Tangut","Noto Serif Telugu","Noto Serif Thai","Noto Serif Tibetan","Noto Serif Toto","Noto Serif Vithkuqi","Noto Serif Yezidi","Noto Traditional Nushu","Nova Cut","Nova Flat","Nova Mono","Nova Oval","Nova Round","Nova Script","Nova Slim","Nova Square","Numans","Nunito","Nunito Sans","Nuosu SIL","Odibee Sans","Odor Mean Chey","Offside","Oi","Old Standard TT","Oldenburg","Ole","Oleo Script","Oleo Script Swash Caps","Onest","Oooh Baby","Open Sans","Open Sans Condensed","Oranienbaum","Orbit","Orbitron","Oregano","Orelega One","Orienta","Original Surfer","Oswald","Outfit","Over the Rainbow","Overlock","Overlock SC","Overpass","Overpass Mono","Ovo","Oxanium","Oxygen","Oxygen Mono","PT Mono","PT Sans","PT Sans Caption","PT Sans Narrow","PT Serif","PT Serif Caption","Pacifico","Padauk","Padyakke Expanded One","Palanquin","Palanquin Dark","Palette Mosaic","Pangolin","Paprika","Parisienne","Passero One","Passion One","Passions Conflict","Pathway Extreme","Pathway Gothic One","Patrick Hand","Patrick Hand SC","Pattaya","Patua One","Pavanam","Paytone One","Peddana","Peralta","Permanent Marker","Petemoss","Petit Formal Script","Petrona","Philosopher","Phudu","Piazzolla","Piedra","Pinyon Script","Pirata One","Pixelify Sans","Plaster","Play","Playball","Playfair","Playfair Display","Playfair Display SC","Playpen Sans","Plus Jakarta Sans","Podkova","Poiret One","Poller One","Poltawski Nowy","Poly","Pompiere","Pontano Sans","Poor Story","Poppins","Port Lligat Sans","Port Lligat Slab","Potta One","Pragati Narrow","Praise","Prata","Preahvihear","Press Start 2P","Pridi","Princess Sofia","Prociono","Prompt","Prosto One","Proza Libre","Public Sans","Puppies Play","Puritan","Purple Purse","Qahiri","Quando","Quantico","Quattrocento","Quattrocento Sans","Questrial","Quicksand","Quintessential","Qwigley","Qwitcher Grypen","REM","Racing Sans One","Radio Canada","Radley","Rajdhani","Rakkas","Raleway","Raleway Dots","Ramabhadra","Ramaraja","Rambla","Rammetto One","Rampart One","Ranchers","Rancho","Ranga","Rasa","Rationale","Ravi Prakash","Readex Pro","Recursive","Red Hat Display","Red Hat Mono","Red Hat Text","Red Rose","Redacted","Redacted Script","Redressed","Reem Kufi","Reem Kufi Fun","Reem Kufi Ink","Reenie Beanie","Reggae One","Revalia","Rhodium Libre","Ribeye","Ribeye Marrow","Righteous","Risque","Road Rage","Roboto","Roboto Condensed","Roboto Flex","Roboto Mono","Roboto Serif","Roboto Slab","Rochester","Rock 3D","Rock Salt","RocknRoll One","Rokkitt","Romanesco","Ropa Sans","Rosario","Rosarivo","Rouge Script","Rowdies","Rozha One","Rubik","Rubik 80s Fade","Rubik Beastly","Rubik Bubbles","Rubik Burned","Rubik Dirt","Rubik Distressed","Rubik Gemstones","Rubik Glitch","Rubik Iso","Rubik Marker Hatch","Rubik Maze","Rubik Microbe","Rubik Mono One","Rubik Moonrocks","Rubik Pixels","Rubik Puddles","Rubik Spray Paint","Rubik Storm","Rubik Vinyl","Rubik Wet Paint","Ruda","Rufina","Ruge Boogie","Ruluko","Rum Raisin","Ruslan Display","Russo One","Ruthie","Ruwudu","Rye","STIX Two Text","Sacramento","Sahitya","Sail","Saira","Saira Condensed","Saira Extra Condensed","Saira Semi Condensed","Saira Stencil One","Salsa","Sanchez","Sancreek","Sansita","Sansita Swashed","Sarabun","Sarala","Sarina","Sarpanch","Sassy Frass","Satisfy","Sawarabi Gothic","Sawarabi Mincho","Scada","Scheherazade","Scheherazade New","Schibsted Grotesk","Schoolbell","Scope One","Seaweed Script","Secular One","Sedgwick Ave","Sedgwick Ave Display","Sen","Send Flowers","Sevillana","Seymour One","Shadows Into Light","Shadows Into Light Two","Shalimar","Shantell Sans","Shanti","Share","Share Tech","Share Tech Mono","Shippori Antique","Shippori Antique B1","Shippori Mincho","Shippori Mincho B1","Shizuru","Shojumaru","Short Stack","Shrikhand","Siemreap","Sigmar","Sigmar One","Signika","Signika Negative","Silkscreen","Simonetta","Single Day","Sintony","Sirin Stencil","Six Caps","Skranji","Slabo 13px","Slabo 27px","Slackey","Slackside One","Smokum","Smooch","Smooch Sans","Smythe","Sniglet","Snippet","Snowburst One","Sofadi One","Sofia","Sofia Sans","Sofia Sans Condensed","Sofia Sans Extra Condensed","Sofia Sans Semi Condensed","Solitreo","Solway","Sometype Mono","Song Myung","Sono","Sonsie One","Sora","Sorts Mill Goudy","Source Code Pro","Source Sans 3","Source Sans Pro","Source Serif 4","Source Serif Pro","Space Grotesk","Space Mono","Spartan","Special Elite","Spectral","Spectral SC","Spicy Rice","Spinnaker","Spirax","Splash","Spline Sans","Spline Sans Mono","Squada One","Square Peg","Sree Krushnadevaraya","Sriracha","Srisakdi","Staatliches","Stalemate","Stalinist One","Stardos Stencil","Stick","Stick No Bills","Stint Ultra Condensed","Stint Ultra Expanded","Stoke","Strait","Style Script","Stylish","Sue Ellen Francisco","Suez One","Sulphur Point","Sumana","Sunflower","Sunshiney","Supermercado One","Sura","Suranna","Suravaram","Suwannaphum","Swanky and Moo Moo","Syncopate","Syne","Syne Mono","Syne Tactile","Tai Heritage Pro","Tajawal","Tangerine","Tapestry","Taprom","Tauri","Taviraj","Teko","Tektur","Telex","Tenali Ramakrishna","Tenor Sans","Text Me One","Texturina","Thasadith","The Girl Next Door","The Nautigal","Tienne","Tillana","Tilt Neon","Tilt Prism","Tilt Warp","Timmana","Tinos","Tiro Bangla","Tiro Devanagari Hindi","Tiro Devanagari Marathi","Tiro Devanagari Sanskrit","Tiro Gurmukhi","Tiro Kannada","Tiro Tamil","Tiro Telugu","Titan One","Titillium Web","Tomorrow","Tourney","Trade Winds","Train One","Trirong","Trispace","Trocchi","Trochut","Truculenta","Trykker","Tsukimi Rounded","Tulpen One","Turret Road","Twinkle Star","Ubuntu","Ubuntu Condensed","Ubuntu Mono","Uchen","Ultra","Unbounded","Uncial Antiqua","Underdog","Unica One","UnifrakturCook","UnifrakturMaguntia","Unkempt","Unlock","Unna","Updock","Urbanist","VT323","Vampiro One","Varela","Varela Round","Varta","Vast Shadow","Vazirmatn","Vesper Libre","Viaoda Libre","Vibes","Vibur","Victor Mono","Vidaloka","Viga","Vina Sans","Voces","Volkhov","Vollkorn","Vollkorn SC","Voltaire","Vujahday Script","Waiting for the Sunrise","Wallpoet","Walter Turncoat","Warnes","Water Brush","Waterfall","Wavefont","Wellfleet","Wendy One","Whisper","WindSong","Wire One","Wix Madefor Display","Wix Madefor Text","Work Sans","Xanh Mono","Yaldevi","Yanone Kaffeesatz","Yantramanav","Yatra One","Yellowtail","Yeon Sung","Yeseva One","Yesteryear","Yomogi","Young Serif","Yrsa","Ysabeau","Ysabeau Infant","Ysabeau Office","Ysabeau SC","Yuji Boku","Yuji Hentaigana Akari","Yuji Hentaigana Akebono","Yuji Mai","Yuji Syuku","Yusei Magic","ZCOOL KuaiLe","ZCOOL QingKe HuangYou","ZCOOL XiaoWei","Zen Antique","Zen Antique Soft","Zen Dots","Zen Kaku Gothic Antique","Zen Kaku Gothic New","Zen Kurenaido","Zen Loop","Zen Maru Gothic","Zen Old Mincho","Zen Tokyo Zoo","Zeyada","Zhi Mang Xing","Zilla Slab","Zilla Slab Highlight"],mB=["Arial","Impact","Comic Sans MS","Bebas Neue","Georgia","Raleway","Nunito","Times New Roman","Lato","Roboto Mono","Roboto Slab","Libre Baskerville","Dancing Script","Fredoka One","Sacramento","Luckiest Guy","Orbitron","Satisfy","Permanent Marker","Playfair Display","Noto Sans","Amatic SC","Days One","Rock Salt","New Rocker","Passion One","Indie Flower","Quicksand","Shadows Into Light","Source Code Pro","Aladin","Calligraffitti","Trebuchet MS","Courier New","Montserrat","Proxima Nova SemiBold"],gB={"B Koodak":"BKoodak.ttf","B Titr":"BTitr.ttf",Nazanin:"Nazanin.ttf","Noto Kufi Arabic":"NotoKufiArabic-Regular.ttf","Noto Naskh Arabic":"NotoNaskhArabicUI-Regular.ttf","Noto Sans Arabic":"NotoSansArabic-Regular.ttf",Yekan:"Yekan.ttf","The Bold Font":"TheBoldFont.ttf","Proxima Nova":"ProximaNova-Regular.ttf","Proxima Nova Light":"ProximaNova-Light.ttf","Proxima Nova Thin":"ProximaNovaT-Thin.ttf","Proxima Nova SemiBold":"ProximaNova-Semibold.ttf","Proxima Nova Black":"ProximaNova-Black.ttf","Proxima Nova Extra Bold":"ProximaNova-Extrabld.ttf","Comic Sans MS":"ComicSans.ttf"},hB=Object.keys(gB),vB=new Set(["Arial","Impact","Georgia","Times New Roman","Trebuchet MS","Courier New"]),fB=[...new Set([...mB,...pB,...hB])].sort(),bB=new Set(pB),yB={};vB.forEach((e=>{yB[e]="success"}));const wB=m({initialState:yB,name:"loadedFonts",reducers:{updateFontLoadStatuses:(e,t)=>{for(const{font:a,status:n}of t.payload)e[a]=n}}}),{updateFontLoadStatuses:_B}=wB.actions;function CB(e,t,a,n){const s=n,o=e.find((e=>e[s]===t));if(!o)return console.error("moveToNdx: src not found"),e;let i=!0;const r=[];return e.forEach(((e,n)=>{e[s]!==t?n!==a?r.push(e):i?(r.push(o),r.push(e)):(r.push(e),r.push(o)):i=!1})),r}function SB(e,t,a){return CB(e,t,a,"presetId")}function xB(e,t,a){return SB(e,t,a)}function IB(e,t,a){return SB(e,t,a)}function AB(e,t,a){return CB(e,t,a,"templateId")}const kB={brandkitPresets:[],customPreset:null,lastExportedPresets:[],presets:Dw,removedDefaultPresetIds:[],usedPresetIds:[]},TB="custom";const EB=e=>{const{removedDefaultPresetIds:t=[],lastExportedPresets:a=[],usedPresetIds:n=[]}=e;let{presets:s=[]}=e;return s=Bw(s),s=((e,t)=>{const a=new Set;e.forEach((e=>{a.add(e.presetId)}));let n=!1;for(const i of Dw){const e=a.has(i.presetId),s=t.includes(i.presetId);if(!e&&!s){n=!0;break}}if(!n)return e;let s=0;const o=e.filter((e=>!Uw(e)));return Dw.forEach((e=>{t.includes(e.presetId)||(o.splice(s,0,e),s+=1)})),o})(s,t),s=function(e){const t=[],a=new Set;return e.forEach((e=>{a.has(e.presetId)||(a.add(e.presetId),t.push(e))})),t}(s),{presets:s,removedDefaultPresetIds:t,lastExportedPresets:Bw(a).slice(0,20),usedPresetIds:n}},LB=m({name:"magicSubtitlePresets",initialState:kB,reducers:{setSubtitlePresets:(e,t)=>{const{presets:a,undoable:n}=t.payload;if(n){const n={type:t.type,payload:{presets:e.presets,undoable:!1}},s={type:t.type,payload:{presets:a,undoable:!1}};PU.add({undo:n,redo:s})}e.presets=a;const s=new Set(a.map((({presetId:e})=>e)));e.lastExportedPresets=e.lastExportedPresets.filter((({presetId:e,teamId:t})=>!!t||s.has(e)))},setSubtitleBrandkitPresets:(e,t)=>{const{brandkitPresets:a,undoable:n}=t.payload;if(n){const n={type:t.type,payload:{brandkitPresets:e.brandkitPresets,undoable:!1}},s={type:t.type,payload:{brandkitPresets:a,undoable:!1}};PU.add({undo:n,redo:s})}e.brandkitPresets=a},setSubtitlePresetTitle:(e,t)=>{const{presetId:a,title:n,undoable:s}=t.payload;if(s){const s=e.presets.find((e=>e.presetId===a)),o={type:t.type,payload:{presetId:a,title:(null==s?void 0:s.title)||"",undoable:!1}},i={type:t.type,payload:{presetId:a,title:n,undoable:!1}};PU.add({undo:o,redo:i})}const o=e=>e.presetId===a?{...e,title:n}:e;e.presets=e.presets.map(o),e.brandkitPresets=e.brandkitPresets.map(o),e.lastExportedPresets=e.lastExportedPresets.map(o)},addSubtitlePreset:(e,t)=>{const{preset:a,index:n,undoable:s}=t.payload;if(s){const e={type:"magicSubtitlePresets/removeSubtitlePreset",payload:{presetId:a.presetId,undoable:!1}},s={type:t.type,payload:{preset:a,index:n,undoable:!1}};PU.add({undo:e,redo:s})}void 0!==n?e.presets.splice(n,0,a):e.presets.push(a)},moveSubtitlePreset:(e,t)=>{const{srcPresetId:a,dstPresetId:n,undoable:s}=t.payload;if(s){const s={type:"magicSubtitlePresets/setSubtitlePresets",payload:{presets:e.presets,undoable:!1}},o={type:t.type,payload:{srcPresetId:a,dstPresetId:n,undoable:!1}};PU.add({undo:s,redo:o})}if(void 0===e.presets.find((({presetId:e})=>e===a)))return void console.error("Cannot moveSubtitlePreset, srcPreset is undefined");const o=e.presets.findIndex((({presetId:e})=>e===n));-1!==o?e.presets=xB(e.presets,a,o):console.error("Cannot moveSubtitlePreset, dstPresetId is not found")},removeSubtitlePreset:(e,t)=>{const{presetId:a,undoable:n}=t.payload,s=e.presets.findIndex((e=>e.presetId===a)),o=e.presets[s];if(n&&o){const e={type:"magicSubtitlePresets/addSubtitlePreset",payload:{preset:o,index:s,undoable:!1}},n={type:t.type,payload:{presetId:a,undoable:!1}};PU.add({undo:e,redo:n})}o&&Uw(o)&&(e.removedDefaultPresetIds||(e.removedDefaultPresetIds=[]),e.removedDefaultPresetIds.push(a));const i=e=>e&&e.presetId&&e.presetId!==a;e.presets=e.presets.filter(i),e.lastExportedPresets=e.lastExportedPresets.filter(i)},addSubtitleBrandkitPreset:(e,t)=>{const{preset:a,index:n}=t.payload;void 0!==n?e.brandkitPresets.splice(n,0,a):e.brandkitPresets.push(a)},moveSubtitleBrandkitPreset:(e,t)=>{const{srcPresetId:a,dstPresetId:n}=t.payload;if(void 0===e.brandkitPresets.find((({presetId:e})=>e===a)))return void console.error("Cannot moveSubtitleBrandkitPreset, srcPreset is undefined");const s=e.brandkitPresets.findIndex((({presetId:e})=>e===n));-1!==s?e.brandkitPresets=xB(e.brandkitPresets,a,s):console.error("Cannot moveSubtitleBrandkitPreset, dstPresetId is not found")},removeSubtitleBrandkitPreset:(e,t)=>{const{presetId:a}=t.payload,n=e=>e&&e.presetId&&e.presetId!==a;e.brandkitPresets=e.brandkitPresets.filter(n),e.lastExportedPresets=e.lastExportedPresets.filter(n)},saveSubtitlePresetOnExport:(e,t)=>{const{preset:a}=t.payload,n=e=>e&&e.presetId&&e.presetId!==a.presetId;e.presets=[a,...e.presets.filter(n)],e.lastExportedPresets=[a,...e.lastExportedPresets.filter(n)]},setSubtitleCustomPreset:(e,t)=>{const a=t.payload;e.customPreset=a},addUsedPresetId:(e,t)=>{const a=t.payload,n=e.usedPresetIds||[];n.includes(a)||(e.usedPresetIds=[...n,a])}},extraReducers:e=>e.addDefaultCase(((e,t)=>{switch(t.type){case"RESET_STUDIO":case"RESET_STATE_PRESERVE_USER":return{...kB,...EB(e)};default:return e}}))}),{setSubtitleCustomPreset:jB,setSubtitlePresets:RB,setSubtitleBrandkitPresets:NB,setSubtitlePresetTitle:MB,addSubtitlePreset:PB,moveSubtitlePreset:DB,removeSubtitlePreset:OB,addSubtitleBrandkitPreset:UB,moveSubtitleBrandkitPreset:BB,removeSubtitleBrandkitPreset:WB,saveSubtitlePresetOnExport:VB}=LB.actions;var HB=(e=>(e.LandingPage="LandingPage",e.Onboarding="Onboarding",e.RepurposeOnboarding="RepurposeOnboarding",e.StudioRelatedLayersCopyPastePropertiesTour="StudioRelatedLayersCopyPastePropertiesTour",e.DubbingLipSync="DubbingLipSync",e.StudioSearchOverlay="StudioSearchOverlay",e.Unknown="Unknown",e))(HB||{}),zB=(e=>(e.Studio_Subtitles_SmartTools_Translate="Studio_Subtitles_SmartTools_Translate",e.Studio_Subtitles_SmartTools_TranslateAudio="Studio_Subtitles_SmatTools_TranslateAudio",e.Studio_UploadAFile="Studio_UploadAFile",e.Studio_DubVideo="Studio_DubVideo",e.Studio_DubVideoSidebar="Studio_DubVideoSidebar",e.Studio_LipSync="Studio_LipSync",e.Studio_BottomRight_Intro="Studio_BottomRight_Intro",e.Studio_LayerContextMenu_CopyProperties="Studio_LayerContextMenu_CopyProperties",e.Studio_Layer_OpenContextMenu="Studio_Layer_OpenContextMenu",e.Studio_LayerContextMenu_SelectRelatedLayers="Studio_LayerContextMenu_SelectRelatedLayers",e.Studio_LayerContextMenu_PasteProperties="Studio_LayerContextMenu_PasteProperties",e))(zB||{}),GB=(e=>(e.Dubbing="Dubbing",e.DubbingLipSync="DubbingLipSync",e.LipSync="LipSync",e.StudioRelatedLayersCopyPasteProperties="StudioRelatedLayersCopyPasteProperties",e.LoopVideo="LoopVideo",e.LoopAudio="LoopAudio",e.StopMotion="StopMotion",e))(GB||{});function YB(e){return e in GB}const KB={Dubbing:[{step:"Studio_UploadAFile",title:"Dubbing",description:"Upload the video or audio file youd like to translate",size:"small"},{step:"Studio_DubVideoSidebar",title:"Dubbing",description:"Open the subtitles sidebar to access Dubbing",size:"small"},{step:"Studio_DubVideo",title:"Dubbing",description:"Click here to kick off the Dubbing flow",size:"small"}],LipSync:[{step:"Studio_UploadAFile",title:"Lip Sync",description:"Upload the video or audio file youd like to translate. After your video has been dubbed you can choose to apply Lip Sync.",size:"small"},{step:"Studio_DubVideoSidebar",title:"Lip Sync",description:"Open the subtitles sidebar to access Dubbing. After your video has been dubbed you can choose to apply Lip Sync.",size:"small"},{step:"Studio_DubVideo",title:"Lip Sync",description:"Click here to kick off the Dubbing flow. After your video has been dubbed you can choose to apply Lip Sync.",size:"small"}],DubbingLipSync:[{step:"Studio_LipSync",title:"Add Lip Sync to your dub",description:"Make your dub look realistic with AI-powered lip syncing that matches the speaker's lip movements to the audio.",size:"small"}],StudioRelatedLayersCopyPasteProperties:[{step:"Studio_BottomRight_Intro",title:"Copy and paste your edits instantly",description:"Speed up your workflow by copying the edits youve made to one layer and applying them to other layers in one go.",media:{type:"image",src:"https://cdn-useast1.kapwing.com/static/1ZN-copy_paste_modifications_gif_v3_V1.webp"},buttons:{confirmText:"Try it",declineText:"Maybe Later",enabled:!0}},{step:"Studio_LayerContextMenu_CopyProperties",title:"First, copy your edits...",description:"Click Copy Properties to copy the crop and other attributes of this layer.",buttons:{enabled:!0}},{step:"Studio_LayerContextMenu_SelectRelatedLayers",title:"Then, select related layers",description:"Use this command or select the layers you want to copy the properties to in the timeline.",buttons:{enabled:!0}},{step:"Studio_Layer_OpenContextMenu",title:"Then, right click the selected layers",description:"Right click on the selected layers to open the command menu.",buttons:{enabled:!0},conditionalDataOverride:{noPopover:{title:void 0,description:void 0,withRainbowBorder:!0}}},{step:"Studio_LayerContextMenu_PasteProperties",title:"And finally, paste your edits",description:"Click Paste Properties to apply the crop from your original clip to the selected layers.",buttons:{enabled:!0}}],LoopVideo:[{step:"Studio_UploadAFile",title:"Upload a clip to loop",description:"First, upload your video or audio file. Then, copy and paste the layer in the timeline to loop it.",size:"small"},{step:"Studio_BottomRight_Intro",title:"Create a Looped Video in Kapwing",description:"Loop your video in just a few clicks by copying and pasting your clip in the timeline. Check out our full tutorial for step-by-step instructions.",media:{type:"video",src:"https://cdn-useast1.kapwing.com/removeBg/Fwy-Loop_Tutorial.mov_V1_(1).mp4"},buttons:{confirmText:"Learn more",declineText:"Maybe Later",enabled:!0}}],LoopAudio:[{step:"Studio_UploadAFile",title:"Upload a clip to loop",description:"First, upload your video or audio file. Then, copy and paste the layer in the timeline to loop it.",size:"small"},{step:"Studio_BottomRight_Intro",title:"Create a Looped Audio in Kapwing",description:"Loop your audio in just a few clicks by copying and pasting your clip in the timeline. Check out our full tutorial for step-by-step instructions.",media:{type:"video",src:"https://cdn-useast1.kapwing.com/removeBg/Fwy-Loop_Tutorial.mov_V1_(1).mp4"},buttons:{confirmText:"Learn more",declineText:"Maybe Later",enabled:!0}}],StopMotion:[{step:"Studio_UploadAFile",title:"Upload a clip to apply stop motion",description:"First, upload your video or audio file. Then, use Freeze Frame to add still frames to create the stop motion effect.",size:"small"},{step:"Studio_BottomRight_Intro",title:"Create a Stop Motion Video in Kapwing",description:"Use the Freeze Frame feature in the Timing tab to create your stop motion video. Check out our full tutorial for step-by-step instructions.",media:{type:"video",src:"https://cdn-useast1.kapwing.com/removeBg/jly-Basic_Stop_Motion_Tutorial.mov_V1-(1).mp4"},buttons:{confirmText:"Learn more",declineText:"Maybe Later",enabled:!0}}]},XB={LoopVideo:"Loop Video",LoopAudio:"Loop Audio",StopMotion:"Stop Motion"},ZB={isOpen:!1,tour:GB.Dubbing,currentStep:0,source:HB.Unknown},qB=m({initialState:ZB,name:"studioTour",reducers:{setCurrentStep:(e,t)=>{e.currentStep=t.payload},setIsOpen:(e,t)=>{e.isOpen=t.payload},setTour:(e,t)=>{e.tour=t.payload},setSource:(e,t)=>{e.source=t.payload},reset:()=>ZB}}),JB=qB.actions,$B={byId:{},all:[],loaded:!1},QB=m({initialState:{},name:"teamBlueprints",reducers:{setLoaded:(e,t)=>{const{teamId:a,loaded:n}=t.payload;e[a]||(e[a]={...$B}),e[a].loaded=n},upsert:(e,t)=>{t.payload.forEach((t=>{const{teamId:a}=t,n=e[a]||{...$B};n.byId[t._id]=t;const s=n.all.findIndex((e=>e._id===t._id));s>-1?n.all[s]=t:n.all.unshift(t),n.all=n.all.sort(((e,t)=>Number(new Date(t.createdAt))-Number(new Date(e.createdAt)))),e[a]=n}))},delete:(e,t)=>{const{blueprintId:a,teamId:n}=t.payload,s=e[n]||{...$B};s.all=s.all.filter((e=>e._id!==a)),delete s.byId[a],e[n]=s}}}),eW=QB.actions,tW={fontFamily:"Montserrat",fontWeight:"normal",textAlign:"center",textTransform:"none",textShadow:KN,color:"#ffffff",backgroundColor:"black",textPadding:12.5,wrapOrFill:"wrap",borderRadius:{relative:"25%"},underline:!1,italic:!1,globalAlpha:1,lineHeight:1},aW={presetId:"OLIVE",style:{...tW,fontFamily:"Source Code Pro",backgroundColor:"#6F8F72",textShadow:"#000000"},title:"Olive"},nW={presetId:"THREE_D",style:{...tW,fontFamily:"Bebas Neue",backgroundColor:KN,color:"#53E4DC",textShadow:"#000000",textEffect:"dropShadow",textShadowBlur:0,textShadowDist:.11,textShadowRot:45,textEffectColor:"#FF005C",textTransform:"uppercase"},title:"3D"},sW={presetId:"CLASSIC",style:{...tW,color:"#000000",backgroundColor:"#FFFFFF"},title:"Classic"},oW={presetId:"BLURRY",style:{...tW,fontFamily:"Bebas Neue",color:"#FFFFFF",backgroundColor:KN,textEffect:"textBlur",textShadowBlur:0,textShadowDist:.25,textShadowRot:69,textEffectColor:"#FFEA00",textBlur:.5,textTransform:"uppercase"},title:"Blurry"},iW={presetId:"HANDWRITING",style:{...tW,fontFamily:"Dancing Script",color:"#D23E3E",backgroundColor:"#FFDCDC"},title:"Handwriting 2"},rW={presetId:"MUTANT",style:{...tW,fontFamily:"Impact",color:"#A3FF78",backgroundColor:KN,textBlur:.2,textShadowBlur:.35,textShadowDist:.07,textShadowRot:35,textEffect:"dropShadow",textEffectColor:"#A3FF78"},title:"Mutant"},lW={presetId:"TYPEWRITER",style:{...tW,fontFamily:"Courier New",color:"#000000",backgroundColor:"#FFFFFF"},title:"Typewriter 2"},dW={presetId:"ARCADE",style:{...tW,fontFamily:"Permanent Marker",backgroundColor:KN,color:"#FFE279",textShadow:"#000000",textEffect:"dropShadow",textShadowBlur:0,textShadowDist:.15,textShadowRot:45,textEffectColor:"#E05353",textTransform:"uppercase"},title:"Arcade 2"},cW={presetId:"HARDCORE",style:{...tW,fontFamily:"New Rocker",borderRadius:{relative:"0%"}},title:"Hardcore"},uW={presetId:"PLAYFUL",style:{...tW,fontFamily:"Amatic SC",backgroundColor:"#93518C",textTransform:"uppercase"},title:"Playful"},pW={presetId:"BOLD",style:{...tW,fontFamily:"Passion One",backgroundColor:"#0047FF",borderRadius:{relative:"0%"}},title:"Bold"},mW={presetId:"CLEAN",style:{...tW,fontFamily:"Quicksand",backgroundColor:"#622424",borderRadius:{relative:"0%"}},title:"Clean"},gW={presetId:"INDIE",style:{...tW,fontFamily:"Indie Flower",backgroundColor:"#FFF5E9",color:"#794718"},title:"Indie"},hW={presetId:"FORMAL",style:{...tW,fontFamily:"Times New Roman"},title:"Formal"},vW={presetId:"GOOFY",style:{...tW,fontFamily:"Luckiest Guy",backgroundColor:"#F25D37",color:"#FFFFFF",borderRadius:{relative:"0%"},textPadding:20,textTransform:"uppercase"},title:"Goofy"},fW={presetId:"STRONG",style:{...tW,fontFamily:"Impact",backgroundColor:"#D23E3E",color:"#FFFFFF",borderRadius:{relative:"0%"}},title:"Strong"},bW={presetId:"FRESH",style:{...tW,fontFamily:"Georgia",backgroundColor:"#E7FBFF",color:"#174560",borderRadius:{relative:"0%"}},title:"Fresh"},yW={presetId:"BUBBLE_GUM",style:{...tW,fontFamily:"Georgia",backgroundColor:"#FF66A6",color:"#FFFFFF",borderRadius:{relative:"50%"},textPadding:20},title:"Bubble Gum"},wW={presetId:"CONSOLE",style:{...tW,fontFamily:"Source Code Pro",backgroundColor:"#000000",color:"#3EFF51",borderRadius:{relative:"0%"}},title:"Console"},_W={presetId:"EARTH_TONED",style:{...tW,fontFamily:"Playfair Display",backgroundColor:"#CCDEBF",color:"#3D6422",borderRadius:{relative:"0%"}},title:"Earth Toned"},CW={presetId:"MEME",style:{...tW,fontFamily:"Impact",backgroundColor:KN,color:"#FFFFFF",textShadow:"#000000"},title:"Meme"},SW={presetId:"COMIC",style:{...tW,fontFamily:"Comic Sans MS",backgroundColor:"#FFE279",color:"#000000"},title:"Comic"},xW={presetId:"GRAFITTI",style:{...tW,fontFamily:"Permanent Marker",backgroundColor:"#C5E6FF",color:"#21A2FF",borderRadius:{relative:"0%"},textTransform:"uppercase"},title:"Grafitti"},IW={presetId:"YELLOW",style:{...tW,backgroundColor:"rgba(-255,-255,-255,0)",fontFamily:"Jost",hasCustomFont:!1,fontWeight:"bold",textAlign:"left",textTransform:"none",textShadow:"transparent",color:"#FFF731",textEffect:"dropShadow",textEffectColor:"#000000",textPadding:12.5,wrapOrFill:"wrap",textShadowBlur:.1,textShadowDist:.08,textShadowRot:45,borderRadius:{relative:"25%"},underline:!1,italic:!1,globalAlpha:1,lineHeight:1},title:"Yellow"},AW={presetId:"RETRO",style:{...tW,backgroundColor:"rgba(-255,-255,-255,0)",fontFamily:"Bevan",hasCustomFont:!1,fontWeight:"normal",textAlign:"left",textTransform:"none",textShadow:"transparent",color:"#FFFDF5",textEffectColor:"rgba(-255,-255,-255,0)",textPadding:18.75,wrapOrFill:"fill",textShadowBlur:.5,textShadowDist:.08,textShadowRot:45,borderRadius:{relative:"12.5%"},underline:!1,italic:!1,globalAlpha:1,lineHeight:1},title:"Retro 2"},kW={presetId:"NEW_DEFAULT",title:"Default",style:{...tW,backgroundColor:"rgba(0,0,0,0.8)",fontFamily:"Montserrat",hasCustomFont:!1,fontWeight:"bold",textAlign:"center",textTransform:"none",textShadow:"transparent",color:"#FFFFFF",textPadding:14.25,wrapOrFill:"wrap",borderRadius:{relative:"16%"},underline:!1,italic:!1,globalAlpha:1,lineHeight:1},checkIfSeenByUser:!0},TW={presetId:"DARK_OUTLINE",title:"Dark Outline",style:{...tW,backgroundColor:"rgba(-255,-255,-255,0)",fontFamily:"Lexend Deca",hasCustomFont:!1,fontWeight:"bold",textAlign:"center",textTransform:"none",textOutline:{color:"#000000",width:23},color:"#FFFFFF",textBlur:0,textEffect:"dropShadow",textEffectColor:"#000000",textPadding:25,wrapOrFill:"wrap",textShadowBlur:.02,textShadowDist:.13,textShadowRot:45,borderRadius:{relative:"16.5%"},underline:!1,italic:!1,globalAlpha:1,lineHeight:1},checkIfSeenByUser:!0},EW={presetId:"PRIME",title:"Prime",style:{...tW,backgroundColor:"rgba(-255,-255,-255,0)",fontFamily:"The Bold Font",hasCustomFont:!1,fontWeight:"bold",textAlign:"center",textTransform:"none",textOutline:{color:"#000000",width:37},color:"#FFFFFF",textBlur:0,textEffect:"dropShadow",textEffectColor:"#000000",textPadding:25,wrapOrFill:"wrap",textShadowBlur:.34,textShadowDist:.17,textShadowRot:45,borderRadius:{relative:"16.5%"},underline:!1,italic:!1,globalAlpha:1,lineHeight:1},checkIfSeenByUser:!0},LW={presetId:"SPOKEN",title:"Spoken",style:{...tW,backgroundColor:"rgba(-255,-255,-255,0)",fontFamily:"Lexend Deca",hasCustomFont:!1,fontWeight:"bold",textAlign:"center",textTransform:"none",textOutline:{color:"rgba(-255,-255,-255,0)",width:29},color:"#FFFFFF",textBlur:0,textEffect:"dropShadow",textEffectColor:"#000000",textPadding:25,wrapOrFill:"wrap",textShadowBlur:.25,textShadowDist:.09,textShadowRot:45,borderRadius:{relative:"16.5%"},underline:!1,italic:!1,globalAlpha:1,lineHeight:1},checkIfSeenByUser:!0},jW={presetId:"HEADLINE",title:"Headline",style:{...tW,backgroundColor:"rgba(-255,-255,-255,0)",fontFamily:"Bebas Neue",hasCustomFont:!1,fontWeight:"bold",textAlign:"center",textTransform:"none",textOutline:{color:"#000000",width:29},color:"#FFFFFF",textBlur:0,textEffect:"dropShadow",textEffectColor:"#000000",textPadding:25,wrapOrFill:"wrap",textShadowBlur:.14,textShadowDist:.09,textShadowRot:45,borderRadius:{relative:"16.5%"},underline:!1,italic:!1,globalAlpha:1,lineHeight:1},checkIfSeenByUser:!0},RW={presetId:"SERIF_2",title:"Serif 2",style:{...tW,backgroundColor:"rgba(-255,-255,-255,0)",fontFamily:"Crimson Text",hasCustomFont:!1,fontWeight:"bold",textAlign:"center",textTransform:"none",textOutline:{color:"rgba(-255,-255,-255,0)",width:29},color:"#FFFFFF",textBlur:0,textEffect:"dropShadow",textEffectColor:"#000000",textPadding:25,wrapOrFill:"wrap",textShadowBlur:.14,textShadowDist:.09,textShadowRot:45,borderRadius:{relative:"16.5%"},underline:!1,italic:!1,globalAlpha:1,lineHeight:1},checkIfSeenByUser:!0},NW={presetId:"KYOTO",title:"Kyoto",style:{...tW,backgroundColor:"rgba(-255,-255,-255,0)",fontFamily:"Gaegu",hasCustomFont:!1,fontWeight:"bold",textAlign:"center",textTransform:"none",textOutline:{color:"rgba(-255,-255,-255,0)",width:29},color:"#FFFFFF",textBlur:0,textEffect:"dropShadow",textEffectColor:"#000000",textPadding:25,wrapOrFill:"wrap",textShadowBlur:.14,textShadowDist:.09,textShadowRot:45,borderRadius:{relative:"16.5%"},underline:!1,italic:!1,globalAlpha:1,lineHeight:1},checkIfSeenByUser:!0},MW={presetId:"LIGHT_MODE",title:"Light Mode",style:{...tW,backgroundColor:"rgba(255,255,255,1)",fontFamily:"Montserrat",hasCustomFont:!1,fontWeight:"bold",textAlign:"center",textTransform:"none",textOutline:{color:"rgba(-255,-255,-255,0)",width:29},color:"#000000",textBlur:0,textEffectColor:"rgba(-255,-255,-255,0)",textPadding:25,wrapOrFill:"wrap",textShadowBlur:.14,textShadowDist:.21,textShadowRot:45,borderRadius:{relative:"16.5%"},underline:!1,italic:!1,globalAlpha:1,lineHeight:1},checkIfSeenByUser:!0},PW={presetId:"DARK_MODE",title:"Dark Mode",style:{...tW,backgroundColor:"rgba(0, 0, 0, 1)",fontFamily:"Montserrat",hasCustomFont:!1,fontWeight:"bold",textAlign:"center",textTransform:"none",textOutline:{color:"rgba(-255,-255,-255,0)",width:29},color:"#FFFFFF",textBlur:0,textEffectColor:"rgba(-255,-255,-255,0)",textPadding:25,wrapOrFill:"wrap",textShadowBlur:.14,textShadowDist:.21,textShadowRot:45,borderRadius:{relative:"16.5%"},underline:!1,italic:!1,globalAlpha:1,lineHeight:1},checkIfSeenByUser:!0},FW={presetId:"REVEL",title:"Revel",style:{...tW,backgroundColor:"rgba(255,255,255,1)",fontFamily:"Inter",hasCustomFont:!1,fontWeight:"bold",textAlign:"center",textTransform:"none",textOutline:{color:"rgba(-255,-255,-255,0)",width:29},color:"#000000",textBlur:0,textEffectColor:"rgba(-255,-255,-255,0)",textPadding:25,wrapOrFill:"wrap",textShadowBlur:.14,textShadowDist:.21,textShadowRot:45,borderRadius:{relative:"16.5%"},underline:!1,italic:!1,globalAlpha:1,lineHeight:1},checkIfSeenByUser:!0},DW={presetId:"DARK_LOFI",title:"Dark Lofi",style:{...tW,backgroundColor:"rgba(0,0,0,0.3)",fontFamily:"Alata",hasCustomFont:!1,fontWeight:"normal",textAlign:"center",textTransform:"none",textOutline:{color:"rgba(-255,-255,-255,0)",width:29},color:"#FFFFFF",textBlur:0,textEffectColor:"rgba(-255,-255,-255,0)",textPadding:25,wrapOrFill:"wrap",textShadowBlur:.14,textShadowDist:.21,textShadowRot:45,borderRadius:{relative:"16.5%"},underline:!1,italic:!1,globalAlpha:1,lineHeight:1},checkIfSeenByUser:!0},OW={presetId:"NEAT",title:"Neat",style:{...tW,backgroundColor:"#FFFFFF",fontFamily:"Crimson Text",hasCustomFont:!1,fontWeight:"normal",textAlign:"center",textTransform:"none",textOutline:{color:"rgba(-255,-255,-255,0)",width:29},color:"#000000",textBlur:0,textEffectColor:"rgba(-255,-255,-255,0)",textPadding:25,wrapOrFill:"wrap",textShadowBlur:.14,textShadowDist:.21,textShadowRot:45,borderRadius:{relative:"0%"},underline:!1,italic:!1,globalAlpha:1,lineHeight:1},checkIfSeenByUser:!0},UW={presetId:"SWIFT",title:"Swift",style:{...tW,backgroundColor:"rgba(-255,-255,-255,0)",fontFamily:"Paytone One",hasCustomFont:!1,fontWeight:"bold",textAlign:"center",textTransform:"none",textOutline:{color:"#000000",width:29},color:"#FFFFFF",textBlur:0,textEffect:"dropShadow",textEffectColor:"#000000",textPadding:25,wrapOrFill:"wrap",textShadowBlur:.14,textShadowDist:.21,textShadowRot:45,borderRadius:{relative:"25%"},underline:!1,italic:!0,globalAlpha:1,lineHeight:1},checkIfSeenByUser:!0},BW={presetId:"POINTED",title:"Pointed",style:{...tW,backgroundColor:"rgba(-255,-255,-255,0)",fontFamily:"Lexend Deca",hasCustomFont:!1,fontWeight:"bold",textAlign:"center",textTransform:"none",textOutline:{color:"#000000",width:29},color:"#FFEA00",textBlur:0,textEffect:"dropShadow",textEffectColor:"#000000",textPadding:25,wrapOrFill:"wrap",textShadowBlur:.02,textShadowDist:.16,textShadowRot:45,borderRadius:{relative:"25%"},underline:!1,italic:!1,globalAlpha:1,lineHeight:1},checkIfSeenByUser:!0},WW={presetId:"CHILL",title:"Chill",style:{...tW,backgroundColor:"rgba(-255,-255,-255,0)",fontFamily:"Carter One",hasCustomFont:!1,fontWeight:"bold",textAlign:"center",textTransform:"none",textOutline:{color:"#000000",width:29},color:"#FFFFFF",textBlur:0,textEffect:"dropShadow",textEffectColor:"#000000",textPadding:25,wrapOrFill:"wrap",textShadowBlur:.02,textShadowDist:.16,textShadowRot:45,borderRadius:{relative:"25%"},underline:!1,italic:!1,globalAlpha:1,lineHeight:1},checkIfSeenByUser:!0},VW={presetId:"ELECTRIC",title:"Electric",style:{...tW,backgroundColor:"rgba(-255,-255,-255,0)",textPadding:25,wrapOrFill:"wrap",borderRadius:{relative:"29%"},color:"#FFFFFF",fontFamily:"The Bold Font",fontWeight:"normal",lineHeight:1.2,textAlign:"center",textTransform:"none",textShadow:"transparent",underline:!1,italic:!1,textEffect:"dropShadow",textEffectColor:"#000000",textShadowBlur:0,textShadowDist:.14,textShadowRot:45,textOutline:{color:"#000000",width:31}},checkIfSeenByUser:!0},HW={presetId:"BUBBLY",title:"Bubbly",style:{...tW,backgroundColor:"rgba(-255,-255,-255,0)",fontFamily:"Fredoka One",hasCustomFont:!1,fontWeight:"bold",textAlign:"center",textTransform:"none",textOutline:{color:"#FF4D8D",width:47},color:"#FFFFFF",textBlur:0,textEffect:"dropShadow",textEffectColor:"#FF4D8D",textPadding:25,wrapOrFill:"wrap",textShadowBlur:.02,textShadowDist:.1,textShadowRot:45,borderRadius:{relative:"25%"},underline:!1,italic:!1,globalAlpha:1,lineHeight:1},checkIfSeenByUser:!0},zW={presetId:"VIVID",title:"Vivid",style:{...tW,backgroundColor:"rgba(-255,-255,-255,0)",fontFamily:"The Bold Font",hasCustomFont:!1,fontWeight:"bold",textAlign:"center",textTransform:"none",textOutline:{color:"#F4511E",width:47},color:"#FFFFFF",textBlur:0,textEffect:"dropShadow",textEffectColor:"#F4511E",textPadding:25,wrapOrFill:"wrap",textShadowBlur:.02,textShadowDist:.21,textShadowRot:45,borderRadius:{relative:"25%"},underline:!1,italic:!1,globalAlpha:1,lineHeight:1},checkIfSeenByUser:!0},GW={presetId:"VINTAGE",title:"Vintage",style:{...tW,backgroundColor:"rgba(-255,-255,-255,0)",fontFamily:"Arial",hasCustomFont:!1,fontWeight:"bold",textAlign:"center",textTransform:"none",textOutline:{color:"#000000",width:18},color:"#FDD835",textBlur:0,textEffect:"dropShadow",textEffectColor:"#000000",textPadding:25,wrapOrFill:"wrap",textShadowBlur:.13,textShadowDist:.1,textShadowRot:45,borderRadius:{relative:"25%"},underline:!1,italic:!0,globalAlpha:1,lineHeight:1},checkIfSeenByUser:!0},YW={presetId:"NEW_ARCADE",title:"Arcade",style:{...tW,backgroundColor:"rgba(-255,-255,-255,0)",fontFamily:"Press Start 2P",hasCustomFont:!1,fontWeight:"bold",textAlign:"center",textTransform:"none",textOutline:{color:"#6c19e8",width:34},color:"#FFFFFF",textBlur:0,textEffect:"dropShadow",textEffectColor:"#6c19e8",textPadding:25,wrapOrFill:"wrap",textShadowBlur:0,textShadowDist:.17,textShadowRot:45,borderRadius:{relative:"25%"},underline:!1,italic:!1,globalAlpha:1,lineHeight:1},checkIfSeenByUser:!0},KW={presetId:"AESHTETIC",title:"Aesthetic",style:{...tW,backgroundColor:"rgba(-255,-255,-255,0)",fontFamily:"Lexend Deca",hasCustomFont:!1,fontWeight:"bold",textAlign:"center",textTransform:"none",textOutline:{color:"#D96C9F",width:34},color:"#F8D7E9",textBlur:0,textEffectColor:"rgba(-255,-255,-255,0)",textPadding:25,wrapOrFill:"wrap",textShadowBlur:0,textShadowDist:.14,textShadowRot:45,borderRadius:{relative:"25%"},underline:!1,italic:!0,globalAlpha:1,lineHeight:1},checkIfSeenByUser:!0},XW={presetId:"PICKLE",title:"Pickle",style:{...tW,backgroundColor:"rgba(-255,-255,-255,0)",fontFamily:"Fredoka One",hasCustomFont:!1,fontWeight:"normal",textAlign:"center",textTransform:"none",textOutline:{color:"#53580E",width:34},color:"#C0CA33",textBlur:0,textEffect:"dropShadow",textEffectColor:"#53580E",textPadding:25,wrapOrFill:"wrap",textShadowBlur:0,textShadowDist:.14,textShadowRot:45,borderRadius:{relative:"25%"},underline:!1,italic:!1,globalAlpha:1,lineHeight:1},checkIfSeenByUser:!0},ZW={presetId:"COBALT",title:"Cobalt",style:{...tW,backgroundColor:"#0000FF",fontFamily:"Montserrat",hasCustomFont:!1,fontWeight:"bold",textAlign:"center",textTransform:"none",textOutline:{color:"rgba(-255,-255,-255,0)",width:25},color:"#FFFFFF",textBlur:0,textEffectColor:"rgba(-255,-255,-255,0)",textPadding:25,wrapOrFill:"wrap",textShadowBlur:0,textShadowDist:.14,textShadowRot:45,borderRadius:{relative:"25%"},underline:!1,italic:!1,globalAlpha:1,lineHeight:1},checkIfSeenByUser:!0},qW={presetId:"YOSEMITE",title:"Yosemite",style:{...tW,backgroundColor:"#964B00",fontFamily:"Patrick Hand SC",hasCustomFont:!1,fontWeight:"bold",textAlign:"center",textTransform:"none",textOutline:{color:"rgba(-255,-255,-255,0)",width:25},color:"#FFC790",textBlur:0,textEffectColor:"rgba(-255,-255,-255,0)",textPadding:25,wrapOrFill:"wrap",textShadowBlur:0,textShadowDist:.14,textShadowRot:45,borderRadius:{relative:"25%"},underline:!1,italic:!1,globalAlpha:1,lineHeight:1},checkIfSeenByUser:!0},JW={presetId:"PINEAPPLE",title:"Pineapple",style:{...tW,backgroundColor:"#27B6C8",fontFamily:"Slackey",hasCustomFont:!1,fontWeight:"bold",textAlign:"center",textTransform:"none",textOutline:{color:"rgba(-255,-255,-255,0)",width:25},color:"#FFF56C",textBlur:0,textEffect:"dropShadow",textEffectColor:"#817F00",textPadding:25,wrapOrFill:"wrap",textShadowBlur:0,textShadowDist:.14,textShadowRot:45,borderRadius:{relative:"25%"},underline:!1,italic:!1,globalAlpha:1,lineHeight:1},checkIfSeenByUser:!0},$W={presetId:"LIGHT_OUTLINE",title:"Light Outline",style:{...tW,backgroundColor:"rgba(-255,-255,-255,0)",fontFamily:"Lexend Deca",hasCustomFont:!1,fontWeight:"bold",textAlign:"center",textTransform:"none",textOutline:{color:"#FFFFFF",width:25},color:"#000000",textBlur:0,textEffect:"dropShadow",textEffectColor:"#FFFFFF",textPadding:25,wrapOrFill:"wrap",textShadowBlur:0,textShadowDist:.14,textShadowRot:45,borderRadius:{relative:"23.5%"},underline:!1,italic:!1,globalAlpha:1,lineHeight:1},checkIfSeenByUser:!0},QW={presetId:"UPFRONT",title:"Upfront",style:{...tW,backgroundColor:"rgba(-255,-255,-255,0)",fontFamily:"The Bold Font",hasCustomFont:!1,fontWeight:"bold",textAlign:"center",textTransform:"none",textOutline:{color:"#000000",width:25},color:"#FFFFFF",textBlur:0,textEffect:"dropShadow",textEffectColor:"#000000",textPadding:25,wrapOrFill:"wrap",textShadowBlur:0,textShadowDist:.14,textShadowRot:45,borderRadius:{relative:"23.5%"},underline:!1,italic:!1,globalAlpha:1,lineHeight:1},checkIfSeenByUser:!0},eV={presetId:"SLANT",title:"Slant",style:{...tW,backgroundColor:"rgba(-255,-255,-255,0)",fontFamily:"Montserrat",hasCustomFont:!1,fontWeight:"bold",textAlign:"center",textTransform:"none",textOutline:{color:"rgba(-255,-255,-255,0)",width:2},color:"#FFFFFF",textBlur:0,textEffect:"dropShadow",textEffectColor:"#000000",textPadding:25,wrapOrFill:"wrap",textShadowBlur:.13,textShadowDist:.08,textShadowRot:45,borderRadius:{relative:"23.5%"},underline:!1,italic:!0,globalAlpha:1,lineHeight:1},checkIfSeenByUser:!0},tV={presetId:"WIDE",title:"Wide",style:{...tW,backgroundColor:"rgba(-255,-255,-255,0)",fontFamily:"Lexend Giga",hasCustomFont:!1,fontWeight:"bold",textAlign:"center",textTransform:"none",textOutline:{color:"rgba(-255,-255,-255,0)",width:2},color:"#FFFFFF",textBlur:0,textEffect:"dropShadow",textEffectColor:"#000000",textPadding:25,wrapOrFill:"wrap",textShadowBlur:.13,textShadowDist:.12,textShadowRot:45,borderRadius:{relative:"23.5%"},underline:!1,italic:!1,globalAlpha:1,lineHeight:1},checkIfSeenByUser:!0},aV={presetId:"INTER",title:"Inter",style:{...tW,backgroundColor:"rgba(-255,-255,-255,0)",fontFamily:"Inter",hasCustomFont:!1,fontWeight:"bold",textAlign:"center",textTransform:"none",textOutline:{color:"rgba(-255,-255,-255,0)",width:2},color:"#FFFFFF",textBlur:0,textEffect:"dropShadow",textEffectColor:"#000000",textPadding:25,wrapOrFill:"wrap",textShadowBlur:.13,textShadowDist:.08,textShadowRot:45,borderRadius:{relative:"23.5%"},underline:!1,italic:!1,globalAlpha:1,lineHeight:1},checkIfSeenByUser:!0},nV={presetId:"STRATEGIST",title:"Strategist",style:{...tW,backgroundColor:"rgba(-255,-255,-255,0)",fontFamily:"Marko One",hasCustomFont:!1,fontWeight:"normal",textAlign:"center",textTransform:"none",textOutline:{color:"rgba(-255,-255,-255,0)",width:2},color:"#FFFFFF",textBlur:0,textEffect:"dropShadow",textEffectColor:"#000000",textPadding:25,wrapOrFill:"wrap",textShadowBlur:.13,textShadowDist:.08,textShadowRot:45,borderRadius:{relative:"23.5%"},underline:!1,italic:!1,globalAlpha:1,lineHeight:1},checkIfSeenByUser:!0},sV={presetId:"NEW_RETRO",title:"Retro",style:{...tW,backgroundColor:"rgba(-255,-255,-255,0)",fontFamily:"Chicle",hasCustomFont:!1,fontWeight:"normal",textAlign:"center",textTransform:"none",textOutline:{color:"rgba(-255,-255,-255,0)",width:2},color:"#FFFFFF",textBlur:0,textEffect:"dropShadow",textEffectColor:"#000000",textPadding:25,wrapOrFill:"wrap",textShadowBlur:.19,textShadowDist:.08,textShadowRot:45,borderRadius:{relative:"23.5%"},underline:!1,italic:!1,globalAlpha:1,lineHeight:1},checkIfSeenByUser:!0},oV={presetId:"ORGANIC",title:"Organic",style:{...tW,backgroundColor:"rgba(-255,-255,-255,0)",fontFamily:"Mansalva",hasCustomFont:!1,fontWeight:"bold",textAlign:"center",textTransform:"none",textOutline:{color:"rgba(-255,-255,-255,0)",width:2},color:"#FFFFFF",textBlur:0,textEffect:"dropShadow",textEffectColor:"#000000",textPadding:25,wrapOrFill:"wrap",textShadowBlur:.19,textShadowDist:.08,textShadowRot:45,borderRadius:{relative:"23.5%"},underline:!1,italic:!1,globalAlpha:1,lineHeight:1},checkIfSeenByUser:!0},iV={presetId:"SUMMER",title:"Summer",style:{...tW,backgroundColor:"rgba(-255,-255,-255,0)",fontFamily:"Corben",hasCustomFont:!1,fontWeight:"bold",textAlign:"center",textTransform:"none",textOutline:{color:"rgba(-255,-255,-255,0)",width:2},color:"#FFFFFF",textBlur:0,textEffect:"dropShadow",textEffectColor:"#000000",textPadding:25,wrapOrFill:"wrap",textShadowBlur:.19,textShadowDist:.08,textShadowRot:45,borderRadius:{relative:"23.5%"},underline:!1,italic:!1,globalAlpha:1,lineHeight:1},checkIfSeenByUser:!0},rV={presetId:"NEW_GLOW_2",title:"Glow 2",style:{...tW,backgroundColor:"rgba(-255,-255,-255,0)",fontFamily:"Nunito",hasCustomFont:!1,fontWeight:"bold",textAlign:"center",textTransform:"none",textOutline:{color:"rgba(-255,-255,-255,0)",width:2},color:"#FFFFFF",textBlur:0,textEffect:"dropShadow",textEffectColor:"#FFFFFF",textPadding:25,wrapOrFill:"wrap",textShadowBlur:.5,textShadowDist:.08,textShadowRot:45,borderRadius:{relative:"23.5%"},underline:!1,italic:!1,globalAlpha:1,lineHeight:1},checkIfSeenByUser:!0},lV={presetId:"CLOUD",title:"Cloud",style:{...tW,backgroundColor:"rgba(-255,-255,-255,0)",fontFamily:"Knewave",hasCustomFont:!1,fontWeight:"normal",textAlign:"center",textTransform:"none",textOutline:{color:"#FFFFFF",width:2},color:"#FFFFFF",textEffect:"dropShadow",textEffectColor:"#000000",textPadding:25,wrapOrFill:"wrap",textShadowBlur:.15,textShadowDist:.08,textShadowRot:45,borderRadius:{relative:"23.5%"},underline:!1,italic:!1,globalAlpha:1,lineHeight:1},checkIfSeenByUser:!0},dV={presetId:"SEETHRU",title:"Seethru",style:{...tW,backgroundColor:"rgba(-255,-255,-255,0)",fontFamily:"Londrina Shadow",hasCustomFont:!1,fontWeight:"normal",textAlign:"center",textTransform:"none",textOutline:{color:"#FFFFFF",width:2},color:"#FFFFFF",textEffect:"dropShadow",textEffectColor:"#000000",textPadding:25,wrapOrFill:"wrap",textShadowBlur:.5,textShadowDist:.08,textShadowRot:45,borderRadius:{relative:"23.5%"},underline:!1,italic:!1,globalAlpha:1,lineHeight:1},checkIfSeenByUser:!0},cV={presetId:"LIGHT_LOFI",title:"Light Lofi",style:{...tW,backgroundColor:"rgba(255,255,255,0.3)",fontFamily:"Alata",hasCustomFont:!1,fontWeight:"bold",textAlign:"center",textTransform:"none",textOutline:{color:"rgba(-255,-255,-255,0)",width:29},color:"#101010",textEffectColor:"rgba(-255,-255,-255,0)",textPadding:25,wrapOrFill:"wrap",textShadowBlur:.02,textShadowDist:.1,textShadowRot:45,borderRadius:{relative:"23.5%"},underline:!1,italic:!1,globalAlpha:1,lineHeight:1},checkIfSeenByUser:!0},uV={presetId:"ZAP",title:"Zap",style:{...tW,backgroundColor:"rgba(-255,-255,-255,0)",fontFamily:"Bangers",hasCustomFont:!1,fontWeight:"bold",textAlign:"center",textTransform:"none",textShadow:"#000000",textOutline:{color:"#000000",width:29},color:"#9FFF51",textEffect:"dropShadow",textEffectColor:"#000000",textPadding:25,wrapOrFill:"wrap",textShadowBlur:.02,textShadowDist:.1,textShadowRot:45,borderRadius:{relative:"37.5%"},underline:!1,italic:!1,globalAlpha:1,lineHeight:1},checkIfSeenByUser:!0},pV={presetId:"FOCUS",title:"Focus",style:{...tW,backgroundColor:"rgba(-255,-255,-255,0)",fontFamily:"Fredoka One",hasCustomFont:!1,fontWeight:"bold",textAlign:"center",textTransform:"none",textOutline:{color:"#000000",width:29},color:"#FFFFFF",textEffect:"dropShadow",textEffectColor:"#000000",textPadding:25,wrapOrFill:"wrap",textShadowBlur:.02,textShadowDist:.1,textShadowRot:45,borderRadius:{relative:"37.5%"},underline:!1,italic:!1,globalAlpha:1,lineHeight:1},checkIfSeenByUser:!0},mV={presetId:"BUTTERSCOTCH",title:"Butterscotch",style:{...tW,backgroundColor:"rgba(-255,-255,-255,0)",fontFamily:"Nothing You Could Do",hasCustomFont:!1,fontWeight:"bold",textAlign:"center",textTransform:"none",textOutline:{color:"rgba(-255,-255,-255,0)",width:46},color:"#FFD9A0",textEffect:"dropShadow",textEffectColor:"#684714",textPadding:25,wrapOrFill:"wrap",textShadowBlur:.07,textShadowDist:.1,textShadowRot:45,borderRadius:{relative:"37.5%"},underline:!1,italic:!1,globalAlpha:1,lineHeight:1},checkIfSeenByUser:!0},gV={presetId:"BURNT_SIENNA",title:"Burnt Sienna",style:{...tW,backgroundColor:"rgba(-255,-255,-255,0)",fontFamily:"Fredoka One",hasCustomFont:!1,fontWeight:"bold",textAlign:"center",textTransform:"none",textOutline:{color:"#481606",width:46},color:"#F27F3D",textEffectColor:"rgba(-255,-255,-255,0)",textPadding:25,wrapOrFill:"wrap",textShadowBlur:.1,textShadowDist:.12,textShadowRot:45,borderRadius:{relative:"37.5%"},underline:!1,italic:!1,globalAlpha:1,lineHeight:1},checkIfSeenByUser:!0},hV={presetId:"FUSCHIA",title:"Fuchsia",style:{...tW,backgroundColor:"rgba(-255,-255,-255,0)",fontFamily:"Koulen",hasCustomFont:!1,fontWeight:"bold",textAlign:"center",textTransform:"none",textOutline:{color:"#000000",width:35},color:"#EC7EFF",textEffect:"dropShadow",textEffectColor:"#000000",textPadding:25,wrapOrFill:"wrap",textShadowBlur:.1,textShadowDist:.12,textShadowRot:45,borderRadius:{relative:"37.5%"},underline:!1,italic:!1,globalAlpha:1,lineHeight:1},checkIfSeenByUser:!0},vV={presetId:"CHERRY",title:"Cherry",style:{...tW,backgroundColor:"rgba(-255,-255,-255,0)",textPadding:23,wrapOrFill:"wrap",borderRadius:{relative:"36%"},color:"#F50057",fontFamily:"Molle",fontWeight:"normal",lineHeight:1.15,textAlign:"center",textTransform:"none",textShadow:"transparent",underline:!1,italic:!1,textEffect:"dropShadow",textEffectColor:"#FFFFFF",textShadowBlur:.02,textShadowDist:.16,textShadowRot:45,textOutline:{color:"#FFFFFF",width:50}},checkIfSeenByUser:!0},fV={presetId:"PAYTONE",title:"Paytone",style:{...tW,backgroundColor:"rgba(-255,-255,-255,0)",fontFamily:"Paytone One",hasCustomFont:!1,fontWeight:"bold",textAlign:"center",textTransform:"none",textOutline:{color:"#000000",width:50},color:"#9AECF9",textEffect:"dropShadow",textEffectColor:"#000000",textPadding:25,wrapOrFill:"wrap",textShadowBlur:.1,textShadowDist:.19,textShadowRot:45,borderRadius:{relative:"37.5%"},underline:!1,italic:!1,globalAlpha:1,lineHeight:1},checkIfSeenByUser:!0},bV={presetId:"FROST",title:"Frost",style:{...tW,backgroundColor:"rgba(-255,-255,-255,0)",fontFamily:"Lexend Deca",hasCustomFont:!1,fontWeight:"bold",textAlign:"center",textTransform:"none",textOutline:{color:"#6C91D9",width:50},color:"#D7ECF7",textPadding:25,wrapOrFill:"wrap",borderRadius:{relative:"37.5%"},underline:!1,italic:!1,globalAlpha:1,lineHeight:1},checkIfSeenByUser:!0},yV={presetId:"MATCHA",title:"Matcha",style:{...tW,backgroundColor:"rgba(67,96,35,1)",textPadding:25,wrapOrFill:"wrap",borderRadius:{relative:"31%"},color:"#F48FB1",fontFamily:"Lexend Deca",fontWeight:"bold",lineHeight:1.15,textAlign:"center",textTransform:"none",textShadow:"transparent",underline:!1,italic:!1,textEffect:"dropShadow",textEffectColor:"rgba(-255,-255,-255,0)",textShadowBlur:.07,textShadowDist:.11,textShadowRot:45,textOutline:{color:"rgba(-255,-255,-255,0)",width:15}},checkIfSeenByUser:!0},wV={presetId:"LILAC",title:"Lilac",style:{...tW,backgroundColor:"#9BA0DB",fontFamily:"Alata",hasCustomFont:!1,fontWeight:"bold",textAlign:"center",textTransform:"none",textShadow:"transparent",color:"#FFFFFF",textPadding:25,wrapOrFill:"wrap",borderRadius:{relative:"37.5%"},underline:!1,italic:!1,globalAlpha:1,lineHeight:1},checkIfSeenByUser:!0},_V={presetId:"NEON",title:"Neon",style:{...tW,backgroundColor:"#FFFF00",fontFamily:"Fredoka One",hasCustomFont:!1,fontWeight:"normal",textAlign:"center",textTransform:"none",textShadow:"transparent",color:"#D500F9",textPadding:25,wrapOrFill:"wrap",borderRadius:{relative:"15.5%"},underline:!1,italic:!1,globalAlpha:1,lineHeight:1},checkIfSeenByUser:!0},CV={presetId:"BARCODE",title:"Barcode",style:{...tW,backgroundColor:"rgba(-255,-255,-255,0)",textPadding:25,wrapOrFill:"wrap",borderRadius:{relative:"29%"},color:"#FFFFFF",fontFamily:"Libre Barcode 128 Text",fontWeight:"bold",lineHeight:1.2,textAlign:"center",textTransform:"none",textShadow:"transparent",underline:!1,italic:!1,textEffect:"dropShadow",textEffectColor:"rgba(-255,-255,-255,0)",textShadowBlur:.15,textShadowDist:.08,textShadowRot:45,textOutline:{color:"rgba(-255,-255,-255,0)",width:31}},checkIfSeenByUser:!0},SV=[kW,{presetId:"NEW_TYPEWRITER",title:"Typewriter",style:{backgroundColor:"rgba(-255,-255,-255,0)",fontFamily:"Source Code Pro",hasCustomFont:!1,fontWeight:"bold",textAlign:"center",textTransform:"none",textShadow:"transparent",color:"#FFFFFF",textEffect:"dropShadow",textEffectColor:"#6b6b6b",textPadding:14.25,wrapOrFill:"wrap",textShadowBlur:.3,textShadowDist:.05,textShadowRot:81,borderRadius:{relative:"16%"},underline:!1,italic:!1,globalAlpha:1,lineHeight:1},checkIfSeenByUser:!0},{presetId:"NEW_HANDWRITING",title:"Handwriting",style:{backgroundColor:"rgba(-255,-255,-255,0)",fontFamily:"Yesteryear",hasCustomFont:!1,fontWeight:"bold",textAlign:"center",textTransform:"none",textShadow:"transparent",color:"#FFFFFF",textEffect:"dropShadow",textEffectColor:"#6b6b6b",textPadding:14.25,wrapOrFill:"wrap",textShadowBlur:.3,textShadowDist:.05,textShadowRot:81,borderRadius:{relative:"16%"},underline:!1,italic:!1,globalAlpha:1,lineHeight:1},checkIfSeenByUser:!0},{presetId:"NEW_GLOW",title:"Glow",style:{backgroundColor:"rgba(-255,-255,-255,0)",fontFamily:"Abel",hasCustomFont:!1,fontWeight:"normal",textAlign:"center",textTransform:"none",textShadow:"transparent",color:"#fff3cd",textEffect:"dropShadow",textEffectColor:"#FB8C00",textPadding:14.25,wrapOrFill:"wrap",textShadowBlur:.3,textShadowDist:.05,textShadowRot:81,borderRadius:{relative:"16%"},underline:!1,italic:!1,globalAlpha:1,lineHeight:1},checkIfSeenByUser:!0},{presetId:"NEW_SERIF",title:"Serif",style:{backgroundColor:"rgba(-255,-255,-255,0)",fontFamily:"Georgia",hasCustomFont:!1,fontWeight:"bold",textAlign:"center",textTransform:"none",textShadow:"transparent",color:"#FFFFFF",textEffect:"dropShadow",textEffectColor:"#636363",textPadding:14.25,wrapOrFill:"wrap",textShadowBlur:.3,textShadowDist:.05,textShadowRot:81,borderRadius:{relative:"16%"},underline:!1,italic:!1,globalAlpha:1,lineHeight:1},checkIfSeenByUser:!0},TW,EW,LW,jW,RW,NW,MW,PW,FW,DW,OW,UW,BW,WW,VW,HW,zW,GW,YW,KW,XW,ZW,qW,JW,$W,QW,eV,tV,aV,nV,sV,oV,iV,rV,lV,dV,cV,uV,pV,mV,gV,hV,vV,fV,bV,yV,wV,_V,CV,{presetId:"BASIC",style:{backgroundColor:"rgba(-255,-255,-255,0)",fontFamily:"Arial",fontWeight:"normal",textAlign:"center",textTransform:"none",textShadow:"rgba(-255,-255,-255,0)",color:"#ffffff",textPadding:12.5,wrapOrFill:"wrap",borderRadius:{relative:"25%"},underline:!1,italic:!1,globalAlpha:1,lineHeight:1},title:"Basic"},sW,IW,CW,aW,uW,nW,iW,hW,oW,rW,lW,cW,pW,mW,gW,vW,fW,bW,yW,wW,_W,SW,xW,dW,AW];function xV(e){return SV.find((t=>t.presetId===e.presetId))}function IV(e){return!!xV(e)}function AV(e){const{fontFamily:t,asset_id:a,hasCustomFont:n}=e.style;return!(n&&!a)&&!(!a&&!fB.includes(t))}const kV=e=>e.filter(AV).map((e=>{const t=xV(e);return t?{...e,style:t.style,title:t.title}:e})),TV="LAST_USED",EV={brandkitPresets:[],presets:SV,lastUsedPreset:void 0,removedDefaultPresetIds:[],lastUsedBrandkitPresetId:void 0,usedPresetIds:{}};const LV=e=>{const{removedDefaultPresetIds:t=[],lastUsedPreset:a,lastUsedBrandkitPresetId:n,usedPresetIds:s={}}=e;let{presets:o=[]}=e;return o=kV(o),o=((e,t)=>{const a=new Set;e.forEach((e=>{a.add(e.presetId)}));let n=!1;for(const i of SV){const e=a.has(i.presetId),s=t.includes(i.presetId);if(!e&&!s){n=!0;break}}if(!n)return e;let s=0;const o=e.filter((e=>!IV(e)));return SV.forEach((e=>{t.includes(e.presetId)||(o.splice(s,0,e),s+=1)})),o})(o,t),o=function(e){const t=[],a=new Set;return e.forEach((e=>{a.has(e.presetId)||(a.add(e.presetId),t.push(e))})),t}(o),{presets:o,removedDefaultPresetIds:t,lastUsedPreset:a,lastUsedBrandkitPresetId:n,usedPresetIds:s}},jV=m({name:"textPresets",initialState:EV,reducers:{setTextPresets:(e,t)=>{const{presets:a,undoable:n}=t.payload;if(n){const n={type:t.type,payload:{presets:e.presets,undoable:!1}},s={type:t.type,payload:{presets:a,undoable:!1}};PU.add({undo:n,redo:s})}e.presets=a},setTextBrandkitPresets:(e,t)=>{const{brandkitPresets:a,undoable:n}=t.payload;if(n){const n={type:t.type,payload:{brandkitPresets:e.brandkitPresets,undoable:!1}},s={type:t.type,payload:{brandkitPresets:a,undoable:!1}};PU.add({undo:n,redo:s})}e.brandkitPresets=a},addTextPreset:(e,t)=>{const{preset:a,index:n,undoable:s}=t.payload;if(s){const e={type:"textPresets/removeTextPreset",payload:{presetId:a.presetId,undoable:!1}},s={type:t.type,payload:{preset:a,index:n,undoable:!1}};PU.add({undo:e,redo:s})}void 0!==n?e.presets.splice(n,0,a):e.presets.push(a)},moveTextPreset:(e,t)=>{const{srcPresetId:a,dstPresetId:n,undoable:s}=t.payload;if(s){const s={type:"textPresets/setTextPresets",payload:{presets:e.presets,undoable:!1}},o={type:t.type,payload:{srcPresetId:a,dstPresetId:n,undoable:!1}};PU.add({undo:s,redo:o})}if(void 0===e.presets.find((({presetId:e})=>e===a)))return void console.error("Cannot moveTextPreset, srcPreset is undefined");const o=e.presets.findIndex((({presetId:e})=>e===n));-1!==o?e.presets=IB(e.presets,a,o):console.error("Cannot moveTextPreset, dstPresetId is not found")},removeTextPreset:(e,t)=>{const{presetId:a,undoable:n}=t.payload,s=e.presets.findIndex((e=>e.presetId===a)),o=e.presets[s];if(n&&o){const e={type:"textPresets/addTextPreset",payload:{preset:o,index:s,undoable:!1}},n={type:t.type,payload:{presetId:a,undoable:!1}};PU.add({undo:e,redo:n})}o&&IV(o)&&(e.removedDefaultPresetIds||(e.removedDefaultPresetIds=[]),e.removedDefaultPresetIds.push(a));e.presets=e.presets.filter((e=>e&&e.presetId&&e.presetId!==a))},addTextBrandkitPreset:(e,t)=>{const{preset:a,index:n}=t.payload;void 0!==n?e.brandkitPresets.splice(n,0,a):e.brandkitPresets.push(a)},moveTextBrandkitPreset:(e,t)=>{const{srcPresetId:a,dstPresetId:n}=t.payload;if(void 0===e.brandkitPresets.find((({presetId:e})=>e===a)))return void console.error("Cannot moveTextBrandkitPreset, srcPreset is undefined");const s=e.brandkitPresets.findIndex((({presetId:e})=>e===n));-1!==s?e.brandkitPresets=IB(e.brandkitPresets,a,s):console.error("Cannot moveTextBrandkitPreset, dstPresetId is not found")},removeTextBrandkitPreset:(e,t)=>{const{presetId:a}=t.payload;e.brandkitPresets=e.brandkitPresets.filter((e=>e&&e.presetId&&e.presetId!==a))},setLastUsedTextPreset:(e,t)=>{const{preset:a}=t.payload;e.lastUsedPreset=a?{...a,checkIfSeenByUser:!1,title:"Custom",presetId:"LAST_USED"}:void 0},setTextPresetTitle:(e,t)=>{const{presetId:a,title:n,undoable:s}=t.payload;if(s){const s=e.presets.find((e=>e.presetId===a)),o={type:t.type,payload:{presetId:a,title:(null==s?void 0:s.title)||"",undoable:!1}},i={type:t.type,payload:{presetId:a,title:n,undoable:!1}};PU.add({undo:o,redo:i})}const o=e=>e.presetId===a?{...e,title:n}:e;e.presets=e.presets.map(o),e.brandkitPresets=e.brandkitPresets.map(o)},setLastUsedBrandkitPreset:(e,t)=>{e.lastUsedBrandkitPresetId=t.payload},addUsedPresetId:(e,t)=>{const a=t.payload,n=e.usedPresetIds;n&&!n[a]&&(n[a]=!0,e.usedPresetIds=n)}},extraReducers:e=>e.addDefaultCase(((e,t)=>{switch(t.type){case"RESET_STUDIO":case"RESET_STATE_PRESERVE_USER":return{...EV,brandkitPresets:e.brandkitPresets||[],...LV(e)};default:return e}}))}),{setTextPresets:RV,setTextBrandkitPresets:NV,addTextPreset:MV,moveTextPreset:PV,removeTextPreset:FV,addTextBrandkitPreset:DV,moveTextBrandkitPreset:OV,removeTextBrandkitPreset:UV,setLastUsedTextPreset:BV,setTextPresetTitle:WV,setLastUsedBrandkitPreset:VV,addUsedPresetId:HV}=jV.actions,zV=[{templateId:"DISCORD",ratio:[16,9],layers:[{id:"1",type:"shape",shapeType:"rectangle",background:"#5865F2",stroke:"rgba(-255,-255,-255,0)",position:{x:"8.341247892962494%",y:"35.484484563577475%",width:"83.31750421407502%",height:"29.031030872845047%",rotation:0},lineCap:"butt",globalAlpha:1,lineWidth:"0.3%",borderRadius:{relative:"50%"}},{id:"2",url:"https://cdn-useast1.kapwing.com/static/WnR-th-3020716033.webp",type:"image",position:{x:"14.651621515370575%",y:"38.89106632736083%",width:"12.112823443951266%",height:"22.217867345278346%",rotation:0}},{id:"3",type:"text",backgroundColor:"rgba(-255,-255,-255,0)",baseWidth:441.1782553729456,color:"#FFFFFF",fontFamily:"Open Sans",fontSize:73,fontWeight:"bold",globalAlpha:1,lineHeight:1,lockAspectRatio:!1,position:{x:"30.84286590938378%",y:"43.24074074074074%",width:"51.956068268015166%",height:"13.518518518518519%",rotation:0},text:"@username",textAlign:"left",textShadow:"transparent",baseHeight:73.11629525355087,textEffect:null,textBlur:.2,textShadowBlur:0,textShadowDist:.08,textShadowRot:33,hasCustomFont:!1,italic:!1,borderRadius:{relative:"0%"},wrapOrFill:"fill",underline:!1}]},{templateId:"TWITCH",ratio:[16,9],layers:[{id:"1",type:"shape",shapeType:"rectangle",background:"#8849F6",stroke:"rgba(-255,-255,-255,0)",position:{x:"8.341247892962494%",y:"35.484484563577475%",width:"83.31750421407502%",height:"29.031030872845047%",rotation:0},lineCap:"butt",globalAlpha:1,lineWidth:"0.3%",borderRadius:{relative:"50%"}},{id:"2",url:"https://cdn-useast1.kapwing.com/static/s-4-TwitchGlitchWhite-JN7ET3dtT9.webp",type:"image",position:{x:"15.651621515370575%",y:"38.89106632736083%",width:"10.712823443951266%",height:"22.217867345278346%",rotation:0}},{id:"3",type:"text",backgroundColor:"rgba(-255,-255,-255,0)",baseWidth:441.1782553729456,color:"#FFFFFF",fontFamily:"Open Sans",fontSize:73,fontWeight:"bold",globalAlpha:1,lineHeight:1,lockAspectRatio:!1,position:{x:"30.84286590938378%",y:"43.24074074074074%",width:"51.956068268015166%",height:"13.518518518518519%",rotation:0},text:"@username",textAlign:"left",textShadow:"transparent",baseHeight:73.11629525355087,textEffect:null,textBlur:.2,textShadowBlur:0,textShadowDist:.08,textShadowRot:33,hasCustomFont:!1,italic:!1,borderRadius:{relative:"0%"},wrapOrFill:"fill",underline:!1}]},{templateId:"FACEBOOK",ratio:[16,9],layers:[{id:"1",type:"shape",shapeType:"rectangle",background:"#1C4274",stroke:"rgba(-255,-255,-255,0)",position:{x:"8.341247892962494%",y:"35.48448456357748%",width:"83.31750421407502%",height:"29.031030872845047%",rotation:0},lineCap:"butt",globalAlpha:1,lineWidth:"0.3%",borderRadius:{relative:"50%"}},{id:"2",url:"https://cdn-useast1.kapwing.com/static/GYQ-facebookIcon.png",type:"image",position:{x:"14.817448266778765%",y:"39.1515860314291%",width:"12.204465714642247%",height:"21.696827937141776%",rotation:0}},{id:"3",type:"text",backgroundColor:"rgba(-255,-255,-255,0)",baseWidth:441.1782553729456,color:"#FFFFFF",fontFamily:"Open Sans",fontSize:73,fontWeight:"bold",globalAlpha:1,lineHeight:1,lockAspectRatio:!1,position:{x:"30.84286590938378%",y:"43.24074074074074%",width:"51.956068268015166%",height:"13.518518518518519%",rotation:0},text:"@username",textAlign:"left",textShadow:"transparent",baseHeight:73.11629525355087,textEffect:null,textBlur:.2,textShadowBlur:0,textShadowDist:.08,textShadowRot:33,hasCustomFont:!1,italic:!1,borderRadius:{relative:"0%"},wrapOrFill:"fill",underline:!1}]},{templateId:"TWITTER",ratio:[16,9],layers:[{id:"1",type:"shape",shapeType:"rectangle",background:"#1D9BF0",stroke:"rgba(-255,-255,-255,0)",position:{x:"8.341247892962494%",y:"35.484484563577475%",width:"83.31750421407502%",height:"29.031030872845047%",rotation:0},lineCap:"butt",globalAlpha:1,lineWidth:"0.3%",borderRadius:{relative:"50%"}},{id:"2",url:"https://cdn-useast1.kapwing.com/static/XZ7-2021_Twitter_logo_white-sggXAaIEr3.webp",type:"image",position:{x:"14.888509358032383%",y:"40.82231347916707%",width:"12.545174906414708%",height:"18.355373041665874%",rotation:0}},{id:"3",type:"text",backgroundColor:"rgba(-255,-255,-255,0)",baseWidth:441.1782553729456,color:"#FFFFFF",fontFamily:"Open Sans",fontSize:73,fontWeight:"bold",globalAlpha:1,lineHeight:1,lockAspectRatio:!1,position:{x:"30.84286590938378%",y:"43.24074074074075%",width:"51.956068268015166%",height:"13.518518518518519%",rotation:0},text:"@username",textAlign:"left",textShadow:"transparent",baseHeight:73.11629525355087,textEffect:null,textBlur:.2,textShadowBlur:0,textShadowDist:.08,textShadowRot:33,hasCustomFont:!1,italic:!1,borderRadius:{relative:"0%"},wrapOrFill:"fill",underline:!1}]},{templateId:"INSTAGRAM",ratio:[16,9],layers:[{id:"1",type:"shape",shapeType:"rectangle",background:"#5A1531",stroke:"rgba(-255,-255,-255,0)",position:{x:"8.341247892962494%",y:"35.48448456357748%",width:"83.31750421407502%",height:"29.031030872845047%",rotation:0},lineCap:"butt",globalAlpha:1,lineWidth:"0.3%",borderRadius:{relative:"50%"}},{id:"2",url:"https://cdn-useast1.kapwing.com/static/Ppl-zoT-instagramIcon.png",type:"image",position:{x:"14.796282058452114%",y:"38.63139638587815%",width:"12.789679065887087%",height:"22.737207228243715%",rotation:0}},{id:"3",type:"text",backgroundColor:"rgba(-255,-255,-255,0)",baseWidth:441.1782553729456,color:"#FFFFFF",fontFamily:"Open Sans",fontSize:73,fontWeight:"bold",globalAlpha:1,lineHeight:1,lockAspectRatio:!1,position:{x:"30.84286590938378%",y:"43.24074074074074%",width:"51.956068268015166%",height:"13.518518518518519%",rotation:0},text:"@username",textAlign:"left",textShadow:"transparent",baseHeight:73.11629525355087,textEffect:null,textBlur:.2,textShadowBlur:0,textShadowDist:.08,textShadowRot:33,hasCustomFont:!1,italic:!1,borderRadius:{relative:"0%"},wrapOrFill:"fill",underline:!1}]},{templateId:"YOUTUBE",ratio:[16,9],layers:[{id:"1",type:"shape",shapeType:"rectangle",background:"#FF0000",stroke:"rgba(-255,-255,-255,0)",position:{x:"8.341247892962494%",y:"35.484484563577475%",width:"83.31750421407502%",height:"29.031030872845047%",rotation:0},lineCap:"butt",globalAlpha:1,lineWidth:"0.3%",borderRadius:{relative:"50%"}},{id:"2",url:"https://cdn-useast1.kapwing.com/static/FEE-yt_logo_mono_dark-EBaKqfaZMq.webp",type:"image",position:{x:"15.05126627558372%",y:"41.2575640084404%",width:"14.08981081504867%",height:"17.48487198311922%",rotation:0}},{id:"3",type:"text",backgroundColor:"rgba(-255,-255,-255,0)",baseWidth:441.1782553729456,color:"#FFFFFF",fontFamily:"Open Sans",fontSize:73,fontWeight:"bold",globalAlpha:1,lineHeight:1,lockAspectRatio:!1,position:{x:"30.84286590938378%",y:"43.24074074074074%",width:"51.956068268015166%",height:"13.518518518518519%",rotation:0},text:"@username",textAlign:"left",textShadow:"transparent",baseHeight:73.11629525355087,textEffect:null,textBlur:.2,textShadowBlur:0,textShadowDist:.08,textShadowRot:33,hasCustomFont:!1,italic:!1,borderRadius:{relative:"0%"},wrapOrFill:"fill",underline:!1}]},{templateId:"FOLLOW_ME",ratio:[480,159],layers:[{id:"1",url:"https://cdn-useast1.kapwing.com/static/H8C-source_63d461b154645c002563c781.webp",objectFit:"cover",mime:"image/gif",width:480,height:159,type:"image",position:{x:"0%",y:"0%",rotation:0,width:"100%",height:"100%"}},{id:"2",type:"text",backgroundColor:"rgba(-255,-255,-255,0)",borderRadius:{relative:"25%"},color:"#000000",fontFamily:"Montserrat",fontSize:55.23428571428571,baseWidth:1035.8490566037735,baseHeight:61,italic:!1,fontWeight:"bold",globalAlpha:1,lineHeight:1,lockAspectRatio:!0,position:{x:"1.7761146832507666%",y:"32.853729665155825%",width:"96.44777063349846%",height:"17.146270334844175%",rotation:0},text:"Follow me @username",textAlign:"center",textShadow:"transparent",underline:!1,wrapOrFill:"wrap",textPadding:12.5,startTime:0,endTime:0,textWithLineBreaks:"Follow me @username",hasCustomFont:!1}]},{templateId:"ARROW_DOWN",ratio:[662,794],layers:[{id:"1",url:"https://cdn-useast1.kapwing.com/static/bGK-source_63d46014824fa4001f93237c.webp",source:"upload",objectFit:"cover",mime:"image/gif",height:480,type:"image",width:400,position:{x:"19.733376885858352%",y:"6.8391074454402485%",rotation:180,width:"60.533246228283296%",height:"60.53324622828329%"}},{id:"2",type:"text",backgroundColor:"#137f9c",borderRadius:{relative:"50%"},color:"#000000",fontFamily:"Nunito",fontSize:54,baseWidth:346,baseHeight:60.10198974609375,italic:!1,fontWeight:"bold",globalAlpha:1,lineHeight:1,lockAspectRatio:!0,position:{x:"24.146948941469486%",y:"74.09231084336724%",width:"51.70610211706103%",height:"6.724782067247821%",rotation:0},text:"CLICK HERE",textAlign:"center",textTransform:"uppercase",textShadow:"transparent",underline:!1,wrapOrFill:"wrap",textPadding:25,startTime:0,endTime:0,textWithLineBreaks:"CLICK HERE",hasCustomFont:!1}]},{templateId:"LOVE",ratio:[1,1],layers:[{id:"1",url:"https://cdn-useast1.kapwing.com/static/Qgu-source_63d461cec507e800180d0866.webp",objectFit:"cover",uploadId:"42441174-0950-461e-bf9e-c1a35ec98256",height:480,type:"image",width:480,position:{x:"0%",y:"0%",rotation:0,width:"100%",height:"100%"}},{id:"2",type:"text",backgroundColor:"rgba(-255,-255,-255,0)",borderRadius:{relative:"50%"},color:"#8c0f41",fontFamily:"Amatic SC",fontSize:82.59428571428572,baseWidth:516.9140625,baseHeight:176,italic:!1,fontWeight:"bold",globalAlpha:1,lineHeight:1,lockAspectRatio:!0,position:{x:"17.81357020547945%",y:"39.714285714285715%",width:"64.3728595890411%",height:"20.57142857142857%",rotation:0},text:"Thanks for 100k \r\nsubscribers!",textAlign:"center",textTransform:"uppercase",textShadow:"rgba(-255,-255,-255,0)",underline:!1,wrapOrFill:"wrap",textPadding:25,startTime:0,endTime:0,textWithLineBreaks:"Thanks for 100k \r\nsubscribers!",hasCustomFont:!1}]},{templateId:"THANK_YOU",ratio:[16,9],layers:[{id:"1",type:"text",backgroundColor:"rgba(-255,-255,-255,0)",borderRadius:{relative:"10.5%"},color:"#202020",fontFamily:"Impact",fontSize:190.5140186915888,baseWidth:877.2570181758513,baseHeight:219.09112149532712,italic:!1,fontWeight:"normal",globalAlpha:1,lineHeight:1.15,lockAspectRatio:!0,position:{x:"20.885529199475123%",y:"6.314473508646749%",width:"58.09649126992392%",height:"25.79439252336449%",rotation:0},text:"THANK YOU",textAlign:"center",textTransform:"uppercase",textShadow:"#FF1744",underline:!1,wrapOrFill:"wrap",textPadding:13,hasCustomFont:!1,textEffect:null,textShadowBlur:0,textShadowDist:.08,textShadowRot:69,textDropShadowColor:"#000000",textBlur:.35,startTime:0,endTime:0,textWithLineBreaks:"THANK YOU"},{id:"2",type:"text",backgroundColor:"rgba(-255,-255,-255,0)",borderRadius:{relative:"10.5%"},color:"#FF1744",fontFamily:"Impact",fontSize:190.51401869158877,baseWidth:879.2570181758513,baseHeight:219.0911214953271,italic:!1,fontWeight:"normal",globalAlpha:1,lineHeight:1.15,lockAspectRatio:!0,position:{x:"20.885529199475123%",y:"32.108866032011235%",width:"58.228941601049755%",height:"25.794392523364486%",rotation:0},text:"THANK YOU",textAlign:"center",textTransform:"uppercase",textShadow:"transparent",underline:!1,wrapOrFill:"wrap",textPadding:13,hasCustomFont:!1,textEffect:null,textShadowBlur:0,textShadowDist:.08,textShadowRot:69,textDropShadowColor:"#000000",textBlur:.35,startTime:0,endTime:0,textWithLineBreaks:"THANK YOU",timelineRow:1},{id:"3",type:"text",backgroundColor:"rgba(-255,-255,-255,0)",borderRadius:{relative:"10.5%"},color:"#202020",fontFamily:"Impact",fontSize:190.5140186915888,baseWidth:881.7570181758512,baseHeight:219.09112149532712,italic:!1,fontWeight:"normal",globalAlpha:1,lineHeight:1.15,lockAspectRatio:!0,position:{x:"20.885529199475123%",y:"57.90325855537573%",width:"58.394504514957035%",height:"25.79439252336449%",rotation:0},text:"THANK YOU",textAlign:"center",textTransform:"uppercase",textShadow:"#FF1744",underline:!1,wrapOrFill:"wrap",textPadding:13,hasCustomFont:!1,textEffect:null,textShadowBlur:0,textShadowDist:.08,textShadowRot:69,textDropShadowColor:"#000000",textBlur:.35,startTime:0,endTime:0,textWithLineBreaks:"THANK YOU",timelineRow:2}]},{templateId:"LOCATION",ratio:[16,9],layers:[{id:"1",type:"shape",shapeType:"rectangle",background:"#000000",stroke:"rgba(-255,-255,-255,0)",position:{x:"12.283178472258854%",y:"36.42797737095318%",width:"75.43364305548229%",height:"23.88534336489991%",rotation:0},lineCap:"butt",globalAlpha:1,lineWidth:"0.3%",borderRadius:{relative:"21.75%"}},{id:"2",type:"image",position:{x:"18.286542401450337%",y:"40.12380349456986%",rotation:0,width:"9.331765163585688%",height:"16.49369111766655%"},url:"https://cdn-useast1.kapwing.com/static/aM4-locationPin.png"},{id:"",type:"text",backgroundColor:"rgba(-255,-255,-255,0)",borderRadius:{relative:"23.5%"},color:"#FFFFFF",fontFamily:"Montserrat",fontSize:51,baseWidth:382.06575232597686,baseHeight:51.833433539287675,italic:!1,fontWeight:"bold",globalAlpha:1,lineHeight:1,lockAspectRatio:!0,position:{x:"27.11538700428837%",y:"42.4127051281695%",width:"56.21308076714065%",height:"11.91588785046729%",rotation:0},text:"San Francisco",textAlign:"center",textShadow:"transparent",underline:!1,wrapOrFill:"fill",textPadding:12.5}]},{templateId:"SPEECH",ratio:[16,9],layers:[{id:"1",type:"image",position:{x:"11.398644755019275%",y:"35.83280704512436%",rotation:0,width:"77.20271048996145%",height:"34.57510696273633%"},url:"https://cdn-useast1.kapwing.com/static/glR-speechBubbleBackground.png"},{id:"2",type:"text",backgroundColor:"rgba(-255,-255,-255,0)",borderRadius:{relative:"10.5%"},fontFamily:"Montserrat",fontSize:48,baseWidth:528.7088713047926,baseHeight:55.2491211968903,italic:!1,fontWeight:"bold",globalAlpha:1,lineHeight:1.15,lockAspectRatio:!0,position:{x:"15.771028037383179%",y:"41.18452896007446%",width:"69.48568694134248%",height:"12.897196261682243%",rotation:0},text:"Let's go to the beach",textAlign:"center",textShadow:"transparent",underline:!1,wrapOrFill:"wrap",textPadding:1,hasCustomFont:!1,color:"#FFFFFF"}]},{templateId:"BIG_TITLE_SUBTITLE",ratio:[16,9],layers:[{id:"1",type:"shape",shapeType:"rectangle",background:"#1E88E5",stroke:"rgba(-255,-255,-255,0)",position:{x:"8.682344251764397%",y:"61.99825089305037%",width:"42.68620202826241%",height:"21.774263185842386%",rotation:0},lineCap:"butt",globalAlpha:1,lineWidth:"0.3%"},{id:"2",type:"text",backgroundColor:"rgba(-255,-255,-255,0)",baseWidth:201.3658438599773,color:"#FFFFFF",fontFamily:"Lato",fontSize:40,fontWeight:"bold",globalAlpha:1,lineHeight:1,lockAspectRatio:!1,position:{x:"11.388012334851842%",y:"73.87687322539333%",width:"20.9756087354143%",height:"7.4074074074074066%",rotation:0},text:"SUB TITLE",textAlign:"left",textShadow:"transparent",baseHeight:40.57336753099969,textWithLineBreaks:"SUB TITLE",textEffect:null,textBlur:.2,textShadowBlur:0,textShadowDist:.08,textShadowRot:33,hasCustomFont:!1,italic:!0,borderRadius:{relative:"0%"},wrapOrFill:"fill",underline:!1},{id:"3",type:"text",backgroundColor:"#FFFFFF",baseWidth:642.8904444655042,color:"#000000",fontFamily:"Lato",fontSize:116,fontWeight:"bold",globalAlpha:1,lineHeight:1,lockAspectRatio:!1,position:{x:"11.388012334851842%",y:"52.2822621899652%",width:"66.96775463182335%",height:"21.48148148148148%",rotation:0},text:"BIG TITLE",textAlign:"left",textTransform:"uppercase",textShadow:"transparent",baseHeight:116.6484316516241,textEffect:null,textBlur:.2,textShadowBlur:0,textShadowDist:.08,textShadowRot:33,hasCustomFont:!1,italic:!1,borderRadius:{relative:"0%"},wrapOrFill:"fill"}]},{templateId:"TOPIC",ratio:[16,9],layers:[{id:"1",type:"shape",shapeType:"rectangle",background:"rgba(-255,-255,-255,0)",stroke:"#BDBDBD",position:{x:"4.529629504418395%",y:"37.99436537284588%",width:"90.94074099116322%",height:"24.011269254308246%",rotation:0},lineCap:"butt",globalAlpha:1,lineWidth:"0.3%",animation:{animationName:Mc.Reveal,transitionDuration:1}},{id:"2",type:"text",backgroundColor:"rgba(-255,-255,-255,0)",borderRadius:{relative:"25.25%"},color:"#BDBDBD",fontFamily:"Montserrat",fontSize:57,baseWidth:571.7571451788612,baseHeight:65.7268420869861,italic:!1,fontWeight:"bold",globalAlpha:1,lineHeight:1.15,lockAspectRatio:!0,position:{x:"8.428341803375067%",y:"42.34228971962615%",width:"83.14331639324986%",height:"15.315420560747661%",rotation:0},text:"YOUR FIRST TOPIC",textAlign:"center",textTransform:"uppercase",textShadow:"transparent",underline:!1,wrapOrFill:"fill",textPadding:13,hasCustomFont:!1,textEffect:null,textShadowBlur:0,textShadowDist:.08,textShadowRot:69,textDropShadowColor:"#000000",textBlur:.35,animation:{animationName:Mc.Drop,transitionDuration:.5}}]},{templateId:"QUOTE",ratio:[16,9],layers:[{id:"1",type:"text",backgroundColor:"rgba(-255,-255,-255,0)",baseWidth:629.8381619349678,color:"#BDBDBD",fontFamily:"Bebas Neue",fontSize:60,fontWeight:"normal",globalAlpha:1,lineHeight:1,lockAspectRatio:!0,position:{x:"13.195929065887093%",y:"40.76359041946626%",width:"73.60814186822583%",height:"11.111111111111114%",rotation:0},text:"QUOTE OF INFINITE WISDOM",textAlign:"center",textTransform:"uppercase",textShadow:"transparent",baseHeight:60.76050077294487,textWithLineBreaks:"QUOTE OF INFINITE WISDOM",textEffect:null,textBlur:.2,textShadowBlur:0,textShadowDist:.08,textShadowRot:33,hasCustomFont:!1,italic:!1,borderRadius:{relative:"7.25%"},wrapOrFill:"fill",underline:!1},{id:"2",type:"text",backgroundColor:"rgba(-255,-255,-255,0)",baseWidth:629.8381619349678,color:"#BDBDBD",fontFamily:"Libre Baskerville",fontSize:22,fontWeight:"normal",globalAlpha:1,lineHeight:1,lockAspectRatio:!0,position:{x:"13.19592906588709%",y:"55.22398117489916%",width:"73.60814186822583%",height:"4.074074074074075%",rotation:0},text:"Albert Einstein",textAlign:"center",textShadow:"transparent",baseHeight:22.094727553798133,textWithLineBreaks:"Albert Einstein",textEffect:null,textBlur:.2,textShadowBlur:0,textShadowDist:.08,textShadowRot:33,hasCustomFont:!1,italic:!0,borderRadius:{relative:"7.25%"},wrapOrFill:"fill",underline:!1}]},{templateId:"CHAPTER_TITLE",ratio:[16,9],layers:[{id:"1",type:"text",backgroundColor:"rgba(-255,-255,-255,0)",borderRadius:{relative:"10.5%"},color:"#BDBDBD",fontFamily:"Georgia",fontSize:60,baseWidth:116.51289582208477,baseHeight:60.47965037786101,italic:!1,fontWeight:"bold",globalAlpha:1,lineHeight:1,lockAspectRatio:!0,position:{x:"42.34363272197165%",y:"26.81470499878485%",width:"15.3127345560567%",height:"14.018691588785046%",rotation:0},text:"01",textAlign:"center",textShadow:"transparent",underline:!1,wrapOrFill:"wrap",textPadding:12.5,hasCustomFont:!1},{id:"2",type:"text",backgroundColor:"rgba(-255,-255,-255,0)",borderRadius:{relative:"10.5%"},color:"#BDBDBD",fontFamily:"Georgia",fontSize:55,baseWidth:354.3064660621435,baseHeight:55.91514846255075,italic:!1,fontWeight:"bold",globalAlpha:1,lineHeight:1,lockAspectRatio:!0,position:{x:"26.71759495794913%",y:"43.01220183238608%",width:"46.56481008410181%",height:"12.85046728971963%",rotation:0},text:"CHAPTER 1",textAlign:"center",textTransform:"uppercase",textShadow:"transparent",underline:!1,wrapOrFill:"wrap",textPadding:12.5,hasCustomFont:!1},{id:"3",type:"text",backgroundColor:"rgba(-255,-255,-255,0)",borderRadius:{relative:"10.5%"},fontFamily:"Georgia",fontSize:21,baseWidth:518.268088798585,baseHeight:24.933591712382327,italic:!1,fontWeight:"normal",globalAlpha:1,lineHeight:1.15,lockAspectRatio:!0,position:{x:"15.943247669485515%",y:"67.50726447148135%",width:"68.11350466102898%",height:"5.64252336448598%",rotation:0},text:"Short description of what this chapter is about.",textAlign:"center",textShadow:"transparent",underline:!1,wrapOrFill:"wrap",textPadding:12.5,hasCustomFont:!1,color:"#BDBDBD"}]},{templateId:"TITLE",ratio:[16,9],layers:[{id:"1",type:"text",backgroundColor:"rgba(-255,-255,-255,0)",borderRadius:{relative:"10.5%"},color:"#BDBDBD",fontFamily:"Roboto Mono",fontSize:51,baseWidth:554.4835338077232,baseHeight:51.080562857726285,italic:!1,fontWeight:"normal",globalAlpha:1,lineHeight:1,lockAspectRatio:!0,position:{x:"13.563436008546226%",y:"47.06723259608451%",width:"72.87312798290755%",height:"11.915887850467291%",rotation:0},text:"TITLE TEXT HERE",textAlign:"center",textTransform:"uppercase",textShadow:"transparent",underline:!1,wrapOrFill:"wrap",textPadding:12.5},{id:"2",type:"text",backgroundColor:"rgba(-255,-255,-255,0)",borderRadius:{relative:"10.5%"},color:"#BDBDBD",fontFamily:"Roboto Mono",fontSize:34,baseWidth:388.1442650146144,baseHeight:34.05370857181752,italic:!1,fontWeight:"normal",globalAlpha:1,lineHeight:1,lockAspectRatio:!0,position:{x:"25.4407685385936%",y:"58.9762144777332%",width:"51.011950717458085%",height:"7.943925233644861%",rotation:0},text:"SUBTITLE TEXT HERE",textAlign:"center",textTransform:"uppercase",textShadow:"transparent",underline:!1,wrapOrFill:"wrap",textPadding:12.5},{id:"3",type:"text",backgroundColor:"rgba(-255,-255,-255,0)",borderRadius:{relative:"10.5%"},color:"#BDBDBD",fontFamily:"Roboto Mono",fontSize:30,baseWidth:299.08071951909176,baseHeight:30.124434505838575,italic:!1,fontWeight:"normal",globalAlpha:1,lineHeight:1,lockAspectRatio:!0,position:{x:"30.346623279265284%",y:"79.83136568787435%",width:"39.30675344146942%",height:"7.009345794392523%",rotation:0},text:"DATES/AUTHORS",textAlign:"center",textTransform:"uppercase",textShadow:"transparent",underline:!1,wrapOrFill:"wrap",textPadding:12.5}]},{templateId:"OUR_TEAM",ratio:[16,9],layers:[{id:"1",type:"text",backgroundColor:"rgba(-255,-255,-255,0)",baseWidth:703.2588439740796,color:"#BDBDBD",fontFamily:"Alfa Slab One",fontSize:111,fontWeight:"normal",globalAlpha:1,lineHeight:1,lockAspectRatio:!1,position:{x:"3.6214945728164345%",y:"19.344714856619564%",width:"60.62576241155858%",height:"17.065333238335366%",rotation:0},text:"Our team",textAlign:"left",textShadow:"transparent",baseHeight:111.35129938013827,textEffect:null,textBlur:.2,textShadowBlur:0,textShadowDist:.08,textShadowRot:33,hasCustomFont:!1,italic:!1,borderRadius:{relative:"7.25%"},wrapOrFill:"fill"},{id:"2",type:"text",backgroundColor:"rgba(-255,-255,-255,0)",baseWidth:1075.9813259106588,color:"#BDBDBD",fontFamily:"Montserrat",fontSize:37,fontWeight:"normal",globalAlpha:1,lineHeight:1.5,lockAspectRatio:!0,position:{x:"3.6214945728164345%",y:"37.23593532625004%",width:"92.75701085436714%",height:"43.41934981713042%",rotation:0},text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, \r\nsed do eiusmod tempor incididunt ut labore et dolore \r\nmagna aliqua. Ut enim ad minim veniam, quis nostrud \r\nexercitation ullamco laboris nisi ut aliquip ex ea \r\ncommodo consequat. ",textAlign:"left",textShadow:"transparent",baseHeight:283.31125755677596,textEffect:null,textBlur:.2,textShadowBlur:0,textShadowDist:.08,textShadowRot:33,hasCustomFont:!1,italic:!1,borderRadius:{relative:"7.25%"},wrapOrFill:"fill",underline:!1}]},{templateId:"QUOTE_CURSIVE",ratio:[16,9],layers:[{id:"1",type:"text",backgroundColor:"rgba(-255,-255,-255,0)",borderRadius:{relative:"10.5%"},fontFamily:"Satisfy",fontSize:58,baseWidth:621.5613293127642,baseHeight:134.04961914299054,italic:!1,fontWeight:"normal",globalAlpha:1,lineHeight:1.15,lockAspectRatio:!0,position:{x:"7.155578535230159%",y:"34.4158878504673%",width:"85.68884292953969%",height:"31.168224299065418%",rotation:0},text:'"Quote something your \r\ncustomer says."',textAlign:"center",textShadow:"transparent",underline:!1,wrapOrFill:"wrap",textPadding:1,hasCustomFont:!1,color:"#BDBDBD"}]}];function GV(e){return zV.find((t=>t.templateId===e.templateId))}function YV(e){return!!GV(e)}const KV=e=>e.map((e=>{const t=GV(e);return t?{...e,layers:t.layers}:e})),XV={brandkitTemplates:[],templates:zV,removedDefaultTemplateIds:[]};const ZV=e=>{const{removedDefaultTemplateIds:t=[]}=e;let{templates:a=[]}=e;return a=KV(a),a=((e,t)=>{const a=new Set;e.forEach((e=>{a.add(e.templateId)}));let n=!1;for(const i of zV){const e=a.has(i.templateId),s=t.includes(i.templateId);if(!e&&!s){n=!0;break}}if(!n)return e;let s=0;const o=e.filter((e=>!YV(e)));return zV.forEach((e=>{t.includes(e.templateId)||(o.splice(s,0,e),s+=1)})),o})(a,t),a=function(e){const t=[],a=new Set;return e.forEach((e=>{a.has(e.templateId)||(a.add(e.templateId),t.push(e))})),t}(a),{templates:a,removedDefaultTemplateIds:t}},qV=m({name:"textTemplates",initialState:XV,reducers:{setTextTemplates:(e,t)=>{const{templates:a,undoable:n}=t.payload;if(n){const n={type:t.type,payload:{templates:e.templates,undoable:!1}},s={type:t.type,payload:{templates:a,undoable:!1}};PU.add({undo:n,redo:s})}e.templates=a},setTextBrandkitTemplates:(e,t)=>{const{brandkitTemplates:a,undoable:n}=t.payload;if(n){const n={type:t.type,payload:{brandkitTemplates:e.brandkitTemplates,undoable:!1}},s={type:t.type,payload:{brandkitTemplates:a,undoable:!1}};PU.add({undo:n,redo:s})}e.brandkitTemplates=a},addTextTemplate:(e,t)=>{const{template:a,index:n,undoable:s}=t.payload;if(s){const e={type:"textTemplates/removeTextTemplate",payload:{templateId:a.templateId,undoable:!1}},s={type:t.type,payload:{template:a,index:n,undoable:!1}};PU.add({undo:e,redo:s})}void 0!==n?e.templates.splice(n,0,a):e.templates.push(a)},moveTextTemplate:(e,t)=>{const{srcTemplateId:a,dstTemplateId:n,undoable:s}=t.payload;if(s){const s={type:"textTemplates/setTextTemplates",payload:{templates:e.templates,undoable:!1}},o={type:t.type,payload:{srcTemplateId:a,dstTemplateId:n,undoable:!1}};PU.add({undo:s,redo:o})}if(void 0===e.templates.find((({templateId:e})=>e===a)))return void console.error("Cannot moveTextTemplate, srcTemplate is undefined");const o=e.templates.findIndex((({templateId:e})=>e===n));-1!==o?e.templates=AB(e.templates,a,o):console.error("Cannot moveTextTemplate, dstTemplateId is not found")},removeTextTemplate:(e,t)=>{const{templateId:a,undoable:n}=t.payload,s=e.templates.findIndex((e=>e.templateId===a)),o=e.templates[s];if(n&&o){const e={type:"textTemplates/addTextTemplate",payload:{template:o,index:s,undoable:!1}},n={type:t.type,payload:{templateId:a,undoable:!1}};PU.add({undo:e,redo:n})}o&&YV(o)&&(e.removedDefaultTemplateIds||(e.removedDefaultTemplateIds=[]),e.removedDefaultTemplateIds.push(a));e.templates=e.templates.filter((e=>e&&e.templateId&&e.templateId!==a))},addTextBrandkitTemplate:(e,t)=>{const{template:a,index:n}=t.payload;void 0!==n?e.brandkitTemplates.splice(n,0,a):e.brandkitTemplates.push(a)},moveTextBrandkitTemplate:(e,t)=>{const{srcTemplateId:a,dstTemplateId:n}=t.payload;if(void 0===e.brandkitTemplates.find((({templateId:e})=>e===a)))return void console.error("Cannot moveTextBrandkitTemplate, srcTemplate is undefined");const s=e.brandkitTemplates.findIndex((({templateId:e})=>e===n));-1!==s?e.brandkitTemplates=AB(e.brandkitTemplates,a,s):console.error("Cannot moveTextBrandkitTemplate, dstTemplateId is not found")},removeTextBrandkitTemplate:(e,t)=>{const{templateId:a}=t.payload;e.brandkitTemplates=e.brandkitTemplates.filter((e=>e&&e.templateId&&e.templateId!==a))}},extraReducers:e=>e.addDefaultCase(((e,t)=>{switch(t.type){case"RESET_STUDIO":case"RESET_STATE_PRESERVE_USER":return{...XV,...ZV(e)};default:return e}}))}),{setTextTemplates:JV,setTextBrandkitTemplates:$V,addTextTemplate:QV,moveTextTemplate:eH,removeTextTemplate:tH,addTextBrandkitTemplate:aH,moveTextBrandkitTemplate:nH,removeTextBrandkitTemplate:sH}=qV.actions,oH=m({name:"timelineStyles",initialState:{shouldScrollToStart:!1,timelineContainerWidth:0,timelineContainerHeight:0,useCSSTransitions:!1},reducers:{setScrollTimelineToStart:(e,t)=>{e.shouldScrollToStart=t.payload},setTimelineContainerSize:(e,t)=>{e.timelineContainerWidth=t.payload.width,e.timelineContainerHeight=t.payload.height},setUseCSSTransitions:(e,t)=>{e.useCSSTransitions=t.payload}}}),iH=oH.actions,rH=m({name:"transcriptTab",initialState:{intent:null,showTranscript:!1},reducers:{setIntent:(e,t)=>{e.intent=t.payload},setShowTranscript:(e,t)=>{e.showTranscript=t.payload}},extraReducers:e=>e.addCase("SHOW_TOOL_TIP",((e,t)=>{"trimWithTranscript"===t.toolTip&&(e.intent="trim")}))}),lH=rH.actions,dH=e=>we(e)?ye(e):e,cH=m({name:"workflows",initialState:{exportProgressByVideoId:{},feedbackEnabled:!1,folderWorkflowsById:{},savedBlueprintsByFolderId:{},workflowIdsByFolderId:{},workflowById:{}},reducers:{exportProgressCleared:(e,t)=>{delete e.exportProgressByVideoId[t.payload]},exportProgressUpdated:(e,t)=>{e.exportProgressByVideoId[t.payload.videoId]={progress:t.payload.progress,processVideoJobId:t.payload.processVideoJobId}},folderWorkflowsFetched:(e,t)=>{e.workflowIdsByFolderId[t.payload.folderId]={status:"success",data:t.payload.workflows.map((e=>e._id))},t.payload.workflows.forEach((t=>{e.folderWorkflowsById[t._id]={status:"success",data:t}}))},folderWorkflowsFetchStarted:(e,t)=>{e.folderWorkflowsById[t.payload]={status:"fetching"}},folderWorkflowsFetchError:(e,t)=>{e.folderWorkflowsById[t.payload.folderId]={status:"error",error:t.payload.error}},moveWorkflowsSuccess:(e,t)=>{if(0===t.payload.moveResult.movedWorkflows.length)return;const{sourceFolderId:a,moveResult:n}=t.payload,{destinationFolder:s,movedWorkflows:o}=n;o.forEach((t=>{e.folderWorkflowsById[t._id]={status:"success",data:t}}));const i=e.workflowIdsByFolderId[a];if("success"===(null==i?void 0:i.status)){const t=o.map((e=>e._id));i.data=i.data.filter((e=>!t.includes(e))),e.workflowIdsByFolderId[a]=i}const r=e.workflowIdsByFolderId[s._id];"success"===(null==r?void 0:r.status)&&(r.data=[...new Set([...r.data||[],...o.map((e=>e._id))])],e.workflowIdsByFolderId[s._id]=r)},removeWorkflow:(e,t)=>{e.workflowById[t.payload]&&delete e.workflowById[t.payload];const a=Object.entries(e.workflowIdsByFolderId);for(const[n,s]of a)"success"===s.status&&(s.data=s.data.filter((e=>e!==t.payload)),0===s.data.length&&delete e.workflowIdsByFolderId[n])},updateWorkflow:(e,t)=>{const a=e.workflowById[t.payload.workflowId];if(t.payload.undoable&&"success"===(null==a?void 0:a.status)&&fu(a.data)){let e={},n={};if(["highlightSettings"].forEach((s=>{var o,i;const r=null==(o=t.payload.updates)?void 0:o[s],l=null==(i=a.data)?void 0:i[s];if(r){const t={[s]:l},a={[s]:r};e={...e,...t},n={...n,...a}}})),Object.keys(e).length>0||Object.keys(n).length>0){const a={type:t.type,payload:{workflowId:t.payload.workflowId,updates:e,undoable:!1}},s={type:t.type,payload:{workflowId:t.payload.workflowId,updates:n,undoable:!1}};PU.add({undo:a,redo:s})}}if(a&&"success"===a.status){if(_u(null==a?void 0:a.data))return;if(a.data.status!==vu.COMPLETE)return;a.data={...a.data,...t.payload.updates}}const n=e.folderWorkflowsById[t.payload.workflowId];"success"===(null==n?void 0:n.status)&&(n.data={...n.data,...t.payload.updates})},updateWorkflowProject:(e,t)=>{const{workflowId:a,projectId:n,updates:s}=t.payload,o=e.workflowById[a];if("success"===(null==o?void 0:o.status)&&fu(o.data)){const e=o.data.projects.find((e=>e.id===n));e&&Object.assign(e,s)}},workflowFetchStarted:(e,t)=>{e.workflowById[t.payload]={status:"fetching"}},workflowFetchError:(e,t)=>{e.workflowById[t.payload.workflowId]={status:"error",error:t.payload.error}},workflowFetched:(e,t)=>{const a=e.workflowById[t.payload.workflowId],n=a?dH(a):null;"success"===(null==n?void 0:n.status)&&c.isEqual(n.data,t.payload.workflow)||(e.workflowById[t.payload.workflowId]={status:"success",data:c.cloneDeep(t.payload.workflow)},t.payload.workflow.isSample||(e.savedBlueprintsByFolderId[t.payload.workflow.folderId]=t.payload.folderSavedBlueprints))},updateFolderSettings:(e,t)=>{e.savedBlueprintsByFolderId[t.payload.folderId]=t.payload.savedBlueprints},toggleFeedback:e=>{e.feedbackEnabled=!e.feedbackEnabled}}}),uH=cH.actions;function pH(e,t){let a=t.getStartKey();const n=t.getEndKey();let s=t.getStartOffset(),o=e.getBlockForKey(a).getCharacterList().slice(s);const i=[];for(;a!==n;){for(const e of o.toArray())i.push(e);const t=e.getBlockAfter(a);a=t.getKey(),o=t.getCharacterList(),s=0}o=o.slice(0,t.getEndOffset()-s);for(const r of o.toArray())i.push(r);return i}const mH=e=>{const t=e.getFirstBlock().getKey();return _e.SelectionState.createEmpty(t).merge({anchorKey:t,anchorOffset:0,focusKey:e.getLastBlock().getKey(),focusOffset:e.getLastBlock().getLength()})},gH=e=>{const t=e.getCurrentContent(),a=t.getFirstBlock().getKey(),n=t.getLastBlock().getKey(),s=t.getLastBlock().getLength(),o=e.getSelection();return o.getStartKey()===a&&0===o.getStartOffset()&&o.getEndKey()===n&&o.getEndOffset()===s},hH=e=>{const t=e.getCurrentContent().getBlocksAsArray(),a=e.getSelection(),n=a.getStartKey(),s=a.getStartOffset(),o=a.getEndKey(),i=a.getEndOffset(),r=t.map((e=>[e.getKey(),e.getLength()]));let l=0;for(const[c,u]of r){if(c===n){l+=s;break}l+=u+1}let d=0;for(const[c,u]of r){if(c===o){d+=i;break}d+=u+1}return[l,d]},vH=(e,t)=>{let a=0,n=null,s=0;const o=e.getCurrentContent().getBlocksAsArray().map((e=>[e.getKey(),e.getLength()]));if(t>-1)for(const[i,r]of o){const e=a;if(a+=r+1,a>t){n=i,s=t-e;break}}else{const t=e.getCurrentContent().getBlockMap().toList();n=t.last().get("key"),s=t.last().getLength()}if(n){const t=_e.SelectionState.createEmpty(n).merge({anchorKey:n,anchorOffset:s,focusKey:n,focusOffset:s});return _e.EditorState.forceSelection(e,t)}return e},fH=(e,t,a)=>{const n=e.getBlocksAsArray().map((e=>[e.getKey(),e.getLength()]));let s=0,o=null,i=0;for(const[d,c]of n){const e=s;if(s+=c+1,s>t){o=d,i=t-e;break}}s=0;let r=null,l=0;for(const[d,c]of n){const e=s;if(s+=c+1,s>a){r=d,l=a-e;break}}if(o&&r){return _e.SelectionState.createEmpty(o).merge({anchorKey:o,anchorOffset:i,focusKey:r,focusOffset:l})}return null},bH=e=>e.getCurrentContent().getPlainText(),yH=(e,t)=>{let a=e;const n=pH(a,mH(a));for(let s=0;s<n.length;s+=1){!n[s].getStyle().toArray().some((e=>e.startsWith("COLOR")))&&(a=wH(a,s,t))}return a},wH=(e,t,a)=>{const n=fH(e,t,t+1);return n?_e.Modifier.applyInlineStyle(e,n,a):e};var _H=(e=>(e.MOUNT_ACTIVE_EDITORS="MOUNT_ACTIVE_EDITORS",e.UNMOUNT_ACTIVE_EDITORS="UNMOUNT_ACTIVE_EDITORS",e.UPDATE_ACTIVE_EDITOR="UPDATE_ACTIVE_EDITOR",e.SET_TEXT_BOLD="SET_EDITOR_TEXT_BOLD",e.SET_TEXT_ITALICS="SET_EDITOR_TEXT_ITALICS",e.SET_TEXT_UNDERLINE="SET_EDITOR_TEXT_UNDERLINE",e.SET_TEXT_COLOR="SET_EDITOR_TEXT_COLOR",e))(_H||{});const CH=ne("MOUNT_ACTIVE_EDITORS"),SH=ne("UNMOUNT_ACTIVE_EDITORS"),xH=ne("UPDATE_ACTIVE_EDITOR"),IH=ne("SET_EDITOR_TEXT_BOLD"),AH=ne("SET_EDITOR_TEXT_ITALICS"),kH=ne("SET_EDITOR_TEXT_UNDERLINE"),TH=ne("SET_EDITOR_TEXT_COLOR"),EH=(e,t,a)=>{const n=e.getSelection(),s=e.getCurrentContent(),o=n.isCollapsed()?mH(s):n,i=a?_e.Modifier.applyInlineStyle(s,o,t):_e.Modifier.removeInlineStyle(s,o,t),r=_e.EditorState.push(e,i,"change-inline-style");return _e.EditorState.acceptSelection(r,n)},LH=(e,t,a)=>{const n=e.getSelection(),s=e.getCurrentContent(),o=n.isCollapsed()?mH(s):n;let i=$N(s).filter((e=>e.startsWith(t))).reduce(((e,t)=>_e.Modifier.removeInlineStyle(e,o,t)),s);i=_e.Modifier.applyInlineStyle(i,o,`${t}_${a}`),i=yH(i,`${t}_${a}`);const r=_e.EditorState.push(e,i,"change-inline-style");return _e.EditorState.acceptSelection(r,n)},jH=Ce({},{[_H.MOUNT_ACTIVE_EDITORS]:(e,{payload:t})=>{for(const{id:a,editor:n}of t)e[a]?e[a].mountCounter+=1:e[a]={editor:n,syncCounter:0,mountCounter:1}},[_H.UPDATE_ACTIVE_EDITOR]:(e,{payload:t})=>{e[t.id]?e[t.id].editor=t.editor:e[t.id]={editor:t.editor,syncCounter:0,mountCounter:1}},[_H.UNMOUNT_ACTIVE_EDITORS]:(e,{payload:t})=>{for(const a of t)e[a]&&(e[a].mountCounter-=1,e[a].mountCounter<=0&&(e[a]=void 0))},[_H.SET_TEXT_BOLD]:(e,{payload:t})=>{for(const a of t.ids)e[a]&&(e[a].editor=EH(e[a].editor,"BOLD",t.value),e[a].syncCounter=e[a].syncCounter+1)},[_H.SET_TEXT_ITALICS]:(e,{payload:t})=>{for(const a of t.ids)e[a]&&(e[a].editor=EH(e[a].editor,"ITALIC",t.value),e[a].syncCounter=e[a].syncCounter+1)},[_H.SET_TEXT_UNDERLINE]:(e,{payload:t})=>{for(const a of t.ids)e[a]&&(e[a].editor=EH(e[a].editor,"UNDERLINE",t.value),e[a].syncCounter=e[a].syncCounter+1)},[_H.SET_TEXT_COLOR]:(e,{payload:t})=>{for(const a of t.ids)e[a]&&(e[a].editor=LH(e[a].editor,"COLOR",t.value),e[a].syncCounter=e[a].syncCounter+1)}}),RH={},NH={currentTemplate:(e={},t)=>"SET_CURRENT_TEMPLATE"===t.type?t.currentTemplate:e,parentId:(e="",t)=>{switch(t.type){case"SET_PARENT_ID":return t.parentId||"";case"RESET_EDITOR":return"";default:return e}},templateSource:(e="",t)=>"SET_TEMPLATE_SOURCE"===t.type?t.source:e,templates:(e=[],t)=>{switch(t.type){case"SET_TEMPLATES":return t.templates;case"APPEND_TEMPLATES":{const a=[],n=new Set;return[...e,...t.templates].forEach((e=>{n.has(e._id)||(n.add(e._id),a.push(e))})),a}case"RESET_EDITOR":return[];default:return e}}};var MH={COMMIT:"53b21b21",IN_GKE:!0,NODE_ENV:"production",REACT_APP_KAPWING_SERVER:"production",SENTRY_ENV:"production",VERSION:"v2025.04.07.3",REACT_CUSTOM_PROFILER:!1,DEPLOY_TARGET:"",USING_SEEDED_DB:!1};const PH={user:{},token:""},FH=e=>{const t=31536e3;(new C).set("ssrSignedInCookie",e,{path:"/",expires:new Date(Date.now()+31536e6),maxAge:t,secure:!0})},DH=e=>{Se(null!=e?{id:e._id,email:e.email,segment:bv(e)??void 0,accountType:""}:null)};function OH(){return{analytics:{},appliedHighlight:null,eyedropperMode:null,projectVersion:"0.18",ratio:"1:1",hasCustomOutput:!1,customOutputWidth:void 0,customOutputHeight:void 0,topFontsLoaded:!1,origin:"",overlayMounted:!1,isDragging:!1,userSelectedDuration:0,userSetDuration:!1,animations:{byId:{}},allLayers:{byId:{}},localId:K(),deletedLayerDict:{},selectedTimelineRows:[0],groups:{},pendingGoogleDriveUploads:[],timelineGap:null,safeZoneChosen:"none",snapToGrid:!0,privacy:ad.unlisted,showCanvas:!1,background:"#ffffff",canvasBlur:!1,duration:0,videoType:"mp4",imageType:"png",gifType:"gif",processingSpeedType:_d.FAST,exportFrameTime:-1,quality:"standard",draft:!1,done:!1,createdAt:"",fullPath:"",image_url:"",updateKey:0,refreshKey:0,lastSaved:"",dimensions:{screenWidth:0,screenHeight:0},name:"",workspaceId:null,projectId:null,creatorId:void 0,creatorEmail:void 0,copiedProjectId:void 0,teamId:void 0,contextMenuUsed:0,playCanvasPreviewOnMount:!1,usedEyedropper:!1,watermark:!1,layerDuplicated:!1,thisProjectCMLFiles:void 0,enhanceAssetJobs:{},userSpecificSettings:{},userSpecificSettingsAnonymous:{},selectedTransition:null,magicSubtitles:{},magicSubtitlesGlobal:{},magicSubtitleFramesByAsset:{},assetUploadedSubtitles:{},assetTextJobIds:void 0,dubbing:void 0,broll:void 0,readonly:!1,exportQuality:"Standard",exportResolution:"AUTO",isBrandKitTemplate:null,fromBrandKitTemplate:null,keyframing:void 0,speakerFocusEdits:void 0,transcriptionEditCounts:{},personas:{personaSidebar:{}}}}xe();const UH=async e=>{const{state:t,dispatch:a}=Mu();if("pending"!==t.CMLFiles.removeFromMyMediaFetchStatuses[e])try{a(BH.actions.removeFromMyMediaUpdate({cmlFileId:e,status:"pending"})),await Yf(`/api/v1/cloudMediaLibrary/myMedia/${e}`),a(BH.actions.removeFromMyMediaUpdate({cmlFileId:e,status:"fulfilled"}))}catch(n){console.error(n),a(BH.actions.removeFromMyMediaUpdate({cmlFileId:e,status:"rejected"}))}},BH=m({initialState:{byId:{},myMediaIds:new Set,myMediaInitialized:!1,promptRemoveFiles:null,removeFromMyMediaFetchStatuses:{},removeAllMyMediaFetchStatus:null,toUploadId:{}},name:"CMLFiles",reducers:{addToMyMedia:(e,t)=>{e.myMediaIds=new Set([...e.myMediaIds,...t.payload]),e.myMediaInitialized=!0},filesFetched:(e,t)=>{for(const a of t.payload)e.byId[a._id]=a},linkToUploadId:(e,t)=>{e.toUploadId[t.payload.cmlFileId]=t.payload.uploadId},promptRemove:(e,t)=>{e.promptRemoveFiles=t.payload},promptRemoveCompleted:e=>{e.promptRemoveFiles=null},changeCMLFileName:(e,t)=>{const a=e.byId[t.payload.id];a&&(a.fileName=t.payload.newFileName)},updateLocalCMLFileModifiedDate:(e,t)=>{const a=e.byId[t.payload.id];a&&(a.modified=t.payload.modified.toISOString())},removeAllMyMediaUpdate:(e,t)=>{e.removeAllMyMediaFetchStatus=t.payload,"fulfilled"===t.payload&&(e.myMediaIds=new Set)},removeFromMyMediaUpdate:(e,t)=>{e.removeFromMyMediaFetchStatuses[t.payload.cmlFileId]=t.payload.status,"fulfilled"===t.payload.status&&e.myMediaIds.delete(t.payload.cmlFileId)}}}),{addToMyMedia:WH,filesFetched:VH,linkToUploadId:HH,promptRemove:zH,promptRemoveCompleted:GH,updateLocalCMLFileModifiedDate:YH,changeCMLFileName:KH}=BH.actions;async function XH(e){return await Kf(`/api/v1/cloudMediaLibrary/file/${e}`)}async function ZH(e,t){RE((()=>Xf(`/api/v1/cloudMediaLibrary/file/${e}/linkedVideo/${t}`).catch(console.error)))}async function qH(e,t){return await Xf(`/api/v1/cloudMediaLibrary/file/${e}/conversionFinished`,{body:{convertedAssetId:t}})}async function JH(e,t){return await qf("/api/v1/cloudMediaLibrary/updateFileName",{body:{cmlFileID:e,newFileName:t}})}let $H=0,QH=0,ez=0,tz=0,az=!1,nz=0;const sz=()=>{QH=0},oz=e=>{az!==e&&(az=e,nz=performance.now())},iz=()=>{tz=performance.now()},rz=()=>{const e=performance.now();return{appSession:ih,amplitudeSession:null==(t=null==amplitude?void 0:amplitude.getSessionId)?void 0:t.call(amplitude),sessionDuration:e,timeSinceLastOpSent:e-ez,timeSinceLastOpReceived:e-tz,globalOpCounter:$H,projectOpCounter:QH,wsConnected:az,timeSinceWsConnectedChanged:e-nz};var t};let lz=!1,dz=null,cz=null,uz={};const pz=(e,t=!0)=>{lz||window.location.pathname.includes("studio")&&(null!=cz&&void 0===uz[e]?(uz[e]=t||"studio"===e?performance.now()-cz:null,void 0!==uz.canvas&&void 0!==uz.studio&&void 0!==uz.thumbnails&&void 0!==uz.waveforms&&(lz=!0)):console.assert(null!=cz,`${e} finished loading before the studio started?`))};function mz(){const e=Math.max(...Object.values(uz).filter((e=>!!e)));return{"Remote Reedit":dz,"Loaded entire studio (ms)":e,"Loaded studio (ms)":uz.studio,"Loaded canvas (ms)":uz.canvas,"Loaded waveforms (ms)":uz.waveforms,"Loaded thumbnails (ms)":uz.thumbnails,"Loaded studio completely":Object.values(uz).every((e=>void 0!==e))}}function gz(e){const t=pA(e.projectVersion);return 0===t[0]&&t[1]<15?function(e){var t;const a={};for(const n in e)["scenes"].includes(n)||(a[n]=e[n]);if("scenes"in e){a.scenes=[];for(const n of e.scenes)if(n){a.scenes.push(n.id),a[`scene_${n.id}`]={},a[`scene_${n.id}_layers`]=[];for(const e in n)"layers"!==e&&(a[`scene_${n.id}`][e]=n[e]);for(const e of n.layers)e&&(a[`layer_${e.id}`]=e,null==(t=a[`scene_${n.id}_layers`])||t.push(e.id))}}return c.cloneDeep(a)}(e):function(e){const t={};for(const a in e)["scenes"].includes(a)||(t[a]=e[a]);return c.cloneDeep(t)}(e)}var hz=(e=>(e.UPDATE_ANALYTICS="UPDATE_ANALYTICS",e.ADD_CONTEXT_MENU_ANALYTICS="ADD_CONTEXT_MENU_ANALYTICS",e))(hz||{});function vz(e,t=!1){return{type:"UPDATE_ANALYTICS",updates:e,undoable:t}}function fz(){const{state:e}=Mu();return{type:"ENABLE_SNAP_IN_TIMELINE",userId:e.currentUser.user._id}}function bz(){const{state:e}=Mu();return{type:"DISABLE_SNAP_IN_TIMELINE",userId:e.currentUser.user._id}}function yz(e){return{type:"SET_VIDEO_TYPE",videoType:e}}function wz(e){return{type:"SET_IMAGE_TYPE",imageType:e}}function _z(e){return{type:"SET_GIF_TYPE",gifType:e}}function Cz(e){return{type:"SET_PROCESSING_SPEED_TYPE",processingSpeedType:e}}function Sz(e){return{type:"SET_EXPORT_FRAME_TIME",exportFrameTime:e}}function xz(e){return{type:"SET_QUALITY",quality:e}}function Iz(e,t){const{state:a}=Mu();return{type:"SET_USER_SPECIFIC_SETTING",key:e,value:t,userId:a.currentUser.user._id}}const Az=(e,t=!0)=>({type:"ADD_MAGIC_SUBTITLE_SPEAKERS",speakers:e,undoable:t}),kz=(e,t=!0)=>({type:"SET_SHOW_SPEAKER_LABELS_IN_EDITOR",showSpeakerLabelsInEditor:e,undoable:t}),Tz=(e,t=!0)=>({type:"SET_SHOW_SPEAKER_LABELS_ON_CANVAS",showSpeakerLabelsOnCanvas:e,undoable:t}),Ez=({speakerId:e,newName:t,undoable:a=!0})=>({type:"RENAME_SPEAKER",speakerId:e,newName:t,undoable:a}),Lz=({speakerIds:e,undoable:t=!0})=>({type:"REMOVE_SPEAKERS",speakerIds:e,undoable:t}),jz=({speakerId:e,position:t,undoable:a=!0})=>({type:"UPDATE_SPEAKER_POSITION",speakerId:e,position:t,undoable:a}),Rz=({speakerId:e,update:t,undoable:a=!0})=>({type:"UPDATE_SPEAKER_STYLES",speakerId:e,update:t,undoable:a}),Nz=({speakerId:e,preset:t,undoable:a=!0})=>({type:"UPDATE_SPEAKER_PRESET",speakerId:e,preset:t,undoable:a}),Mz=({speakerId:e,wbwAnimation:t,undoable:a=!0})=>({type:"UPDATE_SPEAKER_WBW_ANIMATION",speakerId:e,wbwAnimation:t,undoable:a}),Pz=(e,t=!0)=>({type:"SET_ALL_SPEAKER_CONFIGS",speakerConfigs:e,undoable:t}),Fz=["#7D89E1","#E2517A","#00ABDF","#DB762C","#00B09E","#CE9700","#89480C","#556764"],Dz=()=>{var e;const{state:t}=Mu(),a=new Set(Object.keys((null==(e=t.studio.magicSubtitleSpeakers)?void 0:e.speakerLabelsMap)||{}));let n=tA(3);for(;a.has(n);)n=tA(3);return n},Oz=({frames:e,existingSpeakers:t={},transcriptWords:a,ttsVoiceId:n})=>{const s=[];for(const g of Object.values(e))g&&s.push(g);const o=Object.values(s).sort(((e,t)=>e[Xc.start]-t[Xc.start])),i=[];for(const g of o)for(const e of g[Xc.words]){const t=e[Zc.speaker]||"UNDEFINED";i.includes(t)||i.push(t)}a.forEach((e=>{const{speaker:t}=e;t&&!i.includes(t)&&i.push(t)}));const r={},l={},d=Date.now(),c=e=>{const t=Dz(),a=(e=>{const t=Object.values(e).reduce(((e,t)=>{const a=t.name,n=null==a?void 0:a.match(/^Speaker (\d+)$/);if(n&&n[1]){const t=parseInt(n[1]);return Math.max(t,e)}return e}),0),a=/^Speaker (\d+)$/;for(const n in[...Array(t+1).keys()]){const t=parseInt(n)+1;let s=!0;for(const n of Object.values(e)){const e=n.name,o=null==e?void 0:e.match(a);o&&o[1]&&parseInt(o[1])===t&&(s=!1)}if(s)return t}return t+1})(r),s=(e=>{for(const t in[...Array(Fz.length).keys()]){let a=!0;for(const n of Object.values(e))n.color===Fz[t]&&(a=!1);if(a)return Fz[t]}return Fz[0]})(r),o={name:`Speaker ${a}`,color:s,timeAdded:d+e,ttsVoiceId:n};return r[t]=o,{speakerId:t,speakerInfo:o}},u=n?Object.entries(t).find((([e,t])=>t.ttsVoiceId===n)):void 0;let p=null==u?void 0:u[0];if(n&&!p){const e=c(0);p=e.speakerId}i.forEach(((e,t)=>{if(p)l[e]=p;else{const{speakerId:a}=c(t);l[e]=a}}));for(const g of Object.values(e)){if(!g)continue;const e=g[Xc.words];for(const t of e){const e=t[Zc.speaker]||"UNDEFINED",a=l[e];a&&(t[Zc.speaker]=a)}}const m=Object.keys(l).reduce(((e,t)=>{const a=l[t];return a&&(e[a]=t),e}),{});return{newSpeakerMap:r,speakerIdToTranscriptTag:m}},Uz=e=>{var t;const a=e.toLowerCase().trim(),n=[],s=null==(t=Mu().state.studio.magicSubtitleSpeakers)?void 0:t.speakerLabelsMap;if(s)for(const l in s)n.push(s[l].name.toLowerCase());if(!n.includes(a))return e;let o=0;const i=a.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),r=new RegExp(`^${i} \\((\\d+)\\)$`);for(const l of n){const e=r.exec(l);if(null==e?void 0:e[1]){const t=parseInt(e[1]);t>o&&(o=t)}}return o?`${e} (${o+1})`:`${e} (1)`},Bz=e=>{var t;const{dispatch:a,state:n}=Mu(),s=Uz(e),o=Dz(),i=Object.values((null==(t=n.studio.magicSubtitleSpeakers)?void 0:t.speakerLabelsMap)||{}).sort(((e,t)=>t.timeAdded-e.timeAdded))[0],r=i?Fz.indexOf(i.color):-1,l=Fz[(r+1)%Fz.length],d=Date.now();return a(Az({[o]:{name:s,color:l,timeAdded:d}})),o},Wz=e=>{if(!e.length)return;const{state:t}=Mu(),a=new Set;return e.forEach((e=>{var n,s;const o=null==(s=null==(n=t.studio.magicSubtitleFramesByAsset)?void 0:n[e])?void 0:s.byId;o&&Object.values(o).forEach((e=>{if(null==e?void 0:e[Xc.words]){e[Xc.words].forEach((e=>{e[Zc.speaker]&&a.add(e[Zc.speaker])}))}}))})),Object.keys(t.studio.magicSubtitleFramesByAsset||{}).forEach((n=>{var s,o;if(e.includes(n)||!a.size)return;const i=null==(o=null==(s=t.studio.magicSubtitleFramesByAsset)?void 0:s[n])?void 0:o.byId;i&&Object.values(i).forEach((e=>{if(null==e?void 0:e[Xc.words]){e[Xc.words].forEach((e=>{const t=e[Zc.speaker];t&&a.has(t)&&a.delete(t)}))}}))})),Array.from(a)},Vz=u((e=>e.studio.magicSubtitleFramesByAsset),(e=>{const t=new Set;return Object.values(e||{}).forEach((e=>{e&&Object.values(e.byId).forEach((e=>{if(!e)return;const a=rO(e);a&&t.add(a)}))})),Array.from(t).sort()}));function Hz(){const e=new URLSearchParams(window.location.search);return!e.get("refresh")&&(e.set("refresh","true"),window.location.search=e.toString(),!0)}let zz=!1;async function Gz(e){if(zz)return;zz=!0,await Promise.race([new Promise((t=>{ov("Project Version Mismatch",{Message:e.message,Source:e.source,"Op Submission Type":e.timing},{onSuccess:t})})),new Promise((e=>{setTimeout((()=>{e()}),2e3)}))]);Hz()||(Mu().history.push("/",{force:!0}),setTimeout((()=>{const{dispatch:e}=Mu();e(db({description:"Incompatible project version, try reloading Kapwing",type:"error"}))}),500),zz=!1)}const Yz=!Ef()&&!window.Cypress;let Kz,Xz=0;function Zz(e){return Kz||(Kz=new Promise((t=>{setTimeout((()=>{qz(e).finally((()=>{Kz=void 0,t()}))}))})),Kz)}function qz(e){return new Promise((t=>{var a,n;if(!Ch.hasPendingOps())return t();if(Ch.submittedQueueIsFull())return console.warn("Queue is full, waiting for current batch to finish"),t();if(window.sharedDoc&&window.sharedDoc.data&&Mu().state.userPermissions.canWrite){let s=c.cloneDeep(Ch.getNextPendingOps());if("offline"===e){const e=null==(n=null==(a=window.sharedDoc)?void 0:a.data)?void 0:n.projectVersion,t=[],o=[];for(const a of s)a.__md.cv===e?t.push(a):o.push(a);o.length&&(console.warn(`Discarding ${o.length} offline ops due to version mismatch`),s=t,Ch.ackOps(o))}(function(e,t){return 0===e.length?Promise.resolve():new Promise((a=>{lG();const{sharedDoc:n}=window;if(!n)return Yz&&console.debug("sharedDoc is unavailable. can't submit ops"),a();if(Ef()||console.debug("submitting ",e.length,t,"ops"),"offline"===t)for(const t of e)t.__md.offlineOpSubmittedAt=Date.now();const s=Array.from(e,(e=>c.omit(e,"__localMd")));n.submitOp(s,void 0,(s=>{Ch.ackOps(e),s?function(e,t,a,n){var s;const o=e.message.includes("Version mismatch"),i=e.message.includes('The value of "offset" is out of range'),r=e.message.includes("Permission denied"),d=e.message.includes("Referenced element not an object"),u=t.slice(0,10);let p,m;if(console.error("Failed to submit op.",e,t),i)m="op:valueOffset";else if(r)m="op:permissionDenied";else if(o)m="op:versionMismatch";else try{const e=c.cloneDeep(n.data);for(const a of t)try{Ie.type.apply(e,[a])}catch(g){console.warn("Found bad op",a,g),p=a;break}}catch(g){console.warn("Failed trying to find bad op",g)}if(Xz<10){Xz++;const i={isSyncOfflineOps:"offline"===a,isSubscribed:!!n.subscribed,hasData:!!n.data},r={opsCount:t.length,ops:u,firstOpThatFailed:p,sharedDBDocVersion:null==(s=n.data)?void 0:s.projectVersion,shareDBVersion:n.version};if(d&&p){i.isFromSessionSettings=p.__localMd.fromSessionSettings;const e={};let t=n.data;for(const a of p.p){if(null==t[a]){e[a]=!1;break}e[a]=!0,t=t[a]}r.pathDefinitions=e}if(e instanceof Error){const t=$v.fromError(e,{extra:r,tags:{...i,versionMismatch:o},fingerprint:m});l(t)}else l(new Error("Failed to submit op"),{extra:{...r,error:e},tags:{...i,versionMismatch:o}})}if(o)Gz({source:"onOp",timing:a,message:e.message});else{const{sharedDoc:e}=window;if(!e)return;console.warn("Forcing sharedb to sync with client after bad op");const{state:t}=Mu();Ch.clear(),rG(e,t.studio,"handleOpError")}}(s,e,t,n):(dG(),ez=performance.now()),a()}))}))})(s,e).finally((()=>{Ch.hasPendingOps()?qz(e).finally((()=>{t()})):t()}))}else t(),Yz&&console.debug("can't submit ops right now - no shareddoc or user access")}))}function Jz(e,t){const a=function(e,t){const a={cv:"0.18",submittedAt:Date.now(),sdv:tG(),...rz(),...t};return{...e,__md:a,__localMd:{id:fe(12)}}}(c.cloneDeep(e),t);$H+=1,QH+=1,Ch.push(a),Ef()&&(delete a.__md,function(e){if(!window.jestSharedbDoc){const e=gz(window.state.studio);window.jestSharedbDoc=e}const t=window.jestSharedbDoc;try{Ie.type.apply(t,[e])}catch(a){throw console.debug(e),a}}(a)),Zz("live")}window.jestSharedbDoc=null;const $z=new Set(["deletedLayerDict","selectedItem","selectedTransition"]);function Qz(e,t){for(const a of e)$z.has(a.p[0])||Jz(a,{srcFn:t})}function eG(e=1e4){return Promise.race([Zz("offline"),Tf(e)])}function tG(){var e;return null==(e=window.sharedDoc)?void 0:e.version}function aG({path:e,val:t,oldVal:a,srcFn:n,skipLastUpdated:s}){(t||t!==a)&&Jz({p:e,od:a,oi:t},{srcFn:n,skipLastUpdated:s})}function nG({path:e,oldVal:t,srcFn:a,skipLastUpdated:n}){Jz({p:e,od:t},{srcFn:a,skipLastUpdated:n})}function sG(e,t,a,n,s){JSON.stringify(a)!==JSON.stringify(t)&&Jz({p:[e],od:a,oi:t},{srcFn:n,skipLastUpdated:s})}function oG(e,t,a,n,s,o){if(n===a)return;Jz({p:[e,t],od:n,oi:a},{srcFn:s,skipLastUpdated:o})}function iG(e,t,a,n){Jz({p:[e,t],od:a},{srcFn:n})}function rG(e,t,a){x({message:"Syncing video to sharedDoc"});const n={srcFn:"client/syncVideoToSharedDoc",submittedAt:Date.now(),cv:t.projectVersion||"unknown",sdv:tG(),...rz()},s=gz(t),o=Object.entries(s);o.sort(((e,t)=>"projectVersion"===e[0]?-1:"projectVersion"===t[0]?1:0)),o.forEach((([t,s])=>{t&&s&&(c.isEqual(e.data[t],s)||e.submitOp({p:[t],oi:s,od:e.data[t],__md:{...n,srcFn:`client/${a}/syncVideoToSharedDoc`,submittedAt:Date.now()}}))})),Object.entries(e.data).forEach((([t,o])=>{t&&o&&(c.isEqual(s[t],o)||s[t]||e.submitOp({p:[t],od:o,__md:{...n,srcFn:`client/${a}/removeKeyFromSharedDoc`,submittedAt:Date.now()}}))}))}const lG=c.throttle((()=>{setTimeout((()=>{Mu().dispatch(xj("websocket"))}))}),5e3),dG=c.throttle((()=>{setTimeout((()=>{Mu().dispatch(Ij("websocket"))}))}),5e3),cG=(e,t)=>{switch(t.type){case"ADD_DUBBING_SPEAKERS":return te(e,(e=>{if(!e.dubbingFrames)throw new Error("dubbingFrames should be initialized");const a=dH(e.dubbingFrames.speakers.speakerMap[t.assetId]),n={...a};t.speakerIds.forEach((e=>{const a=Object.values(n).length+1,s=(e=>{for(const t in[...Array(Fz.length).keys()]){let a=!0;for(const n of Object.values(e))n.color===Fz[t]&&(a=!1);if(a){const e=Fz[t];if(!e)throw new Error("Color index beyond color list");return e}}return"#7D89E1"})(n);n[e]={name:`Speaker ${a}`,color:s,voice:t.startingVoice??Lm,timeAdded:Date.now()}})),e.dubbingFrames.speakers.speakerMap[t.assetId]=n,aG({path:["dubbingFrames","speakers","speakerMap",t.assetId],val:n,oldVal:a,srcFn:"ADD_DUBBING_SPEAKERS"}),t.undoable&&PU.add({undo:{...t,speakerIds:t.speakerIds,type:"REMOVE_DUBBING_SPEAKERS",undoable:!1},redo:{...t,undoable:!1}})}));case"REMOVE_DUBBING_SPEAKERS":return te(e,(e=>{var a;if(!(null==(a=e.dubbingFrames)?void 0:a.speakers.speakerMap))throw new Error("speakers should be initialized");const n=dH(e.dubbingFrames.speakers.speakerMap[t.assetId]),s={...e.dubbingFrames.speakers.speakerMap[t.assetId]};t.speakerIds.forEach((e=>{delete s[e]})),e.dubbingFrames.speakers.speakerMap[t.assetId]=s,aG({path:["dubbingFrames","speakers","speakerMap",t.assetId],val:s,oldVal:n,srcFn:"REMOVE_DUBBING_SPEAKERS"}),t.undoable&&PU.add({undo:{...t,assetId:t.assetId,speakerMap:n,type:"SET_SPEAKER_MAP_FOR_ASSET_ID",undoable:!1},redo:{...t,undoable:!1}})}));case"RENAME_DUBBING_SPEAKER":return te(e,(e=>{var a;if(!(null==(a=e.dubbingFrames)?void 0:a.speakers.speakerMap))throw new Error("speakers should be initialized");const n=e.dubbingFrames.speakers.speakerMap[t.assetId];if(!n)throw new Error("speaker map not found for speaker rename");const s=dH(n[t.speakerId]);if(!s)throw new Error("speaker not found for speaker rename");const o={...s,name:t.newName};n[t.speakerId]=o,aG({path:["dubbingFrames","speakers","speakerMap",t.assetId,t.speakerId],val:o,oldVal:s,srcFn:"RENAME_DUBBING_SPEAKER"}),t.undoable&&PU.add({undo:{...t,newName:s.name,type:"RENAME_DUBBING_SPEAKER",undoable:!1},redo:{...t,undoable:!1}})}));case"CHANGE_DUBBING_SPEAKER_VOICE":return te(e,(e=>{var a;if(!(null==(a=e.dubbingFrames)?void 0:a.speakers.speakerMap))throw new Error("speakers should be initialized");const n=e.dubbingFrames.speakers.speakerMap[t.assetId];if(!n)throw new Error("speaker map not found for speaker voice change");const s=dH(n[t.speakerId]);if(!s)throw new Error("speaker not found for speaker voice change");const o={...s,voice:t.newVoice};n[t.speakerId]=o,aG({path:["dubbingFrames","speakers","speakerMap",t.assetId,t.speakerId],val:o,oldVal:s,srcFn:"CHANGE_DUBBING_SPEAKER_VOICE"}),t.undoable&&PU.add({undo:{...t,newVoice:s.voice,type:"CHANGE_DUBBING_SPEAKER_VOICE",undoable:!1},redo:{...t,undoable:!1}})}));case"SET_SPEAKER_MAP_FOR_ASSET_ID":return te(e,(e=>{var a;if(!(null==(a=e.dubbingFrames)?void 0:a.speakers.speakerMap))throw new Error("speakers should be initialized");const n=dH(e.dubbingFrames.speakers.speakerMap[t.assetId]);e.dubbingFrames.speakers.speakerMap[t.assetId]=t.speakerMap,aG({path:["dubbingFrames","speakers","speakerMap",t.assetId],val:t.speakerMap,oldVal:n,srcFn:"SET_SPEAKER_MAP_FOR_ASSET_ID"}),t.undoable&&PU.add({undo:{...t,speakerMap:n,type:"SET_SPEAKER_MAP_FOR_ASSET_ID",undoable:!1},redo:{...t,undoable:!1}})}));case"TOGGLE_DUBBING_SPEAKERS_VISIBILITY":return te(e,(e=>{var a;if(!(null==(a=e.dubbingFrames)?void 0:a.speakers))throw new Error("speakers should be initialized");const n=e.dubbingFrames.speakers.showSpeakers;e.dubbingFrames.speakers.showSpeakers=t.showSpeakers,aG({path:["dubbingFrames","speakers","showSpeakers"],val:t.showSpeakers,oldVal:n,srcFn:"TOGGLE_DUBBING_SPEAKERS_VISIBILITY"}),t.undoable&&PU.add({undo:{...t,newMap:n,type:"TOGGLE_DUBBING_SPEAKERS_VISIBILITY",undoable:!1},redo:{...t,undoable:!1}})}));default:return e}};function uG(e){return{type:"SET_TEMPLATE_SLUG",payload:e}}const pG={commentsLoading:!0},mG=m({initialState:pG,name:"comments",reducers:{setComments:(e,t)=>{e.comments=t.payload},setSelectedCommentId:(e,t)=>{e.selectedCommentId=t.payload},setCommentsOpen:(e,t)=>{e.commentsOpen=t.payload},setCommentsLoading:(e,t)=>{e.commentsLoading=t.payload},addComment:(e,t)=>{e.comments=e.comments?[...e.comments,t.payload]:[t.payload]},editComment:(e,t)=>{var a;const{commentId:n,updates:s}=t.payload,o=null==(a=e.comments)?void 0:a.map((e=>e._id===n?{...e,...s}:e));e.comments=o},deleteComment:(e,t)=>{var a;const n=t.payload,s=null==(a=e.comments)?void 0:a.filter((e=>e._id!==n));e.comments=s}},extraReducers:e=>e.addDefaultCase(((e,t)=>{switch(t.type){case"RESET_STUDIO":case"RESET_STATE_PRESERVE_USER":return pG;case"SET_STUDIO":return t.projectIdChanged?pG:e;case"SET_MOBILE_TRAY_CONTENT":return t.payload!==Jj.COMMENT_CONTROLS&&(e.commentsOpen=!1),e;default:return e}}))}),{setComments:gG,setSelectedCommentId:hG,setCommentsOpen:vG,setCommentsLoading:fG,addComment:bG,editComment:yG,deleteComment:wG}=mG.actions;function _G(e,t){if(!e.dubbingFrames)throw new Error("dubbingFrames not initialized");const a={byId:{}};return e.dubbingFrames.dubbingFramesByAsset[t]||(aG({path:["dubbingFrames","dubbingFramesByAsset",t],val:a,oldVal:void 0,srcFn:"initializeDubbingFrames"}),e.dubbingFrames.dubbingFramesByAsset[t]=a),e.dubbingFrames.dubbingFramesByAsset[t]??a}const CG=(e,t)=>{switch(t.type){case"INITIALIZE_DUBBING_FRAMES":return te(e,(a=>{const n=function(e,t,a){const n={origLangCode:t,translatedLangCode:a,dubbingFramesByAsset:{},speakers:{showSpeakers:!0,speakerMap:{}},usedOriginalSRT:!1,usedTranslatedSRT:!1};return e.dubbingFrames||(aG({path:["dubbingFrames"],val:n,oldVal:void 0,srcFn:"initializeDubbingFrames"}),e.dubbingFrames=n),n}(a,t.origLangCode,t.translatedLangCode),s=_G(a,t.assetId);s.byId=t.frames;const o=dH(e.dubbingFrames),i={...n,origLangCode:t.origLangCode,translatedLangCode:t.translatedLangCode,dubbingFramesByAsset:{[t.assetId]:s},usedOriginalSRT:t.usedOriginalSRT,usedTranslatedSRT:t.usedTranslatedSRT};a.dubbingFrames=i,aG({path:["dubbingFrames"],val:i,oldVal:o,srcFn:"INITIALIZE_DUBBING_FRAMES"}),t.undoable&&PU.add({undo:{...t,frames:o,type:"INITIALIZE_DUBBING_FRAMES",undoable:!1},redo:{...t,undoable:!1}})}));case"SET_DUBBING_FRAMES":return te(e,(e=>{const a=_G(e,t.assetId),n=dH(a.byId);a.byId={},aG({path:["dubbingFrames","dubbingFramesByAsset",t.assetId,"byId"],val:{},oldVal:n,srcFn:"SET_DUBBING_FRAMES"}),a.byId=t.frames,aG({path:["dubbingFrames","dubbingFramesByAsset",t.assetId,"byId"],val:t.frames,oldVal:dH(a.byId),srcFn:"SET_DUBBING_FRAMES"}),t.undoable&&PU.add({undo:{...t,frames:n,type:"SET_DUBBING_FRAMES",undoable:!1},redo:{...t,undoable:!1}})}));case"SET_ONE_DUBBING_FRAME":return te(e,(e=>{const a=_G(e,t.assetId),n=dH(a.byId[t.frameId]),s=a.byId[t.frameId];if(!s)throw new Error("prev frame invalid");const o={...s,...t.updates};a.byId[t.frameId]=o,aG({path:["dubbingFrames","dubbingFramesByAsset",t.assetId,"byId",t.frameId],val:o,oldVal:n,srcFn:"SET_ONE_DUBBING_FRAME"}),t.undoable&&PU.add({undo:{...t,updates:n,type:"SET_ONE_DUBBING_FRAME",undoable:!1},redo:{...t,undoable:!1}})}));case"DUPE_SPLIT_DUBBING_FRAME":return te(e,(e=>{const a=_G(e,t.assetId),n=dH(a.byId[t.frameId]),s=t.newFrameId,o=t.duration;if(!n)throw new Error("frame to dupe not found");const i=n.start+o,r={...n,id:s,end:i,...t.newUpdates},l=dH(a.byId[s]);a.byId[s]=r,aG({path:["dubbingFrames","dubbingFramesByAsset",t.assetId,"byId",s],val:r,oldVal:l,srcFn:"DUPE_SPLIT_DUBBING_FRAME"});const d={...n,start:i,...t.updates};a.byId[t.frameId]=d,aG({path:["dubbingFrames","dubbingFramesByAsset",t.assetId,"byId",t.frameId],val:d,oldVal:n,srcFn:"DUPE_SPLIT_DUBBING_FRAME"}),t.undoable&&PU.add({undo:{assetId:t.assetId,frameId:t.frameId,frameIdToDelete:t.newFrameId,updates:n,type:"MERGE_DUBBING_FRAMES",undoable:!1},redo:{...t,undoable:!1}})}));case"MERGE_DUBBING_FRAMES":return te(e,(e=>{const a=_G(e,t.assetId),n=dH(a.byId[t.frameIdToDelete]),s=dH(a.byId[t.frameId]);if(!s||!n)throw new Error("frame to dupe not found");const o={id:t.frameId,start:Math.min(n.start,s.start),end:Math.max(n.end,s.end),originalWords:[...n.originalWords,...s.originalWords],targetWords:[...n.targetWords,...s.targetWords],speakerId:s.speakerId,...t.updates},i=dH(a.byId[t.frameId]);a.byId[t.frameId]=o,aG({path:["dubbingFrames","dubbingFramesByAsset",t.assetId,"byId",t.frameId],val:o,oldVal:i,srcFn:"MERGE_DUBBING_FRAMES"});const r=dH(a.byId[t.frameIdToDelete]);delete a.byId[t.frameIdToDelete],aG({path:["dubbingFrames","dubbingFramesByAsset",t.assetId,"byId",t.frameIdToDelete],val:void 0,oldVal:r,srcFn:"MERGE_DUBBING_FRAMES"}),t.undoable&&(PU.add({undo:{assetId:t.assetId,frameId:t.frameId,updates:i,type:"SET_ONE_DUBBING_FRAME",undoable:!1},redo:{...t,undoable:!1}}),PU.add({undo:{assetId:t.assetId,frameId:t.frameIdToDelete,updates:r,type:"SET_ONE_DUBBING_FRAME",undoable:!1},redo:{...t,undoable:!1}}),PU.add({undo:{assetId:t.assetId,frameId:t.frameId,newFrameId:t.frameIdToDelete,duration:s.start,type:"DUPE_SPLIT_DUBBING_FRAME",undoable:!1},redo:{...t,undoable:!1}}))}));case"UPDATE_DUBBING_FRAME_SPEAKER":return te(e,(e=>{const a=_G(e,t.assetId),n=dH(a.byId[t.frameId]);if(!n)throw new Error("prev frame invalid");const s={...n,speakerId:t.speakerId};a.byId[t.frameId]=s,aG({path:["dubbingFrames","dubbingFramesByAsset",t.assetId,"byId",t.frameId],val:s,oldVal:n,srcFn:"UPDATE_DUBBING_FRAME_SPEAKER"}),t.undoable&&PU.add({undo:{...t,speakerId:n.speakerId,type:"UPDATE_DUBBING_FRAME_SPEAKER",undoable:!1},redo:{...t,undoable:!1}})}));default:return e}},SG=(e,t)=>{var a,n;switch(e.type){case"REMOVE_GOOGLE_DRIVE_PENDING_UPLOAD":{let n=-1;for(let o=0;o<t.pendingGoogleDriveUploads.length;o+=1){if((null==(a=t.pendingGoogleDriveUploads[o])?void 0:a.filename)===e.filename){n=o;break}}if(-1===n)return t;const s=[...t.pendingGoogleDriveUploads];return s.splice(n,1),{...t,pendingGoogleDriveUploads:s}}case"UPDATE_GOOGLE_DRIVE_PENDING_UPLOAD":{const a=[...t.pendingGoogleDriveUploads];for(let s=0;s<t.pendingGoogleDriveUploads.length;s+=1){if((null==(n=t.pendingGoogleDriveUploads[s])?void 0:n.filename)===e.filename){a[s]={filename:e.filename,progress:e.progress};break}}return{...t,pendingGoogleDriveUploads:a}}case"ADD_GOOGLE_DRIVE_PENDING_UPLOAD":return{...t,pendingGoogleDriveUploads:[...t.pendingGoogleDriveUploads,{filename:e.filename,progress:e.progress}]};default:return t}};function xG(e){var t;return e?(null==(t=qN(e))?void 0:t.a)??1:1}function IG(e,t){const a=qN(e);if(!a)return e;const{r:n,g:s,b:o}=a;let i=String(t);return i.length>5&&(i=t.toFixed(3)),`rgba(${n},${s},${o},${i})`}function AG(e){if("none"===e)return!0;if(e&&!e.startsWith("rgb"))return!1;const t=ZN(e);return!t||0===t.a}function kG(e,t){if(t&&t.textShadow&&"black"!==t.textShadow&&"white"!==t.textShadow)return"transparent";const a=qN(e);if(!a)return"black";const{r:n,g:s,b:o}=a,i=[n,s,o];return Math.round((299*i[0]+587*i[1]+114*i[2])/1e3)>125?"black":"white"}const TG=["hidden","local_url","removeBgPreviewUrl"];function EG(e,t,a,n){const s=dH(e.allLayers.byId[t]);if(!s)throw new $v("Editsegment but no layer exists",{tags:{debugSource:n},extra:{newProperties:a,layerId:t}});!a.id||a.id===t&&a.id===s.id||(console.error("Cannot update a layer's id","\nPrev layer: ",s,"\nLayer update: ",a),l(new Error("Cannot update a layer's id"),{extra:{prevLayer:s,layerUpdate:a}}),delete a.id),Object.keys(a).forEach((e=>{const o=e;TG.includes(o)||c.isEqual(a[o],s[o])||aG({path:["allLayers","byId",t,o],oldVal:dH(s[o]),val:a[o],srcFn:`${n}/editSegment`})})),e.allLayers.byId[t]={...s,...a};const o=e.allLayers.byId[t];if(o&&"video"===o.type&&o.detachedAudioId&&0!==o.volume){aG({path:["allLayers","byId",t,"volume"],oldVal:dH(s.volume),val:0,srcFn:`${n}/editSegment/validation`});const e=new $v("Layer volume set to non-zero value",{extra:{layer:s,newProperties:a},fingerprint:["editLayer","volume-non-0"],level:"warning"});setTimeout((()=>{l(e)}),0),o.volume=0}}function LG(e,t){const{axis:a}=t;let n=t.layer.position;const s=Object.values(e.allLayers.byId);for(const o of s)if(o.id===t.layer.id){"position"in o&&(n=o.position);break}return n.flip||(n={...n,flip:{x:!1,y:!1}}),EG(e,t.layer.id,{position:{...n,flip:{...n.flip,[a]:!n.flip[a]}}},"setFlip")}function jG(e,t){const a=[],{layers:n}=e;for(const s of n){const e=t.allLayers.byId[s.id];e&&void 0!==e.timelineRow&&(a.includes(e.timelineRow)||a.push(e.timelineRow))}return a.sort()}function RG(e,t){let a=[];if(!e)return[];if("group"===e.type){const n=t.groups[e.id];if(!n)return[];a=jG(n,t)}else if("gap"===e.type)t.timelineGap&&t.timelineGap.gapId===e.id&&a.push(t.timelineGap.timelineRow);else if("layer"===e.type){const n=t.allLayers.byId[e.id];n&&void 0!==n.timelineRow&&a.push(n.timelineRow)}return a}function NG(e,t){let a=Number(e.duration);if(null==t?void 0:t.byId)for(const n of Object.values(t.byId))n&&n[Xc.end]>a&&(a=n[Xc.end]);return a}function MG(e,t){((e,t)=>{if("gif"===e.videoType)return!0;if(0===t){for(const t of Object.values(e.allLayers.byId))if("image/gif"===t.mime||"image/gif"===t.content_type)return!1;return!0}return!1})(e,t)||e.background===KN&&(e.background="#FFFFFF")}function PG(e,{asset_id:t,cmlFileId:a}){e.thisProjectCMLFiles||(e.thisProjectCMLFiles={},sG("thisProjectCMLFiles",{},void 0,"linkCMLFileToThisProject"));const n=e.thisProjectCMLFiles[a],s={addedTimestamp:Date.now(),asset_id:t,cmlFileId:a};e.thisProjectCMLFiles={...e.thisProjectCMLFiles,[a]:s},aG({path:["thisProjectCMLFiles",a],val:s,oldVal:n,srcFn:"linkCMLFileToThisProject"})}const FG=(e,t)=>{const a={...e.groups},n=a[t];if(!n)throw Error("Group not found");const s={...n},o={...s};let i;s.layers||(s.layers=[],s.saved=!1);let r=s.layers.filter((e=>e.saved));const l=s.layers.filter((e=>!e.saved&&e.fromMergedGroup)),d=Object.keys(r.reduce(((e,t)=>t.fromMergedGroup?{...e,[t.fromMergedGroup]:!0}:e),{}));d.forEach((e=>{delete a[e]})),r=r.map((e=>({id:e.id,saved:e.saved,deselected:!1})));const c=Object.keys(l.reduce(((e,t)=>t.fromMergedGroup?{...e,[t.fromMergedGroup]:!0}:e),{}));c.forEach((e=>{const t=a[e];t&&(a[e]={...t,layers:l.filter((t=>t.fromMergedGroup===e)).map((e=>({id:e.id,saved:!0})))})}));const u={...s,layers:r};0===d.length&&(u.rotation=s.preMergeRotation||s.rotation,delete u.preMergeRotation),a[t]=u,s.saved||(delete a[t],i={type:"UPDATE_GROUP",updates:o,groupId:t,undoable:!1});return(!s.saved||l.length>0||d.length>0||c.length>0||r.length!==s.layers.length)&&(s.saved?oG("groups",t,u,e.groups[t],"onDeselectLayerGroup"):iG("groups",t,e.groups[t],"onDeselectLayerGroup")),{groups:a,undo:i}},DG=(e,t,a)=>{if(!t)return null;const{startValues:n,endValues:s}=t,o=((e,t)=>{const{start:a,end:n}=bp(e);return(t-a)/(n-a)})(e,a),i=s.topLeft.x-n.topLeft.x,r=s.topLeft.y-n.topLeft.y,l={x:n.topLeft.x+i*o,y:n.topLeft.y+r*o},d=s.bottomRight.x-n.bottomRight.x,c=s.bottomRight.y-n.bottomRight.y;return{topLeft:l,bottomRight:{x:n.bottomRight.x+d*o,y:n.bottomRight.y+c*o}}},OG=(e,t)=>{let a=e?{...e}:void 0;if(t){const{topLeft:{x:e,y:n},bottomRight:{x:s,y:o}}=t,i=100*(s-e),r=100*(o-n),l=100*e,d=100*n;if(a){const{x:e,y:t,width:n,height:s}=a,o=e+l/100*n,c=t+d/100*s,u=n*(i/100),p=s*(r/100);a={x:_.clamp(o,0,100),y:_.clamp(c,0,100),width:_.clamp(u,0,100),height:_.clamp(p,0,100)}}else a={x:_.clamp(l,0,100),y:_.clamp(d,0,100),width:_.clamp(i,0,100),height:_.clamp(r,0,100)}}return a},UG=(e,t,a,n,s=!0)=>{var o,i,r;const{state:l,dispatch:d}=Mu(),c=null==(o=l.studio.allLayers.byId[e])?void 0:o.asset_id,u=c?null==(r=null==(i=l.assets.byId[c])?void 0:i.preview)?void 0:r.duration:void 0;d(BG(e,u,t,a,n,s))},BG=(e,t,a,n,s,o=!0)=>({type:"UPSERT_KEYFRAME",undoable:o,layerId:e,layerPreviewDuration:t,channel:a,time:n,value:s}),WG=(e,t,a,n=!0)=>{var s,o,i;const{state:r,dispatch:l}=Mu(),d=null==(s=r.studio.allLayers.byId[e])?void 0:s.asset_id,c=d?null==(i=null==(o=r.assets.byId[d])?void 0:o.preview)?void 0:i.duration:void 0;l(VG(e,c,t,a,n))},VG=(e,t,a,n,s=!0)=>({type:"REMOVE_KEYFRAME",undoable:s,layerId:e,layerPreviewDuration:t,channel:a,time:n}),HG=(e,t,a=!0)=>({type:"REMOVE_KEYFRAME_CHANNEL",layerId:e,undoable:a,channel:t}),zG=(e,t=!1,a=!0)=>({type:"TRIM_START_KEYFRAMES",maintainInterpolation:t,undoable:a,layerIdsToTimeChanges:e}),GG=(e,t=!1,a=!0)=>({type:"TRIM_END_KEYFRAMES",undoable:a,maintainInterpolation:t,layerIdsToMaxTimes:e}),YG=(e,t,a=!0)=>({type:"SET_KEYFRAMES",undoable:a,keyframesForChannels:t,layerId:e}),KG=(e,t=!0)=>({type:"DELETE_LAYER_KEYFRAMES",undoable:t,layerId:e}),XG=(e,t,a=!0)=>({type:"SET_LAYER_CHANNELS",undoable:a,layerId:e,layerChannels:t}),ZG=(e,t,a,n=!0)=>({type:"SHIFT_KEYFRAME_PLAYBACK_SPEED",undoable:n,layerId:e,oldPlaybackRate:t,newPlaybackRate:a}),qG=(e,t,a,n=!0)=>({type:"COPY_LAYER_KEYFRAMES",undoable:n,fromLayerId:e,toLayerId:t,toLayerType:a}),JG=i.createContext({elementPool:null,getEPTime:()=>{throw new Error("getStudioTime not implemented")},setEPTime:()=>{throw new Error("setStudioTime not implemented")},selectElementPoolLayers:()=>{throw new Error("selectElementPoolLayers not implemented")},selectPossibleReferenceLayers:()=>{throw new Error("selectPossibleReferenceLayers not implemented")}}),$G=()=>i.useContext(JG),QG=i.createContext(0);function eY(e){const t=i.useRef(e);return t.current=e,t}function tY(e){const t=eY(e);return i.useCallback((function(...e){return t.current(...e)}),[])}const aY=new Set;let nY=0;function sY(e){const t=BC(e);if(t===nY)return null;nY=t,window.studioTime=t;for(const a of aY)a(t);return t}let oY=sY;const iY=b.memo((({children:e})=>{const[t,a]=i.useState(nY),n=e=>{const t=sY(e);return null!==t&&a(t),t};oY=n;const s=Du((e=>e.studio.duration>0));return i.useEffect((function(){if(!rR()&&!window.location.pathname.includes("/signin-redirect"))return;const e=Ev.get("VIDEO_TIME_BEFORE_SIGN_IN",{disabled:0});e&&(n(e),Ev.remove("VIDEO_TIME_BEFORE_SIGN_IN"))}),[]),i.useEffect((function(){s||n(0)}),[s]),i.useEffect((function(){return()=>{oY=sY}}),[]),f.jsx(QG.Provider,{value:t,children:e})})),rY=()=>{const e=i.useContext(QG);if(void 0===e)throw new Error("useStudioTime must be used within an EPTimeContext");return e};function lY(e){return t=>f.jsx(QG.Consumer,{children:a=>f.jsx(e,{...t,studioTime:a})})}const dY=()=>nY,cY=e=>{oY(e)},uY=e=>(aY.add(e),()=>{aY.delete(e)}),pY=e=>{const t=tY(e);i.useEffect((()=>uY(t)),[t])},mY=e=>{const t=TT(e);if(e&&e.animation&&e.animation.constant){if(!e.animation.constant[0])return;const a=t.find((e=>!!e.movingZoomOptions));if(a&&a.movingZoomOptions)return a.movingZoomOptions}},gY=e=>!!mY(e),hY=(e,t,a)=>{const n=(e=>{const t=mY(e);return t?{...t}:null})(e),s=DG(e,n,t);if(a)return e.crop;return OG(e.crop,s)},vY=Cu,fY=[vY.OPACITY,vY.BRIGHTNESS,vY.CONTRAST,vY.SATURATION,vY.BLUR],bY={[Nc.Audio]:[vY.VOLUME],[Nc.Image]:[vY.POSITION,vY.ZOOM,vY.ROTATION,...fY],[Nc.Shape]:[vY.POSITION,vY.BACKGROUND,vY.OPACITY],[Nc.Text]:[vY.POSITION,vY.OPACITY],[Nc.Video]:[vY.POSITION,vY.ZOOM,vY.ROTATION,vY.VOLUME,...fY],[Nc.Persona]:[vY.POSITION,vY.ZOOM,vY.ROTATION,vY.VOLUME,...fY],[Nc.Placeholder]:[]},yY=(e,t)=>{if(!(bY[e.type]||[]).includes(t))return!1;const[a,n]=zC(e);return!!(n-a)},wY=(e,t=Mu().state.studio)=>{var a;const n=Object.values((null==(a=t.keyframing)?void 0:a[e])||{});for(const s of n)if(s.keyframes.length>0)return!0;return!1},_Y=(e,t,a=Mu().state.studio.keyframing)=>{var n,s;return!!((null==(s=null==(n=null==a?void 0:a[e])?void 0:n[t])?void 0:s.keyframes)||[]).length},CY=e=>_Y(e,Cu.POSITION)||_Y(e,Cu.ZOOM)||_Y(e,Cu.ROTATION),SY=e=>{if(!yY(e,Cu.POSITION))return;if(!e.position)return;const{state:t}=Mu(),{x:a,y:n}=aN(e,t.studio.width||0,t.studio.height||0),[s]=zC(e),o=dY()-s;DY(e.id,o,Cu.POSITION),UG(e.id,Cu.POSITION,o,{x:a,y:n})},xY=e=>{if(!yY(e,Cu.ZOOM))return;const t=e.zoom||100,[a]=zC(e),n=dY()-a;DY(e.id,n,Cu.ZOOM),UG(e.id,Cu.ZOOM,n,t)},IY=e=>{var t;if(!yY(e,Cu.OPACITY))return;let a=(null==(t=e.filters)?void 0:t.opacity)??100;"shape"!==e.type&&"text"!==e.type||(a=100*(e.globalAlpha??1));const[n]=zC(e),s=dY()-n;DY(e.id,s,Cu.OPACITY),UG(e.id,Cu.OPACITY,s,a)},AY=e=>{var t;if(!yY(e,Cu.BRIGHTNESS))return;const a=(null==(t=e.filters)?void 0:t.brightness)??100,[n]=zC(e),s=dY()-n;DY(e.id,s,Cu.BRIGHTNESS),UG(e.id,Cu.BRIGHTNESS,s,a)},kY=e=>{var t;if(!yY(e,Cu.CONTRAST))return;const a=(null==(t=e.filters)?void 0:t.contrast)??100,[n]=zC(e),s=dY()-n;DY(e.id,s,Cu.CONTRAST),UG(e.id,Cu.CONTRAST,s,a)},TY=e=>{var t;if(!yY(e,Cu.SATURATION))return;const a=(null==(t=e.filters)?void 0:t.saturate)??100,[n]=zC(e),s=dY()-n;DY(e.id,s,Cu.SATURATION),UG(e.id,Cu.SATURATION,s,a)},EY=e=>{var t;if(!yY(e,Cu.BLUR))return;const a=(null==(t=e.filters)?void 0:t.blurPercent)??0,[n]=zC(e),s=dY()-n;DY(e.id,s,Cu.BLUR),UG(e.id,Cu.BLUR,s,a)},LY=e=>{if(!yY(e,Cu.BACKGROUND))return;const t=e.background??"#000000",[a]=zC(e),n=dY()-a;DY(e.id,n,Cu.BACKGROUND),UG(e.id,Cu.BACKGROUND,n,t)},jY=e=>{if(!yY(e,Cu.VOLUME))return;const t=e.volume??1,[a]=zC(e),n=dY()-a;DY(e.id,n,Cu.VOLUME),UG(e.id,Cu.VOLUME,n,t)},RY=({layer:e,keyframeChannels:t,studioTime:a,canvasWidth:n,canvasHeight:s,optionalParams:o={usePreviewDuration:!0}})=>{var i,r,l,d,c;if(!e.position)return{x:"0%",y:"0%",height:"0%",width:"0%",rotation:0};if(!t)return e.position;const u=(null==(i=t[Cu.POSITION])?void 0:i.keyframes)||[],p=(null==(r=t[Cu.ZOOM])?void 0:r.keyframes)||[],m=(null==(l=t[Cu.ROTATION])?void 0:l.keyframes)||[],g=!!u.length,h=!!p.length,v=!!m.length;if(!g&&!h&&!v)return e.position;const[f]=GC(e,void 0,(null==(d=o.studio)?void 0:d.duration)??Mu().state.studio.duration);let b,y=!1;if(g){y=!0;const n=(null==(c=t[Cu.POSITION])?void 0:c.bezArray)||null,{prevFrame:s,nextFrame:o}=Hk(e,a,u);if(o&&s){const t={...e.position,...s.value},i={...e.position,...o.value};let r=0,l=0;if(n){const e=$(...n),d=s.time,c=e((a-f-d)/(o.time-d)),u=parseFloat(i.x)-parseFloat(t.x),p=parseFloat(i.y)-parseFloat(t.y);r=u*c,l=p*c}b={...t,x:`${parseFloat(t.x)+r}%`,y:`${parseFloat(t.y)+l}%`}}else{const t=(null==o?void 0:o.value)||{},a=(null==s?void 0:s.value)||{};b={...e.position,...t,...a}}}return y||(b=aN(e,n,s)),b={...e.position,...b,...MY({layer:e,keyframeChannels:t,studioTime:a,optionalParams:{usePreviewDuration:o.usePreviewDuration,studio:o.studio}}),...PY(e,t,a)},((e,t,a)=>{if(!e.position)return{x:"0%",y:"0%",height:"0%",width:"0%",rotation:0};if("ellipse"===e.shapeType)return e.position;const n=parseFloat(e.position.x)/100*t,s=parseFloat(e.position.y)/100*a,o=(n-parseFloat(e.position.width)/100*t/2)/t*100,i=(s-parseFloat(e.position.height)/100*a/2)/a*100;return{...e.position,x:`${o}%`,y:`${i}%`}})({...e,position:b},n,s)},NY=({layer:e,keyframeChannels:t,studioTime:a,optionalParams:n={usePreviewDuration:!0}})=>{var s,o,i;const r=e.zoom||100;if(!t)return r;const l=(null==(s=t[Cu.ZOOM])?void 0:s.keyframes)||[],d=(null==(o=t[Cu.ZOOM])?void 0:o.bezArray)||null;if(!l.length)return r;const[c]=GC(e,void 0,(null==(i=n.studio)?void 0:i.duration)??Mu().state.studio.duration),{prevFrame:u,nextFrame:p}=Hk(e,a,l);let m=r;return m=u&&p?Gk(d,a-c,u,p):(null==u?void 0:u.value)||(null==p?void 0:p.value)||(null==e?void 0:e.zoom)||100,m},MY=({keyframeChannels:e,layer:t,studioTime:a,optionalParams:n={usePreviewDuration:!0}})=>{var s;const o=c.pick(t.position,["width","height"]);if(!e)return o;if(!((null==(s=e[Cu.ZOOM])?void 0:s.keyframes)||[]).length||!t.position)return o;const i=t.zoom||100,r=NY({layer:t,keyframeChannels:e,studioTime:a,optionalParams:{usePreviewDuration:n.usePreviewDuration,studio:n.studio}})/i;return{width:`${parseFloat(t.position.width)*r}%`,height:`${parseFloat(t.position.height)*r}%`}},PY=(e,t,a)=>{var n,s,o;const i={rotation:(null==(n=e.position)?void 0:n.rotation)??0};if(!t)return i;const r=(null==(s=t[Cu.ROTATION])?void 0:s.keyframes)||[];if(!r.length||!e.position)return i;const l=(null==(o=t[Cu.ROTATION])?void 0:o.bezArray)||null,[d]=zC(e),{prevFrame:c,nextFrame:u}=Hk(e,a,r);return i.rotation=c&&u?Kk(l,a-d,c,u):(null==c?void 0:c.value)??(null==u?void 0:u.value)??i.rotation,i},FY=e=>{var t;return Object.values((null==(t=Mu().state.studio.keyframing)?void 0:t[e])||{}).reduce(((e,t)=>e.concat(t.keyframes)),[]).sort(((e,t)=>e.time-t.time))},DY=(e,t,a)=>{var n,s,o;const{state:i}=Mu();((null==(o=null==(s=null==(n=i.studio.keyframing)?void 0:n[e])?void 0:s[a])?void 0:o.keyframes)||[]).find((({time:e})=>t===e))||ov("Added Keyframe",{channel:a})},OY={[Cu.OPACITY]:IY,[Cu.BRIGHTNESS]:AY,[Cu.CONTRAST]:kY,[Cu.SATURATION]:TY,[Cu.BLUR]:EY,[Cu.POSITION]:SY,[Cu.ZOOM]:xY,[Cu.BACKGROUND]:LY,[Cu.ROTATION]:e=>{var t;if(!yY(e,Cu.ROTATION))return;const a=(null==(t=e.position)?void 0:t.rotation)??0,[n]=zC(e),s=dY()-n;DY(e.id,s,Cu.ROTATION),UG(e.id,Cu.ROTATION,s,a)},[Cu.VOLUME]:jY};function UY(e,t){const{deletedLayerDict:a}=t,n=te(t,(t=>{if(a[e.layer.id]){const t=a[e.layer.id];t&&(t.source="upload")}!function(e,t){const a={};BY.forEach((t=>{t in e&&(a[t]=e[t])}));const n=[],s=function(e,t){const a=new Set;return t.forEach((t=>{t.uploadId&&t.uploadId===e.uploadId&&a.add(t.id)})),a}(e,Object.values(t.allLayers.byId));Object.values(t.allLayers.byId).forEach((e=>{if(!s.has(e.id))return;t.allLayers.byId[e.id]={...e,...a};const o=dH(t.allLayers.byId[e.id]);aG({path:["allLayers","byId",e.id],val:dH(t.allLayers.byId[e.id]),oldVal:dH(e),srcFn:"modifyUploadedLayer"}),n.push(o)}))}({...e.layer,...e.properties},t)}));return n}const BY=["asset_id","source","ffprobeData","duration","conversion_type","conversion_id","conversion_failed","uploadConfirmed","uploadPending","cmlFileId","videoConvertedState","lowerQualityPreviewUrl"];function WY(e,t){for(const[n,s]of Object.entries(e.updates))for(const t of Object.keys(s))Fc.has(t)&&(console.warn(`Timeline impacting property ${t} was attempted to be updated on layer ${n} by ${e.srcFn}`),delete s[t]);if(e.undoable){const a=Object.entries(e.updates).reduce(((e,[a,n])=>{const s=t.allLayers.byId[a];if(s){const t=Object.keys(n),o={};t.forEach((e=>{o[e]=s[e]})),e[a]=o}return e}),{});PU.add({undo:{type:"UPDATE_LAYERS",updates:a},redo:{...e,undoable:void 0}})}Object.entries(e.updates).forEach((([a,n])=>{const s=t.deletedLayerDict[a];(t.allLayers.byId[a]||s)&&(s?t.deletedLayerDict={...t.deletedLayerDict,[a]:{...s,...n}}:EG(t,a,n,`${e.srcFn}/UPDATE_LAYER`))}));const a=t.duration;t.duration=NG(t,nA(t)),aG({path:["duration"],val:t.duration,oldVal:a,srcFn:"handleUpdateLayersAction"}),t.updateKey=g()}const VY=(e,t)=>{e.keyframing||(e.keyframing={},aG({path:["keyframing"],val:e.keyframing,oldVal:void 0,srcFn:"safelyGetChannels"}));let a=e.keyframing[t];return a||(a={},e.keyframing[t]=a,aG({path:["keyframing",t],val:a,oldVal:{},srcFn:"safelyGetChannels"})),a},HY=(e,t,a)=>{const n=VY(e,t);let s=n[a];return s||(n[a]={bezArray:[0,0,1,1],keyframes:[]},s=n[a],aG({path:["keyframing",t,a],val:s,oldVal:void 0,srcFn:"safelyGetChannelMeta"})),s},zY=(e,t)=>{switch(t.type){case"UPSERT_KEYFRAME":{const{layerId:a,layerPreviewDuration:n,time:s,channel:o,value:i,undoable:r}=t;return te(e,(l=>{const d=HY(l,a,o),u=d.keyframes.find((e=>Vk(e)===Vk(t)));if(u){const e=u.value;u.value=i,r&&PU.add({undo:BG(a,n,o,s,e,!1),redo:BG(a,n,o,s,i,!1)})}else d.keyframes.push({channel:o,time:s,value:i}),d.keyframes=d.keyframes.sort(((e,t)=>e.time-t.time)),r&&PU.add({undo:VG(a,n,o,s,!1),redo:{...t,undoable:!1}});const p=o;return aG({path:["keyframing",a,p,"keyframes"],val:c.get(l,["keyframing",a,p,"keyframes"]),oldVal:c.get(e,["keyframing",a,p,"keyframes"]),srcFn:"UPSERT_KEYFRAME"}),l}))}case"REMOVE_KEYFRAME":{const{layerId:a,layerPreviewDuration:n,time:s,channel:o,undoable:i}=t;return te(e,(r=>{const l=HY(r,a,o),d=l.keyframes.find((e=>Vk(e)===Vk(t)))||null;if(l.keyframes=l.keyframes.filter((e=>Vk(e)!==Vk(t))),!l.keyframes.length&&d){const e=r.allLayers.byId[a];if(!e)throw Error("Layer not found");const t=((e,t,a,n)=>{var s;const o=e.allLayers.byId[t];if(!o)return{};const i=c.cloneDeep((null==(s=e.keyframing)?void 0:s[o.id])||{});if(!i[a])return{};i[a].keyframes=[n];const r=dY(),l=e.width||0,d=e.height||0,u=Qk(o,i,r),p=NY({layer:o,keyframeChannels:i,studioTime:r,optionalParams:{usePreviewDuration:!1,studio:e}}),m=RY({layer:o,keyframeChannels:i,studioTime:r,canvasWidth:l,canvasHeight:d,optionalParams:{usePreviewDuration:!1,studio:e}});return{zoom:p,position:{...o.position,...m},filters:u}})(r,a,o,d);WY({type:"UPDATE_LAYERS",srcFn:"REMOVE_KEYFRAME",updates:{[e.id]:t}},r)}i&&(null==d?void 0:d.value)&&PU.add({undo:BG(a,n,o,s,d.value,!1),redo:VG(a,n,o,s,!1)});const u=o;return aG({path:["keyframing",a,u,"keyframes"],val:c.get(r,["keyframing",a,u,"keyframes"]),oldVal:c.get(e,["keyframing",a,u,"keyframes"]),srcFn:"REMOVE_KEYFRAME"}),r}))}case"REMOVE_KEYFRAME_CHANNEL":{const{layerId:a,channel:n,undoable:s}=t,o=HY(e,a,n);return te(e,(t=>{delete VY(t,a)[n],s&&o.keyframes.length&&PU.add({undo:YG(a,{[n]:o.keyframes},!1),redo:HG(a,n,!1)}),aG({path:["keyframing",a,n],oldVal:c.get(e,["keyframing",a,n]),val:void 0,srcFn:"REMOVE_KEYFRAME_CHANNEL"})}))}case"TRIM_START_KEYFRAMES":{const{layerIdsToTimeChanges:a,undoable:n,maintainInterpolation:s}=t;return te(e,(t=>{PU.execInUndoBatch((()=>{Object.entries(a).forEach((([a,o])=>{(({layerId:e,timeChange:t,undoable:a,maintainInterpolation:n,state:s,draft:o})=>{const i=Object.entries(VY(o,e));if(!i.length)return;const r={};i.forEach((([e,a])=>{const s=a,{keyframes:o,bezArray:i}=s,l=c.cloneDeep(o),d=l.length;o.forEach((e=>{e.time+=t})),r[e]=l,s.keyframes=o.filter((e=>e.time>=0));const u=s.keyframes.length;if(n&&d!==u){const a=d-u,n=l[a-1],o=l[a];if(!n||!o)return;const r=Zk(e,i,n.time-(n.time+t),n,o);s.keyframes.unshift({channel:e,time:0,value:r})}})),a&&PU.add({undo:YG(e,r,!1),redo:zG({[e]:t},n,!1)}),aG({path:["keyframing",e],val:c.get(o,["keyframing",e]),oldVal:c.get(s,["keyframing",e]),srcFn:"TRIM_START_KEYFRAMES"})})({layerId:a,timeChange:o,undoable:n,maintainInterpolation:s,state:e,draft:t})}))}))}))}case"TRIM_END_KEYFRAMES":{const{layerIdsToMaxTimes:a,maintainInterpolation:n,undoable:s}=t;return te(e,(t=>{PU.execInUndoBatch((()=>{Object.entries(a).forEach((([a,o])=>{(({layerId:e,maxTime:t,undoable:a,maintainInterpolation:n,state:s,draft:o})=>{const i=Object.entries(VY(o,e));if(!i.length)return;const r={};i.forEach((([e,a])=>{var s,o;const i=a,{bezArray:l,keyframes:d}=i;r[e]=c.cloneDeep(d);const u=i.keyframes.length;i.keyframes=d.filter((e=>e.time<=t));const p=i.keyframes.length;if(n&&u!==p){const a=null==(s=r[e])?void 0:s[p-1],n=null==(o=r[e])?void 0:o[p];if(a&&n){const s=Zk(e,l,t,a,n);i.keyframes.push({channel:e,time:t,value:s})}}})),a&&PU.add({undo:YG(e,r,!1),redo:GG({[e]:t},n,!1)}),aG({path:["keyframing",e],val:c.get(o,["keyframing",e]),oldVal:c.get(s,["keyframing",e]),srcFn:"TRIM_END_KEYFRAMES"})})({layerId:a,maxTime:o,undoable:s,maintainInterpolation:n,state:e,draft:t})}))}))}))}case"SET_KEYFRAMES":{const{layerId:a,keyframesForChannels:n,undoable:s}=t;return te(e,(t=>{const o={};return Object.entries(n).forEach((([e,n])=>{const s=HY(t,a,e),i=c.cloneDeep(s.keyframes);o[e]=i,s.keyframes=n})),s&&PU.add({undo:YG(a,o,!1),redo:YG(a,n,!1)}),aG({path:["keyframing",a],val:c.get(t,["keyframing",a]),oldVal:c.get(e,["keyframing",a]),srcFn:"SET_KEYFRAMES"}),t}))}case"DELETE_LAYER_KEYFRAMES":return te(e,(a=>{((e,t,a)=>{var n;const{layerId:s,undoable:o}=e,i=VY(t,s);null==(n=t.keyframing)||delete n[s],o&&PU.add({undo:XG(s,i,!1),redo:KG(s)}),aG({path:["keyframing"],val:c.get(t,["keyframing"]),oldVal:c.get(a,["keyframing"]),srcFn:"DELETE_LAYER_KEYFRAMES"})})(t,a,e)}));case"SET_LAYER_CHANNELS":return te(e,(a=>{((e,t,a)=>{var n;const{layerId:s,layerChannels:o,undoable:i}=e;if(!o)return;const r=null==(n=t.keyframing)?void 0:n[s];VY(t,s),t.keyframing[s]=o,i&&PU.add({undo:XG(s,r,!1),redo:XG(s,o,!1)}),aG({path:["keyframing",s],val:c.get(t,["keyframing",s]),oldVal:c.get(a,["keyframing",s]),srcFn:"SET_LAYER_CHANNELS"})})(t,a,e)}));case"SHIFT_KEYFRAME_PLAYBACK_SPEED":return te(e,(a=>{const{layerId:n,oldPlaybackRate:s,newPlaybackRate:o,undoable:i}=t,r=+(s/o).toFixed(3);return Object.values(VY(a,n)).forEach((({keyframes:e})=>{e.forEach((e=>{e.time=BC(e.time*r)}))})),i&&PU.add({undo:ZG(n,o,s),redo:ZG(n,s,o)}),aG({path:["keyframing",n],val:c.get(a,["keyframing",n]),oldVal:c.get(e,["keyframing",n]),srcFn:"SHIFT_KEYFRAME_PLAYBACK_SPEED"}),a}));case"COPY_LAYER_KEYFRAMES":return te(e,(a=>{const{fromLayerId:n,toLayerId:s,toLayerType:o,undoable:i}=t,r=VY(a,n);return a.keyframing[s]=o?c.pick(c.cloneDeep(r),bY[o]):c.cloneDeep(r),i&&PU.add({undo:KG(s,!1),redo:qG(n,s,o,!1)}),aG({path:["keyframing"],val:c.get(a,["keyframing"]),oldVal:c.get(e,["keyframing"]),srcFn:"COPY_LAYER_KEYFRAMES"}),a}));default:return e}},GY=({existingLayers:e,tetheredWaveformsByAssetId:t,count:a,targetDepthDirection:n,comparisonDepth:s})=>{const o=(({existingLayers:e,tetheredWaveformsByAssetId:t})=>{const a=Object.entries(t??{}).map((([t,a])=>{const n=Object.values(e).find((e=>e.asset_id===t));if(n)return DA({assetId:t,waveformInfo:a,layer:n})})).filter(vA);return[...Object.values(e),...a].map((e=>e.depth)).sort(Tp)})({existingLayers:e,tetheredWaveformsByAssetId:t}),i=KY(o),r=XY(o);let l;const d="behind"!==n;l=n&&s?s:d?i:r;let c=-1;l&&(c=d?o.findIndex((e=>Tp(e,l)===kp)):o.findLastIndex((e=>Tp(e,l)===Ap)));const u=c>-1?o[c]:void 0;return qI(d?u:l,d?l:u,a).reverse()},YY=({comparisonDepth:e,targetDepthDirection:t,existingLayers:a,tetheredWaveformsByAssetId:n})=>{const s=GY({comparisonDepth:e,targetDepthDirection:t,existingLayers:a,tetheredWaveformsByAssetId:n,count:1})[0];if(void 0===s)throw new Error("Could not generate layer depth.");return s},KY=e=>e[e.length-1],XY=e=>e[0];var ZY=(e=>(e[e.Track=1]="Track",e[e.Transition=3]="Transition",e[e.TimelineRowColumn=6]="TimelineRowColumn",e[e.TimeLabel=10]="TimeLabel",e[e.Trimmer=11]="Trimmer",e[e.Seeker=12]="Seeker",e[e.CrossTransition=14]="CrossTransition",e[e.DraggedTrack=18]="DraggedTrack",e[e.DraggedTrackTrimmer=19]="DraggedTrackTrimmer",e[e.RowHighlight=22]="RowHighlight",e[e.TransitionDropZone=25]="TransitionDropZone",e))(ZY||{});const qY=60;var JY=(e=>(e.TrimEnd="TrimEnd",e.TrimStart="TrimStart",e.Drag="Drag",e))(JY||{});const $Y=(e,t)=>t/e,QY=(e,t)=>{let a=(t-25)/e;return a<0&&(a=0),a},eK=(e,t)=>{let a=t*e+25;return a<0&&(a=25),a},tK=32,aK=10,nK=80,sK=55;function oK(e){if(!e.isMobile)return!1;const t=oU(e),a="magicSubtitle"===(null==t?void 0:t.type),n="layer"===(null==t?void 0:t.type)&&Ag(t.item);if(a||n)return e.studioLocal.mobileTrayContent===Jj.MEDIA_CONTROLS||e.studioLocal.mobileTrayContent===Jj.EDIT_SELECTION_CONTROLS;return!!t?e.studioLocal.mobileTrayContent===Jj.EDIT_SELECTION_CONTROLS:!!e.studioLocal.mobileTrayContent}const iK="media-sidebar",rK={audio:"Audio",emojis:"Emojis",help:"Help",textToSpeech:"AI Voice",layers:"Layers",media:"Media",more:"More",plugins:"Plugins",record:"Record",shapes:"Shapes",soundEffects:"Sound Effects",subtitles:"Subtitles",templates:"Templates",text:"Text",transcript:"Transcript",transitions:"Transitions",translate:"Translate",visuals:"Visuals"},lK=e=>e.sessionValues.hideTimeline??!1,dK=(e,t,a)=>!!rA(e,t,a).duration,cK=e=>gK(e,"snapInTimeline")??!0,uK=e=>{var t;const a=w_(),n=oK(e);if(!e.userPermissions.canWrite){return(null==(t=e.selectedTabs)?void 0:t["media-sidebar"])===rK.help}const s=e.projectSessionSettings.mediaSidebar??!a;return e.isMobile?n&&s:s},pK=e=>gK(e,"rippleMode")??!1,mK=e=>e.projectSessionSettings.pxInSecond??null;function gK(e,t){var a,n,s;return e.currentUser.user._id?null==(n=null==(a=e.studio.userSpecificSettings)?void 0:a[e.currentUser.user._id])?void 0:n[t]:null==(s=e.studio.userSpecificSettingsAnonymous)?void 0:s[t]}const hK=u((e=>e.studio.showCanvas),(e=>!!Object.entries(e.studio.allLayers.byId).length),((e,t)=>!e&&!t));function vK(e,t){if(!t)return[];const a=[];return e.every((e=>(e.timelineRow===t.timelineRow&&a.push(e),!0))),a}const fK=e=>e.some((e=>np(e)||tp(e)||up(e))),bK=u((e=>e.studio.allLayers.byId),(e=>e.timelineStyles.timelineContainerWidth),(e=>{var t;return(null==(t=e.projectSessionSettings.timelinePosition)?void 0:t.timelineScrollLeft)??0}),(e=>mK(e)),(e=>e.assets.byId),((e,t,a,n)=>{if(!n)return[];return Object.values(e).filter((e=>{const[s,o]=zC(e),i=eK(n,s),r=eK(n,o),l=a+t;return a<=i&&i<=l||a<=r&&r<=l}))}));function yK(e,t=!0){return{type:"SET_CANVAS_BLUR",value:e,undoable:t}}function wK(e){return{type:"SET_SNAP_TO_GRID",value:e}}function _K(e){return{type:"SELECT_SAFEZONE",value:e}}function CK(e,t){return{color:e,type:"SET_STUDIO_BACKGROUND",undoable:t}}function SK({undoable:e=!1,value:t=!0}={}){return{type:"SHOW_STUDIO_CANVAS",value:t,undoable:e}}function xK(e=!1){return{type:"SET_IMAGE_VIDEO",isImageVideo:e}}function IK({userSetDuration:e=!1,duration:t,undoable:a=!1,userSelectedDuration:n}){return{type:"SET_STUDIO_DURATION",duration:t,undoable:a,userSetDuration:e,userSelectedDuration:n}}const AK={applyAnimation:ne("applyAnimation"),applyPatches:ne("applyPatches"),applyTransition:ne("applyTransition"),changeVisibleSectionOfVideoLayer:ne("changeVisibleSectionOfVideoLayer"),changeStaticLayersDuration:ne("changeStaticLayersDuration"),changeTransitionDuration:ne("changeTransitionDuration"),convertToStaticProject:ne("convertToStaticProject"),createMontage:ne("createMontage"),deleteAnimation:ne("deleteAnimation"),deleteGap:ne("deleteGap"),applyDraggedTracksOverride:ne("applyDraggedTracksOverride"),insertFreezeFrame:ne("insertFreezeFrame"),deleteRows:ne("deleteRows"),insertRow:ne("insertRow"),moveRowToRow:ne("moveRowToRow"),trackDroppedOnTimeline:ne("trackDroppedOnTimeline"),smartCut:ne("smartCut"),splitLayer:ne("splitLayer"),trimRanges:ne("trimRanges"),untrimRanges:ne("untrimRanges"),reduceBrollGaps:ne("reduceBrollGaps"),reverseLayers:ne("reverseLayers"),replaceLayer:ne("replaceLayer"),assetsDurationChanged:ne("assetsDurationChanged"),makeRoomForDetachAudio:ne("makeRoomForDetachAudio"),trimLayerStart:ne("trimLayerStart"),trimLayerEnd:ne("trimLayerEnd"),turnOffSpeakerFocus:ne("turnOffSpeakerFocus"),UNSAFE_updateLayerDirectly:ne("UNSAFE_updateLayerDirectly"),changeLayerSpeed:ne("changeLayerSpeed")};function kK(e,t){const a=e[0]/e[1],n=t.width/t.height;let s=t.width,o=t.height;return a>=n?o=e[1]*t.width/e[0]:s=e[0]*t.height/e[1],{width:s,height:o}}function TK(e){let t=e.split(":");2!==t.length&&(t=["1","1"]);const a=t.map((e=>{const t=parseFloat(e);return t?t<0?1:t:1}));return{ratioWidth:a[0],ratioHeight:a[1]}}async function EK(e,t){const{token:a}=Mu().state.currentUser||{};return Zf(`/api/v1/videos/${e}`,{params:{clientVersion:"0.18"},body:t,headers:{"x-access-token":a},parseJSON:!1})}function LK(e){return{type:"SET_STUDIO_NAME",name:e}}const jK=async(e,t)=>{const{dispatch:a,state:n}=Mu(),{studio:s}=n,{_id:o}=s;let i=t;if(t||(i=o),a(LK(e)),i)try{await EK(i,{name:e})}catch(b9e){}},RK=["audio","smart-cut","interview","screenshare","reverse","repurpose","remove-background","remove-image-background","green-screen","subtitles","add-audio","waveform","text-to-speech","default"];function NK(e){return RK.includes(e)}const MK={title:"An Inside Look at Kapwing's B2B Video Marketing Strategy | The Shortcut Find Highlights",thumbnail:"https://cdn-useast1.kapwing.com/static/lMu-repurpose_sample_thumbnail.webp",workflowId:"65a862926a7a6a0b86d5e69b",assetId:"65a862046a7a6a0b86d5e69a",findHighlightsJobId:"65ac7dc4007094af697ae695",type:"interview",assetDuration:2030,clipsCount:13},PK={title:"How to Repurpose Your Content for SM.mp4 Find Highlights",thumbnail:"https://cdn-useast1.kapwing.com/static/jWS-repurpose_sample_webinar.webp",workflowId:"65a968c96a7a6a0b86d5e6ab",assetId:"65a967656a7a6a0b86d5e6aa",findHighlightsJobId:"65a1a23858810a3420899381",type:"screenshare",assetDuration:2759,clipsCount:9},FK={title:"How to Get Over the Hurdle to Create Video Content with Julia Enthoven of Kapwing Find Highlights",thumbnail:"https://cdn-useast1.kapwing.com/static/Ww6-1200x630wp.webp",workflowId:"65f0b81b6f4bbf8aa0e3076a",assetId:"65f0ac8a6f4bbf8aa0e30760",findHighlightsJobId:"65ef99d9bcbdb25bf75195bb",type:"podcast",assetDuration:2100,clipsCount:10},DK=[MK,PK,FK],OK=e=>!!DK.find((t=>t.workflowId===e)),UK={[MK.assetId]:MK,[PK.assetId]:PK,[FK.assetId]:FK};function BK(){const e=F(),{landingPageSource:t,withSample:a,sampleType:n,tooltip:s,redirectSource:o,pastedLink:i,locale:r}=HK(e);return{landingPageSource:t,withSample:a,sampleType:n,tooltip:s,redirectSource:o,pastedLink:i,locale:r}}const WK=e=>Object.values(Zw).includes(e)?e:null,VK=e=>"true"===e,HK=e=>{const t=new URLSearchParams(e.search),a=t.get(Xw.REDIRECT_SOURCE)??"",n=t.get(Xw.SAMPLE)??"",s=t.get(Xw.SAMPLE_TYPE)??"",o=t.get(Xw.TOOLTIP)??"",i=t.get(Xw.PASTED_LINK)??"",r=t.get(Xw.LOCALE)??Kw.EN;return gR([Xw.REDIRECT_SOURCE,Xw.SAMPLE,Xw.SAMPLE_TYPE,Xw.TOOLTIP,Xw.PASTED_LINK,Xw.LOCALE]),{redirectSource:a,landingPageSource:WK(a),withSample:VK(n),sampleType:NK(s)?s:"default",tooltip:o,pastedLink:i,locale:r}},zK="other (please specify below)",GK=[...Lf([{value:"hr",label:"HR"},{value:"marketing",label:"Marketing"},{value:"communications",label:"Communications"},{value:"media production",label:"Media Production"},{value:"creative agency",label:"Creative Agency"},{value:"sales",label:"Sales"},{value:"self-employed/freelance video creator",label:"Self-employed/Freelance Video Creator"}]),{value:"other (please specify below)",label:"Other (please specify below)"}],YK=[{value:"student",label:"Student"},{value:"teacher",label:"Teacher"},{value:"admin or district leader",label:"Admin or District Leader"}],KK=[...Lf([{value:"I'm creating videos from scratch",label:"I'm creating videos from scratch"},{value:"I'm repurposing my existing videos for other social media platforms",label:"I'm repurposing my existing videos for other social media platforms"},{value:"I'm creating images or GIFs",label:"I'm creating images or GIFs"}]),{value:"other (please specify below)",label:"Other (please specify below)"}],XK=[{value:"Blog post or article",label:"Blog post or article"},{value:"Email",label:"Email"},{value:"Friend or co-worker",label:"Friend or co-worker"},{value:"LinkedIn",label:"LinkedIn"},{value:"Saw the watermark",label:"Saw the watermark"},{value:"Search engine (Google, Bing, etc.)",label:"Search engine (Google, Bing, etc.)"},{value:"TikTok",label:"TikTok"},{value:"Twitter",label:"Twitter"},{value:"YouTube",label:"YouTube"},{value:"other (please specify below)",label:"Other (please specify below)"}],ZK={control:e=>({...e,background:"white",cursor:"pointer"}),singleValue:e=>({...e,fontFamily:"Open Sans",fontStyle:"normal",fontWeight:"normal",fontSize:"14px",color:"black"}),indicatorSeparator:()=>({display:"none"}),option:(e,{isFocused:t})=>({...e,fontFamily:"Open Sans",fontStyle:"normal",fontWeight:"normal",fontSize:"14px",color:t?"white":"black",textAlign:"left",backgroundColor:t?"#0083e2":""}),menuPortal:e=>({...e,zIndex:100})},qK=e=>({...e,colors:{...e.colors,primary:"#1fa2ff",primary50:"#1fa2ff"}}),JK=async(e,t,a,n,s)=>{const o=t.toLowerCase(),i=a.toLowerCase();((e,t,a,n,s)=>{const{state:o}=Mu(),{currentUser:i}=o||{},{user:r}=i||{},{_id:l}=r||{},d={Usage:e,Occupation:t,"Project Usage":a,"Occupation Custom Response":n,"Project Usage Custom Response":s};ov("Completed Onboarding Survey",d),l&&amplitude.setUserId(l),sv(c.omitBy(d,c.isUndefined))})(e,o,i,n,s),await $K({survey:{usage:e,occupation:o,projectUsage:i,date:new Date}}),Qf()};async function $K(e){await Xf("/api/v1/users/updateProfile/onboarding",{body:{onboarding:e},parseJSON:!1})}function QK(e){return np(e)||up(e)}const eX=e=>{const t=[];return e.forEach((e=>{const[a,n]=zC(e);let s=null,o=null;if([...Array(t.length).keys()].forEach((i=>{const r=t[i];a>r.startTime&&a<r.endTime&&(s=i),n>r.startTime&&n<r.endTime&&(o=i),r.startTime>=a&&r.endTime<=n&&r.layers.push(e)})),0===t.length){if(a>0){const e={layers:[],startTime:0,endTime:a};t.push(e)}const s={layers:[e],startTime:a,endTime:n};t.push(s)}else if(n<t[0].startTime){const s=t[0].startTime,o={layers:[e],startTime:a,endTime:n},i={layers:[],startTime:n,endTime:s};t.push(o),t.push(i)}else if(a>t[t.length-1].endTime){const s={layers:[],startTime:t[t.length-1].endTime,endTime:a},o={layers:[e],startTime:a,endTime:n};t.push(s),t.push(o)}else{if(n>t[t.length-1].endTime){const a={layers:[e],startTime:t[t.length-1].endTime,endTime:n};t.splice(t.length,0,a)}if(null!==o&&null!==s&&s===o){const o=t[s],i=o.startTime;o.startTime=n;const r={layers:[...o.layers],startTime:i,endTime:a},l={layers:[...o.layers],startTime:a,endTime:n};l.layers.push(e),t.splice(s,0,l),t.splice(s,0,r)}else{if(null!==o){const a=t[o],s=a.startTime,i=n;a.startTime=i;const r={layers:[...a.layers],startTime:s,endTime:i};r.layers.push(e),t.splice(o,0,r)}if(null!==s){const n=t[s],o=a,i=n.endTime;n.endTime=o;const r={layers:[...n.layers],startTime:o,endTime:i};r.layers.push(e),t.splice(s+1,0,r)}}if(a<t[0].startTime){const n={layers:[e],startTime:a,endTime:t[0].startTime};t.splice(0,0,n)}}})),t},tX=(e,t)=>{var a;const n=new Set,s=[];for(const o of e)if(!n.has(o)){const e=null==(a=Object.entries(t).find((([e,t])=>t.saved&&t.layers.find((e=>e.id===o)))))?void 0:a[0];if(e){s.push(e);const a=t[e];a&&a.layers.forEach((e=>n.add(e.id)))}else s.push(o)}return s},aX=e=>{var t;const{state:a}=Mu();return(null==(t=a.studio.groups)?void 0:t[e])||null};function nX(e){return!!e.position}function sX(e){return{width:parseFloat(e.width),height:parseFloat(e.height),x:parseFloat(e.x),y:parseFloat(e.y)}}function oX(e){return mp(e)?e.startTime??0:e.videoDelay??0}function iX({innerBox:e,outerBox:t,outerResizedBox:a}){const n=sX(t),s=sX(e),o=(s.x-n.x)/n.width,i=(s.y-n.y)/n.height,r=s.width/n.width,l=s.height/n.height,d=sX(a),u=c.clamp(d.width*r,0,100),p=c.clamp(d.height*l,0,100),m=c.clamp(d.x+d.width*o,0,100-u),g=c.clamp(d.y+d.height*i,0,100-p);return{...e,x:Xm(m),y:Xm(g),width:Xm(u),height:Xm(p)}}function rX({position:e,newRatio:t,prevRatio:a}){const n=sX(e),s=n.width*n.height/100,o=n.width*a.width/(n.height*a.height);let{newWidth:i,newHeight:r}=function({areaPct:e,logoAspectRatio:t,newRatio:a}){const n=Math.sqrt(100*e*a.height/a.width*t);return{newWidth:c.clamp(n,0,100),newHeight:c.clamp(100*e/n,0,100)}}({areaPct:s,logoAspectRatio:o,newRatio:t});if(100===n.height){const e=100*t.height/t.width*o;if(e>100){i=100;r=100*t.width/t.height/o}else i=e,r=100}else if(100===n.width){const e=100*t.width/t.height/o;if(e>100){r=100;i=100*t.height/t.width*o}else i=100,r=e}r>100&&(r=100,i=100*o);let l=n.x;if(Math.abs(n.x+n.width/2-50)<.1)l=50-i/2;else{const e=100-n.width-n.x;n.x>e&&(l=c.clamp(100-i-e,0,100)),l+i>100&&(l=100-i),l<0&&(l=0)}let d=n.y;if(Math.abs(n.y+n.height/2-50)<.1)d=50-r/2;else{const e=100-n.height-n.y;n.y>e&&(d=c.clamp(100-r-e,0,100)),d+r>100&&(d=100-r),d<0&&(d=0)}return{...e,width:Xm(i),height:Xm(r),x:Xm(l),y:Xm(d)}}const lX=(e,t)=>{const a=e.layers,n={},s=[];a.forEach((e=>{const a=t.find((t=>t.id===e.id));a&&(s.push(a),a.position&&(n[e.id]=a.position))}));const o=(e=>{let t=100,a=0,n=100,s=0;return e.forEach((e=>{const{position:o}=e;o&&(parseFloat(o.x)<t&&(t=parseFloat(o.x)),parseFloat(o.y)<n&&(n=parseFloat(o.y)),parseFloat(o.x)+parseFloat(o.width)>a&&(a=parseFloat(o.x)+parseFloat(o.width)),parseFloat(o.y)+parseFloat(o.height)>s&&(s=parseFloat(o.y)+parseFloat(o.height)))})),{x:Xm(t),y:Xm(n),width:Xm(a-t),height:Xm(s-n),rotation:0}})(s);return{position:{...o,rotation:e.rotation},layerPositions:n}},dX=({layer:e,layers:t,resizeLayerUpdates:a})=>{const n=zC(e);let s,o=1e4;const i=e.id;if(t.forEach((t=>{if(!nX(t))return;if(t.id===i)return;const a=zC(t);if(!(a[0]<=n[0]&&a[1]>=n[1]))return;if(!((e,t)=>{const a=sX(e),n=sX(t);return a.x>=n.x&&a.y>=n.y&&a.x+a.width<=n.x+n.width&&a.y+a.height<=n.y+n.height})(e.position,t.position))return;const r=sX(t.position);r.width*r.height<=o&&(s=t,o=r.width*r.height)})),s&&o){const e=a[s.id];if(null==e?void 0:e.position)return{position:s.position,resizedPosition:e.position}}},cX={width:"100%",height:"100%",x:"0%",y:"0%",rotation:0};function uX({currentFontSize:e,newRatio:t,prevRatio:a}){const n=a.width/a.height;let s=t.width/t.height/n-1;s/=2;const o=1+s;return Math.max(1,Math.round(e/o))}function pX({position:e,newRatio:t,prevRatio:a}){const n=parseFloat(e.height)*a.height/(parseFloat(e.width)*a.width),s=t.height/t.width;if(n>s){const t=100,a=1/n*100*s,o=(100-a)/2;return{...e,width:Xm(a),height:Xm(t),x:Xm(o),y:Xm(0)}}const o=100*n/s,i=(100-o)/2;return{...e,width:Xm(100),height:Xm(o),x:Xm(0),y:Xm(i)}}const mX=({group:e,prevRatio:t,newRatio:a,layers:n,resizeMethod:s,resizeLayerUpdates:o,mainLayer:i})=>{const{position:r,layerPositions:l}=lX(e,n),{layer:d,mainLayerResizedPosition:c}=i||{},u=null==d?void 0:d.position,p=null==i?void 0:i.layer.id;let m;m="fit-to-center"===s?u&&c?iX({innerBox:r,outerBox:u,outerResizedBox:c}):pX({position:r,newRatio:a,prevRatio:t}):rX({position:r,newRatio:a,prevRatio:t}),Object.entries(l).forEach((([e,n])=>{if(d&&e===p){const{position:n,crop:i}=gX({layer:d,newRatio:a,prevRatio:t,resizeMethod:s});o[e]={position:n,crop:i}}else{const t=iX({innerBox:n,outerBox:r,outerResizedBox:m});o[e]={position:t}}}))};function gX({layer:e,newRatio:t,prevRatio:a,resizeMethod:n}){const{position:s,crop:o}=e;return"fill"===n?function({position:e,newRatio:t,prevRatio:a,crop:n}){let s,o;if(n){const t=parseFloat(e.width)*a.width/(n.width/100);s=parseFloat(e.height)*a.height/(n.height/100)/t}else s=parseFloat(e.height)*a.height/(parseFloat(e.width)*a.width);const i=t.height/t.width;if(s>i){const e=i/s*100;o={x:0,y:(100-e)/2,width:100,height:e}}else{const e=s/i*100;o={x:(100-e)/2,y:0,width:e,height:100}}return{position:{...e,width:Xm(100),x:Xm(0),height:Xm(100),y:Xm(0)},crop:o}}({position:s,newRatio:t,prevRatio:a,crop:o}):{position:pX({position:s,newRatio:t,prevRatio:a})}}function hX({layers:e,prevRatio:t,newRatio:a,resizeMethod:n}){let s,o=25;if(e.forEach((e=>{if(nX(e)){const t=parseFloat(e.position.width)*parseFloat(e.position.height)/100;t>o&&(o=t,s=e)}})),s&&nX(s))return{layer:s,mainLayerPosition:s.position,mainLayerResizedPosition:gX({layer:s,newRatio:a,prevRatio:t,resizeMethod:n}).position}}function vX({layers:e,prevRatio:t,newRatio:a,resizeMethod:n}){const s=e.filter((e=>{if(nX(e)&&(e.type===Nc.Video||e.type===Nc.Image)){const t=sX(e.position);if(t.width*t.height/100>25)return!0}return!1})),o=eX(s),i=new Map;o.forEach((e=>{const{layers:s,startTime:o,endTime:r}=e,l=hX({layers:s,prevRatio:t,newRatio:a,resizeMethod:n});l&&i.set([o,r],l)}));const r=function({layers:e,prevRatio:t,newRatio:a,resizeMethod:n}){const s=new Map;if(e.filter((e=>"video"===e.type||"image"===e.type)).forEach((e=>{if(e.asset_id){const[t,a]=zC(e),n=a-t;if(n){const t=s.get(e.asset_id);t?s.set(e.asset_id,t+n):s.set(e.asset_id,n)}}})),0===s.size)return hX({layers:e,prevRatio:t,newRatio:a,resizeMethod:n});let o,i=0,r=[];if(s.forEach(((e,t)=>{e>i?(i=e,o=t,r=[t]):Math.abs(e-i)<.05&&r.push(t)})),r.length>1)return hX({layers:e.filter((e=>e.asset_id&&r.includes(e.asset_id))),prevRatio:t,newRatio:a,resizeMethod:n});const l=e.find((e=>e.asset_id===o));return l&&nX(l)?{layer:l,mainLayerResizedPosition:gX({layer:l,newRatio:a,prevRatio:t,resizeMethod:n}).position}:void 0}({layers:s,prevRatio:t,newRatio:a,resizeMethod:n});return{mainLayerMap:i,defaultMainLayer:r}}function fX({mainLayerMap:e,defaultMainLayer:t,time:a}){if(void 0!==a&&e)return function({mainLayerMap:e,time:t}){const a=Array.from(e.entries()).find((([e])=>{const[a,n]=e;return t>=a&&t<n}));return a?a[1]:void 0}({mainLayerMap:e,time:a})||t}function bX({aspectRatioHeight:e,aspectRatioWidth:t,layer:a,prevCanvasHeight:n,prevCanvasWidth:s}){return gX({layer:{...a,position:{height:"100%",width:"100%",x:"0%",y:"0%",rotation:0}},newRatio:{width:t,height:e},prevRatio:{width:a.width??s,height:a.height??n},resizeMethod:"fit-to-center"}).position}const yX=({crop:e,assetWidth:t,assetHeight:a,faceBox:n})=>{const s=CX(e,{width:t,height:a})>=62500;if(n){const t=IF({boxA:n,boxB:SX(e)})>=.95;return s&&t}return s},wX=({box:e,canvasAspectRatio:t,assetAspectRatio:a,assetWidth:n,assetHeight:s})=>{if(!e)return;if(e.face_box){const o=EF(e.face_box),i=jF({box:o,assetAspectRatio:a,canvasAspectRatio:t,isFaceBox:!0}),r=AF({box:kF({box:i,faceBox:e.face_box,canvasAspectRatio:t,assetAspectRatio:a}),assetWidth:n,assetHeight:s}),l=_X(r);if(yX({crop:l,assetWidth:n,assetHeight:s,faceBox:e.face_box}))return l}const o=TF({box:e}),i=jF({box:o,canvasAspectRatio:t,assetAspectRatio:a,isFaceBox:!1,referenceFaceBox:e.face_box}),r=AF({box:kF({box:i,faceBox:e.face_box,canvasAspectRatio:t,assetAspectRatio:a}),assetWidth:n,assetHeight:s}),l=_X(r);return yX({crop:l,assetWidth:n,assetHeight:s,faceBox:e.face_box})?l:void 0},_X=e=>{const t=100*zg(e.x1,0,1),a=100*zg(e.y1,0,1);return{x:t,y:a,width:100*zg(e.x2,0,1)-t,height:100*zg(e.y2,0,1)-a}},CX=(e,t)=>e.width/100*t.width*(e.height/100*t.height),SX=e=>({x1:e.x/100,x2:(e.x+e.width)/100,y1:e.y/100,y2:(e.y+e.height)/100}),xX=({sourceLayer:e,newLayers:t})=>{const a={...e},n=[];t.forEach((t=>{var s,o,i,r,l,d;const c=n[n.length-1]??e;if(!c)return;const u=(null==(s=t.speakerFocus)?void 0:s.groupId)===(null==(o=c.speakerFocus)?void 0:o.groupId),p=(null==(i=t.speakerFocus)?void 0:i.speakerId)===(null==(r=c.speakerFocus)?void 0:r.speakerId),m=(null==(l=t.speakerFocus)?void 0:l.disabled)===(null==(d=c.speakerFocus)?void 0:d.disabled),g=u&&p&&m,{startTime:h,endTime:v}=vp(t);v-h<.5||g?c.id===e.id?a.endTime=v:c.endTime=v:n.push(t)}));const{startTime:s,endTime:o,videoDelay:i}=vp(e);if(o-s<.5&&n.length){const e=n.shift();e.startTime=s,e.videoDelay=i;const{id:t,...o}=e;Object.assign(a,o)}return{sourceLayerUpdates:a,mergedLayers:n}},IX=({sourceLayer:e,newLayers:t})=>{var a,n,s;const o={...e},i=[];if(t.forEach((t=>{i.push((e=>{var t;return{...e,animation:{constant:(null==(t=e.animation)?void 0:t.constant)??[],intros:[],outros:[]}}})({...t,animation:e.animation}))})),o.animation={constant:(null==(a=e.animation)?void 0:a.constant)??[]},(null==(n=e.animation)?void 0:n.intro)&&(o.animation={...o.animation,intro:e.animation.intro,outro:void 0}),null==(s=e.animation)?void 0:s.outro){const t=i[i.length-1];t?t.animation={...t.animation,intro:void 0,outro:e.animation.outro}:o.animation={...o.animation,outro:e.animation.outro}}return{sourceLayerUpdates:o,animatedLayers:i}},AX=({visionJobId:e,sourceLayer:t,sceneSplitTimes:a,transcriptSpeakerSwitchTimes:n,defaultCrops:s,canvasAspectRatio:o,groups:i,edits:r,assetDuration:l,assetDimensions:d,boundingBoxes:c,speakerScores:u,transcript:p,prevAspectRatio:m})=>{var g;const h={...t},v=[],{sourceLayerTimeUpdates:f,newLayerTimes:b}=jX({visionJobId:e,sourceLayer:t,sceneSplitTimes:a,transcriptSpeakerSwitchTimes:n,assetDuration:l,groups:i,speakerScores:u,transcript:p,boundingBoxes:c}),y={layer:t,layerUpdates:h,defaultCrops:s,canvasAspectRatio:o,disabled:null==(g=t.speakerFocus)?void 0:g.disabled,prevAspectRatio:m,assetDimensions:d};if(f&&(h.startTime=f.layerStartTime,h.endTime=f.layerEndTime,h.videoDelay=f.layerVideoDelay,h.fromSmartReframe=!0,f.boundingBoxesTimestamp)){const{speaker:e,speakerBox:a,group:n}=RX({layer:t,boundingBoxesTimestamp:f.boundingBoxesTimestamp,boundingBoxes:c,groups:i,defaultSpeaker:f.defaultSpeaker,defaultSpeakerBox:f.defaultSpeakerBox});Object.assign(y,{layerUpdates:h,box:a,speaker:e,timestamp:f.boundingBoxesTimestamp,group:n,edits:r})}return NX(y),b.forEach((e=>{const a={...t,id:fe(12),startTime:e.layerStartTime,endTime:e.layerEndTime,videoDelay:e.layerVideoDelay,fromSmartReframe:!0},n={},l={layer:a,layerUpdates:n,defaultCrops:s,canvasAspectRatio:o,disabled:!1,prevAspectRatio:m,assetDimensions:d};if(e.boundingBoxesTimestamp){const{speakerBox:t,speaker:n,group:s}=RX({layer:a,boundingBoxes:c,boundingBoxesTimestamp:e.boundingBoxesTimestamp,groups:i,defaultSpeaker:e.defaultSpeaker,defaultSpeakerBox:e.defaultSpeakerBox});Object.assign(l,{box:t,speaker:n,timestamp:e.boundingBoxesTimestamp,group:s,edits:r})}NX(l),v.push({...a,...n})})),{sourceLayerUpdates:h,generatedLayers:v}},kX=c.memoize((({transcriptSpeakerSwitchTimes:e=[],sceneSplitTimes:t,assetDuration:a,groups:n,transcript:s,speakerScores:o,boundingBoxes:i})=>{const r=NF(Array.from(new Set([...e,...t]))),l=[];for(let c=0;c<=r.length;c++){const e=r[c-1]??0,t=r[c]??a;let i;const d=n.find((a=>{const n=a.scenes;return i=n.find((a=>{const[n,s]=a.startEndTimes;return FL(n,s,e,t)})),!!i})),{speaker:u}=(null==s?void 0:s.find((a=>a.start_time>=e&&a.end_time<=t)))??{},p=Object.keys(o??[]).find((a=>Number(a)>=e&&Number(a)<=t)),m=p&&o?UF({object:o,key:p}):void 0,{speaker:g,score:h}=m?WF(m):{speaker:void 0,score:void 0};l.push({layerStartEndTimes:[e,t],groupId:null==d?void 0:d.id,boundingBoxesTimestamp:(null==i?void 0:i.timestamp)?Number(i.timestamp):void 0,speakerScoreTimestamp:p?Number(p):void 0,verifiedSpeakers:null==i?void 0:i.verifiedSpeakers,visionJobSpeaker:g,visionJobSpeakerScore:h,transcriptSpeaker:u})}const d=EX({intervals:l});return l.map(((e,t)=>{const a=l[t-1];return LX({interval:e,boundingBoxes:i,speakerScores:o,speakerMatchScores:d,previousInterval:a})}))}),(e=>e.visionJobId)),TX=({visionJobSpeaker:e,transcriptSpeaker:t,speakerMatchScores:a})=>{var n;return null==(n=a[e])?void 0:n[t]},EX=({intervals:e})=>{const t={},a=new Set;e.forEach((e=>{const{transcriptSpeaker:t}=e;t&&a.add(t)}));const n=e=>{const n=e.map((e=>{const{left:t,right:a,verifiedScore:n,unverifiedScores:s}=e,o=c.mean(s);return{left:t,right:a,weight:n*(isNaN(o)?1:o)+(isNaN(o)?0:o)}}));DF({edges:n,type:"maximum"}).forEach((({left:e,right:n,weight:s})=>{let o=t[n];void 0===o&&(o={},t[n]=o);let i=o[e];void 0===i&&(i=[],o[e]=i),i.push(s),a.delete(e)}))};for(;a.size;){const t=[];if(e.forEach((e=>{const{transcriptSpeaker:n,visionJobSpeaker:s,visionJobSpeakerScore:o,verifiedSpeakers:i}=e;if(n&&a.has(n))if(1===(null==i?void 0:i.length)){const e=i[0],a=t.find((t=>t.left===n&&t.right===e));a?a.verifiedScore+=1:t.push({left:n,right:e,verifiedScore:1,unverifiedScores:[]})}else if(s&&void 0!==o){const e=t.find((e=>e.left===n&&e.right===s));e?e.unverifiedScores.push(o):t.push({left:n,right:s,verifiedScore:0,unverifiedScores:[o]})}})),!t.length)break;n(t)}return Object.entries(t).reduce(((e,[t,a])=>({...e,[t]:Object.entries(a).reduce(((e,[t,a])=>({...e,[t]:c.mean(a)})),{})})),{})},LX=({interval:e,boundingBoxes:t,speakerScores:a={},speakerMatchScores:n={},previousInterval:s})=>{const{transcriptSpeaker:o,verifiedSpeakers:i,visionJobSpeaker:r,visionJobSpeakerScore:l,boundingBoxesTimestamp:d,speakerScoreTimestamp:c}=e;if(void 0===d)return e;const u=UF({object:t,key:d});if(!u)throw new Error(`Could not find bounding boxes at timestamp ${d}.`);const{speakerMatch:p,speakerMatchScore:m}=o?(({transcriptSpeaker:e,speakerMatchScores:t})=>{var a;const[n,s]=Object.entries(t).find((([t,a])=>!!a[e]))??[void 0,void 0];return{speakerMatch:n,speakerMatchScore:n?(null==(a=t[n])?void 0:a[e])??0:void 0}})({transcriptSpeaker:o,speakerMatchScores:n}):{speakerMatch:void 0,speakerMatchScore:void 0};let g,h;const v=[];if(1===(null==i?void 0:i.length)&&v.push(i[0]),(r||p)&&(r&&!p&&v.push(r),p&&!r&&v.push(p),p&&void 0!==m&&r&&void 0!==l))if(p===r)v.push(p);else{const e=void 0!==c?UF({object:a,key:c}):void 0,t=null==e?void 0:e[p];(void 0!==t?Math.abs(t-l):1/0)<.5&&m>l?v.push(p):v.push(r)}(null==s?void 0:s.groupId)===e.groupId&&v.push(null==s?void 0:s.defaultSpeaker);const{object:f}=(({objects:e,minSpeakerConfidence:t=.5})=>{let a,n=0;for(const[s,o]of Object.entries(e)){const e=HF(o);e>n&&e>t&&(n=e,a=s)}return{object:a,box:a?e[a]:void 0,confidence:n}})({objects:u});return v.push(f),v.forEach((e=>{(e=>{g&&h||e&&u[e]&&(g=e,h=u[e])})(e)})),{...e,speakerMatchScore:m,speakerMatch:p,defaultSpeaker:g,defaultSpeakerBox:g?null==u?void 0:u[g]:void 0}},jX=({visionJobId:e,sourceLayer:t,assetDuration:a,boundingBoxes:n,groups:s,sceneSplitTimes:o,speakerScores:i,transcript:r,transcriptSpeakerSwitchTimes:l})=>{const{startTime:d,endTime:c,videoDelay:u,playbackRate:p}=vp(t),m=kX({visionJobId:e,assetDuration:a,boundingBoxes:n,groups:s,sceneSplitTimes:o,speakerScores:i,transcript:r,transcriptSpeakerSwitchTimes:l}).filter((({layerStartEndTimes:e})=>{const[t,a]=e;return FL(d,c,t,a)})).map((({layerStartEndTimes:e,boundingBoxesTimestamp:t,defaultSpeaker:a,defaultSpeakerBox:n})=>{const s=Math.max(e[0],d),o=Math.min(e[1],c);return{layerVideoDelay:u+(s-d)/p,layerStartTime:s,layerEndTime:o,boundingBoxesTimestamp:t,defaultSpeaker:a,defaultSpeakerBox:n}}));return{sourceLayerTimeUpdates:m[0],newLayerTimes:m.slice(1)}};function RX({layer:e,boundingBoxesTimestamp:t,boundingBoxes:a,groups:n,defaultSpeaker:s,defaultSpeakerBox:o}){const{speakerId:i,groupId:r}=e.speakerFocus??{},l=void 0!==t?UF({key:t,object:a}):void 0;l||console.info(`Could not find bounding boxes at timestamp ${t}`);const d=n.find((e=>e.scenes.some((e=>e.timestamp===t)))),c=i,u=n.find((e=>e.id===r)),p=l&&i?l[i]??void 0:void 0,m=u&&d&&u.id===d.id&&c&&p;return{speakerBox:m?p:o,speaker:m?c:s,group:d}}function NX({box:e,layer:t,layerUpdates:a,defaultCrops:n,speaker:s,timestamp:o,canvasAspectRatio:i,edits:r,disabled:l,group:d,prevAspectRatio:c,assetDimensions:u}){var p,m;const g=s,h=null==d?void 0:d.id,v=nL(t),f=(r&&g&&h&&v?MX({assetId:v,speakerId:g,groupId:h,aspectRatio:i,edits:r}):void 0)??wX({box:e,canvasAspectRatio:i,assetAspectRatio:u.aspectRatio,assetWidth:u.width,assetHeight:u.height});l||(f&&"FIT_TO_CENTER_SPEAKER"!==g||!(null==n?void 0:n.fitToCenterPosition)?(a.crop=f,a.position={...t.position,x:"0%",y:"0%",width:"100%",height:"100%",rotation:(null==(p=t.position)?void 0:p.rotation)??0}):(a.crop=cF,a.position={...t.position,...n.fitToCenterPosition})),a.speakerFocus={groupId:h,speakerId:f?g:"FIT_TO_CENTER_SPEAKER",speakerTimestamp:o,cache:{...null==(m=t.speakerFocus)?void 0:m.cache,crop:c.toFixed(2)!==i.toFixed(2)?cF:t.crop,position:c.toFixed(2)!==i.toFixed(2)?null==n?void 0:n.fitToCenterPosition:t.position,aspectRatio:c,source:"apply speaker focus"},disabled:l}}const MX=({assetId:e,groupId:t,speakerId:a,aspectRatio:n,edits:s})=>{var o,i,r;return null==(r=null==(i=null==(o=s[e])?void 0:o[OF(n)])?void 0:i[t])?void 0:r[a]},PX=e=>{var t;return np(e)&&!!e.speakerFocus&&!!(null==(t=e.speakerFocus)?void 0:t.cache)&&e.fromSmartReframe},FX=e=>!!PX(e)&&(!!e.speakerFocus&&!!(e.speakerFocus.speakerTimestamp&&e.speakerFocus.groupId&&e.speakerFocus.speakerId)),DX=e=>{var t,a;return"custom crop"===(null==(a=null==(t=e.speakerFocus)?void 0:t.cache)?void 0:a.source)&&!!e.speakerFocus.disabled},OX=(e,t=.1)=>{const a=[],n={},s=e.filter((e=>PX(e))).sort(((e,t)=>{const{startTime:a}=vp(e),{startTime:n}=vp(t);return a-n})).reduce(((e,a)=>{var n;const s=e.findIndex((e=>e.some((e=>((e,t,a=.1)=>{var n,s,o,i,r,l,d,u,p,m,g,h;const{startTime:v,endTime:f,videoDelay:b,playbackRate:y}=vp(e),{startTime:w,endTime:_,videoDelay:C,playbackRate:S}=vp(t);return!!(PX(e)&&PX(t)&&nL(e)===nL(t)&&e.timelineRow===t.timelineRow&&y===S&&(VC(v,_,a)||VC(f,w,a))&&(VC(b,C+(_-w)/S,a)||VC(C,b+(f-v)/y,a))&&c.isEqual(null==(s=null==(n=e.speakerFocus)?void 0:n.cache)?void 0:s.crop,null==(i=null==(o=t.speakerFocus)?void 0:o.cache)?void 0:i.crop)&&c.isEqual(null==(l=null==(r=e.speakerFocus)?void 0:r.cache)?void 0:l.position,null==(u=null==(d=t.speakerFocus)?void 0:d.cache)?void 0:u.position)&&c.isEqual(null==(m=null==(p=e.speakerFocus)?void 0:p.cache)?void 0:m.aspectRatio,null==(h=null==(g=t.speakerFocus)?void 0:g.cache)?void 0:h.aspectRatio))})(a,e,t)))));return-1!==s?null==(n=e[s])||n.push(a):e.push([a]),e}),[]);return s.forEach((e=>{if(e.length<2)return;let t=1/0,s=1/0,o=-1/0;e.forEach((e=>{const{videoDelay:a,startTime:n,endTime:i}=vp(e);t=Math.min(t,a),s=Math.min(s,n),o=Math.max(o,i)}));const[i,...r]=e;i&&(n[i.id]={startTime:s,endTime:o,videoDelay:t},a.push(...r.map((e=>e.id))))})),{layerIdsToDelete:a,layerUpdatesById:n}},UX=({visionJob:e,sourceLayer:t,defaultCrops:a,canvasAspectRatio:n,edits:s,assetDuration:o,assetDimensions:i,transcript:r,prevAspectRatio:l})=>{switch(e.job_type){case ou.ObjectTrackingV2:if(e.job_result&&"error"!==e.status)return(({visionJobId:e,sceneSplitTimes:t,transcriptSpeakerSwitchTimes:a,sourceLayer:n,defaultCrops:s,canvasAspectRatio:o,groups:i,edits:r,assetDuration:l,assetDimensions:d,boundingBoxes:c,speakerScores:u,transcript:p,prevAspectRatio:m})=>{const{sourceLayerUpdates:g,generatedLayers:h}=AX({visionJobId:e,sourceLayer:n,sceneSplitTimes:t,transcriptSpeakerSwitchTimes:a,defaultCrops:s,canvasAspectRatio:o,groups:i,edits:r,assetDuration:l,assetDimensions:d,boundingBoxes:c,speakerScores:u,transcript:p,prevAspectRatio:m}),{sourceLayerUpdates:v,mergedLayers:f}=xX({sourceLayer:{...n,...g},newLayers:h}),{sourceLayerUpdates:b,animatedLayers:y}=IX({sourceLayer:{...n,...v},newLayers:f});return{layerUpdates:{...g,...v,...b},layersToAdd:y}})({visionJobId:e._id,sceneSplitTimes:e.job_result.scene_split_timestamps,transcriptSpeakerSwitchTimes:e.job_result.transcript_speaker_switch_timestamps,sourceLayer:t,defaultCrops:a,canvasAspectRatio:n,groups:(iu(e)?null==e?void 0:e.groups:[])??[],edits:s,assetDuration:o,assetDimensions:i,boundingBoxes:e.job_result.result,speakerScores:e.job_result.speaker_scores,transcript:r,prevAspectRatio:l});throw new Error("Error processing video. Please try again.");case ou.ObjectTracking:case ou.ImageObjectDetection:default:throw new Error("Vision job type not supported.")}},BX=({layer:e,visionJobOverride:t,aspectRatio:a,prevAspectRatio:n})=>{var s,o;try{const i={},r=[],{state:l}=Mu(),d=nL(e),c=d?l.assets.byId[d]:void 0;if(!c)return{speakerFocusLayerUpdates:i,speakerFocusLayersToAdd:r};const u=void 0!==a?a:l.studio.width??16,p=void 0!==a?1:l.studio.height??9,m=void 0!==n?n:l.studio.width??16,g=void 0!==n?1:l.studio.height??9,h=bX({aspectRatioHeight:p,aspectRatioWidth:u,layer:e,prevCanvasHeight:g,prevCanvasWidth:m});if(np(e)){const a=t??(null==(s=l.vision.byAssetId[c._id])?void 0:s[ou.ObjectTrackingV2]);if(!(a&&ru(a)&&"success"===a.status))throw new Error("Error applying speaker focus: no valid vision job found.");const n=QE({asset:c})??a.asset_duration;if(void 0===n)throw new Error("Error applying speaker focus: no duration found for layer.");const d=eL(c);if(!d)throw new Error("Error apply speaker focus: no aspect ratio found for layer.");const v=null==(o=a.job_params)?void 0:o.languageCode,f=l.assetTranscriptions.byId[c._id],b=f&&v&&f[v],y=b&&"completed"===b.state?b.words:[],w=l.studio.speakerFocusEdits,{layerUpdates:_,layersToAdd:C}=UX({visionJob:a,sourceLayer:e,defaultCrops:{fitToCenterPosition:h},canvasAspectRatio:u/p,edits:w,assetDuration:n,assetDimensions:d,transcript:y,prevAspectRatio:m/g});Object.keys(_).length>0&&(i[e.id]=_),C.length>0&&r.push(...C);const{lipSyncLayersToAdd:S,lipSyncLayerUpdates:x}=(({sourceLayer:e,speakerFocusLayerUpdates:t,speakerFocusLayersToAdd:a})=>{const n={},s=[];if(!cp(e))return{lipSyncLayerUpdates:n,lipSyncLayersToAdd:s};const{state:o}=Mu(),{startTime:i,endTime:r,videoDelay:l,playbackRate:d}=vp(e),c=l+(r-i)/d;return Object.entries(t).forEach((([t,a])=>{const s=o.studio.allLayers.byId[t];if(!s)return;const{startTime:r,videoDelay:d}=vp(s);d===l&&a.endTime&&(n[e.id]={endTime:i+a.endTime-(a.startTime??r),position:a.position,crop:a.crop})})),a.forEach((t=>{const{startTime:a,endTime:o,videoDelay:r,playbackRate:d}=vp(t);if(r!==l){if(r>l&&r+(o-a)/d<=c){const n=i+r-l;s.push({...e,id:fe(12),startTime:n,endTime:n+o-a,videoDelay:r,crop:t.crop,position:t.position})}}else n[e.id]={endTime:i+o-a,position:t.position,crop:t.crop}})),{lipSyncLayerUpdates:n,lipSyncLayersToAdd:s}})({speakerFocusLayersToAdd:r,speakerFocusLayerUpdates:i,sourceLayer:e});Object.entries(x).forEach((([e,t])=>{i[e]=t})),r.push(...S)}return{speakerFocusLayerUpdates:i,speakerFocusLayersToAdd:r}}catch(b9e){console.error(b9e),pb({description:"Error finding speakers. Please try again."})}return{speakerFocusLayerUpdates:{},speakerFocusLayersToAdd:[]}},WX=u((e=>e.studio.allLayers.byId),(e=>e.vision.progressByAssetId),((e,t)=>{const a=Object.values(e).some((e=>PX(e))),n=!!Object.keys(t).length;return a||n})),VX=u((e=>e.studio.allLayers.byId),(e=>e),((e,t)=>c.uniq(Object.values(e).map((e=>nL(e))).filter((e=>e&&HX(t,e))).sort()))),HX=u(((e,t)=>t),(e=>e.studio.allLayers.byId),(e=>e.vision.progressByAssetId),((e,t,a)=>{const n=a[e];return Object.values(t).some((t=>nL(t)===e&&PX(t)))||!!n})),zX=u(((e,t)=>t),(e=>e.vision.byAssetId),(({groupId:e,assetId:t},a)=>{var n;const s=a[t],o=null==s?void 0:s[ou.ObjectTrackingV2];if(!o||!iu(o))return{};const i=o.groups.find((t=>t.id===e));if(!i)return{};const r=i.scenes[0];if(!r)return{};const l=null==(n=o.job_result)?void 0:n.result;if(!l)return{};const d=UF({object:l,key:r.timestamp});if(!d)return{};return VF(d)})),GX=Gu(((e,t)=>t),(e=>e),(({layer:e,layerIdToOmit:t},a)=>{var n,s;const o=e&&nL(e,{personaLayerHandling:"video"}),i=o&&HX(a,o);if(!e)return[];if(!QK(e))return[];if(!o)return[];const r=a.studio.allLayers.byId,l=YX(a,{assetId:o,groupId:null==(n=e.speakerFocus)?void 0:n.groupId,speakerId:null==(s=e.speakerFocus)?void 0:s.speakerId,layerIdToOmit:t});if(i)return e.speakerFocus?l:[];return Object.values(r).filter((e=>nL(e,{personaLayerHandling:"video"})===o&&e.id!==t)).map((e=>e.id)).sort()})),YX=Gu(((e,t)=>t),(e=>e.studio.allLayers.byId),((e,t)=>{const{assetId:a,groupId:n,speakerId:s,layerIdToOmit:o}=e;return Object.values(t).filter((e=>{var t,i;return nL(e)===a&&(null==(t=null==e?void 0:e.speakerFocus)?void 0:t.groupId)===n&&(null==(i=e.speakerFocus)?void 0:i.speakerId)===s&&e.id!==o})).map((e=>e.id)).sort()})),KX=e=>pU(e)??fU(e),XX=()=>{const{state:e,dispatch:t}=Mu();Nb(e)&&Ev.remove(`studio_tour_state_${e.currentUser.user._id}`),t(JB.reset())},ZX=async()=>{var e,t;const{state:a}=Mu(),{studioTour:n,currentUser:s}=a,{onboarding:o}=s.user,{currentStep:i,tour:r,source:l}=n;switch(XX(),l){case HB.RepurposeOnboarding:await $K({...o,[HB.RepurposeOnboarding]:{...null==o?void 0:o[HB.RepurposeOnboarding],dateDismissed:new Date}});break;case HB.StudioRelatedLayersCopyPastePropertiesTour:await $K({...o,[HB.StudioRelatedLayersCopyPastePropertiesTour]:{...null==o?void 0:o[HB.StudioRelatedLayersCopyPastePropertiesTour],dateDismissed:new Date}});break;case HB.Onboarding:ov("Studio Tour - dismissed",{"Step Dismissed":c.capitalize(null==(e=KB[r][i])?void 0:e.step)}),await $K({...o,studioTour:{...null==o?void 0:o.studioTour,dateDismissed:new Date}});break;case HB.LandingPage:ov("Studio Tour - dismissed",{"Step Dismissed":c.capitalize(null==(t=KB[r][i])?void 0:t.step)})}await Qf()},qX=()=>{const{state:e}=Mu();e.studioTour.tour===GB.StudioRelatedLayersCopyPasteProperties&&(nZ(e)?ZX():XX())},JX=()=>{const{state:e,dispatch:t}=Mu(),{studioTour:a}=e,{currentStep:n,tour:s,isOpen:o,source:i}=a;o&&(n<KB[s].length-1?(t(JB.setCurrentStep(n+1)),Nb(e)&&i!==HB.LandingPage&&Ev.set(`studio_tour_state_${e.currentUser.user._id}`,{...e.studioTour,currentStep:n+1})):(async()=>{const{state:e}=Mu(),{source:t}=e.studioTour,a=e.currentUser.user.onboarding;switch(XX(),t){case HB.RepurposeOnboarding:await $K({...a,[HB.RepurposeOnboarding]:{...null==a?void 0:a[HB.RepurposeOnboarding],dateComplete:new Date}});break;case HB.StudioRelatedLayersCopyPastePropertiesTour:await $K({...a,[HB.StudioRelatedLayersCopyPastePropertiesTour]:{...null==a?void 0:a[HB.StudioRelatedLayersCopyPastePropertiesTour],dateComplete:new Date}});break;case HB.Onboarding:ov("Studio Tour - finished tour"),await $K({...a,studioTour:{...null==a?void 0:a.studioTour,dateComplete:new Date}});break;case HB.DubbingLipSync:await $K({...a,[HB.DubbingLipSync]:{...null==a?void 0:a[HB.DubbingLipSync],dateComplete:new Date}});break;case HB.LandingPage:ov("Studio Tour - finished tour")}await Qf()})())},$X=async(e,t)=>{var a;const{state:n}=Mu(),{isOpen:s,tour:o,currentStep:i,source:l}=n.studioTour;if(!s)return;if((null==t?void 0:t.tour)&&t.tour!==o)return;if([HB.RepurposeOnboarding,HB.Onboarding].includes(l)&&(await Qf(),!QX(l)))return void XX();const d=Array.isArray(e)?e:[e],c=null==(a=KB[o][i])?void 0:a.step;s&&c&&d.includes(c)&&r.batch((()=>{for(let e=0;e<((null==t?void 0:t.numSteps)??1);e++)JX()}))},QX=e=>{const{state:t}=Mu(),{isMobile:a}=t;if(a)return!1;switch(e){case HB.RepurposeOnboarding:{const{currentUser:e}=t,{onboarding:a}=e.user,{dateDismissed:n,dateComplete:s}=(null==a?void 0:a[HB.RepurposeOnboarding])||{},o=Nb(t);return!(n||s||!o)}case HB.Onboarding:{const{currentUser:e}=t,{onboarding:a}=e.user,{date:n}=(null==a?void 0:a.survey)||{},{dateDismissed:s,dateComplete:o}=(null==a?void 0:a.studioTour)||{},i=new Date("Tue Jul 25 2023 00:08:21 GMT-0700 (Pacific Daylight Time)")>(n?new Date(n):new Date),r=Nb(t);return!(s||o||i||!r)}case HB.StudioRelatedLayersCopyPastePropertiesTour:{const{currentUser:e}=t,{onboarding:a}=e.user,{dateDismissed:n,dateComplete:s}=(null==a?void 0:a[HB.StudioRelatedLayersCopyPastePropertiesTour])||{},o=Nb(t),i=KX(t);if(!i||!np(i))return null;const r=!!GX(t,{layer:i,layerIdToOmit:i.id}).length;return!n&&!s&&o&&r}case HB.DubbingLipSync:{const{currentUser:e}=t,{onboarding:a}=e.user,{dateDismissed:n,dateComplete:s}=(null==a?void 0:a[HB.DubbingLipSync])||{},o=Nb(t);return!n&&!s&&o}case HB.LandingPage:case HB.StudioSearchOverlay:case HB.Unknown:return!0;default:return!1}},eZ=({startStepIndex:e,source:t,tour:a})=>{const{dispatch:n}=Mu();if(!QX(t))return;const s=a??tZ(t);s&&(n(JB.setTour(s)),n(JB.setSource(t)),(({source:e,tour:t})=>{const{state:a,dispatch:n}=Mu();if(!Nb(a))return!1;if(e===HB.LandingPage)return!1;const s=Ev.get(`studio_tour_state_${a.currentUser.user._id}`,{disabled:null});return!(!s||t!==(null==s?void 0:s.tour)||(n(JB.setCurrentStep(s.currentStep)),0))})({source:t,tour:s})||void 0!==e&&s[e]&&n(JB.setCurrentStep(e)),(()=>{var e,t,a;const{state:n,dispatch:s}=Mu(),{source:o}=n.studioTour,i=n.currentUser.user.onboarding;if(!n.studioTour.isOpen)switch(s(JB.setIsOpen(!0)),o){case HB.RepurposeOnboarding:$K({...i,[HB.RepurposeOnboarding]:{...null==i?void 0:i[HB.RepurposeOnboarding],firstShown:(null==(e=null==i?void 0:i[HB.RepurposeOnboarding])?void 0:e.firstShown)??new Date,lastShown:new Date}});break;case HB.StudioRelatedLayersCopyPastePropertiesTour:ov("Shown Copy and Paste Properties Onboarding"),$K({...i,[HB.StudioRelatedLayersCopyPastePropertiesTour]:{...null==i?void 0:i[HB.StudioRelatedLayersCopyPastePropertiesTour],firstShown:(null==(t=null==i?void 0:i[HB.StudioRelatedLayersCopyPastePropertiesTour])?void 0:t.firstShown)??new Date,lastShown:new Date}});break;case HB.Onboarding:$K({...i,studioTour:{...null==i?void 0:i.studioTour,firstShown:(null==(a=null==i?void 0:i.studioTour)?void 0:a.firstShown)??new Date,lastShown:new Date}})}})())},tZ=e=>{switch(e){case HB.DubbingLipSync:return GB.DubbingLipSync;case HB.StudioRelatedLayersCopyPastePropertiesTour:return GB.StudioRelatedLayersCopyPasteProperties;case HB.LandingPage:case HB.Unknown:default:return null}},aZ=()=>{const{studio_tour:e,studio_tour_source:t,studio_tour_step:a,sample:n}=((e,t)=>{const a=new URLSearchParams((null==t?void 0:t.search)??window.location.search);return e.reduce(((e,t)=>{const n=a.get(t);return n&&Object.assign(e,{[t]:n}),e}),{})})([Xw.STUDIO_TOUR_STEP,Xw.STUDIO_TOUR_SOURCE,Xw.STUDIO_TOUR,Xw.SAMPLE]);t&&(eZ({source:t,startStepIndex:a,tour:e,sample:!!n}),gR([Xw.STUDIO_TOUR_STEP,Xw.STUDIO_TOUR_SOURCE,Xw.STUDIO_TOUR]))},nZ=e=>e.studioTour.currentStep>0&&e.studioTour.isOpen,sZ=(e,t)=>{var a;return e.studioTour.isOpen&&t===(null==(a=KB[e.studioTour.tour][e.studioTour.currentStep])?void 0:a.step)},oZ=e=>Object.values(GB).includes(e),iZ=e=>e===zB.Studio_BottomRight_Intro,rZ=e=>[GB.LoopVideo,GB.LoopAudio,GB.StopMotion].includes(e)&&Object.keys(Mu().state.studio.allLayers.byId).length?1:0,lZ=(e,t,a,n,s,o)=>({x:(e-s)/2+a,y:(t-o)/2+n});var dZ=(e=>(e.AddAudio="add-audio",e.AddImage="add-image",e.AddSoundEffects="add-sound-effects",e.Adjust="adjust",e.AnimatedText="animatedText",e.AddBorder="add-border",e.AiVoiceCloning="aiVoiceCloning",e.Blur="blur",e.BlurVideoBackground="blurVideoBackground",e.BRollGenerator="bRollGenerator",e.Censor="censor",e.Collage="collage",e.ColorChanging="color-changing",e.CompressVideo="compressVideo",e.Convert="convert",e.Crop="crop",e.CustomEmoji="custom-emoji",e.Dubbing="dubbing",e.Editor="editor",e.Extract="extract",e.Filter="filter",e.FreezeFrame="freeze-frame",e.GifMaker="gifMaker",e.Glitch="glitch",e.KenBurns="ken-burns",e.Keyframing="keyframing",e.Link="link",e.MagicFill="magicFill",e.MemeMaker="memeMaker",e.MusicVideo="musicVideo",e.PersonasCreationFlow="personasCreationFlow",e.PersonasStockLibrary="personasStockLibrary",e.PersonasEducationalLibrary="personasEducationalLibrary",e.RemoveBackgroundNoiseWithElevenLabs="removeBackgroundNoiseWithElevenLabs",e.RemoveImageBackground="remove-image-background",e.RemoveVideoBackground="remove-video-background",e.SpeakerFocus="speakerFocus",e.Chromakey="chromakey",e.Podcast="podcast",e.ProgressBar="progressBar",e.RecordScreen="record-screen",e.Resize="resize",e.SafeZone="safe-zone",e.Speed="speed",e.SlowMotion="slowMotion",e.Subtitles="subtitles",e.Teleprompter="teleprompter",e.Text="text",e.Timeline="timeline",e.TextToSpeech="text-to-speech",e.Transitions="transitions",e.Translate="translate",e.TranslateImage="translate-image",e.TranslateAudio="translate-audio",e.TrimVideo="trim-video",e.TvStatic="tv-static",e.VideoStabilizer="video-stabilizer",e.YoutubeThumbnail="youtubeThumbnail",e.Rotate="rotate",e.AiScriptGenerator="aiScriptGenerator",e.AiVideoGenerator="aiVideoGenerator",e.AiImageGenerator="aiImageGenerator",e.AiDocumentToVideo="aiDocumentToVideo",e.AiArticleToVideo="aiArticleToVideo",e.AiScriptToVideoGenerator="aiScriptToVideoGenerator",e.Transcribe="transcribe",e.TrimWithTranscript="trimWithTranscript",e.VttFile="vttFile",e.SilenceRemover="silence-remover",e.SrtFile="srtFile",e.TrimAudio="trim-audio",e.Reverse="reverse",e.Pinning="pinning",e.Slideshow="slideshow",e.SrtEditor="srtEditor",e.Vhs="vhs",e.Volume="volume",e.Waveform="waveform",e.EnhanceImage="enhanceImage",e.EnhanceVoice="enhanceVoice",e.Generic="Generic",e.SplitVocals="splitVocals",e.SmartCut="smartCut",e))(dZ||{}),cZ=(e=>(e.test="test",e.AddSample="AddSample",e.SubtitleEmptyCTA="SubtitleEmptyCTA",e.TranslateEmptyCTA="TranslateEmptyCTA",e.MediaSidebarTab="MediaSidebarTab",e.ProjectSidebarTab="ProjectSidebarTab",e.TranscriptSidebarTab="TranscriptSidebarTab",e.MagicSubtitlesSidebarTab="MagicSubtitlesSidebarTab",e.TranslateSidebarTab="TranslateSidebarTab",e.TextSidebarTab="TextSidebarTab",e.TextToSpeechSidebarTab="TextToSpeechSidebarTab",e.AudioSidebarTab="AudioSidebarTab",e.VisualsSidebarTab="VisualsSidebarTab",e.VideosSearchTab="VideosSearchTab",e.ImagesSearchTab="ImagesSearchTab",e.ElementsSearchTab="ElementsSearchTab",e.LayersSidebarTab="LayersSidebarTab",e.TransitionsSidebarTab="TransitionsSidebarTab",e.TemplatesSidebarTab="TemplatesSidebarTab",e.PluginsSidebarTab="PluginsSidebarTab",e.RecordSidebarTab="RecordSidebarTab",e.ReportAProblemSidebarTab="ReportAProblemSidebarTab",e.StartMagicSubtitlesButton="StartMagicSubtitlesButton",e.CloseMobileMediaSidebarButton="CloseMobileMediaSidebarButton",e.AddPaddingControls="AddPaddingControls",e.ImagePositionControls="ImagePositionControls",e.VideoPositionControlsTab="VideoPositionControls",e.Upload="Upload",e.OtherUpload="OtherUpload",e.ProjectSafeZoneControlsTab="Safe Zone Controls",e.AudioEditControlsTab="EditAudioControls",e.ConstantAnimationControlsTab="ConstantAnimationControls",e.ConnectedPresetFilterControlTab="ConnectedPresetFilterControl",e.VideoAiToolsControlsTab="VideoAiToolsControls",e.VideoAudioControlsTab="VideoAudioControls",e.VideoAdjustControlsTab="VideoAdjustControls",e.VideoEffectControlsTab="VideoEffectControls",e.VideoEditControlsTab="VideoEditControls",e.VideoTimingControlsTab="TimingControls",e.CanvasBackground="CanvasContainer",e.AdjustFilterControl="AdjustFilterControl",e.ImageAdjustControlsTab="ImageAdjustControls",e.AdjustFilterControlBlur="AdjustFilterControlBlur",e.VideoBlurBackgroundEffect="VideoBlurBackgroundEffect",e.ChromakeyEffect="ChromakeyEffect",e.AnimationSelectionControl="AnimationOptions",e.CropButton="CropButton",e.ImageEditControlsTab="ImageEditControlsTab",e.EnhanceImageButton="EnhanceImageButton",e.ImageAiToolsControlsTab="ImageAiToolsTab",e.EnhanceVoiceButton="EnhanceVoiceButton",e.AudioAiToolsControlsTab="AudioAiToolsControlsTab",e.Timeline="Timeline",e.PresetFilterControls="PresetFilterControls",e.FreezeFrameButton="FreezeFrameButton",e.MovingZoomButton="MovingZoomButton",e.KeyframingDiamond="KeyframingDiamond",e.MagicImageFill="MagicImageFill",e.RemoveNoiseButton="RemoveNoiseButton",e.RemoveBackgroundButton="RemoveBackgroundButton",e.VideoRemoveBackgroundEffect="VideoRemoveBackgroundEffect",e.ReverseToggle="ReverseCheckBox",e.MirrorControl="MirrorControl",e.ImagePositionControlsTab="ImagePositionControlsTab",e.SpeedControl="SpeedControl",e.SmartCutButton="SmartCutButton",e.VolumeControl="VolumeControl",e.VideoStabilizeButton="VideoStabilizeButton",e.ProjectControlTab="ProjectControlTab",e.ProjectResizeControl="ProjectResizeControl",e.ImageTimingControlsTab="ImageTimingControlsTab",e.DurationControls="DurationControls",e.ExportButton="ExportButton",e.VideoFiltersControlsTab="VideoFiltersControlsTab",e.RightSidebarTransitionsOptions="RightSidebarTransitionsOptions",e.ImageTransitionsControlsTab="ImageTransitionsControlsTab",e.VideoTransitionsControlsTab="VideoTransitionsControlsTab",e.ProgressBarOptions="ProgressBarOptions",e.WaveformOptions="WaveformOptions",e.ElementsTabShapesOptions="ViewAllShapesButton",e.ElementsTabEmojiOptions="ElementsTabEmojiOptions",e.SubtitleLanguageOptions="SubtitleLanguageOptions",e.DubVideoButton="DubVideoButton",e.DubbingLanguageOptions="DubbingLanguageOptions",e.SmartToolsDropdown="SmartToolsDropdown",e.MagicSubtitlesSmartToolsDropdown="MagicSubtitlesSmartToolsDropdown",e.TranscriptionTabDownloadTranscriptButton="TranscriptionTabDownloadTranscriptButton",e.TrimWithTranscriptEntrypointButton="StartTrimWithTranscriptButton",e.TrimWithTranscriptApplyButton="TrimWithTranscriptApplyButton",e.TrimWithTranscriptContainer="TrimWithTranscriptContainer",e.SearchTabContents="SearchTabContents",e.AudioTabContent="AudioTabContent",e.AudioTabMusicOptions="AudioTabMusicOptions",e.AudioTabSoundEffectsOptions="AudioTabSoundEffectsOptions",e.GiphyTextPlugin="GiphyTextPlugin",e.DummyToolTipAnchor="DummyToolTipAnchor",e.TTSVoiceSelector="TTSVoiceSelector",e.TTSCreateVoiceClone="CreateVoiceClone",e.PersonaSelector="PersonaSelector",e.StockPersonasTab="StockPersonasTab",e.EducationalPersonasTab="EducationalPersonasTab",e.SelectedTextToSpeechBlock="SelectedTextToSpeechBlock",e.TranslateImageControl="TranslateImageControl",e.StartSmartBRollButton="StartSmartBRollButton",e.SelectedAudioTrack="SelectedAudioTrack",e.SelectedVideoTrack="SelectedVideoTrack",e.ProjectTimingControlsTab="ProjectTimingControlsTab",e.ProjectDurationControls="ProjectDurationControls",e.FirstTemplateOption="TemplatesTabContent",e.StartUploadSubtitleButton="StartUploadSubtitleButton",e.SpeakerFocusControl="SpeakerFocusControl",e.SafeZoneControlTabContent="SafeZoneControlTabContent",e.RecordOptions="RecordOptions",e.AddTextButton="AddTextButton",e.TimlinePlayPauseButton="TimlinePlayPauseButton",e.HeaderAiButton="HeaderAiButton",e.AiGenerateScriptInput="AiGenerateScriptInput",e.BlankStudioAiInputBar="BlankStudioAiInputBar",e.AiPasteExistingScriptInput="AiPasteExistingScriptInput",e.AiPasteArticleUrlInput="AiPasteArticleUrlInput",e.AiGenerateImageInput="AiGenerateImageInput",e.LayerPositionKeyframeButton="LayerPositionKeyframeButton",e.ImageEraseControl="ImageEraseControl",e.ProjectPaddingControlsTab="ProjectPaddingControlsTab",e.CloseMobileSidebarSlider="CloseMobileSidebarSlider",e.SplitVocalsButton="SplitVocalsButton",e))(cZ||{}),uZ=(e=>(e.videos="videos",e.images="images",e.elements="elements",e))(uZ||{});const pZ="videos",mZ=["videos","images","elements"],gZ={videos:cZ.VideosSearchTab,images:cZ.ImagesSearchTab,elements:cZ.ElementsSearchTab},hZ="visuals-sidebar",vZ="elements-sidebar",fZ="sidebar-audio",bZ="sidebar-transitions";class yZ{constructor(e){a(this,"showWhen"),a(this,"tooltipAnchorId"),a(this,"priority"),a(this,"header"),a(this,"subtext"),a(this,"large"),a(this,"isTerminal"),a(this,"isSearchable"),this.init=e,this.init=e,this.showWhen=e.showWhen||(()=>!0),this.tooltipAnchorId=e.tooltipAnchorId,this.priority=void 0===e.priority?-1:e.priority,this.header=e.header,this.subtext=e.subtext,this.large=e.large||!1,this.isTerminal=e.isTerminal||!1,this.isSearchable=e.isSearchable||!1}}class wZ{constructor({rules:e,mobileWarningToast:t}){a(this,"rules"),a(this,"mobileWarningToast"),this.rules=e.map((e=>new yZ(e))),this.mobileWarningToast=t}}const _Z=(e,t,a)=>{const n=e.toLowerCase(),s=a.replace(/-/g," ").toLowerCase(),{header:o,subtext:i}=t;return!!(s.includes(n)||(null==o?void 0:o.toLowerCase().includes(n))||(null==i?void 0:i.toLowerCase().includes(n)))},CZ=e=>e.reduce(((e,t)=>e&&(e.priority||-1)>(t.priority||-1)?e:t),void 0),SZ=e=>{const t=CZ(e.filter((e=>e.isSearchable)));if(t)return t;return CZ(e)},xZ=e=>Object.values(dZ).includes(e),IZ=e=>Gx(e).some((e=>"video"===e.type)),AZ=e=>!IZ(e),kZ=e=>Gx(e).some((e=>"video"===e.type||"image"===e.type)),TZ=e=>!kZ(e),EZ=e=>{var t;return"video"===(null==(t=dU(e)[0])?void 0:t.type)},LZ=e=>Gx(e).some((e=>"image"===e.type)),jZ=e=>!LZ(e),RZ=e=>{var t;return"image"===(null==(t=dU(e)[0])?void 0:t.type)},NZ=e=>Gx(e).length>0,MZ=e=>e.selectedTabs["visuals-sidebar"]===uZ.images&&e.selectedTabs["media-sidebar"]===rK.visuals,PZ=(e,t)=>({tooltipAnchorId:cZ.Upload,subtext:t,header:e,priority:0,showWhen:e=>0===Gx(e).length,isSearchable:!0}),FZ=(e,t,a=0)=>({tooltipAnchorId:cZ.Upload,header:e,showWhen:TZ,subtext:t,priority:a,isSearchable:!0}),DZ=(e,t)=>({tooltipAnchorId:cZ.Upload,header:e,showWhen:AZ,subtext:t,priority:0,isSearchable:!0}),OZ=e=>Gx(e).every((e=>!e.duration)),UZ=(e,t)=>({tooltipAnchorId:cZ.Upload,header:e,showWhen:OZ,subtext:t,priority:0,isSearchable:!0}),BZ=(e,t)=>({tooltipAnchorId:cZ.Upload,header:e,showWhen:jZ,subtext:t,priority:0,isSearchable:!0}),WZ=(e,t,a=(e=>!0))=>[{showWhen:a,header:e,subtext:`Select outside of the canvas to de-select your content, then ${t}.`,tooltipAnchorId:cZ.CanvasBackground,priority:1},{showWhen:a,header:e,subtext:`First, open the project settings menu to ${t}.`,tooltipAnchorId:cZ.ProjectSidebarTab,priority:2},{showWhen:e=>a(e)&&dU(e).length>0,header:e,subtext:`Exit this menu, then follow the hints to ${t}.`,tooltipAnchorId:cZ.CloseMobileMediaSidebarButton,priority:100}],VZ=e=>Gx(e).some((e=>"video"===e.type&&e.hasAudio||"audio"===e.type)),HZ=e=>!VZ(e),zZ=e=>Gx(e).some((e=>"video"===e.type&&e.hasAudio)),GZ=(e,t)=>({tooltipAnchorId:cZ.Upload,header:e,showWhen:HZ,subtext:t,priority:0,isSearchable:!0}),YZ=(e,t)=>[{tooltipAnchorId:cZ.ImageTransitionsControlsTab,header:e,subtext:t,priority:1},{tooltipAnchorId:cZ.VideoTransitionsControlsTab,header:e,subtext:t,priority:1},{tooltipAnchorId:cZ.RightSidebarTransitionsOptions,header:e,subtext:t,priority:2}],KZ=(e,t,a=1)=>({tooltipAnchorId:cZ.CanvasBackground,header:e,showWhen:e=>Gx(e).some((e=>"video"===e.type||"image"===e.type))&&!EZ(e)&&!RZ(e),subtext:t,priority:a}),XZ=(e,t)=>({tooltipAnchorId:cZ.CanvasBackground,header:e,showWhen:e=>IZ(e)&&!EZ(e),subtext:t,priority:1}),ZZ=(e,t)=>({tooltipAnchorId:cZ.CanvasBackground,header:e,showWhen:e=>!RZ(e)&&LZ(e),subtext:t,priority:1}),qZ=(e,t)=>[...QZ(e,t,(e=>VZ(e)&&!EZ(e))),{showWhen:e=>Gx(e).some((e=>"video"===e.type&&e.hasAudio)),tooltipAnchorId:cZ.CanvasBackground,header:e,subtext:t,priority:3}],JZ=e=>[GZ(`Create a ${e} File`,`First upload your video, then use the controls to create and download a ${e} file for your video.`),{tooltipAnchorId:cZ.MagicSubtitlesSidebarTab,header:`Create a ${e} File`,subtext:`Auto-generate subtitles for your video, then you'll be able to download the complete ${e} file.`},{tooltipAnchorId:cZ.StartMagicSubtitlesButton,header:`Create a ${e} File`,subtext:`Auto-generate subtitles for your video, then you'll be able to download the complete ${e} file.`,showWhen:e=>Gx(e).every((e=>!e.hasAudio&&"audio"!==e.type)),priority:1},{tooltipAnchorId:cZ.SubtitleEmptyCTA,header:"Choose a Video",subtext:`You'll have to upload a video or audio file to use the ${e} file maker tool.`,priority:2},{tooltipAnchorId:cZ.CloseMobileMediaSidebarButton,header:`Create a ${e} File`,subtext:`Exit this menu, then follow the hints to create the ${e} file.`,priority:2},{tooltipAnchorId:cZ.StartMagicSubtitlesButton,header:`Create a ${e} File`,subtext:`Auto-generate subtitles for your project, then you'll be able to download the complete ${e} file.`,priority:3,isTerminal:!0}],$Z=(e,t,a)=>[{tooltipAnchorId:cZ.HeaderAiButton,header:"Make more AI content",subtext:"Click the lightbulb icon to reopen the Kapwing AI modal at any time.",priority:0},{tooltipAnchorId:cZ.BlankStudioAiInputBar,header:e,subtext:t,priority:1},{tooltipAnchorId:a,header:e,subtext:t,priority:2}],QZ=(e,t,a=(e=>!0))=>[{tooltipAnchorId:cZ.Timeline,header:e,subtext:t,priority:1,showWhen:a},{tooltipAnchorId:cZ.CloseMobileSidebarSlider,header:e,subtext:"Slide down to close this menu and access the timeline.",priority:2,showWhen:a}],eq=e=>new wZ({mobileWarningToast:e+" is not available on mobile. Please try again on a desktop device.",rules:[GZ(e,'Upload your audio, then use "Smart Cut" in the sidebar controls to remove silences'),...qZ(e,"Click to select the layer you want to remove silences from"),{tooltipAnchorId:cZ.VideoAiToolsControlsTab,header:"Apply Smart Cut",subtext:"Use Smart Cut to automatically remove silences from your video.",priority:2},{tooltipAnchorId:cZ.AudioAiToolsControlsTab,header:"Apply Smart Cut",subtext:"Use Smart Cut to automatically remove silences from your audio.",priority:2},{tooltipAnchorId:cZ.SmartCutButton,header:"Apply Smart Cut",subtext:"Use Smart Cut to automatically remove silences from your audio.",priority:3},{tooltipAnchorId:cZ.SmartCutButton,header:"Apply Smart Cut",showWhen:EZ,subtext:"Use Smart Cut to automatically remove silences from your video.",priority:4}]}),tq={[dZ.Subtitles]:new wZ({rules:[{tooltipAnchorId:cZ.AddSample,header:"Add Subtitles",subtext:"Try a sample video, then add and customize subtitles afterwards.",isSearchable:!0,priority:1},{tooltipAnchorId:cZ.MagicSubtitlesSidebarTab,header:"Subtitle Your Video",subtext:"First auto-generate subtitles for your video, then you'll be able to edit them in your project."},{tooltipAnchorId:cZ.StartMagicSubtitlesButton,header:"Subtitle Your Video",subtext:"First auto-generate subtitles for your video, then you'll be able to edit them in your project.",showWhen:e=>Gx(e).every((e=>!e.hasAudio&&"audio"!==e.type)),priority:1},{tooltipAnchorId:cZ.SubtitleEmptyCTA,header:"Choose a Video",subtext:"You'll have to upload a video or audio file to add subtitles to your project.",priority:2},{tooltipAnchorId:cZ.CloseMobileMediaSidebarButton,header:"Add Subtitles",subtext:"Exit this menu, then follow the hints to add subtitles.",priority:2},{tooltipAnchorId:cZ.MagicSubtitlesSidebarTab,header:"Create Subtitles",subtext:"Auto-generate subtitles for your audio, then you'll be able to edit the project.",showWhen:e=>Gx(e).some((e=>"audio"===e.type))},{tooltipAnchorId:cZ.StartMagicSubtitlesButton,header:"Subtitle Your Video",subtext:"First auto-generate subtitles for your video, then you'll be able to edit them in your project.",showWhen:e=>Gx(e).some((e=>"video"===e.type&&e.hasAudio)),priority:3,isTerminal:!0},{tooltipAnchorId:cZ.StartMagicSubtitlesButton,header:"Create Subtitles",subtext:"Auto-generate subtitles for your audio, then you'll be able to edit the project.",showWhen:e=>Gx(e).some((e=>"audio"===e.type)),priority:3,isTerminal:!0}]}),[dZ.AddBorder]:new wZ({rules:[FZ("Add Border","First upload your content, then use the 'Expand Padding' section in the right-hand sidebar to add a border."),...WZ("Add Border","add a border to your project."),{tooltipAnchorId:cZ.ProjectPaddingControlsTab,header:"Add Border",subtext:"Use these controls to add a border to your project.",priority:3},{tooltipAnchorId:cZ.AddPaddingControls,header:"Add Border",subtext:"These options will let you add a border to your content by increasing padding of the top, bottom, left, or right of your project. You can also remove extra padding if you wish.",priority:4}]}),[dZ.Adjust]:new wZ({rules:[FZ("Adjust","First, upload your file, then adjust video quality and settings in the sidebar."),{showWhen:kZ,tooltipAnchorId:cZ.CanvasBackground,header:"Adjust",subtext:"Select the layer you want to adjust"},{tooltipAnchorId:cZ.ImageAdjustControlsTab,header:"Adjust Image",subtext:"Adjust image quality and settings here.",priority:2},{tooltipAnchorId:cZ.VideoAdjustControlsTab,header:"Adjust Video",subtext:"Adjust video quality and settings here.",priority:2},{showWhen:RZ,tooltipAnchorId:cZ.AdjustFilterControl,header:"Adjust Image",subtext:"Adjust image quality and settings here.",priority:3},{showWhen:EZ,tooltipAnchorId:cZ.AdjustFilterControl,header:"Adjust Video",subtext:"Adjust video quality and settings here.",priority:3}]}),[dZ.Blur]:new wZ({rules:[KZ("Blur","First upload an image or video, then use the controls in the sidebar to adjust blur levels."),KZ("Blur","Select the layer you want to blur."),{tooltipAnchorId:cZ.ImageAdjustControlsTab,header:"Blur",subtext:"Use the controls to add blur to your image",priority:2},{tooltipAnchorId:cZ.VideoAdjustControlsTab,header:"Blur",subtext:"Use the controls to add blur to your video",priority:2},{showWhen:RZ,tooltipAnchorId:cZ.AdjustFilterControlBlur,header:"Blur",subtext:"Use the controls to add blur to your image.",priority:3},{showWhen:EZ,tooltipAnchorId:cZ.AdjustFilterControlBlur,header:"Blur",subtext:"Use the controls to add blur to your video.",priority:3}]}),[dZ.BlurVideoBackground]:new wZ({mobileWarningToast:"Blur Video Background is not available on mobile. Please try again on a desktop device.",rules:[FZ("Blur Video Background","First upload a video to blur."),KZ("Blur Background","Select the layer you want to blur."),{showWhen:RZ,tooltipAnchorId:cZ.ImageAdjustControlsTab,header:"Blur Image",subtext:"Use the controls to add a blur effect to your image.",priority:2},{showWhen:RZ,tooltipAnchorId:cZ.AdjustFilterControl,header:"Blur Image",subtext:"Use the controls to add a blur effect to your image.",priority:3},{tooltipAnchorId:cZ.VideoEffectControlsTab,header:"Blur Video Background",subtext:"Use the controls to blur the background of your video.",priority:2},{tooltipAnchorId:cZ.VideoBlurBackgroundEffect,header:"Blur Video Background",subtext:"Use the controls to blur the background of your video.",priority:3}]}),[dZ.Chromakey]:new wZ({rules:[DZ("Chroma Key","Upload a video, then use the controls in the sidebar to apply a chroma key effect / edit the green screen."),XZ("Chroma Key","Select the video you want to apply the chroma key to."),{tooltipAnchorId:cZ.VideoEffectControlsTab,header:"Chroma Key Effect",subtext:"Click the EFFECTS tab to apply a chroma key / green screen effect",priority:2},{tooltipAnchorId:cZ.ChromakeyEffect,header:"Chroma Key Effect",subtext:"Use the controls to apply a chroma key / green screen effect to your video.",priority:3}]}),[dZ.ColorChanging]:new wZ({rules:[BZ("Make Color Changing GIF","Upload a GIF, then click the EFFECTS tab and select 'Hue Rotate' to add a rainbow effect."),ZZ("Select your GIF","Select your GIF to apply a color changing effect"),{tooltipAnchorId:cZ.ConstantAnimationControlsTab,header:"Color Change",subtext:"Click on ANIMATIONS to add a Hue Rotate effect to your gif",priority:2},{tooltipAnchorId:cZ.AnimationSelectionControl,header:"Color Change",subtext:"Select 'Hue Rotate' to add a rainbow effect to your GIF. You can also adjust the speed of the color change."}]}),[dZ.Crop]:new wZ({rules:[FZ("Crop","First, upload your file. Then, in the sidebar, use the controls to crop your content to the desired size."),KZ("Crop","First, select the layer you'd like to crop"),{showWhen:RZ,tooltipAnchorId:cZ.ImageEditControlsTab,header:"Crop",subtext:"Click the EDIT tab to crop your image to a desired size"},{showWhen:EZ,tooltipAnchorId:cZ.VideoEditControlsTab,header:"Crop",subtext:"Click the EDIT tab to crop your video to a desired size"},{showWhen:RZ,tooltipAnchorId:cZ.CropButton,header:"Crop",subtext:"Click the CROP button to crop your image to a desired size",priority:3},{showWhen:EZ,tooltipAnchorId:cZ.CropButton,header:"Crop",subtext:"Click the CROP button to crop your video to a desired size",priority:3}]}),[dZ.EnhanceImage]:new wZ({rules:[BZ("Enhance Image","Upload an image, then use the Enhance Image button in the sidebar to enhance your image."),ZZ("Enhance Image","Select the image you want to enhance."),{tooltipAnchorId:cZ.ImageAiToolsControlsTab,header:"Enhance Image",subtext:"Click the AI TOOLS tab to enhance your image.",priority:2},{tooltipAnchorId:cZ.EnhanceImageButton,header:"Enhance Image",subtext:"Click this button to enhance your image.",priority:3}]}),[dZ.EnhanceVoice]:new wZ({rules:[GZ("Enhance Voice","First, upload a video or audio track, then use the Enhance Voice button in the sidebar to create studio quality sound."),{showWhen:VZ,tooltipAnchorId:cZ.Timeline,header:"Enhance Voice",subtext:"Select the layer with the audio you want to enhance.",priority:0},...QZ("Enhance Voice","Select the layer with the audio you want to enhance.",VZ),{showWhen:e=>Gx(e).some((e=>"video"===e.type&&e.hasAudio)),tooltipAnchorId:cZ.CanvasBackground,header:"Enhance Voice",subtext:"Select the layer with the audio you want to enhance.",priority:3},{tooltipAnchorId:cZ.AudioAiToolsControlsTab,header:"Enhance Voice",subtext:"Click the AI TOOLS tab to enhance the voice track in your content.",priority:3},{tooltipAnchorId:cZ.VideoAudioControlsTab,header:"Enhance Voice",subtext:"Click the AUDIO tab to enhance the voice track in your content.",priority:4},{tooltipAnchorId:cZ.EnhanceVoiceButton,header:"Enhance Voice",subtext:"Click to enhance the voice track in your content.",priority:5}]}),[dZ.Filter]:new wZ({rules:[FZ("Apply Filter","First, upload your file, then select the file and click the FILTER tab in the sidebar."),KZ("Apply Filter","Select the layer you want to filter."),{tooltipAnchorId:cZ.ConnectedPresetFilterControlTab,header:"Add Filter",subtext:"Click this tab to add a filter to your image.",priority:2},{tooltipAnchorId:cZ.VideoFiltersControlsTab,header:"Add Filter",subtext:"Click the ADJUST tab to filter and adjust your video.",priority:2},{showWhen:EZ,tooltipAnchorId:cZ.PresetFilterControls,header:"Add Filter",subtext:"Use the controls to add a filter to your video.",priority:3},{showWhen:RZ,tooltipAnchorId:cZ.PresetFilterControls,header:"Filter and Adjust",subtext:"Use the controls to add a filter to your image.",priority:3}]}),[dZ.FreezeFrame]:new wZ({rules:[DZ("Freeze Frame","Upload your video first, then use the sidebar to create a Freeze Frame"),XZ("Freeze Frame","Select the video you want to create a Freeze Frame from."),{tooltipAnchorId:cZ.VideoTimingControlsTab,showWhen:EZ,header:"Freeze Frame",subtext:"Use the TIMING tab to generate a Freeze Frame of your video"},{tooltipAnchorId:cZ.FreezeFrameButton,header:"Freeze Frame",subtext:"Use this button to generate a Freeze Frame of your video",priority:4}]}),[dZ.KenBurns]:new wZ({rules:[DZ("Add Ken Burns Effect","Upload a video, open the right sidebar, and select 'Moving Zoom' under 'Animation'."),XZ("Add Ken Burns Effect","Select the video you want to add a Ken Burns effect to."),{tooltipAnchorId:cZ.ConstantAnimationControlsTab,header:"Add Ken Burns Effect",subtext:"Click the ANIMATIONS tab to add a Ken Burns effect to your video.",priority:2},{tooltipAnchorId:cZ.MovingZoomButton,header:"Add Ken Burns Effect",subtext:"Click here to add a Ken Burns effect to your video.",priority:3}]}),[dZ.Keyframing]:new wZ({rules:[FZ("Add Keyframes to Video","First upload your video, then add a keyframe with the  button next to keyframable properties within the right sidebar."),KZ("Add Keyframes","Select the layer you want to add keyframes to."),{tooltipAnchorId:cZ.VideoPositionControlsTab,header:"Add Keyframes to Video",subtext:"Click the diamond icon next to a property in the right sidebar to add a keyframe."},{tooltipAnchorId:cZ.KeyframingDiamond,header:"Add Keyframes to Video",subtext:"Click the diamond icon next to a property in the right sidebar to add a keyframe.",priority:3}]}),[dZ.MagicFill]:new wZ({rules:[BZ("Magic Fill","Upload an image, and Kapwing will help you extend the background using AI."),ZZ("Magic Fill","Select the image you want to extend with AI"),{tooltipAnchorId:cZ.ImageAiToolsControlsTab,header:"Magic Fill",subtext:"Use the AI TOOLS tab to extend your image using AI.",priority:3},{tooltipAnchorId:cZ.MagicImageFill,header:"Magic Fill",subtext:"Click Magic Fill to extend your image using AI.",priority:4}]}),[dZ.RemoveBackgroundNoiseWithElevenLabs]:new wZ({rules:[GZ("Remove Noise","First, upload a video, then use the Clean Audio button in the sidebar to remove background noise."),...qZ("Remove Noise","Select the layer with audio to remove background noise from."),{tooltipAnchorId:cZ.VideoAudioControlsTab,header:"Remove Noise",subtext:"Click the AUDIO tab to remove background noise.",priority:3},{tooltipAnchorId:cZ.AudioAiToolsControlsTab,header:"Remove Noise",subtext:"Click the AI TOOLS tab to remove background noise.",priority:3},{tooltipAnchorId:cZ.RemoveNoiseButton,header:"Remove Noise",subtext:"Click to remove background noise.",priority:4}]}),[dZ.RemoveImageBackground]:new wZ({rules:[BZ("Remove Background","Upload an image, then use the ERASE button in the sidebar to remove the background."),ZZ("Remove Background","Click to select the image that you want to remove the background from."),{tooltipAnchorId:cZ.ImageAiToolsControlsTab,header:"Remove Background",subtext:"Click the AI TOOLS tab to remove the background from your image.",priority:3},{tooltipAnchorId:cZ.RemoveBackgroundButton,header:"Remove Background",subtext:"Click to remove the background from your image.",priority:4},{tooltipAnchorId:cZ.VideoEffectControlsTab,header:"Erase Video Background",subtext:"Click the EFFECTS tab to remove the background from your video.",priority:2},{tooltipAnchorId:cZ.VideoRemoveBackgroundEffect,header:"Erase Video Background",subtext:"Click to remove the background from your video.",priority:3}]}),[dZ.RemoveVideoBackground]:new wZ({rules:[DZ("Erase Video Background","Upload a video, then click the EFFECTS tab in the sidebar to remove the background."),XZ("Erase Video Background","Click to select the layer that you want to remove the background from."),{tooltipAnchorId:cZ.ImageAiToolsControlsTab,header:"Remove Background",subtext:"Click the AI TOOLS tab to remove the background from your image.",priority:2},{tooltipAnchorId:cZ.RemoveBackgroundButton,header:"Remove Background",subtext:"Click to remove the background from your image.",priority:3},{tooltipAnchorId:cZ.VideoEffectControlsTab,header:"Erase Video Background",subtext:"Click the EFFECTS tab to remove the background from your video.",priority:2},{tooltipAnchorId:cZ.VideoRemoveBackgroundEffect,header:"Erase Video Background",subtext:"Click to remove the background from your video.",priority:4}]}),[dZ.Reverse]:new wZ({rules:[DZ("Reverse","Upload your content, then use the controls in the right-hand sidebar to reverse your video or gif."),XZ("Reverse Video","Select the video you want to reverse."),{tooltipAnchorId:cZ.VideoAdjustControlsTab,header:"Reverse Video",subtext:"Use the controls to reverse your video.",priority:2},{tooltipAnchorId:cZ.ReverseToggle,header:"Reverse Video",subtext:"Use this toggle to reverse your video.",priority:3}]}),[dZ.Rotate]:new wZ({rules:[FZ("Rotate","First, upload a file, then use the sidebar controls to rotate your image or video."),KZ("Rotate","Select the layer you want to rotate."),{tooltipAnchorId:cZ.ImagePositionControlsTab,header:"Rotate Image",subtext:"Use the controls to rotate, mirror, or flip your image.",priority:2},{tooltipAnchorId:cZ.VideoPositionControlsTab,header:"Rotate Video",subtext:"Use the controls to rotate, flip, or mirror your video.",priority:2},{tooltipAnchorId:cZ.MirrorControl,showWhen:EZ,header:"Rotate Video",subtext:"Use the controls to rotate, flip, or mirror your video.",priority:3},{tooltipAnchorId:cZ.MirrorControl,showWhen:RZ,header:"Rotate Image",subtext:"Use the controls to rotate, mirror, or flip your image.",priority:3}]}),[dZ.SlowMotion]:new wZ({rules:[DZ("Slow Motion","First, upload the video you want to slow down. Then use the sidebar controls to change its speed."),XZ("Slow Motion","Select the video you want to slow"),{tooltipAnchorId:cZ.VideoEditControlsTab,header:"Slow Motion",subtext:"Use the speed control to slow down your video.",priority:2},{tooltipAnchorId:cZ.SpeedControl,header:"Slow Motion",subtext:"Use the speed control to slow down your video.",priority:3}]}),[dZ.Speed]:new wZ({rules:[UZ("Change Video Speed","First, upload a file, then use the sidebar controls to change its speed."),(aq="Change Speed",nq="Select the layer you want to change the speed of.",{tooltipAnchorId:cZ.CanvasBackground,header:aq,showWhen:e=>Gx(e).some((e=>e.duration))&&dU(e).every((e=>!e.duration)),subtext:nq,priority:1}),{tooltipAnchorId:cZ.AudioEditControlsTab,header:"Change Audio Speed",subtext:"Use the speed control to change the speed of your audio."},{tooltipAnchorId:cZ.VideoEditControlsTab,header:"Change Video Speed",subtext:"Use the speed control to change the speed of your video.",priority:2},{tooltipAnchorId:cZ.SpeedControl,header:"Change Speed",subtext:"Use the speed control to change the speed of your video.",priority:3}]}),[dZ.SilenceRemover]:eq("Remove Silences"),[dZ.SmartCut]:eq("Smart Cut"),[dZ.Volume]:new wZ({rules:[GZ("Adjust Volume","Upload your audio, then use the volume controls in the sidebar to adjust the volume."),...qZ("Adjust Volume","Select the layer for which you want to adjust the volume."),{tooltipAnchorId:cZ.VideoAudioControlsTab,header:"Adjust Volume",subtext:"Use this slider to adjust the volume of your video.",priority:3},{tooltipAnchorId:cZ.AudioEditControlsTab,header:"Adjust Volume",subtext:"Use this slider to adjust the volume of your audio.",priority:4},{tooltipAnchorId:cZ.VolumeControl,header:"Adjust Volume",subtext:"Use this slider to adjust the volume of your audio.",priority:5}]}),[dZ.VideoStabilizer]:new wZ({rules:[DZ("Stabilize Video","Upload a video to stabilize."),XZ("Stabilize Video","Select the video you want to stabilize."),{tooltipAnchorId:cZ.VideoAiToolsControlsTab,header:"Stabilize Video",subtext:"Select 'Stabilize' in the video controls.",priority:2},{tooltipAnchorId:cZ.VideoStabilizeButton,header:"Stabilize Video",subtext:"Select 'Stabilize' in the video controls.",priority:3}]}),[dZ.Resize]:new wZ({rules:[FZ("Resize","First, upload your file. Then, in the sidebar, use the controls to adjust the size of your content."),...WZ("Resize","change the dimensions of your project.",NZ),{showWhen:NZ,tooltipAnchorId:cZ.ProjectControlTab,header:"Resize",subtext:"Use the 'Resize Project' button to change the dimensions of your project.",priority:3},{showWhen:NZ,tooltipAnchorId:cZ.ProjectResizeControl,header:"Resize",subtext:"Use the 'Resize Project' button to change the dimensions of your project.",priority:4}]}),[dZ.Convert]:new wZ({rules:[{tooltipAnchorId:cZ.Upload,priority:0,header:"Convert",subtext:"First upload the content that you want to convert. Then you will be able to export in different formats.",isSearchable:!0},{priority:2,showWhen:e=>Gx(e).length>0&&Gx(e).every((e=>!e.duration)),header:"Convert To Video",tooltipAnchorId:cZ.CanvasBackground,subtext:"Start by selecting the image you want to convert to a video."},{priority:3,showWhen:e=>Gx(e).length>0&&Gx(e).every((e=>!e.duration)),tooltipAnchorId:cZ.ImageTimingControlsTab,header:"Convert To Video",subtext:"Use the timing tab to add duration to your image, then you can export it as a video."},{priority:4,showWhen:e=>Gx(e).length>0&&Gx(e).every((e=>!e.duration)),tooltipAnchorId:cZ.DurationControls,header:"Convert To Video",subtext:"Use the duration controls to add duration to your image, then you can export it as a video."},{showWhen:e=>Gx(e).some((e=>e.duration)),priority:0,tooltipAnchorId:cZ.ExportButton,header:"Convert",subtext:"Click Export, then choose the format you want to convert your video to."},{showWhen:e=>Gx(e).length>0&&Gx(e).every((e=>e.hasAudio)),priority:1,tooltipAnchorId:cZ.ExportButton,header:"Convert",subtext:"Click Export, then choose the format you want to convert your audio to."}]}),[dZ.TvStatic]:new wZ({rules:[FZ("Add TV Static","Upload a video to add TV Static to."),KZ("Add TV Static","Select the video you want to add TV Static to."),...YZ("Add TV Static","Select the 'Transitions' tab and search for the TV Static transition.")]}),[dZ.Glitch]:new wZ({rules:[FZ("Add Glitch Effect","Upload a video to add a Glitch transition to."),KZ("Add Glitch Effect","Select the video you want to add a Glitch effect to."),...QZ("Add Glitch Effect","Split your video into two parts at the point where you want to add the glitch effect.",(e=>Object.values(Gx(e).reduce(((e,t)=>(t.timelineRow&&(e[t.timelineRow]=(e[t.timelineRow]||0)+1),e)),{})).some((e=>e>1)))),...YZ("Add Glitch Effect","In the 'Transitions' tab, select Glitch Displace or Glitch Memories.")]}),[dZ.Transitions]:new wZ({rules:[{tooltipAnchorId:cZ.Upload,header:"Add Transitions",subtext:"First upload two videos, then select the first one and use the transitions tab to add a transition between them.",isSearchable:!0,showWhen:e=>Gx(e).filter((e=>"image"===e.type||"video"===e.type)).length<2},{tooltipAnchorId:cZ.CanvasBackground,header:"Add Transitions",showWhen:e=>Gx(e).filter((e=>"image"===e.type||"video"===e.type)).length>=2,subtext:"Click to select the layer you want to add a transition to."},...YZ("Add Transitions","Select the transition you want to add.")]}),[dZ.ProgressBar]:new wZ({rules:[UZ("Progress Bar","Upload a video, then use the `Visuals` tab to add a progress bar."),{showWhen:e=>e.studio.duration>0,tooltipAnchorId:cZ.VisualsSidebarTab,header:"Progress Bar",subtext:"Click the Visuals sidebar tab, then navigate to the Elements tab.",priority:1},{showWhen:e=>e.studio.duration>0,tooltipAnchorId:cZ.ElementsSearchTab,header:"Progress Bar",subtext:"Click the Elements tab, then click one of the progress bar styles",priority:2},{showWhen:e=>e.studio.duration>0,tooltipAnchorId:cZ.ProgressBarOptions,priority:3,header:"Progress Bar",subtext:"Click on a progress bar to add it to your project."}]}),[dZ.Waveform]:new wZ({rules:[GZ("Add a Waveform / Audiogram","First, upload a file with audio, then click on 'Visuals' in the sidebar to add a waveform."),{showWhen:VZ,tooltipAnchorId:cZ.VisualsSidebarTab,header:"Add Waveform",subtext:"Open the Visuals tab, then select the Elements tab.",priority:1},{showWhen:VZ,tooltipAnchorId:cZ.ElementsSearchTab,header:"Add Waveform",subtext:"Open the Elements tab, then choose one of the waveform patterns.",priority:2},{showWhen:VZ,tooltipAnchorId:cZ.WaveformOptions,header:"Add Waveform",subtext:"Select a waveform style to add it to your project.",priority:3}]}),[dZ.Censor]:new wZ({rules:[FZ("Censor","Upload your content, then use a shape from the `Elements` tab to cover parts of your content."),{showWhen:kZ,tooltipAnchorId:cZ.VisualsSidebarTab,header:"Censor",subtext:"Open the Visuals tab, then select the Elements tab.",priority:1},{showWhen:kZ,tooltipAnchorId:cZ.ElementsSearchTab,header:"Censor",subtext:"Open the Elements tab, then choose a shape to censor your content.",priority:2},{showWhen:kZ,tooltipAnchorId:cZ.ElementsTabShapesOptions,header:"Censor",subtext:"Click on a shape to add it to your project.",priority:3}]}),[dZ.CustomEmoji]:new wZ({rules:[{header:"Custom Emoji",subtext:"Add an emoji to your project, then use the canvas to customize your emoji.",tooltipAnchorId:cZ.VisualsSidebarTab,isSearchable:!0},{header:"Custom Emoji",subtext:"Add an emoji to your project, then use the canvas to customize your emoji.",tooltipAnchorId:cZ.ElementsSearchTab,isSearchable:!0,priority:0},{showWhen:jZ,header:"Custom Emoji",subtext:"Add an emoji to your project, then use the canvas to customize your emoji.",tooltipAnchorId:cZ.ElementsTabEmojiOptions,isSearchable:!0,priority:1},{tooltipAnchorId:cZ.CanvasBackground,header:"Custom Emoji",subtext:"Click outside of the canvas to de-select your content.",priority:5,showWhen:e=>LZ(e)&&!(e.studio.width&&e.studio.height&&e.studio.width/e.studio.width==1)},{tooltipAnchorId:cZ.CloseMobileMediaSidebarButton,header:"Custom Emoji",subtext:"Exit this menu, then follow the hints to resize your emoji to the recommended dimensions (128px by 128px or 180px by 180px).",priority:6,showWhen:e=>LZ(e)&&!(e.studio.width&&e.studio.height&&e.studio.width/e.studio.width==1)},{tooltipAnchorId:cZ.ProjectSidebarTab,header:"Custom Emoji",subtext:"Use the project settings to resize your emoji to the recommended dimensions (128px by 128px or 180px by 180px)",priority:7,showWhen:e=>LZ(e)&&!(e.studio.width&&e.studio.height&&e.studio.width/e.studio.width==1)},{tooltipAnchorId:cZ.ProjectControlTab,header:"Resize",subtext:"Use the 'Resize Project' button to change the dimensions of your emoji to the recommended dimensions (128px by 128px or 180px by 180px).",priority:8,showWhen:e=>LZ(e)&&!(e.studio.width&&e.studio.height&&e.studio.width/e.studio.width==1)},{tooltipAnchorId:cZ.ProjectResizeControl,header:"Resize",subtext:"Use the 'Resize Project' button to change the dimensions of your emoji to the recommended dimensions (128px by 128px or 180px by 180px).",priority:9,showWhen:e=>LZ(e)&&!(e.studio.width&&e.studio.height&&e.studio.width/e.studio.width==1)},ZZ("Custom Emoji","Click to select you emoji to remove the background from it."),{tooltipAnchorId:cZ.ImageAiToolsControlsTab,header:"Custom Emoji",subtext:"Click the AI TOOLS tab to remove the background from your emoji.",priority:3},{tooltipAnchorId:cZ.RemoveBackgroundButton,header:"Custom Emoji",subtext:"Click to remove the background from your emoji.",priority:4}]}),[dZ.TranslateAudio]:new wZ({rules:[{tooltipAnchorId:cZ.CloseMobileMediaSidebarButton,header:"Translate Audio",subtext:"Exit this menu, then follow the hints to add subtitles.",priority:3},GZ("Translate Audio","Upload media and click 'Dub video' in the Subtitles tab."),{showWhen:VZ,tooltipAnchorId:cZ.MagicSubtitlesSidebarTab,header:"Translate Audio",subtext:"Click here to generate translated audio and dub your video.",priority:1},{showWhen:VZ,tooltipAnchorId:cZ.DubVideoButton,header:"Translate Audio",subtext:"Click here to generate translated audio and dub your video.",priority:2,isTerminal:!0},{showWhen:VZ,tooltipAnchorId:cZ.MagicSubtitlesSmartToolsDropdown,header:"Translate Audio",subtext:"Click here to generate translated audio and dub your video.",priority:2}]}),[dZ.Translate]:new wZ({rules:[{tooltipAnchorId:cZ.CloseMobileMediaSidebarButton,header:"Translate Content",subtext:"Exit this menu, then follow the hints to start translating your project.",priority:3},{tooltipAnchorId:cZ.TranslateEmptyCTA,header:"Choose a Video",subtext:"Upload a video or audio file to start translating it into 40+ languages.",priority:2},{tooltipAnchorId:cZ.AddSample,header:"Translate Subtitles",subtext:"Try a sample video, then you can generate translated subtitles afterwards.",isSearchable:!0,priority:1},{tooltipAnchorId:cZ.TranslateSidebarTab,header:"Translate your project",subtext:"Click here to start translating your project into one of 40+ languages.",priority:0},{tooltipAnchorId:cZ.DubVideoButton,header:"Translate your project",subtext:"Start translating by either dubbing your project into another language, or creating translated subtitles.",priority:0},{tooltipAnchorId:cZ.MagicSubtitlesSmartToolsDropdown,header:"Translate Subtitles",subtext:"Click here to translate the subtitles for your project.",priority:2},{tooltipAnchorId:cZ.SubtitleLanguageOptions,header:"Translate Subtitles",subtext:"Click here to select the language you would like to translate subtitles into.",priority:2},{tooltipAnchorId:cZ.DubbingLanguageOptions,header:"Dub your content",subtext:"Click here to select the language(s) you would like to dub your content into.",priority:2}]}),[dZ.Dubbing]:new wZ({rules:[{tooltipAnchorId:cZ.CloseMobileMediaSidebarButton,header:"Dubbing",subtext:"Exit this menu, then follow the hints to dub your project.",priority:3},{tooltipAnchorId:cZ.SubtitleEmptyCTA,header:"Choose a Video",subtext:"You'll have to upload a video or audio file to dub your project.",priority:2},GZ("Dubbing","Upload media and click 'Dub video' in the Translate tab."),{showWhen:VZ,tooltipAnchorId:cZ.TranslateSidebarTab,header:"Dubbing",subtext:"Click 'Dub video' in the Translate tab.",priority:1},{showWhen:VZ,tooltipAnchorId:cZ.DubVideoButton,header:"Dubbing",subtext:"Click 'Dub video' in the Translate tab.",priority:2,isTerminal:!0},{showWhen:VZ,tooltipAnchorId:cZ.MagicSubtitlesSmartToolsDropdown,header:"Dubbing",subtext:"Click here to dub your video.",priority:2}]}),[dZ.Transcribe]:new wZ({rules:[{tooltipAnchorId:cZ.CloseMobileMediaSidebarButton,header:"Translate Subtitles",subtext:"Exit this menu, then follow the hints to add subtitles.",priority:10},GZ("Create a Transcription","First upload your video, then use the controls to create and download a transcription."),{showWhen:VZ,tooltipAnchorId:cZ.TranscriptSidebarTab,header:"Create a Transcription",subtext:"Click here to create a transcription for your video or audio.",priority:4},{showWhen:VZ,tooltipAnchorId:cZ.TrimWithTranscriptEntrypointButton,header:"Create a Transcription",subtext:"Click here to create a transcription for your video or audio.",priority:5},{tooltipAnchorId:cZ.TranscriptionTabDownloadTranscriptButton,header:"Create a Transcription",subtext:"Click here to download the transcription for your video or audio.",priority:6},{tooltipAnchorId:cZ.MagicSubtitlesSidebarTab,header:"Create a Transcription",subtext:"Auto-generate subtitles for your audio, then you'll be able to download the transcript.",showWhen:VZ},{tooltipAnchorId:cZ.StartMagicSubtitlesButton,header:"Subtitle Your Video",subtext:"First auto-generate subtitles for your video, then you'll be able to download the transcript.",showWhen:VZ,priority:1,isTerminal:!0}]}),[dZ.TrimWithTranscript]:new wZ({mobileWarningToast:"This feature is not available on mobile, come back on desktop to use it.",rules:[GZ("Edit Video by Editing Text","Get started by uploading the video or audio file that you'd like to edit."),{tooltipAnchorId:cZ.TranscriptSidebarTab,header:"Edit Video by Editing Text",subtext:"First transcribe your video, then you'll be able to split, trim, and edit using the words spoken in your video.",showWhen:VZ},{tooltipAnchorId:cZ.TrimWithTranscriptEntrypointButton,header:"Edit Video by Editing Text",subtext:"First transcribe your video, then you'll be able to split, trim, and edit using the words spoken in your video.",showWhen:VZ,priority:1},{tooltipAnchorId:cZ.TrimWithTranscriptApplyButton,header:"Edit Video by Editing Text",subtext:"First transcribe your video, then you'll be able to split, trim, and edit using the words spoken in your video.",showWhen:VZ,priority:1,isTerminal:!0},{tooltipAnchorId:cZ.TrimWithTranscriptContainer,header:"Edit Video by Editing Text",subtext:"Edits made to text here will be reflected in the video timeline",showWhen:VZ,priority:1,isTerminal:!0}]}),[dZ.AddImage]:new wZ({rules:[PZ("Add Image","Upload video, images, or audio files and start editing them within the Kapwing editor."),{tooltipAnchorId:cZ.CloseMobileMediaSidebarButton,header:"Add Image",subtext:"Exit this menu, then follow the hints to add an image.",priority:3},{showWhen:NZ,tooltipAnchorId:cZ.VisualsSidebarTab,header:"Add Image",subtext:"Add additional images from the Visuals tab.",priority:1},{showWhen:NZ,tooltipAnchorId:cZ.ImagesSearchTab,header:"Add Image",subtext:"Add additional images from the Visuals tab.",priority:2},{showWhen:e=>NZ(e)&&MZ(e),tooltipAnchorId:cZ.SearchTabContents,header:"Add Image",subtext:"Add additional images from the Images tab.",priority:3}]}),[dZ.MusicVideo]:new wZ({rules:[PZ("Create a Music Video","Upload a video here, or use the controls to the left to get started."),{tooltipAnchorId:cZ.AudioSidebarTab,showWhen:NZ,header:"Add Music",subtext:"Upload your own music, or browse from 1000+ songs and sound effects to add to your video."},{tooltipAnchorId:cZ.AudioTabContent,showWhen:NZ,header:"Add Music",subtext:"Upload your own music, or browse from 1000+ songs and sound effects to add to your video.",priority:1}]}),[dZ.AddAudio]:new wZ({rules:[{tooltipAnchorId:cZ.CloseMobileMediaSidebarButton,header:"Add Audio",subtext:"Exit this menu, then follow the hints to add audio."},{tooltipAnchorId:cZ.AudioSidebarTab,header:"Add Audio",subtext:"Add audio to your project from the left sidebar.",priority:0,isSearchable:!0},{tooltipAnchorId:cZ.AudioTabMusicOptions,header:"Add Audio",subtext:"Add audio to your project from the left sidebar.",priority:1}]}),[dZ.AddSoundEffects]:new wZ({rules:[{tooltipAnchorId:cZ.CloseMobileMediaSidebarButton,header:"Add Sound Effects",subtext:"Exit this menu, then follow the hints to add sound effects."},{tooltipAnchorId:cZ.AudioSidebarTab,header:"Add Sound Effects",subtext:"Add sound effects to your project from the left sidebar.",priority:0,isSearchable:!0},{tooltipAnchorId:cZ.AudioTabSoundEffectsOptions,header:"Add Sound Effects",subtext:"Add sound effects to your project from the left sidebar.",priority:1}]}),[dZ.AnimatedText]:new wZ({rules:[{tooltipAnchorId:cZ.CloseMobileMediaSidebarButton,header:"Animated Text",subtext:"Exit this menu, then follow the hints to add animated text to your project.",priority:2},{tooltipAnchorId:cZ.PluginsSidebarTab,header:"Animated Text",subtext:"Either upload your own image, GIF, or video, or use the GIPHY TEXT plugin to create animated text.",priority:0},{tooltipAnchorId:cZ.GiphyTextPlugin,header:"Animated Text",subtext:"Either upload your own image, GIF, or video, or use the GIPHY TEXT plugin to create animated text.",priority:1}]}),[dZ.AiVoiceCloning]:new wZ({rules:[{tooltipAnchorId:cZ.CloseMobileMediaSidebarButton,header:"Voice Cloning",subtext:"Exit this menu, then follow the hints to add voice cloning to your project.",priority:3},{tooltipAnchorId:cZ.TextToSpeechSidebarTab,header:"Voice Cloning",subtext:"Click Add voice clone to record or upload a voice sample to clone.",priority:0,isSearchable:!0},{tooltipAnchorId:cZ.TTSVoiceSelector,header:"Voice Cloning",subtext:"Click Add voice clone to record or upload a voice sample to clone.",priority:1},{tooltipAnchorId:cZ.TTSCreateVoiceClone,header:"Voice Cloning",subtext:"Click Add voice clone to record or upload a voice sample to clone.",priority:2}]}),[dZ.PersonasCreationFlow]:new wZ({rules:[{tooltipAnchorId:cZ.CloseMobileMediaSidebarButton,header:"Create a Persona",subtext:"Exit this menu, then follow the hints to create a persona.",priority:3},{tooltipAnchorId:cZ.TextToSpeechSidebarTab,header:"Create a Persona",subtext:"Click here to create a your persona. You will be guided through selecting a video and creating a voice for it.",isSearchable:!0},{tooltipAnchorId:cZ.PersonaSelector,header:"Create a Persona",subtext:"Click here to create a your persona. You will be guided through selecting a video and creating a voice for it."}]}),[dZ.PersonasStockLibrary]:new wZ({rules:[{tooltipAnchorId:cZ.CloseMobileMediaSidebarButton,header:"Use a Stock Persona",subtext:"Exit this menu, then follow the hints to use a stock persona.",priority:3},{tooltipAnchorId:cZ.TextToSpeechSidebarTab,header:"Use a Stock Persona",subtext:"Click here to select a persona from our stock library.",priority:0,isSearchable:!0},{tooltipAnchorId:cZ.StockPersonasTab,header:"Use a Stock Persona",subtext:"Click here to select a persona from our stock library.",priority:1}]}),[dZ.PersonasEducationalLibrary]:new wZ({rules:[{tooltipAnchorId:cZ.CloseMobileMediaSidebarButton,header:"Use an Educational Persona",subtext:"Exit this menu, then follow the hints to use an educational persona.",priority:3},{tooltipAnchorId:cZ.TextToSpeechSidebarTab,header:"Use an Educational Persona",subtext:"Click here to select a persona from our educational library.",priority:0,isSearchable:!0},{tooltipAnchorId:cZ.EducationalPersonasTab,header:"Use an Educational Persona",subtext:"Click here to select a persona from our educational library.",priority:1}]}),[dZ.TextToSpeech]:new wZ({rules:[{tooltipAnchorId:cZ.CloseMobileMediaSidebarButton,header:"Add Text to Speech",subtext:"Close this menu, then follow the hints to add text to speech.",priority:3},{tooltipAnchorId:cZ.TextToSpeechSidebarTab,header:"Add Text to Speech",subtext:"Add your text here, then use the buttons below to generate an audio layer.",priority:0,isSearchable:!0},{tooltipAnchorId:cZ.SelectedTextToSpeechBlock,header:"Add Text to Speech",subtext:"Add your text here, then use the buttons below to generate an audio layer.",priority:1}]}),[dZ.TranslateImage]:new wZ({rules:[BZ("Translate Image","First, upload your image here. You can translate the text afterward."),ZZ("Translate Image","Click Translate Text to translate the text from your image."),{tooltipAnchorId:cZ.ImageAiToolsControlsTab,header:"Translate Image",subtext:"Click Translate Text to translate the text from your image.",priority:2},{tooltipAnchorId:cZ.TranslateImageControl,header:"Translate Image",subtext:"Click Translate Text to translate the text from your image.",priority:3}]}),[dZ.BRollGenerator]:new wZ({rules:[{tooltipAnchorId:cZ.CloseMobileMediaSidebarButton,header:"B-Roll Generator",subtext:"Exit this menu, then follow the hints to add b-roll.",priority:3},GZ("B-Roll Generator","First upload the video or audio that you'd like to add b-roll for. Then, use Smart B-Roll to create clips for your video."),{showWhen:VZ,tooltipAnchorId:cZ.VisualsSidebarTab,header:"B-Roll Generator",subtext:"Select Smart B-Roll to start generating b-roll clips for your video.",priority:2},{showWhen:VZ,tooltipAnchorId:cZ.ImagesSearchTab,header:"B-Roll Generator",subtext:"Select Smart B-Roll to start generating b-roll clips for your video.",priority:3},{showWhen:VZ,tooltipAnchorId:cZ.StartSmartBRollButton,header:"B-Roll Generator",subtext:"Select Smart B-Roll to start generating b-roll clips for your video.",priority:4}]}),[dZ.Collage]:new wZ({rules:[FZ("Make a Collage","Upload your files here, then rearrange them into the perfect collage."),{tooltipAnchorId:cZ.CanvasBackground,header:"Make a Collage",subtext:"You can rearrange the content you upload by clicking and dragging them here. The blue transformation handles will help you resize and rotate to make your collage."}]}),[dZ.CompressVideo]:new wZ({rules:[PZ("Compress","Upload your content, then adjust the Compression Level in the export settings."),{tooltipAnchorId:cZ.ExportButton,showWhen:NZ,header:"Compress",subtext:"Open the Export Settings to adjust the compression Level."}]}),[dZ.Editor]:new wZ({rules:[PZ("Get Started","To get started, upload a file here, or use the controls to the left to get started."),KZ("Get Started","Click a video or image to edit it."),{tooltipAnchorId:cZ.ImageEditControlsTab,header:"Get Started",priority:3,subtext:"Explore image controls.",isTerminal:!0},{tooltipAnchorId:cZ.VideoEditControlsTab,header:"Get Started",priority:3,subtext:"Explore video controls.",isTerminal:!0}]}),[dZ.Extract]:new wZ({rules:[GZ("Extract Audio","Upload a video or paste a youtube link. Then, in the timeline, right-click the video layer and select Detach Audio."),...QZ("Extract Audio","Right-click the video layer and select Detach Audio to extract the audio.",(e=>Gx(e).some((e=>e.hasAudio&&"video"===e.type)))),{showWhen:e=>Gx(e).some((e=>e.hasAudio&&"video"===e.type)),tooltipAnchorId:cZ.SelectedVideoTrack,header:"Extract Audio",subtext:"Right-click the video layer and select Detach Audio to extract the audio.",priority:3}]}),[dZ.GifMaker]:new wZ({rules:[FZ("Make a GIF","Upload a video or image here, then choose Export as a GIF when you're ready."),...WZ("Convert to GIF","add duration to your image, then you can export it as a GIF.",(e=>!e.studio.duration)),{showWhen:e=>!e.studio.duration,tooltipAnchorId:cZ.ProjectTimingControlsTab,header:"Convert to GIF",subtext:"You need to convert your image to a video in order to export it as an animated GIF. Choose a duration here.",priority:4},{showWhen:e=>!e.studio.duration,tooltipAnchorId:cZ.ProjectDurationControls,header:"Convert to GIF",subtext:"You need to convert your image to a video in order to export it as an animated GIF. Choose a duration here.",priority:5},{showWhen:e=>!!e.studio.duration,priority:1,tooltipAnchorId:cZ.ExportButton,header:"Make a GIF",subtext:"When you're ready, click Export and then choose GIF."}]}),[dZ.TrimVideo]:new wZ({rules:[UZ("Trim","Upload your content, then use the timeline that appears to trim your video."),...QZ("Trim Video","Use the handlers at each end of the track to trim the video. Drag the track to change when it starts.",(e=>e.studio.duration>0)),{tooltipAnchorId:cZ.SelectedVideoTrack,header:"Trim Video",subtext:"Use the handlers at each end of the track to trim the video. Drag the track to change when it starts.",priority:3},{tooltipAnchorId:cZ.SelectedAudioTrack,header:"Trim",subtext:"Use the handlers at each end of the track to trim the audio. Drag the track to change when it starts.",priority:3}]}),[dZ.TrimAudio]:new wZ({rules:[UZ("Trim Audio","Upload your content, then use the timeline that appears to trim your audio."),...QZ("Trim Audio","Use the handlers at each end of the track to trim the audio. Drag the track to change when it starts.",(e=>e.studio.duration>0)),{tooltipAnchorId:cZ.SelectedVideoTrack,header:"Trim",subtext:"Use the handlers at each end of the track to trim your video. Drag the track to change when it starts.",priority:2},{tooltipAnchorId:cZ.SelectedAudioTrack,header:"Trim Audio",subtext:"Use the handlers at each end of the track to trim the audio. Drag the track to change when it starts.",priority:2}]}),[dZ.Link]:new wZ({rules:[PZ("Make a Link","Upload a video or image here, then export your project to get your shareable link."),{tooltipAnchorId:cZ.ExportButton,showWhen:NZ,header:"Make a Link",subtext:"After you export your project, you'll be able to share it with a link.",priority:1}]}),[dZ.YoutubeThumbnail]:new wZ({rules:[FZ("Create a YouTube Thumbnail","Paste the link to your YouTube Video below, then click Export to create a single frame of the video."),{showWhen:e=>AZ(e)&&LZ(e),header:"Make a Thumbnail",subtext:"Select your image to crop it.",tooltipAnchorId:cZ.CanvasBackground,priority:1},{showWhen:e=>AZ(e)&&LZ(e),header:"Make a Thumbnail",subtext:"Click the CROP button to crop your image to a YouTube Thumbnail size.",tooltipAnchorId:cZ.ImageEditControlsTab,priority:2},{showWhen:e=>AZ(e)&&LZ(e),header:"Make a Thumbnail",subtext:"Click the CROP button to crop your image to a YouTube Thumbnail size.",tooltipAnchorId:cZ.CropButton,priority:3},{showWhen:e=>IZ(e),header:"YouTube Thumbnail",subtext:"Click Export, then select PNG to create an image thumbnail of your video.",tooltipAnchorId:cZ.ExportButton,priority:1}]}),[dZ.RecordScreen]:new wZ({rules:[{tooltipAnchorId:cZ.CloseMobileMediaSidebarButton,header:"Record Screen",subtext:"Exit this menu, then follow the hints to record your screen, camera, or audio.",priority:2},{tooltipAnchorId:cZ.RecordSidebarTab,header:"Record Screen",subtext:"Use the record tab in the sidebar to record your screen, camera, or audio.",priority:1,isTerminal:!0}]}),[dZ.MemeMaker]:new wZ({rules:[{tooltipAnchorId:cZ.CloseMobileMediaSidebarButton,header:"Meme Maker",subtext:"Exit this menu, then follow the hints to create a meme.",priority:3},{tooltipAnchorId:cZ.TemplatesSidebarTab,header:"Meme Maker",subtext:"Select a meme template from the Templates tab.",priority:1},{tooltipAnchorId:cZ.FirstTemplateOption,header:"Meme Maker",subtext:"Select a meme template from the Templates tab.",priority:2}]}),[dZ.Vhs]:new wZ({rules:[{tooltipAnchorId:cZ.CloseMobileMediaSidebarButton,header:"Add a VHS Effect",subtext:"Exit this menu, then follow the hints to add a VHS effect.",priority:4},{tooltipAnchorId:cZ.VisualsSidebarTab,header:"Add a VHS Effect",subtext:"Open the 'Visuals' tab and search for VHS effects to add to your content",priority:1},{tooltipAnchorId:cZ.ImagesSearchTab,header:"Add a VHS Effect",subtext:"Open the 'Images' tab and search for VHS effects to add to your content",priority:2},{showWhen:MZ,tooltipAnchorId:cZ.SearchTabContents,header:"Add a VHS Effect",subtext:"Search for a VHS effect and click it to add to your content",priority:3}]}),[dZ.SrtEditor]:new wZ({rules:[{tooltipAnchorId:cZ.CloseMobileMediaSidebarButton,header:"Edit an SRT",subtext:"Exit this menu, then follow the hints to add subtitles to your video."},GZ("Edit an SRT","First, upload the video you'd like to add subtitles to. You can upload an SRT file in the next step."),{showWhen:VZ,tooltipAnchorId:cZ.MagicSubtitlesSidebarTab,header:"Upload SRT File",subtext:"Upload an SRT file to edit your subtitles directly from the SRT file editor that will appear.",priority:1},{showWhen:VZ,tooltipAnchorId:cZ.StartUploadSubtitleButton,header:"Upload SRT File",subtext:"Upload an SRT file to edit your subtitles directly from the SRT file editor that will appear.",priority:2}]}),[dZ.Slideshow]:new wZ({rules:[FZ("Make a Slideshow","Upload images and videos to get started."),{showWhen:e=>!e.studio.duration,tooltipAnchorId:cZ.CanvasBackground,header:"Make a Slideshow",subtext:"Click outside of the canvas to deselect your image, then add duration to your project to create a slideshow.",priority:1},{showWhen:e=>!e.studio.duration,tooltipAnchorId:cZ.CloseMobileMediaSidebarButton,header:"Make a Slideshow",subtext:"Close this menu, then follow the hints to add a duration to your project.",priority:4},{showWhen:e=>!e.studio.duration,tooltipAnchorId:cZ.ProjectTimingControlsTab,header:"Make a Slideshow",subtext:"Use the timing controls to add duration to your project to create a slideshow.",priority:2},{showWhen:e=>!e.studio.duration,tooltipAnchorId:cZ.ProjectDurationControls,header:"Make a Slideshow",subtext:"Use the timing controls to add duration to your project to create a slideshow.",priority:3}]}),[dZ.SrtFile]:new wZ({rules:JZ("SRT")}),[dZ.VttFile]:new wZ({rules:JZ("VTT")}),[dZ.SpeakerFocus]:new wZ({rules:[((e,t)=>({tooltipAnchorId:cZ.Upload,header:e,showWhen:e=>!zZ(e),subtext:t,priority:0,isSearchable:!0}))("Center Active Speakers","Upload a video with at least one speaker, then choose Speaker Focus in the Right Sidebar."),...WZ("Center Active Speakers","to use Speaker Focus to center the active speaker in each scene.",(e=>zZ(e))),{showWhen:zZ,tooltipAnchorId:cZ.ProjectControlTab,header:"Center Active Speakers",subtext:"Use Speaker Focus to center the active speaker in each scene.",priority:3},{showWhen:zZ,tooltipAnchorId:cZ.SpeakerFocusControl,header:"Center Active Speakers",subtext:"Use Speaker Focus to center the active speaker in each scene.",priority:4}]}),[dZ.Podcast]:new wZ({rules:[GZ("Edit Audio for Podcasts","Upload your audio and get started!"),{showWhen:zZ,tooltipAnchorId:cZ.CanvasBackground,header:"Edit Audio for Podcasts",subtext:"Click to select the layer with audio you want to edit.",priority:3},...QZ("Edit Audio for Podcasts","Select your audio layer in the time line to edit it.",VZ),{showWhen:VZ,tooltipAnchorId:cZ.AudioEditControlsTab,header:"Edit Audio for Podcasts",subtext:"You can edit your podcast audio with the controls here.",priority:4},{showWhen:VZ,tooltipAnchorId:cZ.VideoAudioControlsTab,header:"Edit Audio for Podcasts",subtext:"You can edit your podcast audio with the controls here.",priority:4}]}),[dZ.SafeZone]:new wZ({rules:[PZ("Show Safe Zones","Upload your content, then under the 'Canvas' tab, use the 'Safe Zones' section to resize your canvas."),...WZ("Show Safe Zones","to show safe zones.",NZ),{tooltipAnchorId:cZ.ProjectSafeZoneControlsTab,header:"Show Safe Zones",subtext:"Click a platform to preview your content for TikTok, Instagram Reels, or YouTube Shorts",priority:2},{tooltipAnchorId:cZ.SafeZoneControlTabContent,header:"Show Safe Zones",subtext:"Click a platform to preview your content for TikTok, Instagram Reels, or YouTube Shorts",priority:3}]}),[dZ.Teleprompter]:new wZ({rules:[{tooltipAnchorId:cZ.CloseMobileMediaSidebarButton,header:"Teleprompter",subtext:"Exit this menu, then follow the hints to use the teleprompter.",priority:3},{tooltipAnchorId:cZ.RecordSidebarTab,header:"Teleprompter",subtext:"Select a recording option, then click Open Teleprompter.",priority:1},{tooltipAnchorId:cZ.RecordOptions,header:"Teleprompter",subtext:"Select a recording option, then click Open Teleprompter.",priority:2}]}),[dZ.Text]:new wZ({rules:[PZ("Add Text","Upload your content, then add text to your project."),{tooltipAnchorId:cZ.CloseMobileMediaSidebarButton,header:"Add Text",subtext:"Exit this menu, then follow the hints to add text.",priority:3},{tooltipAnchorId:cZ.TextSidebarTab,header:"Add Text",subtext:"Click the TEXT button to add text to your project.",priority:1},{tooltipAnchorId:cZ.AddTextButton,header:"Add Text",subtext:"Click the TEXT button to add text to your project.",priority:2,isTerminal:!0}]}),[dZ.Timeline]:new wZ({rules:[PZ("Edit With Timeline","Upload video, images, or audio files and start editing them within the Kapwing editor."),...WZ("Convert Image to Video","to add duration to your image.",(e=>LZ(e)&&!e.studio.duration)),{showWhen:e=>!e.studio.duration&&LZ(e),tooltipAnchorId:cZ.ProjectTimingControlsTab,header:"Convert Image to Video",subtext:"If you want to make a video from this image, use the duration selector to change the duration of your image video.",priority:3},{showWhen:e=>!e.studio.duration&&LZ(e),tooltipAnchorId:cZ.ProjectDurationControls,header:"Convert Image to Video",subtext:"If you want to make a video from this image, use the duration selector to change the duration of your image video.",priority:4},...QZ("Edit Your Video","Use timeline to trim, merge, and edit your videos. Drag and drop files into Kapwing to start.",IZ),...QZ("Edit Your Audio","Use timeline to trim, merge, and edit your audio files. Drag and drop files into Kapwing to start.",(e=>VZ(e)&&!IZ(e))),{showWhen:NZ,tooltipAnchorId:cZ.SelectedVideoTrack,header:"Edit Your Video",subtext:"Use timeline to trim, merge, and edit your videos. Drag and drop files into Kapwing to start.",priority:3}]}),[dZ.AiScriptToVideoGenerator]:new wZ({rules:$Z("Create an AI video from a custom script","Paste or type your script, and Kapwing AI will create a video based on its contents.",cZ.AiPasteExistingScriptInput)}),[dZ.AiArticleToVideo]:new wZ({rules:$Z("Article to Video","Paste the link to an article, and Kapwing AI will create a video based on its contents.",cZ.AiPasteArticleUrlInput)}),[dZ.AiDocumentToVideo]:new wZ({rules:$Z("Document to Video","Paste or type your document, and Kapwing AI will create a video based on its contents.",cZ.AiGenerateScriptInput)}),[dZ.AiVideoGenerator]:new wZ({rules:$Z("Create a video with AI","Type an idea for a video, and Kapwing AI will take care of the rest.",cZ.AiGenerateScriptInput)}),[dZ.AiScriptGenerator]:new wZ({rules:$Z("Create an AI Script","Type an idea for a script, and Kapwing AI will take care of the rest.",cZ.AiGenerateScriptInput)}),[dZ.AiImageGenerator]:new wZ({rules:$Z("Create AI Images","Type a prompt, and Kapwing will generate four images for your project.",cZ.AiGenerateImageInput)}),[dZ.Pinning]:new wZ({rules:[DZ("Pin Object with Keyframes","Upload a video to get started."),{tooltipAnchorId:cZ.CanvasBackground,header:"Pin Object with Keyframes",subtext:"Click to select the layer you want to pin to an object in your video.",priority:1},{tooltipAnchorId:cZ.ImagePositionControlsTab,header:"Pin Object with Keyframes",subtext:"Click the  button to mark the starting position of the object you want to track.",priority:2},{tooltipAnchorId:cZ.VideoPositionControlsTab,header:"Pin Object with Keyframes",subtext:"Click the  button to mark the starting position of the object you want to track.",priority:2},{tooltipAnchorId:cZ.LayerPositionKeyframeButton,header:"Pin Object with Keyframes",subtext:"Click the  button to mark the starting position of the object you want to track.",priority:3}]}),[dZ.Generic]:new wZ({rules:[PZ("Upload Content","To get started, upload a file here, or use the controls to the left to get started."),KZ("Make edits","Click a video or image to edit it.",2),{tooltipAnchorId:cZ.ExportButton,showWhen:NZ,header:"Export",subtext:"When you're ready, click Export to download your project.",priority:1}]}),[dZ.SplitVocals]:new wZ({rules:[GZ("Split Vocals","Upload a video or audio file to get started."),...qZ("Split Vocals","Select the audio layer to split."),{tooltipAnchorId:cZ.AudioEditControlsTab,header:"Split Vocals",subtext:"Click the Split Vocals button to split the vocals.",priority:3},{tooltipAnchorId:cZ.VideoAudioControlsTab,header:"Split Vocals",subtext:"Click the Split Vocals button to split the vocals.",priority:3},{tooltipAnchorId:cZ.SplitVocalsButton,header:"Split Vocals",subtext:"Click the Split Vocals button to split the vocals.",priority:4}]})};var aq,nq;function sq(e,t){return{type:"SET_STUDIO_RATIO",ratio:e,undoable:t}}function oq(e,t,a,n){return{type:"SET_CUSTOM_OUTPUT_SIZE",hasCustomOutput:e,customOutputWidth:t,customOutputHeight:a,undoable:n}}function iq(e){return{type:"SET_PLAY_CANVAS_PREVIEW_ON_MOUNT",playCanvasPreviewOnMount:e}}function rq(e){return{type:"SET_ORIGIN",origin:e}}function lq(e){return{type:"SET_OVERLAY_MOUNTED",overlayMounted:e}}function dq(e){var t,a;const{dispatch:n,state:s}=Mu();s.isMobile&&xZ(e)&&(null==(t=tq[e])?void 0:t.mobileWarningToast)?mb({description:null==(a=tq[e])?void 0:a.mobileWarningToast}):n({type:"SHOW_TOOL_TIP",toolTip:e})}function cq(e){const{state:t}=Mu();return{type:"SET_RIPPLE_MODE",rippleMode:e,userId:t.currentUser.user._id}}function uq(e){return{type:"SET_DRAGGING",isDragging:e}}const pq={addTetheredWaveform:({assetId:e,undoable:t=!0,initialProperties:a})=>({type:"ADD_TETHERED_WAVEFORM",assetId:e,undoable:t,initialProperties:a}),removeTetheredWaveform:({assetId:e,undoable:t=!0})=>({type:"REMOVE_TETHERED_WAVEFORM",assetId:e,undoable:t}),updateTetheredWaveform:({assetId:e,update:t,undoable:a=!0})=>({type:"UPDATE_TETHERED_WAVEFORM",assetId:e,undoable:a,update:t})};function mq(e){return null!=Mu().state.studio.allLayers.byId[e]}function gq(e){return`${e}%`}function hq(e){return parseInt(e,10)}function vq(e,t){var a,n;return!!(wS()&&(null==(a=null==e?void 0:e.preview)?void 0:a.fragmented)||(null==(n=null==e?void 0:e.preview)?void 0:n.hls)||t)}function fq(e="30%",t="30%"){const a=hq(e),n=hq(t),s=10*Math.random()-5,o=(100-n)/2;return{x:gq((100-a)/2+s),y:gq(o+s),width:e,height:t,rotation:0}}function bq(e,t,a){return(e.x-t.x)*Math.sin(a)+(e.y-t.y)*Math.cos(a)+t.y}function yq(e,t,a){return(e.x-t.x)*Math.cos(a)-(e.y-t.y)*Math.sin(a)+t.x}function wq(e,t,a){return{x:yq(e,t,a),y:bq(e,t,a)}}const _q=e=>e*Math.PI/180;function Cq(e){let t,a,n,s;if("percent"===e.positionType){const{position:o}=e,i=o.x,r=o.y,l=o.width,d=o.height;({width:t,height:a}=VR(l,d)),({x:n,y:s}=WR(i,r))}else{const{position:o}=e;({width:t,height:a,x:n,y:s}=o)}const o=e.position.rotation||0;"ellipse"===e.shapeType&&(n-=t/2,s-=a/2);const i={x:n+t/2,y:s+a/2},r=wq({x:n,y:s},i,_q(o)),l=wq({x:n+t,y:s},i,_q(o)),d=wq({x:n,y:s+a},i,_q(o));return{tl:r,tr:l,br:wq({x:n+t,y:s+a},i,_q(o)),bl:d}}function Sq(e){let t={top:window.screen.height,right:0,bottom:0,left:window.screen.width};for(const s of e){if("audio"===s.type&&!Oc(s))continue;if(!s.position)continue;const{tl:e,tr:a,bl:n,br:o}=Cq({position:s.position,shapeType:Oc(s)?void 0:s.shapeType,positionType:"percent"}),i=[e,a,n,o];t={top:Math.min(t.top,...i.map((e=>e.y))),right:Math.max(t.right,...i.map((e=>e.x))),bottom:Math.max(t.bottom,...i.map((e=>e.y))),left:Math.min(t.left,...i.map((e=>e.x)))}}const a=t.right-t.left,n=t.bottom-t.top;return{x:t.left+a/2,y:t.top+n/2}}function xq(e){return!(e.filters&&0!==Object.keys(e.filters).length||e.presetFilter&&0!==Object.keys(e.presetFilter).length)}function Iq(e){return!e.chromaKey&&!e.removeBg&&!e.blurBg}function Aq(e,t){if(!e.height||!e.width||!e.position)return!1;const{position:a}=e,n=.01,s=e.width/e.height,o=Math.abs(t-s)<=n,i=Math.abs(100-parseFloat(a.width))<=n,r=Math.abs(100-parseFloat(a.height))<=n,l=Math.abs(0-parseFloat(a.x))<=n,d=Math.abs(0-parseFloat(a.y))<=n,c=a.flip&&(a.flip.x||a.flip.y);return i&&r&&l&&d&&!c&&0===a.rotation&&o}function kq(e,t){const a=[];for(const n of t){const t=e[n];t&&a.push(t)}return a}const Tq={startTime:0,endTime:Number.MAX_VALUE};function Eq(e,t){if(!t)return e;const{diff:a,type:n,leftMost:s}=t,{startTime:o=0,endTime:i=0,videoDelay:r=0}=e,l=mp(e);let d;return d="drag"===n?l?s?Tq:{startTime:o+a,endTime:i+a}:{videoDelay:r+a}:"trim-start"===n?l?Tq:{videoDelay:r+a,startTime:o+a}:l?Tq:{endTime:i+a},{...e,...d}}const Lq=(e,t)=>({type:"ADD_MAGIC_SUBTITLE",assetId:e,initialProperties:t,undoable:!0}),jq=e=>({type:"REMOVE_MAGIC_SUBTITLE",assetId:e,undoable:!0}),Rq=({updates:e,assetId:t,undoable:a=!0})=>({type:"UPDATE_MAGIC_SUBTITLE_ASSET_CONFIG",assetId:t,updates:e,undoable:a}),Nq=({undoable:e=!0,...t})=>({type:"UPDATE_MAGIC_SUBTITLE_GLOBAL_CONFIG",...t,undoable:e}),Mq=m({initialState:{canvasX:0,canvasY:0,canvasDimensions:{canvasWidth:0,canvasHeight:0},containerHeight:0,containerWidth:0,containerX:0,containerY:0,zoom:100,anchor:{canvas:{x:50,y:50},container:{x:50,y:50}}},name:"studioSizing",reducers:{updateCanvasDimensions:(e,t)=>{const{zoom:a=e.zoom,anchor:n=e.anchor,canvasDimensions:s,...o}=t.payload;s&&console.warn("canvasDimensions should be set with studio actions using setStudioDimensions"),Object.assign(e,o);const i=((e,t,a,n,s)=>{const o={...e,canvasWidth:t,canvasHeight:a,zoom:n,anchor:s},i={x:e.containerX+e.canvasX,y:e.containerY+e.canvasY},r=Ng({...o,...i}),l={x:e.containerX+e.canvasX+t,y:e.containerY+e.canvasY+a},d=Ng({...o,...l}),c={canvas:{...s.canvas},container:{...s.container}};if(r.x-(e.containerWidth+e.containerX)>-50){const e=Pg({canvasHeight:a,canvasWidth:t},n);c.canvas.x=e.canvas.x,c.container.x=e.container.x}if(r.y-(e.containerHeight+e.containerY)>-50){const e=Pg({canvasHeight:a,canvasWidth:t},n);c.canvas.y=e.canvas.y,c.container.y=e.container.y}if(d.x-e.containerX<50){const e=Mg({canvasHeight:a,canvasWidth:t},n);c.canvas.x=e.canvas.x,c.container.x=e.container.x}if(d.y-e.containerY<50){const e=Mg({canvasHeight:a,canvasWidth:t},n);c.canvas.y=e.canvas.y,c.container.y=e.container.y}return c})(e,e.canvasDimensions.canvasWidth,e.canvasDimensions.canvasHeight,a,n);(e.canvasDimensions.canvasWidth<=10||e.canvasDimensions.canvasHeight<=10)&&(i.canvas={x:50,y:50},i.container={x:50,y:50}),e.anchor=i,e.zoom=a}},extraReducers:e=>e.addCase("SET_STUDIO_DIMENSIONS",((e,t)=>{const{width:a,height:n}=t.dimensions;e.canvasDimensions={canvasHeight:n??0,canvasWidth:a??0}}))}),Pq=Mq.actions,Fq=e=>e||iR()?0:10,Dq=(e,t)=>{const{ratioWidth:a,ratioHeight:n}=TK(e),{ratioWidth:s,ratioHeight:o}=TK(t),i=s/o;return(a/n).toFixed(2)===i.toFixed(2)},Oq=(e,t=0,a,n={})=>{let s={top:window.screen.height,right:0,bottom:0,left:window.screen.width,rotation:t};const o=a?WR(a.xPercent,a.yPercent):Sq(e);return e.forEach((e=>{var a;if("audio"===e.type&&!e.isAudiogram&&!Oc(e)||!e.position)return;const i=RY({layer:e,keyframeChannels:null==(a=n.keyframing)?void 0:a[e.id],studioTime:n.studioTime||0,canvasWidth:n.canvasWidth||0,canvasHeight:n.canvasHeight||0});let{x:r,y:l}=WR(i.x,i.y);const{width:d,height:c}=VR(i.width,i.height);"ellipse"===e.shapeType&&(r-=d/2,l-=c/2);const u=[{x:r,y:l},{x:r+d,y:l},{x:r,y:l+c},{x:r+d,y:l+c}],p=Sq([e]),m=u.map((e=>wq(e,p,_q(i.rotation||0)))).map((e=>wq(e,o,_q(-1*t))));s={top:Math.min(s.top,...m.map((e=>e.y))),right:Math.max(s.right,...m.map((e=>e.x))),bottom:Math.max(s.bottom,...m.map((e=>e.y))),left:Math.min(s.left,...m.map((e=>e.x))),rotation:s.rotation}})),s},Uq=(e,t,a,n={})=>{const s=Oq(e,t,a,n);return{x:s.left,y:s.top,width:s.right-s.left,height:s.bottom-s.top,rotation:s.rotation}},Bq=e=>{const t=Oq(e),a=XR(t.left,t.top),n=XR(t.right,t.bottom);return{top:zg(parseFloat(a.yPercent),0,100),right:zg(parseFloat(n.xPercent),0,100),bottom:zg(parseFloat(n.yPercent),0,100),left:zg(parseFloat(a.xPercent),0,100)}},Wq=()=>{const{dispatch:e}=Mu();e(oq(!1,void 0,void 0))};function Vq(e,t,a,n){const s=(a.width-t.width)/t.width,o=(a.height-t.height)/t.height;let i=e.xPct*t.width/a.width,r=e.yPct*t.height/a.height;const l=e.widthPct/(1+s),d=e.heightPct/(1+o);if(n.left){const n=t.width-e.xPct/100*t.width;i=100*(a.width-n)/a.width}if(n.top){const n=t.height-e.yPct/100*t.height;r=100*(a.height-n)/a.height}return{xPct:i,yPct:r,widthPct:l,heightPct:d}}const Hq=PU.withUndoBatch(((e,t,a)=>{const{dispatch:n,state:s}=Mu(),{hasCustomOutput:o}=s.studio,i=s.studio.width,r=s.studio.height,l=(e-i)/i,d=(t-r)/r,c={};for(const w of Gx(s)){const n=w.position,s=parseFloat(n.x),o=parseFloat(n.y),l=parseFloat(n.width),d=Vq({heightPct:parseFloat(n.height),widthPct:l,xPct:s,yPct:o},{height:r,width:i},{height:t,width:e},a);c[w.id]={position:{...w.position,x:`${d.xPct}%`,y:`${d.yPct}%`,width:`${d.widthPct}%`,height:`${d.heightPct}%`}}}uk(c,"canvas.ts",!0);const u=QO(s);for(const{speakerId:w,position:_}of u){const s=Vq(_,{height:r,width:i},{height:t,width:e},a),o={..._,...s};n(w?jz({speakerId:w,position:o}):Nq({updates:{position:o}}))}const p=s.studio.customOutputWidth,m=s.studio.customOutputHeight,g=(e,t)=>0===t?e:g(t,e<t?e%t:t%e),h=g(e,t),v=t/h,f=e=>{const t=e.toString().substring(0,4);return["1.76","1.77","1.78"].includes(t)?"1.7":UR(e,2)},b=`${f(e/h)}:${f(v)}`,y={"1:1":"1:1","1:1.7":"9:16","1.7:1":"16:9","1.25:1":"5:4","1:1.25":"4:5"}[b]||b;if(o){let a=Math.min(l*p+p,3840),s=Math.min(d*m+m,3840);if(3840===a&&3840===s)Wq(),n(sq(y,!0));else{if(3840===a&&s<3840){s-=e/t/100*s}if(3840===s&&a<3840){a-=t/e/100*a}const o=Math.round(a),i=Math.round(s);zq(o,i),n(sq(`${o}:${i}`,!0))}}else n(sq(y,!0))})),zq=(e,t)=>{const{dispatch:a}=Mu();a(oq(!0,Number(e),Number(t),!0))},Gq=()=>{const{state:e}=Mu(),{customOutputWidth:t}=e.studio,{customOutputHeight:a}=e.studio;(t>3840||a>3840)&&Wq()},Yq=PU.withUndoBatch((()=>{const{dispatch:e,state:t}=Mu(),{ratio:a}=t.studio,n=Gx(t),{hasCustomOutput:s}=t.studio,o=t.studio.customOutputWidth,i=t.studio.customOutputHeight,{ratioWidth:r,ratioHeight:l}=TK(a),d=Bq(n),c=d.right-d.left,u=d.bottom-d.top,p=c*o/100,m=u*i/100;e(sq(`${c*r}:${u*l}`,!0)),s&&zq(p,m);const g=[];for(const h of n){const e=h.position,t={position:{...e,x:100*(parseFloat(e.x)-d.left)/c+"%",y:100*(parseFloat(e.y)-d.top)/u+"%",width:100*parseFloat(e.width)/c+"%",height:100*parseFloat(e.height)/u+"%"}},a={...h,...t};g.push(a)}return e($A(g,0,!0)),g})),Kq=PU.withUndoBatch((()=>{const{dispatch:e,state:t}=Mu(),{ratio:a}=t.studio,n=Gx(t),{hasCustomOutput:s}=t.studio,o=t.studio.customOutputWidth,i=t.studio.customOutputHeight,{ratioWidth:r,ratioHeight:l}=TK(a),d=1.1*l;if(d/r>=100)return;if(e(sq(`${r}:${d}`,!0)),s){const e=Math.min(1.1*i,3840);if(3840===e){const t=(e-i)/i;zq(0===t?.9*o:o-o*t,e)}else zq(o,e)}const c=[];for(const u of n){const e=u.position,t={position:{...e,y:parseFloat(e.y)/1.1+"%",height:parseFloat(e.height)/1.1+"%"}},a={...u,...t};c.push(a)}e($A(c,0,!0))})),Xq=PU.withUndoBatch((()=>{const{dispatch:e,state:t}=Mu(),{ratio:a}=t.studio,n=Gx(t),{hasCustomOutput:s}=t.studio,o=t.studio.customOutputWidth,i=t.studio.customOutputHeight,r=t.studio.height,{ratioWidth:l,ratioHeight:d}=TK(a);if(1.1*d/l>=100)return;if(e(sq(`${l}:${1.1*d}`,!0)),s){const e=Math.min(1.1*i,3840);if(3840===e){const t=(e-i)/i;zq(0===t?.9*o:o-o*t,e)}else zq(o,e)}const c=[];for(const u of n){const e=u.position,t=1.1*r,a=100*(t-(r-parseFloat(e.y)/100*r))/t,n=parseFloat(e.height)/1.1,s={position:{...e,y:`${a}%`,height:`${n}%`}},o={...u,...s};c.push(o)}e($A(c,0,!0))})),Zq=PU.withUndoBatch((()=>{const{dispatch:e,state:t}=Mu(),{ratio:a}=t.studio,n=Gx(t),{hasCustomOutput:s}=t.studio,o=t.studio.customOutputWidth,i=t.studio.customOutputHeight,r=t.studio.width,{ratioWidth:l,ratioHeight:d}=TK(a),c=1.1*l;if(c/d>=100)return;e(sq(`${c}:${d}`,!0));let u=!1;if(s){const e=Math.min(1.1*o,3840);if(3840===e){u=!0;const t=(e-o)/o;zq(e,0===t?.9*i:i-i*t)}else zq(e,i)}const p=[];for(const m of n){const e=m.position,t=parseFloat(e.x),a=parseFloat(e.width),n=1.1*r,s=100*(n-(r-t/100*r))/n,o=u?a:a/1.1,i={position:{...e,x:`${s}%`,width:`${o}%`}},l={...m,...i};p.push(l)}e($A(p,0,!0))})),qq=PU.withUndoBatch((()=>{const{dispatch:e,state:t}=Mu(),{ratio:a}=t.studio,n=Gx(t),{hasCustomOutput:s}=t.studio,o=t.studio.customOutputWidth,i=t.studio.customOutputHeight,{ratioWidth:r,ratioHeight:l}=TK(a),d=1.1*r;if(d/l>=100)return;let c=!1;if(s){const e=Math.min(1.1*o,3840);if(3840===e){c=!0;const t=(e-o)/o;zq(e,0===t?.9*i:i-i*t)}else zq(e,i)}const u=[];for(const p of n){const e=p.position,t=parseFloat(e.width),a=c?t:t/1.1,n={position:{...e,x:parseFloat(e.x)/1.1+"%",width:`${a}%`}},s={...p,...n};u.push(s)}e(sq(`${d}:${l}`,!0)),e($A(u,0,!0))})),Jq=PU.withUndoBatch((({aspectRatioWidth:e,aspectRatioHeight:t,resizeMethod:a,resizeCanvasBlur:n,backgroundColorChanged:s,resizeOptionName:o,shouldSmartReframe:i})=>{var r,l;const{state:d,dispatch:c}=Mu(),{width:u,height:p,groups:m}=d.studio,g=Gx(d),h=u,v=p;if(zq(e,t),!h||!v)return;const f=(h/v).toFixed(2)!==(e/t).toFixed(2),b=g.filter((e=>!i||!cp(e))),{resizeLayerUpdates:y,resizeLayersToAddByLayerId:w,didSmartReframe:_,speakerFocusLayerUpdates:C}=oJ({aspectRatioHeight:t,aspectRatioWidth:e,resizeMethod:a,layers:b,prevCanvasHeight:v,prevCanvasWidth:h,shouldSmartReframe:i,visionJobByAssetId:d.vision.byAssetId,groups:m});if(Qq({ratioWidth:e,ratioHeight:t,undoable:!0,sendAmplitudeEvent:!0,newSizeSelected:o||void 0,fitOrFill:"fill"===a?"Fill and Crop":"Fit to Center",smartReframe:i,canvasBlur:n,backgroundColorChanged:s,aspectRatioChanged:f}),_&&c(vz({usedSmartReframe:!0})),Object.keys(y).length>0&&uk(y,"resizeCanvas",!0),Object.keys(C).length>0)for(const[I,A]of Object.entries(C))c(AK.UNSAFE_updateLayerDirectly({layerId:I,update:A}));Object.entries(w).forEach((([e,t])=>{const a=Mu().state.studio.allLayers.byId[e],n=a?a.depth:void 0;c(VA({layers:t,isUndoable:!0,layerDepth:n}))}));const S=JO(d);for(const{style:I,speakerId:A}of S){const a={...I,fontSize:uX({currentFontSize:I.fontSize,newRatio:{width:e,height:t},prevRatio:{width:h,height:v}})};c(A?Rz({speakerId:A,update:a,undoable:!0}):Nq({updates:{style:a}}))}for(const I of Object.keys((null==(r=d.studio.tetheredWaveforms)?void 0:r.byAssetId)||{})){const n=null==(l=d.studio.tetheredWaveforms)?void 0:l.byAssetId[I];if(null==n?void 0:n.position){const s=sJ({layer:{id:"waveform-layer",type:"audio",position:jA(n.position)},newRatio:{width:e,height:t},prevRatio:{width:h,height:v},resizeMethod:a}).position;c(pq.updateTetheredWaveform({assetId:I,update:{position:(x=s,{x:parseFloat(x.x),y:parseFloat(x.y),width:parseFloat(x.width),height:parseFloat(x.height),rotation:x.rotation??0})}}))}}var x;c({type:"SET_HAS_BEEN_RESIZED_BY_USER",hasBeenResizedByUser:!0}),c(kC.setLastUsedResizeValue({sourceRatio:`${h}:${v}`,targetRatio:`${e}:${t}`}))})),$q=(e,t,a,n)=>e/t==a/n,Qq=({ratioWidth:e,ratioHeight:t,undoable:a=!1,sendAmplitudeEvent:n=!1,newSizeSelected:s,fitOrFill:o,canvasBlur:i,backgroundColorChanged:r,smartReframe:l,aspectRatioChanged:d})=>{const{dispatch:c,state:u}=Mu(),p=u.studio.ratio,m=`${e}:${t}`;if(c(sq(m,a)),n){const e=new Set;for(const s of Gx(u)){const t=Hp(s,{mediaCacheState:u.mediaCache});s.type===Nc.Video&&t&&e.add(t)}const t={};for(const s of Gx(u))if("number"==typeof s.timelineRow){const e=`${s.timelineRow}`;t[e]=(t[e]||0)+1}const a=dY();let n=Gx(u);u.studio.duration>0&&(n=n.filter((e=>{const t=zC(e);return a>=t[0]&&a<t[1]}))),c(vz({usedCanvasResize:!0})),d&&ov("Canvas Resize",s&&o&&void 0!==i&&void 0!==r?{"Previous Aspect Ratio":p,"New Aspect Ratio":m,"New Size Selected":s,"Fit or Fill":o,"Smart Reframe":l,"Canvas Blur Applied":i,"Background Color Changed":r,"Number of Video Splits":Ep(u.studio),"Number of Layers":Gx(u).length,"Number of Layers Shown in Preview":n.length,"Number of Tracks Used":Object.keys(t).length,"Number of Video Input Files":e.size}:{"Previous Aspect Ratio":p,"New Aspect Ratio":m,"Number of Video Splits":Ep(u.studio),"Number of Layers":Gx(u).length,"Number of Layers Shown in Preview":n.length,"Number of Tracks Used":Object.keys(t).length,"Number of Video Input Files":e.size})}},eJ=(e,t,a)=>{const{dispatch:n}=Mu(),{width:s,height:o,...i}=((e,t,a)=>{const n=Fq(a||!1),s=Math.max(t.width-2*n,0),o=Math.max(t.height-2*n,0),{ratioWidth:i,ratioHeight:r}=TK(e),l=kK([i,r],{width:s,height:o}),d=lZ(t.width,t.height,0,0,l.width,l.height);return{width:l.width,height:l.height,canvasX:d.x,canvasY:d.y,containerX:t.x||0,containerY:t.y||0,containerWidth:t.width,containerHeight:t.height}})(e,t,a);n(function({width:e,height:t,undoable:a=!1}){return{type:"SET_STUDIO_DIMENSIONS",dimensions:{width:e,height:t},undoable:a}}({height:o,width:s})),n(Pq.updateCanvasDimensions({...i}))},tJ=e=>{const{dispatch:t}=Mu();t(tk(e))},aJ=()=>{const{state:e}=Mu();return e.studio.snapToGrid&&!e.studioLocal.commandIsBeingPressed&&!e.studioLocal.controlIsBeingPressed},nJ=e=>{const t=[/\/studio\/editor\/export-as-image.*/,/\/studio\/editor\/remove-background.*/];let a=!1;for(let n=0;n<t.length;n+=1){const s=t[n];if("string"==typeof s){if(eR(e)===s){a=!0;break}}else if(s instanceof RegExp&&s.test(e)){a=!0;break}}return!a};function sJ({layer:e,prevRatio:t,newRatio:a,resizeMethod:n,mainLayer:s,resizeAsMainLayer:o,parentPositions:i}){let l;if(s&&function(e){return"layer"in e&&"mainLayerResizedPosition"in e}(s))l=s;else if(s&&nX(s)){l={layer:s,mainLayerResizedPosition:gX({layer:s,newRatio:a,prevRatio:t,resizeMethod:n}).position}}if(l&&(l.layer.id===e.id||r.shallowEqual(l.layer.position,e.position))||o){const{position:s,crop:o}=gX({layer:e,newRatio:a,prevRatio:t,resizeMethod:n});return{position:s,crop:o}}const d=function({layer:e,newRatio:t,prevRatio:a,resizeMethod:n,mainLayer:s,parentPositions:o}){const{position:i}=e,{layer:r,mainLayerResizedPosition:l}=s||{},d=null==r?void 0:r.position;return"fit-to-center"===n&&d&&l?iX({innerBox:i,outerBox:d,outerResizedBox:l}):"shape"===e.type&&"progressBar"===e.shapeType?iX({innerBox:i,outerBox:cX,outerResizedBox:cX}):o&&!Ou(o.position,d)?iX({innerBox:i,outerBox:o.position,outerResizedBox:o.resizedPosition}):rX({position:i,newRatio:t,prevRatio:a})}({layer:e,newRatio:a,prevRatio:t,resizeMethod:n,mainLayer:l,parentPositions:i});return{position:d}}function oJ({aspectRatioHeight:e,aspectRatioWidth:t,resizeMethod:a,layers:n,prevCanvasHeight:s,prevCanvasWidth:o,shouldSmartReframe:i,visionJobByAssetId:r,groups:l}){var d;let c=!1;const u={},p={},m={},g={width:o,height:s},h={width:t,height:e},{mainLayerMap:v,defaultMainLayer:f}=vX({layers:n,prevRatio:g,newRatio:h,resizeMethod:a}),b={};n.forEach((e=>b[e.id]=e));const y=tX(Object.keys(b),l);((e,t)=>{e.sort(((e,a)=>{var n,s;const o=aX(e),i=aX(a);let r,l;if(r=o?lX(o,[]).position:null==(n=t[e])?void 0:n.position,l=i?lX(i,[]).position:null==(s=t[a])?void 0:s.position,!r||!l)return 0;const d=sX(r),c=sX(l);return d.width*d.height<c.width*c.height?1:d.width*d.height>c.width*c.height?-1:0}))})(y,b);for(const w of y){const e=l[w];if(e){const[t]=(null==e?void 0:e.layers.map((e=>b[e.id])).filter(vA))||[];let s;if(t){s=fX({mainLayerMap:v,defaultMainLayer:f,time:oX(t)})}mX({group:e,prevRatio:g,newRatio:h,layers:n,resizeMethod:a,resizeLayerUpdates:u,mainLayer:s});continue}const t=b[w];if(!t||!nX(t))continue;const s=fX({mainLayerMap:v,defaultMainLayer:f,time:oX(t)}),o=dX({layer:t,layers:n,resizeLayerUpdates:u}),{position:y,crop:_}=sJ({layer:t,prevRatio:g,newRatio:h,resizeMethod:a,mainLayer:s,parentPositions:o});if(u[t.id]=_?{position:y,crop:_}:{position:y},i&&PX(t)){c=!0;const e=BX({layer:t,aspectRatio:h.width/h.height,prevAspectRatio:g.width/g.height,visionJobOverride:t.asset_id?null==(d=r[t.asset_id])?void 0:d[ou.ObjectTrackingV2]:void 0});Object.assign(p,e.speakerFocusLayerUpdates),m[t.id]=e.speakerFocusLayersToAdd}else u[t.id]=_?{position:y,crop:_}:{position:y}}return{didSmartReframe:c,resizeLayerUpdates:u,resizeLayersToAddByLayerId:m,speakerFocusLayerUpdates:p}}const iJ=(e,t=!1)=>{const{state:a}=Mu(),{allLayers:n}=a.studio,s=dY();if(n.byId[e.id]&&!t)return;const{duration:o}=a.studio;if(s>o||!o)return;const{type:i,startTime:r=0,endTime:l=0}=e;switch(i){case"video":case"audio":case"persona":e.videoDelay=s;break;case"image":case"shape":case"text":case"placeholder":{const n=mK(a),i=Math.max(n?128/n:3,2);if(e.startTime=s,e.endTime=s+i,t){e.startTime||e.endTime?e.endTime=s+l-r:s===o&&(e.endTime=2*o)}break}}},rJ=e=>{if(function(e){return e.endsWith("-video")||e.endsWith("-audio")}(e)){const t=e.endsWith("-video")?jp:Np,a=rJ(TA(e));return a?t(a):null}return lJ(Mu().state,e)??null},lJ=u(((e,t)=>t),(e=>e.studio.allLayers.byId),(e=>e.studio.tetheredWaveforms),((e,t,a)=>_L({layerId:e,layersById:t,tetheredWaveforms:a}))),dJ=u((e=>e.studio.allLayers.byId),(e=>Object.values(e))),cJ=()=>dJ(Mu().state),uJ=(e,t)=>{const a=zC(e);return t>=a[0]&&t<=a[1]},pJ=e=>{const{state:t}=Mu(),{duration:a}=t,n=Gx(t);return a>0?n.filter((t=>uJ(t,e))):n},mJ=(e,t)=>{const a=ep(e)||np(e)||up(e),n=ep(t)||np(t)||up(t),s=a&&n,o=e.type===t.type;return s||o},gJ=e=>e>=0;function hJ(e){const{start:t}=bp(e),a=new Set;for(const n of function*(e){const{state:t}=Mu(),{selectedTimelineRows:a}=t.studio,n=Gx(t);for(const r of a)gJ(r)&&(yield r);const s=new Set,o=new Set;for(const r of n)null!=r.timelineRow&&r.timelineRow>=0&&!isNaN(r.timelineRow)&&(mJ(r,e)&&s.add(r.timelineRow),o.add(r.timelineRow));for(const r of[...s].sort())gJ(r)&&(yield r);const i=[...o].sort();if(o.size>0){i.length===i[i.length-1]+1&&(yield i.length);for(let e=0;e<i.length;e+=1)if(i[e]!==e){const t=e>0?i[e-1]+1:0;gJ(t)&&(yield t)}}yield i.length}(e))if(!a.has(n)){if(SJ(e,t,n))return n;a.add(n)}return 0}function vJ(e){const t={};return(e=>sN.has(e.type))(e)&&void 0===e.lockAspectRatio&&(t.lockAspectRatio=!0),t}function fJ(e,{undoable:t=!1,layerDepth:a,isReplacing:n=!1,knownTimelineRow:s=!1,newTimeline:o=!1,droppedTrackInfo:i}={}){var r,l;t&&PU.beginBatch();try{const{dispatch:d,state:c}=Mu(),{duration:u,hasCustomOutput:p,showCanvas:m}=c.studio,g=Gx(c),{isAdding:h}=c.studioLocal,v=ep(e)||np(e)||up(e);(v?void 0===e.videoDelay:!e.startTime&&0!==e.startTime)&&iJ(e);const f=Hp(e,{mediaCacheState:c.mediaCache,personaLayerHandling:"audio"}),b=f?c.assets.localAssetInfo[f]:void 0,y=(null==b?void 0:b.preview_local_url)||(null==b?void 0:b.local_url),w=["video","audio","image","persona"].includes(e.type);let _=!1;if(w&&(["pastedLink","local"].includes(e.source??"")||!y||!e.metadataGathered||EJ(e))){if(!m&&"width"in e&&e.width&&!n){const t=(null==(r=e.crop)?void 0:r.width)&&e.crop.width*e.width/100||e.width;let a=`${t}:${(null==(l=e.crop)?void 0:l.height)&&e.height&&e.crop.height*e.height/100||e.height}`;"resize"===e.uploadLocation&&(a="400:400"),e.isMediaLibraryUpload||(d(sq(a,!0)),d(SK({undoable:!0})),_=!0)}o&&xJ(e),"resize"===e.uploadLocation&&(e.lockAspectRatio=!0);(n&&!e.position||!n)&&"video"!==e.recordType&&"screen-video"!==e.recordType&&(_?e.position={x:"0%",y:"0%",rotation:0,width:"100%",height:"100%"}:e.position||(e.position=JR(e))),e.position&&!e.position.rotation&&(e.position.rotation=0),e.metadataGathered=!0,p&&kJ(e);const{studio:t}=c;e.name&&0===g.length&&!t.name&&d(LK(e.name))}!(0!==u||ep(e)||np(e)||up(e))||s&&null!=e.timelineRow||(e.timelineRow=hJ(e)),Object.assign(e,vJ(e)),$X(zB.Studio_UploadAFile),d(i?AK.trackDroppedOnTimeline({dropPosition:i.dndGhostTrackDropPosition,droppedLayer:e}):VA({layers:[e],isUndoable:t,layerDepth:a})),e.asset_id&&h[e.asset_id]&&d(Aj({assetId:e.asset_id,value:!1}));const{videoType:C,videoTypeSetting:S}=Mu().state.studio,x=Gx(Mu().state),{duration:I}=rA(Mu().state.studio,x,nA(c.studio)),A=x.some((e=>!mp(e)&&!wJ(e))),k=HC(e,c,{personaLayerHandling:"video"});A||!(e.mime&&(e.mime.includes("gif")||e.mime.includes("webp"))||(null==k?void 0:k.url)&&("gif"===Kh(k.url)||"webp"===Kh(k.url)))||S||d(yz(md.GIF)),"gif"!==C||mp(e)||S||e.conversion_type&&e.conversion_type.includes("gif")||d(yz(md.MP4)),UJ(x,I,t)}catch(b9e){console.error(b9e)}finally{t&&PU.endBatch()}}const bJ=({newLayer:e,replacedLayer:t,addLayerOptions:a,mediaSource:n,entryPoint:s,useNewLayerLength:o})=>{const{undoable:i=!1}=a||{};s&&(({mediaSource:e,entryPoint:t})=>{ov("Replace Layer",{"Media Popover Source":e,"Entry Point":t})})({mediaSource:n,entryPoint:s}),console.assert(t.id!==e.id,"replacedLayer and newLayer should not share an id");const{dispatch:r}=Mu();r(AK.replaceLayer({newLayer:e,replacedLayerId:t.id,useNewLayerLength:o,undoable:i})),e.asset_id&&RJ(e.asset_id,!1);const l=rJ(e.id);if(!l)throw new Error("Layer not found after replacing");return l},yJ=({newLayer:e,options:t,replaceInfo:a})=>{if(a){const{idOfLayerToReplace:n,entryPoint:s,mediaSource:o}=a,{allLayers:i}=Mu().state.studio,r=i.byId[n];if(r){return bJ({newLayer:e,replacedLayer:r,addLayerOptions:t,entryPoint:s,mediaSource:o})}}return fJ(e,t),e},wJ=e=>e.conversion_type&&e.conversion_type.includes("gif-to"),_J=u(Gx,((e=[])=>{const{state:t}=Mu();return e.filter((e=>{var a;return!(e.requireConversion&&!(null==(a=HC(e,t))?void 0:a.preview)&&null==e.duration)}))})),CJ=u(_J,((e,t)=>t),((e,t)=>{const a=[];for(const n of e)n.timelineRow===t&&a.push(n);return a}));function SJ(e,t,a){const{state:n}=Mu(),s=CJ(n,a);if(!n.studio.duration)return 0===s.length;const[o,i]=zC(e);let r;r=(ep(e)||np(e))&&null==e.duration?1/0:t+(i-o);for(const l of s){const[e,a]=zC(l);if(!(a<=t)&&!(e>=r))return!1}return!0}const xJ=e=>{const{state:t}=Mu(),{width:a,height:n}=IJ(e.width,e.height),{x:s,y:o}=lZ(t.studio.width,t.studio.height,t.studioSizing.canvasX,t.studioSizing.canvasY,a,n);AJ(e,{x:s,y:o,width:a,height:n,rotation:0,flip:{x:!1,y:!1}})},IJ=(e,t)=>{const{state:a}=Mu(),n=[e,t],{width:s,height:o}=kK(n,{width:a.studio.width,height:a.studio.height});return{width:s,height:o}},AJ=(e,t,a=!1)=>{const{dispatch:n}=Mu(),s=XR(t.x,t.y),o=GR(t.width,t.height);Vj(e.id,{positionTemp:null}),n(zA(e.id,s.xPercent,s.yPercent,o.widthPercent,o.heightPercent,a)),n(KA(e.id,t.rotation,a))},kJ=e=>{const{state:t}=Mu(),{customOutputWidth:a}=t.studio,{customOutputHeight:n}=t.studio;(a>3840||n>3840)&&("video"===e.type||"persona"===e.type||e.mime&&"gif"===e.mime.split("/")[1])&&Wq()},TJ=PU.withUndoBatch(((e,t,a)=>{const{dispatch:n,state:s}=Mu(),{ratio:o}=s.studio,{ratioWidth:i,ratioHeight:r}=TK(o),{width:l,height:d}=s.studio,c=Gx(s),u={w:UR(100*i/r),h:UR(100*r/i)},p={x:UR((l-d)/2/d*-100),y:UR((d-l)/2/l*-100)},m=1===c.length;a.forEach((a=>{var s,o,l,d,c;const g={x:UR(null==(s=a.position)?void 0:s.x),y:UR(null==(o=a.position)?void 0:o.y),width:UR(null==(l=a.position)?void 0:l.width),height:UR(null==(d=a.position)?void 0:d.height),x90:UR(p.x),y90:UR(p.y),width90:UR(u.w),height90:UR(u.h)};m&&((null==(c=a.position)?void 0:c.rotation)??0)%90==0&&(100===Math.round(g.width)&&100===Math.round(g.height)&&0===Math.round(g.x)&&0===Math.round(g.y)||g.width===g.height90&&g.height===g.width90&&g.x===g.y90&&g.y===g.x90)&&e%90==0&&(Qq({ratioWidth:r,ratioHeight:i}),Wq(),90!==e&&270!==e||(Vj(a.id,{positionTemp:null}),n(zA(a.id,`${g.x90}%`,`${g.y90}%`,`${g.width90}%`,`${g.height90}%`))),0!==e&&180!==e||(Vj(a.id,{positionTemp:null}),n(zA(a.id,"0%","0%","100%","100%")))),n(KA(a.id,e,t))}))})),EJ=e=>{const t=rJ(e.id);return null==t||!t.position||Object.keys(t.position).some((e=>{const a=e,n=t.position[a];return"string"==typeof n&&n.includes("NaN")}))},LJ=e=>{var t,a,n;return[...(null==(t=e.animation)?void 0:t.intro)||[],...(null==(a=e.animation)?void 0:a.outro)||[],...(null==(n=e.animation)?void 0:n.constant)||[]]},jJ=PU.withUndoBatch((({layerIds:e,undoable:t=!0,logEvent:a=!1,forceRipple:n})=>{const{dispatch:s,state:o}=Mu(),{byId:i}=o.studio.allLayers,r=new Set(e),l=new Set;let d=!1;const c=[];r.forEach((e=>{var t;const a=i[e];a&&(c.push(a),!d&&((e,t)=>{var a;return(null==(a=e.mime)?void 0:a.includes("gif"))||t&&"gif"===Kh(t)})(a,null==(t=HC(a,o))?void 0:t.url)&&(d=!0),a.isPersona?a.audio_asset_id&&l.add(a.audio_asset_id):a.asset_id&&l.add(a.asset_id))})),Object.keys(i).forEach((e=>{if(r.has(e))return;const t=i[e];(null==t?void 0:t.asset_id)&&l.has(t.asset_id)&&l.delete(t.asset_id)}));const u=Wz(Array.from(l));(null==u?void 0:u.length)&&s(Lz({speakerIds:u,undoable:t})),d||s(yz(md.MP4)),s(function({layers:e,source:t,forceRipple:a,undoable:n}){return{type:"REMOVE_LAYERS",layers:e,source:t,undoable:n,forceRipple:a}}({layers:c,source:"studioDeleteLayersById",undoable:t,forceRipple:n}))})),RJ=(e,t)=>{const{dispatch:a}=Mu();a(Aj({assetId:e,value:t}))},NJ=PU.withUndoBatch((e=>{const{dispatch:t}=Mu();e.forEach((e=>t(XA(e,"x",!0))))})),MJ=PU.withUndoBatch((e=>{const{dispatch:t}=Mu();e.forEach((e=>t(XA(e,"y",!0))))})),PJ=PU.withUndoBatch(((e,t,a)=>{const n={},s={};e.forEach((e=>{const o={relative:`${t}%`};a?(s[e.id]={borderRadiusTemp:null},n[e.id]={borderRadius:o}):s[e.id]={borderRadiusTemp:o}})),r.batch((()=>{uk(n,"layers.ts",!0),Hj(s)}))})),FJ=PU.withUndoBatch(((e,t,a)=>{const n={},s={};e.forEach((e=>{a?(s[e.id]={textPaddingTemp:null},n[e.id]={textPadding:t}):s[e.id]={textPaddingTemp:t}})),r.batch((()=>{uk(n,"layers.ts",!0),Hj(s)}))})),DJ=e=>{const{dispatch:t}=Mu(),a=rJ(e)??(e=>gL(Mu().state,e))(e);a&&Oc(a)?t(pq.updateTetheredWaveform({assetId:nL(a)??a.asset_id,update:{locked:!a.locked}})):a&&uk({[a.id]:{locked:!a.locked}},"layers.ts",!0),(null==a?void 0:a.locked)||t(ck(null))};function OJ(){const{state:e}=Mu(),t=Gx(e),{duration:a}=rA(e.studio,t,nA(e.studio));UJ(t,a,!0)}function UJ(e,t,a){WJ();const n=t>0,s=[];for(const o of e){const e=!(!o.startTime&&!o.endTime);mp(o)&&(null==o.endTime&&n||null==o.startTime&&n||e!==n)&&s.push(o.id)}Mu().dispatch(AK.changeStaticLayersDuration({layerIds:s,newDuration:t,noMontage:!0,undoable:a}))}const BJ=PU.withUndoBatch(((e=!0)=>{const{state:t,dispatch:a}=Mu(),{hasCustomOutput:n}=t.studio,s=(()=>{const{state:e}=Mu();let{duration:t}=e.studio;t=t||0;const a=t.toString();if(a.match(/^(\d*\.*\d+|\.\d)$/))return parseFloat(a);if(a.match(/^(\d+):(\d+)$/)){const e=a.match(/^(\d+):(\d+)$/);if(e&&parseInt(e[2]??"",10)<60)return 60*Number(e[1])+parseInt(e[2]??"",10)}return-1})();WJ();const{videoTypeSetting:o}=t.studio,i=Gx(t);s&&UJ(i,s,!0),a(IK({userSetDuration:e,duration:s,undoable:!0})),(null==i?void 0:i.length)&&s||a(xK(!1)),(!o||o&&"gif"!==o)&&a(yz(md.MP4)),n&&Gq()}));function WJ(){const{state:e,dispatch:t}=Mu(),a=Gx(e);e.studio.duration&&(r.batch((()=>{for(const e of a){if(null!=e.timelineRow)continue;const a=hJ(e);e.timelineRow!==a&&t(AK.UNSAFE_updateLayerDirectly({layerId:e.id,update:{timelineRow:a}}))}})),e.studioLocal.staticUploadIds.length&&t(bj([])))}const VJ=e=>{var t;return!!(null==(t=e.elementPool.byElementPoolId[tB.studio])?void 0:t.paused)},HJ=(e,t)=>{var a;return!!(null==(a=e.elementPool.byElementPoolId[t])?void 0:a.paused)};function zJ(){const{state:e,dispatch:t}=Mu();e.studioLocal.mouseState&&VJ(e)||t(nB.actions.togglePaused({}))}function GJ(){const{state:e}=Mu();VJ(e)||zJ()}function YJ(){const{state:e}=Mu();VJ(e)&&zJ()}function KJ(e,t=null){const a=(null==t?void 0:t.id)||tB.studio,{state:n}=Mu();HJ(n,a)?JJ({elementPoolId:a,time:e}):t?t.setEPTime(e):cY(e)}const XJ=e=>{const{state:t,dispatch:a}=Mu(),{start:n}=bp(e,t.studio.duration),s=n;KJ(s),setTimeout((()=>{a(oB())}),20),a(iB({time:s}))},ZJ=e=>!!(e=>{const{state:t}=Mu(),a=Gx(t),n=rA(t.studio,a,nA(t.studio)).duration,s=dY();return e.filter((e=>{const[t,a]=zC(e),o=t<=s&&s<=a,i=BC(n)<=s&&VC(a,n,.03333333333333333);return o||i}))})([e]).length,qJ=()=>{const{state:e,dispatch:t}=Mu();t(uj(!e.studioLocal.previewPlaying))},JJ=({elementPoolId:e=tB.studio,time:t})=>{const{dispatch:a}=Mu();r.batch((()=>{"number"!=typeof t?a(iB({elementPoolId:e,time:dY()})):(a(iB({elementPoolId:e,time:t})),cY(t))}))},$J=PU.withUndoBatch(((e,t)=>{var a;const{dispatch:n}=Mu(),s=t.type;if("none"===s)return;const o=rJ(e);if(!o)return;const i=fe(12),r=i$([o]);if(!r)return;const l=Math.min(t.transitionDuration||(null==(a=Lk[t.id])?void 0:a.duration)||.5,r),d={animationName:t.id,id:i,layerId:o.id,isCrossTransition:!1,transitionDuration:l,movingZoomOptions:t.movingZoomOptions};n(AK.applyAnimation({animation:d,layerId:e,type:s}))})),QJ=PU.withUndoBatch(((e,t)=>{var a,n;const{dispatch:s}=Mu(),o=rJ(e);if(!o)return;const i=null==(n=null==(a=o.animation)?void 0:a[t])?void 0:n[0];i&&s(AK.deleteAnimation({animationId:i}))}));function e$(e){return u(Gx,((t=[])=>{var a;const n={};for(const s of t){const t=null==(a=s.animation)?void 0:a[e];if(t)for(const e of t)n[e]=s}return n}))}const t$=e$("intro"),a$=e$("outro"),n$=PU.withUndoBatch((e=>{const{dispatch:t}=Mu();t(AK.deleteAnimation({animationId:e}))})),s$=()=>{Mu().dispatch(ek(null))},o$=PU.withUndoBatch(((e,t,a)=>{const{state:n}=Mu(),s=rJ(e);if(!s)return void console.error("Could not find layer to add cross transition to");const o=LT(s),i="intro"===t?o.introTransition:o.outroTransition;if((null==i?void 0:i.transitionId)===a.id)return;let r,l;if(i){let e;e=s.id===i.introLayerId?rJ(i.outroLayerId):rJ(i.introLayerId),e&&([r,l]="intro"===t?[s,e]:[e,s])}if(!r||!l){const e=Gx(n),a=n.studio.duration,{nextLayer:o,prevLayer:i}=u$(s,e,a);[r,l]="intro"===t?[s,i]:[o,s]}(r||l)&&(r=r||vL,l=l||vL,Mu().dispatch(AK.applyTransition({leftLayerId:l.id,rightLayerId:r.id,transition:a})))})),i$=e=>{const t=(a=e.reduce(((e,t)=>{if(!t)return e;if(bL(t))return e;const{start:a,end:n}=bp(t),s=n-a;return Math.min(e,s)}),8)/2,Math.round(10*a)/10);var a;return t<.1?null:t},r$=PU.withUndoBatch(((e,t)=>{const{dispatch:a}=Mu();a(BA(e,{transitionDuration:t}))})),l$=PU.withUndoBatch(((e,t)=>{const{dispatch:a}=Mu();a(AK.changeTransitionDuration({animationId:e,duration:t}))})),d$=PU.withUndoBatch(((e,t,a)=>{const{dispatch:n}=Mu(),s=e.animation,o=null==s?void 0:s[t];if(!o)return;const i=o[0];i&&n(BA(i,{animationName:a}))})),c$=e=>{const{dispatch:t,state:a}=Mu(),n=a.studio.duration,s=[];if(e.forEach((e=>{const t=rJ(e);if(!t)return;const o=TT(t),{start:i,end:r}=bp(t,n);o.forEach((e=>{if(e.id!==Mc.None)if("intro"===e.type||"constant"===e.type)s.push(i);else if("outro"===e.type){const t=Wk(e,a.studio.animations);s.push(r-t)}}))})),0===s.length)return;s.sort(((e,t)=>e-t));const o=s[0];JJ({time:o}),t(oB())},u$=(e,t,a)=>{if(!e)return{};let{start:n,end:s}=bp(e,a);const{introTransition:o,outroTransition:i}=LT(e),r=null==o?void 0:o.introLayerId,l=null==i?void 0:i.outroLayerId;let d,c;const u=vK(t,e);for(const p of u){if(p.id===e.id)continue;let{start:t,end:o}=bp(p,a);n=parseFloat(n.toFixed(2)),s=parseFloat(s.toFixed(2)),t=parseFloat(t.toFixed(2)),o=parseFloat(o.toFixed(2));const i=dT.includes(p.type);if((i&&t===s||l===p.id||Math.abs(t-s)<=.5)&&(c=p,d))break;if((i&&o===n||r===p.id||Math.abs(o-n)<=.5)&&(d=p,c))break}return{prevLayer:d,nextLayer:c}};function p$(e,t,a){if(!t||!a)return!0;const n=e.studio.duration,{start:s,end:o}=bp(t,n),{start:i,end:r}=bp(a,n);return null==t.timelineRow||t.timelineRow!==a.timelineRow||(s>=r||i>=o)}const m$=PU.withUndoBatch((e=>{var t,a,n,s;const{state:o}=Mu(),i=e?[e]:Gx(o);for(const l of i){const{animation:e}=l;if(e){if(e.intro)for(const t of e.intro){const e=CT(t,o.studio.animations);if(!e||!e.isCrossTransition)continue;if(fL(e.outroLayerId))continue;p$(o,a$(o)[t],l)&&n$(t)}if(e.outro)for(const t of e.outro){const e=CT(t,o.studio.animations);if(!e||!e.isCrossTransition)continue;if(fL(e.introLayerId))continue;p$(o,l,t$(o)[t])&&n$(t)}}}const{animations:r}=o.studio;for(const l of Object.values((null==r?void 0:r.byId)??[])){if(!l.isCrossTransition)continue;const{introLayerId:e,outroLayerId:o}=l;let i=!1;if(!fL(e)){const n=rJ(e);(null==(a=null==(t=null==n?void 0:n.animation)?void 0:t.intro)?void 0:a.includes(l.id))||(i=!0)}if(!fL(o)){const e=rJ(o);(null==(s=null==(n=null==e?void 0:e.animation)?void 0:n.outro)?void 0:s.includes(l.id))||(i=!0)}i&&n$(l.id)}})),g$=e=>!!e&&e.id!==Mc.None,h$=e=>!(e=>!!e.isCrossTransition)(e),v$=(e,t)=>{const a=g$(e),n=g$(t);return a&&n?"both":a?"intro":n?"outro":null},f$=e=>{switch(e){case"both":return["intro","outro"];case"intro":return["intro"];case"outro":return["outro"];default:return[]}},b$=["intro","outro"],y$=PU.withUndoBatch(((e,t,a)=>{const{state:n,dispatch:s}=Mu(),o=n.studio.animations;let i=n.studio.duration;if(n.studio.duration||(i=10,s(IK({duration:i,userSetDuration:!0,userSelectedDuration:i,undoable:!0})),BJ(),s(SK())),t.id===Mc.None)return e.forEach((e=>{b$.forEach((t=>{const a=ET(e,t,o);a&&a.transitionId&&a.animationStateMapId?n$(a.animationStateMapId):QJ(e.id,t)}))})),{isNewTransition:!1};const r=h$(t);let l=!0;for(const d of e)for(const e of b$){const t=ET(d,e,o);t&&(l=!1),t&&t.transitionId&&t.animationStateMapId?n$(t.animationStateMapId):QJ(d.id,e)}for(const d of e)r?b$.forEach((e=>{if("both"!==a&&a!==e)return;const n=ET(d,e,o),s={...t};n&&(s.transitionDuration=n.transitionDuration),s.type=e,$J(d.id,s)})):(["intro","both"].includes(a)&&o$(d.id,"intro",t),["outro","both"].includes(a)&&o$(d.id,"outro",t));return{isNewTransition:l}})),w$=u((e=>e.studio.groups),(e=>{const t={};return Object.entries(e).forEach((([e,a])=>{a.layers.forEach((({id:n})=>{if(!a.saved)return;t[n]||(t[n]={groupId:e,group:a})}))})),t})),_$=u(w$,((e,t)=>t),((e,t)=>e[t])),C$=e=>_$(Mu().state,e.id),S$=m({initialState:{},name:"singleTimePopups",reducers:{hidePopup:(e,t)=>{e[t.payload]=!1},showPopup:(e,t)=>{e[t.payload]=!0}}}),{hidePopup:x$,showPopup:I$}=S$.actions,A$=u(((e,t)=>t),(e=>e.studio.allLayers.byId),dU,w$,((e,t,a,n)=>{const s=new Set;Object.values(t).forEach((t=>{k$({layer:t,time:e})&&s.add(t.id)}));const o=[...s].map((e=>t[e])).filter(vA),i=o.filter((e=>a.some((t=>t.id===e.id)))),[r,...l]=o,d=r?n[r.id]:void 0,c=d&&l.every((e=>{var t;return(null==(t=n[e.id])?void 0:t.groupId)===(null==d?void 0:d.groupId)}));return a.length&&i.length?i:o.length&&(o.length<2||c)?o:[]})),k$=({layer:e,time:t})=>{const{start:a,end:n}=bp(e);return T$(a,t,n)},T$=(e,t,a)=>!(t-e<.001)&&!(a-t<.001);function E$(e){var t;try{const{state:a}=Mu();if(!!!a.currentUser.user._id)return;if(null==(t=a.currentUser.user.shownPopups)?void 0:t[Gc.transcriptTabTrim])return;if(Ep(a.studio)<3)return;if(!kD(e))return;const n=Object.values(a.assetTranscriptions.byId).flatMap((e=>Object.values(e||{}))).some((e=>"completed"===(null==e?void 0:e.state)));Mu().dispatch(I$(Gc.transcriptTabTrim)),OP(Gc.transcriptTabTrim),ov("Trim with Transcript - Showed Suggestive Popup",{hasTranscriptReady:n})}catch(a){console.error(a),l(a)}}const L$=PU.withUndoBatch((()=>{var e;const{state:t,dispatch:a}=Mu(),{studio:n}=t,{selectedItem:s,groups:o}=n,{trackIsDragging:i}=t.studioLocal,r=dY();if(0===t.studio.duration)return;const l=(e=>A$(Mu().state,e))(r);if(i)return;if(0===l.length)return void a(db({description:"No layer selected. Select the layer that you want to split",type:"warning"}));const d="layer"===(null==s?void 0:s.type),c=d?rJ(s.id):null,u=!!c&&!!C$(c),p="group"===(null==s?void 0:s.type)&&!!(null==(e=o[s.id])?void 0:e.saved);let m;for(const g of l)m=g.id,a(AK.splitLayer({layerId:g.id,sceneTime:r,disableRipple:d&&u})),g.type===Nc.Video&&iv(),g.type!==Nc.Video&&g.type!==Nc.Audio||E$(g);if(m)if(1===l.length)a(ck({type:"layer",id:m}));else{const e=rJ(m);if(e){const t=C$(e);t&&a(ck({type:"group",id:t.groupId}))}}ov("Split Layers",{numOfLayersSplit:l.length,wasSavedGroup:p})})),j$=()=>{const{state:e}=Mu(),t=dU(e);let a=0,n=0;for(const s of t)s.isHidden?a+=1:n+=1;return a>n},R$=PU.withUndoBatch((()=>{const{dispatch:e,state:t}=Mu(),a=dU(t);if(0===a.length)return;const n=j$(),s=a.map((e=>[e.id,{isHidden:!n}])),o=Object.fromEntries(s),i=t.studio.animations.byId;for(const r of a){if(!r.animation)continue;const e=[...r.animation.intro||[],...r.animation.outro||[]];for(const s of e){const e=i[s];if(!e)continue;if(!e.isCrossTransition)continue;const{introLayerId:r}=e,{outroLayerId:l}=e,d=[r,l];for(const s of d){if(s in o)continue;const e=t.studio.allLayers.byId[s];e&&(a.push(e),o[s]={isHidden:!n})}}}e(QA(o,"hideLayers",!0))})),N$=PU.withUndoBatch((()=>{var e;const{dispatch:t}=Mu(),a=null==(e=Mu().state.studio.magicSubtitlesGlobal)?void 0:e.isHidden;ov(a?"Show Magic Subtitles":"Hide Magic Subtitles"),t(Nq({updates:{isHidden:!a}}))})),M$=(e,t)=>{const a=e[t],n="string"==typeof a?parseFloat(a):a;JJ({time:n})},P$=c.throttle(M$,100),F$=c.throttle((e=>{const t=Math.max(0,e);M$([t],0)}),30);function D$(e){const{dispatch:t,state:a}=Mu();if(e)t(fj(null));else{const e=dY(),n=mK(a),s=n?eK(n,e):0;t(fj(s))}}const O$=()=>{const{state:e}=Mu(),{selectedItem:t,timelineGap:a}=e.studio;return"gap"===(null==t?void 0:t.type)&&(!(!a||a.gapId!==t.id)&&t.id)},U$=(e,t,a)=>{var n;const{state:s,dispatch:o}=Mu(),i=mK(s),r=s.timelineStyles.timelineContainerWidth,l=(null==(n=s.projectSessionSettings.timelinePosition)?void 0:n.timelineScrollLeft)||0,d=document.querySelector("#timeline-trackpad-container");if(d&&i&&r){const n=eK(i,e);if(!(n>l&&n<l+r)||a){const e=n-.3*r;o(Dh({timelineScrollLeft:e,timelineScrollTop:t||0})),d.scrollTo({left:e,top:t||0,behavior:"smooth"})}}},B$=()=>{const{state:e,dispatch:t}=Mu();if(!e.isMobile)return;(e.studioLocal.userSpecifiedMobileTrayHeight??0)<55&&t(wj(55))},W$=(e,t)=>!(!e||!t)&&(!(!Oc(e)||!Oc(t))&&nL(e)===nL(t)),V$=()=>Z$(Mu().state),H$=()=>q$(Mu().state),z$=e=>J$(Mu().state,e.id),G$=e=>$$(Mu().state,e.id),Y$=e=>X$(Mu().state,e),K$=u(Gx,(e=>{var t;return null==(t=e.studio.tetheredWaveforms)?void 0:t.byAssetId}),((e,t)=>{const a=Object.entries(t??{}).map((([t,a])=>{if(!a.enabled)return;const n=e.find((e=>e.asset_id===t));return n?DA({assetId:t,waveformInfo:a,layer:n}):void 0})).filter(vA);return[...e,...a].sort(((e,t)=>Tp(e.depth,t.depth)))})),X$=u(((e,t)=>t),(e=>e.studio.allLayers.byId),((e,t)=>e.layers.map((e=>t[e.id])).filter(vA).sort(((e,t)=>Tp(e.depth,t.depth))))),Z$=u(K$,(e=>KY(e))),q$=u(K$,(e=>XY(e))),J$=u(((e,t)=>t),K$,((e,t)=>{const a=t.findIndex((t=>t.id===e));return t[a+1]})),$$=u(((e,t)=>t),K$,((e,t)=>{const a=t.findIndex((t=>t.id===e));return t[a-1]})),Q$=u(((e,t)=>t),Z$,w$,(e=>e),((e,t,a,n)=>{if(!e||!t)return!1;const s=a[e.id];if(s){const t=X$(n,s.group),a=KY(t);return!((null==a?void 0:a.id)===e.id||W$(e,a))}return!(t.id===e.id||W$(e,t))})),eQ=e=>Q$(Mu().state,e),tQ=u(((e,t)=>t),q$,w$,(e=>e),((e,t,a,n)=>{if(!e||!t)return!1;const s=a[e.id];if(s){const t=X$(n,s.group),a=XY(t);return!((null==a?void 0:a.id)===e.id||W$(e,a))}return!(t.id===e.id||W$(e,t))})),aQ=e=>tQ(Mu().state,e),nQ=u(((e,t)=>X$(e,t)),Z$,((e,t)=>{if(!t)return!1;const a=KY(e);return!((null==a?void 0:a.id)===t.id||W$(t,a))})),sQ=e=>nQ(Mu().state,e),oQ=u(((e,t)=>X$(e,t)),q$,((e,t)=>{if(!t)return!1;const a=XY(e);return!((null==a?void 0:a.id)===t.id||W$(t,a))})),iQ=e=>oQ(Mu().state,e),rQ=({layer:e,undoable:t=!0})=>{if(!eQ(e))return;const a=C$(e),n=z$(e),s=n?C$(n):void 0,o=(()=>{if(s&&(null==a?void 0:a.groupId)!==s.groupId){const e=Y$(s.group),t=KY(e);if(t)return t.depth}else if(n)return n.depth})(),i=pQ({comparisonDepth:o,targetDepthDirection:"ahead"});if(Oc(e)){const t=nL(e);t&&Mu().dispatch(pq.updateTetheredWaveform({assetId:t,update:{depth:i}}))}else uk({[e.id]:{depth:i}},"studioMoveLayerForward",t)},lQ=({layer:e,undoable:t=!0})=>{if(!aQ(e))return;const a=C$(e),n=G$(e),s=n?C$(n):void 0,o=(()=>{if(s&&(null==a?void 0:a.groupId)!==s.groupId){const e=Y$(s.group),t=XY(e);if(t)return t.depth}else if(n)return n.depth})(),i=pQ({comparisonDepth:o,targetDepthDirection:"behind"});if(Oc(e)){const t=nL(e);t&&Mu().dispatch(pq.updateTetheredWaveform({assetId:t,update:{depth:i}}))}else uk({[e.id]:{depth:i}},"studioMoveLayerBackward",t)},dQ=({layer:e,undoable:t=!0})=>{if(!eQ(e))return;const a=C$(e),n=a?KY(Y$(a.group)):V$();if(!n)throw new Error("Could not find layer at front.");const s=pQ({comparisonDepth:n.depth,targetDepthDirection:"ahead"});if(Oc(e)){const t=nL(e);t&&Mu().dispatch(pq.updateTetheredWaveform({assetId:t,update:{depth:s}}))}else uk({[e.id]:{depth:s}},"studioMoveLayerToFront",t)},cQ=({layer:e,undoable:t=!0})=>{if(!aQ(e))return;const a=C$(e),n=a?XY(Y$(a.group)):H$();if(!n)throw new Error("Could not find layer at back.");const s=pQ({comparisonDepth:n.depth,targetDepthDirection:"behind"});if(Oc(e)){const t=nL(e);t&&Mu().dispatch(pq.updateTetheredWaveform({assetId:t,update:{depth:s}}))}else uk({[e.id]:{depth:s}},"studioMoveLayerToBack",t)},uQ=({comparisonDepth:e,targetDepthDirection:t,count:a})=>{var n;const{state:s}=Mu(),o=null==(n=s.studio.tetheredWaveforms)?void 0:n.byAssetId;return GY({existingLayers:s.studio.allLayers.byId,tetheredWaveformsByAssetId:o,comparisonDepth:e,targetDepthDirection:t,count:a})},pQ=({comparisonDepth:e,targetDepthDirection:t})=>{const a=uQ({comparisonDepth:e,targetDepthDirection:t,count:1})[0];if(void 0===a)throw new Error("Could not generate layer depth.");return a};function mQ(e,t){const a=nL(e);a&&(Mu().dispatch(pq.addTetheredWaveform({assetId:a,initialProperties:{...t,depth:pQ({comparisonDepth:void 0,targetDepthDirection:"ahead"})}})),Mu().dispatch(ck({type:"waveform",assetId:a,id:FA(e.id)})),ov("Add Audiogram",{layerType:e.type}))}function gQ(e){const t=nL(e);t&&Mu().dispatch(pq.removeTetheredWaveform({assetId:t}))}let hQ=null;const vQ=({layer:e,time:t,overlapErrorThreshold:a=.01,studio:n})=>{const s=n.allLayers.byId,{end:o}=bp(e);let i=o;const{outroTransition:r}=LT(e,n.animations);if(r){if(s[r.introLayerId]){const{start:t}=bp(e);i=t}}return i<=t+a};function fQ(e){let t=1;const a=Object.values(e).map((e=>e.name?Number(e.name.split(" ")[1]):0)).sort(((e,t)=>t-e))[0];a&&(t=a+1);return`Group ${t}`}function bQ(e){return"oi"in e&&!("od"in e)}function yQ(e){return"od"in e&&!("oi"in e)}function wQ(e){return"od"in e&&"oi"in e}function _Q(e,t){const a=e.path,n=a.slice(0,-1);if(Array.isArray(c.get(t,n)))return{type:"list",path:n};switch(e.op){case"replace":return{type:"op",op:{p:a,oi:e.value,od:c.get(t,a)}};case"add":return void 0===e.value?{type:"ignore"}:{type:"op",op:{p:a,oi:e.value}};case"remove":return void 0===c.get(t,a)?{type:"ignore"}:{type:"op",op:{p:a,od:c.get(t,a)}}}}function CQ({newState:e,oldState:t,patches:a}){const n=new Set,s=[];for(const o of a){const a=_Q(o,t);if("ignore"!==a.type)if("list"!==a.type)s.push(a.op);else{const o=a.path.join(".");if(n.has(o))continue;n.add(o),s.push({p:a.path,oi:c.get(e,a.path),od:c.get(t,a.path)})}}return s}const SQ=({beforeTrimEndTime:e,currentEndTime:t,shift:a})=>{const n=e+a;if(e<t){if(n<=t)return 0;return a-(t-e)}if(e>t){if(n>=t)return 0;return a+(e-t)}return a},xQ=!!kl;Ae();const IQ=e=>e>0?"right":"left";class AQ{constructor(e,t,n){a(this,"oldState"),a(this,"state"),a(this,"groupRippledLayers",new Set),a(this,"modifiedLayers",new Set),a(this,"srcFn"),a(this,"undoable"),a(this,"rippleModeSetting"),a(this,"forceRowRippling",!1),a(this,"readOnly"),a(this,"__debug",{state:()=>JSON.parse(JSON.stringify(this.state)),layers:()=>Object.values(this.__debug.state().allLayers.byId),layerTimes:()=>Object.values(this.__debug.state().allLayers.byId).map((e=>{const t=this.getLayerTimelineTimes(e);return{id:e.id,s:t.start,e:t.end,r:e.timelineRow}})),logging:{logChanges:!1,includeLayerTimes:!0}}),a(this,"logCounter",1),this.oldState=e,this.state=(null==n?void 0:n.readOnly)?c.cloneDeep(e):ke(e),this.srcFn=t,this.undoable=(null==n?void 0:n.undoable)??!0,this.rippleModeSetting=(null==n?void 0:n.ripple)??pK(window.state),this.readOnly=(null==n?void 0:n.readOnly)??!1,(null==n?void 0:n.enableDebugLogging)&&(this.__debug.logging.logChanges=!0),this.shouldLogAtAll()&&this.log(`start: ripple=${this.rippleModeSetting}`),this.updateVideoDuration()}shouldRowRipple(){return this.rippleModeSetting||this.forceRowRippling}throw(e,t){throw new $v(e,{extra:t.extra,tags:{srcFn:this.srcFn,...t.tags},fingerprint:["timelineupdater",t.fingerprint]})}shouldLogAtAll(){return this.__debug.logging.logChanges}log(e){const t=this.__debug.logging;if(!this.shouldLogAtAll())return;const a=t.includeLayerTimes,n=`==================${this.logCounter++}==================`;a&&console.info(n),console.info(e),t.includeLayerTimes&&console.info(this.__debug.layerTimes().sort(((e,t)=>e.s-t.s))),a&&console.info(n)}getState(){if(!this.readOnly)throw new Error("getState can only be called in read only mode");return this.state}getLayerOrNull(e){if(fL(e))return c.cloneDeep(vL);return this.state.allLayers.byId[e]||null}getLayerOrFail(e){const t=this.getLayerOrNull(e);return t||this.throw(`Layer with id ${e} not found`,{extra:{layerId:e},fingerprint:"layer-not-found"}),t}UNSAFE_updateLayerDirectly(e,t){const a=this.getLayerOrFail(e);Object.assign(a,t)}getLayerTimelineTimes(e){const t=wp(e)||this.state.duration,a=e.type===Nc.Video||e.type===Nc.Audio||e.type===Nc.Persona?e.videoDelay||0:e.startTime||0,n=t+a,s=BC(a),o=BC(n);return{start:s,end:o,duration:o-s}}getLayerTimelineTimesWithoutTransitions(e){const t=this.getLayerTimelineTimes(e),a=this.getLayerAnimations(e);let n=0,s=0;a.intro&&(n=a.intro.transitionDuration??0),a.outro&&(s=a.outro.transitionDuration??0);const o=t.start+n,i=t.end-s;return{start:o,end:i,duration:i-o}}layerTimeToTimelineTime(e,t){const a=this.getLayerOrFail(e);if(mp(a))return t;const{startTime:n,playbackRate:s,videoDelay:o}=fp(a);return o+(t-n)/s}timelineTimeToLayerTime(e,t){const a=this.getLayerOrFail(e);if(mp(a))return t;const{startTime:n,playbackRate:s,videoDelay:o}=fp(a);return n+(t-o)*s}getSortedLayersInRow(e){const t=Object.values(this.state.allLayers.byId).filter((t=>(t.timelineRow??0)===(e??0))).map((e=>({layer:e,times:this.getLayerTimelineTimes(e)})));return t.sort(((e,t)=>e.times.start-t.times.start)),t.map((e=>e.layer))}layerTimeShouldBeRippledFromDrag(e,t){const a=BC(t),{end:n}=this.getLayerTimelineTimesWithoutTransitions(e);return n>a}rippleRow({excludeLayerIds:e,row:t,start:a,shift:n}){const s=this.getSortedLayersInRow(t),o=new Set;for(const i of s)e.has(i.id)||this.layerTimeShouldBeRippledFromDrag(i,a)&&(this.shiftLayer({layerId:i.id,shift:n,reason:"row ripple",allowNegativeStart:!0}),o.add(i.id));return o}rippleLayerInGroup({info:e,layer:t,shift:a,start:n}){if(e.rowsToIgnore.has(t.timelineRow))return!1;const s=this.getLayerTimelineTimes(t);if("drag"===e.type){if(!this.layerTimeShouldBeRippledFromDrag(t,n))return!1;this.shiftLayer({layerId:t.id,shift:a,reason:"ripple layer drag"})}else if("trim-end"===e.type){const n=SQ({beforeTrimEndTime:e.preTrimTimelineEndTime,currentEndTime:s.end,shift:a});this.trimLayerEnd({id:t.id,offset:n,allowGroupRipple:!1,allowRowRipple:!0})}else{const n=-SQ({beforeTrimEndTime:-e.preTrimTimelineStartTime,currentEndTime:-s.start,shift:a});this.trimLayerStart({id:t.id,offset:n,allowGroupRipple:!1,allowRowRipple:!0,shiftIfUnableToDoFullTrim:!0})}return this.groupRippledLayers.add(t.id),this.log(`group ripple (${e.type}): layer ${t.id} by ${a}`),!0}rippleGroups({start:e,shift:t,info:a,groupsToIgnore:n,updatedLayerIds:s}){if(0===s.size)return new Set;const o=new Set;for(const[i,r]of Object.entries(this.state.groups)){if(null==n?void 0:n.has(i))continue;const l=new Set;let d=!1;for(const e of r.layers)s.has(e.id)?d=!0:l.add(e.id);if(d&&0!==l.size)for(const n of l){const s=this.getLayerOrFail(n);this.rippleLayerInGroup({info:a,layer:s,shift:t,start:e})&&o.add(i)}}return o}ripple(e){const t=e.filter((e=>0!==e.shift));if(!t.length)return;t.sort(((e,t)=>t.start-e.start));const a=new Set;for(const{shift:n,start:s,groupRippleInfo:o,modifiedLayerId:i}of t){if(!o)continue;const e=this.rippleGroups({shift:n,info:o,updatedLayerIds:i?new Set([i]):new Set,start:s});for(const t of e)a.add(t)}if(this.shouldRowRipple()){const e=new Set,n=new Set;for(const{shift:a,excludeLayerIds:o,row:i,start:r}of t){this.rippleRow({excludeLayerIds:o||new Set,row:i,start:r,shift:a}).forEach((t=>e.add(t))),n.add(i)}t.sort(((e,t)=>Math.abs(t.shift)-Math.abs(e.shift)));const s=t[0];s&&s.groupRippleInfo&&this.rippleGroups({shift:s.shift,start:s.start,info:{type:"drag",direction:IQ(s.shift),rowsToIgnore:n},updatedLayerIds:e,groupsToIgnore:a})}}assetsDurationChanged(e,t){const a=Object.values(this.state.allLayers.byId).filter((t=>nL(t)===e));for(const n of a){const{endTime:e}=fp(n),a=t-e;a<0&&this.trimLayerEnd({id:n.id,offset:a,allowGroupRipple:!1,allowRowRipple:!1}),n.duration=t}}animationIsValid(e){const t=this.state.animations.byId[e];if(!t)return!1;if(!t.isCrossTransition)return!!this.getLayerOrNull(t.layerId);const a=this.getLayerOrNull(t.introLayerId),n=this.getLayerOrNull(t.outroLayerId);if(!a||!n)return!1;const s=this.getLayerTimelineTimes(a),o=this.getLayerTimelineTimes(n),i=bL(a)?Number.MAX_VALUE:s.duration,r=bL(n)?Number.MAX_VALUE:o.duration;let l;if(bL(a))l=Number.MAX_VALUE;else if(bL(n))l=Number.MAX_VALUE;else{const e=s.start,t=o.end;l=BC(t-e)}return Math.min(l,i,r)>=(t.transitionDuration??0)}deleteAnimation(e){const t=this.state.animations.byId[e];if(t){if(t.isCrossTransition){const a=this.getLayerOrNull(t.introLayerId),n=this.getLayerOrNull(t.outroLayerId);(null==a?void 0:a.animation)&&(a.animation.intro=(a.animation.intro||[]).filter((t=>t!==e)),a.animation.intro.length||delete a.animation.intro),(null==n?void 0:n.animation)&&(n.animation.outro=(n.animation.outro||[]).filter((t=>t!==e)),n.animation.outro.length||delete n.animation.outro);const s=t.transitionDuration??0;if(a&&!bL(a)&&n&&!bL(n)){const e=s/2,t=this.getLayerTimelineTimes(a);this.getLayerTimelineTimes(n).duration>e&&this.trimLayerEnd({id:n.id,offset:-e,allowGroupRipple:!1,allowRowRipple:!1,overlapBehavior:"allow"}),t.duration>e?this.trimLayerStart({id:a.id,offset:e,allowGroupRipple:!1,allowRowRipple:!1,overlapBehavior:"allow"}):(this.shiftLayer({layerId:a.id,shift:e,reason:"unoverlap transition"}),this.forceRowRippling=!0,this.ripple([{modifiedLayerId:a.id,row:a.timelineRow,start:t.start+e,shift:s,excludeLayerIds:new Set([a.id]),groupRippleInfo:{type:"drag",direction:"right",rowsToIgnore:new Set([a.timelineRow])}}]),this.forceRowRippling=!1)}a&&"fade"===a.audioEffect&&a.introFadeDuration===s&&this.updateLayer(a.id,{audioEffect:"intro"===a.fadePosition?"":"fade",fadePosition:"both"===a.fadePosition?"outro":void 0}),n&&"fade"===n.audioEffect&&n.outroFadeDuration===s&&this.updateLayer(n.id,{audioEffect:"outro"===n.fadePosition?"":"fade",fadePosition:"both"===n.fadePosition?"intro":void 0})}else{const a=this.getLayerOrNull(t.layerId);if(null==a?void 0:a.animation)for(const t of["intro","constant","outro"]){const n=a.animation[t];n&&(a.animation[t]=n.filter((t=>t!==e)),a.animation[t].length||delete a.animation[t])}}return delete this.state.animations.byId[e],t}}splitKeyframes({leftLayer:e,rightLayer:t,studioTime:a}){var n;const{state:s}=this,{start:o,duration:i}=this.getLayerTimelineTimes(e),r=null==(n=s.keyframing)?void 0:n[e.id];if(!r||0===Object.keys(r).length)return;s.keyframing||(s.keyframing={});const l={};s.keyframing[t.id]=l;for(const[d,c]of Object.entries(r)){const e=c;if(!xu(d))continue;const{keyframes:t,bezArray:n}=e,s=[],r=[];for(const i of t){i.time<=a-o?s.push(i):r.push(i)}const u=t.find((e=>Vk(e)===BC(a-o)));if(u)r.unshift({channel:d,time:u.time,value:u.value});else{const e=s[s.length-1],t=r[0];if(e&&t){const i=Zk(d,n,a-o,e,t),l={channel:d,time:BC(a-o),value:i};s.push(l),r.unshift(l)}}e.keyframes=s,l[d]={keyframes:r.map((e=>({...e,time:e.time-i}))),bezArray:n}}}updateVideoDuration(){rA.clear();const{duration:e}=rA(this.state,Object.values(this.state.allLayers.byId),nA(this.state));this.state.duration=e,MG(this.state,e)}getLayerForReplacing({layerToReplace:e,newLayer:t,useNewLayerLength:a}){const n={...t,timelineRow:e.timelineRow,depth:e.depth};let{start:s,duration:o}=this.getLayerTimelineTimes(e);if(0===this.state.duration&&(s=0,o=wp(t)),a&&(o=wp(t)),mp(t))n.startTime=s,n.endTime=s+o;else{n.videoDelay=s;const e=n.playbackRate??1;n.startTime||(n.startTime=0),n.endTime=(n.startTime??0)+o*e,n.duration&&n.duration<n.endTime&&(n.endTime=n.duration)}return e.position&&("text"===n.type&&n.position?(n.position.x=e.position.x,n.position.y=e.position.y):n.position=e.position),e.filters&&(n.filters=e.filters),e.presetFilter&&(n.presetFilter=e.presetFilter),e.lineWidth&&(n.lineWidth=e.lineWidth),e.borderRadius&&(n.borderRadius=e.borderRadius),e.stroke&&(n.stroke=e.stroke),delete n.converted_type,n}replaceLayerKeyframes({layerToReplace:e,newLayer:t}){var a;const n=null==(a=this.state.keyframing)?void 0:a[e.id];if(!this.state.keyframing||!n)return;const s=fp(e),o=fp(t),i={},r=mp(e),l=mp(t),d=e=>{const t=r?e:(e-s.startTime)/s.playbackRate;return l?t:o.startTime+t*o.playbackRate};for(const[c,{keyframes:u,bezArray:p}]of Object.entries(n)){const e=c;if(!n[e])continue;const t=[];for(const a of u){const n={...a,time:d(a.time)};if((l||n.time>=o.startTime)&&n.time<=o.endTime)t.push(n);else{const a=t[t.length-1];if(a){const s=o.endTime,i=Zk(e,p,s,a,n);t.push({time:s,value:i,channel:e});break}}}t.length>1&&(i[e]={bezArray:p,keyframes:t})}delete this.state.keyframing[e.id],this.state.keyframing[t.id]=i}replaceLayerAnimations({layerToReplace:e,newLayer:t}){const a=t.type!==Nc.Audio,n=this.getLayerAnimations(e);if(!a)return n.constant&&this.deleteAnimation(n.constant.id),n.intro&&this.deleteAnimation(n.intro.id),void(n.outro&&this.deleteAnimation(n.outro.id));t.animation={},n.constant&&(t.animation.constant=[n.constant.id],n.constant.layerId=t.id),n.intro&&(t.animation.intro=[n.intro.id],n.intro.isCrossTransition?n.intro.introLayerId=t.id:n.intro.layerId=t.id,this.animationIsValid(n.intro.id)||this.deleteAnimation(n.intro.id)),n.outro&&(t.animation.outro=[n.outro.id],n.outro.isCrossTransition?n.outro.outroLayerId=t.id:n.outro.layerId=t.id,this.animationIsValid(n.outro.id)||this.deleteAnimation(n.outro.id)),0===Object.keys(t.animation).length&&delete t.animation}replaceLayer({newLayer:e,replacedLayerId:t,useNewLayerLength:a}){const n=this.getLayerOrFail(t),s=this.getLayerForReplacing({newLayer:e,layerToReplace:n,useNewLayerLength:!!a}),o=this.getLayerTimelineTimes(n).duration,i=this.getLayerTimelineTimes(s).duration,r=this.getLayerTimelineTimes(n).start,l=this.getLayerGroupInfo(t);delete this.state.allLayers.byId[t],this.state.allLayers.byId[e.id]=s,l&&(l.group.layers=l.group.layers.map((a=>a.id===t?{...a,id:e.id}:a)));const d=i-o;this.forceRowRippling=!0,this.ripple([{modifiedLayerId:s.id,row:s.timelineRow,start:r,shift:d,excludeLayerIds:new Set([s.id]),groupRippleInfo:{type:"drag",direction:d>0?"right":"left",rowsToIgnore:new Set([e.timelineRow])}}]),this.forceRowRippling=!1;const c=nL(n);if(this.state.tetheredWaveforms&&c){const e=this.state.tetheredWaveforms.byAssetId[c];if(e&&(delete this.state.tetheredWaveforms.byAssetId[c],"audio"===(u=s).type||"video"===u.type)){const t=nL(s);t&&(this.state.tetheredWaveforms.byAssetId[t]=e)}}var u;this.replaceLayerKeyframes({layerToReplace:n,newLayer:s}),this.replaceLayerAnimations({layerToReplace:n,newLayer:s}),this.updateVideoDuration(),this.modifiedLayers.add(e.id)}insertAddableLayers({depth:e,layers:t}){var a;const n=GY({existingLayers:this.state.allLayers.byId,tetheredWaveformsByAssetId:null==(a=this.state.tetheredWaveforms)?void 0:a.byAssetId,comparisonDepth:e,count:t.length,targetDepthDirection:"ahead"});for(let s=0;s<t.length;s++){const e=t[s],a=n[s];if(!e)throw new Error("Layer is undefined");if(!a)throw new Error("Layer depth is undefined");this.insertAddableLayer({allowGapInsert:!0,layer:e,depth:a,skipUpdateDuration:!0})}this.updateVideoDuration()}insertAddableLayer({allowGapInsert:e,layer:t,depth:a=this.getNewLayerDepth(void 0,void 0),skipUpdateDuration:n}){const s=this.insertLayer({allowGapInsert:e,layer:{...t,depth:a}});return n||this.updateVideoDuration(),s}insertLayer({allowGapInsert:e,layer:t}){const a={...t};let n=0;if(e){const{start:e,end:t}=this.getLayerTimelineTimes(a),s=this.getClosestGapInfo({layerIdsToIgnore:new Set,searchRange:{start:e,end:t},searchTime:e,timelineRow:a.timelineRow});s&&(n=s.shift)}n&&this.shiftLayer({layer:a,shift:n,reason:"gap insert"});const{start:s,end:o,duration:i}=this.getLayerTimelineTimes(a);e?this.rippleAfterGapInsert({blockRange:{start:s,end:o},blockTimelineRow:a.timelineRow,layerIdsToIgnore:new Set([a.id]),modifiedLayerId:a.id,rowsToIgnore:new Set([a.timelineRow])}):this.ripple([{modifiedLayerId:a.id,row:a.timelineRow,start:s,shift:n?-n:i,excludeLayerIds:new Set([a.id]),groupRippleInfo:{type:"drag",direction:"right",rowsToIgnore:new Set([a.timelineRow])}}]),this.state.allLayers.byId[a.id]=a,this.modifiedLayers.add(a.id)}deleteLayerAndGroupLayers({layerId:e,ripple:t}){const a=this.getLayerGroupInfo(e);a?this.deleteGroupLayers({groupId:a.groupId,ripple:t}):this.deleteLayer({id:e,ripple:t})}deleteGroupLayers({groupId:e,ripple:t}){const a=this.getGroupLayers(e).map((e=>e.id));this.deleteLayers({ids:a,ripple:t})}deleteLayer({id:e,ripple:t=!0}){this.deleteLayers({ids:[e],ripple:t})}deleteLayers({ids:e,ripple:t=!0}){var a,n,s;if(0===e.length)return;const o=new Map,i=new Map;for(const r of e){const e=this.getLayerOrFail(r);i.set(r,e);const t=this.getLayerAnimations(e);o.set(r,t);const n=LJ(e);for(const a of n)this.deleteAnimation(a);delete this.state.allLayers.byId[r],this.state.deletedLayerDict||(this.state.deletedLayerDict={}),this.state.deletedLayerDict[e.id]=e;0===Object.keys(this.state.allLayers.byId).length&&(this.state.isImageVideo=!1,this.state.duration=0,this.state.userSelectedDuration=0,this.state.showCanvas=!1),this.state.duration=NG(this.state,nA(this.state)),(null==(a=this.state.selectedItem)?void 0:a.id)===r&&(this.state.selectedItem=null),this.removeLayerFromAllGroups(r)}t&&this.ripple(e.map((e=>{const t=i.get(e);t||this.throw("Failed to get previous layer",{fingerprint:"failed-get-previous-layer",extra:{layerId:e}});const{end:a,duration:n}=this.getLayerTimelineTimes(t);return{modifiedLayerId:e,row:t.timelineRow,start:a,shift:-n,groupRippleInfo:{type:"drag",direction:"left",rowsToIgnore:new Set([t.timelineRow])}}})));for(const r of e){const e=i.get(r);e||this.throw("Failed to get previous layer",{fingerprint:"failed-get-previous-layer",extra:{layerId:r}});const t=o.get(r);t||this.throw("Failed to get previous animation",{fingerprint:"failed-get-previous-animation",extra:{layerId:r}});const a=this.getSortedLayersInRow(e.timelineRow);let l=null,d=null;const c=this.getLayerTimelineTimes(e).start;for(const n of a){const{start:e,end:t}=this.getLayerTimelineTimes(n);this.timesAreSame(t,c)?l=n:this.timesAreSame(e,c)&&(d=n)}l&&d&&((null==(n=t.outro)?void 0:n.isCrossTransition)&&this.applyTransitionInstanceToLayers({animation:t.outro,leftLayer:l,rightLayer:d}),(null==(s=t.intro)?void 0:s.isCrossTransition)&&this.applyTransitionInstanceToLayers({animation:t.intro,leftLayer:l,rightLayer:d})),this.state.keyframing&&delete this.state.keyframing[r],this.modifiedLayers.add(r)}}deleteRows(e){const t=e.sort(((e,t)=>t-e));for(const a of t)this.deleteRow(a)}deleteRow(e){const t=[];for(const a of Object.values(this.state.allLayers.byId)){(a.timelineRow??0)===e&&t.push(a.id)}this.deleteLayers({ids:t,ripple:!1});for(const a of Object.values(this.state.allLayers.byId)){const t=a.timelineRow??0;t>e&&(a.timelineRow=t-1)}}deleteGap({endTime:e,startTime:t,timelineRow:a}){this.forceRowRippling=!0,this.ripple([{row:a,shift:-(e-t),start:e,modifiedLayerId:null,groupRippleInfo:{type:"drag",direction:"left",rowsToIgnore:new Set([a])}}]),this.forceRowRippling=!1}updateLayer(e,t){const a=this.getLayerOrFail(e);Object.assign(a,t)}reverseLayers(e){for(const t of e){const e=this.getLayerOrFail(t);if(mp(e))continue;const{startTime:a,endTime:n,duration:s}=fp(e),o=s-n,i=s-a;e.startTime=o,e.endTime=i,e.isReversed=!e.isReversed,this.modifiedLayers.add(e.id)}}addAnimation(e){this.state.animations.byId[e.id]=e}cloneAnimation({animation:e,layerId:t}){e.isCrossTransition&&this.throw("Cannot clone cross transitions",{fingerprint:"clone-cross-transition",extra:{animationId:e.id,layerId:t}});const a=c.cloneDeep(e);return a.id=tA(12),a.layerId=t,this.addAnimation(a),a}applyAnimationToLayer({animation:e,layerId:t,type:a}){const n=this.getLayerOrFail(t);n.animation||(n.animation={});const s=n.animation[a];for(const o of s||[])this.deleteAnimation(o);this.addAnimation(e),n.animation[a]=[e.id]}applyTransitionToLayers({transition:e,leftLayerId:t,rightLayerId:a}){const n=this.getLayerOrFail(t),s=this.getLayerOrFail(a),{introAnimation:o}=function(e){const t=WT.find((t=>t.id===e.introAnimId)),a=WT.find((t=>t.id===e.outroAnimId));if(!t||!a)throw Error(`Missing intro or outro animation for transition ${e.id}`);return{introAnimation:bT(t),outroAnimation:bT(a)}}(e),i={id:tA(12),animationName:e.id,isCrossTransition:!0,introLayerId:s.id,outroLayerId:n.id,transitionDuration:o.transitionDuration??.5};this.applyTransitionInstanceToLayers({animation:i,leftLayer:n,rightLayer:s})}applyTransitionInstanceToLayers({animation:e,leftLayer:t,rightLayer:a}){const n=i$([t,a]);if(!n)return;this.forceRowRippling=!0;let{transitionDuration:s=0}=e;s=Math.min(s,n),e.transitionDuration=s,t.animation||(t.animation={}),a.animation||(a.animation={});const o=t.animation.outro;for(const d of o||[])this.deleteAnimation(d);const i=a.animation.intro;for(const d of i||[])this.deleteAnimation(d);if(!bL(t)&&!bL(a)){const e=s/2,n=e,o=n-this.trimLayerEnd({id:t.id,offset:n,allowGroupRipple:!1,allowRowRipple:!1,overlapBehavior:"allow"});o&&(this.dragLayer({layerId:a.id,shift:-o,ripple:!0}),this.trimLayerEnd({id:a.id,offset:o,overlapBehavior:"allow"}));const i=-e,r=-(this.trimLayerStart({id:a.id,offset:i,allowGroupRipple:!1,allowRowRipple:!1,overlapBehavior:"allow"})-i);r&&(this.dragLayer({layerId:a.id,shift:r,ripple:!0}),this.trimLayerEnd({id:a.id,offset:-r,overlapBehavior:"allow"}))}const r=np(t)&&t.hasAudio&&void 0===t.detachedAudioId,l=np(a)&&a.hasAudio&&void 0===a.detachedAudioId;r&&this.updateLayer(t.id,{audioEffect:"fade",outroFadeDuration:s,fadePosition:"fade"===t.audioEffect&&["intro","both"].includes(t.fadePosition??"")?"both":"outro"}),l&&this.updateLayer(a.id,{audioEffect:"fade",introFadeDuration:s,fadePosition:"fade"===a.audioEffect&&["outro","both"].includes(a.fadePosition??"")?"both":"intro"}),this.addAnimation(e),t.animation.outro=[e.id],a.animation.intro=[e.id],e.introLayerId=a.id,e.outroLayerId=t.id,this.forceRowRippling=!1}changeTransitionDuration({duration:e,animationId:t}){var a;const n=this.getAnimation(t);n.isCrossTransition||this.throw("Can't change duration of non cross transition",{fingerprint:"non-cross-transition",extra:{transition:n}});const s=(null==(a=this.state.selectedTransition)?void 0:a.id)===t,o=c.cloneDeep(n);o.id=tA(12),o.transitionDuration=e;const i=this.getLayerOrFail(o.outroLayerId),r=this.getLayerOrFail(o.introLayerId);this.applyTransitionInstanceToLayers({animation:o,leftLayer:i,rightLayer:r}),s&&(this.state.selectedTransition={id:o.id})}getLayerAnimations(e){let t,a,n;if(e.animation){const[s]=e.animation.intro||[],[o]=e.animation.constant||[],[i]=e.animation.outro||[];t=s?this.state.animations.byId[s]:void 0;const r=o?this.state.animations.byId[o]:void 0;r&&!r.isCrossTransition&&(a=r),n=i?this.state.animations.byId[i]:void 0}return{intro:t,constant:a,outro:n}}getLayerGroupInfo(e){const t=Object.entries(this.state.groups).find((t=>t[1].layers.some((t=>t.id===e))));return t?{groupId:t[0],group:t[1]}:null}removeLayerFromAllGroups(e){for(const[t,a]of Object.entries(this.state.groups)){const n=a.layers.findIndex((t=>t.id===e));-1!==n&&a.layers.splice(n,1),a.layers.length<=1&&delete this.state.groups[t]}}getGroupLayers(e){const t=this.state.groups[e];return(t?t.layers.map((e=>e.id)):[]).map((e=>this.getLayerOrFail(e)))}timesAreSame(e,t){return VC(e,t,.01)}getAnimation(e){const t=this.state.animations.byId[e];return t||this.throw(`Animation with id ${e} not found`,{fingerprint:"animation-not-found",extra:{animationId:e}}),t}ensureNotJustOneOfStartAndEndTimeAreSet(e){void 0===e.startTime&&e.endTime&&(e.startTime=0),void 0===e.endTime&&void 0!==e.startTime&&(e.endTime=void 0===e.duration?this.state.duration:e.duration)}ensureStartAndEndTimeAreSet(e){this.ensureNotJustOneOfStartAndEndTimeAreSet(e),void 0===e.startTime&&void 0===e.endTime&&(e.startTime=0,e.endTime=e.duration??this.state.duration)}ensureAllStartAndEndTimesAreSet(){for(const e of Object.values(this.state.allLayers.byId))this.ensureStartAndEndTimeAreSet(e)}roundLayerTimes(e){e.startTime&&(e.startTime=BC(e.startTime)),e.endTime&&(e.endTime=BC(e.endTime)),e.videoDelay&&(e.videoDelay=BC(e.videoDelay))}moveAnimationBetweenLayers({animationType:e,fromLayer:t,toLayer:a}){var n;const s=this.getLayerAnimations(t),o=this.getLayerAnimations(a);let i,r;"intro"===e?(i=s.intro,r=o.intro):"constant"===e?(i=s.constant,r=o.constant):"outro"===e&&(i=s.outro,r=o.outro),i&&(r&&this.throw("Cannot move animation to layer that already has an animation of that type",{fingerprint:"move-animation-to-layer-with-animation",extra:{animationType:e,fromLayer:t,toLayer:a}}),i.isCrossTransition&&this.throw("Cannot move cross transitions between layers",{fingerprint:"move-cross-transition",extra:{fromLayer:t,toLayer:a}}),i.layerId=a.id,(null==(n=t.animation)?void 0:n[e])&&(t.animation[e]=[]),a.animation||(a.animation={}),a.animation[e]=[i.id])}getNewLayerDepth(e,t){var a;return YY({comparisonDepth:e,existingLayers:this.state.allLayers.byId,tetheredWaveformsByAssetId:null==(a=this.state.tetheredWaveforms)?void 0:a.byAssetId,targetDepthDirection:t})}fuseLayers({idA:e,idB:t,fuseGroupedLayers:a=!0}){const n=this.getLayerOrFail(e),s=this.getLayerOrFail(t),o=this.getLayerTimelineTimes(n),i=this.getLayerTimelineTimes(s),[r,l]=o.start<i.start?[n,s]:[s,n];if(!((e,t)=>{if(e.type!==t.type)return!1;if(e.timelineRow!==t.timelineRow)return!1;if(nL(e)!==nL(t))return!1;const{start:a,end:n}=bp(e),{startTime:s,endTime:o,playbackRate:i}=vp(e),{start:r,end:l}=bp(t),{startTime:d,endTime:c,playbackRate:u}=vp(t);if(i!==u)return!1;if(!VC(s,c,.1)&&!VC(o,d,.1))return!1;if(!VC(a,l,.1)&&!VC(r,n,.1))return!1;const p=a<r?e:t,m=a<r?t:e,{outroTransition:g}=LT(p),{introTransition:h}=LT(m),v=ET(p,"outro"),f=ET(m,"intro"),b=ET(p,"constant"),y=ET(m,"constant");return(null==b?void 0:b.name)===(null==y?void 0:y.name)&&(!g||!h)&&(!v||!f)&&PX(e)===PX(t)&&(!PX(e)||!PX(t)||((e,t)=>{var a,n,s,o,i,r;const l=(null==(a=e.speakerFocus)?void 0:a.groupId)===(null==(n=t.speakerFocus)?void 0:n.groupId),d=(null==(s=e.speakerFocus)?void 0:s.speakerId)===(null==(o=t.speakerFocus)?void 0:o.speakerId),c=(null==(i=e.speakerFocus)?void 0:i.disabled)===(null==(r=t.speakerFocus)?void 0:r.disabled);return l&&d&&c})(e,t))})(r,l))return null;const d=o.end,c=fp(l).startTime-fp(r).endTime;if(c&&(this.forceRowRippling=!0,this.dragLayer({layerId:l.id,shift:c,ripple:!0}),this.forceRowRippling=!1),a){const e=new Map,t=new Map,a=this.getLayerGroupInfo(r.id);for(const s of(null==a?void 0:a.group.layers)||[]){if(s.id===r.id)continue;const t=this.getLayerOrFail(s.id),{end:a}=this.getLayerTimelineTimes(t);this.timesAreSame(a,d)&&e.set(t.timelineRow,t)}const n=this.getLayerGroupInfo(l.id);for(const s of(null==n?void 0:n.group.layers)||[]){if(s.id===l.id)continue;const e=this.getLayerOrFail(s.id),{start:a}=this.getLayerTimelineTimes(e);this.timesAreSame(a,d)&&t.set(e.timelineRow,e)}for(const[s,o]of e.entries()){const e=t.get(s);e&&this.fuseLayers({idA:o.id,idB:e.id,fuseGroupedLayers:!1})}}return r.endTime=l.endTime,this.moveAnimationBetweenLayers({animationType:"outro",fromLayer:l,toLayer:r}),this.deleteLayers({ids:[l.id],ripple:!1}),this.modifiedLayers.add(r.id),this.log("Fused layers"),{keptLayer:r,removedLayer:l}}splitLayer({id:e,timelineTime:t,newLayerId:a=tA(12),ripple:n=!0}){const s=this.getLayerOrFail(e);if(!k$({layer:s,time:t}))return[s,null];const o={...s,id:a},i={animation:{}},r={animation:{}};if(s.animation){const{intro:e,constant:n,outro:o}=this.getLayerAnimations(s);if(e&&(i.animation.intro=[e.id]),n){i.animation.constant=[n.id];const e=this.cloneAnimation({animation:n,layerId:a});if(r.animation.constant=[e.id],e.animationName===Mc.MovingZoom&&n.movingZoomOptions&&e.movingZoomOptions){const a=DG(s,e.movingZoomOptions,t);a&&(n.movingZoomOptions.endValues=a,e.movingZoomOptions.startValues=a)}}o&&(o.isCrossTransition?o.outroLayerId=a:o.layerId=a,r.animation.outro=[o.id])}if(mp(s)){const e=s.startTime||0,a=s.endTime||0,n={...i,startTime:e,endTime:t},l={...r,startTime:t,endTime:a};Object.assign(s,n),Object.assign(o,l)}else{const e=s.playbackRate||1,a=(t-((s.videoDelay||0)-(s.startTime||0)/e))*e,n={...i,duration:s.duration,startTime:s.startTime??0,endTime:a},l={...r,startTime:a,endTime:o.endTime??o.duration,videoDelay:t},{audioEffect:d}=s;if(d&&"fade"===d){const{fadePosition:e,fadeSpeed:t}=s;"outro"===e?(l.audioEffect=d,l.fadePosition=e,l.fadeSpeed=t,n.audioEffect=""):"both"===e?(l.audioEffect=d,l.fadePosition="outro",l.fadeSpeed=t,n.fadePosition="intro"):"intro"===e&&(l.audioEffect="")}Object.assign(s,n),Object.assign(o,l),this.state.analytics.usedSplit=!0}if(this.splitKeyframes({leftLayer:s,rightLayer:o,studioTime:t}),this.state.allLayers.byId[a]=o,n){const e=new Set([s.id]),a=new Set([o.id]),n=this.getLayerGroupInfo(s.id);if(n&&n.group.saved){const{groupId:o,group:i}=n;for(const n of i.layers){if(n.id===s.id)continue;const[o,i]=this.splitLayer({id:n.id,timelineTime:t,ripple:!1});if(i)e.add(o.id),a.add(i.id);else{(vQ({layer:o,time:t,studio:this.state})?e:a).add(o.id)}}delete this.state.groups[o],e.size>1&&(this.state.groups[tA(12)]={...i,saved:!0,layers:Array.from(e).map((e=>({id:e,saved:!0})))}),a.size>1&&(this.state.groups[tA(12)]={...i,name:fQ(this.state.groups),saved:!0,layers:Array.from(a).map((e=>({id:e,saved:!0})))})}}const l=this.getLayerAnimations(s).intro,d=this.getLayerAnimations(o).outro;l&&!this.animationIsValid(l.id)&&this.deleteAnimation(l.id),d&&!this.animationIsValid(d.id)&&this.deleteAnimation(d.id);return null==hQ||hQ.addCopyIdToOriginalId(o.id,s.id),this.modifiedLayers.add(s.id),this.modifiedLayers.add(o.id),[s,o]}validateLayer(e){if(bL(e))return;const t=this.state.duration,{duration:a}=this.getLayerTimelineTimes(e),{duration:n,startTime:s,endTime:o}=fp(e);if(e.timelineRow&&e.timelineRow<0&&this.throw("Layer timeline row cannot be less than 0",{fingerprint:"invalid-layer-timeline-row",extra:{layer:e}}),xQ&&!mp(e)&&o>n){const t=o-n;t>=.001&&this.throw("Layer timeline duration cannot be greater than asset duration",{fingerprint:"layer-duration-too-long",extra:{layer:e,diff:t}})}t>0&&a<=0&&this.throw("Layer duration cannot be less than or equal to 0",{fingerprint:"layer-duration-too-short",extra:{layer:e}}),s<0&&this.throw("Layer start time cannot be less than 0",{fingerprint:"layer-start-time-too-early",extra:{layer:e}}),o<s&&this.throw("Layer end time cannot be less than start time",{fingerprint:"layer-end-time-too-early",extra:{layer:e}})}getSortedOverlappingLayers({layerIdsToIgnore:e,range:t,timelineRow:a}){const{start:n,end:s}=t;return Object.values(this.state.allLayers.byId).filter((t=>{if(e.has(t.id))return!1;if((t.timelineRow??0)!==(a??0))return!1;const{start:o,end:i}=this.getLayerTimelineTimes(t);return o<s&&i>n})).sort(((e,t)=>{const{start:a}=this.getLayerTimelineTimes(e),{start:n}=this.getLayerTimelineTimes(t);return a-n}))}getClosestGapEdgeTimes({layerIdsToIgnore:e,range:t,time:a,timelineRow:n}){const s=this.getSortedOverlappingLayers({layerIdsToIgnore:e,range:t,timelineRow:n});let o=null;for(const u of s){if(e.has(u.id))continue;const t=this.getLayerTimelineTimes(u),n=Math.min(Math.abs(a-t.start),Math.abs(a-t.end));o?n<o.distance&&(o={layer:u,distance:n}):o={layer:u,distance:n}}if(!o)return null;const i=this.crawlUntilNoTransition(o.layer,"intro"),r=this.crawlUntilNoTransition(o.layer,"outro"),l=this.getLayerTimelineTimes(i.layer),d=this.getLayerTimelineTimes(r.layer),c=new Set([...i.rejectedLayers,...r.rejectedLayers]);return{start:l.start,end:d.end,rejectedLayers:c}}crawlUntilNoTransition(e,t,a=new Set){const n=this.getLayerAnimations(e)[t];if(!(null==n?void 0:n.isCrossTransition))return{rejectedLayers:a,layer:e};const s="intro"===t?n.outroLayerId:n.introLayerId;if(fL(s))return{rejectedLayers:a,layer:e};const o=this.getLayerOrNull(s);return o?(a.add(e.id),this.crawlUntilNoTransition(o,t)):{rejectedLayers:a,layer:e}}getAdjacentLayers(e,t={}){const a=this.getLayerOrFail(e),n=this.getLayerTimelineTimes(a),s=new Set([e,...t.ignoreLayerIds||[]]);return this.getAdjacentLayersToRange({start:n.start,end:n.end,timelineRow:a.timelineRow??0},{ignoreLayerIds:s})}getAdjacentLayersToRange(e,{ignoreLayerIds:t}){let a=null,n=null;for(const s of Object.values(this.state.allLayers.byId)){if(t.has(s.id))continue;if((s.timelineRow??0)!==e.timelineRow)continue;const o=this.getLayerTimelineTimes(s),i=e.start-o.start,r=o.end-e.end;i>0&&(!a||i<a.distance)&&(a={layer:s,distance:i}),r>0&&(!n||r<n.distance)&&(n={layer:s,distance:r})}return{leftLayer:(null==a?void 0:a.layer)||null,rightLayer:(null==n?void 0:n.layer)||null}}trimLayerStart({id:e,offset:t,allowGroupRipple:a=!0,allowRowRipple:n=!0,overlapBehavior:s="disallow",shiftIfUnableToDoFullTrim:o=!1}){const i=BC(t);if(0===i)return 0;this.ensureAllStartAndEndTimesAreSet();const r=this.getLayerOrFail(e),{intro:l,outro:d}=this.getLayerAnimations(r);let c=0;const{leftLayer:u}=this.getAdjacentLayers(e),p=this.shouldRowRipple()&&n;if(u&&"allow"!==s&&!p){l&&l.isCrossTransition&&this.deleteAnimation(l.id);const e=this.getLayerTimelineTimes(u).end,t=this.timelineTimeToLayerTime(r.id,e);t>0&&(c=t)}const{startTime:m,playbackRate:g}=fp(r),{start:h}=this.getLayerTimelineTimes(r),v=i*g,f="partial-shift"===s?0:c;let b,y,w=0;if(mp(r)?(y=Math.max(f,h+v),b=m-y,r.startTime=y):(y=Math.max(f,m+v),b=(m-y)/g,r.videoDelay=h-b,r.startTime=y),"partial-shift"===s&&(w=Math.max(c-y,0)),this.log(`trimmed layer start: ${e} by ${-b} (${i} requested)`),n){let t=o?-v:b;w&&(t=w,this.forceRowRippling=!0),this.ripple([{modifiedLayerId:e,row:r.timelineRow,start:h,shift:t,groupRippleInfo:a?{type:"trim-start",preTrimTimelineStartTime:h,direction:IQ(t),rowsToIgnore:new Set([r.timelineRow])}:null}]),w&&(this.forceRowRippling=!1),l&&!this.animationIsValid(l.id)&&this.deleteAnimation(l.id),d&&!this.animationIsValid(d.id)&&this.deleteAnimation(d.id)}this.getLayerTimelineTimes(r).duration<.001&&this.deleteLayers({ids:[r.id],ripple:!1});const _=mp(r)?y-m:y;return this.trimStartKeyframes(r,_),this.modifiedLayers.add(r.id),this.log("Trimmed layer start"),-b}trimLayerEnd({id:e,offset:t,allowGroupRipple:a=!0,allowRowRipple:n=!0,overlapBehavior:s="disallow"}){const o=BC(t);if(0===o)return 0;this.ensureAllStartAndEndTimesAreSet();const i=this.getLayerOrFail(e),{intro:r,outro:l}=this.getLayerAnimations(i),{duration:d}=fp(i);let c=mp(i)?Number.MAX_SAFE_INTEGER:d;const{rightLayer:u}=this.getAdjacentLayers(e),p=this.shouldRowRipple()&&n;if(u&&"allow"!==s&&!p){l&&l.isCrossTransition&&this.deleteAnimation(l.id);const e=this.getLayerTimelineTimes(u).start,t=this.timelineTimeToLayerTime(i.id,e);t<c&&(c=t)}const{endTime:m,playbackRate:g}=fp(i),{end:h}=this.getLayerTimelineTimes(i),v=o*g;let f=m+v,b=0;"partial-shift"===s||"allow"===s?mp(i)||(f=Math.min(d,m+v),b=Math.max(f-c,0)):f=Math.min(c,m+v),i.endTime=f,this.log(`trimmed layer end: ${e} by ${o}`);const y=(f-m)/g;if(n){let t=y;b&&(t=b,this.forceRowRippling=!0),this.ripple([{modifiedLayerId:e,row:i.timelineRow,start:h,excludeLayerIds:new Set([i.id]),shift:t,groupRippleInfo:a?{type:"trim-end",preTrimTimelineEndTime:h,direction:IQ(t),rowsToIgnore:new Set([i.timelineRow])}:null}]),b&&(this.forceRowRippling=!1)}r&&!this.animationIsValid(r.id)&&this.deleteAnimation(r.id),l&&!this.animationIsValid(l.id)&&this.deleteAnimation(l.id),this.getLayerTimelineTimes(i).duration<.001&&this.deleteLayers({ids:[i.id],ripple:!1});const w=mp(i)?this.getLayerTimelineTimes(i).duration:f;return this.trimEndKeyframes(i,w),this.modifiedLayers.add(i.id),this.log("Trimmed layer end"),y}trimStartKeyframes(e,t){var a;const n=null==(a=this.state.keyframing)?void 0:a[e.id];if(n)for(const[s,{keyframes:o,bezArray:i}]of Object.entries(n)){const e=s;if(!n[e])continue;let a=null,r=null;const l=[];for(const n of o)n.time>=t?(l.push(n),(null===r||n.time>r.time)&&(r=n)):(null===a||n.time<a.time)&&(a=n);if(l.length&&!l.some((e=>e.time===t))&&a&&r){const n=Zk(e,i,t,a,r);l.unshift({time:t,value:n,channel:e})}n[e].keyframes=l}}trimEndKeyframes(e,t){var a;const n=null==(a=this.state.keyframing)?void 0:a[e.id];if(n)for(const[s,{keyframes:o,bezArray:i}]of Object.entries(n)){const e=s;if(!n[e])continue;let a=null,r=null;const l=[];for(const n of o)n.time<=t?(l.push(n),(null===a||n.time<a.time)&&(a=n)):(null===r||n.time>r.time)&&(r=n);if(l.length&&!l.some((e=>e.time===t))&&a&&r){const n=Zk(e,i,t,a,r);l.push({time:t,value:n,channel:e})}n[e].keyframes=l}}changeLayerSpeed({layerId:e,referencePlaybackRate:t,speed:a}){var n;const s=this.getLayerOrFail(e),{startTime:o,endTime:i}=fp(s),r=this.getLayerTimelineTimes(s),{rightLayer:l}=this.getAdjacentLayers(e),d=l?this.getLayerTimelineTimes(l).start:null,c=Math.max(d?d-r.end:Number.MAX_SAFE_INTEGER,0);let u;if(mp(s)){const e=t,n=(i-o)*e/a;s.endTime=o+n,u=e/a}else{const e=s.playbackRate??1;s.playbackRate=a,u=e/a}const p=this.getLayerTimelineTimes(s).end-r.end,m=null==(n=this.state.keyframing)?void 0:n[e];for(const{keyframes:h}of Object.values(m||{}))for(const e of h)e.time=e.time*u;const g=this.shouldRowRipple()?p:Math.max(p-c,0);this.forceRowRippling=!0,this.ripple([{row:s.timelineRow,start:r.start,shift:g,modifiedLayerId:e,excludeLayerIds:new Set([e]),groupRippleInfo:null}]),this.forceRowRippling=!1;if(a>t&&!this.shouldRowRipple()){const e=this.getLayerAnimations(s);e.outro&&yL(e.outro)&&this.deleteAnimation(e.outro.id)}this.modifiedLayers.add(s.id)}changeVisibleSectionOfVideoLayer(e,t){const a=this.getLayerOrFail(e);if(mp(a))return;const{duration:n}=this.getLayerTimelineTimes(a);a.startTime=t,a.endTime=t+n,this.modifiedLayers.add(a.id)}turnOffSpeakerFocus(e){var t,a;const n=Object.values(this.state.allLayers.byId).filter((t=>nL(t)===e&&np(t))),s=(this.state.width??16)/(this.state.height??9);for(const r of n){if(!PX(r)||!(null==(t=r.speakerFocus)?void 0:t.cache))continue;const e=null==(a=r.speakerFocus)?void 0:a.cache.aspectRatio;if(s.toFixed(2)===e.toFixed(2))r.crop=r.speakerFocus.cache.crop,r.position=r.speakerFocus.cache.position,r.speakerFocus={...r.speakerFocus,cache:void 0};else{const t=bX({aspectRatioWidth:s,aspectRatioHeight:1,layer:r,prevCanvasWidth:e,prevCanvasHeight:1}),{crop:a,position:n}=nX(r)?sJ({layer:r,prevRatio:{width:e,height:1},newRatio:{width:s,height:1},resizeMethod:"fit-to-center"}):{crop:void 0,position:void 0};r.fromSmartReframe=!1,r.crop=a??cF,r.position=a?n:t,r.speakerFocus={...r.speakerFocus,cache:void 0}}}const{layerIdsToDelete:o,layerUpdatesById:i}=OX(n);this.deleteLayers({ids:o,ripple:!1});for(const[r,l]of Object.entries(i))this.UNSAFE_updateLayerDirectly(r,l)}convertToStaticProject(){const e=new Set;for(const t of Object.values(this.state.allLayers.byId)){if(!mp(t))throw new Error("Cannot convert to static project with non-static layers");let a=t.timelineRow??0;for(;e.has(a);)a++;t.timelineRow=a,delete t.startTime,delete t.endTime,delete t.duration,e.add(a)}}changeStaticLayersDuration({layerIds:e,newDuration:t,noMontage:a}){const n=BC(t);let s=0;for(const o of e){const e=this.getLayerOrFail(o);if(!mp(e))continue;const t=this.getLayerTimelineTimes(e);let i=t.start;0===t.duration&&(i=s);const{rightLayer:r}=this.getAdjacentLayers(o),l=r?this.getLayerTimelineTimes(r).start:null,d=l?l-t.end:Number.MAX_SAFE_INTEGER;e.startTime=i,e.endTime=i+n;const c=this.getLayerTimelineTimes(e),u=c.end-t.end,p=this.shouldRowRipple()?u:Math.max(u-d,0);this.forceRowRippling=!0,this.ripple([{row:e.timelineRow,start:i,shift:p,modifiedLayerId:o,excludeLayerIds:new Set([o]),groupRippleInfo:null}]),this.forceRowRippling=!1,a||(s=c.end),this.modifiedLayers.add(e.id)}}getClosestGapInfo({layerIdsToIgnore:e,searchRange:t,searchTime:a,timelineRow:n}){const s=this.getClosestGapEdgeTimes({layerIdsToIgnore:e,timelineRow:n,range:{start:t.start,end:t.end},time:a});if(!s)return null;let o=0,i=null;const r=t.end-t.start,{start:l,end:d,rejectedLayers:c}=s,u=new Set([...e,...c]);if(Math.abs(l-a)>Math.abs(a-d)){o=d-t.start;const e={start:d,end:d+r},a=this.getSortedOverlappingLayers({layerIdsToIgnore:u,timelineRow:n,range:e});if(a[0]){const{start:t}=this.getLayerTimelineTimes(a[0]);i={start:e.start,end:t}}}else{const{leftLayer:e}=this.getAdjacentLayersToRange({start:l,end:d,timelineRow:n??0},{ignoreLayerIds:u}),a=e?this.getLayerTimelineTimes(e).end:0,s=a-t.start,c=l-(t.start+r);if(s>c){o=s;const e={start:a,end:a+r},t=this.getSortedOverlappingLayers({layerIdsToIgnore:u,timelineRow:n,range:e});if(0===e.start){const a=t[0];if(a){const t=this.getLayerTimelineTimes(a);i={start:e.start,end:t.start}}}else{const a=t[t.length-1];if(a){const t=this.getLayerTimelineTimes(a);i={start:e.start,end:t.start}}}}else o=c}return{gapPreviewBounds:i,shift:o}}rippleAfterGapInsert({blockRange:e,blockTimelineRow:t,layerIdsToIgnore:a,modifiedLayerId:n,rowsToIgnore:s}){const[o]=this.getSortedOverlappingLayers({layerIdsToIgnore:a,range:e,timelineRow:t});if(o){const{start:i}=this.getLayerTimelineTimes(o),r=e.end-i;r>0&&(this.forceRowRippling=!0,this.ripple([{shift:r,start:i,modifiedLayerId:n,excludeLayerIds:a,row:t,groupRippleInfo:{type:"drag",direction:"right",rowsToIgnore:s}}]),this.forceRowRippling=!1)}}getLayersRange(e){const[t]=e;if(!t)return null;const a=this.getLayerTimelineTimes(t),n={start:a.start,end:a.end};for(const s of e){const e=this.getLayerTimelineTimes(s);n.start=Math.min(n.start,e.start),n.end=Math.max(n.end,e.end)}return n}dragLayer({layerId:e,shift:t,timelineRowOffset:a=0,ripple:n=!1,allowGapInsert:s}){this.dragLayers({layerIds:[e],shift:t,timelineRowOffset:a,ripple:n,allowGapInsert:s})}dragLayers({layerIds:e,shift:t,timelineRowOffset:a,ripple:n=!1,allowGapInsert:s}){var o;const i=BC(t);if(0===i&&0===a)return;this.ensureAllStartAndEndTimesAreSet();const r=e.map((e=>this.getLayerOrFail(e))),l=new Set(e);for(const f of r)f.timelineRow=(f.timelineRow??0)+a;for(const f of r){const{intro:e,outro:t}=this.getLayerAnimations(f);e&&e.isCrossTransition&&!fL(e.outroLayerId)&&!l.has(e.outroLayerId)&&this.deleteAnimation(e.id),t&&t.isCrossTransition&&!fL(t.introLayerId)&&!l.has(t.introLayerId)&&this.deleteAnimation(t.id)}const d=new Map;let c=Number.MAX_SAFE_INTEGER;for(const f of r){const{start:e}=this.getLayerTimelineTimes(f);c=Math.min(c,e);const t=f.timelineRow??0;d.has(t)||d.set(t,[]),null==(o=d.get(t))||o.push(f)}const u=new Set(Array.from(d.keys()).map((e=>e))),p=Math.max(-c,i),m=({anchorTime:t,row:a})=>{var n;const s=null==(n=d.get(a))?void 0:n.filter((e=>l.has(e.id)));if(!s)return null;const o=this.getLayersRange(s);if(!o)return null;const r={start:o.start+p,end:o.end+p},c=t+i;return this.getClosestGapInfo({layerIdsToIgnore:new Set(e),searchRange:r,searchTime:c,timelineRow:a})},g=Array.from(d.entries()).sort(((e,t)=>e[0]-t[0]));let h=null,v=null;if(s){const e=this.getLayerOrFail(s.anchorLayerId).timelineRow??0;if(h=m({anchorTime:s.anchorTimelineTime,row:e}),v=e,!(null==h?void 0:h.gapPreviewBounds))for(const[t]of g){if(t===e)continue;const a=m({anchorTime:s.anchorTimelineTime,row:t});if(null==a?void 0:a.gapPreviewBounds){h=a,v=t;break}}}for(const[f,b]of g){const t=f===v,a=b[0];if(!a)continue;let o=null,i=p;if(t)o=h;else{const e=s?m({anchorTime:s.anchorTimelineTime,row:a.timelineRow??0}):null;(null==h?void 0:h.gapPreviewBounds)&&(null==e?void 0:e.gapPreviewBounds)&&e.gapPreviewBounds.start===h.gapPreviewBounds.start&&e.gapPreviewBounds.end===h.gapPreviewBounds.end?o=e:i+=(null==h?void 0:h.shift)??0}if(this.dragRowLayers({allLayerIds:e,rowLayerIds:b.map((e=>e.id)),shift:i,ripple:n,gapInfo:o,allRows:u}),s&&!t&&!o)for(const e of b)if(this.layerIsColliding(e.id)){this.insertRow({ignoreLayers:new Set(b.map((e=>e.id))),row:e.timelineRow});break}}}dragRowLayers({allLayerIds:e,rowLayerIds:t,shift:a,ripple:n=!1,gapInfo:s,allRows:o}){const i=t.map((e=>this.getLayerOrFail(e))),r=new Map;for(const p of i)r.set(p.id,this.getLayerTimelineTimes(p).start);i.sort(((e,t)=>(r.get(e.id)??0)-(r.get(t.id)??0)));const l=i[0],d=i[i.length-1];if(!l||!d)throw new Error("No start or end layer");const c=(null==s?void 0:s.shift)??0;let u=0;for(const p of i)u=this.shiftLayer({layerId:p.id,shift:a+c,reason:"drag"});if(n){const{end:e}=this.getLayerTimelineTimes(d);this.ripple([{shift:u,start:e,modifiedLayerId:d.id,row:d.timelineRow,groupRippleInfo:{type:"drag",direction:IQ(u),rowsToIgnore:o}}])}(null==s?void 0:s.gapPreviewBounds)&&this.rippleAfterGapInsert({blockRange:{start:this.getLayerTimelineTimes(l).start,end:this.getLayerTimelineTimes(d).end},blockTimelineRow:d.timelineRow,layerIdsToIgnore:new Set(e),modifiedLayerId:d.id,rowsToIgnore:o})}shiftLayer(e){const{shift:t,reason:a,allowNegativeStart:n}=e,s="layer"in e?e.layer:this.getLayerOrFail(e.layerId),{startTime:o,endTime:i,videoDelay:r}=fp(s),{start:l}=this.getLayerTimelineTimes(s),d=n?t:Math.max(-l,t),c=mp(s)?o+d:r+d;let u;if(mp(s)){const e=o;s.startTime=c,s.endTime=i+d,u=c-e}else{const e=r;s.videoDelay=c,u=c-e}return this.log(`${a} shift: ${s.id} by ${d}`),this.modifiedLayers.add(s.id),u}insertRow({ignoreLayers:e,row:t}){for(const a of Object.values(this.state.allLayers.byId)){if(null==e?void 0:e.has(a.id))continue;const n=a.timelineRow??0;n>=(t??0)&&(a.timelineRow=n+1)}}moveRowToRow(e,t){if(e===t)return;const a=Object.values(this.state.allLayers.byId);if(e<t)for(const n of a){const a=n.timelineRow??0;a===e?n.timelineRow=t:a>e&&a<=t&&(n.timelineRow=a-1)}else for(const n of a){const a=n.timelineRow??0;a===e?n.timelineRow=t:a>=t&&a<e&&(n.timelineRow=a+1)}}makeRoomForDetachAudio(e){const t=this.getLayerOrFail(e),{start:a,end:n}=this.getLayerTimelineTimes(t);this.getSortedOverlappingLayers({layerIdsToIgnore:new Set,range:{start:a,end:n},timelineRow:(t.timelineRow??0)+1}).length&&this.insertRow({row:(t.timelineRow??0)+1})}createMontage({layerIds:e,slideDuration:t}){let a=0;for(const n of e){const e=this.getLayerOrFail(n);mp(e)&&(e.startTime=a,e.endTime=a+t,e.timelineRow=0,a=e.endTime,this.modifiedLayers.add(e.id))}}getDragSnapTimes(e){const t=new Set;for(const a of Object.values(this.state.allLayers.byId)){if(e.has(a.id))continue;const{start:n,end:s}=this.getLayerTimelineTimes(a);t.add(n),t.add(s)}return t.add(0),t}getTrimToRightSnapTimes(e){const t=Array.from(e).map((e=>this.getLayerOrFail(e)));if(!this.getLayersRange(t))return new Set;const a=new Set;for(const n of Object.values(this.state.allLayers.byId)){if(e.has(n.id))continue;const{start:t,end:s}=this.getLayerTimelineTimes(n);a.add(t),a.add(s)}return a.add(0),a}getTrimToLeftSnapTimes(e){const t=Array.from(e).map((e=>this.getLayerOrFail(e)));if(!this.getLayersRange(t))return new Set;const a=new Set;for(const n of Object.values(this.state.allLayers.byId)){if(e.has(n.id))continue;const{start:t,end:s}=this.getLayerTimelineTimes(n);a.add(t),a.add(s)}return a.add(0),a}getMinTrimLeftSec(e){const t=this.getLayerOrFail(e),a=this.getSortedLayersInRow(t.timelineRow),{start:n}=this.getLayerTimelineTimes(t);let s=0;if(this.shouldRowRipple())return s;for(const o of a){if(o.id===e)continue;const{end:t}=this.getLayerTimelineTimes(o);t<=n&&t>s&&(s=t)}return s}getMaxTrimRightSec(e){const t=this.getLayerOrFail(e),a=this.getSortedLayersInRow(t.timelineRow),{end:n}=this.getLayerTimelineTimes(t);let s=Number.MAX_SAFE_INTEGER;if(this.shouldRowRipple())return s;for(const o of a){if(o.id===e)continue;const{start:t}=this.getLayerTimelineTimes(o);t>=n&&t<s&&(s=t)}return s}fixLayerIfInvalid(e){const t=this.state.duration,{duration:a}=this.getLayerTimelineTimes(e),{duration:n,startTime:s,endTime:o}=fp(e);if(!mp(e)&&o>n){const t=o-n;console.warn("fixLayerIfInvalid - Trimming layer end",e.id),this.trimLayerEnd({id:e.id,offset:t})}if(t>0&&a<=0&&(console.warn("fixLayerIfInvalid - Deleting layer with invalid duration",e.id),this.deleteLayer({id:e.id})),s<0){console.warn("fixLayerIfInvalid - Trimming layer start",e.id);this.trimLayerStart({id:e.id,offset:-s})||(e.startTime=0)}}fixInvalidLayers(){for(const e of Object.values(this.state.allLayers.byId))this.fixLayerIfInvalid(e)}layerIsColliding(e){const t=this.getLayerOrFail(e),a=t.timelineRow,n=this.getSortedLayersInRow(a);let{start:s,end:o}=this.getLayerTimelineTimes(t);const{intro:i,outro:r}=this.getLayerAnimations(t);for(const l of n){if(t.id===l.id)continue;let{start:e,end:a}=this.getLayerTimelineTimes(l);if((null==i?void 0:i.isCrossTransition)&&i.outroLayerId===l.id){const e=i.transitionDuration;e||this.throw("Cross transition has no duration",{fingerprint:"cross-transition-no-duration",extra:{intro:i}}),a-=e/2,s+=e/2}else if((null==r?void 0:r.isCrossTransition)&&r.introLayerId===l.id){const t=r.transitionDuration;t||this.throw("Cross transition has no duration",{fingerprint:"cross-transition-no-duration",extra:{outro:r}}),o-=t/2,e+=t/2}if(FL(s,o,e,a)){return{leftShiftToResolve:a-s,rightShiftToResolve:e-o}}}return null}groupIsColliding({groupId:e}){const t=this.state.groups[e];if(!t)return null;const a=t.layers.map((e=>this.getLayerOrFail(e.id)));let n=null,s=null;for(const o of a){const e=this.layerIsColliding(o.id);e&&(n=null===n?e.leftShiftToResolve:Math.max(n,e.leftShiftToResolve),s=null===s?e.rightShiftToResolve:Math.min(s,e.rightShiftToResolve))}return null!==n&&null!==s?{leftShiftToResolve:n,rightShiftToResolve:s}:null}resolveSingleCollision({layerId:e}){const t=this.getLayerGroupInfo(e);if(t?this.groupIsColliding({groupId:t.groupId}):this.layerIsColliding(e))if(t){const e=new Map;for(const n of this.getGroupLayers(t.groupId)){const t=n.timelineRow??0,a=e.get(t)||[];a.push(n),e.set(t,a)}const a=Array.from(e.entries()).sort(((e,t)=>t[0]-e[0]));for(const[t,n]of a){if(n.every((e=>!this.layerIsColliding(e.id))))continue;const e=t+1;for(const t of n)t.timelineRow=e}}else{const t=this.getLayerOrFail(e),a=t.timelineRow??0;this.insertRow({row:a+1}),t.timelineRow=a}}resolveCollisions(){const e=new Set,t=new Set;for(const n of this.groupRippledLayers){const a=this.getLayerGroupInfo(n);a?t.add(a.groupId):e.add(n)}const a=[];for(const n of e){const e=this.getLayerOrNull(n);if(!e)continue;const{start:t}=this.getLayerTimelineTimes(e);a.push({layerId:n,start:t})}for(const n of t){const e=this.state.groups[n],t=(null==e?void 0:e.layers.map((e=>this.getLayerOrFail(e.id))))||[];if(!t.length)continue;const s=t.sort(((e,t)=>this.getLayerTimelineTimes(e).start-this.getLayerTimelineTimes(t).start))[0];if(!s)continue;const{start:o}=this.getLayerTimelineTimes(s);a.push({layerId:s.id,start:o})}a.sort(((e,t)=>e.start-t.start));for(const{layerId:n}of a)this.resolveSingleCollision({layerId:n})}getOpsAndNewState(){let e=[],t=[];const a=Te(this.state,((a,n)=>{e=a,t=n}));return{newState:a,ops:CQ({patches:e,oldState:this.oldState,newState:a}),revertOps:CQ({patches:t,oldState:a,newState:this.oldState})}}writeChanges(){const{newState:e,ops:t,revertOps:a}=this.getOpsAndNewState();return this.undoable&&PU.add({undo:AK.applyPatches({patches:a}),redo:AK.applyPatches({patches:t})}),Qz(t,this.srcFn),e}complete(){if(this.forceRowRippling)throw new Error("Forced row rippling did not get turned off!");try{for(const e of this.modifiedLayers){const t=this.getLayerOrNull(e);t&&(this.ensureNotJustOneOfStartAndEndTimeAreSet(t),this.roundLayerTimes(t),this.readOnly||this.validateLayer(t))}}catch(b9e){if(kl)throw b9e;return console.error(b9e),RE((()=>{l(b9e)})),this.oldState}return this.resolveCollisions(),this.readOnly?this.state:(ME(this.modifiedLayers),this.writeChanges())}}const kQ=({state:e,actionType:t,groupId:a=g(),layerIds:n})=>{const s={layers:n.map((e=>({id:e,saved:!1}))),saved:!1,rotation:0};return oG("groups",a,s,void 0,t),e.groups={...e.groups,[a]:s},{groupId:a,group:s}};function TQ(e,t){const a=t.groups[e.groupId],n={saved:!1,rotation:0,layers:[],...a,...e.updates};if(n.layers&&0!==n.layers.length){if(oG("groups",e.groupId,n,a,"UPDATE_GROUP"),e.undoable){const t={...a},n=Object.keys(e.updates).reduce(((e,a)=>(e[a]=t[a],e)),{});PU.add({undo:{type:"UPDATE_GROUP",groupId:e.groupId,updates:n,undoable:!1},redo:{type:"UPDATE_GROUP",groupId:e.groupId,updates:e.updates,undoable:!1}})}t.selectedTimelineRows=jG(n,t),t.groups={...t.groups,[e.groupId]:n},t.selectedItem={type:"group",id:e.groupId},t.updateKey=g()}}const EQ=({state:e,groupId:t,layerId:a})=>{const n=e.groups[t];if(!n)return;const s=n.layers.find((e=>e.id===a));if(!s)return;if(s.deselected)return;const o=n.layers.filter((e=>!e.deselected)),i=!n.saved,r=2===o.length;if(i){const s=n.layers.filter((e=>e.id!==a)),o={...n,layers:s};e.groups={...e.groups,[t]:o}}else{const o={...s,deselected:!0},i=[...n.layers.filter((e=>e.id!==a)),o],r={...n,layers:i};e.groups={...e.groups,[t]:r}}if(r){const n=o.find((e=>e.id!==a));n&&(e.selectedItem={type:"layer",id:n.id});const{groups:s}=FG(e,t);e.groups=s}},LQ=({groupId:e,layerId:t,state:a,actionType:n})=>{const s=a.groups[e];if(!s)return;const o=s.layers.find((e=>e.id===t));if(o&&!o.deselected)return;const i=!o&&!s.saved,r=!o&&s.saved,l=o;if(i){const n={...s,layers:[...s.layers,{id:t,saved:!1}]};a.groups={...a.groups,[e]:n}}else if(r){const e=s.layers.filter((e=>!e.deselected)).map((e=>e.id)),{groupId:o}=kQ({state:a,layerIds:[...e,t],actionType:n});a.selectedItem={type:"group",id:o}}else if(l){const n=[...s.layers.filter((e=>e.id!==t)),{...o,deselected:!1}],i={...s,layers:n};a.groups={...a.groups,[e]:i}}},jQ=({state:e,layerId:t})=>{const a=e.groups,n=Object.entries(a).find((([e,{layers:a,saved:n}])=>a.some((e=>e.id===t))&&n));return n?{groupId:n[0],group:n[1]}:void 0},RQ=(e,t)=>{var a,n,s,o,i,r,l,d,c,u;switch(t.type){case"ADD_ANIMATION":return te(e,(a=>{((e,t,a)=>{var n;const s=(null==(n=t.animations)?void 0:n.byId)||{};if(s[e.animationInstance.id]=e.animationInstance,t.animations.byId=s,e.undoable){const t={type:"DELETE_ANIMATION",animationId:e.animationInstance.id},a={type:"ADD_ANIMATION",animationInstance:e.animationInstance};PU.add({undo:t,redo:a})}oG("animations","byId",s,a.animations.byId,"ADD_ANIMATION_BY_ID")})(t,a,e)}));case"ADD_GROUP_TO_GROUP":{t.undoable&&PU.add({undo:{type:"REMOVE_GROUP_FROM_GROUP",srcGroupId:t.srcGroupId,destGroupId:t.destGroupId},redo:{type:"ADD_GROUP_TO_GROUP",srcGroupId:t.srcGroupId,destGroupId:t.destGroupId}});const a=e.groups[t.srcGroupId],n=e.groups[t.destGroupId];if(!a)throw Error("Missing source group");let s;if(n){const e=[...n.layers,...a.layers.map((e=>({...e,fromMergedGroup:t.srcGroupId,saved:!1})))];s={...n,layers:e,rotation:0,preMergeRotation:n.preMergeRotation||n.rotation}}else{s={layers:[...a.layers.map((e=>({...e,fromMergedGroup:t.srcGroupId,saved:!1})))],saved:!1,rotation:0}}const o=jG(s,e),i={...e.groups,[t.destGroupId]:s,[t.srcGroupId]:{...a,layers:[]}};return sG("groups",i,e.groups,"ADD_GROUP_TO_GROUP"),{...e,groups:i,selectedTimelineRows:o,updateKey:g()}}case"ADD_LAYERS":return function(e,t){const a=new AQ(t,e.type,{undoable:e.isUndoable});a.insertAddableLayers({layers:e.layers,depth:e.layerDepth});const n=a.complete(),s=n._id;return e.layers.forEach((e=>{e.asset_id&&e.cmlFileId&&PG(n,{asset_id:e.asset_id,cmlFileId:e.cmlFileId});const a=Object.values(t.allLayers.byId).some((t=>t.cmlFileId===e.cmlFileId&&t.id!==e.id));s&&e.cmlFileId&&!a&&ZH(e.cmlFileId,s)})),n}(t,e);case"ADD_LAYERS_TO_GROUP":{if(!(null==(a=t.layerIds)?void 0:a.length))return e;t.undoable&&PU.add({undo:{type:"REMOVE_LAYERS_FROM_GROUP",layerIds:t.layerIds,groupId:t.groupId,undoable:!1},redo:{type:"ADD_LAYERS_TO_GROUP",layerIds:t.layerIds,groupId:t.groupId,undoable:!1}});const n=e.groups[t.groupId];if(!n){const{group:a}=kQ({state:e,actionType:t.type,groupId:t.groupId,layerIds:t.layerIds}),n=jG(a,e);return{...e,selectedTimelineRows:n,selectedItem:{id:t.groupId,type:"group"},updateKey:g()}}const s=n.layers.map((e=>e.id)),o=[...n.layers,...t.layerIds.filter((e=>!s.includes(e))).map((e=>({id:e,saved:t.isUndoFromRemoveLayerFromGroup||!1})))],i={...n,layers:o,rotation:0,preMergeRotation:n.preMergeRotation||n.rotation},r=jG(i,e);return oG("groups",t.groupId,i,n,"ADD_LAYERS_TO_GROUP"),{...e,groups:{...e.groups,[t.groupId]:i},selectedTimelineRows:r,selectedItem:{id:t.groupId,type:"group"},updateKey:g()}}case"REMOVE_ALL_UNSAVED_GROUPS":return te(e,(a=>{const n=[];for(const[t,s]of Object.entries(e.groups))s.saved||n.push(t);if(t.undoable){const t={};for(const a of n)t[a]=e.groups[a];PU.add({undo:{type:"UPDATE_GROUPS",updates:t,undoable:!1},redo:{type:"REMOVE_ALL_UNSAVED_GROUPS",undoable:!1}})}n.forEach((e=>{delete a.groups[e]}))}));case"ADD_SELECTED_TIMELINE_ROWS":{const a=[...e.selectedTimelineRows];for(const e of t.timelineRows)a.includes(e)||a.push(e);return{...e,selectedTimelineRows:a}}case"DELETE_ANIMATION":return te(e,(a=>{e.animations.byId[t.animationId]&&((e,t)=>{var a;const n=t.animations.byId[e.animationId];if(!n)return;if(e.undoable){const t={type:"ADD_ANIMATION",animationInstance:n},a={type:"DELETE_ANIMATION",animationId:e.animationId};PU.add({undo:t,redo:a})}const s=(null==(a=t.animations)?void 0:a.byId)||{};delete s[e.animationId],t.animations.byId=s,oG("animations","byId",s,t.animations.byId,"DELETE_ANIMATION_BY_ID")})(t,a)}));case"BULK_DELETE_ANIMATIONS":{const a=new AQ(e,t.type);for(const e of t.animationIds)a.deleteAnimation(e);return a.complete()}case"ENHANCE_LAYER":{const{assetId:a,enhanceAssetJob:s}=t;if(!a)return e;const o={...e.enhanceAssetJobs||{}};return s.id?(o[a]=s,oG("enhanceAssetJobs",a,s,e.enhanceAssetJobs[a],"update enhanceAssetJobs")):(null==(n=e.enhanceAssetJobs)?void 0:n[a])&&(delete o[a],iG("enhanceAssetJobs",a,e.enhanceAssetJobs[a],"update enhanceAssetJobs")),{...e,enhanceAssetJobs:o}}case"START_ASSET_TEXT_JOB":{const{assetId:a,jobId:n}=t;if(!a)return e;const s={...e.assetTextJobIds||{}};return s[a]=n,e.assetTextJobIds?aG({path:["assetTextJobIds",a],val:n,oldVal:e.assetTextJobIds[a],srcFn:"START_ASSET_TEXT_JOB"}):aG({path:["assetTextJobIds"],val:{[a]:n},oldVal:void 0,srcFn:"START_ASSET_TEXT_JOB"}),{...e,assetTextJobIds:s}}case"REMOVE_ASSET_TEXT_JOB":{const{assetId:a}=t;if(!a)return e;const n={...e.assetTextJobIds||{}};return delete n[a],(null==(s=e.assetTextJobIds)?void 0:s[a])&&nG({path:["assetTextJobIds",a],oldVal:e.assetTextJobIds[a],srcFn:"REMOVE_ASSET_TEXT_JOB"}),{...e,assetTextJobIds:n}}case"REMOVE_GROUP":{const a=e.groups[t.groupId],n={...e.groups};return delete n[t.groupId],t.undoable&&PU.add({undo:{type:"UPDATE_GROUP",groupId:t.groupId,updates:{...a},undoable:!1},redo:{type:"REMOVE_GROUP",groupId:t.groupId,undoable:!1}}),{...e,groups:n}}case"REMOVE_GROUP_FROM_GROUP":{t.undoable&&PU.add({undo:{type:"ADD_GROUP_TO_GROUP",srcGroupId:t.srcGroupId,destGroupId:t.destGroupId},redo:{type:"REMOVE_GROUP_FROM_GROUP",srcGroupId:t.srcGroupId,destGroupId:t.destGroupId}});const a=e.groups[t.destGroupId];if(!a)throw Error("No dest group");const n=e.groups[t.srcGroupId];if(!n)throw Error("No src group");const s=a.layers.filter((e=>e.fromMergedGroup!==t.srcGroupId)),o=a.layers.filter((e=>e.fromMergedGroup===t.srcGroupId)).map((e=>({id:e.id,saved:!0}))),i={...a,layers:s};s.every((e=>e.saved))&&void 0!==i.preMergeRotation&&(i.rotation=i.preMergeRotation,i.preMergeRotation=void 0);const r={...n,layers:o},l={...e.groups,[t.destGroupId]:i,[t.srcGroupId]:r};return sG("groups",l,e.groups,"REMOVE_GROUP_FROM_GROUP"),{...e,groups:l,updateKey:g()}}case"REMOVE_LAYER":{const a=new AQ(e,t.source,{undoable:t.undoable});return a.deleteLayer({id:t.layer.id}),a.complete()}case"REMOVE_LAYERS":{const a=new AQ(e,t.source,{undoable:t.undoable,ripple:t.forceRipple});return a.deleteLayers({ids:[...t.layers.map((e=>e.id))]}),a.complete()}case"REMOVE_LAYERS_FROM_GROUP":{const a=e.groups[t.groupId];if(!a)return e;if(t.undoable){const e=a.layers.map((e=>e.id));PU.add({undo:{type:"ADD_LAYERS_TO_GROUP",layerIds:e,groupId:t.groupId,isUndoFromRemoveLayerFromGroup:!0,undoable:!1},redo:{type:"REMOVE_LAYERS_FROM_GROUP",layerIds:t.layerIds,groupId:t.groupId,undoable:!1}})}const n=new Set(t.layerIds),s=a?a.layers.filter((e=>!n.has(e.id))):[];if(s.length<=1){const a={...e.groups};delete a[t.groupId];const n=s[0]?s[0].id:null;return oG("groups",t.groupId,void 0,e.groups[t.groupId],"REMOVE_LAYERS_FROM_GROUP"),{...e,groups:a,selectedItem:n?{id:n,type:"layer"}:null,updateKey:g()}}const o={...a,layers:s};return s.every((e=>e.saved))&&void 0!==o.preMergeRotation&&(o.rotation=o.preMergeRotation,o.preMergeRotation=void 0),oG("groups",t.groupId,o,e.groups[t.groupId],"REMOVE_LAYERS_FROM_GROUP"),{...e,groups:{...e.groups,[t.groupId]:o},updateKey:g()}}case"REPOSITION_LAYER":return te(e,(e=>{var a,n;if(t.undoable){const s=dH(e.allLayers.byId[t.layer.id]);s&&PU.add({undo:{type:"REPOSITION_LAYER",layer:s,x:null==(a=s.position)?void 0:a.x,y:null==(n=s.position)?void 0:n.y},redo:{type:"REPOSITION_LAYER",layer:t.layer,x:t.x,y:t.y}})}!function(e,t){const{x:a,y:n}=t,s=a,o=n;let i=t.layer.position;const r=Object.values(e.allLayers.byId);for(const l of r)if(l.id===t.layer.id){"position"in l&&(i=l.position);break}EG(e,t.layer.id,{position:{...i,x:s,y:o}},"repositionLayer")}(e,t)}));case"RESIZE_LAYER":return e.allLayers.byId[t.layerId]?te(e,(e=>{var a,n,s,o;const i=dH(e.allLayers.byId[t.layerId]);t.undoable&&i&&PU.add({undo:{type:"RESIZE_LAYER",layerId:i.id,x:(null==(a=i.position)?void 0:a.x)??"0",y:(null==(n=i.position)?void 0:n.y)??"0",width:(null==(s=i.position)?void 0:s.width)??"100",height:(null==(o=i.position)?void 0:o.height)??"100"},redo:{type:"RESIZE_LAYER",layerId:i.id,x:t.x,y:t.y,width:t.width,height:t.height}}),i&&function(e,t,a){const{x:n,y:s,width:o,height:i}=a,r=n,l=s,d=o,c=i;let u=t.position;const p=Object.values(e.allLayers.byId);for(const m of p)if(m.id===t.id){"position"in m&&(u=m.position);break}EG(e,t.id,{position:{rotation:0,...u,x:r,y:l,width:d,height:c}},"resizeLayer")}(e,i,t)})):e;case"RESIZE_LINE_LAYER":return te(e,(e=>{var a,n,s,o;if(t.undoable){const i=dH(e.allLayers.byId[t.layer.id]);i&&PU.add({undo:{type:"RESIZE_LINE_LAYER",layer:i,x:null==(a=i.position)?void 0:a.x,y:null==(n=i.position)?void 0:n.y,width:null==(s=i.position)?void 0:s.width,height:null==(o=i.position)?void 0:o.height,linePointStartCorner:i.linePointStartCorner,lineRightAngle:i.lineRightAngle},redo:{type:"RESIZE_LINE_LAYER",layer:t.layer,x:t.x,y:t.y,width:t.width,height:t.height,linePointStartCorner:t.linePointStartCorner,lineRightAngle:t.lineRightAngle}})}!function(e,t){const{x:a,y:n,width:s,height:o,linePointStartCorner:i,lineRightAngle:r}=t,l=a,d=n,c=s,u=o;let p=t.layer.position,m=null;i&&(m={linePointStartCorner:i,lineRightAngle:r});const g=Object.values(e.allLayers.byId);for(const h of g)if(h.id===t.layer.id){"position"in h&&(p=h.position);break}EG(e,t.layer.id,{position:{rotation:0,...p,x:l,y:d,width:c,height:u},...m},"resizeLineLayer")}(e,t)}));case"SAVE_LAYER_GROUP":{const a=fQ(e.groups),n=e.groups[t.groupId];if(!n)throw Error("No group found to save");const s={...n},o=t.saved?s.layers.filter((e=>!e.deselected)).map((e=>({...e,saved:!0}))):s.layers.map((e=>({...e,saved:!1}))),i={...s,layers:o,saved:t.saved,name:s.name?s.name:a};return t.undoable&&PU.add({undo:{type:"UPDATE_GROUP",groupId:t.groupId,updates:{...s}},redo:{type:"SAVE_LAYER_GROUP",groupId:t.groupId,saved:t.saved}}),oG("groups",t.groupId,i,e.groups[t.groupId],"SAVE_LAYER_GROUP"),{...e,groups:{...e.groups,[t.groupId]:i},selectedItem:{type:"group",id:t.groupId},updateKey:g()}}case"SELECT_ITEM":{t.undoable&&PU.add({undo:{type:"SELECT_ITEM",item:e.selectedItem,undoable:!1},redo:{type:"SELECT_ITEM",item:t.item,undoable:!1}});let a=e;const n=t.item?RG(t.item,e):e.selectedTimelineRows;if(("group"===(null==(o=e.selectedItem)?void 0:o.type)?e.groups[e.selectedItem.id]:null)&&(null==(i=t.item)?void 0:i.id)!==(null==(r=e.selectedItem)?void 0:r.id)){const{groups:n,undo:s}=FG(e,(null==(l=e.selectedItem)?void 0:l.id)||"");a={...a,groups:n,updateKey:g()};const o=PU.getState(),i=o.actions[o.index];s&&i&&"STUDIO_DELETE_GROUP"!==i.type&&!1!==t.undoable&&PU.add({undo:s,redo:{type:"SELECT_ITEM",item:t.item}})}return"gap"===(null==(d=e.selectedItem)?void 0:d.type)&&e.timelineGap&&e.timelineGap.gapId===e.selectedItem.id&&(null==(c=t.item)?void 0:c.id)!==e.selectedItem.id&&(a={...a,timelineGap:null,updateKey:g()}),{...a,selectedItem:t.item,selectedTimelineRows:n}}case"SELECT_TRANSITION":if(t.undoable){const a={type:"SELECT_TRANSITION",payload:(null==(u=e.selectedTransition)?void 0:u.id)||null},n={type:"SELECT_TRANSITION",payload:t.payload};PU.add({undo:a,redo:n})}return{...e,selectedTransition:t.payload?{id:t.payload}:null};case"SET_LAYER_DUPLICATED":return{...e,layerDuplicated:t.layerDuplicated};case"ADD_OR_REMOVE_LAYER_FROM_SELECTION":{if(e.eyedropperMode)return e;const{layerId:a,undoable:n}=t;n&&PU.add({undo:{type:"ADD_OR_REMOVE_LAYER_FROM_SELECTION",layerId:a,undoable:!1},redo:{type:"ADD_OR_REMOVE_LAYER_FROM_SELECTION",layerId:a,undoable:!1}});const s=e.selectedItem;if(!s)return{...e,selectedItem:{id:a,type:"layer"}};const o=a;if("group"===s.type){const a=e.groups[s.id];if(!a)return console.error(`Selected group ${s.id} not found`),e;const n=a.layers.find((({id:e})=>e===o));n&&!n.deselected?EQ({state:e,groupId:s.id,layerId:o}):LQ({state:e,groupId:s.id,layerId:o,actionType:t.type})}else if(s.id){if(s.id===o)return{...e,selectedItem:null};const a=(({layerIds:e,state:t})=>{const a=t.groups,n=new Set(e);if(n.size<2)return;const s=new Set;for(const l of e){const{groupId:e}=jQ({state:t,layerId:l})??{};e&&s.add(e)}if(1!==s.size)return;const o=[...s][0];if(!o)return;const i=a[o];if(!i)return;const r=i.layers.map((e=>e.id));if(n.size===r.length){for(const e of r)if(!n.has(e))return;return{groupId:o,group:i}}})({state:e,layerIds:[s.id,o]});if(a)return{...e,selectedItem:{id:a.groupId,type:"group"}};const{groupId:n}=kQ({state:e,actionType:t.type,layerIds:[s.id,o]});return{...e,selectedItem:{id:n,type:"group"}}}return e}case"SET_LAYER_DESELECTION_IN_GROUP":{const{groupId:a,deselectionStateByLayerId:n,undoable:s}=t;if(s){const t=e.groups[a],s=null==t?void 0:t.layers.reduce(((e,t)=>({...e,[t.id]:!!t.deselected})),{});s&&PU.add({undo:{type:"SET_LAYER_DESELECTION_IN_GROUP",deselectionStateByLayerId:s,groupId:a,undoable:!1},redo:{type:"SET_LAYER_DESELECTION_IN_GROUP",deselectionStateByLayerId:n,groupId:a,undoable:!1}})}if(!e.groups[a])return e;const o=new Set,i=new Set;return Object.entries(n).forEach((([e,t])=>{t?i.add(e):o.add(e)})),[...o].forEach((n=>{LQ({groupId:a,layerId:n,state:e,actionType:t.type})})),[...i].forEach((t=>{EQ({groupId:a,layerId:t,state:e})})),e}case"SET_SCALE":return te(e,(e=>{!function(e,t){const{scaleX:a,scaleY:n}=t;let s=t.layer.position;const o=Object.values(e.allLayers.byId);for(const i of o)if(i.id===t.layer.id){"position"in i&&(s=i.position);break}EG(e,t.layer.id,{position:{...s,scaleX:a,scaleY:n}},"setScale")}(e,t)}));case"SET_SELECTED_TIMELINE_ROWS":return{...e,selectedTimelineRows:t.timelineRows};case"SET_STUDIO_FLIP_HORIZONTAL":return te(e,(e=>{if(t.undoable){const a=dH(e.allLayers.byId[t.layer.id]);a&&PU.add({undo:{type:"SET_STUDIO_FLIP_HORIZONTAL",layer:a,axis:t.axis},redo:{type:"SET_STUDIO_FLIP_HORIZONTAL",layer:t.layer,axis:t.axis}})}LG(e,t)}));case"SET_STUDIO_FLIP_VERTICAL":return te(e,(e=>{if(t.undoable){const a=dH(e.allLayers.byId[t.layer.id]);a&&PU.add({undo:{type:"SET_STUDIO_FLIP_VERTICAL",layer:a,axis:t.axis},redo:{type:"SET_STUDIO_FLIP_VERTICAL",layer:t.layer,axis:t.axis}})}LG(e,t)}));case"SET_STUDIO_ROTATION":return te(e,(e=>{var a;const n=dH(e.allLayers.byId[t.layerId]);t.undoable&&n&&PU.add({undo:{type:"SET_STUDIO_ROTATION",layerId:n.id,rotation:null==(a=n.position)?void 0:a.rotation},redo:{type:"SET_STUDIO_ROTATION",layerId:n.id,rotation:t.rotation}}),n&&function(e,t,a){let{rotation:n}=a;n=n<0?360+n:n;let s=t.position;const o=Object.values(e.allLayers.byId);for(const i of o)if(i.id===a.layerId){"position"in i&&(s=i.position);break}EG(e,a.layerId,{position:{...s,rotation:n}},"setRotation")}(e,n,t)}));case"SET_TIMELINE_GAP":{const{gapId:a,startTime:n,duration:s,timelineRow:o}=t,i={gapId:a,startTime:n,duration:s,timelineRow:o};return{...e,timelineGap:i}}case"SHOW_SNAP_LINES":return{...e,snapLines:t.lines};case"UPDATE_ANIMATION":return te(e,(a=>{var n;const s=(null==(n=a.animations)?void 0:n.byId)||{};if(s[t.animationId]={...s[t.animationId],...t.layerAnim},a.animations.byId=s,t.undoable){const a={type:"UPDATE_ANIMATION",animationId:t.animationId,layerAnim:e.animations.byId[t.animationId],undoable:!1},n={type:"UPDATE_ANIMATION",animationId:t.animationId,layerAnim:t.layerAnim,undoable:!1};PU.add({undo:a,redo:n})}oG("animations","byId",s,e.animations.byId,"UPDATE_ANIMATION_BY_ID")}));case"UPDATE_GROUP":return te(e,(e=>TQ(t,e)));case"UPDATE_GROUPS":return te(e,(a=>{if(t.undoable){const a=Object.entries(t.updates).reduce(((t,[a,n])=>{const s=e.groups[a];if(s){const e=Object.keys(n),o={};e.forEach((e=>{o[e]=s[e]})),t[a]=o}return t}),{});PU.add({undo:{type:"UPDATE_GROUPS",updates:a},redo:{type:"UPDATE_GROUPS",updates:t.updates}})}Object.entries(t.updates).forEach((([e,t])=>{TQ({undoable:!1,groupId:e,updates:t,type:"UPDATE_GROUP"},a)}))}));case"UPDATE_LAYER":return te(e,(e=>{const{layer:a,properties:n,undoable:s}=t;return WY({type:"UPDATE_LAYERS",srcFn:"UPDATE_LAYER",updates:{[a.id]:n},undoable:s},e)}));case"UPDATE_LAYERS":return te(e,(e=>{WY(t,e)}));case"UPDATE_ALL_LAYERS":return te(e,(a=>{t.undoable&&PU.add({undo:{type:"UPDATE_ALL_LAYERS",layers:Object.values(e.allLayers.byId),sceneIndex:t.sceneIndex},redo:{type:"UPDATE_ALL_LAYERS",layers:t.layers,sceneIndex:t.sceneIndex}}),t.layers.forEach((t=>{t&&(a.allLayers.byId[t.id]=t,aG({path:["allLayers","byId",t.id],val:t,oldVal:e.allLayers.byId[t.id],srcFn:"UPDATE_ALL_LAYERS"}))})),a.duration=NG(a,nA(e)),sG("duration",a.duration,e.duration,"UPDATE_ALL_LAYERS"),MG(e,a.duration)}));case"UPDATE_SELECTED_TIMELINE_ROWS":{const t=e.selectedItem?RG(e.selectedItem,e):e.selectedTimelineRows;return{...e,selectedTimelineRows:t}}case"UPDATE_UPLOADED_LAYER":return UY(t,e);default:return e}},NQ={speakerConfigs:{},speakerLabelsMap:{},showSpeakerLabelsInEditor:!1,showSpeakerLabelsOnCanvas:!1,speakerIdToTranscriptTag:{}},MQ=(e,t,a,n)=>{if(!e.magicSubtitleSpeakers)return e.magicSubtitleSpeakers={...NQ,speakerConfigs:{[t]:a}},void aG({path:["magicSubtitleSpeakers"],val:dH(e.magicSubtitleSpeakers),oldVal:void 0,srcFn:n});const s=dH(e.magicSubtitleSpeakers.speakerConfigs),o=dH(e.magicSubtitleSpeakers.speakerConfigs[t]||{});e.magicSubtitleSpeakers.speakerConfigs[t]={...o,...a},aG({path:["magicSubtitleSpeakers","speakerConfigs"],val:dH(e.magicSubtitleSpeakers.speakerConfigs),oldVal:s,srcFn:n})};function PQ(e,t,a){(e=>!qc(e)||e[Zc.start]<=e[Zc.end])(t)||RE((()=>{l(new Error("Invalid subtitle word update"),{tags:{source:a},extra:{frame:e,word:t}})}))}function FQ(e,t){for(const a of e[Xc.words])PQ(e,a,t)}function DQ(e,t){e.magicSubtitleFramesByAsset&&0!==Object.keys(e.magicSubtitleFramesByAsset).length||(aG({path:["magicSubtitleFramesByAsset"],val:dH(e.magicSubtitleFramesByAsset),oldVal:void 0,srcFn:"initializeMagicSubtitleFrames"}),e.magicSubtitleFramesByAsset={});const a=e.magicSubtitleFramesByAsset[t];if(!a||0===Object.keys(a).length){const n={byId:{}};aG({path:["magicSubtitleFramesByAsset",t],val:n,oldVal:dH(a),srcFn:"initializeMagicSubtitleFrames"}),e.magicSubtitleFramesByAsset[t]=n}return e.magicSubtitleFramesByAsset[t]}function OQ(e,t){const{assetId:a,frameId:n,undoable:s}=e,o=DQ(t,a),i=dH(o.byId[n]);if(!i)throw new $v(`Could not find frame ${n}`,{fingerprint:"magic-subtitles-no-frame-with-id-4"});const r={type:"INSERT_MAGIC_SUBTITLE_FRAME",assetId:a,frame:i,id:n,undoable:!1},l={...e,undoable:!1};s&&PU.add({undo:r,redo:l}),delete o.byId[n],nG({path:["magicSubtitleFramesByAsset",e.assetId,"byId",n],oldVal:i,srcFn:e.type})}function UQ(e,t,a){var n,s;const{assetId:o,frame:i,id:r}=e;if(((null==(s=null==(n=a.magicSubtitleFramesByAsset)?void 0:n[o])?void 0:s.byId)||{})[r])throw Error(`Frame with id ${r} already exists in asset ${o}`);DQ(t,o).byId[r]=i,aG({path:["magicSubtitleFramesByAsset",e.assetId,"byId",r],val:i,oldVal:void 0,srcFn:e.type})}const BQ=(e,t)=>{var a;switch(t.type){case"ADD_MAGIC_SUBTITLE":return te(e,(e=>{e.magicSubtitles&&0!==Object.keys(e.magicSubtitles).length||(e.magicSubtitles={},sG("magicSubtitles",{},void 0,"ADD_MAGIC_SUBTITLE"));const a=c.omit(t.initialProperties,oA),n=c.pick(t.initialProperties,oA),s=e.magicSubtitles[t.assetId],o=s?{...s,...n,enabled:!0}:{...n,translatedLanguageCode:n.translatedLanguageCode,enabled:!0};e.magicSubtitles[t.assetId]=o,aG({path:["magicSubtitles",t.assetId],val:o,oldVal:s,srcFn:"ADD_MAGIC_SUBTITLE"});const i=e.magicSubtitlesGlobal;e.magicSubtitlesGlobal={...i,...a},aG({path:["magicSubtitlesGlobal"],val:e.magicSubtitlesGlobal,oldVal:i,srcFn:"ADD_MAGIC_SUBTITLE"}),t.undoable&&PU.add({undo:{...t,type:"REMOVE_MAGIC_SUBTITLE",undoable:!1},redo:{...t,undoable:!1}})}));case"REMOVE_MAGIC_SUBTITLE":return te(e,(e=>{if(!e.magicSubtitles)return;const a=e.magicSubtitles[t.assetId];if(!a)return;const n=dH(a);delete e.magicSubtitles[t.assetId],aG({path:["magicSubtitles",t.assetId],val:void 0,oldVal:n,srcFn:"REMOVE_MAGIC_SUBTITLE"}),t.undoable&&PU.add({undo:{...t,type:"ADD_MAGIC_SUBTITLE",undoable:!1,initialProperties:n},redo:{...t,undoable:!1}})}));case"UPDATE_MAGIC_SUBTITLE_ASSET_CONFIG":return te(e,(e=>{e.magicSubtitles||(e.magicSubtitles={},aG({path:["magicSubtitles"],val:{},oldVal:void 0,srcFn:"UPDATE_MAGIC_SUBTITLE"}));const a=c.cloneDeep(dH(e.magicSubtitles[t.assetId]));e.magicSubtitles[t.assetId]={...e.magicSubtitles[t.assetId],...t.updates},aG({path:["magicSubtitles",t.assetId],val:e.magicSubtitles[t.assetId],oldVal:a,srcFn:"UPDATE_MAGIC_SUBTITLE"});const n={...a};t.undoable&&(Object.keys(t.updates).forEach((e=>{e in n||(n[e]=void 0)})),PU.add({undo:{...t,undoable:!1,updates:n},redo:{...t,undoable:!1}}))}));case"UPDATE_MAGIC_SUBTITLE_GLOBAL_CONFIG":return te(e,(e=>{e.magicSubtitles||(e.magicSubtitles={},aG({path:["magicSubtitles"],val:{},oldVal:void 0,srcFn:"UPDATE_MAGIC_SUBTITLE"}));const a={...c.cloneDeep(dH(e.magicSubtitlesGlobal))};t.override?e.magicSubtitlesGlobal=t.updates:e.magicSubtitlesGlobal={...e.magicSubtitlesGlobal,...t.updates,style:{...By.style,...a.style,...t.updates.style}},aG({path:["magicSubtitlesGlobal"],val:e.magicSubtitlesGlobal,oldVal:a,srcFn:"UPDATE_MAGIC_SUBTITLE"}),t.undoable&&PU.add({undo:{...t,undoable:!1,updates:a,override:!0},redo:{...t,undoable:!1}})}));case"SET_MAGIC_SUBTITLE_FRAMES":return te(e,(e=>{if(null===t.frames){if(!e.magicSubtitleFramesByAsset)return;const a=e.magicSubtitleFramesByAsset[t.assetId];if(!a)return;delete e.magicSubtitleFramesByAsset[t.assetId];const n=dH(a);if(aG({path:["magicSubtitleFramesByAsset",t.assetId],val:void 0,oldVal:n,srcFn:"SET_MAGIC_SUBTITLE_FRAMES"}),t.undoable){const e={...t,frames:n.byId,undoable:!1},a={...t,undoable:!1};PU.add({undo:e,redo:a})}return}const a=DQ(e,t.assetId),n=dH(a.byId);if(a.byId={},aG({path:["magicSubtitleFramesByAsset",t.assetId,"byId"],val:{},oldVal:n,srcFn:"SET_MAGIC_SUBTITLE_FRAMES"}),a.byId=t.frames,aG({path:["magicSubtitleFramesByAsset",t.assetId,"byId"],val:t.frames,oldVal:dH(a.byId),srcFn:"SET_MAGIC_SUBTITLE_FRAMES"}),t.undoable){const e={...t,frames:n,undoable:!1},a={...t,undoable:!1};PU.add({undo:e,redo:a})}for(const s of Object.values(a))for(const e of Object.values(s))e&&FQ(e,t.type)}));case"INSERT_MAGIC_SUBTITLE_FRAME":{const{assetId:a,undoable:n,id:s}=t,o={type:"REMOVE_MAGIC_SUBTITLE_FRAME",assetId:a,frameId:s,undoable:!1},i={...t,undoable:!1};return n&&PU.add({undo:o,redo:i}),FQ(t.frame,t.type),te(e,(a=>{UQ(t,a,e)}))}case"INSERT_MAGIC_SUBTITLE_FRAMES":if(t.undoable){const a={type:"REMOVE_MAGIC_SUBTITLE_FRAMES",frameIdPairs:t.assetIdFramePairs.map((({assetId:t,id:a})=>{var n,s;if(((null==(s=null==(n=e.magicSubtitleFramesByAsset)?void 0:n[t])?void 0:s.byId)||{})[a])throw Error(`Frame with id ${a} already exists in asset ${t}`);return{assetId:t,id:a}})).map((({assetId:e,id:t})=>({assetId:e,id:t}))),undoable:!1},n={...t,undoable:!1};PU.add({undo:a,redo:n})}return te(e,(a=>{t.assetIdFramePairs.forEach((({assetId:n,frame:s,id:o})=>{UQ({type:"INSERT_MAGIC_SUBTITLE_FRAME",assetId:n,frame:s,id:o,undoable:!1},a,e),FQ(s,t.type)}))}));case"REMOVE_MAGIC_SUBTITLE_FRAME":return te(e,(e=>{OQ(t,e)}));case"REMOVE_MAGIC_SUBTITLE_FRAMES":return te(e,(a=>{if(t.undoable){const a={type:"INSERT_MAGIC_SUBTITLE_FRAMES",assetIdFramePairs:t.frameIdPairs.map((({assetId:t,id:a})=>{var n,s;const o=null==(s=null==(n=e.magicSubtitleFramesByAsset)?void 0:n[t])?void 0:s.byId[a];if(!o)throw Error(`Attempting to delete missing frame ${a}`);return{assetId:t,frame:o,id:a}})),undoable:!1},n={...t,undoable:!1};PU.add({undo:a,redo:n})}t.frameIdPairs.forEach((({assetId:e,id:t})=>{OQ({type:"REMOVE_MAGIC_SUBTITLE_FRAME",assetId:e,frameId:t,undoable:!1},a)}))}));case"UPDATE_MAGIC_SUBTITLE_FRAME":return te(e,(e=>{const{assetId:a,frameId:n,undoable:s,update:o}=t,i=DQ(e,a),r=dH(i.byId[n]);if(!r)throw new $v(`Missing frame ${n}`,{extra:{numFrames:Object.keys(i.byId).length}});const l={type:"UPDATE_MAGIC_SUBTITLE_FRAME",assetId:a,frameId:n,update:c.pick(r,Object.keys(o)),undoable:!1},d={...t,undoable:!1};s&&PU.add({undo:l,redo:d}),i.byId[n]={...r,...o};const u=dH(i.byId[n]);aG({path:["magicSubtitleFramesByAsset",t.assetId,"byId",n],val:u,oldVal:r,srcFn:t.type}),FQ(u,t.type)}));case"UPDATE_MAGIC_SUBTITLE_FRAMES":return te(e,(e=>{const{undoable:a,updates:n}=t,s=[];for(const{assetId:r,frameId:l,update:d}of n){const a=DQ(e,r),n=dH(a.byId[l]);if(!n)throw new $v(`Missing frame ndx ${l}`,{extra:{numFrames:Object.keys(a.byId).length}});const o=Object.keys(d).reduce(((e,t)=>(e[t]=n[t]||void 0,e)),{});s.push({assetId:r,frameId:l,update:o}),a.byId[l]={...n,...d};const i=dH(a.byId[l]);aG({path:["magicSubtitleFramesByAsset",r,"byId",l],val:i,oldVal:n,srcFn:t.type}),FQ(i,t.type)}const o={type:"UPDATE_MAGIC_SUBTITLE_FRAMES",updates:s,undoable:!1},i={...t,undoable:!1};a&&PU.add({undo:o,redo:i})}));case"INSERT_MAGIC_SUBTITLE_FRAME_WORD":{const{assetId:a,frameId:n,wordNdx:s,undoable:o,word:i}=t,r={type:"REMOVE_MAGIC_SUBTITLE_FRAME_WORD",assetId:a,frameId:n,wordNdx:s,undoable:!1},l={...t,undoable:!1};return o&&PU.add({undo:r,redo:l}),te(e,(e=>{var o,r,l;const d=DQ(e,t.assetId),c=d.byId[n];if(!c){const e=null==(l=null==(r=null==(o=window.state)?void 0:o.studioLocal.magicSubtitleFramesByAsset)?void 0:r[a])?void 0:l.byId,t=Object.values(e||{}).length>0,s=!!(null==e?void 0:e[n]);throw new $v(`Missing frame ${n}`,{extra:{numFrames:Object.keys(d.byId).length,hasLocalFrames:t},tags:{hasLocalFrames:t,localFrameExists:s}})}c[Xc.words].splice(s,0,i),function({path:e,val:t,srcFn:a,skipLastUpdated:n}){Jz({p:e,li:t},{srcFn:a,skipLastUpdated:n})}({path:["magicSubtitleFramesByAsset",t.assetId,"byId",t.frameId,Xc.words,s],val:i,srcFn:t.type}),PQ(dH(c),i,t.type)}))}case"REMOVE_MAGIC_SUBTITLE_FRAME_WORD":return te(e,(e=>{const{assetId:a,frameId:n,wordNdx:s,undoable:o}=t,i=DQ(e,a),r=i.byId[n];if(!r)throw new $v(`Missing frame ${n}`,{extra:{numFrames:Object.keys(i.byId).length}});const l=dH(r[Xc.words][s]);if(!l)return;const d={type:"INSERT_MAGIC_SUBTITLE_FRAME_WORD",assetId:a,frameId:n,wordNdx:s,word:l,undoable:!1},c={...t,undoable:!1};o&&PU.add({undo:d,redo:c}),r[Xc.words].splice(s,1),function({path:e,oldVal:t,srcFn:a,skipLastUpdated:n}){Jz({p:e,ld:t},{srcFn:a,skipLastUpdated:n})}({path:["magicSubtitleFramesByAsset",t.assetId,"byId",t.frameId,Xc.words,s],oldVal:l,srcFn:t.type})}));case"UPDATE_MAGIC_SUBTITLE_FRAME_WORD":{const n=null==(a=e.magicSubtitleFramesByAsset)?void 0:a[t.assetId];if(!n)throw new $v(`Missing frames when trying to update words for asset ${t.assetId}`);const{assetId:s,frameId:o,wordNdx:i,undoable:r,undoBeforeWord:l={},update:d}=t,u=n.byId[o];if(!u)throw new $v(`Missing frame ${o}`,{extra:{numFrames:Object.keys(n.byId).length}});const p=u[Xc.words][i];if(!p)throw new $v(`Missing frame ${o} word ${i}`,{fingerprint:"magic-subtitles-no-word-word-at-index"});const m={...p,...l},g=c.pick(m,Object.keys(d)),h={type:"UPDATE_MAGIC_SUBTITLE_FRAME_WORD",assetId:s,frameId:o,wordNdx:i,update:g,shouldSync:!0,undoable:!1},v={...t,shouldSync:!0,undoable:!1};r&&PU.add({undo:h,redo:v});const f={...p,...d};return t.shouldSync&&function({path:e,val:t,oldVal:a,srcFn:n,skipLastUpdated:s,extra:o}){Jz({p:e,li:t,ld:a},{srcFn:n,skipLastUpdated:s,...o})}({path:["magicSubtitleFramesByAsset",t.assetId,"byId",t.frameId,Xc.words,i],val:f,oldVal:m,srcFn:t.type,extra:{undoable:r,undoBeforeWord:l,update:d}}),PQ(u,f,t.type),{...e,magicSubtitleFramesByAsset:{...e.magicSubtitleFramesByAsset,[t.assetId]:{...n,byId:{...n.byId,[o]:{...u,[Xc.words]:u[Xc.words].map(((e,t)=>t===i?f:e))}}}}}}case"UPDATE_MAGIC_SUBTITLE_FRAMES_SPEAKER":return te(e,(e=>{const{undoable:a,newSpeakerId:n,assetIdsToFrameIds:s}=t;let o;if(Object.keys(s).forEach((t=>{var a;const i=null==(a=e.magicSubtitleFramesByAsset)?void 0:a[t];if(!i)return;(s[t]??[]).forEach((e=>{const a=i.byId[e];if(!a)return;const s=dH(a[Xc.words]);null==a||a[Xc.words].forEach((e=>{o=e[Zc.speaker],e[Zc.speaker]=n}));const r=dH(a[Xc.words]);aG({path:["magicSubtitleFramesByAsset",t,"byId",e,Xc.words],oldVal:s,val:r,srcFn:"UPDATE_MAGIC_SUBTITLE_FRAMES_SPEAKER"})}))})),a){const e={type:"UPDATE_MAGIC_SUBTITLE_FRAMES_SPEAKER",newSpeakerId:o,assetIdsToFrameIds:s,undoable:!1},a={...t,undoable:!1};PU.add({undo:e,redo:a})}}));default:return e}};function WQ(e){return{type:"SET_CREATE_PERSONA_OVERLAY_DATA",payload:e}}function VQ(e){return{type:"SET_PERSONA_SIDEBAR_DATA",payload:e}}function HQ(e){return{type:"ADD_PERSONA_TO_PROJECT",payload:e}}function zQ(e){return{type:"SET_PREFERRED_LIP_SYNC_PROVIDER",payload:e}}const GQ=(e,t,a,n,s)=>{var o,i,r,l,d,c;if(!e.speakerFocusEdits||0===Object.keys(e.speakerFocusEdits).length){aG({path:["speakerFocusEdits"],val:{},oldVal:dH(e.speakerFocusEdits),srcFn:"initializeSpeakerFocusEdits"}),e.speakerFocusEdits={}}if(!t)return;const u=e.speakerFocusEdits[t];if(!u||0===Object.keys(u).length){const a={};aG({path:["speakerFocusEdits",t],val:a,oldVal:dH(u),srcFn:"initializeSpeakerFocusEdits"}),e.speakerFocusEdits[t]=a}if(!s)return;const p=null==(o=e.speakerFocusEdits[t])?void 0:o[OF(s)];if(!p||0===Object.keys(p).length){const a={};aG({path:["speakerFocusEdits",t,OF(s)],val:a,oldVal:dH(p),srcFn:"initializeSpeakerFocusEdits"}),e.speakerFocusEdits[t][OF(s)]=a}if(!a)return;const m=null==(r=null==(i=e.speakerFocusEdits[t])?void 0:i[OF(s)])?void 0:r[a];if(!m||0===Object.keys(m).length){const n={};aG({path:["speakerFocusEdits",t,OF(s),a],val:n,oldVal:dH(m),srcFn:"initializeSpeakerFocusEdits"}),e.speakerFocusEdits[t][OF(s)][a]=n}if(!n)return;const g=null==(c=null==(d=null==(l=e.speakerFocusEdits[t])?void 0:l[OF(s)])?void 0:d[a])?void 0:c[n];if(!g||0===Object.keys(g).length){const o={x:0,y:0,width:0,height:0};aG({path:["speakerFocusEdits",t,OF(s),a,n],val:o,oldVal:dH(g),srcFn:"initializeSpeakerFocusEdits"}),e.speakerFocusEdits[t][OF(s)][a][n]=o}},YQ=(e,t)=>{switch(t.type){case"SET_SPEAKER_FOCUS_EDIT":return te(e,(e=>{const{assetId:a,groupId:n,speakerId:s,edit:o,undoable:i,aspectRatio:r}=t,l=e.speakerFocusEdits?MX({assetId:a,aspectRatio:r,groupId:n,speakerId:s,edits:e.speakerFocusEdits}):void 0;GQ(e,a,n,s,r),i&&PU.add({undo:l?{type:"SET_SPEAKER_FOCUS_EDIT",assetId:a,groupId:n,speakerId:s,aspectRatio:r,edit:l}:{type:"UNSET_SPEAKER_FOCUS_EDIT",assetId:a,groupId:n,speakerId:s,aspectRatio:r},redo:{type:"SET_SPEAKER_FOCUS_EDIT",assetId:a,groupId:n,speakerId:s,aspectRatio:r,edit:o}}),e.speakerFocusEdits=(({assetId:e,groupId:t,speakerId:a,aspectRatio:n,edits:s,edit:o})=>{var i,r,l;return{...s,[e]:{...s[e]??{},[OF(n)]:{...(null==(i=s[e])?void 0:i[OF(n)])??{},[t]:{...(null==(l=null==(r=s[e])?void 0:r[OF(n)])?void 0:l[t])??{},[a]:o}}}}})({assetId:a,aspectRatio:r,groupId:n,speakerId:s,edits:e.speakerFocusEdits,edit:o}),aG({path:["speakerFocusEdits",a,OF(r),n,s],val:o,oldVal:l,srcFn:t.type})}));case"UNSET_SPEAKER_FOCUS_EDIT":return te(e,(e=>{const{assetId:a,groupId:n,speakerId:s,undoable:o,aspectRatio:i}=t,r=e.speakerFocusEdits?MX({assetId:a,aspectRatio:i,groupId:n,speakerId:s,edits:e.speakerFocusEdits}):void 0;GQ(e,a,n,s,i),o&&PU.add({undo:r?{type:"SET_SPEAKER_FOCUS_EDIT",assetId:a,groupId:n,speakerId:s,aspectRatio:i,edit:r}:{type:"UNSET_SPEAKER_FOCUS_EDIT",assetId:a,groupId:n,speakerId:s,aspectRatio:i},redo:{type:"UNSET_SPEAKER_FOCUS_EDIT",assetId:a,groupId:n,speakerId:s,aspectRatio:i}}),e.speakerFocusEdits=(({assetId:e,groupId:t,speakerId:a,aspectRatio:n,edits:s})=>{var o,i,r;const l={...s};return null==(r=null==(i=null==(o=l[e])?void 0:o[OF(n)])?void 0:i[t])||delete r[a],l})({assetId:a,aspectRatio:i,groupId:n,speakerId:s,edits:e.speakerFocusEdits}),nG({path:["speakerFocusEdits",a,OF(i),n,s],oldVal:r,srcFn:t.type})}));case"CLEAR_SPEAKER_FOCUS_EDITS":return te(e,(e=>{GQ(e),nG({path:["speakerFocusEdits"],oldVal:e.speakerFocusEdits,srcFn:t.type}),e.speakerFocusEdits=void 0}));default:return e}},KQ=new Set(["fullPath","image_url"]),XQ=new Set(["allLayers","analytics","animations","appliedHighlight","assetTextJobIds","assetUploadedSubtitles","autoRoughCutJobIds","background","blob_name","blueprintChanges","broll","canvasBlur","contextMenuUsed","copiedProjectId","createdAt","creatorEmail","creatorId","customOutputHeight","customOutputWidth","deletedLayerDict","dimensions","done","draft","dubbing","dubbingFrames","duration","enhanceAssetJobs","exportFrameTime","exportQuality","exportResolution","fromBrandKitTemplate","fullPath","gifType","groups","hasBeenResizedByUser","hasCustomOutput","imageType","image_url","isBrandKitTemplate","isDragging","keyframing","lastSaved","layerDuplicated","lipSync","localId","magicSubtitleFramesByAsset","magicSubtitleSpeakers","magicSubtitles","magicSubtitlesGlobal","name","overlayMounted","pendingGoogleDriveUploads","personas","playCanvasPreviewOnMount","presenceUsedColors","privacy","processingSpeedType","projectId","projectVersion","quality","ratio","readonly","refreshKey","safeZoneChosen","selectedTimelineRows","selectedTransition","showCanvas","snapToGrid","speakerFocusEdits","teamId","templateSlug","tetheredWaveforms","thisProjectCMLFiles","timelineGap","topFontsLoaded","transcriptionEditCounts","updateKey","usedEyedropper","userSpecificSettings","userSpecificSettingsAnonymous","videoType","watermark","workflowId","workspaceId"]),ZQ=["topLeft","topRight","bottomLeft","bottomRight"],qQ=["middleLeft","middleRight"],JQ=[...ZQ,...qQ],$Q=["top","left","bottom","right"],QQ=(e,t)=>Math.sqrt(e*e+t*t),e0=({x:e,y:t},{x:a,y:n})=>180*Math.atan2(n-t,a-e)/Math.PI,t0=e=>e*Math.PI/180,a0=e=>Math.cos(t0(e)),n0=e=>Math.sin(t0(e)),s0=(e,t,a)=>{let n=t,s=e+t;return s<=a&&(n=a-e,s=a),{deltaW:n,width:s}},o0=(e,t,a)=>{let n=t,s=e+t;return s<=a&&(n=a-e,s=a),{deltaH:n,height:s}},i0=(e,t,a,n,s,o,i)=>{const{rotateAngle:r}=t;let l,d,{width:c,height:u,centerX:p,centerY:m}=t,g=n,h=a;switch(e){case"topRight":if(s){const e=c+a,t=u-n,o=1/s+s;h=(e*s+t)/o-c,g=u-(e+t/s)/o}g=-g,d=s0(c,h,o),l=o0(u,g,i),c=d.width,h=d.deltaW,u=l.height,g=l.deltaH,p+=h/2*a0(r)+g/2*n0(r),m+=h/2*n0(r)-g/2*a0(r);break;case"topLeft":if(s){const e=c-a,t=u-n,o=1/s+s;h=c-(e*s+t)/o,g=u-(e+t/s)/o}h=-h,g=-g,d=s0(c,h,o),l=o0(u,g,i),c=d.width,h=d.deltaW,u=l.height,g=l.deltaH,p-=h/2*a0(r)-g/2*n0(r),m-=h/2*n0(r)+g/2*a0(r);break;case"bottomRight":if(s){const e=c+a,t=u+n,o=1/s+s;h=(e*s+t)/o-c,g=(e+t/s)/o-u}d=s0(c,h,o),l=o0(u,g,i),c=d.width,h=d.deltaW,u=l.height,g=l.deltaH,p+=h/2*a0(r)-g/2*n0(r),m+=h/2*n0(r)+g/2*a0(r);break;case"bottomLeft":if(s){const e=c-a,t=u+n,o=1/s+s;h=c-(e*s+t)/o,g=(e+t/s)/o-u}h=-h,d=s0(c,h,o),l=o0(u,g,i),c=d.width,h=d.deltaW,u=l.height,g=l.deltaH,s&&(u=c/s,g=h/s),p-=h/2*a0(r)+g/2*n0(r),m-=h/2*n0(r)-g/2*a0(r);break;case"middleRight":g=0,d=s0(c,h,o),l=o0(u,g,i),c=d.width,h=d.deltaW,u=l.height,g=l.deltaH,p+=h/2*a0(r)-g/2*n0(r),m+=h/2*n0(r)+g/2*a0(r);break;case"middleLeft":h=-h,g=0,d=s0(c,h,o),l=o0(u,g,i),c=d.width,h=d.deltaW,u=l.height,g=l.deltaH,p-=h/2*a0(r)+g/2*n0(r),m-=h/2*n0(r)-g/2*a0(r)}return{position:{centerX:p,centerY:m},size:{width:c,height:u}}},r0=({layerStartPos:e,groupCurrentPos:t,groupStartPos:a})=>{const{x:n,y:s,width:o,height:i}=e,{x:r,y:l}=t,{x:d,y:c}=a,u=t.height/a.height;return{x:n+(r-d+(d-n)*(1-u)),y:s+(l-c+(c-s)*(1-u)),width:o*u,height:i*u}},l0=(e,t,a)=>{const n=e.x+e.width/2,s=e.y+e.height/2,o=t.x+t.width/2,i=t.y+t.height/2,r=t.rotation-a.rotation,l=r*Math.PI/180;let d;d=a.rotation!==e.rotation?r+e.rotation:t.rotation;const c=Math.cos(l)*(e.x-n)-Math.sin(l)*(e.y-s)+n,u=Math.cos(l)*(e.y-s)+Math.sin(l)*(e.x-n)+s,p=Math.cos(l)*(e.x-o)-Math.sin(l)*(e.y-i)+o,m=Math.cos(l)*(e.y-i)+Math.sin(l)*(e.x-o)+i;return{newX:e.x+p-c,newY:e.y+m-u,layerRotation:d}},d0=(e,t,a,n)=>{const s=t-n,o=a-n;return{topLeft:[0,0,s,o],topRight:[s,0,0,o],bottomLeft:[0,o,s,0],bottomRight:[s,o,0,0],middleLeft:[0,o/2,s,0],middleRight:[s,o/2,0,0]}[e]};function c0(){const e=new Ee;return{insert:(t,a)=>e.insert(t,a),intersectAny:t=>e.intersect_any(t),search:(t,a)=>e.search(t,a),remove:(t,a)=>e.remove(t,a),keys:()=>e.keys,values:()=>e.values}}class u0 extends Le{constructor(e){var t=(...e)=>(super(...e),a(this,"timelineRow"),a(this,"introDuration"),a(this,"outroDuration"),a(this,"layerId"),this);if("layer"in e){const{layer:a}=e,[n,s]=zC(a);if(void 0===a.timelineRow)throw new Error("Layer must have timeline row");t(n,s);const{introDuration:o,outroDuration:i}=jT(a);this.introDuration=o,this.outroDuration=i,this.timelineRow=a.timelineRow,this.layerId=a.id}else{const{start:a,end:n,introDuration:s,outroDuration:o,timelineRow:i,layerId:r}=e;t(a,n),this.introDuration=s,this.outroDuration=o,this.timelineRow=i,this.layerId=r??fe(12)}}clone(){return super.clone()}less_than(e){return this.timelineRow===e.timelineRow?this.low<e.low:this.timelineRow<e.timelineRow}equal_to(e){return this.low===e.low&&this.high===e.high}intersect(e){const t=this.low+this.introDuration,a=this.high-this.outroDuration,n=e.low+e.introDuration,s=e.high-e.outroDuration,o=t<s&&a>n,i=this.timelineRow===e.timelineRow,r=VC(t,s,.01)||VC(a,n,.01),l=this.layerId===e.layerId;return o&&i&&!r&&!l}not_intersect(e){return!this.intersect(e)}output(){return super.output()}}const p0=m({initialState:{},name:"selectedTabs",reducers:{selectTab:(e,t)=>{t.payload.tabId?e[t.payload.tabContainerId]=t.payload.tabId:delete e[t.payload.tabContainerId],t.payload.tabId!==rK.visuals||e["visuals-sidebar"]||(e["visuals-sidebar"]="videos")}}}),{selectTab:m0}=p0.actions,g0=Math.random()<.05;let h0=[],v0=null;const f0=(e,t)=>{v0||(v0=setTimeout((()=>{v0=null,Mu().dispatch(_B(h0)),h0=[]}),0)),h0.push({font:e,status:t})},b0=new Map;function y0(e){return document.fonts.check(`12px "${e}"`)}function w0({name:e,url:t}){const a=`${e}_${t}`;let n=b0.get(a);return n||(n=new Promise(((a,n)=>{function s(e){setTimeout((()=>a(e)),0)}S0.runExclusive((()=>{const a=new window.FontFace(e,`url(${t})`);document.fonts.add(a);UC({actionDescription:"Loading font with FontFace",timeoutMs:2e4,promise:a.load(),sentryInfo:()=>({extra:{name:e,url:t},tags:{font:e},level:"warning"})}).then((()=>{f0(e,"success"),s({firstLoad:!0})})).catch((a=>{if(y0(e))return f0(e,"success"),void s({firstLoad:!0});var o;f0(e,"failed"),console.error(a),g0&&l(a instanceof OC?new Error("Font Loading - FontFace load timed out"):new Error("Font Loading - FontFace load failed"),{tags:{font:e},extra:{name:e,url:t,error:a}}),o=a,setTimeout((()=>n(o)),0)}))}))})),b0.set(a,n)),n}const _0=[300,400,700,800].map((e=>`${e},${e}i`)).join(",");async function C0({name:e,withWeights:t}){const a=t?`${e}:${_0}`:e,n=a;let s=b0.get(n);return s||(s=new Promise(((t,n)=>{const s=e=>{setTimeout((()=>t(e)),0)};S0.runExclusive((()=>{let t=!1;const o=Date.now();Ne.load({timeout:2e4,google:{families:[a]},fontactive:()=>{t||(f0(e,"success"),t=!0,s({firstLoad:!0}))},fontinactive:()=>{if(t)return;if(y0(e))return f0(e,"success"),t=!0,void s({firstLoad:!0});const a=(Date.now()-o)/1e3,i=a>19.5;var r;f0(e,"failed"),t=!0,r=new $v("WebFont loader failed",{tags:{font:e,likelyTimedOut:i},extra:{loadTimeSec:a},level:"warning"}),setTimeout((()=>n(r)),0)}})}))})),b0.set(n,s)),s}const S0=new je(8),x0=async({fontToLoad:e,withWeights:t=!0})=>{if("undefined"==typeof document)return{firstLoad:!1};const{fontFamily:a}=e;var n,s;return n=a,Mu().state.loadedFonts[n]||"success"===(null==(s=h0.find((e=>e.font===n)))?void 0:s.status)?{firstLoad:!1}:"default"===e.type?I0(e,t):(A0(E0(e)),A0(e))},I0=async(e,t)=>{const{fontFamily:a}=e;if(vB.has(a))return{firstLoad:!1};if(bB.has(a)||Re.has(a))return C0({name:a,withWeights:t});if(a in gB){return w0({name:a,url:`https://cdn-useast1.kapwing.com/defaultFonts/${gB[a]}`})}throw f0(a,"failed"),new $v(`Don't know where to load default font ${a} from`,{tags:{font:a},extra:{fontToLoad:e}})},A0=async e=>{const{fontFamily:t}=e;return w0({name:t,url:e.url})},k0=(e=[])=>{for(const t of e)x0({fontToLoad:t,withWeights:!0})},T0=async e=>{try{return await w0({name:e.fontFamily,url:e.url}),!0}catch(t){console.error(t)}return!1},E0=e=>({...e,fontFamily:`asset_${e.asset_id}`});function L0(e){if(e.hasCustomFont&&!e.asset_id){const t=function(e){const{fontFamily:t}=e,{state:a}=Mu(),{selectedWorkspace:n,allWorkspaces:s}=a.workspaces,{activeBrandkit:o}=a.teams,i=[];for(const d of s)n!==d._id&&i.splice(0,0,d),i.push(d);let r;function l(e){if(r)return;const a=null==e?void 0:e.find((e=>e.fontFamily===t?e:null));a&&(r={type:"custom",fontFamily:a.fontFamily,url:a.url,asset_id:a.asset_id})}if(o){const e=[];o.fonts.forEach((t=>{"custom"===t.type&&e.push(t)})),l(e)}for(const d of i){if(r)break;l(d.customFonts)}return r&&uk({[e.id]:{asset_id:r.asset_id,preemptiveDownloadError:!1}},"attemptToGetCustomFontWithoutAssetId",!1),r}(e);if(t)return t}return j0(e,Mu().state)}const j0=(e,t)=>{var a;if("text"===e.type){const{fontFamily:n,asset_id:s}=e;if(n){if(s){const e=null==(a=t.assets.byId[s])?void 0:a.url;if(e)return{type:"custom",fontFamily:n,url:e,asset_id:s}}return{type:"default",fontFamily:n}}}return null};var R0={alignVert:!1,alignHoriz:!1,multiLine:!1,detectMultiLine:!0,minFontSize:6,maxFontSize:80,reProcess:!0,widthOnly:!1,alignVertWithFlexbox:!1};function N0(e,t){if(a=e,!("object"==typeof HTMLElement?a instanceof HTMLElement:a&&"object"==typeof a&&null!==a&&1===a.nodeType&&"string"==typeof a.nodeName)||!t.reProcess&&e.getAttribute("textFitted"))return!1;var a,n,s,o,i,r,l,d;if(t.reProcess||e.setAttribute("textFitted",1),o=e.innerHTML,i=function(e){var t=window.getComputedStyle(e,null);return e.getBoundingClientRect().width-parseInt(t.getPropertyValue("padding-left"),10)-parseInt(t.getPropertyValue("padding-right"),10)}(e),s=function(e){var t=window.getComputedStyle(e,null);return e.getBoundingClientRect().height-parseInt(t.getPropertyValue("padding-top"),10)-parseInt(t.getPropertyValue("padding-bottom"),10)}(e),!i||!t.widthOnly&&!s)throw t.widthOnly?new Error("Set a static width on the target element "+e.outerHTML+" before using textFit!"):new Error("Set a static height and width on the target element "+e.outerHTML+" before using textFit!");-1===o.indexOf("textFitted")?((n=document.createElement("span")).className="textFitted",n.style.display="inline-block",n.innerHTML=o,e.innerHTML="",e.appendChild(n)):M0(n=e.querySelector("span.textFitted"),"textFitAlignVert")&&(n.className=n.className.replace("textFitAlignVert",""),n.style.height="",e.className.replace("textFitAlignVertFlex","")),t.alignHoriz&&(e.style["text-align"]="center",n.style["text-align"]="center");var c=t.multiLine;t.detectMultiLine&&!c&&n.scrollHeight>=2*parseInt(window.getComputedStyle(n)["font-size"],10)&&(c=!0),c||(e.style["white-space"]="nowrap"),r=t.minFontSize,d=t.maxFontSize;for(var u=r;r<=d;)l=d+r>>1,n.style.fontSize=l+"px",n.getBoundingClientRect().width<=i&&(t.widthOnly||n.getBoundingClientRect().height<=s)?(u=l,r=l+1):d=l-1;if(n.style.fontSize!=u+"px"&&(n.style.fontSize=u+"px"),t.alignVert){!function(){if(document.getElementById("textFitStyleSheet"))return;var e=[".textFitAlignVert{","position: absolute;","top: 0; right: 0; bottom: 0; left: 0;","margin: auto;","display: flex;","justify-content: center;","flex-direction: column;","}",".textFitAlignVertFlex{","display: flex;","}",".textFitAlignVertFlex .textFitAlignVert{","position: static;","}"].join(""),t=document.createElement("style");t.type="text/css",t.id="textFitStyleSheet",t.innerHTML=e,document.body.appendChild(t)}();var p=n.scrollHeight;"static"===window.getComputedStyle(e).position&&(e.style.position="relative"),M0(n,"textFitAlignVert")||(n.className=n.className+" textFitAlignVert"),n.style.height=p+"px",t.alignVertWithFlexbox&&!M0(e,"textFitAlignVertFlex")&&(e.className=e.className+" textFitAlignVertFlex")}}function M0(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")>-1}const P0=e=>{const{div:t,layer:a}=e;t.style.display="inline-block",t.style.verticalAlign="middle",t.style.outline="none";const{fontWeight:n,italic:s,fontFamily:o,text:i,textShadow:r,textAlign:l,textTransform:d,lineHeight:c}=a;let u="normal";n&&n.includes("bold")&&(u="bold"),t.style.fontWeight=u,t.style.fontStyle=s?"italic":"",t.style.fontFamily=o,t.style.textAlign=l||"left",t.style.textTransform=d||"none",t.style.whiteSpace="pre-line",t.style.lineHeight=String(c),t.textContent=i,t.style.textShadow=`-1px -1px 0 ${r}, 1px -1px 0 ${r}, -1px 1px 0 ${r}, 1px 1px 0 ${r}`};function F0(e,t,a,n=!1){var s,o,i;if(""===e.text.trim())return e.fontSize??16;if(t<=0||a<=0)return null;const r=document.createElement("div"),l=Math.abs(t),d=Math.abs(a),c={div:r,layer:e},u=((e,t,a,n)=>{const s=document.createElement("div");return s.style.overflow="hidden",s.style.position="relative",s.style.width="0px",s.style.height="0px",e&&(s.style.position="fixed",s.style.bottom="0",s.style.right="0",s.style.width=t,s.style.height=a,s.style.zIndex="100",s.style.background=n),document.body.appendChild(s),s})(n,`${l}px`,`${d}px`,"white");if(l&&d&&l>0&&d>0){r.style.width=`${l<1?1:l}px`,r.style.height=`${d<1?1:d}px`,P0(c),u.appendChild(r),function(e,t){t||(t={});var a={};for(var n in R0)t.hasOwnProperty(n)?a[n]=t[n]:a[n]=R0[n];"function"==typeof e.toArray&&(e=e.toArray());var s=Object.prototype.toString.call(e);"[object Array]"!==s&&"[object NodeList]"!==s&&"[object HTMLCollection]"!==s&&(e=[e]);for(var o=0;o<e.length;o++)N0(e[o],a)}(r,{multiLine:!0,minFontSize:1,maxFontSize:500});const e=parseInt((null==(i=null==(o=null==(s=r.getElementsByTagName("span"))?void 0:s[0])?void 0:o.style)?void 0:i.fontSize)??"",10);return n||u.remove(),Math.max(e,1)}return 16}function D0(e){const t=e.position?e.position.width:"0",a=e.position?e.position.height:"0",{width:n,height:s}=function(e,t){const{state:a}=Mu(),n=a.studio.width||0,s=a.studio.height||0;return{width:parseFloat(e)/100*n,height:parseFloat(t)/100*s}}(t,a);return F0(e,n,s)}const O0=(e,t,a)=>t<a?{height:e,width:a/t*e}:{height:t/a*e,width:e},U0=["8","9","10","11","12","14","18","24","30","36","48","64","72","96","100","125","150"],B0=()=>{const e=[];return U0.forEach((t=>{e.push({iconUrl:"",value:t,label:`${t}`})})),e},W0=()=>{const e=[];return mB.forEach((t=>{e.push(t)})),e},V0=()=>{const{state:e}=Mu(),{teams:{activeBrandkit:t}}=e,a=null==t?void 0:t.fonts;null==a||a.forEach((e=>{if("custom"===e.type){const{fontFamily:t,url:a,asset_id:n}=e;x0({fontToLoad:{type:"custom",fontFamily:t,url:a,asset_id:n}})}}))},H0=({nameType:e,name:t},a,n,s)=>{let o="";if("blob"===e){const e=t.split("-");if(e.length>=2){const[t]=e;t&&(o=t)}else e.pop(),o=e.join("-")}else{const[e]=t.split(".");e&&(o=e)}return{fontFamily:o,url:a,fontType:n.includes("ttf")?"truetype":"opentype",asset_id:s}};function z0(e,t){if(!t)return 1;const a=e/t;return!a||Number.isNaN(a)?1:a}function G0(e,t,a,n,s){const o=F0(void 0!==n?{...e,text:n}:e,t,a);if(!o)return;const i={fontSize:o,baseWidth:t,baseHeight:a};c.isEqual(s,i)||Vj(e.id,{fontSizingTemp:i})}function Y0(e,t){return t?Math.round(e/t*700):e}function K0(e,t){return t?e/700*t:e}function X0(e,t,a,n){const s=[];let o=0;const i=document.createElement("canvas").getContext("2d");if(i&&e&&t){const r=LN(e),l=e.italic?"italic":"normal",d="bold";i.font=`${l} normal ${d} ${n}px ${r}`,o=i.measureText("W").width;a.replaceAll("\r\n","").split("\n").forEach((a=>{const n=function(e,t,a,n){const s=[];if(t.length<1)return s;let o="";const i=[" ","-"];let r=-1;for(const d of Rk(t)){let t=o+d;"uppercase"===n.textTransform?t=t.toLocaleUpperCase():"lowercase"===n.textTransform&&(t=t.toLocaleLowerCase()),e.measureText(t).width>=a&&(-1!==r?(s.push(o.substring(0,r+1)),o=o.substring(r+1)):(s.push(o),o=""),r=-1),l=d,i.includes(l)&&(r=o.length),o+=d}var l;return o.length>0&&s.push(o),s}(i,a,t,e),o=n.join("\r\n");s.push(o)}))}return{textWithLineBreaks:s.join("\n"),minWidth:o}}const Z0=(e,t,a,n=!1,s=!1)=>{const{state:o}=Mu(),i=jR(o,e.id).fontSizingTemp,r=s?i??e:e;if(r&&(r.baseWidth!==t||r.baseHeight!==a)){if(s)return void Vj(e.id,{fontSizingTemp:{fontSize:r.fontSize,baseWidth:t,baseHeight:a}});uk({[e.id]:{baseWidth:t,baseHeight:a}},"text.ts",n)}},q0=(e,t="")=>{const{state:a}=Mu();if(!RR(a,e.id)||"text"!==e.type)return;const{textTemp:n=""}=jR(a,e.id);""!==n||""!==t?Vj(e.id,{isEditing:!1}):jJ({layerIds:[e.id],undoable:!0})},J0=e=>{const{dispatch:t}=Mu();t(ij(e))},$0=(e,t,a=!1)=>{var n;const{width:s,x:o,y:i}=t||qR(e),{containerWidth:r,containerHeight:l}=(e=>{const{fontSize:t}=e,a=document.createElement("div");P0({div:a,layer:e}),a.style.fontSize=`${t}px`;const{baseHeight:n=0,baseWidth:s=0}=e;a.style.height="1px",a.style.width="1px",document.body.appendChild(a);const o={containerHeight:0,containerWidth:0};let i=1;const{containerHeight:r,containerWidth:l}=Mu().state.studioSizing;for(;a.scrollHeight>a.clientHeight||a.scrollWidth>a.clientWidth;){if(i>r&&i>l)return a.remove(),o;const{height:e,width:t}=O0(i,n,s);o.containerHeight=e,o.containerWidth=t,a.style.height=`${e}px`,a.style.width=`${t}px`,i+=1}return a.remove(),o})(e),d=a?s:r,c=l,u={x:o,y:i,width:d,height:c,rotation:null==(n=e.position)?void 0:n.rotation};AJ(e,u,!0),Z0(e,d,c,!0)};function Q0(e,t,a,n=!0){const s=F0(e,t,a);if(!s)return e.fontSize;const o=z0(t,e.baseWidth);return s===e.fontSize&&1===o&&null!=e.baseWidth||(n?PU.execInUndoBatch((()=>{uk({[e.id]:{fontSize:s}},"recomputeFontSize",!0),Z0(e,t,a,!0)})):(uk({[e.id]:{fontSize:s}},"recomputeFontSize",!1),Z0(e,t,a,!1))),s}const e1=e=>{if(!e.checkIfSeenByUser)return;const{state:t,dispatch:a}=Mu(),n=t.textPresets.usedPresetIds;n&&!n[e.presetId]&&a(HV(e.presetId))},t1=(e,t,a)=>{const{dispatch:n}=Mu();n(function(e,t,a){return ak([e],t,a)}(e,t,a))},a1=(e,t,a)=>{const{dispatch:n}=Mu();n(ak(e,t,a))},n1=(e,t)=>{const a=new Set;if(e.layers.length)return e.layers.forEach((e=>{const n=t[e.id];n&&a.add(n.type)})),[...a]},s1=({groupType:e,layerTypes:t})=>e.every((e=>t.includes(e))),o1=u(oU,(e=>e.studio.allLayers.byId),((e,t)=>{if(e&&"group"===e.type)return n1(e.item.group,t)})),i1=e=>e.some((e=>!("audio"===e.type&&!e.isAudiogram))),r1=e=>{const{state:t}=Mu(),{groups:a}=t.studio,n=new Set(e),s=Array.from(n),o=new Set,i=new Set;s.forEach((e=>{const n=a[e];n&&(o.add(e),n.layers.forEach((({id:e})=>{_L({layerId:e,layersById:t.studio.allLayers.byId,tetheredWaveforms:t.studio.tetheredWaveforms})&&i.add(e)})));const s=_L({layerId:e,layersById:t.studio.allLayers.byId,tetheredWaveforms:t.studio.tetheredWaveforms});s&&i.add(s.id)}));const r=Array.from(i),l=Array.from(o),[d,u]=Object.entries(a).find((([e,t])=>c.isEqual(new Set(t.layers.map((e=>e.id))),i)))??[];if(u&&d)return{groupId:d,layerIds:u.layers.map((({id:e})=>e))};if(r.length<2)return{groupId:null,layerIds:r};const p=g();return l.forEach((e=>{((e,t,a)=>{const{dispatch:n}=Mu();n(function(e,t,a){return{type:"ADD_GROUP_TO_GROUP",srcGroupId:e,destGroupId:t,undoable:a}}(e,t,a))})(e,p,!1)})),r.length>0&&a1(r,p,!1),{groupId:p,layerIds:r}},l1=(e,t)=>{const a=(null==t?void 0:t.state)||Mu().state,{groups:n,selectedItem:s}=a.studio;if(!s||"group"!==s.type)return!1;const o=(null==t?void 0:t.currentGroup)||n[s.id];if(!o)return!1;const i=o.layers.find((({id:t})=>e===t));return!!i&&!0!==i.deselected},d1=(e,t=!0)=>{const{state:a}=Mu(),{selectedItem:n}=a.studio;n&&"group"===n.type&&c1(n.id,e,t)},c1=PU.withUndoBatch(((e,t,a=!0)=>{const{state:n,dispatch:s}=Mu(),{groups:o}=n.studio,i=o[e];i&&(i.layers.length<2||(s(ik(e,t,a)),t&&((({group:e,undoable:t=!0})=>{const a=Y$(e),n=KY(a);if(!n)return;const s=G$(n),o=uQ({comparisonDepth:null==s?void 0:s.depth,targetDepthDirection:"ahead",count:e.layers.length}),i=a.reduce(((e,t,a)=>({...e,[t.id]:{depth:o[a]}})),{});uk(i,"studioMoveGroupLayersTogether",t)})({group:i,undoable:a}),i.layers.forEach((t=>{Object.entries(o).filter((([a,s])=>a!==e&&s.saved&&l1(t.id,{currentGroup:s,state:n}))).map((([e])=>e)).forEach((e=>{s(sk(e,a))}))})))))})),u1=(e=!0)=>{const{state:t}=Mu(),{selectedItem:a}=t.studio;a&&"group"===a.type&&m1(a.id,e)},p1=()=>{const{state:e}=Mu(),{selectedItem:t,groups:a}=e.studio;if(!t||"group"!==t.type)return!1;const n=a[t.id];if(!n)return!1;const s=new Set([Nc.Text,Nc.Image,Nc.Shape]);let o=!1;for(const i of n.layers){const e=rJ(i.id)??void 0;if(e&&!s.has(e.type))return!1;e&&e.type===Nc.Text&&(o=!0)}return!!o},m1=(e,t=!0)=>{const{state:a,dispatch:n}=Mu(),{groups:s,ratio:o,projectId:i}=a.studio,r=o.split(":").map(Number),l=s[e];if(!l)return;const d=[];for(const p of l.layers){const e=rJ(p.id);e&&d.push(e)}d.sort(((e,t)=>Tp(e.depth,t.depth)));const c=`template-${g()}`,u={templateId:c,layers:d.map((e=>((e,t)=>{const{state:a}=Mu(),{animations:n}=a.studio;let s={animationName:Mc.None,transitionDuration:.5};Object.values(n.byId).forEach((t=>{if(t.isCrossTransition)return;const{animationName:a,transitionDuration:n,layerId:o}=t;o===e.id&&(s={animationName:a,transitionDuration:n||.5})}));const{textBlocks:o,draftJSTextTree:i,uploadConfirmed:r,uploadProgress:l,uploadPending:d,uploadId:c,animation:u,position:p,...m}=e;if(!p)throw Error("Missing position");const g={...m,position:p,fromTextDefaults:t};return s.animationName!==Mc.None&&(g.animation=s),g})(e,c))),timestampCreated:Date.now(),ratio:r,projectId:i??void 0};n(QV({template:u,undoable:t,index:0})),n(m0({tabContainerId:"media-sidebar",tabId:"Text"}))},g1=({newTimelineRowStart:e,previousTimelineRowStart:t,previousStudioTimeStart:a,layers:n,layerIntervalTree:s,studioTime:o=0})=>n.some((n=>{if(void 0===n.timelineRow)return!1;const{start:i,end:r}=bp(n),l=e+(n.timelineRow-t),d=o+(i-a),c=o+(i-a)+(r-i),{introDuration:u,outroDuration:p}=jT(n);return!!s.search(new u0({timelineRow:l,start:d,end:c,introDuration:u,outroDuration:p})).length})),h1=({layers:e,studioTime:t=0,timelineRow:a=0,maxTimelineRow:n=1e3})=>{const{start:s}=I1(e),{top:o}=A1(e);if(void 0===o||void 0===s)return;const i=(()=>{const e=cJ(),t=c0();return e.forEach((e=>{void 0!==e.timelineRow&&t.insert(new u0({layer:e}),e)})),t})();let r=a;for(;g1({newTimelineRowStart:r,previousTimelineRowStart:o,previousStudioTimeStart:s,layerIntervalTree:i,layers:e,studioTime:t})&&(r++,!(r>n)););return{newTimelineRowStart:r,timelineRowDelta:r-o}};const v1=(e,t,a=!0,n)=>{try{a&&PU.beginBatch(),function(e,t,a,n){const{state:s,dispatch:o}=Mu(),{projectId:i,width:r=0,height:l=0}=s.studio,d=null==n?void 0:n.originalProject,c=(null==d?void 0:d.width)??r,u=(null==d?void 0:d.height)??l;0!==r&&0!==l||Qq({ratioWidth:c,ratioHeight:u});const p=[];if(n&&n.originalProject&&i!==n.originalProject.id){const{originalProject:e}=n,{resizeLayerUpdates:a}=oJ({aspectRatioWidth:r,aspectRatioHeight:l,layers:t,prevCanvasWidth:e.width,prevCanvasHeight:e.height,resizeMethod:"fit-to-center",shouldSmartReframe:!1,visionJobByAssetId:{},groups:{}});p.push(...t.map((e=>{const t=a[e.id],n={...e};return t&&(n.position=t.position,n.crop=t.crop),n})))}else p.push(...t);const m=g(),h=dY(),v=p.reduce(((e,t)=>{const{start:a}=bp(t);return Math.min(e,a)}),1/0),f=s.studio.selectedTimelineRows,{timelineRowDelta:b}=h1({layers:p,timelineRow:f[0]??0,studioTime:h})??{},y={},w=p.map((e=>{const t=void 0!==e.timelineRow&&void 0!==b?e.timelineRow+b:0,a={...e,id:fe(12),timelineRow:t},{start:n,end:s}=bp(a),i=n-v;if(np(a)||ep(a)||up(a)?a.videoDelay=h+i:(a.startTime=h+i,a.endTime=h+i+(s-n)),rp(a)){const t=AT(e);a.animation={intro:[],constant:[],outro:[]},["intro","constant","outro"].forEach((n=>{var s,i;const r=t[n][0];if(r&&r.id!==Mc.None)if(r.isCrossTransition){const t=r.animationStateMapId,n=r.introLayerId===e.id;y[t]||(y[t]={animationName:r.transitionId,transitionDuration:r.transitionDuration||.5}),y[t][n?"newIntroLayer":"newOutroLayer"]=a}else{const e={id:fe(12),animationName:r.id,isCrossTransition:!1,layerId:a.id,transitionDuration:r.transitionDuration||.5};null==(i=null==(s=a.animation)?void 0:s[n])||i.push(e.id),o(UA(e))}}))}return a}));Object.values(y).filter((e=>!!e.newIntroLayer&&!!e.newOutroLayer)).forEach((({newIntroLayer:e,newOutroLayer:t,animationName:a,transitionDuration:n})=>{var s,i,r,l;const d={id:fe(12),animationName:a,isCrossTransition:!0,introLayerId:e.id,outroLayerId:t.id,transitionDuration:n};null==(i=null==(s=e.animation)?void 0:s.intro)||i.push(d.id),null==(l=null==(r=t.animation)?void 0:r.outro)||l.push(d.id),o(UA(d))})),w.forEach((e=>{const t=void 0!==e.timelineRow;fJ(e,{undoable:a,knownTimelineRow:t})}));const _=e.saved;w.forEach((e=>{t1(e.id,m,a)})),_&&c1(m,!0,a),o(ck({id:m,type:"group"}))}(e,t,a,n)}finally{a&&PU.endBatch()}},f1=()=>{const e=b1();if(e){ov("Duplicate Layer",{"Layer Type":"group"});const{state:t}=Mu(),{allLayers:a}=t.studio,n=e.layers.map((({id:e})=>a.byId[e])).filter(vA);v1(e,n,!0)}},b1=()=>{const{state:e}=Mu(),{selectedItem:t}=e.studio;return t&&"group"===t.type?aX(t.id):null},y1=PU.withUndoBatch((e=>{const{dispatch:t}=Mu(),a=g();r.batch((()=>{t(ok()),a1(e,a,!0),t(ck({id:a,type:"group"}))}))})),w1=()=>{const{state:e}=Mu(),{groups:t}=e.studio,a=Gx(e);let n=a.map((e=>e.id));if(0===n.length){if(!(a.length>0))return;n=a.map((e=>e.id))}const{groupId:s}=r1(tX(n,t));s?Mu().dispatch(ck({id:s,type:"group"})):n[0]&&Mu().dispatch(ck({id:n[0],type:"layer"}))},_1=PU.withUndoBatch(((e,t,a=!0)=>{const{rotation:n,origin:s,xDiff:o,yDiff:i,transformerNode:l}=t;void 0!==n&&((e,t,a)=>{const{dispatch:n,state:{studio:s}}=Mu(),o=s.groups[e];if(!o)return;const{rotation:i,currentPosition:l,initialPosition:d}=t;void 0!==i&&l&&d&&r.batch((()=>{S1(e,{rotation:i},a);for(const{id:e,deselected:t}of o.layers){if(t)continue;const s=xL(e);if(!s)continue;const{position:o}=s;let i=qR(s);"shape"===s.type&&"ellipse"===s.shapeType&&(i={...i,x:i.x-i.width/2,y:i.y-i.height/2});const r=l0(i,l,d),{layerRotation:c}=r;let{newX:u,newY:p}=r;"shape"===s.type&&"ellipse"===s.shapeType&&(u+=i.width/2,p+=i.height/2);const{xPercent:m,yPercent:g}=XR(u,p);Oc(s)?n(pq.updateTetheredWaveform({assetId:s.asset_id,update:{position:{x:parseFloat(m),y:parseFloat(g),rotation:c}},undoable:a})):(n(KA(s.id,c,a)),Vj(s.id,{positionTemp:null}),n(zA(s.id,m,g,o.width,o.height,a)))}}))})(e,t,a),(o||i)&&((e,t,a)=>{var n,s;const o=dY(),{xDiff:i,yDiff:r}=t,{dispatch:l,state:d}=Mu(),{studioSizing:c,studio:u}=d,{height:p=0,width:m=0}=u,{canvasX:g,canvasY:h}=c,v=u.groups[e];if(!v)return;const f={};for(const{id:b,deselected:y}of v.layers){if(y)continue;const e=xL(b);if(!e||!e.position)continue;const t=RY({layer:e,keyframeChannels:null==(n=u.keyframing)?void 0:n[e.id],studioTime:o,canvasWidth:u.width||0,canvasHeight:u.height||0}),{x:d,y:c}=WR(t.x,t.y),{xPercent:v,yPercent:w}=XR(d+i,c+r);if(Oc(e)){const t=parseFloat(v),n=parseFloat(w);l(pq.updateTetheredWaveform({assetId:e.asset_id,update:{position:{x:t,y:n}},undoable:a}))}else{if(_Y(e.id,Cu.POSITION)){let t=v,a=w;if(_Y(e.id,Cu.ZOOM)){const n=qR(e),l=qR({...e,position:RY({layer:e,keyframeChannels:null==(s=u.keyframing)?void 0:s[e.id],studioTime:o,canvasWidth:u.width||0,canvasHeight:u.height||0})});if(l&&n){const e=l.x+i+l.width/2-g,s=l.y+r+l.height/2-h,o=e-n.width/2,d=s-n.height/2;t=o/m*100+"%",a=d/p*100+"%"}}SY({...e,position:{...e.position,x:t,y:a}})}if(Vj(e.id,{positionTemp:null}),_Y(e.id,Cu.ZOOM)){const a=qR(e),n=qR({...e,position:t});if(!a||!n)continue;const s=n.x+i+n.width/2-g,o=n.y+r+n.height/2-h,l=s-a.width/2,d=o-a.height/2,c={...e.position,x:l/m*100+"%",y:d/p*100+"%"};f[e.id]={position:c}}else l(zA(e.id,v,w,t.width,t.height,a))}}uk(f,"groups.ts")})(e,t,a),l&&((e,t,a)=>{var n;const{currentPosition:s,initialPosition:o,transformerNode:i}=t;if(!i||!s||!o)return;const r=dY(),{dispatch:l,state:d}=Mu(),{studioSizing:c,studio:u}=d,p=u.groups[e];if(!p)return;const{width:m=0,height:g=0}=u,{canvasX:h,canvasY:v}=c,f={};for(const{id:b,deselected:y}of p.layers){if(y)continue;const e=xL(b);if(!e)continue;const t=r0({layerStartPos:qR(e),groupCurrentPos:s,groupStartPos:o}),{xPercent:i,yPercent:d}=XR(t.x,t.y),{widthPercent:c,heightPercent:p}=GR(t.width,t.height);if(Oc(e)){const t=parseFloat(i),n=parseFloat(d),s=parseFloat(c),o=parseFloat(p);l(pq.updateTetheredWaveform({assetId:e.asset_id,update:{position:{x:t,y:n,width:s,height:o}},undoable:a}));continue}Vj(e.id,{positionTemp:null});let w=null;if(CY(e.id)&&e.position){const t=RY({layer:e,keyframeChannels:null==(n=u.keyframing)?void 0:n[e.id],studioTime:r,canvasWidth:u.width||0,canvasHeight:u.height||0});if(w=qR({...e,position:t}),w){const e=s.width/o.width,t=w.x-o.x,a=w.y-o.y;w.x=s.x+t*e,w.y=s.y+a*e,w.width*=e,w.height*=e}}if(_Y(e.id,Cu.POSITION)&&e.position&&w){const t=(w.x-h)/m*100+"%",a=(w.y-v)/g*100+"%";SY({...e,position:{...e.position,x:t,y:a,width:c,height:p}})}if(_Y(e.id,Cu.ZOOM)&&e.position&&w){const t=e.zoom||100,{width:a,height:n}=VR(e.position.width,e.position.height),s=w.width*t/a;xY({...e,zoom:s});const o=w.x-h+w.width/2-a/2,i=w.y-v+w.height/2-n/2,r={...e.position,x:o/m*100+"%",y:i/g*100+"%"};f[e.id]={position:r}}else l(zA(e.id,i,d,c,p,a));uk(f,"groups.ts"),sp(e)&&Q0(e,t.width,t.height,a)}})(e,t,a),s&&S1(e,{origin:s},a)})),C1=PU.withUndoBatch((e=>{const{state:t}=Mu(),{groups:a}=t.studio,n=a[e];if(!n)return;const s=n.layers.map((e=>e.id));jJ({layerIds:s,undoable:!0,logEvent:!0})})),S1=(e,t,a=!0)=>{const{dispatch:n}=Mu();n(function(e,t,a){return{type:"UPDATE_GROUP",groupId:e,updates:t,undoable:a}}(e,t,a))},x1=(e,t=!0)=>{const{dispatch:a,state:n}=Mu(),s=n.studio.groups[e];if(!s)return;const{layers:o}=s,i=Gx(n).filter((e=>o.map((e=>e.id)).includes(e.id))),r=i.every((e=>e.locked)),l={};for(const d of i)l[d.id]={locked:!r};uk(l,"groups.ts",!1),a(ck(null)),t&&PU.add({undo:{func(){const e={};for(const t of i)e[t.id]={locked:t.locked};uk(e,"groups.ts",!1)}},redo:{func(){x1(e,!1)}}})},I1=e=>{const{start:t,end:a}=e.reduce(((e,t)=>{const[a,n]=zC(t);return{start:Math.min(e.start??1/0,a),end:Math.max(e.end??-1/0,n)}}),{start:void 0,end:void 0});return{start:t,end:a}},A1=e=>{const t=e.map((e=>null==e?void 0:e.timelineRow)).filter(vA).sort(),a=t[0],n=t[t.length-1];if(void 0===a||void 0===n)return{top:void 0,bottom:void 0,height:void 0};return{top:a,bottom:n,height:n-a}};function k1({words:e,maxWordGap:t=.25,maxWordGapMidSentence:a=1,maxWordChunkSize:n=60,targetWordChunkSize:s=20,longWordThreshold:o=5}){let i=[];const r=[];for(let l=0;l<e.length;l++){const d=e[l];if(!(null==d?void 0:d.word.trim().length))continue;const c=e[l+1],u=i[i.length-1],p=null==u?void 0:u.speaker,m=p&&p!==d.speaker,g=u&&Nk(u.word),h=i.length>=s&&g,v=i.length>=n;(m||h||v)&&(r.push(i),i=[]),i.push(d);const f=d.end_time-d.start_time>5;let b=d.end_time;f&&(b=d.start_time+o),c&&c.start_time-b<t||(c&&Nk(d.word)||c&&c.start_time-b>=a)&&(r.push(i),i=[])}return i.length&&r.push(i),r}function T1({oldProjectName:e,translatedLanguageCode:t}){return`${Am(t)} - ${(null==e?void 0:e.length)?e:ql}`}function E1(e,t){return e.map((e=>{let{start_time:a,end_time:n}=e,s=!1,o=!1;for(const i of t){const{videoDelay:e,startTime:t,endTime:r,playbackRate:l}=i;if(!s&&a>=t&&a<r&&(a=e+(a-t)/l,s=!0),!o&&n>t&&n<=r&&(n=e+(n-t)/l,o=!0),s&&o)break}return{...e,start_time:a,end_time:n}}))}const L1=e=>Math.round(.06*(e.duration||1)/60)+1,j1=e=>e.vocals_asset_id&&e.no_vocals_asset_id?1:Math.round(.5*(e.duration||1)/60)+3,R1=e=>Math.round(.04*(e.duration||1)/60)+1,N1=e=>Math.round(.15*(e.duration||1)/60)+1,M1=e=>Math.round(.7*(e.duration||1)/60)+1;class P1 extends Error{constructor(e,t){super(e),this.description=e,this.sentryMessage=t}}var F1=(e=>(e.TRANSCRIBE="transcribe",e.SYNC_LIPS="sync-lips",e.AUTO_EMOJI="auto-emoji",e.FIND_HIGHLIGHTS="find-highlights",e.SPEAKER_FOCUS="speaker-focus",e.CONVERSION="conversion",e.CHAPTERS="chapters",e.CREATE_PERSONA_PREVIEW="create-persona-preview",e.EXPORT_PERSONA="export-persona",e.TRANSLATE="translate",e.SPLIT_VOCALS="split-vocals",e.VOICE_CLONE="voice-clone",e.DUBBING_TTS="dubbing-tts",e.DUBBING_PLAYBACK="dubbing-playback",e.SEGMENT_FACES="segment-faces",e))(F1||{});const D1=e=>e.params?`${e.type}_${Object.values(e.params).sort().join("_")}`:e.type;var O1=(e=>(e.sync_labs="sync_labs",e.sync_labs1_7="sync_labs1_7",e.sync_labs1_8="sync_labs1_8",e.sync_labs1_9="sync_labs1_9",e.texel="texel",e.sieve="sieve",e))(O1||{});var U1,B1;U1={_id:1,createdAt:1,finishedAt:1,startedAt:1,state:1,status:1,retryCount:1,valid:1,video:1,video_id:1,snapshot_id:1,exporter_id:1,buildInfo:1,serverInfo:1,validation:1,workflowId:1,stages:1,name:1,progressDict:1,exportQuality:1,thumbnailUrl:1},B1=["stages","serverInfo","video"],Object.fromEntries(Object.entries(U1).filter((([e,t])=>!B1.includes(e))));var W1=(e=>(e.speaker_focus_jobs="speaker_focus_jobs",e.admin_dubbing="admin_dubbing",e.ai_jobs="ai_jobs",e.articles="articles",e.asset_embeddings="asset_embeddings",e.asset_search_collections="asset_search_collections",e.asset_search_extractions="asset_search_extractions",e.asset_search_queries="asset_search_queries",e.asset_search_validation_sets="asset_search_validation_sets",e.asset_transcriptions="asset_transcriptions",e.assets="assets",e.blueprints="blueprints",e.brandfetch="brandfetch",e.cleanup_assets="cleanup_assets",e.cml_files="cml_files",e.cms_pages="cms_pages",e.cms_translations="cms_translations",e.decode_jobs="decode_jobs",e.default_tts_voices="default_tts_voices",e.dubbing_playback_jobs="dubbing_playback_jobs",e.dubbing_subtitle_uploads="dubbing_subtitle_uploads",e.dubbing_tts_cache="dubbing_tts_cache",e.dubbing_voice_clones="dubbing_voice_clones",e.emails="emails",e.email_signin_codes="email_signin_codes",e.enhance_jobs="enhance_jobs",e.featureFlags="featureFlags",e.find_highlights_feedback="find_highlights_feedback",e.folder_users="workspace_users",e.folders="workspaces",e.freepik_download_jobs="freepik_download_jobs",e.freepik_downloads_cache="freepik_downloads_cache",e.freepik_fonts_cache="freepik_fonts_cache",e.freepik_font_substitutes="freepik_font_substitutes",e.freepik_search_cache="freepik_search_cache",e.glossary_items="glossary_items",e.image_text_jobs="image_text_jobs",e.magicSubtitlePresets="magicSubtitlePresets",e.magic_subtitles="magic_subtitles",e.music="music",e.netflix_wrapped="netflix_wrapped",e.parse_psd_jobs="parse_psd_jobs",e.process_video_jobs="process_video_jobs",e.pronunciation_items="pronunciation_items",e.psd_fonts_jobs="psd_fonts_jobs",e.qualifiedDomains="qualifiedDomains",e.recent_searches="recent_searches",e.regression_videos="regression_videos",e.script_chat_completions="script_chat_completions",e.segment_face_jobs="segment_face_jobs",e.snapshots="snapshots",e.sound_effects="sound_effects",e.split_vocals_jobs="split_vocals_jobs",e.sso_config="sso_config",e.stabilize_video_jobs="stabilize_video_jobs",e.team_assets="team_assets",e.team_past_billing_cycles="team_past_billing_cycles",e.team_transcriptions="team_transcriptions",e.team_users="team_users",e.teams="teams",e.textPresets="textPresets",e.transcriptions="transcriptions",e.translation_pairs="translation_pairs",e.translations="translations",e.users="users",e.video_collaborators="video_collaborators",e.video_drafts="video_drafts",e.video_tests="video_tests",e.videos="videos",e.workflows="workflows",e.text_embeddings="text_embeddings",e.asset_transcription_keywords_v2="asset_transcription_keywords_v2",e.media_search_cache="media_search_cache",e))(W1||{});function V1({dubbing:e,canceledReason:t,errorMessage:a}){var n,s,o,i,r;if(!e)return;const{failedWorkflows:l,completeWorkflows:d,canceledWorkflows:c}=H1(e);let u=0,p=0,m=0,g=0,h=0,v=0,f=0;const b={maxTTSPlaybackRate:0,minTTSPlaybackRate:2,avgTTSPlaybackRate:0,maxVidPlaybackRate:0,minVidPlaybackRate:2,avgVidPlaybackRate:0,vidTrimDurations:[]};let y=0,w=0,_=0,C=0,S=0,x=0,I=0;for(const L of Object.values(e.byAssetId)){const{dubbingWorkflow:e}=L;if(!e)continue;h+=e.assetDurationSec??0;const{stageProgress:t={}}=e;for(const[a,n]of Object.entries(t)){if(!n||!n.endTime||!n.startTime)continue;const{endTime:e,startTime:t}=n,s=(new Date(e).getTime()-new Date(t).getTime())/1e3;I+=s,a.startsWith(F1.TRANSCRIBE)&&(y+=s),a.startsWith(F1.TRANSLATE)&&(w+=s),a.startsWith(F1.SPLIT_VOCALS)&&(_+=s),a.startsWith(F1.VOICE_CLONE)&&(C+=s),a.startsWith(F1.DUBBING_TTS)&&(S+=s),a.startsWith(F1.DUBBING_PLAYBACK)&&(x+=s)}for(const a of Object.values(e.dubbingTTSResults))a&&(u+=a.totalWordChunkCount,p+=a.newWordChunkCount,m+=a.newTTSCharCount,g+=a.totalTTSCharCount);for(const a of Object.values(e.dubbingPlaybackResults)){if(!(null==a?void 0:a.result))continue;const{playbackMetrics:e}=a.result;b.maxTTSPlaybackRate=Math.max(e.maxTTSPlaybackRate,b.maxTTSPlaybackRate),b.minTTSPlaybackRate=Math.min(e.minTTSPlaybackRate,b.minTTSPlaybackRate),b.avgTTSPlaybackRate+=e.avgTTSPlaybackRate,v++,b.maxVidPlaybackRate=Math.max(e.maxVidPlaybackRate,b.maxVidPlaybackRate),b.minVidPlaybackRate=Math.min(e.minVidPlaybackRate,b.minVidPlaybackRate),b.avgVidPlaybackRate+=e.avgVidPlaybackRate,(null==(n=null==e?void 0:e.vidTrimDurations)?void 0:n.length)&&(null==(s=b.vidTrimDurations)||s.push(...e.vidTrimDurations)),f++}}b.avgTTSPlaybackRate=b.avgTTSPlaybackRate/v,b.avgVidPlaybackRate=b.avgVidPlaybackRate/f;const A=Date.now()-e.startTime,k=Math.floor(A/1e3),T=jm(e.voiceOption),E={success:!(null==t?void 0:t.length)&&!(null==a?void 0:a.length),"canceled reason":t,"error message":a,"total asset duration":h,"asset number":Object.keys(e.byAssetId).length,"dubbing runtime":k,"is redub":!!e.isRedub,"used translate review":!!e.dubbingFramesSpeakerMaps,"original language":e.originalLanguageCode,"translated language":e.translatedLanguageCode,"translated language count":null==(o=e.translatedLanguageCodes)?void 0:o.length,"allow video adjustments":e.allowVideoAdjustments,"voice cloned":T,"tts voice name":e.voiceOption.name,"tts char count":g,"tts char count generated":m,"tts char count from cache":g-m,"tts new assets percent":p/u,"tts max playback rate":b.maxTTSPlaybackRate,"tts min playback rate":b.minTTSPlaybackRate,"tts average playback rate":b.avgTTSPlaybackRate,"video max playback rate":b.maxVidPlaybackRate,"video min playback rate":b.minVidPlaybackRate,"video average playback rate":b.avgVidPlaybackRate,"video trim count":(null==(i=b.vidTrimDurations)?void 0:i.length)??0,"video trim durations":b.vidTrimDurations??[],"video trim total duration":(null==(r=b.vidTrimDurations)?void 0:r.reduce(((e,t)=>e+t),0))??0,"total processing time":I,"transcribe total time":y,"transcribe total percent":y/I,"translate total time":w,"translate total percent":w/I,"split vocals total time":_,"split vocals total percent":_/I,"voice clone total time":C,"voice clone total percent":C/I,"tts total time":S,"tts total percent":S/I,"playback total time":x,"playback total percent":x/I,"failed workflows":l.length,"complete workflows":d.length,"canceled workflows":c.length,"failed workflowIds":l.map((e=>e._id)),"complete workflowIds":d.map((e=>e._id)),"canceled workflowIds":c.map((e=>e._id))};ov("Dubbing Runtime",E)}function H1(e){const t=[],a=[],n=[],s=[];return Object.values(e.byAssetId).forEach((({dubbingWorkflow:e})=>{if(e)if(function(e){var t;for(const a of e.stages)if(a.type===F1.DUBBING_PLAYBACK){const n=D1(a),s=null==(t=e.stageProgress)?void 0:t[n];if(null==s?void 0:s.canceled)return!0}return!1}(e))n.push(e);else switch(e.status){case vu.FAILED:t.push(e);break;case vu.COMPLETE:a.push(e);break;case vu.CANCELED:n.push(e);break;case vu.PENDING:case vu.RUNNING:s.push(e)}})),{failedWorkflows:t,completeWorkflows:a,canceledWorkflows:n,runningWorkflows:s}}const z1=["_id","copiedProjectId","copiedVideoId","createdAt","creatorId","finishedAt","fullPath","projectId","submittedAt","teamId","workspaceId"];var G1=(e=>(e.REMOVE_WATERMARK="removeWatermark",e.EXPORT_VIDEO="export",e.OPEN_EXPORT_PANEL="exportPanel",e.COMMENT="comment",e))(G1||{});function Y1(e){const t=i.useRef(void 0);return i.useEffect((()=>{t.current=e}),[e]),t.current}function K1(e){var t;const a=new Date,n=rg();return{name:e.studio.name,dimensions:e.dimensions,done:!1,duration:e.duration,editorPath:e.editorPath,isGif:!1,isImage:!1,lastSeen:a,parentId:e.parentId,pastedUrl:void 0,privacy:(null==(t=null==n?void 0:n.settings)?void 0:t.defaultPrivacy)??ad.unlisted,progressText:"Saved ...",sourceVideo:{},submittedAt:a}}function X1(e,t){return Zf(`/api/v1/videos/${e}/privacy`,{params:{privacy:t}})}function Z1(e,t){const a=NG(e.studio,nA(e.studio)),{currentUser:{user:n},currentUser:s}=e||{},o=q1(a),i=qm(s)?null==n?void 0:n._id:void 0,r=qm(s)?null==n?void 0:n.email:void 0,l={...(d=e.studio,{...d||{},layersPendingUpload:{},deletedLayerDict:{}}),...K1(e),duration:a,creatorId:i,creatorEmail:r,watermark:o,sessionSettings:void 0,..."Cypress"in window&&{isCypress:!0}};var d;return t&&(l.name=e.studio.name||ql),l}const q1=e=>{const t=ug();return!t.hasPermission(Fd.EXPORT_ALL_WITHOUT_WATERMARK)&&!(e<=30&&t.hasPermission(Fd.EXPORT_30_SEC_WITHOUT_WATERMARK))};const J1=e=>{const{snapshotCreatedOn:t,video_id:a,id:n,...s}=e;return{version_number:0,created_on:t,snapshot_type:"legacy",export:!0,id:n,content:s,video_id:a}};async function $1(e){try{return(e=>{if(0===e.length)return[];const t=[];for(let a=0;a<e.length;a+=1){const n=e[a];if("full_video"===(null==n?void 0:n.snapshot_type)||(null==n?void 0:n.export))t.push({...n});else if("patch"===(null==n?void 0:n.snapshot_type)){const e=t[t.length-1];if(e){if(Me(n.diff,e.content))continue;t.push({...n,content:Pe(Fe(e.content),n.diff).newDocument})}}else t.push(J1(e[a]))}return t.map((e=>(e.content&&(e.content=function(e){if(!function(e){return e.scenes&&"scene-1"===e.scenes[0].id}(e))return e;const t=e.scenes[0].layers.reduce(((e,t)=>(e[t.id]=t,e)),{});return e.allLayers={byId:t},delete e.isStudio,delete e.isCreator,delete e.scenes,e}(e.content)),e)))})(await Kf(`/api/v1/snapshots/${e}`))}catch(b9e){throw console.error(b9e),b9e}}async function Q1({migrateToVersion:e,snapshot_id:t,video_id:a}){try{const n=e?{migrateToVersion:e}:{};return await Kf(`/api/v1/snapshots/${a}/${t}`,{params:n})}catch(b9e){throw console.error(b9e),b9e}}async function e2(e,t=!1){if(!e._id)throw Error("No video id present");try{const a=await Xf(`/api/v1/snapshots/${e._id}`,{body:{video:e,exportSnapshot:t}});if(a.error)throw a;return a}catch(a){throw function(e){return e&&"object"==typeof e&&"status"in e&&410===e.status}(a)&&(cR(),Mu().dispatch(db({type:"error",description:"The video has been deleted."}))),a}}async function t2(e){const{state:t,dispatch:a}=Mu(),n=t.studio._id,{asset_id:s,conversion_type:o,pastedUrl:i,resource:r,type:l,layer:d}=e,c=qu(t),u={asset_id:s,resource:r,type:l,conversion_type:o,layer:d,video_id:n,fragment:"optimize-mp4"===o&&wS(),hls:"optimize-mp4"===o&&c.HLS&&yS().allowed,previewABTestGroup:$u()};i&&(u.pastedUrl=i);const p={asset_id:s,resource:r,type:l,conversion_type:o,video_id:n};ov("Conversion Begins",p);try{console.info(`Kicking off conversion of type ${l} for asset ${s} and url ${i}`);const e=await Xf("/api/v1/conversions",{body:u}),{conversion_id:t,asset:n}=e;return n&&a(YE([n])),t}catch(m){console.error(m);const{message:e}=ub(m);throw ov("Conversion Fails",{...p,failureMessage:e}),m}}async function a2(e){if(!e)throw new Error("No conversion id present");const t=await Kf(`/api/v1/conversions/${e}`).catch((e=>{throw console.error(e),e}));if(t.status===$g.failed){const a={asset_id:t.asset_id,conversion_id:e,failureMessage:"conversion status === failed"};ov("Conversion Fails",a)}return t}var n2=(e=>(e.FINAL_VIDEO_PAGE="Final Video Page",e.SNAPSHOT_PAGE="Snapshot Page",e.VERSION_HISTORY="Version History",e.EXPORT_HISTORY="Export History",e))(n2||{}),s2=(e=>(e.VERSION_HISTORY="Version History",e.PROJECT_DROPDOWN="Project Dropdown",e.STUDIO_HEADER="Studio Header",e.FINAL_VIDEO_PAGE="Final Video Page",e.ADMIN_DEBUG_PAGE="Admin Debug Page",e.RESIZE="Resize Overlay",e.TUTORIAL="Tutorial Project",e.FIND_HIGHLIGHTS="Find Highlights",e))(s2||{}),o2=(e=>(e.PROJECT_DROPDOWN="Project Dropdown",e.WORKSPACE_BULK_MOVE="Workspace Bulk Move",e))(o2||{}),i2=(e=>(e.THROTTLED_THUMBNAIL_GENERATOR="Throttled Thumbnail Generator",e.ON_EXIT="On Exit",e.FIRST_SAVE="First Save",e.ON_RESIZE="On Resize",e))(i2||{});const r2=["library","resources","samples","static","team_assets","assets","conversions"],l2=["%252F","%2F"];function d2(e){if(null==e)return;let t=e;for(const a of l2)for(const e of r2)t.startsWith(`${e}${a}`)&&(t=decodeURIComponent(t));return t}function c2(e){if(null==e)return[void 0,void 0];if(!e||"string"!=typeof e)return[void 0,void 0];const t=e.split("?",1)[0];if(!t)return[void 0,void 0];let a,n;if(t.startsWith("https://storage.googleapis.com")){const e=t.slice("https://storage.googleapis.com".length).split("/");[,a]=e,n=e.slice(2).join("/")}else if(t.startsWith("https://cdn.kapwing.com"))a="kapwing",n=t.slice("https://cdn.kapwing.com".length+1);else if(t.startsWith(Vl))a=Bl,n=t.slice(Vl.length+1);else{a=Bl;try{n=new URL(t).pathname}catch(b9e){}}return"undefined"===a&&(a=Bl),[a,d2(n)]}const u2=new Set(["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","0","1","2","3","4","5","6","7","8","9","","*","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","#","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]);const p2=e=>!!u2.has(e)||!!function(e){return e.match(["\ud83c[\udf00-\udfff]","\ud83d[\udc00-\ude4f]","\ud83d[\ude80-\udeff]","[--]"].join("|"))}(e);function m2(e,t){const a={Action:"","Brand Asset Changed":""};switch(e){case"remove":a.Action="Removed";break;case"add":a.Action="Added";break;case"update":a.Action="Updated"}switch(t){case"color":a["Brand Asset Changed"]="Color";break;case"customSpelling":a["Brand Asset Changed"]="Custom Spelling";break;case"font":a["Brand Asset Changed"]="Font";break;case"media":a["Brand Asset Changed"]="Media";break;case"template":a["Brand Asset Changed"]="Brand Template";break;case"voices":a["Brand Asset Changed"]="Cloned Voices";break;case"subtitles":a["Brand Asset Changed"]="Subtitle Styles";break;case"textPreset":a["Brand Asset Changed"]="Text Styles";break;case"textTemplate":a["Brand Asset Changed"]="Text Templates"}ov("Team Brandkit Update",a)}function g2(e){return Fh({key:"pastedLinkError",params:{layerIds:e.map((e=>e.id))}})}function h2(e,t={}){return Xf("/api/v2/assets/create",{body:e,params:t,retries:5})}const v2=c.memoize(f2,(e=>e));function f2(e,t,a){return Xf("/api/v1/assets/createFromLink_v3",{body:{extract_info:a,url:e,...t},retries:5})}const b2=new Map;function y2(e,t){const a=`/api/v1/assets/${e}`,n=b2.get(a);if(n)return n;const s=Kf(`${a}/${t||""}`,{retries:5}).then((e=>(b2.delete(a),e)));return b2.set(a,s),s}var w2=(e=>(e.admin="admin",e.assetMonitor="asset-monitor",e.cmlFetcher="cml-fetcher",e.downloadLayer="download-layer",e.subtitlePresets="subtitle-presets",e.textPresets="text-presets",e.textTemplates="text-templates",e.dubbing="dubbing",e.lipSync="lip-sync",e.uploadContainer="upload-container",e.splitVocals="split-vocals",e.personaMonitor="persona-monitor",e.personaLayerCreation="persona-layer-creation",e.tts="tts",e.enhanceAssetMonitor="enhance-asset-monitor",e))(w2||{});async function _2(e,t,a=!1){if(0===e.length)return Promise.resolve([]);try{return await Xf(`/api/v1/assets/bulk?cl=${t}`,{retries:5,body:{assetIds:e},skipRetriesFor400s:a})}catch(n){if(Math.random()<.05&&n instanceof Hf&&429===n.status){const t=new Error("Assets bulk endpoint returned a 429");l(t,{extra:{assetIdSample:e.slice(0,20),assetIdsLength:e.length},level:"warning"})}throw n}}function C2(e,t){return qf(`/api/v1/assets/${e}`,{body:t})}function S2(e){return qf("/api/v1/assets/bulk",{body:{updates:e}})}function x2(e){return Kf(`/api/v1/assets/${e}/split-scenes`,{timeout:75e3})}function I2(e,t){return Xf(`/api/v1/assets/${e}/split-scenes`,{body:t})}function A2(e){if(!e)return void console.error("No Pasted URL provided.");const{state:t}=Mu(),a=[];for(const n of Gx(t)){const s=HC(n,t);(null==s?void 0:s.input_url)===e&&a.push(n)}k2(a,!0)}function k2(e,t){if(0===e.length)return;const{dispatch:a,state:n}=Mu();let s=null;const[o]=e,i=o?HC(o,n):void 0;if(o&&(null==i?void 0:i.url)){const e=new URL(i.url).hostname.split(".");s=e.slice(Math.max(0,e.length-2)).join(".")}const l=Qx(null==i?void 0:i.input_url);ov("Failed Preemptive Download Modal Shown",{url:null==i?void 0:i.input_url,pathname:window.location.pathname,extractedHost:s,platform:l,fromPreemptiveDownload:t}),r.batch((()=>{const t={};for(const a of e)t[a.id]={uploadPending:!1,preemptiveDownloadError:!0};uk(t,"reportAssetExtractError"),a(g2(e))}))}function T2(e){return Xf(`/api/v1/assets/${e}/initialize_metadata`)}function E2(e){return e.content_type?e.content_type.startsWith("image")?Nc.Image:e.content_type.startsWith("video")?Nc.Video:e.content_type.startsWith("audio")?Nc.Audio:null:null}async function L2(e,t){const{state:a,dispatch:n}=Mu(),s=a.assets.byId[e],o=a.assets.assetWaveformData[e];if(!(null==o?void 0:o.postingWaveformData)&&!(null==s?void 0:s.waveformInfo)){n(ZE({assetId:e,update:{postingWaveformData:!0}}));try{const a=new FormData;a.append("waveform",t.file),a.append("duration",String(t.duration)),a.append("sampleRate",String(t.sampleRate)),a.append("isFfmpeg",String(t.isFfmpeg)),a.append("scalingFactor",void 0===t.scalingFactor?"":String(t.scalingFactor)),a.append("source",t.source);const s=await Xf(`/api/v1/assets/${e}/waveform`,{body:a,headers:{enctype:"multipart/form-data"}});if(s.success)return void n(KE({assetId:e,update:{waveformInfo:s.waveformInfo}}))}catch(b9e){console.error(b9e.message)}n(ZE({assetId:e,update:{postingWaveformData:!1}}))}}const j2=(e,t)=>Mu().dispatch(KE({assetId:e,update:t})),R2=(e,t)=>{if(!e)return;const{dispatch:a,state:n}=Mu();if(t){const t=(n.assets.layerIdsByAssetId[e]||[]).map((e=>[e,{readyForTrackRender:!0}]));Hj(Object.fromEntries(t))}a(ZE({assetId:e,update:{waveformDataFetchSucceeded:t}}))},N2=()=>u((e=>e),((e,t)=>t.assets.localAssetInfo),((e,t)=>t.mediaCache),((e,t,a)=>e.map((e=>{const n=Hp(e,{mediaCacheState:a});if(!n)return;const s=t[n];return s?(null==s?void 0:s.preview_local_url)||(null==s?void 0:s.local_url):void 0})))),M2=()=>u((e=>e),((e,t)=>t.assets.byId),((e,t)=>e.map((e=>e.asset_id?t[e.asset_id]:void 0)))),P2=async(e,t)=>{const{dispatch:a}=Mu(),n=await y2(e,t);if(!n)throw new Error("Asset not found");return a(YE([n])),n},F2=async(e,t)=>{const{dispatch:a}=Mu(),n=await _2(e,t);return n.length&&a(YE(n)),n};function D2(){const e=i.useRef(!0);return i.useEffect((()=>(e.current=!0,()=>{e.current=!1})),[]),e}const O2="/api/v2/presets/magicSubtitlePresets",U2=async e=>{await Zf(O2,{body:{preset:e}})},B2=async e=>{const{dispatch:t}=Mu();if(e){const a=await(async e=>{const t=`${O2}/${e}`,{presets:a}=await Kf(t);return a})(e);a&&t(NB({brandkitPresets:a}))}else t(NB({brandkitPresets:[]}))},W2=async(e,t)=>{const{dispatch:a,state:n}=Mu();try{const s={...e,teamId:n.teams.selectedTeamId,timestampCreated:Date.now()};if("custom"===e.presetId){s.presetId=`preset-${g()}`;let e=1;n.magicSubtitlePresets.brandkitPresets.forEach((({title:t})=>{if(t.includes("Brand Style")){const a=Number(t.split(" ")[2]);a>=e&&(e=a+1)}})),s.title=`Brand Style ${e}`,K2(s),q2()}a(UB({preset:s,index:t})),await(async e=>{await Xf(O2,{body:{preset:e}})})(s),"custom"===e.presetId&&a(OB({presetId:"custom"}));a(db({description:"Your subtitle style is now accessible to everyone on your team!",type:"success"})),m2("add","subtitles")}catch(b9e){cb({description:"Failed to save subtitle style.",error:b9e})}},V2=async e=>{if("custom"!==e.presetId)try{await U2(e)}catch(b9e){cb({description:"Failed to update subtitle style.",error:b9e})}},H2=async e=>{const{dispatch:t,state:a}=Mu(),n=a.teams.selectedTeamId;if(!n)return;const{preset:s}=Y2(a);if((null==s?void 0:s.presetId)===e){const{presets:n}=a.magicSubtitlePresets;n.some((t=>t.presetId===e))||t(Nq({updates:{preset:null},undoable:!1}))}try{t(WB({presetId:e})),await(async(e,t)=>{const a=`${O2}/${e}/${t}`;await Yf(a)})(n,e),m2("remove","subtitles")}catch(b9e){cb({description:"Failed to remove subtitle style.",error:b9e})}},z2=(e,t)=>{var a,n,s,o,i;const r={style:e.style,wordByWordAnimations:e.wordByWordAnimations,transitionId:null==(a=e.transition)?void 0:a.transitionId,transitionDuration:null==(n=e.transition)?void 0:n.transitionDuration,transitionOverlapDuration:null==(s=e.transition)?void 0:s.transitionOverlapDuration,transitionSpeed:null==(o=e.transition)?void 0:o.transitionSpeed,preset:e};let l=Jb;e.isSafezoneAware?l=$b:"bottom"===e.style.verticalAlign?l=Zb:"middle"===e.style.verticalAlign&&(l=qb);let d=r.style.fontSize;const c=e.projectRatio||(null==(i=Ow(e))?void 0:i.projectRatio);return c&&(d=uX({currentFontSize:d,newRatio:t.aspectRatio,prevRatio:c})),{...r,position:l,style:{...r.style,fontSize:d}}},G2=e=>{const{state:t}=Mu(),{magicSubtitlesGlobal:a}=t.studio,{brandkitPresets:n}=t.magicSubtitlePresets,s={height:t.studio.height??1,width:t.studio.width??1};if(!e){if((null==a?void 0:a.style)||(null==a?void 0:a.position))return{};const e=hg(Fd.BRANDKIT),t=n.length>0;if(e&&t&&n[0])return z2(n[0],{aspectRatio:s})}return z2(e||(()=>{const{state:e}=Mu(),t=e.teams.selectedTeamId,{lastExportedPresets:a}=e.magicSubtitlePresets;for(const n of a)if([t,void 0].includes(n.teamId))return n;return dy})(),{aspectRatio:s})},Y2=u(VD,(e=>{var t;return null==(t=e.studio.magicSubtitleSpeakers)?void 0:t.speakerConfigs}),(e=>e.studio.ratio),(e=>{const{selectedItem:t}=e.studio;return"magicSubtitle"!==(null==t?void 0:t.type)||t.isPartialSelection}),YO,((e,t,a,n,s)=>{var o,i;if(n&&!s)return{};const r=TK(a);if(s&&((null==(o=null==t?void 0:t[s])?void 0:o.preset)||(null==(i=null==t?void 0:t[s])?void 0:i.style))){const a=t[s],{style:n,preset:o,wbwAnimation:i}=a;return{preset:o,style:n,wordByWordAnimations:i,transition:(null==e?void 0:e.transitionId)?{transitionId:null==e?void 0:e.transitionId,transitionDuration:null==e?void 0:e.transitionDuration,transitionOverlapDuration:null==e?void 0:e.transitionOverlapDuration,transitionSpeed:null==e?void 0:e.transitionSpeed}:void 0,projectRatio:{width:r.ratioWidth,height:r.ratioHeight}}}const l=s?null==t?void 0:t[s]:null;return{preset:null==e?void 0:e.preset,style:null==e?void 0:e.style,wordByWordAnimations:(null==l?void 0:l.wbwAnimation)||(null==e?void 0:e.wordByWordAnimations),transition:(null==e?void 0:e.transitionId)?{transitionId:null==e?void 0:e.transitionId,transitionDuration:null==e?void 0:e.transitionDuration,transitionOverlapDuration:null==e?void 0:e.transitionOverlapDuration,transitionSpeed:null==e?void 0:e.transitionSpeed}:void 0,projectRatio:{width:r.ratioWidth,height:r.ratioHeight}}})),K2=(e,t,a=!0)=>{var n;const{dispatch:s,state:o}=Mu(),i=null==(n=o.studio.magicSubtitleSpeakers)?void 0:n.speakerConfigs,r=iU(),l="magicSubtitle"===(null==r?void 0:r.type)?r.speakerId:void 0,d=VD(o),c={height:o.studio.height??1,width:o.studio.width??1};PU.execInUndoBatch((()=>{var n,o;if(a&&function(){const{dispatch:e,state:t}=Mu(),{preset:a,style:n,wordByWordAnimations:s,projectRatio:o,transition:i}=Y2(t),r=X2({style:n,wordByWordAnimations:s,transition:i,projectRatio:o});a||e(jB(r))}(),l){dv();const a=(null==(n=null==i?void 0:i[l])?void 0:n.style)||d.style,r=(null==(o=null==i?void 0:i[l])?void 0:o.position)||d.position,u=z2(e,{aspectRatio:c}),{position:p,style:m,wordByWordAnimations:g}=u;s(Rz({speakerId:l,update:m||a,undoable:t})),s(jz({speakerId:l,position:p||r,undoable:t})),s(Nz({speakerId:l,preset:e,undoable:t})),s(Mz({speakerId:l,wbwAnimation:g,undoable:t}))}else s(Nq({updates:{...z2(e,{aspectRatio:c}),defaultCharsPerSubtitle:d.defaultCharsPerSubtitle,isHidden:d.isHidden,position:d.position},override:!0,undoable:t})),s(Pz({}))}))};function X2({style:e,wordByWordAnimations:t,transition:a,presetId:n="custom",title:s="Custom",projectRatio:o}){return{presetId:n,title:s,style:e||Xb,wordByWordAnimations:t,transition:a,projectRatio:o}}function Z2(){const{preset:e,style:t,wordByWordAnimations:a,projectRatio:n,transition:s}=Du(Y2,Ou);return e||X2({projectRatio:n,style:t,wordByWordAnimations:a,transition:s})}function q2(){const{dispatch:e}=Mu();e(jB({...dy,presetId:""}))}function J2(){return Du((e=>{var t;if(e.studio.workflowId){const a=e.workflows.workflowById[e.studio.workflowId];if("success"===(null==a?void 0:a.status)){const e=null==(t=a.data.settings)?void 0:t.subtitlePreset;if(e)return e}}return e.magicSubtitlePresets.customPreset}))}const $2=u((e=>e.magicSubtitlePresets),(({brandkitPresets:e,presets:t})=>{const a=new Set(e.map((e=>e.presetId)));return{presets:t.filter((e=>e&&e.presetId&&!a.has(e.presetId))),brandkitPresets:e}}));function Q2(){const e=D2(),t=Du((e=>e.teams.selectedTeamId)),a=Du($2),[n,s]=i.useState(!1);return i.useEffect((()=>{B2(t)}),[t]),i.useEffect((()=>{!async function(){Ef()||(await(async()=>{const{dispatch:e,state:t}=Mu(),{presets:a}=t.magicSubtitlePresets,n=(e=>{const t=[];return e.forEach((({style:{fontFamily:e}})=>{"custom"===e.type&&t.push(e.asset_id)})),t})(a);if(!n.every((e=>{const a=t.assets.byId[e];return(null==a?void 0:a.url)&&!ac(a.url)})))try{const t=await _2(n,w2.subtitlePresets),s=t.reduce(((e,t)=>(e[t._id]=t,e)),{}),o=a.map((e=>((e,t)=>{var a,n;const{style:{fontFamily:s}}=e;return"custom"===s.type&&(null==(a=t[s.asset_id])?void 0:a.url)?{...e,style:{...e.style,fontFamily:{...s,url:null==(n=t[s.asset_id])?void 0:n.url}}}:e})(e,s)));e(RB({presets:o})),e(YE(t))}catch(s){console.error("refreshSubtitlePresetAssetUrls err",s)}})(),e.current&&s(!0))}()}),[e]),n?a:{presets:[],brandkitPresets:[]}}function e3(){const{state:e}=Mu(),{preset:t,style:a,wordByWordAnimations:n,projectRatio:s,transition:o}=Y2(e);return t||X2({style:a,wordByWordAnimations:n,projectRatio:s,transition:o})}const t3=(e,t,a)=>!(t&&!a)||e.speakerId!==t.speakerId,a3=(e,t,a)=>{if(!a)return[];const n=[];let s;for(let o=0;o<e.length;o++){const a=e[o];a&&(t3(a,s,t.get(a.id)||!1)&&n.push(o),s=a)}return n},n3="/api/v2/presets/textPresets",s3=async e=>{await Zf(n3,{body:{preset:e}})};let o3=0;const i3=e=>{if(e.every((e=>e.title)))return e;let t=1;for(const a of e)a.title||(a.title=`Brand Style ${t}`,t++);return(async e=>{await Zf(`${n3}/multiple`,{body:{presets:e}})})(e),e},r3=async e=>{const{dispatch:t}=Mu(),a=Date.now();if(a-o3<1e4)return;o3=a;let n=await(async e=>{const t=`${n3}/${e}`,{presets:a}=await Kf(t);return a})(e);n&&(n=i3(n),t(NV({brandkitPresets:n})))},l3=async(e,t)=>{const{dispatch:a,state:n}=Mu();try{const s={...e,teamId:n.teams.selectedTeamId,timestampCreated:Date.now()};"LAST_USED"===s.presetId&&(s.presetId=`preset-${g()}`,s.title="Brand Style"),a(DV({preset:s,index:t})),await(async e=>{await Xf(n3,{body:{preset:e}})})(s);a(db({description:"Your text style is now accessible to everyone on your team!",type:"success"})),m2("add","textPreset")}catch(b9e){cb({description:"Failed to save text style.",error:b9e})}},d3=async e=>{try{await s3(e)}catch(b9e){cb({description:"Failed to update text style.",error:b9e})}},c3=async e=>{const{dispatch:t,state:a}=Mu(),n=a.teams.selectedTeamId;if(n)try{t(UV({presetId:e})),await(async(e,t)=>{const a=`${n3}/${e}/${t}`;await Yf(a)})(n,e),m2("remove","textPreset")}catch(b9e){cb({description:"Failed to remove text style.",error:b9e})}},u3=()=>{const{state:e,dispatch:t}=Mu(),{showCanvas:a}=e.studio;a||(Qq({ratioWidth:16,ratioHeight:9,undoable:!0}),t(SK({undoable:!0})))},p3={},m3=e=>["white","#ffffff","#fff","rgb(255,255,255)"].includes(null==e?void 0:e.toLowerCase().replaceAll(" ","")),g3=e=>["black","#000000","#000","rgb(0,0,0)"].includes(null==e?void 0:e.toLowerCase().replaceAll(" ","")),h3=e=>["transparent","rgba(0,0,0,0)",KN].includes(null==e?void 0:e.toLowerCase().replaceAll(" ","")),v3=e=>!(!m3(e.style.color)||!h3(e.style.backgroundColor)||e.style.textShadow&&"none"!==e.style.textShadow&&!h3(e.style.textShadow)&&!m3(e.style.textShadow)||e.style.textEffect&&!m3(e.style.textEffectColor??"")&&!h3(e.style.textEffectColor??"")),f3=e=>{const{state:t}=Mu();let a;const n=t.studio.background.toLowerCase()||"";return m3(n)&&v3(e)&&"BASIC"!==e.presetId&&(a={color:"#000000",width:20}),g3(n)&&(e=>!(!g3(e.style.color)||!h3(e.style.backgroundColor)||e.style.textShadow&&"none"!==e.style.textShadow&&!h3(e.style.textShadow)&&!g3(e.style.textShadow)||e.style.textEffect&&!g3(e.style.textEffectColor??"")&&!h3(e.style.textEffectColor??"")))(e)&&"BASIC"!==e.presetId&&(a={color:"#ffffff",width:20}),a},b3=(e,t={})=>{var a;const{state:n}=Mu(),s=dY(),o=NG(n.studio,nA(n.studio)),{canvasDimensions:i}=n.studioSizing,{canvasWidth:r,canvasHeight:l}=i||{},d=r||320,c=l||180,u=r/l,p=l?Math.floor(l*(.1*u)):16,m=n.isMobile?p:33,g=(null==(a=n.studio)?void 0:a.background.toLowerCase())||"",h=f3(e);h&&(t.textOutline=h),"BASIC"===e.presetId&&(t.color=Q(g).lightness()>50?"#000000":"#FFFFFF");const v={id:fe(12),presetId:e.presetId,backgroundColor:e.style.backgroundColor,fontFamily:e.style.fontFamily,hasCustomFont:e.style.hasCustomFont,asset_id:e.style.asset_id,fontType:e.style.fontType,fontWeight:e.style.fontWeight,textAlign:e.style.textAlign,textTransform:e.style.textTransform,textOutline:e.style.textOutline,textShadow:"none"===e.style.textShadow?"transparent":e.style.textShadow,color:e.style.color,textBlur:e.style.textBlur,textEffect:"dropShadow"===e.style.textEffect?void 0:e.style.textEffect,textDropShadowColor:e.style.textEffectColor,textPadding:e.style.textPadding,wrapOrFill:e.style.wrapOrFill,textShadowBlur:e.style.textShadowBlur,textShadowDist:e.style.textShadowDist,textShadowRot:e.style.textShadowRot,borderRadius:e.style.borderRadius,underline:e.style.underline,italic:e.style.italic,globalAlpha:e.style.globalAlpha,lineHeight:e.style.lineHeight,type:Nc.Text,fontSize:m,baseWidth:d,baseHeight:c,text:"Sample text",startTime:s,endTime:o>0?s+2:s,...t};if(e.style.hasCustomFont){const{fontType:t,fontFamily:a,asset_id:n}=e.style;v.hasCustomFont=!0,v.asset_id=n,v.fontType=t,v.fontFamily=a}const f=(e=>{const t=e.italic?"italic":"normal",a=document.createElement("canvas").getContext("2d");if(!a)return 0;const n=e.fontWeight||"normal",s=LN(e);a.font=`${t} normal ${n} ${e.fontSize}px ${s}`;let o=e.text;return"uppercase"===e.textTransform?o=e.text.toLocaleUpperCase():"lowercase"===e.textTransform&&(o=e.text.toLocaleLowerCase()),a.measureText(o).width})(v)+10,b=v.fontSize*v.lineHeight;if(v.baseWidth=f,v.baseHeight=b,!t.position){const e=gq(100*f/d),t=gq(100*b/c),{x:a,y:n,rotation:s}=function(e="30%",t="30%"){let a=100-parseInt(e,10)-20;a<5&&(a=5);const n=Math.random()*(a-3)+3,s=15*Math.random()+5;return{x:gq(n),y:gq(s),width:e,height:t,rotation:0}}(e,t);v.position={x:a,y:n,width:e,height:t,rotation:s}}return v},y3=async({preset:e,overrides:t={},replaceInfo:a,droppedTrackInfo:n})=>{u3();const{dispatch:s}=Mu(),o=b3(e,t);yJ({newLayer:o,options:{undoable:!0,knownTimelineRow:void 0!==o.timelineRow,droppedTrackInfo:n},replaceInfo:a}),s(BV({preset:e})),s(ck({id:o.id,type:"layer"})),J0(o),ov("Added Text Preset",{presetId:e.presetId,isDefaultPreset:IV(e),"Is Brandkit Preset":!!e.teamId,"Is Recently Used Preset":"LAST_USED"===e.presetId,dndTimeline:void 0!==t.timelineRow,dndCanvas:void 0!==t.position})},w3=e=>{const{state:t}=Mu(),{backgroundColor:a,fontFamily:n,hasCustomFont:s,asset_id:o,fontType:i,fontWeight:r,textAlign:l,textTransform:d,textShadow:c,textOutline:u,color:p,textBlur:m,textEffect:h,textDropShadowColor:v,textPadding:f,wrapOrFill:b,textShadowBlur:y,textShadowDist:w,textShadowRot:_,borderRadius:C,underline:S,italic:x,globalAlpha:I,lineHeight:A}=e,k=HC(e,t);return{presetId:e.presetId||`preset-${g()}`,style:{backgroundColor:a,fontFamily:n,hasCustomFont:s,url:null==k?void 0:k.url,asset_id:o,fontType:i,fontWeight:r,textAlign:l,textTransform:d,textShadow:c,textOutline:u,color:p,textBlur:m,textEffect:"textBlur"!==h&&v?"dropShadow":h,textEffectColor:v,textPadding:f,wrapOrFill:b,textShadowBlur:y,textShadowDist:w,textShadowRot:_,borderRadius:C,underline:S,italic:x,globalAlpha:I,lineHeight:A}}},_3=e=>{const{state:t,dispatch:a}=Mu(),n=dU(t);0!==n.length&&n.every(sp)&&(PU.execInUndoBatch((()=>{Uu((()=>{e.teamId&&a(VV(e.presetId));const t={};n.forEach((a=>{const n=(e=>{const{backgroundColor:t,color:a,fontFamily:n,hasCustomFont:s,asset_id:o,fontType:i,fontWeight:r,textAlign:l,textTransform:d,textShadow:u,textOutline:p,textBlur:m,textEffect:g,textEffectColor:h,textPadding:v,wrapOrFill:f,textShadowBlur:b,textShadowDist:y,textShadowRot:w,borderRadius:_,underline:C,italic:S,globalAlpha:x,lineHeight:I}=e.style;return c.cloneDeep({backgroundColor:t,color:a,fontFamily:n,hasCustomFont:s,asset_id:o,fontType:i,fontWeight:r,textAlign:l,textTransform:d,textShadow:u,textOutline:p,textBlur:m,textEffect:"dropShadow"===g?void 0:g,textDropShadowColor:"dropShadow"===g?h:void 0,textPadding:v,wrapOrFill:f,textShadowBlur:b,textShadowDist:y,textShadowRot:w,borderRadius:_,underline:C,italic:S,globalAlpha:x,lineHeight:I})})(e);t[a.id]={...n,presetId:e.presetId,draftJSTextTree:void 0,textBlocks:void 0}})),uk(t,"setSelectedTextLayersToPreset",!0),a(TH({ids:n.map((e=>e.id)),value:e.style.color})),a(IH({ids:n.map((e=>e.id)),value:"bold"===e.style.fontWeight})),a(AH({ids:n.map((e=>e.id)),value:e.style.italic??!1})),a(kH({ids:n.map((e=>e.id)),value:e.style.underline??!1}))}))})),ov("Clicked Text Preset",{presetId:e.presetId,"Is Default Preset":IV(e),"Is Brandkit Preset":!!e.teamId,"Is Recently Used Preset":"LAST_USED"===e.presetId}))};function C3(e,t){let a=!0;return Object.keys(e.style).forEach((n=>{var s,o;const i=n,r=e.style[i],l=t.style[i],d=JSON.stringify(r),c=JSON.stringify(l);if("url"===i)return;if(!r&&!l)return;if("textShadow"===i||"textOutline"===i){if(v3(e)&&m3(t.style.color)&&(g3(t.style.textShadow)||g3((null==(s=t.style.textOutline)?void 0:s.color)??"")))return;if(v3(t)&&m3(e.style.color)&&(g3(e.style.textShadow)||g3((null==(o=e.style.textOutline)?void 0:o.color)??"")))return}if(["textShadow","color"].includes(i)&&[e.presetId,t.presetId].includes("BASIC")){if(m3(e.style.color)&&g3(t.style.color))return;if(m3(t.style.color)&&g3(e.style.color))return;if(m3(e.style.textShadow)&&g3(t.style.textShadow))return;if(m3(t.style.textShadow)&&g3(e.style.textShadow))return}[d,c].every((e=>["none","transparent"].includes(e)))||d!==c&&(a=!1)})),a}function S3(e){const{state:t,dispatch:a}=Mu(),{projectId:n}=t.studio,s=t.textPresets.presets,o={};s.forEach((e=>{o[e.presetId]=e}));const i=new Set,r=[];e.forEach((e=>{const t=w3(e);let a=o[t.presetId];a&&C3(a,t)||(a=[...r,...s].find((e=>C3(e,t))));let l=null==a?void 0:a.presetId;!l&&(l=`preset-${g()}`,t.presetId=l,t.projectId=n||void 0,t.title="Text Style"),l&&!i.has(l)&&(i.add(l),r.push(t)),e.presetId!==l&&uk({[e.id]:{presetId:l}},"saveTextPresets")}));const l=s.filter((e=>!i.has(e.presetId)));r.reverse();const d=[...r,...l];a(RV({presets:d}))}function x3(){const{state:e}=Mu(),t=pU(e);if(!t||t.type!==Nc.Text)return;S3([t])}function I3(){const e=D2(),t=Du((e=>e.teams.selectedTeamId)),{brandkitPresets:a,presets:n,lastUsedPreset:s,lastUsedBrandkitPresetId:o}=Du((e=>e.textPresets)),[r,l]=i.useState(!1);if(i.useEffect((()=>{r3(t)}),[t]),i.useEffect((()=>{!async function(){await(async()=>{const{dispatch:e,state:t}=Mu(),{presets:a}=t.textPresets,n=(e=>{const t=[];return e.forEach((({style:{hasCustomFont:e,asset_id:a}})=>{e&&a&&t.push(a)})),t})(a);if(!n.every((e=>{const a=t.assets.byId[e];return(null==a?void 0:a.url)&&!ac(a.url)})))try{const t=await _2(n,w2.textPresets);e(YE(t));const s=t.reduce(((e,t)=>(e[t._id]=t,e)),{}),o=a.map((e=>((e,t)=>{var a,n;const{style:{hasCustomFont:s,asset_id:o}}=e;return s&&o&&(null==(a=t[o])?void 0:a.url)?{...e,style:{...e.style,url:null==(n=t[o])?void 0:n.url}}:e})(e,s)));e(RV({presets:o}))}catch(s){console.error("refreshSubtitlePresetFontAssetUrls err",s)}})(),e.current&&l(!0)}()}),[e]),!r)return{presets:[],brandkitPresets:[]};const d=new Set(a.map((e=>e.presetId))),c=n.filter((e=>e&&e.presetId&&!d.has(e.presetId)));return{lastUsedPreset:s,presets:kV(c),brandkitPresets:a,lastUsedBrandkitPresetId:o}}const A3=()=>{const{lastUsedPreset:e,brandkitPresets:t,lastUsedBrandkitPresetId:a}=I3(),n=(({lastUsedPreset:e,brandkitPresets:t,lastUsedBrandkitPresetId:a})=>{const{dispatch:n}=Mu();if(t.length>0){if(a){const e=t.find((e=>e.presetId===a));if(e)return e;n(VV(void 0))}if(t[0])return t[0]}return e||kW})({lastUsedPreset:e,brandkitPresets:t,lastUsedBrandkitPresetId:a});return n},k3=m({name:"translation",initialState:{progress:0},reducers:{setTranslationProgress:(e,t)=>{e.progress=t.payload}}}),{setTranslationProgress:T3}=k3.actions;async function E3({languageCode:e,subtitles:t,translateLanguageCode:a,teamId:n,cancellationSource:s,forcedProvider:o}){const i={languageCode:e,subtitles:t,translateLanguageCode:a,teamId:n,forcedProvider:o},{response:{translationId:r}={}}=await Xf("/api/v2/translate",{body:i});if(!r)throw ov("Translate Subtitles Fails",{failureMessage:"Failed to dispatch",location:"magic-subtitles","Source Language":e,"Translated Language":a}),new Error("Something went wrong while translating. Please try again later!");if(null==s?void 0:s.cancelled)return;let{success:l,response:d,message:c}=await Kf(`/api/translate/${r}`);const{dispatch:u}=Mu();for(;!(null==d?void 0:d.done);){if(null==s?void 0:s.cancelled)return;if(!l||!d)throw ov("Translate Subtitles Fails",{failureMessage:c,location:"magic-subtitles","Translation ID":r,"Source Language":e,"Translated Language":a}),new Error("Something went wrong while translating. Please try again later!");(null==d?void 0:d.progress)&&u(T3(d.progress)),await new Promise((e=>setTimeout(e,2e3))),({success:l,response:d,message:c}=await Kf(`/api/translate/${r}`))}return u(T3(d.progress)),{subtitles:d.subtitles,translationId:r}}async function L3({transcriptionId:e,translationId:t}){if(!e&&!t)return;let a;try{const n=await Kf("/api/v2/translate/",{params:{transcriptionId:e,translationId:t}});a=n.translation.did_fallback?n.translation.fallback_provider_id:n.translation.provider_id}catch(n){console.error(`Failed to fetch translation for transcription id ${e}`)}return a}function j3(e){const{state:t}=Mu(),{allWorkspaces:a}=t.workspaces;for(const n of a)if(e===n._id)return n;return null}function R3(e){const{state:t}=Mu(),{allWorkspaces:a}=t.workspaces;for(const n of a)if(n._id===e)return!0;return!1}async function N3(e){const{state:t}=Mu(),{currentUser:a}=t,{token:n,user:s}=a||{},{_id:o}=s||{};if(!e)return console.error("No folder id passed to getCurrentUsersRole"),{};if(e===rd)return{role:id.owner};const i=j3(e),r={token:n,userId:o,teamId:"",type:(null==i?void 0:i.type)??Zl.personal,folderId:e};(null==i?void 0:i.teamId)&&"personal"!==i.teamId&&(r.teamId=i.teamId);try{return await Kf(`/api/v1/workspaces/${e}/getUser`,{params:r})}catch(b9e){return console.error(b9e),b9e}}function M3(e){if(e===rd)return"Shared with Me";const t=j3(e);return null==t?"":t.name||""}function P3(){var e,t;const{state:a}=Mu(),{allWorkspaces:n}=a.workspaces,{allTeams:s}=a.teams,o=(null==(e=s[0])?void 0:e._id)||null;return(null==(t=n_(n,o)[0])?void 0:t._id)||""}function F3(e){var t;const{allWorkspaces:a}=Mu().state.workspaces;return(null==(t=n_(a,e)[0])?void 0:t._id)||""}async function D3(e,t,a=""){const{dispatch:n,state:s}=Mu(),{currentUser:o,teams:i,workspaces:r}=s,{allWorkspaces:l}=r,{selectedTeamId:d}=i,{token:u,user:p}=o||{},{_id:m}=p||{},g={token:u,userId:m,name:e||"Untitled Folder",type:t,teamId:a||d},{workspace:h}=await Xf("/api/v1/createWorkspace",{body:g});return n(lf([h,...l])),n(df(h._id)),ov("Create Folder",{Email:ag(o),"Folder ID":h._id,"Team ID":a||d,"Folder Type":c.capitalize(Zl[t])}),h}async function O3(e){return(await Kf(`/api/v1/workspaces/type/${e}`)).folderType}async function U3(e,t){const{state:a}=Mu(),{currentUser:n,teams:s}=a,{token:o,user:i}=n||{},r=null==s?void 0:s.allTeams.find((e=>e._id===t)),l={subscriptionId:e,stripeId:null==r?void 0:r.stripeId,token:o,userId:i._id,teamId:t};return await Xf("/api/v2/payment/reactivateTeamSubscription",{body:l})}const B3=m({initialState:{loadingSubscription:!0,associatedTeamId:null,subscription:null},name:"subscription",reducers:{setSubscription:(e,t)=>{e.subscription=t.payload},setAssociatedTeamId:(e,t)=>{e.associatedTeamId=t.payload},setLoadingSubscription:(e,t)=>{e.loadingSubscription=t.payload}}}),{setLoadingSubscription:W3,setSubscription:V3,setAssociatedTeamId:H3}=B3.actions;let z3=null;function G3(e,t,a){return t?z3||(z3=async function(){try{a(W3(!0));const{subscription:t}=await Xf("/api/v1/stripe/getTeamSubscription",{body:{teamId:e}});return Uu((()=>{a(H3(e)),a(V3(t)),a(W3(!1))})),z3=null,t}catch(b9e){throw a(W3(!1)),z3=null,b9e}}(),z3):(Uu((()=>{a(H3(e)),a(V3(null)),a(W3(!1))})),null)}const Y3=()=>{const e=Bu(),t=Du((e=>e.teams.selectedTeamId)),a=(n=t,Du((e=>e.teams.allTeams.find((e=>e._id===n))))||Om);var n;const{loadingSubscription:s,subscription:o,associatedTeamId:r}=Du((e=>e.subscription));i.useEffect((()=>{t!==r&&r&&(e(W3(!0)),e(V3(null)))}),[t,r,e]);const l=i.useCallback((async()=>{G3(a._id,a.stripeId,e)}),[a._id,a.stripeId,e]);return i.useEffect((()=>{l()}),[l,a.planTier]),{subscription:o,loadingSubscription:s,refetchSubscription:l}},K3=async()=>{const{state:e,dispatch:t}=Mu(),{teams:a}=e,{selectedTeamId:n,allTeams:s}=a,o=s.find((e=>e._id===n));if(void 0===o)return;const i=function(){const{state:{teams:{selectedTeamId:e},subscription:{subscription:t,associatedTeamId:a}}}=Mu();if(e===a)return t}()||await G3(o._id,o.stripeId,t);return i},X3=async()=>{const e=await K3();return _c(e)},Z3=e=>{const t=Du((e=>e.currentUser)),[a,n]=i.useState(!0),[s,o]=i.useState(),r=i.useCallback((async()=>{n(!0);try{const{subscription:a}=await Xf("/api/v1/admin/getStripeSubscriptionFromTeamId",{body:{teamId:e,userId:t.user._id}});o(a),n(!1)}catch(b9e){cb({description:"Failed to retrive subscription",error:b9e}),n(!1)}}),[t.user._id,e]);return i.useEffect((()=>{r()}),[r]),{subscription:s,loadingSubscription:a,refetch:r}},q3=()=>{const e=lg(),{subscription:t,refetchSubscription:a}=Y3(),[n,s]=i.useState(!1);return{handleCancel:async({onSuccess:o,onError:i}={})=>{if(!n){s(!0);try{await async function(e,t=!1){const{state:a}=Mu(),{currentUser:n}=a,{token:s,user:o}=n||{},{_id:i}=o||{};return await Xf("/api/v2/payment/cancelPlan",{body:{token:s,userId:i,teamId:e,downgradeImmediately:t},parseJSON:!1})}(e._id,!1),await Tb(),a(),$3(e),null==o||o(t)}catch(b9e){l(b9e),null==i||i(b9e)}s(!1)}},cancelling:n}},J3=()=>{const e=lg(),{subscription:t,refetchSubscription:a}=Y3(),[n,s]=i.useState(!1);return{handleReactivate:async({onSuccess:o,onError:i}={})=>{var r;if(t&&!n){s(!0);try{await U3(t.id,e._id),a();const{interval:n}=_c(t);gv({couponId:null,interval:n,planTier:(null==(r=null==t?void 0:t.plan)?void 0:r.nickname)||Id.Pro,upgradeSource:Dd.REACTIVATE_LICENSE,extraAmplitudeEventProperties:{},teamId:e._id,quantity:e?e.users.length:1}),null==o||o(t)}catch(d){l(d),null==i||i(d)}s(!1)}},reactivating:n}},$3=async e=>{const{status:t,interval:a}=await X3(),n={"Current Plan":e.planTier,"Subscription Status":t,"Monthly/Annual":a,"Team ID":e._id,"Number of Workspace Members":e.users.length};ov("Downgrade Workspace",n)};const Q3=["addedFromMediaLibrary","asset_id","base64_img","blob_name","bucket","bucket_name","cmlFileId","content_type","converted_type","conversion_id","duration","endTime","ext","ffprobeData","gcsShortId","hasAudio","height","hidden","id","index","isMediaLibraryUpload","isSample","local_source_url","local_url","lockAspectRatio","locked","loadErrorFired","longLoadFired","loopMode","mediaLibraryID","metadataGathered","mime","mime_type","name","objectFit","optimization_id","optimization_failed","originalName","original_url","position","positionTemp","preview","removeBgPreviewUrl","requireConversion","searchQuery","size","soundUrl","source","startTime","temp_dir","thumbnailUrl","timelineRow","timestamp","track_preview","type","uploadConfirmed","uploadLocation","uploadId","uri","url","wasUploadedAnonymously","width"],e5={borderRadius:{relative:"0%"},borderRadiusTemp:null,filters:{},isAudiogram:!1,lineWidth:"0%",playbackRate:1,presetFilter:null,recordType:"",tempOverlayState:{},uploadPending:!1,uploadProgress:100,videoDelay:0,volume:1,volumeTemp:null},t5=["origin","conversion_type","loopMode","loadErrorFired"],a5={videoConvertedState:"complete"};function n5(e,t,a,n){var s,o;let i=!1;for(const[l,d]of Object.entries(e)){if(!Q3.includes(l)&&JSON.stringify(e5[l])!==JSON.stringify(d)){i=!1;break}i=!0}return i&&"video"===e.type&&((null==(s=e.mime)?void 0:s.includes("mp4"))||(null==(o=e.mime)?void 0:o.includes("quicktime")))&&!e.crop&&xq(e)&&Iq(e)&&GT(e)&&Aq(e,t)&&function(e,t){const{width:a,height:n}=e,[s,o]=t.split(":").map((e=>parseInt(e)));return a===s&&n===o}(e,a)&&("Standard"===(r=n).exportQuality&&"AUTO"===r.exportResolution);var r}function s5(e,t){var a;const n=[...Q3,...t5],s={...e5,...a5};let o=!1;for(const[r,l]of Object.entries(e)){if(!n.includes(r)&&JSON.stringify(s[r])!==JSON.stringify(l)){o=!1;break}o=!0}const i=(null==(a=e.mime)?void 0:a.includes("mp4"))||"complete"===e.videoConvertedState;return o&&"video"===e.type&&i&&!e.crop&&(!e.videoDelay||0===e.videoDelay)&&xq(e)&&Iq(e)&&GT(e)&&Aq(e,t)}function o5(e,t){var a,n,s;if("videoState"===t||"videoBuild"===t){const t="allLayers"in e?e.allLayers:null==(a=null==e?void 0:e.studio)?void 0:a.allLayers,o=Object.values((null==t?void 0:t.byId)??{});return 1===o.length&&"pastedLink"!==(null==(n=o[0])?void 0:n.source)&&!(null==(s=null==e?void 0:e.audio)?void 0:s.url)}return!1}const i5=(e,t,a)=>({studio:e,studioLocal:{magicSubtitleFramesByAsset:{},magicSubtitlesGlobal:{}},comments:{},loadedFonts:{},assetTranscriptions:t&&a?{byId:{[t]:{[a.languageKey]:a}}}:void 0,studioSizing:{canvasX:0,canvasY:0,canvasDimensions:{canvasWidth:0,canvasHeight:0},containerHeight:0,containerWidth:0,containerX:0,containerY:0,zoom:100,anchor:{canvas:{x:50,y:50},container:{x:50,y:50}}}});function r5(e,t,a){if(!["mp4","mp4_convert"].includes(e.videoType))return;const n=(e.width??0)/(e.height??1);if(o5(e,"videoBuild")){const s=Object.values(e.allLayers.byId)[0],{videoType:o}=e;s&&n5(s,n,e.ratio,{exportQuality:e.exportQuality,exportResolution:e.exportResolution})&&(t["Client Side Processable"]={...t["Client Side Processable"],"No Changes":!0,"Processed on client":a}),s&&s5(s,n)&&(t["Client Side Processable"]={...t["Client Side Processable"],"Trim only":!0,"Processed on client":a}),s&&function(e,t,a){var n;return"mp4"===a&&"video"===e.type&&(null==(n=e.mime)?void 0:n.includes("mp4"))&&e.duration&&e.duration<=15&&xq(e)&&Iq(e)&&GT(e)&&(e.crop||!Aq(e,t))}(s,n,o)&&(t["Client Side Processable"]={...t["Client Side Processable"],"Short Duration Cropped or Resized Video":!0})}(function(e){let t=!0;return Object.values(e.allLayers.byId).forEach((e=>{!["video","audio"].includes(e.type)&&"progressBar"!==e.shapeType&&xq(e)&&Iq(e)&&GT(e)||(t=!1)})),e.duration>0&&t})(e)&&(t["Client Side Processable"]={...t["Client Side Processable"],"Static Image Video":!0}),function(e){if(2!==Object.values(e.allLayers.byId).length)return!1;let t=!1,a=!1;return Object.values(e.allLayers.byId).forEach((n=>{n5(n,(e.width??0)/(e.height??1),e.ratio,{exportQuality:e.exportQuality,exportResolution:e.exportResolution})&&(t=!0);const s=n.startTime||n.endTime;"audio"!==n.type||s||n.isAudiogram||(a=!0)})),t&&a}(e)&&(t["Client Side Processable"]={...t["Client Side Processable"],"No Changes Video + Audio":!0}),function(e){if(2!==Object.values(e.allLayers.byId).length)return!1;let t=!1,a=!1;const n=(e.width||0)/(e.height||1);return Object.values(e.allLayers.byId).forEach((e=>{s5(e,n)&&(t=!0);const s=e.startTime||e.endTime;"audio"!==e.type||s||e.isAudiogram||(a=!0)})),t&&a}(e)&&(t["Client Side Processable"]={...t["Client Side Processable"],"Trimmed Video + Audio":!0})}const l5={usedGapInsert:["Used Drag Into Split/Small Gap"],usedRippleDelete:["Used Ripple Delete"],usedRippleMode:["Used Ripple Mode"],usedPasteModifications:["Used Paste Modifications"],usedCanvasBlur:["Used Canvas Blur"],usedSafezone:["Used Safezone"],usedTimeline:["Used Timeline V2"],usedCrop:["Used Crop"],usedImageErase:["Used Image Erase"],usedExactInput:["Used Exact Input"],waveformCreationFailure:["Waveform Creation Failure"],renameLayer:["User Renamed Layer"],usedUploadSRT:["Used Upload SRT"],usedGenerateTTSVideo:["Used Generate TTS Video"],usedGenerateTTSVideoPastPrompt:["Used Past Prompt to Generate TTS Video"],usedGenerateVideo:["Used Generate Video"],usedGenerateVideoPastPrompt:["Used Past Prompt to Generate Video"],usedGenerateImage:["Used Generate Image"],usedGenerateImagePastPrompt:["Used Past Prompt to Generate Image"],usedGenerateMeme:["Used Generate Meme"],usedGenerateMemePastPrompt:["Used Past Prompt to Generate Meme"],usedGenerateVideoFromDocument:["Used Document to Video Generator"],usedGenerateVideoFromDocumentPastPrompt:["Used Past Prompt to Generate Document to Video Generator"],usedGenerateVideoFromScript:["Used Script to Video Generator"],usedGenerateVideoFromScriptPastPrompt:["Used Past Prompt to Generate Script to Video Generator"],usedGenerateVideoFromArticle:["Used Article to Video Generator"],usedGenerateVideoFromArticlePastPrompt:["Used Past Prompt to Generate Article to Video Generator"],usedGenerateBRoll:["Used Generate B-Roll"],usedMagicFill:["Used Magic Fill"],usedEnhanceImage:["Used Enhance Image"],usedSmartReframe:["Used Smart Reframe"],usedIndividualSubtitlePlacements:["Used Individual Subtitle Placements"],updatedAllSubtitlePlacements:["Updated All Subtitle Placements"],usedClassicTranscribe:["Used Classic Transcribe","Used Classic Autogenerate"],usedClassicTranslate:["Used Classic Translate","Used Classic Autogenerate"],usedTranslateReviewDubbing:["Used Translate Review Dubbing"],usedVoiceDubbing:["Used Voice Dubbing"],usedLipSync:["Used Lip Sync"],usedDubbingWithFileUpload:["Used Dubbing File Upload"],usedTTSVoiceFilters:["Used TTS Voice Filters"]};async function d5({exportLocation:e,video:t,studioState:a={},processedOnClient:n=!1}){try{await async function({exportLocation:e,video:t,studioState:a={},processedOnClient:n=!1}){var s,o,i;const{state:r}=Mu(),l={...Tv()};t._id&&(l["Video ID"]=t._id,l["Link to Video"]=`kapwing.com/videos/${t._id}`);"studio-publish-dropdown"===t.createLocation&&(l["Exported With Dropdown"]=!0);l.exportLocation=e,l["Approximate Video Document Size (MB)"]=function(e){const t=JSON.stringify(e).length;return Number((t/1024/1024).toFixed(2))}(t);const{origin:d}=t;d&&(l["Landing Page"]=d);const{templateSource:c}=r;c&&(l["Template Source"]=c);I_()&&(l["Used PWA"]=!0);t.duration&&(l.Duration=t.duration);!function(e,t,a,n,s){var o,i,r,l,d,c,u,p,m,g,h;if(0===e.duration||e.exportFrameTime>=0?s["Export Type"]="jpg":s["Export Type"]=e.videoType,e.exportQuality&&(s.exportQuality=e.exportQuality),e.exportResolution&&(s.exportResolution=e.exportResolution),"usedUndo"in t&&t.usedUndo&&(s["Used Undo"]=!0),t.usedEyedropper&&(s["Used Eyedropper"]=!0),fv(s,t,a),t.analytics){const{analytics:e}=t;e.activeFindHighlightsJobInfo&&(s["Find Highlights Job ID"]=e.activeFindHighlightsJobInfo.jobId,s["Find Highlights Asset Duration"]=e.activeFindHighlightsJobInfo.assetDuration),e.autoEditJobId&&(s["Auto Edit Job ID"]=e.autoEditJobId),Object.entries(l5).forEach((([t,a])=>{e[t]&&a.forEach((e=>s[e]=!0))}))}t.workflowId&&(s["Find Highlights Workflow ID"]=t.workflowId);const v=UO(a);s["Exported With Individual Subtitle Placements"]=v.some((e=>{var t,n,s,o;return!!(null==(o=null==(s=null==(n=null==(t=a.studio.magicSubtitleFramesByAsset)?void 0:t[e.assetId])?void 0:n.byId)?void 0:s[e.frame[Xc.id]])?void 0:o[Xc.position])}));const f=Object.values(e.allLayers.byId);s["Has Smart Reframe Layers"]=f.some((({fromSmartReframe:e})=>e)),s["Has Dubbed Layers"]=f.some(dp),s["Has Lip Sync Layers"]=f.some(cp);let b=0,y=0;const w=new Map,_=new Set;if(f.forEach((e=>{if(e.bRollId&&_.add(e.bRollId),!e.bRollLayerSource)return;"image"===e.type&&(b+=1),"video"===e.type&&(y+=1);const t=w.get(e.bRollLayerSource)||0;w.set(e.bRollLayerSource,t+1)})),s["B-Roll Image Layers"]=b,s["B-Roll Image Layers From Giphy"]=w.get("giphy")||0,s["B-Roll Image Layers From Dall-E"]=w.get("dall-e")||0,s["B-Roll Image Layers From Pexels"]=w.get("pexels-images")||0,s["B-Roll Image Layers From Pixabay"]=w.get("pixabay-images")||0,s["B-Roll Image Layers From Bing"]=w.get("bing-images")||0,s["B-Roll Video Layers"]=y,s["B-Roll Video Layers From Pixabay"]=w.get("pixabay")||0,s["B-Roll Video Layers From Pexels"]=w.get("pexels")||0,null==(o=t.analytics)?void 0:o.smartBrollAddAllInfo){const{brolls:e,entryPoint:a}=t.analytics.smartBrollAddAllInfo,n={};for(const t of Object.values(e))n[t.source]=(n[t.source]??0)+1;const o=Object.keys(e).length,i=Object.values(e).filter((e=>"image"===e.type)).length,r=Object.values(e).filter((e=>"video"===e.type)).length,l=[],d=[],c=[],u=[],p={};let m=0,g=0,h=0;for(const[t,s]of Object.entries(e))_.has(t)?(s.assetId&&c.push(s.assetId),l.push(s.keyword),m+=1,"image"===s.type&&(g+=1),"video"===s.type&&(h+=1),p[s.source]=(p[s.source]??0)+1):(s.assetId&&u.push(s.assetId),d.push(s.keyword));if(s["B-Roll Accuracy - Entry Point"]=a,s["B-Roll Accuracy - Kept Keywords"]=l,s["B-Roll Accuracy - Not Kept Keywords"]=d,s["B-Roll Accuracy - Kept Asset IDs"]=c,s["B-Roll Accuracy - Not Kept Asset IDs"]=u,o>0){const e=Math.round(m/o*100);s["B-Roll Accuracy - % broll kept"]=e}if(i>0){const e=Math.round(g/b*100);s["B-Roll Accuracy - % images kept"]=e}if(r>0){const e=Math.round(h/y*100);s["B-Roll Accuracy - % videos kept"]=e}for(const[t,v]of Object.entries(n)){const e=p[t]??0,a=Math.round(e/v*100);s[`B-Roll Accuracy - % broll kept from ${t}`]=a}}"translate"in t&&!t.isTranscribed&&(s["Used Translate"]=!0),s["Number of Layers"]=Object.entries(e.allLayers.byId).length,s["Max Number of Rows Across Scenes"]=0,r5(e,s,n);const C=Object.keys({}).length;s["Number of Tracks Used"]=C,s["Strict Video Recorded Layers"]=0,s["Strict Audio Recorded Layers"]=0,s["Screen Recorded Layers"]=0,s["Video Recorded During Screen Record Layers"]=0,s["Audio Recorded During Screen Record Layers"]=0,s["Number of Subtitle Layers"]=0,s["Total Uploaded File Size (MB)"]=0,s["Has Generated Scene Layers"]=Object.values(e.allLayers.byId).some((e=>"generateScene"===e.source));const S=e.magicSubtitlesOnExport;if(S){const e=Object.values(S).reduce(((e,t)=>e+t.length),0);s["Number of Subtitle Layers"]=e}const x=new Set,I=new Set,A=new Set,k=new Set,T=(e,t)=>{s[e]?s[e].push(t):s[e]=[t]},E={};a.magicSubtitlePresets.presets.forEach((e=>{E[e.presetId]=e}));const L={};a.magicSubtitlePresets.brandkitPresets.forEach((e=>{L[e.presetId]=e}));const j={};a.textPresets.presets.forEach((e=>{j[e.presetId]=e}));const R={};a.textPresets.brandkitPresets.forEach((e=>{R[e.presetId]=e}));const N={};a.textTemplates.templates.forEach((e=>{N[e.templateId]=e}));const M={};a.textTemplates.brandkitTemplates.forEach((e=>{M[e.templateId]=e}));const P=new Set;let F=!1,D=!1;for(const V of Object.values(e.allLayers.byId)){if(V.volume&&V.volume>0&&V.volume<1&&(s["Uses Layer Volume Adjust"]=!0),up(V)&&(s["Has Persona"]=!0),"number"==typeof V.timelineRow&&(V.timelineRow,s["Max Number of Rows Across Scenes"]=Math.max(V.timelineRow+1,s["Max Number of Rows Across Scenes"])),"video"===V.type&&V.videoDelay&&(s["Uses Video Delay"]=!0),V.type===Nc.Shape&&(s["Has Shape"]=!0),"progressBar"===V.shapeType&&(s["Has Progress Bar"]=!0),V.type===Nc.Text)if(s["Has Text"]=!0,"wrap"===V.wrapOrFill?s["Used Text Background"]="wrap":"fill"===V.wrapOrFill||V.backgroundColor?s["Used Text Background"]="fill":s["Used Text Background"]="none",V.textShadow&&V.textShadow!==KN?s["Used Text Outline"]=V.textShadow:s["Used Text Outline"]="none",V.fromTextDefaults){const e=V.fromTextDefaults;if(!P.has(e)){P.add(e);const t=N[e],n=M[e],s=t||n;if(s){const e=!!n,o=YV(s),i=s.projectId!==a.studio.projectId;T("Reused Text Custom Template",!o&&i),T("Used Text Custom Template",!o&&!i),T("Used Text Brandkit Template",e),T("Used Text Brandkit Template From Another User",e&&!t),T("Used Text Default Template",o),o&&T("Text Default Template ID",s.templateId)}}}else{const e=w3(V),t=j[e.presetId],n=R[e.presetId],s=t||n,o=!!n,i=!!s&&IV(s),r=(null==s?void 0:s.projectId)!==a.studio.projectId;T("Reused Text Custom Preset",!i&&r),T("Used Text Custom Preset",!i&&!r),T("Used Text Brandkit Preset",o),T("Used Text Brandkit Preset From Another User",o&&!t),T("Used Text Default Preset",i),i&&T("Text Default Preset ID",s.presetId)}"image"===V.type&&(V.imageEffectColor&&(s["Has Image Drop Shadow"]=!0),"image/webp"===V.mime&&(s["Has Webp File"]=!0),V.isFreezeFrameLayer&&(s["Has Freeze Frame"]=!0),(null==(i=V.usedProFeatures)?void 0:i.includes("enhanced-image"))&&(s["Has Enhanced Image"]=!0)),V.pluginSource&&(s["Has Layer From Plugin"]=!0);const e=kT(V);e&&"none"!==e.id&&(s["Has Animation"]=!0,"image"===V.type&&(s["Has Image Animation"]=!0),"text"===V.type&&(s["Has Text Animation"]=!0),"video"===V.type&&(s["Has Video Animation"]=!0));const t=TT(V);void 0!==t.find((e=>"outro"===e.type))&&(s["Has Outro Animation"]=!0),t.find((e=>e.id===Mc.MovingZoom))&&(s["Has Moving Zoom"]=!0);const{introTransition:n,outroTransition:o}=LT(V);if((n&&"none"!==n.id||o&&"none"!==o.id)&&(s["Has Transition"]=!0),(null==n?void 0:n.transitionId)&&oT(null==n?void 0:n.transitionId)&&k.add(null==n?void 0:n.transitionId),(null==o?void 0:o.transitionId)&&oT(null==o?void 0:o.transitionId)&&k.add(null==o?void 0:o.transitionId),V.textDropShadowColor&&V.textDropShadowColor!==KN&&(s["Uses Drop Shadow"]=!0),"text"===V.type&&V.textEffect&&(s["Uses Text Effect"]=!0,"textBlur"===V.textEffect&&(s["Uses Text Blur"]=!0)),(null==(r=V.draftJSTextTree)?void 0:r.blocks.length)&&!s["Uses Inline Styling"]){const{blocks:e}=V.draftJSTextTree,t=new Set(null==(l=e[0])?void 0:l.inlineStyleRanges.map((e=>e.style)));s["Uses Inline Styling"]=e.some((e=>e.inlineStyleRanges.some((a=>!t.has(a.style)||0!==a.offset||a.length!==e.text.length))))}if("library"in V&&"emoji"===V.library&&(s["Has Emoji"]=!0),V.hasCustomFont&&(s["Has Custom Font"]=!0),"video"!==V.type&&"image"!==V.type||!("lineWidth"in V)||0===V.lineWidth||(s["Uses Image/Video Border"]=!0),V.isAudiogram&&(s["Has Audiogram"]=!0),V.removeBg&&(s["Uses Video Remove Background"]=!0),V.blurBg&&(s["Uses Video Blurred Background"]=!0),V.chromaKey&&(s["Uses Chroma Key"]=!0),V.isReversed&&(s["Uses Reverse Effect"]=!0),V.presetFilter&&V.presetFilter.name&&"Original"!==V.presetFilter.name&&(s["Uses Preset Filter"]=!0),"video"===V.recordType&&(s["Strict Video Recorded Layers"]+=1),"audio"===V.recordType&&(s["Strict Audio Recorded Layers"]+=1),"screen"===V.recordType&&(s["Screen Recorded Layers"]+=1),"screen-video"===V.recordType&&(s["Video Recorded During Screen Record Layers"]+=1),"screen-audio"===V.recordType&&(s["Audio Recorded During Screen Record Layers"]+=1),V.preemptiveDownloadError&&(s["Preemptive Download Error Detected"]=!0),V.addedFromMediaLibrary&&(s["Uses Media Library"]=!0),V.locked&&(s["Has a Locked Layer"]=!0),"rectangle"===V.shapeType&&V.borderRadius&&"0"!==V.borderRadius.relative&&(s["Has Rounded Rectangles"]=!0),V.isZoomed&&(s["Uses Zoom"]=!0),V.detachedAudioId&&(s["Detached Video"]=!0),V.audioEffect&&"fade"===V.audioEffect&&("audio"===V.type&&(s["Used Audio Fade"]=!0),"video"===V.type&&(s["Used Audio Fade for Video Layer"]=!0)),V.volume&&V.volume>1&&(s["Set Volume > 100%"]=!0),"number"==typeof V.size&&(s["Total Uploaded File Size (MB)"]+=V.size/1e6),V.isTranslatedImageTextLayer&&(s["Used Translate Text in Image"]=!0),!F&&a.teams.activeBrandkit&&((null==(d=a.teams.activeBrandkit)?void 0:d.cmlIds)&&V.cmlFileId&&a.teams.activeBrandkit.cmlIds.includes(V.cmlFileId)||V.color&&a.teams.activeBrandkit.colors.includes({value:V.color,default:!1})||V.backgroundColor&&a.teams.activeBrandkit.colors.includes({value:V.backgroundColor,default:!1})||V.fontFamily&&a.teams.activeBrandkit.fonts.some((e=>e.fontFamily===V.fontFamily)))&&(s["Used Brandkit Asset"]=!0,F=!0),!D&&a.teams.activeBrandkit){if(V.asset_id){const e=null==(c=a.assets.byId[V.asset_id])?void 0:c.input_url;(null==e?void 0:e.includes("asset.brandfetch.io"))&&(s["Used Prepopulated Brandkit Asset"]=!0,D=!0)}(V.color&&a.teams.activeBrandkit.colors.includes({value:V.color,default:!1,isPrepopulated:!0})||V.backgroundColor&&a.teams.activeBrandkit.colors.includes({value:V.backgroundColor,default:!1,isPrepopulated:!0})||V.fontFamily&&a.teams.activeBrandkit.fonts.some((e=>e.fontFamily===V.fontFamily&&e.isPrepopulated)))&&(s["Used Prepopulated Brandkit Asset"]=!0,D=!0),"stabilize"===(null==(u=V.alt_asset)?void 0:u.altType)?s["Used Stabilize in Video"]=!0:"clean-audio"===(null==(p=V.alt_asset)?void 0:p.altType)&&(s["Used Clean Audio in Video"]=!0)}V.hasAudio&&(I.add(V.asset_id),A.add(V.id));const m=nL(V);m&&x.add(m)}s["Audible Assets"]=I.size,s["Audible Layers"]=A.size,s["GLTransitions Used"]=[...k],e.ratio&&(s.Ratio=e.ratio);const O=Object.values(e.allLayers.byId).filter((e=>"video"===e.type)).length;s["Max Video Layers in Single Scene"]=O,e.groups&&Object.values(e.groups).filter((e=>e.saved)).length>0&&(s["Has a Group"]=!0),e.contextMenuUsed&&(s["Opened Context Menu"]=e.contextMenuUsed),null===e.duration&&(s["Null Duration"]=!0),void 0===e.duration&&(s["Undefined Duration"]=!0),(null==(m=a.projectSessionSettings.trimWithTranscriptAnalytics)?void 0:m.secondsRemoved)&&(s["Trim With Transcript - Seconds Removed"]=Math.ceil(a.projectSessionSettings.trimWithTranscriptAnalytics.secondsRemoved));const U=Object.entries((null==(g=t.tetheredWaveforms)?void 0:g.byAssetId)||{}).filter((([e,t])=>(null==t?void 0:t.enabled)&&x.has(e))).length;if(U&&(s["Tethered Waveform Assets"]=U),Object.values(t.magicSubtitles||{}).some((e=>null==e?void 0:e.enabled))){const e=Object.entries(t.magicSubtitles||{}).filter((([e,t])=>null==t?void 0:t.enabled)).map((([e])=>e)),n=new Set,o=new Set,i=VD(a),r=i.transitionId||Mc.None,{wordByWordAnimations:l}=i;if(l&&l.animationId!==Mc.None&&l.animationName!==Mc.None){const{animationId:e,animationName:t}=l,a=`${e}:${t}`;n.add(a)}r!==Mc.None&&o.add(r);const d=[...o],c=[...n];d.length&&(s["Magic Subtitle Transitions"]=d.join(" ")),c.length&&(s["Magic Subtitle Animations"]=c.join(" "));for(const u of e){const e=null==(h=t.magicSubtitles)?void 0:h[u];if(!e)continue;e.transcriptionSource&&"transcription"!==e.transcriptionSource||(s["Used Magic Autogenerate"]=!0),e.translatedLanguageCode&&(s["Used Magic Translate"]=!0);const n=eO(a,u),o=!!(null==n?void 0:n.some((e=>e&&e[Xc.words].some((e=>e[Zc.inlineStyles]&&Object.keys(e[Zc.inlineStyles]).length>1)))));s["Used Magic Subtitles Inline Styling"]=s["Used Magic Subtitles Inline Styling"]||o;const i=!!(null==n?void 0:n.some((e=>e&&e[Xc.words].some((e=>p2(e[Zc.text]))))));s["Magic Subtitles Has Emojis"]=s["Magic Subtitles Has Emojis"]||i;const r=e3();if(r){const e=E[r.presetId],t=!!L[r.presetId],n=Uw(r),s=r.projectId!==a.studio.projectId;T("Used Magic Subtitles Custom Preset",!n&&!s),T("Reused Magic Subtitles Custom Preset",!n&&s),T("Used Magic Subtitles Brandkit Preset",t),T("Used Magic Subtitles Brandkit Preset From Another User",t&&!e),T("Used Magic Subtitles Default Preset",n),n&&T("Magic Subtitles Default Preset ID",r.presetId)}}}let B=!1;if(t.keyframing){let e=0,a=0;Object.values(t.keyframing).forEach((t=>{let n=!1;Object.entries(t).forEach((([t,a])=>{const{keyframes:o}=a;if(!o.length)return;const i=`Total ${t} Keyframes`;e+=o.length,n=!0,s[i]||(s[i]=0),s[i]+=o.length})),n&&(a+=1)})),e&&(B=!0,s["Total Keyframe Count"]=e,s["Total Keyframed Layer Count"]=a)}s["Has Keyframes"]=B;const W=yC.getMetrics();W&&Object.assign(s,W)}(t,a,r,n,l);const{interval:u,status:p}=await X3(),m=rg(),g=ug();l["Team ID"]=m?m._id:"None",l["Current Plan"]=g.name,l["Monthly/Annual"]=u,l["Subscription Status"]=p,l["Number of Workspace Members"]=m?null==(s=null==m?void 0:m.users)?void 0:s.length:0,l["Is Team Member"]=Jh(t.teamId??""),l["Is Project Owner"]=qh(t.creatorId??""),l["Brand Kit Pre-Populated"]=qg(),l["Subtitle Edits"]=Object.values(a.transcriptionEditCounts||{}).reduce(((e,t)=>e+t),0),l["Speaker Labels Added"]=!!(null==(o=Mu().state.studio.magicSubtitleSpeakers)?void 0:o.showSpeakerLabelsOnCanvas);const h=null==(i=Mu().state.studio.magicSubtitleSpeakers)?void 0:i.speakerConfigs,v=h&&Object.values(h).some((e=>(null==e?void 0:e.style)&&Object.keys(e.style).length||(null==e?void 0:e.position)));l["Speaker Specific Styles Added"]=v,ov("Create Video",l),dh("Create Video")}({exportLocation:e,video:t,studioState:a,processedOnClient:n})}catch(b9e){console.error(b9e),l(b9e)}}async function c5({callToAction:e,template:t,originOverride:a,landingPageLocale:n}){var s;const{state:o}=Mu(),{currentUser:i,templateSource:r}=o,l=a||o.studio.origin,d={"Call to Action":e};if(d["Landing Page"]=l,n&&(d["Landing Page Locale"]=n),!(null==d?void 0:d["Landing Page"]))switch(e){case Qh.GetStarted:d["Landing Page"]="Home Page",d["Landing Page URL"]="https://www.kapwing.com/";break;case Qh.NewContentWorkspace:d["Landing Page"]="Workspace",d["Landing Page URL"]="https://www.kapwing.com/folder";break;case Qh.EditThisTemplate:d["Landing Page"]=(null==t?void 0:t.title)||"Unknown",d["Landing Page URL"]=`https://www.kapwing.com/explore/${null==t?void 0:t.slug}`;break;case Qh.WorkspaceSearchTool:d["Landing Page"]="Workspace Search",d["Landing Page URL"]="https://www.kapwing.com/search";break;default:d["Landing Page"]="undefined",d["Landing Page URL"]="undefined"}r&&(d["Template Source"]=r),i&&i.user&&(d["Project Owner Email"]=i.user.email);const{interval:c,status:u}=await X3(),p=rg(),m=ug();d["Team ID"]=p?p._id:"None",d["Current Plan"]=m.name,d["Monthly/Annual"]=c,d["Subscription Status"]=u,d["Quantity Legacy Members"]=0,d["Number of Workspace Members"]=(null==(s=null==p?void 0:p.users)?void 0:s.length)||0,ov("Started Editing",d),dh("Started Editing")}async function u5(e,t){const{interval:a,status:n}=await X3(),s=rg(),o=ug();ov("Download File",{"Is Signed In":e,"Team ID":s?s._id:"None","Current Plan":o.type,"Monthly/Annual":a,"Subscription Status":n,"Quantity Legacy Members":0,"Number of Workspace Members":s?s.users.length:0,"Entry Point":t})}function p5(){ov("Clicked Sign In to Export")}async function m5(e,t){return new Promise((t=>{const a=new FileReader;a.onload=()=>{t(a.result)},a.readAsDataURL(e)}))}async function g5(e){return Buffer.from(await e.arrayBuffer()).toString("base64")}const h5=De||Oe?async function(e){const t=await m5(e);return t.slice(t.indexOf(",")+1)}:g5,v5=De||Oe?m5:async function(e,t){return`data:${t};base64,${await g5(e)}`};function f5(e){const{background:t}=e;if(!t)return null;const a=qN(t);if(!a)return null;const{r:n,g:s,b:o}=a;return{background:t,gradientStyleColor:`rgba(${n}, ${s}, ${o}, 0.2)`,glowingStyleColor:`rgba(${n}, ${s}, ${o}, 0.9)`,backgroundStyleColor:`rgba(${n}, ${s}, ${o}, 0.2)`}}function b5(e,t,a=!1){const{progressBarStyle:n}=e,s=f5(e);if(!s)return;const{background:o,gradientStyleColor:i}=s;if(!n||"solid"===n||"glowing"===n)return o;if("gradient"===n)return`linear-gradient(to right, ${i}, ${s.background})`;if(a)return o;const r=100*t+"%";return`linear-gradient(to right, ${`${o} 0% ${r}`}, ${`${s.backgroundStyleColor} ${r} 100%`})`}function y5(e,t,a=!1){const n=f5(e);return{containerDivStyles:n&&"glowing"===e.progressBarStyle?{filter:`drop-shadow(0px 0px 12px ${n.glowingStyleColor})`}:null,progressBarStyles:{background:b5(e,t,a)}}}const w5=(e,t,a,n)=>{var s;const o=e.startTime||0,i=(null==(s=e.animation)?void 0:s.duration)||e.endTime;let r;r=a?(a-o)/(i-o):0,function(e,t){if("background"!==t.progressBarStyle)return;const a=f5(t);if(!a)return;e.fillStyle=a.backgroundStyleColor,e.fillRect(0,0,t.position.pixel_width,t.position.pixel_height)}(t,e),function(e,t){if("glowing"!==t.progressBarStyle)return;const a=f5(t);if(!a)return;e.shadowColor=a.glowingStyleColor,e.shadowBlur=70}(t,e),function(e,t,a){const n=f5(e);if(!n)return;switch(e.progressBarStyle){case"gradient":{const s=t.createLinearGradient(0,0,e.position.pixel_width*a,e.position.pixel_height);s.addColorStop(0,n.gradientStyleColor),s.addColorStop(1,n.background),t.fillStyle=s;break}default:t.fillStyle=n.background}}(e,t,r),t.fillRect(0,0,e.position.pixel_width*r,e.position.pixel_height),function(e,t,a,n){if(parseFloat(e)<=0)return;t.lineWidth=e,t.strokeStyle=a.stroke,t.beginPath(),t.moveTo(0,0),t.lineTo(a.position.pixel_width*n,0),t.stroke(),t.moveTo(0,0),t.lineTo(0,a.position.pixel_height),t.lineTo(a.position.pixel_width*n,a.position.pixel_height),t.stroke()}(n,t,e,r)};const _5=(e,t,a,n,s=Z[0],o,i,r)=>{const l=e.getContext("webgl")||e.getContext("experimental-webgl");l.pixelStorei(l.UNPACK_FLIP_Y_WEBGL,!0);const d=l.createBuffer();l.bindBuffer(l.ARRAY_BUFFER,d),l.bufferData(l.ARRAY_BUFFER,new Float32Array([-1,-1,-1,4,4,-1]),l.STATIC_DRAW),l.viewport(0,0,e.width,e.height);const c=Ue(l,t);c.minFilter=l.LINEAR,c.magFilter=l.LINEAR;const u=Ue(l,a);u.minFilter=l.LINEAR,u.magFilter=l.LINEAR,Be(l,s).draw(n,c,u,o,i,r)},C5=(e,t)=>!(e<0||e>64)&&(e<8?Boolean(t[0]&1<<e):e<16?Boolean(t[1]&1<<e-8):e<24?Boolean(t[2]&1<<e-16):Boolean(t[3]&1<<e-24)),S5=({blurPixels:e,image:t,createCanvas:a=((e,t)=>{const a=document.createElement("canvas");return a.width=e,a.height=t,a}),width:n,height:s})=>{if(!("width"in t)||!("height"in t)||"number"!=typeof t.width||"number"!=typeof t.height)throw Error("Unexpected SVG image");const[o,i]=[n||t.width,s||t.height],r=3*e,l=a(o+2*r,i+2*r),d=l.getContext("2d");if(!d)throw Error("Failed to create canvas ctx");const[c,u,p,m,g,h,v]=[t.width,t.height,o,i,r,o+r,i+r];return d.drawImage(t,0,0,c,1,g,0,p,g),d.drawImage(t,0,u-1,c,1,g,v,p,g),d.drawImage(t,0,0,1,u,0,g,g,m),d.drawImage(t,c-1,0,1,u,h,g,g,m),d.drawImage(t,0,0,1,1,0,0,g,g),d.drawImage(t,c-1,0,1,1,h,0,g,g),d.drawImage(t,0,u-1,1,1,0,v,g,g),d.drawImage(t,c-1,u-1,1,1,h,v,g,g),d.drawImage(t,g,g,p,m),[l,r]},x5=(e,t,a,n,s,o,i,r=1)=>{e.save();let l=0;let d=a;o>1&&(d=a*o),s&&(l=t,d=a),e.globalAlpha=r||1,i&&(e.globalCompositeOperation=i);const c=e.createLinearGradient(l,0,0,d);for(let u=0;u<n.length;u+=1){const e=n[u];c.addColorStop(e.start,e.color)}e.fillStyle=c,e.fillRect(0,0,t,a),e.restore()};const I5=50,A5=50,k5=159,T5=830,E5=async(e,t)=>{const a=await new Promise((a=>e.toBlob(a,t)));return null==a?"data:,":v5(a,t)},L5=async({videoArgs:e,frame:t=0,finalImageDataUrl:a=null,currentLayers:n=[],div:s="original",numThreads:o=6,eyedropperMode:i=!1,studioTime:r=0,CanvasInterface:l,supportsSVGBlur:d=!0})=>{let c,u;if(l)c=l.Image,u=l.createCanvas;else{if("undefined"==typeof Image)throw Error("CanvasInterface not set.");c=Image,u=(e,t)=>{const a=document.createElement("canvas");return a.width=e,a.height=t,a}}const p="rgba(-255,-255,-255,0)",m="string"!=typeof s;try{const l=(e,t,a,n)=>{let s;if("top"===n)s=a;else s=e.height-t-a;return s},g=t=>{const a=parseFloat(Math.min(1,Math.max(t.height,t.width)/3160)),n=k5*a,s=T5*a,o=I5*a,i=A5*a,r=t.width-s-o,d=e.alignWatermark||"bottom";return[r,l(t,n,i,d),s,n]},h=async(t,a)=>{t.save();const[n,s,o,i]=g(a),r=await C({src:e.watermark_img||"",width:o,height:i,caller:"drawWatermark"});t.imageSmoothingEnabled=!0,t.drawImage(r,n,s,o,i),t.restore()},v=(t,a,n)=>{const s=Ok(a,e.animations),o=s?Qk(a,s,n):a.filters,i=t.canvas.clientWidth||t.canvas.width,r=t.canvas.clientHeight||t.canvas.height,l=fM({filters:o,width:i,height:r,supportsSVGBlur:d});t.filter=l},f=(t,a,n,s)=>{const o=Ok(n,e.animations),i=Qk(n,o,s);if(i.blur){const e=a.width+500,t=a.height+500,o=u(e,t),i=o.getContext("2d");v(i,n,s),i.drawImage(a,0,0,a.width,a.height,e/2-a.width/2,t/2-a.height/2,a.width,a.height);const r=u(a.width,a.height);r.getContext("2d").drawImage(o,e/2-a.width/2,t/2-a.height/2,a.width,a.height,0,0,a.width,a.height),a=r}else if(i.blurBackground){const e=Math.min(a.width,a.height),t=n.filters.blurBackground*e/100,o=u(a.width,a.height),i=o.getContext("2d"),[r,l]=S5({blurPixels:t,image:a,createCanvas:u});v(i,n,s),i.drawImage(r,-l,-l,r.width,r.height),a=o}else v(t,n,s);return a},b=(t,a,n)=>{const{crop_x:s,crop_y:o,crop_width:i,crop_height:r,file_width:l,file_height:d}=a.position,c=Uk(a,e.animations).find((e=>!e.isCrossTransition&&!!e.movingZoomOptions));if(!a.crop&&!c)return{x:s,y:o,width:i,height:r};if(!c)return{x:s+a.crop.x/100*t.width,y:o+a.crop.y/100*t.height,width:i,height:r};const u=!c.isCrossTransition&&c.movingZoomOptions,p=DG(a,u||null,n);let m=a.crop;const g=e.adjusted_width,h=e.adjusted_height;if(lM(a,g,h)){const e={width:g*parseFloat(a.position.width)/100,height:h*parseFloat(a.position.height)/100,x:g*parseFloat(a.position.x)/100,y:h*parseFloat(a.position.y)/100},t=GL(a.position,{x:0,y:0,width:g,height:h},a.crop);m=dM(a,e,t)}const v=OG(m,p),f=l*(v.width/100),b=d*(v.height/100);return{x:v.x/100*t.width,y:v.y/100*t.height,width:f,height:b}},y=(e,t,a,n,s)=>{const{chromaKeyValThreshold:o}=s;return Math.sqrt((Math.pow(e-n.R,2)+Math.pow(t-n.G,2)+Math.pow(a-n.B,2))/195075)<o},w=(e,t)=>{if("colorKey"===t.chromaKeyChannel&&t.chromaKeyColor===p)return e;let a;if("colorKey"===t.chromaKeyChannel&&t.chromaKeyColor){a={R:parseInt(t.chromaKeyColor.slice(1,3),16),G:parseInt(t.chromaKeyColor.slice(3,5),16),B:parseInt(t.chromaKeyColor.slice(5,7),16)}}else"green"===t.chromaKeyChannel?a={R:0,G:255,B:0}:"blue"===t.chromaKeyChannel&&(a={R:0,G:0,B:255});const n=u(e.width,e.height),s=n.getContext("2d");s.drawImage(e,0,0,e.width,e.height);const o=s.getImageData(0,0,e.width,e.height),i=o.data;for(let r=0;r<i.length;r+=4)y(i[r],i[r+1],i[r+2],a,t)&&(i[r+3]=0);return s.clearRect(0,0,e.width,e.width),s.putImageData(o,0,0),e=n},_=(e,t,a)=>{const n=u(e.width,e.height),s=n.getContext("2d");s.drawImage(e,0,0,e.width,e.height);const o=Buffer.from(t.mask_base64_img.split(",")[1],"base64"),i=We.decode(o).data,r=s.getImageData(0,0,e.width,e.height),l=r.data,d=t.maskBitValuesToKeep[a]||[],c=[4,244,4,255];for(let u=0;u<l.length;u+=4){const e=i[u],t=i[u+1],a=i[u+2],n=i[u+3];d.some((s=>C5(s,[e,t,a,n])))||(l[u]=c[0],l[u+1]=c[1],l[u+2]=c[2],l[u+3]=c[3])}return s.clearRect(0,0,e.width,e.width),s.putImageData(r,0,0),e=n},C=async({src:e,height:t,width:a,sentryExtra:n,caller:s})=>{if(!e)throw Error("Missing image source");const o=new c(a,t);return await new Promise(((i,r)=>{o.onload=()=>i(),o.onerror=e=>{r(new $v("drawCanvas create image error",{extra:{errorEvent:e,width:a,height:t,...NC(e),...n},tags:{caller:s}}))},o.src=e,(o.complete||!a&&o.width>0)&&i()})),o},S=(e,t,a,n)=>{var s,o;const i=t.split(","),r=Buffer.from(i[1]??"","base64"),l=(new DOMParser).parseFromString(r,"text/xml").documentElement,d=l.hasAttribute("width")&&!(null==(s=l.getAttribute("width"))?void 0:s.includes("100%")),c=l.hasAttribute("height")&&!(null==(o=l.getAttribute("height"))?void 0:o.includes("100%"));if(d||c)return 1;const u=e.canvas.clientHeight||e.canvas.height,p=e.canvas.clientWidth||e.canvas.width;return a/n>p/u?p/a:u/n},x=(e,t,a,n)=>{const s=t.width+1e3,o=t.height+1e3,i=u(s,o),r=i.getContext("2d"),l=a.imageShadowDist||0,d=(a.imageShadowRot||0)*Math.PI/180,c=100*l*Math.cos(d),p=100*l*Math.sin(d),m=vM(a.imageEffectColor,a.imageShadowOpacity);return r.shadowColor=m,r.shadowBlur=50*a.imageShadowBlur,r.shadowOffsetX=c,r.shadowOffsetY=p,r.drawImage(t,n.x,n.y,n.width,n.height,50,50,a.position.pixel_width,a.position.pixel_height),e.drawImage(i,-50,-50,i.width,i.height),i},I=async(a,n,s)=>{let o;if(a.save(),!n.base64_img)throw new $v("drawImage missing base64_img",{extra:{layer:n}});o=await C({src:n.base64_img,caller:"drawImage",sentryExtra:{layer:n}});const i=Ok(n,e.animations);n.chromaKey&&(o=w(o,n)),n.presetFilter&&!n.preProcessed&&(o=((e,t,a)=>{if(!t.presetFilter)return e;if("Original"===t.presetFilter.name)return e;const n=t.presetFilter,s=a(e.width,e.height),o=s.getContext("2d");if(!o)return;n.background&&x5(o,e.width,e.height,n.background,n.backgroundAngle,n.backgroundGradientEnd),o.globalCompositeOperation=n.backgroundBlendMode,o.filter=n.styles,o.save(),o.globalAlpha=n.opacity,o.drawImage(e,0,0,e.width,e.height),o.restore(),n.foreground&&x5(o,e.width,e.height,n.foreground,n.foregroundAngle,n.foregroundGradientEnd,n.foregroundBlendMode,n.foregroundOpacity);const i=a(e.width,e.height),r=i.getContext("2d");return r&&(r.drawImage(e,0,0,e.width,e.height),r.globalCompositeOperation="source-in",r.drawImage(s,0,0,e.width,e.height)),i})(o,n,u)),(n.filters||(e=>!!e&&("opacity"in e||"brightness"in e||"contrast"in e||"saturate"in e||"blurPercent"in e))(i))&&(o=f(a,o,n,s)),n.isSieveRemoveBackground&&(o=_(o,n,t));const{xPos:r,yPos:l,width:d,height:c}=Jk(n,e,s,a.canvas.clientWidth||a.canvas.width,a.canvas.clientHeight||a.canvas.height),p=r+n.position.pixel_width/2,m=l+n.position.pixel_height/2;a.translate(p,m);let g=!1,h=!1;if(n.position.flip){const{x:e,y:t}=n.position.flip,s=e?-1:1,o=t?-1:1;g=e,h=t,a.scale(s,o)}if(n.position.rotation){const{rotation:e}=n.position;let t=null;!g&&!h||g&&h||(t=360-e),a.rotate((t||e)*Math.PI/180)}a.translate(-p,-m),a.translate(r,l);const v=a.canvas.clientHeight||a.canvas.height;Dk(n,e.animations)&&Bk(e.animations,n,a,s);let y=b(o,n,s);if("image/svg+xml"===n.mime||"image/svg+xml"===n.mime_type){const e=S(a,n.base64_img,n.position.file_width,n.position.file_height);y={x:y.x*e,y:y.y*e,width:y.width*e,height:y.height*e}}else a.imageSmoothingEnabled=!0;const I=(n.objectFit||"cover").toLowerCase(),A=n.lineWidth?parseFloat(n.lineWidth)/100*v:n.lineWidth,k=n.stroke||"#000000";n.borderRadius&&"0%"!==n.borderRadius.relative&&(n.preProcessed||bM(a,n,A,k)),!I||["cover","crop"].includes(I)?(n.imageEffectColor&&!n.preProcessed?n.borderRadius&&"0%"!==n.borderRadius.relative?a.drawImage(o,y.x,y.y,y.width,y.height,0,0,d,c):x(a,o,n,y):a.drawImage(o,y.x,y.y,y.width,y.height,0,0,d,c),A>0&&(!n.borderRadius||"0%"===n.borderRadius.relative)&&(a.lineWidth=A,a.strokeStyle=k,a.strokeRect(-A/2,-A/2,d+A,c+A))):a.drawImage(o,0,0,d,c),a.restore()},A=(e,t,a,n)=>{e.lineCap="butt";const s=3*n,o=3*n,i=2*Math.PI,r=a.length;let l,d;l=a[r-2]-a[r-4],d=a[r-1]-a[r-3];const c=(Math.atan2(d,l)+i)%i;e.fillStyle=t.stroke,e.lineCap=t.lineCap,e.lineJoin=t.lineCap,e.save(),e.beginPath(),e.translate(a[r-2],a[r-1]),e.rotate(c),e.moveTo(0,0),"open"===t.lineArrow?(e.moveTo(-o,s/2),e.lineTo(0,0),e.lineTo(-o,-s/2)):(e.lineTo(-o,s/2),e.lineTo(-o,-s/2),e.closePath(),e.fill()),e.restore(),t.pointerAtBeginning&&(e.save(),e.translate(a[0],a[1]),l=a[2]-a[0],d=a[3]-a[1],e.rotate((Math.atan2(-d,-l)+i)%i),e.moveTo(0,0),e.lineTo(-o,s/2),e.lineTo(-o,-s/2),e.closePath(),e.restore()),e.setLineDash([]),e.stroke()},k=(e,t)=>{switch(e){case"big dash":return[4*t,2*t];case"small dash":return[2*t];case"dotted":return[0,t+t/2];default:return[]}},T=(e,t,a,n,s)=>{const o=new Path2D,i=s/2,r=("vertical"===t.lineRightAngle?s:a)-i,l=("horizontal"===t.lineRightAngle?s:n)-i,d={topLeft:[i,i,r,l],topRight:[r,i,i,l],bottomLeft:[i,l,r,i],bottomRight:[r,l,i,i]}[t.linePointStartCorner||"topLeft"],[c,u,p,m]=d,g=k(t.lineStyle||"solid",s);e.setLineDash(g),o.moveTo(c,u),o.lineTo(p,m),e.lineWidth=s,e.stroke(o),t.lineArrow&&A(e,t,d,s)},E=(e,t,a,n,s,o)=>{e.save(),e.scale(n,s);const i=new Path2D(o);e.fill(i),parseFloat(t.lineWidth)>0&&(e.lineWidth=a/n,e.stroke(i)),e.restore()},L=(t,a,n)=>{const s=Ok(a,e.animations),{xPos:o,yPos:i,width:r,height:l}=Jk(a,e,n,t.canvas.clientWidth||t.canvas.width,t.canvas.clientHeight||t.canvas.height),{pixel_width:d,pixel_height:c}=a.position;let u=1,p=1;a.position.svg_width&&a.position.svg_height&&(u=r/a.position.svg_width,p=l/a.position.svg_height);const{lineWidth:m}=a,g=t.canvas.clientHeight||t.canvas.height,h=isNaN(m)?parseFloat(m)/100*g:m;t.save(),t.fillStyle=$k(a,s,n),t.strokeStyle=a.stroke,t.lineWidth=a.lineWidth,"number"==typeof a.globalAlpha&&(t.globalAlpha=a.globalAlpha),s&&s.opacity&&(t.globalAlpha=Qk(a,s,n).opacity/100);const v=o+d/2,f=i+c/2;"ellipse"===a.shapeType?t.translate(o,i):t.translate(v,f),a.position.rotation&&t.rotate(a.position.rotation*Math.PI/180),"ellipse"!==a.shapeType?(t.translate(-v,-f),t.translate(o,i)):t.translate(-d/2,-c/2),"progressBar"!==a.shapeType&&Dk(a,e.animations)&&Bk(e.animations,a,t,n),"progressBar"===a.shapeType&&Dk(a,e.animations)?w5(a,t,n,h):"rectangle"===a.shapeType?bM(t,a,h,t.strokeStyle):["line","arrow"].includes(a.shapeType)?(t.lineCap=a.lineCap||"square",T(t,a,r,l,h)):"ellipse"===a.shapeType?(t.translate(d/2,c/2),t.beginPath(),t.ellipse(0,0,r/2,l/2,0,0,2*Math.PI),t.save(),t.clip(),t.fill(),t.restore(),parseFloat(m)>0&&(t.lineWidth=h,t.stroke())):a.svgData?E(t,a,h,u,p,a.svgData):a.svgChildren&&a.svgChildren.forEach((({type:e,props:n})=>{if("path"===e){const{d:e}=n;E(t,a,h,u,p,e)}else if("circle"===e){const{cx:e,cy:a,r:s}=n;t.save(),t.scale(u,p),t.beginPath(),t.arc(e,a,s,0,2*Math.PI),t.closePath(),t.stroke(),t.fill(),t.restore()}})),t.restore()},j=({ctx:e,i:t,frequency:a,width:n,height:s,layer:o})=>{const i=Math.floor(.004*n)||1,r=t*i;if(r>n)return;const l=s-s/2,d=a/255*s*.3;o&&"globalAlpha"in o&&1!==o.globalAlpha?(e.fillRect(r,l,i,-d),e.fillRect(r,l,i,d)):(e.fillRect(r,l+1,i,-d),e.fillRect(r,l-1,i,d))},R=({ctx:e,i:t,frequency:a,width:n,height:s})=>{const o=Math.floor(.005*n)||1,i=t*(2*o);if(i>n)return;const r=s,l=-(a/255)*s*.8;e.fillRect(i,r,o,l)},N=(e,t,a)=>{e.save();let n=t.color||"#000000";"globalAlpha"in t&&(n+=Math.ceil(255*t.globalAlpha).toString(16).padStart(2,"0")),e.fillStyle=n;const s=e.canvas.clientHeight||e.canvas.height,i=e.canvas.clientWidth||e.canvas.width,r=parseFloat(t.position.width)/100*i,l=parseFloat(t.position.height)/100*s,d=parseFloat(t.position.x)/100*i,c=parseFloat(t.position.y)/100*s,u=parseFloat(t.position.rotation),p=parseInt(a,10),m=Math.floor(p/o),g=r,h=t.fft_data||[];let v;if("audiogramFrameData"in h)v=h.audiogramFrameData;else if(v=h[m],!v){const e=Object.values(h);v=e[e.length-1]}if(u){const t=d+r/2,a=c+l/2;e.translate(t,a),e.rotate(u*Math.PI/180),e.translate(-t,-a)}e.translate(d,c);for(let o=0;o<g;o++){const a={ctx:e,i:o,frequency:v&&v[o]?v[o]:0,width:r,height:l,layer:t};"wave"===t.waveformStyle?j(a):"bar"===t.waveformStyle&&R(a)}e.restore()},M=async(t,a,n,s,o)=>{const l=n.converted_type||n.type;let d=s/o;switch(i&&(d=r),l){case"text":zM(t,n,d,function(e,t,a){const{baseWidth:n,position:s}=a,o=parseFloat(null==s?void 0:s.width);return null==n||isNaN(o)?e.height/(t.sceneHeight||1):e.width*o/100/n}(a,e,n),e.animations);break;case"placeholder":case"progressBar":case"shape":L(t,n,d);break;case"audio":n.isAudiogram&&N(t,n,s);break;default:await I(t,n,d)}};let P;if(m)P=s;else{document.body.style.margin="0px";const t=document.getElementById(s);P=t||document.createElement("canvas"),P.width=e.adjusted_width,P.height=e.adjusted_height}const F=P.getContext("2d",{alpha:!0});if(!F)throw new Error("Could not get canvas context");F.imageSmoothingEnabled=!1;const D=e.sceneBackground===p,O=["gif","image","webp"].includes(e.videoType);if(!D||e.sceneDuration&&!O?(F.fillStyle=D?"#ffffff":e.sceneBackground,F.fillRect(0,0,P.width,P.height)):F.clearRect(0,0,P.width,P.height),a){const e=await C({src:a,caller:"finalImageDataUrl"});F.drawImage(e,0,0,P.width,P.height)}const U={},B=e.animations&&e.animations.byId?Object.values(e.animations.byId).filter((e=>Z.map((({name:e})=>e)).includes(e.animationName))):[];for(let a=0;a<B.length;a++){const s=B[a],o=e=>{const t=n.findIndex((t=>t.id===e));return[t,t>=0?n[t]:null]},i=([e,{animation:t,...a}])=>[e,a],{introLayerId:l,outroLayerId:d,animationName:c}=s,p=Z.find((e=>e.name===c)),m=[o(d),o(l)];if(null==t||!m.some((e=>e[1])))continue;let g,h,v=-1,f=-1,b=0,y=Wk(s,e.animations);const w=m[0],_=m[1];if(null==w?void 0:w[1])if(null==_?void 0:_[1]){const[e,t]=m.map(i);e&&([f,h]=e),t&&([v,g]=t),b=bp(g).start;y=bp(h).end-b}else{[f,h]=i(w);b=bp(h).end-y;const a=(t/e.maxFramerate-b)/y;if(a<0||a>1)continue}else{[v,g]=i(_),b=bp(g).start;const a=(t/e.maxFramerate-b)/y;if(a<0||a>1)continue}const C=Math.max(f,v),S=t/e.maxFramerate,x=u(P.width,P.height),I=u(P.width,P.height),A=u(P.width,P.height),k=x.getContext("2d",{alpha:!0});k.imageSmoothingEnabled=!1;const T=A.getContext("2d",{alpha:!0});T.imageSmoothingEnabled=!1;let E=(S-b)/y;e.maxFramerate||(E=(r-b)/y),E<0||E>1||(h&&h.base64_img&&await M(k,x,h,t,e.maxFramerate),g&&g.base64_img&&await M(T,A,g,t,e.maxFramerate),_5(I,x,A,E,p,P.width,P.height,{}),U[C]=I)}let W=!1;for(let a=0;a<n.length;a++){const s=n[a];if("audio"===s.converted_type&&!s.isAudiogram)continue;s.isMagicSubtitle&&!W&&(W=!0,e.watermark&&await h(F,P));const o=e.sceneDuration||0;if(null!=t&&e.maxFramerate&&o&&!xp(s,t,{duration:o,maxFramerate:e.maxFramerate}))continue;if(i&&o>0&&!Ip(s,r,{duration:o}))continue;await M(F,P,s,t,e.maxFramerate);const l=U[a];l&&F.drawImage(l,0,0,P.width,P.height)}return e.watermark&&!W&&await h(F,P),P}catch(g){throw console.error("Failed to draw canvas",g.toString()),g}};var j5=(e=>(e.Onboarding="onboarding",e.SongCategories="songCategories",e.SFXCategories="sfxCategories",e.RepurposeAnalytics="repurposeAnalytics",e.teamWorkspaceAccessLogged="TEAM_WORKSPACE_ACCESS_LOGGED",e.HaveShownTooltip="HAVE_SHOWN_TOOLTIP",e))(j5||{});function R5(e){const t=i.useCallback((t=>{N5(e,t)}),[e]),a=i.useCallback((()=>M5(e)),[e]),n=i.useCallback((t=>{P5(e,t)}),[e]),s=i.useCallback((()=>{!function(e){try{sessionStorage.removeItem(e)}catch(b9e){}}(e)}),[e]);return{setItem:t,getItem:a,updateItem:n,clear:i.useCallback((()=>{F5()}),[]),clearItem:s}}function N5(e,t){try{sessionStorage.setItem(e,JSON.stringify(t))}catch(b9e){}}function M5(e){try{const t=sessionStorage.getItem(e);return t?JSON.parse(t):null}catch(b9e){return null}}function P5(e,t){try{const a=sessionStorage.getItem(e)??"{}";sessionStorage.setItem(e,JSON.stringify({...JSON.parse(a),...t}))}catch(b9e){}}function F5(){try{sessionStorage.clear()}catch(b9e){}}const D5=({teamId:e,projectsById:t})=>Object.values(t).filter((t=>t.teamId===e)),O5=u((e=>e.projects.byId),((e,t)=>t),((e,t)=>D5({teamId:t,projectsById:e}))),U5=u((e=>e.projects.byId),((e,t)=>t),((e,t)=>D5({teamId:t,projectsById:e}).filter(V5).sort(W5))),B5=e=>new Date(e.content.lastSeen??e.content.lastSaved??e.content.createdAt??RP(e._id)),W5=(e,t)=>new Date(B5(t)).getTime()-new Date(B5(e)).getTime(),V5=e=>e.content.image_url,H5=async e=>{const t=await K5(e);if(!t)return;const{status:a,interval:n}=await X3(),s=pg(e),o={"Team ID":e,"Number of Workspace Members":t.totalTeamMembers,"Brandkit is set up":t.isBrandkitSetup,"Current Plan":s.type,"Monthly/Annual":n,"Subscription Status":a,"Brand Kit Pre-Populated":qg()};N5(j5.teamWorkspaceAccessLogged,"TRUE"),ov("Team Workspace Accessed",o)},z5=async e=>{const{workspaceId:t}=e,{state:a}=Mu(),n=a.workspaces.allWorkspaces.find((e=>e._id===t)),s=await K5((null==n?void 0:n.teamId)||"");if(!s)return;const{team:o}=s,{_id:i}=o||{},r=!!o,l=null==n?void 0:n.type;if(r){const{currentUser:{user:{_id:t}}}=a,n=e.creatorId&&e.creatorId===t;let o;l===Zl.team?o="Team Folder":l===Zl.personal&&(o="My Folder");const{status:r,interval:d}=await X3(),c=pg(i),u={"Project Location":o,"Is Project Owner":n,"Team ID":i,"Number of Workspace Members":s.totalTeamMembers,"Brandkit is set up":s.isBrandkitSetup,"Current Plan":c.type,"Monthly/Annual":d,"Subscription Status":r};ov("Team Project Accessed",u)}},G5=async({teamId:e,inviterEmail:t,shareType:a,origin:n})=>{const{status:s,interval:o}=await X3(),i=pg(e);ov("Team Members Invited",{"Team ID":e,"Team Inviter Email":t,"Share Type":a,Origin:n,"Current Plan":i.type,"Monthly/Annual":o,"Subscription Status":s,"Quantity Legacy Members":0})},Y5=async()=>{const{state:e}=Mu(),t=rg(e),{status:a,interval:n}=await X3();ov("Make Editor from Share Dialog",{"Current Plan":null==t?void 0:t.planTier,"Subscription Status":a,"Monthly/Annual":n,"Team ID":null==t?void 0:t._id,"Number of Workspace Members":null==t?void 0:t.users.length})},K5=async e=>{var t;try{const{state:a}=Mu(),n=Um(e);if(!n)throw new Error("Unable to get team");const s=null==(t=null==a?void 0:a.teams)?void 0:t.activeBrandkit,o=!!s&&await(async e=>{if(!e.colors||!e.fonts||!e.cmlIds)return!1;const t=e.colors.some((e=>!Xg(e))),a=e.fonts.some((e=>{return!("custom"===(t=e).type&&"62962eab0af119277ab7c9c3"===t.asset_id);var t}));let n=!0;const s=e.cmlIds[0];if(s||(n=!1),s)try{const{cml_file:e}=await XH(s);e&&Zg(e.asset_id)&&(n=!1)}catch(b9e){console.error(b9e)}return t||a||n})(s);return{totalTeamMembers:n.users.length,isBrandkitSetup:o,team:n}}catch(b9e){console.error(b9e)}},X5=e=>{ov("Added Workspace Name",{Origin:e})},Z5=()=>{const{state:e}=Mu(),t=rg(e),a=ug();ov("Initiate Delete Team Workspace",{"Team ID":null==t?void 0:t._id,"Number of Workspace Members":null==t?void 0:t.users.length,"Current Plan":a.type})},q5=e=>{ov("Visit from Join Request Email",{"Email Scenario":(()=>{switch(e){case dd.RequestToEditEmail:return"Edit Request";case dd.RequestToJoinEmail:return"Suggested Workspace Join Request";default:return"Unknown"}})()})};const J5=async(e,t)=>{const{status:a,interval:n}=await X3();ov("Update Team Join Link",{"Current Plan":e.planTier,"Subscription Status":a,"Monthly/Annual":n,"Team ID":e._id,"Number of Workspace Members":e.users.length,Action:t})},$5=async()=>{const{state:e}=Mu(),{status:t,interval:a}=await X3(),n=rg(e);n&&ov("Shown Brandkit Pre-Populated Tooltip",{"Current Plan":n.planTier,"Subscription Status":t,"Monthly/Annual":a,"Team ID":n._id,"Number of Workspace Members":n.users.length,"Brand Kit Pre-Populated":qg()})};let Q5=!1;const e4=()=>Q5,t4=e=>{Q5=e,sv({"Is Qualified Domain":e})},a4=async({source:e,workspaceId:t,isProjectOwner:a,state:n=Mu().state,workspaceHasCollaborators:s,workflowId:o})=>{const i=n.workspaces.allWorkspaces.find((e=>e._id===t)),r=await K5((null==i?void 0:i.teamId)||"");if(!r)return;const{team:l}=r,{_id:d}=l||{},c=!!l,u=null==i?void 0:i.type;let p;p=c?u===Zl.team?"Team Folder":"My Folder":s?"Shared Folder":"Personal Workspace";const{interval:m,status:g}=await X3(),h=ug(),v={"Project Location":p,Source:e,"Number of Workspace Members":r.totalTeamMembers,"Brandkit is set up":r.isBrandkitSetup,"Current Plan":h.type,"Monthly/Annual":m,"Subscription Status":g,"Quantity Legacy Members":0};d&&(v["Team ID"]=d),a&&(v["Is Original Project Owner"]=a);const{activeFindHighlightsJobInfo:f}=n.studio.analytics;f&&(v["Find Highlights Job ID"]=f.jobId,v["Find Highlights Asset Duration"]=f.assetDuration),o&&(v["Find Highlights Workflow ID"]=o),ov("New Project In Workspace",v)},n4=async()=>{const{state:e}=Mu(),t=await K5(e.teams.selectedTeamId||"");if(!t)return;const a={"Number of Workspace Members":t.totalTeamMembers,"Brandkit is set up":t.isBrandkitSetup,"Team ID":e.teams.selectedTeamId};ov("Begin Workspace Share",a)},s4=({numPendingInvites:e,suggestedWorkspaces:t,entryPoint:a,isQualifiedDomain:n})=>{var s;const{numAskToJoin:o,numOpenToJoin:i}=(e=>{let t=0,a=0;return e.teams.forEach((e=>{var n;switch(null==(n=e.settings)?void 0:n.discoverability){case cu.AnyoneCanJoin:t+=1;break;case cu.RequestToJoin:default:a+=1}})),{numOpenToJoin:t,numAskToJoin:a}})(t);ov("Begin Suggested Workspaces",{Domain:t.teams.length>0?null==(s=t.teams[0])?void 0:s.emailDomain:"","Number Invite Workspaces":e,"Number Suggested Workspaces - Ask to Join":o,"Number Suggested Workspaces - Open to Join":i,"Entry Point":a}),sv({Domain:Jg()}),n&&t4(n)};var o4=(e=>(e.Sidebar="Sidebar",e))(o4||{});async function i4({newFolderId:e,projectId:t,source:a,stateBeforeCopy:n,workflowId:s}){let o;try{o=(await Kf(`/api/v1/workspaces/${e}/getUsers`)).keys.length>1}catch(b9e){o=void 0}const{state:i}=Mu(),{user:r}=i.currentUser,l=t?i.projects.byId[t]:void 0,d=!!l&&r._id===l.creatorId;a4({workspaceId:e,source:a||"Copied",workspaceHasCollaborators:o,isProjectOwner:d,state:n,workflowId:s})}const r4=`poster-${fe(5)}`,l4=async({exportLocation:e,video:t})=>{d5({exportLocation:e,video:t});return await Xf("/api/v2/video-creation/export",{body:{video:t}})},d4=async({source:e,video:t,workflowId:a})=>{i4({newFolderId:t.workspaceId,projectId:void 0,source:e,stateBeforeCopy:Mu().state,workflowId:a});return await Xf("/api/v2/video-creation/create",{body:{video:t}})};function c4(e){return e.map((e=>up(e)?[Np(e),jp(e)]:[e])).flat()}const u4=u(Gx,(e=>c4(e))),p4=e=>{if(!e.position)return-1;const t=parseFloat(e.position.x),a=parseFloat(e.position.y),n=parseFloat(e.position.width),s=parseFloat(e.position.height),o=zg(t,0,100),i=zg(a,0,100);return(zg(t+n,0,100)-o)*(zg(a+s,0,100)-i)/100},m4=(e,t,a)=>{const n={...e,id:`blurred-layer-${O.v4()}`,originalLayerId:e.id,filters:{...e.filters,blurBackground:5},position:{x:"-5%",y:"-5%",width:"110%",height:"110%",rotation:0},crop:void 0,borderRadius:{relative:"0%"},animation:void 0,isCanvasBlurLayer:!0,blurBg:!1,removeBg:!1,depth:"zzzzzzzzzzzzzzzzzzzzzzzzzzz"};if("video"===e.type){n.isMuted=!0;const s=e.playbackRate??1,o=e.startTime??0,i=(e.endTime??e.duration??0)-o,r=(t-(e.videoDelay??0))/(i/s),l=(a-(e.videoDelay??0))/(i/s);n.startTime=o+r*i,n.endTime=o+l*i,n.videoDelay=t}else n.startTime=t,n.endTime=a;return n},g4=e=>{const t=[];return e.forEach((e=>{const{layer:a,percent:n}=(e=>{let t=null,a=0;for(const n of e)if(!n.isHidden&&f4(n)){const e=p4(n);(e>a||e===a&&(null==t?void 0:t.name)!==r4)&&(t=n,a=e)}return{layer:t,percent:a}})(e.layers);n>=99||null!==a&&t.push({layer:m4(a,e.startTime,e.endTime),startTime:e.startTime,endTime:e.endTime})})),t},h4=[],v4=u((e=>e),(e=>{const t=c4(e);if(0===t.length)return h4;return(e=>{const t=eX(e);return g4(t)})(t.filter(f4))})),f4=e=>("video"===e.type||"image"===e.type)&&void 0===e.canvasBlurValid||e.canvasBlurValid,b4=()=>{const{state:e}=Mu();return!u4(e).every((e=>!f4(e)))},y4=(e,t,a=!1)=>{const n=__()||S_();if(a&&__())return!1;if(0!==t&&!a)return!1;if(e.canvasBlur&&b4())return!1;const s=Mu().state.assets.byId;return Object.values(e.allLayers.byId).every((e=>{if(n&&(null!=e.filters||e.presetFilter))return!1;const t=e.asset_id?s[e.asset_id]:void 0;return"image/gif"!==e.mime&&"gif"!==Kh(null==t?void 0:t.url)&&(("image/webp"!==e.mime||"static"===e.webpType)&&("pastedLink"!==e.source&&(!e.removeBg&&!e.blurBg&&("placeholder"!==e.type&&(!e.uploadPending||(console.error("Layer still uploading:",e),!1))))))}))};function w4(){const{state:e}=Mu(),t=e.studio.duration>7200,a=hg(Fd.UNLIMITED_EXPORT_DURATION_LIMIT);return t&&a}function _4(){var e;const{state:t}=Mu(),a=rg(t),n=t.studio.duration,s=(null==(e=null==a?void 0:a.limits)?void 0:e.cumulativeExportDuration)||0,o=C4(t)||n>240||s+n>1800,i=hg(Fd.UNLIMITED_EXPORT_DURATION_LIMIT);return o&&!i}function C4(e){for(const t of Gx(e))if(x4(t,e))return!0;return!1}function S4(e){const t=[];for(const a of Gx(e))x4(a,e)&&t.push(a);return t}function x4(e,t){const{assets:a,studio:{analytics:n}}=t,s=a.byId[e.asset_id||""],o=e.size||(null==s?void 0:s.size)||(null==s?void 0:s.file_size)||0;let i=262144e3;return n.activeFindHighlightsJobInfo&&(i=6442450944),o>i&&!("recordType"in e&&null!=e.recordType)}const I4=m({name:"uploadOverlay",initialState:{open:null},reducers:{close:e=>{e.open=null},open:(e,t)=>{e.open=t.payload||{}}}}),A4=I4.actions;function k4(){let e="";const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let a=0;a<8;a+=1)e+=t.charAt(Math.floor(Math.random()*t.length));return e}function T4(){const{history:e}=Mu(),{pathname:t}=e.location;return t.match(/studio\/editor/)||t.includes("upload")||t.includes("replace")||t.includes("mediaLibrary")||t.includes("search")||t.includes("emoji")||t.includes("remove-background")||t.includes("plugins")||t.includes("subtitles")}const E4=e=>{const t=hg(Fd.UNLIMITED_UPLOAD_SIZE_LIMIT),a=hg(Fd.UNLIMITED_EXPORT_DURATION_LIMIT);!x4(e,Mu().state)||t||mq(e.id)?"duration"in e&&e.duration&&e.duration>240&&!a&&!mq(e.id)&&ov("Paywalled Upload",{"Upload Type":e.type,Duration:e.duration}):ov("Paywalled Upload",{"Upload Type":e.type,"File Size":e.size})},L4=()=>({id:fe(12)}),j4=async(e,t,a)=>{var n;const{state:s}=Mu(),{currentUser:{user:{_id:o}},assets:{localAssetInfo:i}}=s;let r;const{name:l,size:d,type:c,recordType:u}=e;if(u){r=`Recorded ${u} ${Gx(s).reduce(((e,t)=>t.recordType?e+1:e),0)+1}`}const p=Vp(t);let m=null==(n=i[p])?void 0:n.local_url;m||(m=URL.createObjectURL(e),oL({[p]:{local_url:m}}));const g=await hI(m,e,XC.HIGH),h=g?g.type:t.type;if(!h)throw new $v("Could not identify media type",{extra:{properties:t,mediaInfo:g,...MC(e)}});const v={videoDelay:0};(null==a?void 0:a.addAtSeeker)&&(v.videoDelay=dY());const f={...L4(),name:r||l,size:d,mime:c,...u&&{recordType:u},source:"local",objectFit:"cover",...t,...g,type:h,...(null==a?void 0:a.addAtSeeker)&&v,uploaderId:o};return Object.assign(f,vJ(f)),"video"===(null==g?void 0:g.type)&&(f.startTime=t.startTime??0,f.endTime=t.endTime??g.duration),f},R4=async(e,t,a,n)=>{var s,o,i;if(!e.url)return void console.error("MISING ASSET url getNewLayerFromRemoteAsset",e);if(e.preview&&e.preview.url){const a={...e.preview,mediaLibraryID:t},n=null==(s=e.content_type)?void 0:s.startsWith("image"),i=null==(o=e.content_type)?void 0:o.startsWith("video");let r={};if(n&&a.url&&(!a.width||!a.height)){const e=await mI(a.url,"image/png");e.success&&(r.height=e.properties.height,r.width=e.properties.width)}if(i&&a.url&&(!a.width||!a.height||!a.duration)){const t=await dI({asset:e},"video/mp4",XC.HIGH);if(t.success){const{width:e,height:n,duration:s}=t.properties;r={...a,width:e,height:n,duration:s,startTime:0,endTime:s}}}Object.keys(r).length>0&&Mu().dispatch(YE([{...e,preview:r}]))}const r=Vp({asset_id:e._id,uploadId:a.uploadId}),l=await SE(r);let d;if(l&&"video"===l.type){const e=l.optimizedPreviewFile_v2??l.file_v2;e&&(d={duration:e.duration,hasAudio:e.hasAudio,width:a.width||e.width,height:a.height||e.height,type:l.type})}if(l&&"image"===l.type){const e=l.file_v2;e&&(d={width:a.width||e.width,height:a.height||e.height,type:l.type})}if(!d){const t={name:a.name,type:a.mime??void 0},s=N4(e);d=n||s,d||(d=a.type?await hI(e.url,t,XC.HIGH):await vI(e.url,t,XC.HIGH))}const c=a.type||(null==d?void 0:d.type);if(!c)throw new $v("Could not identify media type",{extra:{properties:a,mediaInfo:d,givenMediaInfo:n,asset:e,idbAsset:l}});if("image/webp"===e.content_type&&"image"===(null==d?void 0:d.type)&&!d.webpType&&e.url){let t="unknown";try{t=await async function(e){const t=await fetch(e);return tI(await t.blob())}(e.url)}catch(b9e){console.error("Failed to determine webp file type")}a.webpType=t}let u;u=null!=(null==(i=e.preview)?void 0:i.hasAudio)?e.preview.hasAudio:null!=e.hasAudio?e.hasAudio:d&&"hasAudio"in d?d.hasAudio:null!=a.hasAudio?a.hasAudio:"video"===c||"audio"===c||void 0;const p={...L4(),name:k4(),source:"upload",objectFit:"cover",...a,...d,type:c,asset_id:e._id,hasAudio:u};return Object.assign(p,vJ(p)),p},N4=e=>{var t,a,n,s;const o=e,i=M4(o);if(i)return i===Nc.Image&&(null==(t=o.dimensions)?void 0:t.width)&&(null==(a=o.dimensions)?void 0:a.height)?{width:o.dimensions.width,height:o.dimensions.height,type:i}:i===Nc.Audio&&o.duration?{duration:o.duration,hasAudio:!0,type:i}:i===Nc.Video&&o.duration&&(null==(n=o.dimensions)?void 0:n.width)&&(null==(s=o.dimensions)?void 0:s.height)&&"hasAudio"in o?{width:o.dimensions.width,height:o.dimensions.height,duration:o.duration,hasAudio:o.hasAudio,type:i}:void 0},M4=e=>{var t,a;if(e.content_type){if(nS(e.content_type))return Nc.Audio;if(QC(e.content_type))return Nc.Image;if(tS(e.content_type)){if(!(null==(t=e.dimensions)?void 0:t.width)||!(null==(a=e.dimensions)?void 0:a.height))return;return pI(e.content_type,e.dimensions.width,e.dimensions.height)}}},P4=(e,t)=>{const{dispatch:a,history:n,state:s}=Mu(),{pathname:o}=n.location;if(s.uploadOverlay.open&&a(A4.close()),xZ(s.toolTip)&&s.toolTip===dZ.Subtitles){aR("/studio/editor/subtitles"),a(m0({tabId:"Subtitles",tabContainerId:"media-sidebar"}))}o.includes("/upgrade")||(t&&T4()||"oneoff-landing-page"===e.origin?"oneoff-landing-page"===e.origin||o.includes("/studio/editor")?(o.includes("/overlay/library")||o.includes("/overlay/search")||o.includes("/overlay/projects")||o.includes("/overlay/emojis")||o.includes("/plugins")||o.includes("/drag-upload"))&&dR():dR():"resize"!==e.uploadLocation&&"convert"!==e.uploadLocation||dR())},F4=(e,t)=>{var a,n;const{selectLayerInCreator:s=!1,replaceInfo:o,newTimeline:i=!1,knownTimelineRow:r=!1,multiRowUploadForRecording:l=!1,singleFileUpload:d=!1,skipStudioAddLayer:c=!1,useCustomVideoDelay:u,droppedTrackInfo:p}=t||{},{state:m}=Mu();if(!(null==(a=null==m?void 0:m.currentUser)?void 0:a.token)&&(e.wasUploadedAnonymously=!0),!e.originalName&&e.name&&(e.originalName=e.name),e.requireConversion)return((e,t,a)=>{const{dispatch:n}=Mu(),s={position:null,...e};return E4(s),s.position=JR(s),iJ(s),e.isMediaLibraryUpload||(a&&n(HA(a,"handleUploadRequiringConversion")),fJ(s)),"resize"===e.uploadLocation&&(s.lockAspectRatio=!0),t&&T4()&&["pastedLink","local"].includes(e.source||"")&&"oneoff-landing-page"!==e.origin&&P4(e,!1),s})(e,s,null==o?void 0:o.layerToReplace);const g=Hp(e),h=g?null==(n=m.assets.localAssetInfo[g])?void 0:n.local_url:void 0;!["pastedLink","local"].includes(e.source??"")&&h&&e.metadataGathered&&!z4(e)||E4(e);const v=l||d;return void 0!==u||o||e.isMediaLibraryUpload||!v||iJ(e),void 0!==u&&(e.type===Nc.Image?e.startTime=u:e.videoDelay=u),o?bJ({newLayer:e,replacedLayer:o.layerToReplace,addLayerOptions:{knownTimelineRow:r,newTimeline:i,undoable:!0},mediaSource:o.mediaSource,entryPoint:o.entryPoint}):e.isMediaLibraryUpload||c||fJ(e,{knownTimelineRow:r,newTimeline:i,undoable:!0,droppedTrackInfo:p}),P4(e,s),e},D4=e=>{const{dispatch:t,state:a}=Mu(),n={};if(BY.forEach((t=>{t in e&&(n[t]=e[t])})),t(function(e,t){return{type:"UPDATE_UPLOADED_LAYER",layer:e,properties:t}}(e,n)),n.asset_id){const e=[];Object.values(a.studio.allLayers.byId).forEach((t=>{t.uploadId==t.uploadId&&e.push(t.id)})),t(qE({assetId:n.asset_id,layerIds:e}))}return e};function O4(e,t=Mu().state){const a=rJ(e);if(!a)return!1;const n=pS(a,{type:"preview",state:t});return a.requireConversion&&!n}const U4=e=>`${(e/1e6).toFixed(1)}MB`;function B4(e){if(!e)return null;const{progress:t=0,conversionProgress:{conversion:a=101,gather_assets:n=101,uploading_converted:s=101}={}}=e;let o=null;if(t<100)o=`Uploading ... ${t}%`;else if(n<100)o="Getting Assets ... ";else if(a<100)o=`Converting ... ${a}%`;else if(s<100)o="Uploading ... ";else if(e.uploadManager&&AI(e.uploadManager.layer))return"Converting ... ";return o}function W4(e){if(!e)return null;const{progress:t=0,conversionProgress:{conversion:a=101,gather_assets:n=101,uploading_converted:s=101}={}}=e;let o=null;return t<100?o=t:n<100?o=n:a<100?o=a:s<100&&(o=s),o}function V4(){return function(){const{state:e}=Mu(),{background:t}=e.studio;return t===KN}()?"png":"jpeg"}function H4(){const{state:e}=Mu(),{studio:t}=e,a=y4(t,t.duration,!1),n=V4();return a?n:"png"}const z4=e=>{const t=rJ(e.id);return!(null==t?void 0:t.position)||Object.keys(t.position).some((e=>{var a;const n=e,s=null==(a=t.position)?void 0:a[n];return"string"==typeof s&&s.includes("NaN")}))},G4="https://cdn-useast1.kapwing.com/static/97U-Youtube_logo.webp",Y4="https://cdn-useast1.kapwing.com/static/ZlF-tiktok-logo.webp",K4="https://cdn-useast1.kapwing.com/static/bX7-facebook_logo.webp",X4={fontFamily:"Open Sans",fontSize:"12px",fontWeight:600},Z4={width:1280,height:720},q4=[204.35838132923993,203.00945332832035,199.65900469732605,194.98271845278515,189.56132214289326,183.33473438912372,172.52400430499736,167.07532066537684,187.47065016402843,198.68807545388097,203.48982568521964,204.1176240653317,202.15691732602392,200.06529787993665,199.29780568337057,198.68467837138908,197.26189269581153,195.4906761781706,193.5894680197673,190.99841409170546,187.04933995236826,182.25360885686126,177.63250777500204,173.28407960282425,167.70417685616633,158.76226893469703,144.56500607291406,141.00209952410114,145.56804845329737,145.98247959194708,151.30333957601397,158.65594331047583,163.28351501985006,165.0274425332393,164.56009034724005,162.69563468431807,160.3371300218423,158.2700085578228,157.39999468815182,158.03471062124936,159.09200990304208,159.69089115160511,159.86921679067325,159.6075664376986,158.52087286589776,156.6650151944958,155.10307758735354,154.76731334199766,154.53817469416,152.83946762235234,149.7773929680549,146.91810966789785,145.2304213494264,144.0396936303876,142.34788989257112,140.02924475411893,137.86488379627102,136.94443024999612,137.23038873543342,137.02795358522172,135.09262390148805,131.78995127630665,127.15201700601123,118.07364045259453,92.95048846026552,111.58227970522246,129.45278563115795,138.2921805525958,143.1711053210688,145.54670069071844,146.10057562215798,145.83463815520878,146.36977981790818,148.0554387843523,149.43629769169783,149.03798836610676,145.92771765577686,140.3413699534398,134.16252749146054,130.7483709722678,129.62976562861337,128.55726783363963,128.17372090103626,128.68453448110859,129.61467268224547,131.37936708272957,133.615185772025,134.24522747949015,132.49724810152492,130.3479207101576,132.49438546853943,136.93991181373855,139.66216072746448,140.10834545254787,138.1270546398033,132.51069038452,120.69558867721602,89.01754914367318,110.34211587855022,120.83417434236462,122.36200772241834,119.71362583248677,117.22074187792266,119.75264768893518,126.5367395343374,132.2061093130478,133.96693353280494,130.6684966876412,123.6815217863759,126.52157795061277,134.62983091628038,139.3180272591702,140.28667668531253,137.62219818584865,131.98348466528336,124.07663570706792,114.2267694499014,103.44772202882844,92.9584608439638,83.35329993623219,82.46689771012865,75.82770036464417,66.06349703115293,98.03414526793118,111.33889876855572,118.98648423031145,122.54177224513953,122.47951959397489,118.64583070128839,113.87371352182163,119.12974241422387,127.33420020821598,131.46335674969552,131.3822456107658,127.3830481228133,119.37978564347974,107.60067684669835,111.66825278667098,124.05076277537741,131.22772394028615,134.48448788702927,134.7861839517469,131.92539177767685,127.40494750758486,124.68811639326971,123.8965060008981,120.9054998438967,114.88101986961341,109.76176859442026,112.1629841277428,119.27887876494424,124.82951411454222,128.02837046990257,129.85943432178908,131.89986646363,134.2959664200011,135.78516337340758,135.22114124260463,131.84250434163295,126.45507975231583,121.93106290183131,122.11921102289395,126.02335733427888,130.41644177850932,134.06653952639124,136.5638564699891,138.01616957258577,138.23945775755297,136.29941618189454,131.33912440717808,125.33728980410184,126.77827246986509,131.88614297305546,134.5995306065226,136.2399757750571,139.04068907529907,142.9197060262825,145.9078344918701,147.13650225775328,146.41335613205808,143.84972114295687,139.64912794324272,134.3253574737259,129.02642302040337,124.93796462149683,121.5393264193191,117.322732247941,114.73057166609908,118.8452229107018,125.32158129160658,130.25817923584472,133.19297336645127,134.27063636776148,133.61613697497285,131.3563797543291,127.81845352593217,124.49172753170508,123.7513624080227,124.38224504365684,121.98895450367736,114.08596503252865,105.82629767516569,110.88300039306839,119.90552132506646,127.202147201513,131.9667614478077,133.76958758760802,132.70781458819803,129.56830485026168,125.94077414424684,122.38418137561702,117.21442780157889,104.9489244287997,92.05361102549689,112.54203234883539,121.46683920506331,124.38005590514472,123.53852557520595,121.56477951652924,121.33882435595636,122.2275429466472,121.4062971945044,117.93754225866843,112.6971528635918,104.27515467306111,88.6528521160044,96.42663339577929,107.60183673130071,106.82225946173723,88.40507400283728,104.04178637381129,117.95828545895965,122.46746248313711,124.28669381415281,126.67005328527794,129.27522451899023,129.7650229950298,126.52643324838441,118.86804102107371,109.40834958178631,110.93113718338012,114.07121904322369,108.35331346001797,88.96705472009042,100.66853781444378,109.97573475103614,108.08517276324821,95.58895557030422,89.06300976096674,100.91403830932555,104.06730366572654,102.81085812399192,102.27248417282829,109.75997332490616,122.65446694505044,131.27973072984534,134.659499974981,132.34540824765594,122.983550056949,117.08732924209211,129.23091278150616,136.1537186103394,138.83472161916444,139.99022039298902,140.92873074735414,141.4350478891782,140.302255484849,137.183074064597,134.8362750409565,136.08173198415673,137.3102051022957,135.29421222826153,129.14481974035795,120.98443896939034,122.10389522255312,129.55517351459943,133.1448836556803,130.95005729684308,120.2247398448641,88.75300107301513,115.15603565056695,125.57494349672899,129.060984495252,130.1292469749284,130.3401027591469,129.43479875948742,127.3812776144528,128.0007642924076,131.7025425637015,133.04022544791667,130.59201431746015,123.86052071405743,111.95477123616325,105.70885785702148,118.51401850384497,127.74406905646723,132.76569119540864,134.50333751053557,133.95982949270305,133.34831260302562,135.23414699652548,138.76267935057723,141.77778219016764,143.28657189711944,142.627691535347,139.3644825559961,133.4722084696932,125.10044387363267,112.46111177234778,92.09275680431377,116.55997780602732,126.09832147776532,124.7534823951912,110.71875423547183,96.50112043365947,112.4485124681327,113.26506731234124,108.58103656834763,101.99803482567827,97.14913597763675,113.57660886046824,125.21760786245515,131.97504303651732,137.11982745823596,142.19699775863148,146.74299115161836,149.8110840053253,151.14779573703814,151.33695915010136,151.12865162025216,150.500088718598,148.7887948486843,145.75817203220814,142.99623735437788,143.01809980998883,145.25921794002127,146.94978222310706,145.90004561737913,140.90565004641883,132.09016956580749,120.14784234370435,115.32010047236865,127.36594813894344,133.55111744902817,133.779199329228,130.05306182494044,125.02575693885959,122.87310149941793,123.0047656386207,121.46331452528521,117.8741314694841,117.78964041278229,122.5987050435432,125.50729776735199,124.54332009302718,120.16906619959042,114.14090655164526,115.6280158581019,124.03749904425878,128.12242075902333,125.8990361446127,117.54157651579577,109.15688815418844,117.72541720595963,127.23209372584536,131.4583482182636,131.00135069548762,127.335942799752,121.62186226856994,114.22543748940511,114.85572068019748,122.37860097066992,126.59694202163297,127.4986334752324,125.67563125327746,122.00225729495378,119.92276357023357,122.23990555829354,126.51250740094001,129.903949786847,131.71070023688006,131.97553484395505,129.78930892615406,123.78174072681384,116.3424370534271,118.26378107046335,123.7633490117246,125.59327470473724,122.7324601126848,114.68183007149709,101.26825438324576,86.63384744011921,83.21618025600223,92.5882747839233,101.81575376052287,107.16764512838256,109.37281048707132,112.3974640636089,119.9366852918811,127.35884663106289,132.47940283462185,135.70218555776887,137.10112609991162,136.34754082287984,133.0083175599282,126.02857776304094,112.29113303317646,97.16001644870359,111.40431919504549,114.2106564702352,106.30950393288109,94.81430769903297,96.47370642704341,84.92532458224564,60.545487148081754,79.88039774315853,68.67596712239431,89.11906170616737,91.34917675692962,73.856623411296,90.26844758457986,104.1086223795779,111.58070017271665,116.49222512452609,118.90377264729761,118.22411457287104,114.23802667459175,107.40620915533147,100.60987015302861,97.57527844151682,97.34158232256256,98.10290657702991,98.66362467593973,101.7433519346422,106.2073561951195,108.69895880734114,110.8035723792059,112.15569136889091,109.49690243299439,103.93036448482624,100.92628029593007,97.86096217096936,95.66608809626983,101.03380856504565,108.34648051731253,116.07978807883318,123.8283548391442,130.54394791018052,135.56296750803784,138.76204157391325,140.13435297163534,139.4593490534493,136.21123380350022,129.43441998628626,117.31101607955178,103.73912043267357,112.44864947671577,118.98964903641227,121.21591071320593,121.98924397601607,122.15980962476785,121.38400859362196,119.26549450974018,116.8959893414305,115.88483515515084,114.78338677210779,112.33315907937443,107.62137119796489,98.73602747048403,87.73038295136323,91.13378536825944,101.16947207803058,106.2253997649699,104.13784134633754,100.52905925732327,105.68729473617451,108.82944337043381,105.65177463603948,99.53348804272758,99.12635127717267,101.89825121460251,104.22530938942084,106.5199998892505,109.53476613473762,113.18969053622115,115.68672529991734,115.68799615105743,113.54259565985197,111.07854773053354,109.34605744693557,106.82092535033571,101.93352157530809,95.15483646585035,85.77495510365729,71.47980071875158,56.42559082770286,37.29837819664849,61.63020725776271,60.59370173495803,29.06580455390409,48.298454080119065,55.25910173785193,49.07081918616964,27.913389433570206,46.06408623486975,65.30229863737705,69.00799421180668,62.951246181167086,78.39628391473362,92.91338861566796,101.18515479771182,107.06300736303153,112.21793848064252,116.14938312247597,118.20778576944683,118.84594635653883,119.06929816454088,119.14718314409345,118.36809783419976,116.29053669089575,113.1890980334156,109.04454487149671,102.72609076505472,92.41500440345374,76.33094400443694,52.15810967929434,60.53209431838238,74.51909568179593,71.77931834367912,39.82659016836722,60.1169244820835,62.52548851218519,62.11074567808925,63.45832055316442,46.8261122989831,57.52269917794884,70.21957081125319,80.99419298885374,93.73663259384219,102.81429704783874,108.98970049077947,114.1615558836602,118.65326487722758,121.47156722067137,121.70532057926238,119.0050512192624,113.91296124678925,108.02487100201645,102.45933706749719,99.47598191566438,103.07457144991398,107.83179905939933,109.71431398958043,111.18776497305835,115.9312322534841,122.2031968088484,127.06021086188508,129.01757233521474,127.38100954224436,121.95378438456284,113.88747930721628,108.24673019657541,108.8848456885361,110.8492682187245,110.54528629513362,106.91146973958499,100.23720183593618,93.09935251508304,88.52204668469803,83.40893002956824,75.3313841827785,73.00260059182122,74.77627146153478,76.25559930918028,84.45871817093106,89.97952576061537,91.3626377391236,91.7720533305402,92.52791684811231,92.58468973705524,90.10201677066587,83.06805232336963,69.79640996980096,59.46018368728643,64.53504442365393,64.72506424680589,48.59176666190088,42.997013594499144,58.400853744202436,49.148725852729285,19.301829008746356,45.525192245861724,34.586577726746604,32.89897205356545,37.35431487600631,39.36070499932478,47.28944881987594,55.80702434942269,58.31379853055729,53.27520107576588,51.77221796539581,59.30468018244898,64.77574569278,63.45891452054705,57.60286625521149,64.7802979806566,76.39692667582972,85.4774034636836,91.17797207425647,93.54958517538748,93.58937200947447,93.20455317792343,93.90957285858832,95.18829374855927,95.20282588854431,94.1588385341336,93.16395918149897,91.64607366999336,88.37909124667785,83.1975774402594,76.5085768647885,68.0130768674399,55.14813057328617,44.67960299230243,66.19961637978649,73.74863121315964,73.14806942281302,70.76269255868576,73.75017282602815,80.37283457139709,87.42884063345399,91.6920197763112,92.84484827437588,93.15688891664955,95.12943817890444,98.85873726821387,102.5135604044542,104.24947206735496,103.74848206676312,101.97082217522741,99.89393393504812,97.42699236602259,93.52313150722814,87.44822165948382,79.08988655073196,68.55796791028351,57.70810591072713,50.239173324672905,44.00139587945284,39.17083257776271,37.56426246163583,31.857100767319398,20.165041089762884,30.798890823664454,32.02446587793886,19.32695305555075,27.48639441172864,10.930601425652121,12.518216720193713,2.623565728612991,22.124740941086785,21.123585398658616,24.3753003574641,30.536378710455626,30.35213053286443,22.59887852402723,11.9977441597185,25.025017367983914,26.00439871228424,18.850166521576575,9.604053766122993,13.011991569025879,7.01229322727204,11.365433863731198,8.7599170980214,15.208450149837269,15.512142053824034,13.521601913144004,15.627891152571781,18.21907486102378,14.10397536331784,6.684626869803753,14.97313805067607,17.469824613321073,9.143059568749683,9.72404561637773,10.913143242930877,11.254267483348588,12.760208164488825,11.77213667443736,11.140989359072801,11.10708686047775,13.140019528204556,14.488009330945031,14.833626779648931,6.488046088213211,16.2637832245964,18.805897212928652,19.046297637613492,19.094705802544446,13.896945197556589,5.927629107022312,4.88997960497853,13.662719862992427,12.802014202571163,15.88131005611988,20.900868342879562,14.231926082696635,3.084827018001512,11.369536829619058,15.940886671074017,11.84259622372541,9.559611031609194,14.878394008099942,16.009889164087866,11.666183139837901,0,12.514914259860406,15.279401813005864,17.800918809356883,21.1931645496907,17.429196777389954,7.843912801881345,5.419655023241892,13.47154206569122,15.202617570591675,10.050371931296217,13.540489467787344,15.464754579117251,11.21828400842651,2.3313856619575697,0,0,7.332534216620066,10.865586005260077,0,2.224326565846797,7.864873951393415,4.891568249139188,6.328567349711326,9.358049038355206,15.130964014834193,15.451401393072944,11.804496346795498,7.581079491398729,11.531322431346336,0,8.785004433259628,9.392121069315627,11.304817166597942,17.287662196476834,16.980347110242366,10.820287423168313,0,2.1537316621570883,12.37549089851758,11.882712849582024,0,0,8.332193257260796,14.52776345255954,15.534839890870575,5.716670958406418,0,9.193888869630946,12.165761627915707,14.438050716725746,10.029858466961555,2.5528491032018263,1.1157600999344226,9.023402532060699,11.84909143756013,10.996168833136753,1.1101978370485968,1.6905400167320037,9.165985999739283,11.476104803759513,6.424915969262808,8.078837643373163,15.305529378163936,11.383243139804426,.2952564977218819,6.767946143193262,12.780993948718079,14.38604755985657,14.007328091697389,3.734705766356697,9.029154344080528,13.815128884049631,18.164041081188802,19.24454885612999,17.615774330925618,11.30736552162138,15.281484694967853,19.860681293473736,14.219040359734858,10.568559653800875,13.531719935107636,6.619084727827993,18.10185293789845,20.20005490406164,12.977800532040959,13.630593272325221,15.613474662488834,1.4071067722403952,5.104100308028737,4.453092250334667,7.950531831873705,12.546181719144284,16.912889584119306,13.611063804511913,0,5.14340750155569,4.168112019595056,7.907150889977693,8.979147446431407,9.426140225224962,13.243225390442396,11.469977914072203,6.748875731042129,12.419333543855343,17.67077925645081,18.880096475694156,17.976945230424562,13.259975924641125,9.110054638830176,13.897020932221713,10.897095324514966,7.8151207360060235,9.849822772927759,11.325162474719361,12.016694841102133,11.961220785443153,17.26423194554651,21.170934171205246,19.36679035480077,10.251257554114659,12.697790518293173,12.226322012316976,8.797966914057117,7.304920597468326,6.035264457772584,9.213676766218406,6.700444658116453,0,9.469079930845345,12.587156119390347,10.245214753239326,0,3.9196260047336264,14.939554766587442,20.32950591396716,17.43295039442306,12.232478269551809,7.075514116679573,11.653567301617436,14.522086687604194,4.999105820822678,8.972467820299194,14.752996098031064,12.58737256922795,8.269772553863397,6.845181399549767,9.453814130341753,6.702038616580293,0,5.248058865577265,9.060301063117464,4.959265667263332,1.6907237601620995,12.1849239447419,10.75358814568625,5.579890828342152,10.25437631919848,8.727296893037195,8.674164699122215,8.654266132067589,17.559192518562003,18.013714536426534,3.19846928252853,15.138023018241498,13.120210256537089,13.25959664576775,14.705757047417212,13.646956860434232,11.4493918726612,14.42216931817045,15.61832623520531,9.588827906656373,13.530472972857197,12.078871233581653,12.325619997935547,16.171122133369753,12.287442774753139,9.18184999018405,15.581479804162036,18.89011269904545,12.610509248201758,4.349945852315997,10.24488560466813,7.227081000118217,5.75185749552973,10.778581893610276,13.024889141559335,1.6624037980402562,0,5.918273781830605,11.381155590038007,13.981295548325248,13.94288510294386,10.133007988991162,2.121248558055799,0,1.9723575884446862,0,3.6330911978320097,0,10.113576400672237,10.40896817062201,0,10.454790827761203,10.174902839382536,0,3.5765172429638006,0,1.6182090693881206,0,1.7447440566893428,10.14584872592788,14.082806239138574,14.13045625770746,11.519994887021749,6.000767441228888,0,1.342626361452378,12.895630837651595,10.65092334647549,5.653708141569734,7.225975812423864,10.279236321645836,4.420118550235051,12.63436625022545,18.90372918109156,15.609480264737144,9.227081575590395,12.28784948291024,16.150819092173037,12.313925939027017,12.108909431418597,13.543631056849733,9.508949273227547,15.512028540224131,14.328925846207822,11.606027192071757,13.781481597455045,14.782072988727856,13.30651238407281,13.138829884869365,15.116653621679085,2.9554299337869274,17.91580710523786,17.470496727492755,8.753478916254254,8.814297997449522,8.777238025275853,10.263800483364781,5.636264759368252,10.794078851559046,12.174723218930296,1.4999538295923966,4.8007532181192625,9.094005719383269,5.504161448330176,0,6.91445360252918,9.53931383986776,6.812469238027456,8.104675064882583,12.402321867359854,14.575215846710353,8.894139055166587,5.41943166165391,14.702972067789473,11.856970622795508,7.31333026934427,12.322306413619625,17.448578513027048,20.310376499547864,14.862257403880673,3.6298947871426073,0,10.22551953701423,12.663942733922736,9.61832375637568,0,6.745343890336374,9.1393486211929,5.781388148243254,6.969392453063516,8.48361378533504,12.179137558366316,12.915935053266153,10.579301518169789,19.476760426918048,21.219739452820882,17.2642243065431,11.862556627260657,11.853653103061724,11.114382480645585,9.604425225673191,7.6263471783133365,10.939435292913382,13.995774524794472,9.214802148624713,13.269349891158216,17.961464275474153,18.8761951030306,17.698161852858053,12.50827264365707,6.932947620998374,11.58021263899969,13.310898121668322,9.484703064785522,9.030022395410246,7.984609496401385,4.285134891752637,5.175920875087389,0,13.47134581762161,16.757700789043493,12.272879876417079,7.605413336393965,4.436834888590431,5.3134281624631585,1.586948407695722,15.628696329790479,13.638049432844555,12.981066845845277,20.19082567242849,18.075206606619627,6.555147116491932,13.552012665837841,10.672208165568314,14.32546649410791,19.931514729626965,15.377797494051292,11.375769236373975,17.588585804754313,19.15950620196171,18.01841039563144,13.588143662169683,9.003820447085538,4.03228667394176,14.040446206569532,14.325258350511012,12.642339255005362,6.742497661212694,.7632554290740886,11.504334170814484,15.332947927875477,8.03418629947505,6.311434613265711,11.402639779964485,9.08442868708418,1.601545623919535,1.3179729309311625,11.175473098509213,12.027947817686973,9.206758553558133,1.3016492801836677,2.486550006182436,9.873629602046508,14.267461740251058,11.989494723427752,9.41420926886248,0,6.207702433978429,15.662305858152648,14.565948407450774,8.191337129018594,0,0,11.59078022260681,12.47321848095627,2.679199564616129,0,10.77357845916403,16.891122441267942,17.1738294458997,11.228060112174784,9.666473753231518,9.186067689083913,0,11.708749974182963,7.648578892756032,11.719897248816912,15.319507064767029,14.968844289851205,9.178167370766324,6.354883478391251,5.0317240483073755,7.875625082238901,2.016429963438845,0,10.81387157350129,7.390275955986494,0,0,2.473783795561967,11.283288373376966,15.494440278723957,13.529264929400577,9.9355770563046,15.074756774232712,13.328369502150904,5.5117560855136665,8.147300916502846,17.538402466378802,21.23247911794689,17.79172658927885,15.18189805300655,12.281546300058944,0,11.647743078165266,16.218227783549956,15.059530854897316,9.791646218821802,12.002311842637019,16.021067746218772,11.394436422577598,2.8364568713671985,14.060141217183588,20.80123791581557,15.77343773482499,12.726059083415214,13.584190131875445,4.713261533825819,6.033935500495772,14.02584255505931,19.162913910339118,19.09196180796629,18.83135815701536,16.263660209745257,6.366220890786104,14.713260017851788,14.321220889923108,13.119121396181448,11.41273340341992,11.490232130794169,12.058640417183204,12.939169262726953,11.333490287597444,10.857884175240345,9.538347399436034,8.87164508142129,17.33526561528871,14.797043625492982,6.303864751177793,14.008458579047376,18.281616804764848,15.714776244389387,13.536078416015936,15.43565038521385,15.085553833964894,8.816838562473114,11.57889252690025,7.243366337808657,13.049992675819164,9.562100439480858,18.8423624821782,26.026230764925945,25.063588495745275,12.088440383270365,22.598703824524417,30.335175370360073,30.507203823934503,24.31575743172064,21.091347153092375,22.192008263984746,2.6921532477189625,12.555925389688039,10.955792349554407,27.496596933783845,19.32309532965342,32.02016781504115,30.79363057915056,20.153705208595028,31.84733432313043,37.55422676155908,39.161318089373836,43.99725905548563,50.239521349711644,57.709945157232774,68.56102072874769,79.09277757582453,87.45022449812227,93.52414032558913,97.42708629345228,99.89326580207333,101.96969528883949,103.74738305478293,104.24929170393897,102.51409565496083,98.85891221948177,95.12889229516455,93.15575142612721,92.84481690448938,91.69353557099636,87.43065766212484,80.37511065919674,73.75278758416235,70.76481546499228,73.1488809356018,73.748251522107,66.19754420726265,44.67055040009078,55.14127984460118,68.00897312875901,76.50577378971266,83.19565707317221,88.37928427891767,91.64707205600125,93.1645549214913,94.15892605231977,95.2024261748412,95.18759292865255,93.90926869773944,93.20519129451228,93.58993179108286,93.54980638035424,91.17789631782823,85.47711109836708,76.39650364258733,64.77967081028163,57.60148341599023,63.457047409979346,64.77373700220063,59.30619115439834,51.77610792645369,53.27738581379225,58.31513815008083,55.809899784465536,47.29546194987288,39.36798475813622,37.358230987929666,32.900513693669474,34.58876357417883,45.52733381871206,19.30418051352355,49.14605651861594,58.39674489502643,42.985076505824125,48.58277552730088,64.72489073088832,64.53855632176429,59.46461446008204,69.79866094213094,83.06895000871368,90.10241292436534,92.58477826421021,92.52767576810614,91.77141536117016,91.36164373019474,89.97832484647684,84.45765489771985,76.25612211802503,74.77793832270372,73.00464769163953,75.33322759939438,83.40998967778759,88.52257846445491,93.09950831286169,100.23713376604933,106.91129234333648,110.54503255674483,110.84895308710479,108.88450078687669,108.24640086701157,113.88723795443882,121.95382120919903,127.38124075994413,129.01779133987984,127.06035587666086,122.20320925325537,115.93106559880616,111.18750587058453,109.71416357836468,107.8317384576405,103.07442993273,99.47570439915134,102.45913685400123,108.02480011537054,113.91292131176246,119.00504719734893,121.70543114560706,121.4717871530839,118.65353350928577,114.16181719598866,108.98992131815601,102.8145364807752,93.73710616384784,80.99522436021847,70.22074977909531,57.522235111051,46.820031202418996,63.45379796911414,62.10573859306925,62.522478315454485,60.116833586304146,39.831630797412195,71.7806367413494,74.5199217836516,60.53234686501897,52.15602168536246,76.32972481770639,92.41450363484631,102.72603832002034,109.04463777755306,113.18911196254741,116.29040798264832,118.3678616281676,119.14690593059633,119.06909211625258,118.84607224151263,118.20797609910174,116.14962898219424,112.21827699609415,107.06342747939058,101.18559829646743,92.9137702620287,78.39634865319103,62.949900114705216,69.0062502703019,65.30050053459482,46.064088050295645,27.925213019067385,49.07620602908922,55.26130242039997,48.297181557952335,29.0547768428826,60.59226990706777,61.63229498033179,37.31050251614931,56.42876438016364,71.47969431040048,85.77420915075048,95.15419246153931,101.93312177445505,106.82075655302869,109.34608956875489,111.07870777085459,113.54273215819515,115.68801133344986,115.68660528363839,113.18945966755618,109.53447768330773,106.51968978192635,104.22493771561832,101.89789204190814,99.12657145417897,99.53419272300803,105.65227830143226,108.8297392582113,105.68749484539899,100.52925035881725,104.13800355421641,106.2254843732615,101.16934758006757,91.13304937350996,87.72891307583734,98.7349633067024,107.62097112736863,112.3335144467274,114.78372232892166,115.8850378488818,116.89611504765251,119.26561324794429,121.3841409612775,122.15993185509966,121.98932645564041,121.21593174035927,118.98958046309708,112.44840636612393,103.73853807373665,117.31064469551029,129.43421370886102,136.2111032227428,139.4593666500088,140.13445296046177,138.76213759970432,135.5630320707424,130.54393168059855,123.82818837992177,116.07941747991194,108.34647026968001,101.03456677959765,95.66676904546009,97.86113189561249,100.92602617581143,103.92989096852207,109.49660407900826,112.15584663912672,110.80382908028835,108.69898621387294,106.20701462462121,101.74262759240635,98.66422744858968,98.10394110643142,97.34235283999772,97.57566565538899,100.60994855041994,107.40617250158246,114.23798647603215,118.22408238485863,118.90373163887496,116.49216867904974,111.58068216565138,104.10879697628687,90.26906232119254,73.85763572461435,91.3491361317248,89.11836156706346,68.6726434655926,79.87799282974109,60.54385059908123,84.92760936178982,96.4752001963592,94.81545038646067,106.30970359538547,114.2104747499376,111.40391612227951,97.15934129972361,112.29095612707094,126.02848842354501,133.0082159148334,136.34745581511382,137.10109773309034,135.70217756931117,132.47935526768777,127.35878828072931,119.93677584068564,112.39768481660613,109.37303827394014,107.16791080188607,101.81608101208793,92.58847469956677,83.21567458536418,86.63294719282503,101.26812860539339,114.68214557056169,122.7327563809439,125.59348797481894,123.76350402125736,118.26389009957268,116.34245948001073,123.78168323041649,129.78921427083176,131.9754194958146,131.71057816330685,129.90384904754552,126.51249016784601,122.2400326926942,119.92296598384048,122.00238053081277,125.67563725822029,127.49855890937131,126.59682802396568,122.37848723288941,114.85566139586028,114.22547302310696,121.62189039066338,127.33590647591397,131.00124646643715,131.4581964185114,127.23195927702446,117.72549862641351,109.15718761707542,117.5417232792651,125.89906325638462,128.1223527402383,124.03727447364358,115.62748592770117,114.1414572415632,120.16950335825283,124.54351889399076,125.50728589986323,122.59848279111162,117.78921780035344,117.87374702603012,121.46344538503499,123.00503642802835,122.8734071286911,125.0260325714215,130.05322831072004,133.77926904706976,133.55111737490492,127.36586241105557,115.31977487505993,120.14742685497546,132.08991772494053,140.90571592124957,145.90019036520025,146.94986939321637,145.25922677868306,143.01802540646966,142.99611495827006,145.75805912714097,148.7887275816813,150.50010621591636,151.12869154826384,151.3369874794862,151.14782222367967,149.81112513081436,146.74304447140364,142.19704817050356,137.1198908229571,131.9752019882868,125.21794163113624,113.57714712439454,97.1496708876078,101.99777402644207,108.58044026376153,113.26447168913776,112.44799022370425,96.50035067728408,110.7184240927532,124.75329634069374,126.09814773550508,116.55980886066847,92.09290392856308,112.46133923706601,125.10058260240726,133.47227546085253,139.36449484155528,142.62766498926533,143.28651934923624,141.7777189620662,138.76263185246356,135.23412709801426,133.3482677848772,133.95975448544326,134.50352636166627,132.7659707744914,127.74442217998808,118.51443047524482,105.70920689819519,111.95472089630582,123.86037400016116,130.59188784746723,133.04014714791705,131.70252224342494,128.0008127705433,127.38138224297306,129.434918343866,130.34020737337966,130.12929658046303,129.06093066996556,125.57473288368382,115.15550893518736,88.75111693106655,120.22453810765779,130.95014630155598,133.14503685689422,129.55533244102588,122.1039896651948,120.98431843230455,129.14457830522727,135.29395885539418,137.31014313066748,136.0819237857414,134.83640740952785,137.1831284757891,140.30229214517712,141.43509044999527,140.92874954055137,139.99017540878293,138.83460020229015,136.15353009056514,129.23071391558705,117.08769051494484,122.98399945459973,132.34571375732787,134.6597375927039,131.27989475331978,122.65446358116598,109.75949319385768,102.27131663760005,102.80963036664456,104.0666210406399,100.91412970054837,89.06336437380658,95.58870434298841,108.08474410886177,109.975290454292,100.66889665503349,88.96843946142424,108.35377053933227,114.07147267518978,110.93133801377837,109.40847694746347,118.86806993241346,126.52642833562173,129.76501730620384,129.27523809375847,126.67010440280367,124.2867969604617,122.46761377773747,117.95846370606961,104.04194815548871,88.40480038565197,106.82193564925728,107.60151358936267,96.42637893625684,88.65279147756746,104.27502925063335,112.6969219771717,117.9373093683718,121.406189082809,122.22759791766974,121.33894117599992,121.56481739405223,123.53842605672006,124.37982270531079,121.4664769197343,112.5421258034038,92.05572428849077,104.95013039989355,117.2150495419483,122.38464342834497,125.94120162594115,129.56872072251423,132.70817382527588,133.76983838542708,131.96684976064296,127.20200356221375,119.90507895581473,110.88228885993007,105.82567256372081,114.08568971832912,121.98872160371074,124.38192964308752,123.75101574287024,124.49157990671355,127.81856423476499,131.35653746685884,133.61619154056436,134.27054425788754,133.19274055872873,130.25785139226338,125.32131062603564,118.84529769293798,114.73094669137538,117.32300402124814,121.53943096505532,124.9379924905757,129.02643889799754,134.3253630920495,139.64910289859577,143.8496663010949,146.41329976809035,147.13649400326642,145.90790583900943,142.91983020235745,139.0408100268394,136.24004215578535,134.59953604193316,131.88611703248006,126.77824631740835,125.3372918872163,131.3391518029233,136.2994523875791,138.23949026777544,138.01618690253528,136.56384741173846,134.06648656763667,130.41631523162945,126.02312916597072,122.11888737668045,121.93072850705732,126.4549135403018,131.84271947263983,135.2216409007247,135.78574715423088,134.29650210685182,131.90021668190013,129.8594835186377,128.02810329865105,124.82896562622523,119.27804181115263,112.1618210875847,109.7606065138958,114.88031169305953,120.90516479632258,123.89634815814485,124.68805393056857,127.40506420407145,131.92568913122147,134.78655438887444,134.4848762084327,131.22808687816396,124.05101542935647,111.6680648967376,107.59959271972605,119.37875651717499,127.38222796356523,131.3818360741695,131.46362921294215,127.33447882627286,119.12981556963278,113.87365385967676,118.6459118084248,122.47968242291527,122.54191464816928,118.98660493600012,111.3390799924638,98.03459026282384,66.0661580661814,75.82987579913082,82.46862653900081,83.35442562124413,92.95836763726317,103.44710699349196,114.2263158659949,124.07664699923747,131.9837736115233,137.62243813449857,140.2867189328989,139.3177998211297,134.62922878192632,126.52050160692933,123.68212005871749,130.6692723829163,133.96735606383828,132.20629593622854,126.5367302709491,119.75248527642005,117.22061060775094,119.7137227059548,122.3623542790754,120.83475813308127,110.34310180873224,89.01927960713165,120.69558179387168,132.5104431738287,138.12673652205208,140.1080316236496,139.66190688366913,136.93978178629223,132.49447508534894,130.34818088211662,132.497424113394,134.24522201135863,133.6150381540072,131.37917928582317,129.61449782803453,128.68427532159342,128.17334706648543,128.5570699958125,129.62991707093713,130.74845529998203,134.16233629157972,140.3412106741102,145.92797999640203,149.0383053133878,149.4364893947315,148.0554258060447,146.3695241642237,145.83421067683977,146.10029858906174,145.5471045139762,143.17158774370387,138.29280912280117,129.4537010593994,111.58363981456151,92.9500761571869,118.07215437644277,127.15033919507839,131.78855357780378,135.09324290014425,137.02860179241654,137.23047459407942,136.94397279949845,137.86427558389795,140.02962568671,142.3485383990313,144.04004642976972,145.23040828356415,146.91784789675518,149.77722092433748,152.83961538279263,154.53838820199408,154.767354252018,155.10287774079123,156.66466873822475,158.52065843724156,159.60779223082642,159.8694960176258,159.69121555858095,159.09241653554025,158.03511913820253,157.40026253234646,158.2700924193581,160.33717038158198,162.69577420981906,164.56028366121572,165.02755215312504,163.283454921089,158.65569137848354,151.30289226152428,145.98183448662513,145.5672642570963,141.00160436370405,144.56602842693394,158.76317699692117,167.70472832739583,173.28440040276342,177.63272863056815,182.25384109168323,187.0496190825908,190.998692836551,193.5896629106951,195.4906998402826,197.26171132802398,198.68440631822128,199.29787388223784,200.06585544947043,202.15749478072573,204.1179813944494,203.48988916928616,198.68772392755173,187.46942834049108,167.07117359067868,172.52204017273783,183.33627056640074,189.56207222209986,194.98293881072215,199.6589895567035],J4=[204.35838132923993,203.00945332832035,199.65900469732605,194.98271845278515,189.56132214289326,183.33473438912372,172.52400430499736,167.07532066537684,187.47065016402843,198.68807545388097,203.48982568521964,204.1176240653317,202.15691732602392,200.06529787993665,199.29780568337057,198.68467837138908,197.26189269581153,195.4906761781706,193.5894680197673,190.99841409170546,187.04933995236826,182.25360885686126,177.63250777500204,173.28407960282425,167.70417685616633,158.76226893469703,144.56500607291406,141.00209952410114,145.56804845329737,145.98247959194708,151.30333957601397,158.65594331047583,163.28351501985006,165.0274425332393,164.56009034724005,162.69563468431807,160.3371300218423,158.2700085578228,157.39999468815182,158.03471062124936,159.09200990304208,159.69089115160511,159.86921679067325,159.6075664376986,158.52087286589776,156.6650151944958,155.10307758735354,154.76731334199766,154.53817469416,152.83946762235234,149.7773929680549,146.91810966789785,145.2304213494264,144.0396936303876,142.34788989257112,140.02924475411893,137.86488379627102,136.94443024999612,137.23038873543342,137.02795358522172,135.09262390148805,131.78995127630665,127.15201700601123,118.07364045259453,92.95048846026552,111.58227970522246,129.45278563115795,138.2921805525958,143.1711053210688,145.54670069071844,146.10057562215798,145.83463815520878,146.36977981790818,148.0554387843523,149.43629769169783,149.03798836610676,145.92771765577686,140.3413699534398,134.16252749146054,130.7483709722678,129.62976562861337,128.55726783363963,128.17372090103626,128.68453448110859,129.61467268224547,131.37936708272957,133.615185772025,134.24522747949015,132.49724810152492,130.3479207101576,132.49438546853943,136.93991181373855,139.66216072746448,140.10834545254787,138.1270546398033,132.51069038452,120.69558867721602,89.01754914367318,110.34211587855022,120.83417434236462,122.36200772241834,119.71362583248677,117.22074187792266,119.75264768893518,126.5367395343374,132.2061093130478,133.96693353280494,130.6684966876412,123.6815217863759,126.52157795061277,134.62983091628038,139.3180272591702,140.28667668531253,137.62219818584865,131.98348466528336,124.07663570706792,114.2267694499014,103.44772202882844,92.9584608439638,83.35329993623219,82.46689771012865,75.82770036464417,66.06349703115293,98.03414526793118,111.33889876855572,118.98648423031145,122.54177224513953,122.47951959397489,118.64583070128839,113.87371352182163,119.12974241422387,127.33420020821598,131.46335674969552,131.3822456107658,127.3830481228133,119.37978564347974,107.60067684669835,111.66825278667098,124.05076277537741,131.22772394028615,134.48448788702927,134.7861839517469,131.92539177767685,127.40494750758486,124.68811639326971,123.8965060008981,120.9054998438967,114.88101986961341,109.76176859442026,112.1629841277428,119.27887876494424,124.82951411454222,128.02837046990257,129.85943432178908,131.89986646363,134.2959664200011,135.78516337340758,135.22114124260463,131.84250434163295,126.45507975231583,121.93106290183131,122.11921102289395,126.02335733427888,130.41644177850932,134.06653952639124,136.5638564699891,138.01616957258577,138.23945775755297,136.29941618189454,131.33912440717808,125.33728980410184,126.77827246986509,131.88614297305546,134.5995306065226,136.2399757750571,139.04068907529907,142.9197060262825,145.9078344918701,147.13650225775328,146.41335613205808,143.84972114295687,139.64912794324272,134.3253574737259,129.02642302040337,124.93796462149683,121.5393264193191,117.322732247941,114.73057166609908,118.8452229107018,125.32158129160658,130.25817923584472,133.19297336645127,134.27063636776148,133.61613697497285,131.3563797543291,127.81845352593217,124.49172753170508,123.7513624080227,124.38224504365684,121.98895450367736,114.08596503252865,105.82629767516569,110.88300039306839,119.90552132506646,127.202147201513,131.9667614478077,133.76958758760802,132.70781458819803,129.56830485026168,125.94077414424684,122.38418137561702,117.21442780157889,104.9489244287997,92.05361102549689,112.54203234883539,121.46683920506331,124.38005590514472,123.53852557520595,121.56477951652924,121.33882435595636,122.2275429466472,121.4062971945044,117.93754225866843,112.6971528635918,104.27515467306111,88.6528521160044,96.42663339577929,107.60183673130071,106.82225946173723,88.40507400283728,104.04178637381129,117.95828545895965,122.46746248313711,124.28669381415281,126.67005328527794,129.27522451899023,129.7650229950298,126.52643324838441,118.86804102107371,109.40834958178631,110.93113718338012,114.07121904322369,108.35331346001797,88.96705472009042,100.66853781444378,109.97573475103614,108.08517276324821,95.58895557030422,89.06300976096674,100.91403830932555,104.06730366572654,102.81085812399192,102.27248417282829,109.75997332490616,122.65446694505044,131.27973072984534,134.659499974981,132.34540824765594,122.983550056949,117.08732924209211,129.23091278150616,136.1537186103394,138.83472161916444,139.99022039298902,140.92873074735414,141.4350478891782,140.302255484849,137.183074064597,134.8362750409565,136.08173198415673,137.3102051022957,135.29421222826153,129.14481974035795,120.98443896939034,122.10389522255312,129.55517351459943,133.1448836556803,130.95005729684308,120.2247398448641,88.75300107301513,115.15603565056695,125.57494349672899,129.060984495252,130.1292469749284,130.3401027591469,129.43479875948742,127.3812776144528,128.0007642924076,131.7025425637015,133.04022544791667,130.59201431746015,123.86052071405743,111.95477123616325,105.70885785702148,118.51401850384497,127.74406905646723,132.76569119540864,134.50333751053557,133.95982949270305,133.34831260302562,135.23414699652548,138.76267935057723,141.77778219016764,143.28657189711944,142.627691535347,139.3644825559961,133.4722084696932,125.10044387363267,112.46111177234778,92.09275680431377,116.55997780602732,126.09832147776532,124.7534823951912,110.71875423547183,96.50112043365947,112.4485124681327,113.26506731234124,108.58103656834763,101.99803482567827,97.14913597763675,113.57660886046824,125.21760786245515,131.97504303651732,137.11982745823596,142.19699775863148,146.74299115161836,149.8110840053253,151.14779573703814,151.33695915010136,151.12865162025216,150.500088718598,148.7887948486843,145.75817203220814,142.99623735437788,143.01809980998883,145.25921794002127,146.94978222310706,145.90004561737913,140.90565004641883,132.09016956580749,120.14784234370435,115.32010047236865,127.36594813894344,133.55111744902817,133.779199329228,130.05306182494044,125.02575693885959,122.87310149941793,123.0047656386207,121.46331452528521,117.8741314694841,117.78964041278229,122.5987050435432,125.50729776735199,124.54332009302718,120.16906619959042,114.14090655164526,115.6280158581019,124.03749904425878,128.12242075902333,125.8990361446127,117.54157651579577,109.15688815418844,117.72541720595963,127.23209372584536,131.4583482182636,131.00135069548762,127.335942799752,121.62186226856994,114.22543748940511,114.85572068019748,122.37860097066992,126.59694202163297,127.4986334752324,125.67563125327746,122.00225729495378,119.92276357023357,122.23990555829354,126.51250740094001,129.903949786847,131.71070023688006,131.97553484395505,129.78930892615406,123.78174072681384,116.3424370534271,118.26378107046335,123.7633490117246,125.59327470473724,122.7324601126848,114.68183007149709,101.26825438324576,86.63384744011921,83.21618025600223,92.5882747839233,101.81575376052287,107.16764512838256,109.37281048707132,112.3974640636089,119.9366852918811,127.35884663106289,132.47940283462185,135.70218555776887,137.10112609991162,136.34754082287984,133.0083175599282,126.02857776304094,112.29113303317646,97.16001644870359,111.40431919504549,114.2106564702352,106.30950393288109,94.81430769903297,96.47370642704341,84.92532458224564,60.545487148081754,79.88039774315853,68.67596712239431,89.11906170616737,91.34917675692962,73.856623411296,90.26844758457986,104.1086223795779,111.58070017271665,116.49222512452609,118.90377264729761,118.22411457287104,114.23802667459175,107.40620915533147,100.60987015302861,97.57527844151682,97.34158232256256,98.10290657702991,98.66362467593973,101.7433519346422,106.2073561951195,108.69895880734114,110.8035723792059,112.15569136889091,109.49690243299439,103.93036448482624,100.92628029593007,97.86096217096936,95.66608809626983,101.03380856504565,108.34648051731253,116.07978807883318,123.8283548391442,130.54394791018052,135.56296750803784,138.76204157391325,140.13435297163534,139.4593490534493,136.21123380350022,129.43441998628626,117.31101607955178,103.73912043267357,112.44864947671577,118.98964903641227,121.21591071320593,121.98924397601607,122.15980962476785,121.38400859362196,119.26549450974018,116.8959893414305,115.88483515515084,114.78338677210779,112.33315907937443,107.62137119796489,98.73602747048403,87.73038295136323,91.13378536825944,101.16947207803058,106.2253997649699,104.13784134633754,100.52905925732327,105.68729473617451,108.82944337043381,105.65177463603948,99.53348804272758,99.12635127717267,101.89825121460251,104.22530938942084,106.5199998892505,109.53476613473762,113.18969053622115,115.68672529991734,115.68799615105743,113.54259565985197,111.07854773053354,109.34605744693557,106.82092535033571,101.93352157530809,95.15483646585035,85.77495510365729,71.47980071875158,56.42559082770286,37.29837819664849,61.63020725776271,60.59370173495803,29.06580455390409,48.298454080119065,55.25910173785193,49.07081918616964,27.913389433570206,46.06408623486975,65.30229863737705,69.00799421180668,62.951246181167086,78.39628391473362,92.91338861566796,101.18515479771182,107.06300736303153,112.21793848064252,116.14938312247597,118.20778576944683,118.84594635653883,119.06929816454088,119.14718314409345,118.36809783419976,116.29053669089575,113.1890980334156,109.04454487149671,102.72609076505472,92.41500440345374,76.33094400443694,52.15810967929434,60.53209431838238,74.51909568179593,71.77931834367912,39.82659016836722,60.1169244820835,62.52548851218519,62.11074567808925,63.45832055316442,46.8261122989831,57.52269917794884,70.21957081125319,80.99419298885374,93.73663259384219,102.81429704783874,108.98970049077947,114.1615558836602,118.65326487722758,121.47156722067137,121.70532057926238,119.0050512192624,113.91296124678925,108.02487100201645,102.45933706749719,99.47598191566438,103.07457144991398,107.83179905939933,109.71431398958043,111.18776497305835,115.9312322534841,122.2031968088484,127.06021086188508,129.01757233521474,127.38100954224436,121.95378438456284,113.88747930721628,108.24673019657541,108.8848456885361,110.8492682187245,110.54528629513362,106.91146973958499,100.23720183593618,93.09935251508304,88.52204668469803,83.40893002956824,75.3313841827785,73.00260059182122,74.77627146153478,76.25559930918028,84.45871817093106,89.97952576061537,91.3626377391236,91.7720533305402,92.52791684811231,92.58468973705524,90.10201677066587,83.06805232336963,69.79640996980096,59.46018368728643,64.53504442365393,64.72506424680589,48.59176666190088,42.997013594499144,58.400853744202436,49.148725852729285,19.301829008746356,45.525192245861724,34.586577726746604,32.89897205356545,37.35431487600631,39.36070499932478,47.28944881987594,55.80702434942269,58.31379853055729,53.27520107576588,51.77221796539581,59.30468018244898,64.77574569278,63.45891452054705,57.60286625521149,64.7802979806566,76.39692667582972,85.4774034636836,91.17797207425647,93.54958517538748,93.58937200947447,93.20455317792343,93.90957285858832,95.18829374855927,95.20282588854431,94.1588385341336,93.16395918149897,91.64607366999336,88.37909124667785,83.1975774402594,76.5085768647885,68.0130768674399,55.14813057328617,44.67960299230243,66.19961637978649,73.74863121315964,73.14806942281302,70.76269255868576,73.75017282602815,80.37283457139709,87.42884063345399,91.6920197763112,92.84484827437588,93.15688891664955,95.12943817890444,98.85873726821387,102.5135604044542,104.24947206735496,103.74848206676312,101.97082217522741,99.89393393504812,97.42699236602259,93.52313150722814,87.44822165948382,79.08988655073196,68.55796791028351,57.70810591072713,50.239173324672905,44.00139587945284,39.17083257776271,37.56426246163583,31.857100767319398,20.165041089762884,30.798890823664454,32.02446587793886,19.32695305555075,27.48639441172864,10.930601425652121,12.518216720193713,2.623565728612991,22.124740941086785,21.123585398658616,24.3753003574641,30.536378710455626,30.35213053286443,22.59887852402723,11.9977441597185,25.025017367983914,26.00439871228424,18.850166521576575,9.604053766122993,13.011991569025879,7.01229322727204,11.365433863731198,8.7599170980214,15.208450149837269,15.512142053824034,13.521601913144004,15.627891152571781,18.21907486102378,14.10397536331784,6.684626869803753,14.97313805067607,17.469824613321073,9.143059568749683,9.72404561637773,10.913143242930877,11.254267483348588,12.760208164488825,11.77213667443736,11.140989359072801,11.10708686047775,13.140019528204556,14.488009330945031,14.833626779648931,6.488046088213211,16.2637832245964,18.805897212928652,19.046297637613492,19.094705802544446,13.896945197556589,5.927629107022312,4.88997960497853,13.662719862992427,12.802014202571163,15.88131005611988,20.900868342879562,14.231926082696635,3.084827018001512,11.369536829619058,15.940886671074017,11.84259622372541,9.559611031609194,14.878394008099942,16.009889164087866,11.666183139837901,0,12.514914259860406,15.279401813005864,17.800918809356883,21.1931645496907,17.429196777389954,7.843912801881345,5.419655023241892,13.47154206569122,15.202617570591675,10.050371931296217,13.540489467787344,15.464754579117251,11.21828400842651,2.3313856619575697,0,0,7.332534216620066,10.865586005260077,0,2.224326565846797,7.864873951393415,4.891568249139188,6.328567349711326,9.358049038355206,15.130964014834193,15.451401393072944,11.804496346795498,7.581079491398729,11.531322431346336,0,8.785004433259628,9.392121069315627,11.304817166597942,17.287662196476834,16.980347110242366,10.820287423168313,0,2.1537316621570883,12.37549089851758,11.882712849582024,0,0,8.332193257260796,14.52776345255954,15.534839890870575,5.716670958406418,0,9.193888869630946,12.165761627915707,14.438050716725746,10.029858466961555,2.5528491032018263,1.1157600999344226,9.023402532060699,11.84909143756013,10.996168833136753,1.1101978370485968,1.6905400167320037,9.165985999739283,11.476104803759513,6.424915969262808,8.078837643373163,15.305529378163936,11.383243139804426,.2952564977218819,6.767946143193262,12.780993948718079,14.38604755985657,14.007328091697389,3.734705766356697,9.029154344080528,13.815128884049631,18.164041081188802,19.24454885612999,17.615774330925618,11.30736552162138,15.281484694967853,19.860681293473736,14.219040359734858,10.568559653800875,13.531719935107636,6.619084727827993,18.10185293789845,20.20005490406164,12.977800532040959,13.630593272325221,15.613474662488834,1.4071067722403952,5.104100308028737,4.453092250334667,7.950531831873705,12.546181719144284,16.912889584119306,13.611063804511913,0,5.14340750155569,4.168112019595056,7.907150889977693,8.979147446431407,9.426140225224962,13.243225390442396,11.469977914072203,6.748875731042129,12.419333543855343,17.67077925645081,18.880096475694156,17.976945230424562,13.259975924641125,9.110054638830176,13.897020932221713,10.897095324514966,7.8151207360060235,9.849822772927759,11.325162474719361,12.016694841102133,11.961220785443153,17.26423194554651,21.170934171205246,19.36679035480077,10.251257554114659,12.697790518293173,12.226322012316976,8.797966914057117,7.304920597468326,6.035264457772584,9.213676766218406,6.700444658116453,0,9.469079930845345,12.587156119390347,10.245214753239326,0,3.9196260047336264,14.939554766587442,20.32950591396716,17.43295039442306,12.232478269551809,7.075514116679573,11.653567301617436,14.522086687604194,4.999105820822678,8.972467820299194,14.752996098031064,12.58737256922795,8.269772553863397,6.845181399549767,9.453814130341753,6.702038616580293,0,5.248058865577265,9.060301063117464,4.959265667263332,1.6907237601620995,12.1849239447419,10.75358814568625,5.579890828342152,10.25437631919848,8.727296893037195,8.674164699122215,8.654266132067589,17.559192518562003,18.013714536426534,3.19846928252853,15.138023018241498,13.120210256537089,13.25959664576775,14.705757047417212,13.646956860434232,11.4493918726612,14.42216931817045,15.61832623520531,9.588827906656373,13.530472972857197,12.078871233581653,12.325619997935547,16.171122133369753,12.287442774753139,9.18184999018405,15.581479804162036,18.89011269904545,12.610509248201758,4.349945852315997,10.24488560466813,7.227081000118217,5.75185749552973,10.778581893610276,13.024889141559335,1.6624037980402562,0,5.918273781830605,11.381155590038007,13.981295548325248,13.94288510294386,10.133007988991162,2.121248558055799,0,1.9723575884446862,0,3.6330911978320097,0,10.113576400672237,10.40896817062201,0,10.454790827761203,10.174902839382536,0,3.5765172429638006,0,1.6182090693881206,0,1.7447440566893428,10.14584872592788,14.082806239138574,14.13045625770746,11.519994887021749,6.000767441228888,0,1.342626361452378,12.895630837651595,10.65092334647549,5.653708141569734,7.225975812423864,10.279236321645836,4.420118550235051,12.63436625022545,18.90372918109156,15.609480264737144,9.227081575590395,12.28784948291024,16.150819092173037,12.313925939027017,12.108909431418597,13.543631056849733,9.508949273227547,15.512028540224131,14.328925846207822,11.606027192071757,13.781481597455045,14.782072988727856,13.30651238407281,13.138829884869365,15.116653621679085,2.9554299337869274,17.91580710523786,17.470496727492755,8.753478916254254,8.814297997449522,8.777238025275853,10.263800483364781,5.636264759368252,10.794078851559046,12.174723218930296,1.4999538295923966,4.8007532181192625,9.094005719383269,5.504161448330176,0,6.91445360252918,9.53931383986776,6.812469238027456,8.104675064882583,12.402321867359854,14.575215846710353,8.894139055166587,5.41943166165391,14.702972067789473,11.856970622795508,7.31333026934427,12.322306413619625,17.448578513027048,20.310376499547864,14.862257403880673,3.6298947871426073,0,10.22551953701423,12.663942733922736,9.61832375637568,0,6.745343890336374,9.1393486211929,5.781388148243254,6.969392453063516,8.48361378533504,12.179137558366316,12.915935053266153,10.579301518169789,19.476760426918048,21.219739452820882,17.2642243065431,11.862556627260657,11.853653103061724,11.114382480645585,9.604425225673191,7.6263471783133365,10.939435292913382,13.995774524794472,9.214802148624713,13.269349891158216,17.961464275474153,18.8761951030306,17.698161852858053,12.50827264365707,6.932947620998374,11.58021263899969,13.310898121668322,9.484703064785522,9.030022395410246,7.984609496401385,4.285134891752637,5.175920875087389,0,13.47134581762161,16.757700789043493,12.272879876417079,7.605413336393965,4.436834888590431,5.3134281624631585,1.586948407695722,15.628696329790479,13.638049432844555,12.981066845845277,20.19082567242849,18.075206606619627,6.555147116491932,13.552012665837841,10.672208165568314,14.32546649410791,19.931514729626965,15.377797494051292,11.375769236373975,17.588585804754313,19.15950620196171,18.01841039563144,13.588143662169683,9.003820447085538,4.03228667394176,14.040446206569532,14.325258350511012,12.642339255005362,6.742497661212694,.7632554290740886,11.504334170814484,15.332947927875477,8.03418629947505,6.311434613265711,11.402639779964485,9.08442868708418,1.601545623919535,1.3179729309311625,11.175473098509213,12.027947817686973,9.206758553558133,1.3016492801836677,2.486550006182436,9.873629602046508,14.267461740251058,11.989494723427752,9.41420926886248,0,6.207702433978429,15.662305858152648,14.565948407450774,8.191337129018594,0,0,11.59078022260681,12.47321848095627,2.679199564616129,0,10.77357845916403,16.891122441267942,17.1738294458997,11.228060112174784,9.666473753231518,9.186067689083913,0,11.708749974182963,7.648578892756032,11.719897248816912,15.319507064767029,14.968844289851205,9.178167370766324,6.354883478391251,5.0317240483073755,7.875625082238901,2.016429963438845,0,10.81387157350129,7.390275955986494,0,0,2.473783795561967,11.283288373376966,15.494440278723957,13.529264929400577,9.9355770563046,15.074756774232712,13.328369502150904,5.5117560855136665,8.147300916502846,17.538402466378802,21.23247911794689,17.79172658927885,15.18189805300655,12.281546300058944,0,11.647743078165266,16.218227783549956,15.059530854897316,9.791646218821802,12.002311842637019,16.021067746218772,11.394436422577598,2.8364568713671985,14.060141217183588,20.80123791581557,15.77343773482499,12.726059083415214,13.584190131875445,4.713261533825819,6.033935500495772,14.02584255505931,19.162913910339118,19.09196180796629,18.83135815701536,16.263660209745257,6.366220890786104,14.713260017851788,14.321220889923108,13.119121396181448,11.41273340341992,11.490232130794169,12.058640417183204,12.939169262726953,11.333490287597444,10.857884175240345,9.538347399436034,8.87164508142129,17.33526561528871,14.797043625492982,6.303864751177793,14.008458579047376,18.281616804764848,15.714776244389387,13.536078416015936,15.43565038521385,15.085553833964894,8.816838562473114,11.57889252690025,7.243366337808657,13.049992675819164,9.562100439480858,18.8423624821782,26.026230764925945,25.063588495745275,12.088440383270365,22.598703824524417,30.335175370360073,30.507203823934503,24.31575743172064,21.091347153092375,22.192008263984746,2.6921532477189625,12.555925389688039,10.955792349554407,27.496596933783845,19.32309532965342,32.02016781504115,30.79363057915056,20.153705208595028,31.84733432313043,37.55422676155908,39.161318089373836,43.99725905548563,50.239521349711644,57.709945157232774,68.56102072874769,79.09277757582453,87.45022449812227,93.52414032558913,97.42708629345228,99.89326580207333,101.96969528883949,103.74738305478293,104.24929170393897,102.51409565496083,98.85891221948177,95.12889229516455,93.15575142612721,92.84481690448938,91.69353557099636,87.43065766212484,80.37511065919674,73.75278758416235,70.76481546499228,73.1488809356018,73.748251522107,66.19754420726265,44.67055040009078,55.14127984460118,68.00897312875901,76.50577378971266,83.19565707317221,88.37928427891767,91.64707205600125,93.1645549214913,94.15892605231977,95.2024261748412,95.18759292865255,93.90926869773944,93.20519129451228,93.58993179108286,93.54980638035424,91.17789631782823,85.47711109836708,76.39650364258733,64.77967081028163,57.60148341599023,63.457047409979346,64.77373700220063,59.30619115439834,51.77610792645369,53.27738581379225,58.31513815008083,55.809899784465536,47.29546194987288,39.36798475813622,37.358230987929666,32.900513693669474,34.58876357417883,45.52733381871206,19.30418051352355,49.14605651861594,58.39674489502643,42.985076505824125,48.58277552730088,64.72489073088832,64.53855632176429,59.46461446008204,69.79866094213094,83.06895000871368,90.10241292436534,92.58477826421021,92.52767576810614,91.77141536117016,91.36164373019474,89.97832484647684,84.45765489771985,76.25612211802503,74.77793832270372,73.00464769163953,75.33322759939438,83.40998967778759,88.52257846445491,93.09950831286169,100.23713376604933,106.91129234333648,110.54503255674483,110.84895308710479,108.88450078687669,108.24640086701157,113.88723795443882,121.95382120919903,127.38124075994413,129.01779133987984,127.06035587666086,122.20320925325537,115.93106559880616,111.18750587058453,109.71416357836468,107.8317384576405,103.07442993273,99.47570439915134,102.45913685400123,108.02480011537054,113.91292131176246,119.00504719734893,121.70543114560706,121.4717871530839,118.65353350928577,114.16181719598866,108.98992131815601,102.8145364807752,93.73710616384784,80.99522436021847,70.22074977909531,57.522235111051,46.820031202418996,63.45379796911414,62.10573859306925,62.522478315454485,60.116833586304146,39.831630797412195,71.7806367413494,74.5199217836516,60.53234686501897,52.15602168536246,76.32972481770639,92.41450363484631,102.72603832002034,109.04463777755306,113.18911196254741,116.29040798264832,118.3678616281676,119.14690593059633,119.06909211625258,118.84607224151263,118.20797609910174,116.14962898219424,112.21827699609415,107.06342747939058,101.18559829646743,92.9137702620287,78.39634865319103,62.949900114705216,69.0062502703019,65.30050053459482,46.064088050295645,27.925213019067385,49.07620602908922,55.26130242039997,48.297181557952335,29.0547768428826,60.59226990706777,61.63229498033179,37.31050251614931,56.42876438016364,71.47969431040048,85.77420915075048,95.15419246153931,101.93312177445505,106.82075655302869,109.34608956875489,111.07870777085459,113.54273215819515,115.68801133344986,115.68660528363839,113.18945966755618,109.53447768330773,106.51968978192635,104.22493771561832,101.89789204190814,99.12657145417897,99.53419272300803,105.65227830143226,108.8297392582113,105.68749484539899,100.52925035881725,104.13800355421641,106.2254843732615,101.16934758006757,91.13304937350996,87.72891307583734,98.7349633067024,107.62097112736863,112.3335144467274,114.78372232892166,115.8850378488818,116.89611504765251,119.26561324794429,121.3841409612775,122.15993185509966,121.98932645564041,121.21593174035927,118.98958046309708,112.44840636612393,103.73853807373665,117.31064469551029,129.43421370886102,136.2111032227428,139.4593666500088,140.13445296046177,138.76213759970432,135.5630320707424,130.54393168059855,123.82818837992177,116.07941747991194,108.34647026968001,101.03456677959765,95.66676904546009,97.86113189561249,100.92602617581143,103.92989096852207,109.49660407900826,112.15584663912672,110.80382908028835,108.69898621387294,106.20701462462121,101.74262759240635,98.66422744858968,98.10394110643142,97.34235283999772,97.57566565538899,100.60994855041994,107.40617250158246,114.23798647603215,118.22408238485863,118.90373163887496,116.49216867904974,111.58068216565138,104.10879697628687,90.26906232119254,73.85763572461435,91.3491361317248,89.11836156706346,68.6726434655926,79.87799282974109,60.54385059908123,84.92760936178982,96.4752001963592,94.81545038646067,106.30970359538547,114.2104747499376,111.40391612227951,97.15934129972361,112.29095612707094,126.02848842354501,133.0082159148334,136.34745581511382,137.10109773309034,135.70217756931117,132.47935526768777,127.35878828072931,119.93677584068564,112.39768481660613,109.37303827394014,107.16791080188607,101.81608101208793,92.58847469956677,83.21567458536418,86.63294719282503,101.26812860539339,114.68214557056169,122.7327563809439,125.59348797481894,123.76350402125736,118.26389009957268,116.34245948001073,123.78168323041649,129.78921427083176,131.9754194958146,131.71057816330685,129.90384904754552,126.51249016784601,122.2400326926942,119.92296598384048,122.00238053081277,125.67563725822029,127.49855890937131,126.59682802396568,122.37848723288941,114.85566139586028,114.22547302310696,121.62189039066338,127.33590647591397,131.00124646643715,131.4581964185114,127.23195927702446,117.72549862641351,109.15718761707542,117.5417232792651,125.89906325638462,128.1223527402383,124.03727447364358,115.62748592770117,114.1414572415632,120.16950335825283,124.54351889399076,125.50728589986323,122.59848279111162,117.78921780035344,117.87374702603012,121.46344538503499,123.00503642802835,122.8734071286911,125.0260325714215,130.05322831072004,133.77926904706976,133.55111737490492,127.36586241105557,115.31977487505993,120.14742685497546,132.08991772494053,140.90571592124957,145.90019036520025,146.94986939321637,145.25922677868306,143.01802540646966,142.99611495827006,145.75805912714097,148.7887275816813,150.50010621591636,151.12869154826384,151.3369874794862,151.14782222367967,149.81112513081436,146.74304447140364,142.19704817050356,137.1198908229571,131.9752019882868,125.21794163113624,113.57714712439454,97.1496708876078,101.99777402644207,108.58044026376153,113.26447168913776,112.44799022370425,96.50035067728408,110.7184240927532,124.75329634069374,126.09814773550508,116.55980886066847,92.09290392856308,112.46133923706601,125.10058260240726,133.47227546085253,139.36449484155528,142.62766498926533,143.28651934923624,141.7777189620662,138.76263185246356,135.23412709801426,133.3482677848772,133.95975448544326,134.50352636166627,132.7659707744914,127.74442217998808,118.51443047524482,105.70920689819519,111.95472089630582,123.86037400016116,130.59188784746723,133.04014714791705,131.70252224342494,128.0008127705433,127.38138224297306,129.434918343866,130.34020737337966,130.12929658046303,129.06093066996556,125.57473288368382,115.15550893518736,88.75111693106655,120.22453810765779,130.95014630155598,133.14503685689422,129.55533244102588,122.1039896651948,120.98431843230455,129.14457830522727,135.29395885539418,137.31014313066748,136.0819237857414,134.83640740952785,137.1831284757891,140.30229214517712,141.43509044999527,140.92874954055137,139.99017540878293,138.83460020229015,136.15353009056514,129.23071391558705,117.08769051494484,122.98399945459973,132.34571375732787,134.6597375927039,131.27989475331978,122.65446358116598,109.75949319385768,102.27131663760005,102.80963036664456,104.0666210406399,100.91412970054837,89.06336437380658,95.58870434298841,108.08474410886177,109.975290454292,100.66889665503349,88.96843946142424,108.35377053933227,114.07147267518978,110.93133801377837,109.40847694746347,118.86806993241346,126.52642833562173,129.76501730620384,129.27523809375847,126.67010440280367,124.2867969604617,122.46761377773747,117.95846370606961,104.04194815548871,88.40480038565197,106.82193564925728,107.60151358936267,96.42637893625684,88.65279147756746,104.27502925063335,112.6969219771717,117.9373093683718,121.406189082809,122.22759791766974,121.33894117599992,121.56481739405223,123.53842605672006,124.37982270531079,121.4664769197343,112.5421258034038,92.05572428849077,104.95013039989355,117.2150495419483,122.38464342834497,125.94120162594115,129.56872072251423,132.70817382527588,133.76983838542708,131.96684976064296,127.20200356221375,119.90507895581473,110.88228885993007,105.82567256372081,114.08568971832912,121.98872160371074,124.38192964308752,123.75101574287024,124.49157990671355,127.81856423476499,131.35653746685884,133.61619154056436,134.27054425788754,133.19274055872873,130.25785139226338,125.32131062603564,118.84529769293798,114.73094669137538,117.32300402124814,121.53943096505532,124.9379924905757,129.02643889799754,134.3253630920495,139.64910289859577,143.8496663010949,146.41329976809035,147.13649400326642,145.90790583900943,142.91983020235745,139.0408100268394,136.24004215578535,134.59953604193316,131.88611703248006,126.77824631740835,125.3372918872163,131.3391518029233,136.2994523875791,138.23949026777544,138.01618690253528,136.56384741173846,134.06648656763667,130.41631523162945,126.02312916597072,122.11888737668045,121.93072850705732,126.4549135403018,131.84271947263983,135.2216409007247,135.78574715423088,134.29650210685182,131.90021668190013,129.8594835186377,128.02810329865105,124.82896562622523,119.27804181115263,112.1618210875847,109.7606065138958,114.88031169305953,120.90516479632258,123.89634815814485,124.68805393056857,127.40506420407145,131.92568913122147,134.78655438887444,134.4848762084327,131.22808687816396,124.05101542935647,111.6680648967376,107.59959271972605,119.37875651717499,127.38222796356523,131.3818360741695,131.46362921294215,127.33447882627286,119.12981556963278,113.87365385967676,118.6459118084248,122.47968242291527,122.54191464816928,118.98660493600012,111.3390799924638,98.03459026282384,66.0661580661814,75.82987579913082,82.46862653900081,83.35442562124413,92.95836763726317,103.44710699349196,114.2263158659949,124.07664699923747,131.9837736115233,137.62243813449857,140.2867189328989,139.3177998211297,134.62922878192632,126.52050160692933,123.68212005871749,130.6692723829163,133.96735606383828,132.20629593622854,126.5367302709491,119.75248527642005,117.22061060775094,119.7137227059548,122.3623542790754,120.83475813308127,110.34310180873224,89.01927960713165,120.69558179387168,132.5104431738287,138.12673652205208,140.1080316236496,139.66190688366913,136.93978178629223,132.49447508534894,130.34818088211662,132.497424113394,134.24522201135863,133.6150381540072,131.37917928582317,129.61449782803453,128.68427532159342,128.17334706648543,128.5570699958125,129.62991707093713,130.74845529998203,134.16233629157972,140.3412106741102,145.92797999640203,149.0383053133878,149.4364893947315,148.0554258060447,146.3695241642237,145.83421067683977,146.10029858906174,145.5471045139762,143.17158774370387,138.29280912280117,129.4537010593994,111.58363981456151,92.9500761571869,118.07215437644277,127.15033919507839,131.78855357780378,135.09324290014425,137.02860179241654,137.23047459407942,136.94397279949845,137.86427558389795,140.02962568671,142.3485383990313,144.04004642976972,145.23040828356415,146.91784789675518,149.77722092433748,152.83961538279263,154.53838820199408,154.767354252018,155.10287774079123,156.66466873822475,158.52065843724156,159.60779223082642,159.8694960176258,159.69121555858095,159.09241653554025,158.03511913820253,157.40026253234646,158.2700924193581,160.33717038158198,162.69577420981906,164.56028366121572,165.02755215312504,163.283454921089,158.65569137848354,151.30289226152428,145.98183448662513,145.5672642570963,141.00160436370405,144.56602842693394,158.76317699692117,167.70472832739583,173.28440040276342,177.63272863056815,182.25384109168323,187.0496190825908,190.998692836551,193.5896629106951,195.4906998402826,197.26171132802398,198.68440631822128,199.29787388223784,200.06585544947043,202.15749478072573,204.1179813944494,203.48988916928616,198.68772392755173,187.46942834049108,167.07117359067868,172.52204017273783,183.33627056640074,189.56207222209986,194.98293881072215,199.6589895567035],$4=(e,t)=>{const a=e.studio.allLayers.byId,n=t.animations.byId;Object.entries(e.studio.keyframing||{}).forEach((([e,s])=>{var o,i,r;const l=a[e];if(!l)return;const d=null==(o=t.backgroundLayers)?void 0:o.find((({originalLayerId:e})=>e===l.id));if(null==(i=l.animation)?void 0:i.constant)for(const t of l.animation.constant){const e=n[t];if(null==e?void 0:e.keyframeChannels)return d&&(d.animation={constant:[t]}),void(e.keyframeChannels=s)}const c={animationName:"Keyframes",id:fe(12),speed:"default",isCrossTransition:!1,layerId:e,keyframeChannels:s};t.animations.byId[c.id]=c;const u=(null==(r=l.animation)?void 0:r.constant)||[],p={...l.animation,constant:[...u,c.id]};l.animation=p,d&&(d.animation={constant:[c.id]}),t.allLayers.byId[l.id].animation=p}))},Q4={AUTO:0,"480p":848,"720p":1280,"1080p":1920,"4K":3840},e6={SD:"480p",HD:"720p",FHD:"1080p"},t6=e=>e6[e]||e,a6=e=>{if(!e.hasCustomOutput||(e=>(e.duration,!0))(e)){const t=t6(e.exportResolution);return Q4[t]||Q4["4K"]}const t=e.customOutputHeight||0,a=e.customOutputWidth||0;return Math.max(a,t,Q4["4K"])},n6=e=>2*Math.ceil(Number(e)/2),s6=e=>Math.ceil(e),o6=(e,t,a)=>{let n=a;const s=Math.abs(e),o=Math.abs(t);if(!o||!s)return[s,o];let i=s,r=o;const l=o/s,d=s/o;s>=o?(i=Math.min(Math.max(s,0),s),r=l*i):(r=Math.min(Math.max(o,0),o),i=d*r),["1:1","9:16","16:9","5:4","4:5"].includes(a)||(n=`${n6(i)}:${n6(r)}`);const[c,u]=((e,t,a)=>{let n=e,s=t;if("1:1"===a){const e=Math.max(n,s);return[e,e]}const o=a.split(":").map((e=>parseInt(e))),i=o[0]??1,r=o[1]??1;return n=n6(n),s=n6(s),n/s>i/r?(n=Math.ceil(n/i)*i,s=n*r/i):n/s<i/r&&(s=Math.ceil(s/r)*r,n=s*i/r),n%2==0&&s%2==0||(n+=i,s+=r),[n,s]})(i,r,n);return i=c,r=u,r=n6(r),i=n6(i),[i,r]},i6=(e,t,a)=>{if(!e)return[-1,-1];if(!(null==e?void 0:e.height)||!(null==e?void 0:e.width))return[-1,-1];let n=1,s=1;const[o,i]=((e,t)=>{const a=1280;let n=0,s=0,o=Math.abs(e.customOutputWidth||0),i=Math.abs(e.customOutputHeight||0),r=!0;for(const l of t){if(["placeholder","shape","text","audio"].includes(l.type))continue;if(r=!1,!(null==l?void 0:l.position))return[0,0];const t=null==l?void 0:l.position;if(!t)return[0,0];for(const e of["width","height"])t[e]||(t[e]=0);const a=(null==t?void 0:t.width)||"100%",o=(null==t?void 0:t.height)||"100%",i=Number(String(o).replace("%",""))/100,d=Number(String(a).replace("%",""))/100,c=l.height||0,u=l.width||0;n=Math.max(n,c/(i||1)),s=Math.max(s,u/(d||1));const{ratio:p}=e;p&&([s,n]=o6(s,n,p))}if(0!==s&&0!==n||(n=e.height||a,s=e.width||a),e.hasCustomOutput&&o&&i)return o<i&&o<10?i=10*i/o:i<o&&i<10&&(o=10*o/i),[o,i];return r?s>n?[a,a*n/s]:[a*s/n,a]:[s,n]})(e,t);let r=o,l=i;0!==e.height&&0!==e.width||(e.width=r,e.height=l),e.height&&e.width&&(n=e.height/e.width,s=e.width/e.height);const d=((e,t)=>{const a=a6(e),n=t?Q4["4K"]:Q4["720p"];return a>n?n:a})(e,a),c=(e=>e.hasCustomOutput?0:100)(e);let{exportResolution:u}=e;u=t6(u);return["480p","720p","1080p","4K"].includes(u)?e.width>=e.height?(r=Q4[u],l=n*r):(l=Q4[u],r=s*l):e.width>=e.height?(r=Math.min(Math.max(r,c),d,Q4["1080p"]),l=n*r):(l=Math.min(Math.max(l,c),d,Q4["1080p"]),r=s*l),l=s6(l),r=s6(r),[r,l]},r6=e=>{for(const t of e){if(!["image","video"].includes(t.type))continue;const{width:e=0,height:a=0}=t;if(e<2e3||a<2e3)return!0}return!1};function l6(e,t){const a=t.position||qR(t),n=t.converted_type||t.type,s=t.objectFit||"";if("0%"!==a.width&&"0%"!==a.height){if(a.adjusted_x=(a.float_x||0)*e.adjusted_width/100,a.adjusted_y=(a.float_y||0)*e.adjusted_height/100,["placeholder","shape","text"].includes(n))return a.adjusted_height=a.pixel_height,void(a.adjusted_width=a.pixel_width);["contain","fit"].includes(s)?function(e){const t=e.position||qR(e),a=t.file_height||1,n=t.file_width||1,s=t.pixel_height||1,o=t.pixel_width||1,i=n/a;if(i<o/s){t.adjusted_height=s;const e=t.adjusted_height*i;t.adjusted_width=e,t.adjusted_x=(t.adjusted_x||0)+(o-e)/2}else{t.adjusted_width=o;const{adjusted_y:e}=t,i=t.adjusted_width*a/n;t.adjusted_height=i,t.adjusted_y=(e||0)+(s-i)/2}}(t):function(e){const t=e.position||qR(e);let a=t.file_height||1,n=t.file_width||1;e.crop&&(a=a*(e.crop.height||100)/100,n=n*(e.crop.width||100)/100);const s=t.pixel_height||1,o=t.pixel_width||1,i=n/a,r=i<o/s;t.adjusted_width=r?o:s*i,t.adjusted_height=r?o*a/n:s,t.crop_width=n*o/t.adjusted_width,t.crop_height=a*s/t.adjusted_height,t.crop_x=(n-t.crop_width)/2,t.crop_y=(a-t.crop_height)/2}(t)}}function d6(e,t){var a;const n=t.position||qR(t);if(n){for(const e of["width","height","x","y"]){const t=e;t in n&&(n[t]=null==(a=n[t])?void 0:a.toString().replace("NaN","0"))}n.float_width=parseFloat(n.width.toString().replace("%","")),n.float_height=parseFloat(n.height.toString().replace("%","")),n.float_x=parseFloat(n.x.toString().replace("%","")),n.float_y=parseFloat(n.y.toString().replace("%","")),n.pixel_width=n.float_width*e.adjusted_width*.01,n.pixel_height=n.float_height*e.adjusted_height*.01,l6(e,t)}}function c6(e,t,a,n=!0){let s=t,o=e;if(!s||!o)return{outputWidth:o,outputHeight:s};const i=s/o;o<s?o=o/s*s:s=i*o;let r=a;["1:1","9:16","16:9","5:4","4:5"].includes(a)||(r=`${o}:${s}`);const l=function(e,t,a,n=!0){if("1:1"===a){const a=Math.max(e,t);return{outputWidth:a,outputHeight:a}}const[s=1,o=1]=a.split(":").map((e=>parseInt(e,10)));let i=t,r=e;return r/t>s/o?(r=Math.ceil(r/s)*s,i=r*o/s):r/t<s/o&&(i=Math.ceil(i/o)*o,r=i*s/o),r%2==0&&i%2==0||!n||(r+=s,i+=o),{outputWidth:r,outputHeight:i}}(o,s,r,n);return o=l.outputWidth,s=l.outputHeight,{outputWidth:o,outputHeight:s}}function u6(e){return"standard"===e.quality?1280:e.hasCustomOutput&&0===e.duration&&Math.max(e.customOutputWidth,e.customOutputHeight)>1920?Math.max(e.customOutputWidth,e.customOutputHeight):1920}function p6(e){return e.hasCustomOutput?0:100}async function m6(e,t=!0,a){const n=Object.values(e.allLayers.byId);for(const d of n){const e=d.converted_type||d.type;if(["placeholder","shape","text"].includes(e))continue;if(!d.position)continue;if(!d.base64_img)continue;if(void 0!==d.width&&void 0!==d.height){d.position.file_height=d.height,d.position.file_width=d.width;continue}const t=new Promise((e=>{const t=new Image;t.onload=()=>{d.position&&(d.position.file_height=t.height,d.position.file_width=t.width),e()},t.src=String(d.base64_img)}));await UC({actionDescription:"Extracting image dimensions",timeoutMs:5e3,promise:t})}const[s,o]=i6(e,n,a);let i=1,r=1;e.height=e.height||0,e.width=e.width||0;const l=function(e,t=!0){let a=e.height||0,n=e.width||0;const s=Object.values(e.allLayers.byId);let o=!0;for(const i of s){const s=i.converted_type||i.type;if(["placeholder","shape","text"].includes(s))continue;o=!1;const r=i.position||{},l=parseFloat((r.height||"100%").toString().replace("%",""))/100,d=parseFloat((r.width||"100%").toString().replace("%",""))/100;a=Math.max(a,(r.file_height||0)/(l||1)),n=Math.max(n,(r.file_width||0)/(d||1));const{ratio:c}=e;if(c){const{outputWidth:e,outputHeight:s}=c6(n,a,c,t);n=e,a=s}}if(0!==n&&0!==a||(a=e.height||0,n=e.width||0),e.hasCustomOutput)return{adjusted_width:e.customOutputWidth,adjusted_height:e.customOutputHeight};return o?n>a?{adjusted_width:1280,adjusted_height:1280*a/n}:{adjusted_width:1280*n/a,adjusted_height:1280}:{adjusted_width:n,adjusted_height:a}}(e,t);e.adjusted_width=l.adjusted_width,e.adjusted_height=l.adjusted_height,0!==e.height&&0!==e.width||(e.width=e.adjusted_width,e.height=e.adjusted_height),e.height&&e.width&&(i=e.height/e.width,r=e.width/e.height),e.width>=e.height?(e.adjusted_width=Math.min(Math.max(e.adjusted_width,p6(e)),u6(e)),e.adjusted_height=i*e.adjusted_width):(e.adjusted_height=Math.min(Math.max(e.adjusted_height,p6(e)),u6(e)),e.adjusted_width=r*e.adjusted_height),e.adjusted_width=Math.round(e.adjusted_width),e.adjusted_height=Math.round(e.adjusted_height),e.adjusted_width=s,e.adjusted_height=o}function g6(e){if(e.position){const{width:t,height:a,x:n,y:s}=e.position,o={x:UR(n),y:UR(s),width:UR(t),height:UR(a)};return 100===o.width&&100===o.height&&0===o.x&&0===o.y}return!1}async function h6(e){const t=await S(e,{mode:"no-cors"}),a=await t.blob();if(!t.ok)throw new $v("Failed to fetch image",{extra:{url:e,res:t}});return a}async function v6(e){const t=await h6(e),a=await function(e){return new Promise(((t,a)=>{const n=new FileReader;n.readAsDataURL(e),n.onload=()=>{if(!n.result)return void a(new Error("Reader result was empty"));if("string"!=typeof n.result)return void a(new Error("Reader result was not a string"));const e=n.result;return t(e)},n.onerror=e=>a(new $v("File to base64 failed",{extra:{errorEvent:e}}))}))}(t);if(/^data:([a-z]+\/[a-z]+)?(;base64)?,$/i.test(a))throw new $v("Empty data URL",{extra:{...PC(t),str:a,url:e}});return a}const f6=[e=>!e.isHidden,e=>0!==e.size],b6=async({layer:e,processImageType:t,studioTime:a,numLayers:n})=>{var s,o;const i=pS(e,{type:"original"}),r=()=>({url:i,layer:e,asset:HC(e,Mu().state),numLayers:n}),{type:l}=e;if("image"===l){if(!i)throw new $v("Image layer does not have a url",{extra:r()});if(e.base64_img=await v6(i),!e.base64_img)throw new $v("Image layer failed to fetch",{extra:r()})}else if(np(e)){if(!i)throw new $v("Video layer does not have a url",{extra:r()});if(e.base64_img=await y6({layer:e,processImageType:t,studioTime:a,numLayers:n}),!e.base64_img)throw new $v("Video layer failed to fetch",{extra:r()})}else"text"===e.type&&e.fontFamily&&await x0({fontToLoad:e}).catch((t=>{console.error(e),console.error("Failed to load font",t)}));return!e.mime&&(null==(o=null==(s=null==e?void 0:e.base64_img)?void 0:s.includes)?void 0:o.call(s,"image/svg+xml"))&&(e.mime="image/svg+xml"),null},y6=async({layer:e,numLayers:t,processImageType:a,studioTime:n})=>{const{state:s}=Mu(),o=jR(s,e.id)||{},{removeBgPreviewUrl:i}=o;if((e.removeBg||e.blurBg)&&i)return v6(i);const r=[ex.Thumbnail,ex.YouTubeThumbnail,ex.RepurposeBlueprint].includes(a);return await Wx((async t=>{const{video:a}=t;await $T(a,n);const s=document.createElement("canvas"),o=s.getContext("2d");if(!o)throw new Error("Could not get context of canvas");return s.width=e.width??a.videoWidth,s.height=e.height??a.videoHeight,s.width&&s.height?(o.drawImage(a,0,0,s.width,s.height),await E5(s,"image/jpeg")):fd}),{source:{layer:e},streamOptions:{type:r?"preview":"original"},maxQueueWaitTime:3e4,maxRuntime:15e3,priority:0,sentryInfo:{extra:{layer:e,numLayers:t},tags:{processImageType:a},level:"thumbnail"===a?"warning":void 0},actionDescription:"drawFrameToCanvas"})},w6=e=>{e.sourceVideo&&e.sourceVideo.base64_img&&delete e.sourceVideo.base64_img;for(const t of Object.values(e.allLayers.byId))t&&t.base64_img&&delete t.base64_img};const _6=async(e,t=ex.None,a)=>{const n=c.cloneDeep(e);try{x({message:`Process image (${t})`});let e=Object.values(n.allLayers.byId);const s=i5(n),{dispatch:o}=Mu(),i=a??dY(),r=mL(s);null==r||r.forEach((t=>{const{commonProperties:a,partialLayers:n}=t,s=n.map((e=>({...a,...e}))).filter((e=>void 0===e.startTime||void 0===e.endTime||e.startTime<=i&&e.endTime>i));e.push(...s)})),e=e.flatMap((e=>{if(up(e)){const t=Fe(Np(e)),a=Fe(jp(e));return a.id=e.id,[t,a]}return[e]})),e.sort(((e,t)=>Tp(e.depth,t.depth)));const{imageType:l,canvasBlur:d}=n;e&&(e=e.filter((e=>{const t=f6.every((t=>t(e)));return t||delete n.allLayers.byId[e.id],t}))),n.allLayers.byId=e.reduce(((e,t)=>(e[t.id]=t,e)),{});const c=hg(Fd.HIGH_QUALITY);t===ex.ImageExport&&o(xz(c?"high":"standard"));const u=PO(s);let p;if(d){const e=v4(Object.values(n.allLayers.byId));if(e.length>0){let t=e[0];e.forEach((e=>{i>=e.startTime&&i<=e.endTime&&(t=e)})),(null==t?void 0:t.layer)&&(p=[{...null==t?void 0:t.layer}])}}const m={backgroundLayers:p,magicSubtitleExportInfo:u,tetheredWaveformExportInfo:r};if(m.magicSubtitleExportInfo){const{animations:t,magicSubtitlesOnExport:a}=m.magicSubtitleExportInfo;n.animations.byId={...n.animations.byId,...t.byId};const s=Object.values(a).flat().filter((e=>e.startTime<=i&&e.endTime>i));e.push(...s)}m.backgroundLayers&&(e=[...m.backgroundLayers,...e]),n.animations&&$4(s,n),await(async({layers:e,processImageType:t,frameTime:a})=>{const n=[];for(const i of e)uJ(i,a)?n.push(i):i.base64_img=fd;const s=n.length,o=[];for(const i of n)o.push(b6({layer:i,processImageType:t,studioTime:a,numLayers:s}));return await Promise.all(o),Promise.resolve()})({layers:e,processImageType:t,frameTime:i}),await m6(n,!1,c),function(e){const t=Object.values(e.allLayers.byId)[0];t&&!t.position&&(t.position={x:"0%",y:"0%",width:"100%",height:"100%",file_height:e.height,file_width:e.width,rotation:0})}(n);for(const t of e)d6(n,t);n.watermark&&(n.watermark_img=await v6("https://cdn-useast1.kapwing.com/static/watermark.png"));const{alignWatermark:h,videoType:v,watermark:f,watermark_img:b,animations:y}=n;let w=H4();"webp"!==l||S_()||(w="webp");const{adjusted_height:_,adjusted_width:C,background:S,duration:I,height:A,maxFramerate:k,width:T}=n;(e=>{for(const t of e)t.isAudiogram&&("wave"===t.waveformStyle?t.fft_data=[J4]:t.fft_data=[q4])})(e);const E={adjusted_height:_,adjusted_width:C,alignWatermark:h,animations:y,frameExt:w,maxFramerate:k,sceneBackground:S,sceneDuration:I,sceneHeight:A,sceneWidth:T,videoType:v,watermark_img:b,watermark:f},L={videoArgs:E,frame:0,finalImageDataUrl:null,currentLayers:e,lastBatch:!0,div:"canvas-scratchpad",numThreads:6,eyedropperMode:!1,studioTime:i};let j,R;const N=e=>{x({message:"Canvas has been tainted",data:e})};if(t===ex.EyedropperMode){L.eyedropperMode=!0,R=await L5({videoArgs:L.videoArgs,frame:L.frame,finalImageDataUrl:L.finalImageDataUrl,currentLayers:L.currentLayers,div:L.div,numThreads:L.numThreads,eyedropperMode:L.eyedropperMode,studioTime:L.studioTime,supportsSVGBlur:E_,reportTaintedCanvas:N});const e=`image/${L.videoArgs.frameExt||"png"}`;j=await E5(R,e)}else if(t===ex.ImageExport){L.eyedropperMode=!0,R=await L5({videoArgs:L.videoArgs,frame:L.frame,finalImageDataUrl:L.finalImageDataUrl,currentLayers:L.currentLayers,div:L.div,numThreads:L.numThreads,eyedropperMode:L.eyedropperMode,studioTime:L.studioTime,supportsSVGBlur:E_,reportTaintedCanvas:N});const e=`image/${L.videoArgs.frameExt||"png"}`;j=await E5(R,e)}else if(t===ex.Thumbnail||t===ex.YouTubeThumbnail){L.eyedropperMode=!0,R=await L5({videoArgs:L.videoArgs,frame:L.frame,finalImageDataUrl:L.finalImageDataUrl,currentLayers:L.currentLayers,div:L.div,numThreads:L.numThreads,eyedropperMode:L.eyedropperMode,studioTime:L.studioTime,supportsSVGBlur:E_,reportTaintedCanvas:N}),t===ex.Thumbnail&&((e,t)=>{const a=document.createElement("canvas"),n=a.getContext("2d");if(!n)throw new Error("Could not get context of temp canvas");const s=t/Math.max(e.width,e.height),o=e.width,i=e.height;a.width=o,a.height=i,n.drawImage(e,0,0),e.width*=s,e.height*=s;const r=e.getContext("2d");if(!r)throw new Error("Could not get context of canvas");r.drawImage(a,0,0,o,i,0,0,o*s,i*s)})(R,300),t===ex.YouTubeThumbnail&&((e,t)=>{const a=document.createElement("canvas"),n=a.getContext("2d");if(!n)throw new Error("Could not get context of temp canvas");const s=Math.min(t.width/e.width,t.height/e.height),o=e.width,i=e.height;a.width=o,a.height=i,n.drawImage(e,0,0),e.width*=s,e.height*=s;const r=e.getContext("2d");if(!r)throw new Error("Could not get context of canvas");r.drawImage(a,0,0,o,i,0,0,o*s,i*s)})(R,Z4);const e=`image/${L.videoArgs.frameExt||"png"}`;j=await E5(R,e)}else{R=await L5({videoArgs:L.videoArgs,frame:L.frame,finalImageDataUrl:L.finalImageDataUrl,currentLayers:L.currentLayers,div:L.div,numThreads:L.numThreads,eyedropperMode:L.eyedropperMode,studioTime:L.studioTime,supportsSVGBlur:E_,reportTaintedCanvas:N});const e=`image/${E.frameExt||"png"}`;j=await E5(R,e)}w6(n);return{fileInfo:{id:g(),source:"local",name:t===ex.Thumbnail||t===ex.YouTubeThumbnail?`video_image.${w}`:`${(n.name||"Untitled Export").substring(0,50)}.${w}`,local_url:j},dataUrl:j,canvas:R}}catch(s){console.error(s),w6(n);const{message:e}=ub(s);throw"Attempt to draw background removed video when no preview is calculated"!==e&&console.error("An error occurred when processing the client side image.",s),s}};function C6(e){return{type:"SET_CURRENT_TEMPLATE",currentTemplate:e}}function S6(e){return{type:"SET_TEMPLATES",templates:e}}function x6(e){return Kf("/api/v1/templates/getTemplate",{params:{slug:e}}).then((e=>{const{dispatch:t}=Mu();return t(C6(e)),e}))}function I6(e){return Kf("/api/v1/templates/getTemplateFromId",{params:{_id:e}}).then((e=>e))}let A6=Date.now();async function k6(e={},t){A6=Date.now(),t&&(e.pattern={key:t.key,value:t.value});return Kf("/api/v1/templates/getTemplates",{params:{args:JSON.stringify({...e,timeOfRequest:A6}),parseJson:!0}}).then((e=>{const{dispatch:t}=Mu();e.timeOfRequest===A6&&t(S6(e.templates))}))}async function T6(e,t,a=60){const{dispatch:n}=Mu(),s={body:{searchTerm:e,lastTemplateId:t,limit:a}},o=await Xf("/api/v2/templates/paginated",s);o.templates.length&&n({type:"APPEND_TEMPLATES",templates:o.templates})}async function E6(e,t){const a=await Promise.all(e.map((async e=>{if("Trending Now"===e)return await Kf("/api/v1/templates/getNewestNonMemeTemplates/1");const a={searchTerm:e};t&&(a.pattern={key:t.key,value:t.value});const n={params:{args:JSON.stringify(a)}};return(await Kf("/api/v1/templates/getTemplates",n)).templates}))),n=new Map;return e.forEach(((e,t)=>{const s=a[t];s&&n.set(e,s)})),n}function L6(e=1){return Kf(`/api/v1/templates/getNewestTemplates/${e}`).then((e=>{const{dispatch:t}=Mu();return t(S6(e)),e}))}function j6(e){const{currentUser:t}=Mu().state,{token:a,user:n}=t||{},{_id:s}=n||{};return Xf("/api/v1/templates/createTemplate",{body:e,params:{token:a,userId:s}})}function R6(e){const{currentUser:t}=Mu().state,{token:a,user:n}=t||{},{_id:s}=n||{};return Xf("/api/v1/templates/updateTemplate",{body:e,params:{token:a,userId:s}})}function N6(e){const{currentUser:t}=Mu().state,{token:a,user:n}=t||{},{_id:s}=n||{};return Yf("/api/v1/templates/deleteTemplate",{body:e,params:{token:a,userId:s}})}function M6(e){return{type:"SET_TEMPLATE_SOURCE",source:e}}const P6=["createdAt","lastSaved","lastSeen","submittedAt","startedAt","finishedAt"];function F6(e,t={}){const{convertToDates:a=!1,videoProperties:n={}}=t,s=pA(e.projectVersion);let o;if(o=0===s[0]&&s[1]<15?function(e,t={}){if(e.layers)return e;const a={...t,scenes:[]};for(const n in e)n.startsWith("scene_")||n.startsWith("layer_")||["scenes","layers"].includes(n)||"lastUpdatedByPOST"!==n&&(a[n]=e[n]);return"scenes"in e&&(a.scenes=e.scenes.map((t=>{const a=[...new Set(e[`scene_${t}_layers`]||[])];return{...e[`scene_${t}`],layers:a.filter((t=>null!=e[`layer_${t}`])).map((t=>e[`layer_${t}`]))}}))),_.cloneDeep(a)}(e,n):function(e,t={}){if(e.layers)return e;const a={...t};for(const n in e)"lastUpdatedByPOST"!==n&&(a[n]=e[n]);return _.cloneDeep(a)}(e,n),a)for(const i of P6)if(i in o){const e=o[i];e&&(o[i]=new Date(e))}return o}function D6(e){return e?Kf(`/api/v1/workspaces/${e}`):null}const O6=e=>{const{state:t}=Mu(),{workspaces:{allWorkspaces:a}}=t;return a.find((t=>t._id===e))};async function U6(){const{dispatch:e}=Mu(),t=Jg();if(t)if(["gmail.com","hotmail.com","yahoo.com"].includes(t))e(bf({teams:[],isQualifiedDomain:!1}));else try{const t=await Xf("/api/v2/teams/suggested");t&&e(bf(t))}catch(b9e){console.error(b9e,"There was an error while fetching suggested workspaces.")}}class B6{constructor(){a(this,"first",!0),a(this,"amIFirst",(()=>!!this.first&&(this.first=!1,!0)))}}function W6(){return{type:"KAPWING_INIT"}}function V6(e){return{type:"SET_CURRENT_VIDEO",video:e}}function H6(e){return{type:"UPDATE_CURRENT_VIDEO",videoUpdates:e}}function z6(e){return{type:e?"SET_VIDEO_SAVING":"CLEAR_VIDEO_SAVING"}}function G6(){return{type:"RESET_CURRENT_VIDEO"}}async function Y6(e){try{return(await Kf("/api/v1/folders",{params:e})).teamFolders}catch(b9e){return console.error(b9e),[]}}async function K6(e){return(await Kf("/api/v1/folders",{params:e})).sharedFolders}async function X6(e="",t=!1){var a;const{dispatch:n,state:s}=Mu(),{currentUser:o,teams:i,workspaces:r}=s,{allTeams:l,selectedTeamId:d}=i,{allWorkspaces:c,lastValidWorkspaceInfo:u}=r,{token:p,user:m}=o||{};let g=d,h=e;if(t)g=t;else if(e===rd)n(df(rd));else if(e&&await sP(e,l,c)){g=d;let t=O6(e)||null;t||(t=await D6(e),t&&(g=t.teamId)),(null==t?void 0:t.type)===Zl.personal&&(null==t?void 0:t.creatorId)!==m._id&&(h="",g=d)}else u?(g=u.teamId,h=u.folderId):(g=(d||(null==(a=l[0])?void 0:a._id))??"",h="");"personal"===g&&(g="");const v={token:p,teamId:g},[f,b]=await Promise.all([Y6(v),K6(v)]);if(h!==rd&&f.length>0){const e=[...f,...b];if(n(lf(e)),!h&&f[0]){const e=F3(g||f[0].teamId);return n(fb(g||f[0].teamId)),n(df(e)),e}n(df(h));const t=O6(h);return t&&n(fb(t.teamId)),h}const y=[...f||[],...b];if(n(lf(y)),!h){const e=P3();return n(df(e)),e}return h}function Z6(e){const{token:t,user:a}=Mu().state.currentUser||{};return Xf(`/api/v1/admin/${e}/operations`,{params:{token:t,userId:a&&a._id}})}function q6(e){return{id:e.id,type:e.type}}function J6(e,t,a,n){try{if(!(e._id&&t._id&&String(e._id)===String(t._id)))return;const s=Object.values(e.allLayers.byId),o=Object.values(t.allLayers.byId),i=s.length,r=o.length,d=r-i;0!==i&&i!==r&&Math.abs(d)>=n&&(l(new Error("Potential mongodb/sharedb conflict"),{extra:{currentLayerLen:i,newLayerLen:r,currentLayers:JSON.stringify(s.map(q6)),newLayers:JSON.stringify(o.map(q6)),currentVideo:e,newVideo:t,source:a},tags:{overwriteSource:a}}),ov("Potential lost work",{currentLayerLen:i,newLayerLen:r,diff:d,overwriteSource:a}))}catch(s){console.error(s),l(s)}}function $6({video:e,source:t,dispatch:a,preserveId:n,preserveStudioTime:s=!1,sync:o=!1,isFirstVideoLoad:i,undoable:r=!1}){const{state:l}=Mu();return a(eb({video:e,source:t,preserveId:n,preserveStudioTime:s,sync:o,origin:l.studio.origin,undoable:r,isFirstVideoLoad:i})),n||(delete e._id,e.studio&&delete e.studio._id),a(V6(e)),i&&function(e){const{dispatch:t,state:{mediaCache:a}}=Mu(),n=[],s=[];Object.values(e.allLayers.byId).every((e=>{if(!e.asset_id)return!0;if(a.assetIdToMediaCacheId[e.asset_id])return!0;const t=g();return n.push({assetId:e.asset_id,mediaCacheId:t}),e.uploadId&&s.push({uploadId:e.uploadId,mediaCacheId:t}),!0})),t(Op(n)),t(Bp(s))}(e),e}async function Q6(e){return(await Kf(`/api/v1/videoname/${e}`)).name}async function e9({id:e,preserveId:t=!1,preservePreviousId:a=!1,forEditing:n=!1,fetchDraft:s=!1,forDebugPage:o=!1,forTemplate:i=!1,undoable:r=!1,sync:l=!1,fromBrandTemplate:d="",projectIsBrandTemplate:c=!1}){const{dispatch:u}=Mu(),p=await t9({dispatch:u,id:e,forDebugPage:o,restoreAndReturnAssets:n,forTemplate:i,fetchDraft:s,forEditing:n});if(!p)throw new Error("Video object undefined while fetching video");d&&(p.isBrandKitTemplate=null,p.fromBrandKitTemplate=d),c&&(p.isBrandKitTemplate="published");return n9({dispatch:u,video:p,fetchDraft:s,forTemplate:i,preserveId:t,preservePreviousId:a,sync:l,firstTracker:new B6,undoable:r})}async function t9({dispatch:e,id:t,forDebugPage:a,restoreAndReturnAssets:n,forEditing:s,forTemplate:o,fetchDraft:i,cancellationSource:r}){const{state:l}=Mu(),{token:d,user:c}=l.currentUser||{},u={restoreAndReturnAssets:n,editing:s,fetchCMLFiles:!0,fetchDraft:i,id:t,supportedVersion:"0.18",token:d,userId:c&&c._id};o&&(u.forTemplate=!0),a&&(u.forDebugPage=!0);const{assets:p,assetTranscriptions:m,cmlFiles:g,video:h}=await Kf("/api/v1/videos/getVideo_v2",{params:u,retries:3,shouldRetry:e=>!(e instanceof Hf&&404===e.status)});if(r&&r.cancelled)return null;if(h.creatorId&&!h.creatorEmail&&d){const e={id:h.creatorId};try{const{user:t}=await Kf("/api/v1/users/getUserById",{params:e});h.creatorEmail=t.email}catch(v){console.error("Could not get user by id",v)}}if(p&&e(YE(p)),g&&e(VH(g)),m){const t=[];for(const e of m)"asset_transcription"===e.type?t.push({assetId:e.assetId,languageKey:e.languageKey,status:{assetTranscriptionId:e.assetTranscription._id,state:"completed",languageKey:e.languageKey,words:e.assetTranscription.words,job_params:e.assetTranscription.job_params,translationId:e.assetTranscription.translation_id,created_at:e.assetTranscription.created_at,isLanguageAutoDetected:e.assetTranscription.is_language_auto_detected}}):t.push({assetId:e.assetId,languageKey:e.languageKey,status:{assetDuration:e.assetDuration,assetId:e.assetId,transcriptionId:e.transcriptionJob._id,progress:e.transcriptionJob.progress,languageKey:e.languageKey,state:"pending"}});e(DE(t))}return h}async function a9(e,t){if(e)try{const a=await Kf(`/api/v1/videos/${e}/comments`);a&&t(gG(a))}catch(b9e){cb({description:"Failed to load comments",error:b9e})}t(fG(!1))}function n9({dispatch:e,video:t,fetchDraft:a,forTemplate:n,preserveId:s,preservePreviousId:o,sync:i=!1,firstTracker:r,undoable:l}){var d,c,u,p;const{state:m}=Mu();if(o&&(t._id=m.studio._id,t.projectId=m.studio.projectId),a){const a=F6(t,{videoProperties:{_id:t._id}});return n||J6(m.studio,a,"Get Video Sync",1),$6({video:a,source:"getVideoSharedDoc",dispatch:e,preserveId:s||o,sync:i,isFirstVideoLoad:r.amIFirst(),undoable:l})}return n?(t.workspaceId=m.workspaces.selectedWorkspace,t.creatorId=null==(c=null==(d=m.currentUser)?void 0:d.user)?void 0:c._id,t.creatorEmail=null==(p=null==(u=m.currentUser)?void 0:u.user)?void 0:p.email,t.teamId=m.teams.selectedTeamId,t.readonly=!1):J6(m.studio,t,"Get Video No Sync",1),$6({video:t,source:"getVideo",dispatch:e,preserveId:s||o,sync:i,isFirstVideoLoad:r.amIFirst(),undoable:l})}const s9=()=>performance.now()/1e3;let o9=null;const i9=e=>{if(!o9)return;const t=s9(),{assetIdToMediaCacheId:a}=Mu().state.mediaCache;Object.entries(e).forEach((([e,n])=>{if(!e.startsWith("layer_"))return;const s=n;if(!s.asset_id||!Fm(s))return;const o=a[s.asset_id];o&&(o9.assetsInProject[o]={source:"remote re-edit",assetId:s.asset_id,timeAdded:t,assetLoadInfo:{}})}))},r9=(e,t)=>{if(!o9)return;let a=o9.assetsInProject[e];if(!a){const t=Mu().state.mediaCache.mediaCacheIdToAssetId[e];if(!t)return;a={assetId:t,source:"unknown",timeAdded:"unknown",assetLoadInfo:{}},o9.assetsInProject[e]=a}a.assetLoadInfo[t]={fetchStartTime:s9()}},l9=(e,t)=>{if(!o9)return;const a=o9.assetsInProject[e];(null==a?void 0:a.assetLoadInfo[t])&&(a.assetLoadInfo[t].fetchCompleteTime=s9())},d9=(e,t)=>{if(!o9)return;const a=o9.assetsInProject[e];(null==a?void 0:a.assetLoadInfo[t])&&(a.assetLoadInfo[t].downloadIntoIDBTime=s9())},c9=({mediaCacheId:e,assetId:t,uploadId:a,source:n})=>{if(!o9)return;const{mediaCache:s}=Mu().state;let o;if(e?o=e:t?o=s.assetIdToMediaCacheId[t]:a&&(o=s.uploadIdToMediaCacheId[a]),!o)return void console.error("Asset mediaCacheId could not not found for asset with",a?`uploadId: ${a}`:`assetId: ${t}`);if(o9.assetsInProject[o])return;const i=t||s.mediaCacheIdToAssetId[o];i||a?o9.assetsInProject[o]={assetId:i,source:n,timeAdded:s9(),assetLoadInfo:{}}:console.error("Asset id could not be found for mediaCacheId",o)},u9=({mediaCacheId:e,assetQuality:t,method:a,fileMetadata:n})=>{var s;if(!o9)return;let o=null==(s=null==o9?void 0:o9.assetsInProject)?void 0:s[e];const i=(null==o?void 0:o.assetId)||Mu().state.mediaCache.mediaCacheIdToAssetId[e];o||(o={assetId:i,timeAdded:"unknown",source:"unknown",assetLoadInfo:{}},o9.assetsInProject[e]=o),o.assetLoadInfo[t]||(o.assetLoadInfo[t]={assetMetadata:n}),o.assetLoadInfo[t].assetMetadata||(o.assetLoadInfo[t].assetMetadata=n),o.assetLoadInfo[t].currentWaveformGenerationAttempt={method:a,timeStarted:s9()}},p9=(e,t)=>{var a;if(!o9)return;const n=null==(a=o9.assetsInProject[e])?void 0:a.assetLoadInfo[t];if(!n)return void console.error(`Asset of quality ${t} not found for mediaCacheId ${e}`);const{currentWaveformGenerationAttempt:s,waveformGenerationLogs:o}=n;if(!s)return void console.error(`Ongoing waveform generation attempt not initialized for ${t} asset of mediaCacheId ${e}`);const i=s9();n.waveformGenerationLogs={...o||{},SUCCESS:{success:!0,time:i-s.timeStarted,method:s.method,timeAtCompletion:i}},n.currentWaveformGenerationAttempt=void 0},m9=b.memo((()=>(i.useEffect((()=>(o9={assetsInProject:{}},function(){if(!o9)return;const{assetsInProject:e}=o9;Object.values(e).forEach((e=>{const{assetId:t,assetLoadInfo:a,firstWaveformDrawnTime:n,timeAdded:s,source:o}=e,i={assetSource:o};if(n&&"number"==typeof s&&(i.timeToFirstWaveformDraw=n-s),t&&(i.assetId=t),!a)return;const r=Object.entries(a);let l=r.find((([e,t])=>!!t.currentWaveformGenerationAttempt||!!t.waveformGenerationLogs));if(!l&&r.length&&(l=r[0]),!l)return;const[d,c]=l;i.loggedAssetQuality=d;const{waveformGenerationLogs:u,currentWaveformGenerationAttempt:p,assetMetadata:m,fetchStartTime:g,fetchCompleteTime:h,downloadIntoIDBTime:v}=c;m&&(i.fileType=m.type,i.fileSize=m.size,i.duration=m.duration),"number"==typeof s&&g&&(i.timeToFetchStart=g-s),g&&h&&(i.timeToFetchComplete=h-g),h&&v&&(i.timeToDownloadIntoIDB=v-h);const f=null==u?void 0:u.SUCCESS;f&&f.success&&(i.waveformGenerationSuccess=!0,i.waveformGenerationSuccessMethod=f.method,i.waveformGenerationTime=f.time,"number"==typeof s&&(i.totalTimeToWaveformGeneration=f.timeAtCompletion-s));const b=Object.entries(u||{}).filter((([e,t])=>!t.success)).sort((([e],[t])=>e.localeCompare(t)));if(1===b.length){i.waveformGenerationError=!0;const[e,t]=b[0];i.waveformGenerationErrorMsgs=e,!1===t.success&&(i.waveformGenerationErrorMethods=t.method,i.waveformGenerationErrorAvgTimes=t.avgTime)}else b.length>1&&(i.waveformGenerationError=!0,i.waveformGenerationErrorMsgs=b.map((([e])=>e)).join(", "),i.waveformGenerationErrorMethods=b.map((([e,t])=>t.method)).join(", "),i.waveformGenerationErrorAvgTimes=b.map((([e,t])=>String(t.avgTime))).join(", "));p&&!u?(i.waveformGenerationPending=!0,i.waveformGenerationPendingMethod=p.method,i.waveformGenerationPendingRunTime=s9()-p.timeStarted):p||u||(i.waveformGenerationNotAttempted=!0),ov("Asset Waveform Generation",i)}))})),[]),null))),g9=(e,t)=>({type:"LINK_CML_FILE_TO_PROJECT",assetId:e.asset_id,cmlFileId:e._id,videoId:t}),h9=(e,t)=>({type:"UNLINK_CML_FILE_FROM_PROJECT",cmlFileId:e,videoId:t}),v9={},f9=m({initialState:v9,name:"uploadStatuses",reducers:{addUploadStatus:(e,t)=>{e[t.payload.id]||(e[t.payload.id]={id:t.payload.id,beganAt:performance.now(),beganAtTimestamp:Date.now(),fileName:t.payload.fileName,stage:KS.unstarted,stageStarted:performance.now(),retryInfo:{offlineRetries:0,otherRetries:0,retries:0}})},deleteUploadStatus:(e,t)=>{delete e[t.payload.id]},updateUploadStatus:(e,t)=>{var a,n;const s=e[t.payload.id];if(s)if(100===(null==(a=t.payload.updates.conversionProgress)?void 0:a.uploading_converted))delete e[t.payload.id];else{const a="stage"in t.payload.updates&&t.payload.updates.stage!==(null==(n=e[t.payload.id])?void 0:n.stage)?{stageStarted:performance.now()}:{},o={...s,...t.payload.updates,...a};e[t.payload.id]=o}},reset:()=>v9}}),b9=f9.actions;function y9(e,t=Mu().state.mediaCache){const{mediaCacheIdToAssetId:a}=t,n=a[e];return n?w9(n):null}function w9(e){const{state:{assets:t}}=Mu();return t.byId[e]}function _9(e,t,a){const{dispatch:n,state:{mediaCache:{uploadIdToMediaCacheId:s},studio:{_id:o,thisProjectCMLFiles:i}}}=Mu();r.batch((()=>{if(n(YE([e])),t&&(n(VH([t])),t.teamId?n(Ib((e=>({...e,cmlIds:[...e.cmlIds,t._id]})))):(n(WH([t._id])),(null==i?void 0:i[t._id])||n(g9(t,o))),t.duplicate&&n(YH({id:t._id,modified:new Date(t.modified)})),a&&n(HH({cmlFileId:t._id,uploadId:a}))),a){const t=s[a];t&&n(Dp({assetId:e._id,mediaCacheId:t}))}}))}async function C9(e,t){if(!e.length)return{conversionAndUploadPromise:Promise.resolve(),uploadIds:[]};const{dispatch:a}=Mu(),{uploadOptions:{multiRowUploadForRecording:n}}=t;let s=Array.from(e).sort(((e,t)=>e.lastModified-t.lastModified));n&&(s=s.sort(((e,t)=>"screen"===e.recordType?-1:1)));const o=new je(8);s.length>1&&ov("Multi Upload",{"Number of files":s.length,"Total file size (MB)":s.reduce(((e,t)=>e+t.size/1e6),0)});const i=(await Promise.all(s.map(((e,a)=>o.runExclusive((()=>async function(e,t,a){var n,s,o,i,r,l;const{dispatch:d,state:c}=Mu();let u,p,m,g=e;const h=S9(t,a),{uploadOptions:{dragUpload:v,isMediaLibraryUpload:f,uploadLocation:b,doDuplicateHandling:y,convertToAudio:w,isThumbnail:_,analyticsUploadSource:C,usedProFeatures:S},validationOptions:x,uploadId:I}=h,A=e.name.split(".").pop()||"";["jfif","jif","jfi"].includes(A)&&"image/jpeg"===e.type&&(g=e=new File([e],e.name.replace(/\.jfif|\.jif|\.jfi/g,".jpeg"),{type:e.type,lastModified:e.lastModified}));_||(ov("Upload Started",{"File Type":e.type,"Size (MB)":e.size/1e6,"Upload Location":C}),f||h.uploadOptions.skipAddTimelineLayer||rv((null==(s=null==(n=e.type)?void 0:n.split("/"))?void 0:s[0])??"unknown",C));const k=((e,t)=>{const{audiogramUpload:a=!1,audioUpload:n=!1,disallowImages:s=!1,disallowGif:o=!1,disallowVideo:i=!1,fontUpload:r=!1}=t,l=iI(e);if(!l)return"Your upload has an invalid type. Please choose a video or image to upload, and make sure your file has a correct extension.";if((e.size??0)>6442450944)return"Your file is over 6GB and cannot be uploaded.";if(0===e.size)return`Your upload has an invalid size of ${e.size} bytes. Please choose a valid file to upload.`;if(o&&"image/gif"===l)return"Removing background from gifs is currently not supported. We support .jpg, .png, .mp4, .mov, .webm, avi, flv, wmv, mkv, .ogg, and .mpeg formats for this feature.";if(i&&!a&&!QC(l))return"You must choose an image to use this feature. Currently we support .jpg, .png, and .gif formats.";if(!tS(l)&&!nS(l)&&n)return"Your file format is not currently supported. Currently we only support .mp3, wav, .mp4, .mov, avi, flv, wmv, mkv, .webm, .ogg, .mpeg formats.";if(!tS(l)&&!nS(l)&&s){const e=eS.map((e=>rI[e])),t=aS.map((e=>rI[e])),a=Array.from(new Set(e)),n=Array.from(new Set(t));return`You must choose video/audio to use this feature. Currently we support\n      ${a.join(", ")} for videos.\n      ${n.join(", ")} for audio.`}if(!(QC(l)||tS(l)||nS(l)||r)){const e=$C.map((e=>rI[e])),t=eS.map((e=>rI[e])),a=aS.map((e=>rI[e])),n=Array.from(new Set(e)),s=Array.from(new Set(t)),o=Array.from(new Set(a));return`Your file format is not currently supported. Currently we only support \n      ${n.join(", ")} for images. \n      ${s.join(", ")} for videos.\n      ${o.join(", ")} for audio.`}return!r||l.endsWith("ttf")||l.endsWith("otf")?null:"Upload failed. Please upload a font with valid file types."})(e,x);if(k)return d(db({description:k,type:"error"})),ov("Upload Rejected",{Origin:b,Message:k,FileType:e.type,"File Size (MB)":e.size/1e6}),null==(i=null==(o=t.eventHandlers)?void 0:o.handleError)||i.call(o),N9(h),{};if(x.fontUpload){const t={...L4(),uploadId:I,type:Nc.Image,source:"upload",name:e.name};T9(h,e,t)}else try{if(u=await j4(e,{uploadId:I,uploadLocation:v?"dragUpload":b,isMediaLibraryUpload:f,usedProFeatures:S},{addAtSeeker:t.uploadOptions.addAtSeeker}),h.timelineRowForAllLayers&&(u.timelineRow=h.timelineRowForAllLayers),w&&u.type!==Nc.Image&&!u.hasAudio)throw u=void 0,new $v("Please upload a file with Audio",{skipSentry:!0});g=await P9(h,e,u);let a=2*zl;__()?a=.5*zl:"Android"===f_.os.name&&(a=1*zl);const n=e.size<a;if(y&&n&&(null==(r=null==crypto?void 0:crypto.subtle)?void 0:r.digest)){const t=H9(e),a=await t.arrayBuffer(),n=await crypto.subtle.digest("SHA-256",a);if(p=z9(n),p){const e=c.CMLFiles.byId;for(const t of c.CMLFiles.myMediaIds){const a=e[t];(null==a?void 0:a.hash)&&0===Buffer.compare(p,new Uint8Array(a.hash.data))&&(m=a)}}}if(await SI(g,u)){u.requireConversion=!0;const e=Hp(u),{state:t,dispatch:a}=Mu(),{localAssetInfo:n}=t.assets,s=e?null==(l=n[e])?void 0:l.local_url:void 0;e&&s&&(URL.revokeObjectURL(s),a(XE({[e]:{local_url:void 0}})))}}catch(T){const{message:t}=ub(T);cb({description:"Upload Failed",error:T}),ov("Upload Fails",{FailStage:"Process File and Create Layer",Origin:b,Message:t,FileType:e.type,"File Size (MB)":e.size/1e6}),N9(h)}return{file:g,layer:u,bundle:h,hash:p,cmlDuplicate:m}}(e,t,a))))))).filter((({layer:e})=>e));if(!i.length)return{conversionAndUploadPromise:Promise.resolve(),uploadIds:[]};t.uploadOptions.skipAddTimelineLayer||a(vj(!0)),n||t.uploadOptions.skipAddTimelineLayer||W9(i);const r=async function(e){const{dispatch:t,state:{mediaCache:{assetIdToMediaCacheId:a},studio:{_id:n},studioLocal:{localProjectId:s},uploadStatuses:o}}=Mu(),i=[];await Promise.all(e.map((async({file:e,layer:r,bundle:l,hash:d,cmlDuplicate:c})=>{if(!r)return;const{omitFromIDB:u,fontUpload:p,originalAssetId:m}=l.uploadOptions;let h;if(u||!r.uploadId||p||(h=g(),t(Up({mediaCacheId:h,uploadId:r.uploadId})),t(XE({[h]:{local_url:URL.createObjectURL(e)}}))),c&&!Pu.forceNewAssets){const d=async function(e){const{dispatch:t}=Mu();return t(YH({id:e._id,modified:new Date})),await Zf("/api/v1/cloudMediaLibrary/myMedia/updateFileModifiedDate",{body:{cmlFileID:e._id}})}(c).catch((e=>{console.error("Failed to update CML File modified date",e)}));i.push(d),t(g9(c,n));const u=c.asset_id,p=a[u];if((!p||!(await SE(p)))&&h){const a=_E({mediaCacheId:h,type:r.type,file:e,extraErrorOptions:{extra:{layer:r}}}).catch((e=>{console.error(e)}));i.push(a),t(Dp({mediaCacheId:h,assetId:u}))}t(b9.updateUploadStatus({id:l.uploadId,updates:{stage:KS.done}})),r.cmlFileId=c._id,r.asset_id=u;const m=s!==l.initialLocalProjectId;B9(r,o,l,{retries:0},{projectIdChanged:m,isDuplicateUpload:!0}),O9(l,r,e)}else{l.hash=d;try{if(r.requireConversion)r.conversion_type=oI(void 0,e.type),U9(l,e,r);else{if(h&&!m)try{const a=await _E({mediaCacheId:h,type:r.type,file:e,extraErrorOptions:{extra:{layer:r}}});r.isMediaLibraryUpload&&t(Ih(h)),a||ov("Upload Failed IDB Add",{fileType:e.type,fileSize:e.size}),r.isMediaLibraryUpload||c9({mediaCacheId:h,source:l.uploadOptions.analyticsUploadSource,uploadId:r.uploadId??void 0})}catch(v){console.error(v)}F9(l,e,r)}}catch(v){cb({description:"Upload failed",error:v}),N9(l)}}})));const r=e[0];r&&e.length>1&&r.bundle.uploadOptions.multiRowUploadForRecording&&PU.execInUndoBatch((()=>{const t=g();a1(e.filter((e=>e.layer)).map((e=>{var t;return(null==(t=e.layer)?void 0:t.id)||""})),t,!0),c1(t,!0,!0)}));t(vj(!1));(await Promise.allSettled(i)).forEach((e=>{"rejected"===e.status&&console.error(e.reason)}))}(i);return{conversionAndUploadPromise:r,processedFilesAndLayers:i,uploadIds:i.filter((({layer:e})=>e)).map((e=>e.bundle.uploadId))}}function S9(e,t){var a;const n=g();let{analyticsUploadSource:s}=e.uploadOptions;const o=void 0!==t?null==(a=e.uploadOptions.analyticsUploadSources)?void 0:a[t]:null;o&&(s=o);const i=e.uploadOptions.addLayersToSameTimelineRow?V9():null;return{eventHandlers:{...e.eventHandlers},initialLocalProjectId:Mu().state.studioLocal.localProjectId,uploadOptions:{...e.uploadOptions,analyticsUploadSource:s},validationOptions:{...e.validationOptions},uploadId:n,timelineRowForAllLayers:i}}function x9(e,t){if(e.uploadOptions.skipUploadStatusUpdates)return;const{dispatch:a}=Mu();a(b9.updateUploadStatus({id:e.uploadId,updates:t}))}async function I9(e,t){const{dispatch:a}=Mu(),n=g(),{mediaLibraryID:s}=e;if("video"===e.type&&!e.file_v2)throw Error("Do not have the original file. Cannot reupload.");const o="audio"===e.type?e.file:e.file_v2.file,i=S9(t);i.uploadOptions.isThumbnail||ov("Upload Started",{"File Type":o.type,"Size (MB)":o.size/1e6,"Upload Location":t.uploadOptions.analyticsUploadSource,"Is Reupload":!0}),a(Up({mediaCacheId:s,uploadId:n}));try{const e=await j4(o,{uploadId:n}),t=await P9(i,o,e);F9(i,t,e)}catch(r){cb({description:"Upload failed",error:r}),N9(i)}}async function A9(e,t,a){var n;let s=t;const o={};t.uploadId||(o.uploadId=g());const{dispatch:i,state:r}=Mu(),{localAssetInfo:l}=r.assets,d=Vp(t);if(!(d?null==(n=l[d])?void 0:n.local_url:void 0)){const t=URL.createObjectURL(e);i(XE({[d]:{local_url:t}}))}c.isEmpty(o)||(uk({[t.id]:o},"studioReuploadLayer"),s={...t,...o});const u={...S9(a),uploadId:s.uploadId};u.uploadOptions.isThumbnail||ov("Upload Started",{"File Type":e.type,"Size (MB)":e.size/1e6,"Upload Location":a.uploadOptions.analyticsUploadSource,"Is Reupload":!0});const p=await P9(u,e,t);F9(u,p,s)}function k9(e){const{state:{uploadStatuses:t={}},dispatch:a}=Mu(),n=t[e];if(!n)return;const{uploadManager:s}=n;null==s||s.cancel(),a(b9.deleteUploadStatus({id:e}))}const T9=(e,t,a)=>{var n;const{dispatch:s,state:o}=Mu(),{teams:{selectedTeamId:i}}=o,{uploadId:r,uploadOptions:{isThumbnail:l,fontUpload:d,uploadSourceComponent:c,createTeamAsset:u}}=e,p=hg(Fd.UNLIMITED_EXPORT_DURATION_LIMIT),m=rg(o),g=(null==(n=null==m?void 0:m.settings)?void 0:n.defaultPrivacy)||ad.unlisted;p&&"duration"in a&&a.duration&&a.duration>7200&&s(db({description:"Your file is longer than 2 hour. You must trim your video to publish.",type:"warning"})),!p&&"duration"in a&&a.duration!==1/0&&a.duration&&a.duration>240&&db({description:"Your file is longer than 4 minutes. Trim or upgrade to export videos longer than 4 minutes.",type:"warning"});const h=g===ad.private||!l,v={},f=new a_({analyticsUploadSource:e.uploadOptions.analyticsUploadSource,file:t,layer:a,isPrivate:h,onError:M9(e),onProgress:E9(e),onFinish:[j9(e,v),R9(e,v)],onCancel:()=>N9(e),onRetry:L9(e),origin:a.uploadLocation,uploadSourceComponent:c});f.upload(),e.uploadOptions.skipUploadStatusUpdates||s(b9.addUploadStatus({id:r,fileName:t.name})),x9(e,{fontUpload:d,uploadManager:f,omitFromIDB:e.uploadOptions.omitFromIDB,teamId:u?i:void 0})},E9=e=>(t,a,n)=>{if(!n.uploadId)return;const s=Math.round(100*t);let o=`Uploading ... ${s.toString()}%`;100===s&&"image/gif"===a.type?o="Processing your GIF ...":100===s&&"video/3gpp"===a.type&&(o="Converting file to mp4 ..."),x9(e,{progressText:o,progress:s,stage:KS.inProgress})},L9=e=>(t,a)=>{t.uploadId&&x9(e,{retryInfo:a})},j9=(e,t)=>async(a,n,s,o)=>{var i,r;const{uploadId:l,uploadOptions:{fontUpload:d,isThumbnail:c,createTeamAsset:u,createWorkspaceAsset:p,usedProFeatures:m,originalAssetId:g,dimensions:h,preserveAssetId:v},hash:f}=e,{state:b}=Mu(),{studio:{_id:y},workspaces:{selectedWorkspace:w},teams:{selectedTeamId:_}}=b,C=rg(b),S=(null==(i=null==C?void 0:C.settings)?void 0:i.defaultPrivacy)===ad.private,x=t=>{x9(e,{stage:t})};if(200!==a.status)return void M9(e)({error:new Error(a.statusText),message:a.statusText||"An error occurred during upload. Please try again.",file:s,layer:o,errorType:"onGCSUploadFinish"});x(KS.onGCSUploadFinish);const[I,A]=c2(n),k={bucket:I||Bl,size:s.size,mime:s.type,name:s.name,hash:f,usedProFeature:null==m?void 0:m[0]};if(v&&(k.id=v),A&&(k.blob_name=A),d){const e=(null==(r=k.name)?void 0:r.split(".").pop())??"";o.mime=`font/${e}`}const T={fontUpload:d,skipSigning:!S&&c,skipCML:c||d||e.uploadOptions.skipCMLCreation||g};y&&(T.video_id=y),p&&(T.workspaceId=w),u&&(T.teamId=_),g&&(T.originalAssetId=g),h&&(k.dimensions=h),x(KS.createAsset);const{asset:E,cmlFile:L}=await h2(k,T);x9(e,{assetId:E._id});const j={...E};o.conversion_type&&(j.conversion_type=o.conversion_type),d||_9(j,L,l),t.asset=E,L&&(t.cmlFile=L)},R9=(e,t)=>async(a,n,s,o,i)=>{var r;const{uploadId:l,uploadOptions:{isThumbnail:d,fontUpload:c,originalAssetId:u}}=e,{asset:p,cmlFile:m}=t;if(!p)return;const{dispatch:g}=Mu();e.uploadOptions.addToStoreAfterUpload&&g(YE([p]));const h=t=>{x9(e,{stage:t})},v={...o,asset_id:p._id,source:"upload",uploadConfirmed:Date.now()};if(h(KS.assetCreated),o.requireConversion){h(KS.runConversion);const e=await t2({asset_id:p._id,resource:p.blob_name,type:"blob",conversion_type:o.conversion_type,layer:v});v.conversion_id=e,v.videoConvertedState="begun",h(KS.addPendingConversion),await fE(e,o.id,o.name,l,null==m?void 0:m._id)}if(p.name&&(v.name=p.name),m&&(v.cmlFileId=m._id),p.ffprobeData){v.ffprobeData=p.ffprobeData;const{duration:e}=p.ffprobeData,t=Number(e);"number"!=typeof t||isNaN(t)||(v.duration=t)}p.hasAudio&&!v.hasAudio&&(v.hasAudio=!0);const f=Hp(o);if(f&&g(Lh(f)),!c&&!d&&(h(KS.updateCompletedUploadInIDB),f&&v.asset_id&&(({mediaCacheId:e,assetId:t})=>{(null==o9?void 0:o9.assetsInProject[e])&&(o9.assetsInProject[e].assetId=t)})({mediaCacheId:f,assetId:v.asset_id}),!o.requireConversion&&f&&await yE(f,{url:n,asset_id:v.asset_id}),f&&Fm(o))){const e=await SE(f);if(e&&"waveformData_v6"in e&&e.waveformData_v6){const{waveformData_v6:t}=e;L2(p._id,t)}(null==e?void 0:e.type)===Nc.Video&&!(null==(r=e.file_v2)?void 0:r.hasAudio)&&p.hasAudio&&await wE(f,!0)}u&&h(KS.updateCompletedUploadInIDB),h(KS.handleFinish),D9(e,v,i,p),h(KS.done)},N9=e=>{const{uploadId:t,eventHandlers:{handleCancel:a}}=e,{dispatch:n,state:s}=Mu(),o=s.mediaCache.uploadIdToMediaCacheId[t];o&&n(Lh(o)),a&&a(t)},M9=e=>({message:t,file:a,layer:n,errorType:s,captureException:o,error:i})=>{x({category:"Upload Flow Error",message:`ErrorType: ${s} layer: ${JSON.stringify(n)} file: ${JSON.stringify(a)}`}),o&&l(i);const{eventHandlers:{handleError:r},initialLocalProjectId:d}=e,{dispatch:c}=Mu();if(Mu().state.studioLocal.localProjectId!==d)return;x9(e,{stage:KS.errored}),null==r||r();let u=t;t||(u="An error occurred while uploading. Please try again later."),c(db({description:u,type:"error"})),N9(e)},P9=async(e,t,a)=>{var n;const{dispatch:s,state:o}=Mu();e.uploadOptions.skipUploadStatusUpdates||s(b9.addUploadStatus({id:e.uploadId,fileName:t.name}));const i=await nI(t,(t=>x9(e,{progressText:t})),M9(e));if(t!==i){const e=Vp(a),t=null==(n=o.assets.localAssetInfo[e])?void 0:n.local_url;t&&URL.revokeObjectURL(t);const r=URL.createObjectURL(i);s(XE({[e]:{local_url:r}}))}if(i.type.includes("video")||i.type.includes("audio")){const e=await bk(i);a.duration=e}return i},F9=(e,t,a)=>{try{O9(e,a,t),T9(e,t,a)}catch(b9e){console.error("error during upload ",b9e),M9(e)({error:b9e,message:"An error occurred during upload. Please make sure your media is a compatible format.",file:t,layer:a,errorType:"checkFileAndUpload"})}},D9=(e,t,a,n)=>{const{state:{studioLocal:{localProjectId:s},uploadStatuses:o}}=Mu();try{const{eventHandlers:{handleFinish:i},initialLocalProjectId:r,uploadOptions:{skipVerifyProjectOpenBeforeHandleFinish:l=!1}}=e,d=s!==r;B9(t,o,e,a,{projectIdChanged:d,isDuplicateUpload:!1});const c=!l&&d;i&&!c&&i(t,n)}catch(b9e){console.error("error during upload ",b9e),M9(e)({error:b9e,message:`An error occurred during upload. ${b9e}`,file:void 0,layer:t,errorType:"handleFinish"})}},O9=(e,t,a)=>{x9(e,{preemptivelyAvailableAt:performance.now()});try{const{eventHandlers:{handlePreemptiveFinish:a},initialLocalProjectId:n,uploadOptions:{multiRowUploadForRecording:s,recordScreenAndCameraUpload:o,addLayersToSameTimelineRow:i}}=e,r=Mu().state.studioLocal.localProjectId!==n;a&&!r&&a(t,{multiRowUploadForRecording:s,selectLayerInCreator:!0,recordScreenAndCameraUpload:o,knownTimelineRow:i})}catch(b9e){console.error("error during upload ",b9e),M9(e)({error:b9e,message:`An error occurred during upload. ${b9e}`,file:a,layer:t,errorType:"handleFinish"})}},U9=(e,t,a)=>{try{O9(e,a,t),T9(e,t,a)}catch(b9e){console.error("error during upload ",b9e),M9(e)({error:b9e,message:"An error occurred during upload. Please make sure your media is a compatible format.",file:t,layer:a,errorType:"checkFileAndUpload"})}};function B9(e,t,a,n,s){if(!a.uploadOptions.isThumbnail)try{const o=Hp(e),i={"Layer Type":e.type,mime:e.mime,"Size (MB)":(e.size??0)/1e6,"Layer Duration":"duration"in e&&e.duration||0,"Conversion Required":e.requireConversion||!1,"Project ID Changed During Upload":s.projectIdChanged,mediaCacheId:o,"Upload Retries":n.retries,"Upload Location":a.uploadOptions.analyticsUploadSource,"Duplicate Upload":s.isDuplicateUpload,"Asset ID":e.asset_id},r=null==t?void 0:t[a.uploadId];if(r){const e=performance.now();i["Overall Upload Duration"]=(e-r.beganAt)/1e3,r.preemptivelyAvailableAt&&(i["Time to on Canvas"]=(r.preemptivelyAvailableAt-r.beganAt)/1e3,i["Upload Duration after on Canvas"]=(e-r.preemptivelyAvailableAt)/1e3)}"ffprobeData"in e&&e.ffprobeData&&(e.ffprobeData.codec_name&&(i.Codec=e.ffprobeData.codec_name),e.ffprobeData.codec_long_name&&(i["Codec (Long)"]=e.ffprobeData.codec_long_name)),ov("Upload Finished",i)}catch(b9e){console.error(b9e),l(b9e)}}const W9=e=>{const t=e[0];if(!t)return;const{state:a,dispatch:n}=Mu(),s=V9(),o=lK(a);let i=void 0===o?0:dY();const r=e.filter((({layer:e})=>e)).some((({layer:e})=>e.duration)),l=e.every((({layer:e,bundle:t})=>!(!e||t.uploadOptions.isThumbnail)&&"image"===e.type)),d="make/slideshow"===a.studio.origin&&l;if(!a.studio.duration&&l){const t=e.filter((({layer:e,bundle:t})=>e&&"Media sidebar button - This Project"!==t.uploadOptions.analyticsUploadSource)).map((({layer:e,file:t})=>`${e.id} ${t.lastModified}`));if(n(bj([...a.studioLocal.staticUploadIds,...t])),e.filter((({layer:e})=>e)).length>1){const t=g();a1(e.filter((({layer:e})=>e)).map((({layer:e})=>e.id)),t,!1)}}if(!a.studio.duration&&!r&&!d)return;const c=[s];e.forEach((({layer:t,bundle:a})=>{if(!t)return;if(a.uploadOptions.isThumbnail)return;if(a.uploadOptions.isMediaLibraryUpload)return;if(a.uploadOptions.createTeamAsset)return;if(t.requireConversion){const e=V9(c);return t.timelineRow=e,void c.push(e)}e.length>1&&(t.timelineRow=s);["video","audio"].find((e=>e===t.type))?(t.videoDelay=i,i+=t.duration||0):(t.startTime=i,t.endTime=i+3,i=t.endTime)})),!a.studio.duration&&r&&UJ(Gx(a),i,!0);const u=a.studio.selectedTimelineRows,p=1===e.length,m=SJ({...t.layer},dY(),Math.min(...u,0));p&&m&&u.length>0&&(t.layer.timelineRow=Math.min(...u)),d&&(e=>{const{dispatch:t}=Mu(),a=g(),n=e.filter((({layer:e})=>e)).map((({layer:e})=>e.id));t(rq("")),a1(n,a,!0)})(e)},V9=(e=[])=>{const{state:t}=Mu(),a=Gx(t);if(!t.studio.duration&&a.length)return a.length;const n=[...a.map((e=>e.timelineRow||0)),...e];for(let s=0;s<n.length+1;s+=1)if(!n.includes(s))return s;return 0},H9=e=>new File([e],"tempFile",{type:e.type}),z9=e=>{const t=Buffer.alloc(e.byteLength),a=new Uint8Array(e);for(let n=0;n<t.length;n+=1)t[n]=a[n];return t},G9=async({cmlFile:e,asset:t,properties:a={},propertiesAfterTypeDetermined:n=(()=>({})),replaceInfo:s,droppedTrackInfo:o})=>{const{state:i,dispatch:r}=Mu(),{isAdding:l}=i.studioLocal;let d=t;if(l[d._id]||RJ(d._id,!0),(!t.url||ac(t.url)||t.preview_asset_id&&!t.preview||t.track_preview_asset_id&&!t.track_preview)&&(d=await y2(t._id,"addFromMediaLib"),r(YE([d]))),!d.url)return RJ(d._id,!1),console.error(`Could not create layer for cml file ${e._id}: asset has no url`),null;const{dimensions:c}=d;try{const i={addedFromMediaLibrary:!0,asset_id:d._id,cmlFileId:e._id,name:d.name||d.blob_name,mime:d.content_type,usedProFeatures:t.usedProFeature?[t.usedProFeature]:[],...c,...a},r=await Y9(d,i);if(!r)return null;const l=n(r);if(!l)return null;const u={...r,...l};return u.startTime||u.endTime||s||iJ(u),yJ({newLayer:u,options:{undoable:!0,knownTimelineRow:void 0!==i.timelineRow,droppedTrackInfo:o},replaceInfo:s}),u.asset_id&&Fm(u)&&c9({assetId:u.asset_id,source:"Media Library"}),u}catch(u){return cb({description:"Failed to add layer",error:u}),RJ(d._id,!1),null}},Y9=async(e,t={})=>{const{state:a,dispatch:n}=Mu(),{mediaCache:{assetIdToMediaCacheId:s}}=a,o=s[e._id];if(o){const a=await(async(e,t,a)=>{var n,s;const o=await SE(e);if(!o)return;const i=o.type===Nc.Image?["original"]:["preview","original"],[r,l]=TE(o,i);if(!l)return;const d=N4(t),c=jE({idbAsset:o,includeHasAudio:!0,fileSelectionOrder:i}),u={};if("image/webp"===t.content_type){let e="unknown";try{e=await tI(l)}catch(b9e){console.error("Failed to determine webp file type")}u.webpType=e}const p={...d,...c,...u},{id:m}=L4(),{state:g,dispatch:h}=Mu(),{localAssetInfo:v}=g.assets,f=v[e]||{},b={};if(o.type===Nc.Video&&t.preview&&t.preview.url&&(!t.preview.width||!t.preview.height||!t.preview.duration))if((null==p?void 0:p.duration)&&(null==p?void 0:p.width)&&(null==p?void 0:p.height)){const e={...t.preview,width:p.width,height:p.height,duration:p.duration};t.preview._id&&C2(t.preview._id,{dimensions:{width:p.width,height:p.height},duration:p.duration}),h(YE([{...t,preview:e}]))}else{const e=await dI({asset:t},"video/mp4",XC.HIGH);if(e.success){const{width:a,height:n,duration:s}=e.properties,o={...t.preview,width:a,height:n,duration:s,startTime:0,endTime:s};t.preview._id&&C2(t.preview._id,{dimensions:{width:a,height:n},duration:s}),h(YE([{...t,preview:o}]))}}if(o.type===Nc.Image&&(null==(n=t.preview)?void 0:n.url)&&(!t.preview.width||!t.preview.height))if((null==p?void 0:p.width)&&(null==p?void 0:p.height)){const e={...t.preview,width:p.width,height:p.height};t.preview._id&&C2(t.preview._id,{dimensions:{width:p.width,height:p.height}}),h(YE([{...t,preview:e}]))}else{const e=await mI(t.preview.url,"image/png");if(e.success){const{width:a,height:n}=e.properties,s={...t.preview,width:a,height:n};t.preview._id&&C2(t.preview._id,{dimensions:{width:a,height:n}}),h(YE([{...t,preview:s}]))}}if(t.track_preview&&!f.trackPreviewLocalUrl){const[e,t]=TE(o,["track"]);if(t){const e=URL.createObjectURL(t);b.trackPreviewLocalUrl=e}}if(o.type===Nc.Video&&o.thumbnailSheet&&!f.thumbnailSheetLocalInfo){const{file:e,thumbnail_height:t,thumbnail_width:a,fps:n,width:s,height:i}=o.thumbnailSheet,r={local_url:URL.createObjectURL(e),thumbnailHeight:t,thumbnailWidth:a,fps:n,sheetWidth:s,sheetHeight:i};b.thumbnailSheetLocalInfo=r}if(!f.local_url&&"original"===r){const e=URL.createObjectURL(l);b.local_url=e}if(!f.preview_local_url&&"preview"===r){const e=URL.createObjectURL(l);b.preview_local_url=e}let y;Object.keys(b).length>0&&h(XE({[e]:b})),y=null!=(null==(s=t.preview)?void 0:s.hasAudio)?t.preview.hasAudio:null!=t.hasAudio?t.hasAudio:"hasAudio"in p?p.hasAudio:void 0;const w={id:m,asset_id:o.asset_id,type:o.type,...p,source:"upload",size:l.size,name:l.name,originalName:l.name,mime:l.type,addedFromMediaLibrary:!0,...a,duration:(null==a?void 0:a.duration)??p.duration,hasAudio:y};return Object.assign(w,vJ(w)),w})(o,e,t);if(a)return a}const i=o||g(),r=await R4(e,i,t);return n(Dp({assetId:e._id,mediaCacheId:i})),r},K9=[5,11,17,23,30,40,50,66,85,100,125,155,178,200,250],X9=[30,30,30,5,5],Z9=15,q9=({createdAt:e,progressDict:t})=>{if(!t)return 15;const{stageNum:a,numStages:n,stagePercentage:s}=t;if(n!==X9.length)return 15;const o=X9[a-1];if(!o)return 15;const i=s*(o/100),r=X9.slice(0,a-1).reduce(((e,t)=>e+t),0),l=Math.round(isNaN(r+i)?0:r+i);if(l>=K9.length)return Math.round(l);const d=((new Date).getTime()-new Date(e).getTime())/1e3;let c=15;for(let u=15;u<K9.length+15;u++){const e=K9[u-15];if(!e)return Math.max(15,l);if(!(d>=e))break;c+=1}return Math.max(l,c,15)},J9=({callback:e,intervalMs:t,invokeOnVisibilityChange:a=!0,shouldPoll:n=!0})=>{const s=(()=>{const[e,t]=i.useState(!document.hidden);return i.useEffect((()=>{const e=()=>t(!document.hidden);return document.addEventListener("visibilitychange",e),()=>document.removeEventListener("visibilitychange",e)}),[]),e})(),o=i.useRef(null),r=tY(e);i.useEffect((function(){return n&&s&&(o.current=window.setInterval(r,t)),()=>{o.current&&(window.clearInterval(o.current),o.current=null)}}),[r,t,s,n]),i.useEffect((function(){a&&s&&n&&r()}),[a,s,r,n])};function $9(e){return!!e&&("success"===e.status&&(!(fu(e.data)&&!e.data.highlightsAreGenerating)&&!_u(e.data)))}const Q9=({workflowId:e})=>{const t=P(),a=Bu(),n=Du((t=>e?t.workflows.workflowById[e]:void 0),Ou),s=Du((e=>e.assets.byId),Ou),o=Du((t=>{var a;return e?null==(a=t.workflows.workflowById[e])?void 0:a.status:void 0})),r=i.useRef(0);i.useEffect((function(){void 0===o&&e&&(a(uH.workflowFetchStarted(e)),n7({workflowId:e}))}),[a,o,e]);const l="success"===(null==n?void 0:n.status)?n.data:void 0,{asset:d,status:c}=l||{};i.useEffect((()=>{c&&c!==vu.FAILED&&d&&!s[d._id]&&a(YE([d]))}),[d,c,s,a]),J9({callback:async()=>{if(e&&$9(n))try{const t=await a7({workflowId:e});a(uH.workflowFetched({folderSavedBlueprints:t.folderSavedBlueprints,workflowId:e,workflow:t.highlights})),(fu(t.highlights)||_u(t.highlights))&&a(YE([t.highlights.asset])),r.current=0}catch(s){r.current++,console.error(s),r.current>5&&!n&&(cb({description:"There was an error fetching your clips. Please try again.",error:s}),t("/repurpose/create"))}},intervalMs:5e3,shouldPoll:!!e&&$9(n)});return{workflow:l,isLoading:e&&(!o||"fetching"===o)}},e7=async(e,t)=>{const{dispatch:a}=Mu();await Zf(`/api/v2/workflows/highlights/${e}/name`,{body:{name:t}}),a(uH.updateWorkflow({workflowId:e,updates:{name:t}}))};const t7=async(e,t,a)=>{const{dispatch:n,state:s}=Mu(),o=function(e){return c.omit(e,["blueprintId","blueprintName","blueprintProjectRatio"])}(t),i={...s.workflows.savedBlueprintsByFolderId[e],[a]:o};await Zf(`/api/v2/workflows/folder/${e}/settings`,{body:{savedBlueprints:i}}),n(uH.updateFolderSettings({folderId:e,savedBlueprints:i}))},a7=async({workflowId:e,assetId:t,teamId:a})=>{const n=Kf(e?`/api/v2/workflows/highlights/${e}`:`/api/v2/workflows/highlights${qw({[Xw.ASSET_ID]:t,[Xw.TEAM_ID]:a})}`),s=await n,{dispatch:o}=Mu();return o(YE(s.assets)),s},n7=async e=>{const{dispatch:t}=Mu();try{const{highlights:a,folderSavedBlueprints:n}=await a7(e);return t(uH.workflowFetched({workflowId:a._id,workflow:a,folderSavedBlueprints:n})),(fu(a)||_u(a))&&t(YE([a.asset])),a}catch(b9e){e.workflowId&&t(uH.workflowFetchError({workflowId:e.workflowId,error:b9e.message}))}},s7=async e=>{const{dispatch:t}=Mu(),a=await(async e=>await Kf(`/api/v2/workflows/${e}/videos`))(e);t(uH.updateWorkflow({workflowId:e,updates:{projects:a}}))},o7=async({workflowId:e,teamId:t,folderId:a})=>Xf(`/api/v2/workflows/${e}/copy`,{body:{teamId:t,folderId:a,workflowId:e}}),i7=async(e,t)=>qf(`/api/v2/workflows/${e}/highlightSettings`,{body:{highlightSettings:t}});let r7=!1;function l7(e){var t;if(r7)return;const{studio:{_id:a},uploadStatuses:n={}}=e;try{let s,o,i,r,l,d,c=!1,u=!1,p=0,m=!1,g=Number.MAX_SAFE_INTEGER;for(const a of Gx(e)){const h=II(a);if(!h)continue;p+=1;const v=a.uploadId?n[a.uploadId]:null;if(v){const{progress:t=0,stage:n,stageStarted:l}=v;if(t<1&&(c=!0),t>=99&&(u=!0),n<g){const t=HC(a,e);g=n,s=h,o=a.mime,i=(null==t?void 0:t.url)?sI(t.url):null,r=performance.now()-l>1e4}}a.asset_id&&(l=null==(t=e.assets.byId[a.asset_id])?void 0:t.status,d=a.asset_id),a.addedFromMediaLibrary&&(m=!0)}const h={"Stuck at 0%":c,"Stuck at 99%":u,"Num Pending Uploads":p,"Added from Media Library":m,Stage:KS[g]||"missing","Stuck at Stage":r,"Still Uploading Reason":s,Mimetype:o,Extension:i,"Asset Status":l,"Asset ID":d};a&&(h["Video ID"]=a,h["Link to Video"]=`kapwing.com/videos/${a}`),ov("Export Blocked by Remaining Upload",h),r7=!0}catch(b9e){console.error(b9e),l(b9e)}}async function d7({currentUser:e,publish:t=!0,auto:a=!1,createLocation:n="NA",processedOnClient:s=!1}){const{dispatch:o,state:i}=Mu(),{token:r,user:d}=e||{},{_id:c}=d||{},{selectedTeamId:u}=i.teams,{isBrandKitTemplate:p}=i.studio;if(!a&&EI(i)){const e=new Error("Your content is still uploading. Please try again in a few seconds.");return e.statusCode=425,l7(i),Promise.reject(e)}const[m,g]=function(e,t){let a=!1;return a=!0,[Z1(e,t),!0]}(i,t);m.createLocation=n,m.workspaceId=(i.workspaces||{}).selectedWorkspace,m.teamId=u;const h=Um(u),v=nc((null==h?void 0:h.planTier)||Id.Free);m.creatorHasLicense=v.isPaid,m.keyframing=i.studio.keyframing||{};const f=function(e,t){const a={};let n;if(t.studio.canvasBlur){const e=v4(Gx(t));e.length>0&&(n=e.map((e=>e.layer)).filter(vA))}let s;e.animations&&(s=PO(t));const o=mL(t),i={backgroundLayers:n,magicSubtitleExportInfo:s,tetheredWaveformExportInfo:o};i.backgroundLayers&&(e.backgroundLayers=i.backgroundLayers);if(i.magicSubtitleExportInfo){const{animations:t,magicSubtitlesOnExport:n}=i.magicSubtitleExportInfo;e.animations.byId={...e.animations.byId,...t.byId},a.magicSubtitles=n}o.length&&(e.tetheredWaveformLayersExportInfo=o);e.animations&&($4(t,e),((e,t)=>{try{if(!e.animations)return;const a=[],n=Object.keys(e.allLayers.byId),s=Object.values(t||{}).flatMap((e=>e.map((e=>e.id)))).filter((e=>!!e)),o=new Set([...n,...s]);for(const t of Object.keys(e.animations.byId)){const n=e.animations.byId[t];n&&(["layerId","introLayerId","outroLayerId"].some((e=>o.has(n[e])))&&a.push(n.id))}e.animations.byId=a.reduce(((t,a)=>(t[a]=e.animations.byId[a],t)),{})}catch(b9e){l(new Error("Unable to clean video animations"),{extra:{video:e.id}})}})(e,a.magicSubtitles));return a}(m,i);t&&(!function(e,t,a){try{d5({exportLocation:"studio",video:t,studioState:e.studio,processedOnClient:a})}catch(b9e){console.error("Failed to log createVideo")}}(i,m,s),(async e=>{var t;const a=e.assetTranscriptions.byId,n=e.assets.byId,s=e.studio.magicSubtitles||{},o=e.studio.magicSubtitleFramesByAsset||{};let i=!1;if(Object.entries(o).forEach((([e,t])=>{t&&Object.values(t.byId).some((e=>e))&&(i=!0)})),!i)return;(null==(t=e.studio.magicSubtitlesGlobal)?void 0:t.isHidden)||Object.entries(e.studio.transcriptionEditCounts).forEach((async([e,t])=>{var i,r;const l=s[e],d=null==(i=o[e])?void 0:i.byId,c=n[e],u=a[e];if(!(c&&u&&l&&d))return;const{languageKey:p,translationId:m}=l;if(!p)return;const{languageCode:g,translateCode:h}=pO(p),v=u[p];if(v&&"completed"!==v.state)return;const f=Object.values(d).reduce(((e,t)=>t?e+t[Xc.words].length:e),0),b=c.duration&&t/(c.duration/60),y=t/f,w=(null==v?void 0:v.translationId)||m;let _;w&&(_=await L3({translationId:w})),ov("Subtitles With Changes Exported",{changeCount:t,changesPerWord:y,changesPerAssetMinute:b,translationLanguage:h,transcriptionLanguage:g,transcriptionProvider:null==(r=null==v?void 0:v.job_params)?void 0:r.provider_id,translationProvider:_})}))})(i),m._id&&await async function(e,t){try{const{dispatch:a}=Mu(),{fileInfo:n,dataUrl:s}=await _6(e,ex.Thumbnail,t),o=aI(n,s);return await new Promise(((t,n)=>{C9([o],{eventHandlers:{handleFinish:n=>{const s=HC(n,Mu().state),[o,i]=c2(null==s?void 0:s.url);e.image_url=null==s?void 0:s.url,e.thumbnail_blob_name=i,a(u7(null==s?void 0:s.url));const r={image_url:null==s?void 0:s.url,thumbnail_blob_name:i};EK(e._id,r),t()},handleCancel:n,handleError:n},uploadOptions:{analyticsUploadSource:"Thumbnail upload",omitFromIDB:!0,isThumbnail:!0,skipUploadStatusUpdates:!0,uploadSourceComponent:"Export"}})}))}catch(a){console.error(a)}}(m,m.duration/2));const b=!m._id;if(!b&&!t&&g)return m;let y;y=b?"/api/v1/videos":"/api/v1/videos/publish";const w=await Xf(y,{body:{publish:t,processedOnClient:s,token:r,userId:c,video:m,...f,selectedTeamId:u,isBrandKitTemplate:p}});return m.workflowId&&await n7({workflowId:m.workflowId}),async function(e,t,a,n){n&&(a&&t(V6({...e,done:!1})),function(e,t,a){t(c7(e._id)),t({type:"SET_VIDEO_DRAFT_INFO",draft:!a&&e.draft,done:e.done,createdAt:e.createdAt,lastSaved:e.lastSaved})}(e,t,a));return e}(w,o,t,g)}function c7(e){return{type:"SET_VIDEO_ID",_id:e}}function u7(e){return{type:"SET_IMAGE_URL",image_url:e}}var p7=(e=>(e.LANDING_PAGE_GET_STARTED="LANDING_PAGE_GET_STARTED",e.LANDING_PAGE_ADD_SAMPLE="LANDING_PAGE_ADD_SAMPLE",e.LANDING_PAGE_PASTE_LINK="LANDING_PAGE_PASTE_LINK",e.PASTE_LINK="PASTE_LINK",e.UPLOAD_FILES="UPLOAD_FILES",e.EDIT_THIS_TEMPLATE="EDIT_THIS_TEMPLATE",e.WORKSPACE="WORKSPACE",e.WORKSPACE_SEARCH="WORKSPACE_SEARCH",e.ONBOARDING_MODAL="ONBOARDING_MODAL",e.HOME_PAGE="HOME_PAGE",e))(p7||{});const m7=({entry:e,template:t,defaultOrigin:a="",landingPageLocale:n})=>{const{dispatch:s}=Mu();setTimeout((()=>{switch(e){case"PASTE_LINK":c5({callToAction:Qh.PasteALink});break;case"UPLOAD_FILES":c5({callToAction:Qh.UploadFiles});break;case"WORKSPACE":c5({callToAction:Qh.NewContentWorkspace});break;case"LANDING_PAGE_ADD_SAMPLE":c5({callToAction:Qh.Sample,template:t,originOverride:a});break;case"LANDING_PAGE_PASTE_LINK":c5({callToAction:Qh.PasteALink,template:t,originOverride:a,landingPageLocale:n});break;case"EDIT_THIS_TEMPLATE":s(M6("explore")),c5({callToAction:Qh.EditThisTemplate,template:t});break;case"HOME_PAGE":case"LANDING_PAGE_GET_STARTED":s(rq(a)),c5({callToAction:Qh.GetStarted,originOverride:a,landingPageLocale:n});break;case"WORKSPACE_SEARCH":c5({callToAction:Qh.WorkspaceSearchTool})}s(function(){const{state:e}=Mu(),t=e.currentUser.user._id;return"trim"===e.studio.origin||"cut-video"===e.studio.origin?{type:"DISABLE_SNAP_IN_TIMELINE",userId:t}:{type:"ENABLE_SNAP_IN_TIMELINE",userId:t}}())})),s(oj())};async function g7(e){if("templates"===e.origin)return;const{dispatch:t,state:a}=Mu();if(!Nb(a))return;const n=Object.keys(e.thisProjectCMLFiles||{});0!==n.length&&(await async function(e){return await Xf("/api/v1/cloudMediaLibrary/myMedia/addFiles",{body:{cmlFileIds:e}})}(n),t(WH(n)))}function h7(e,t){return e&&e._id&&Object.values(e.allLayers.byId).length>0&&function(e,t){const{allLayers:a}=e,n=Mu().state,s=Object.values(a.byId);for(const o of s)if(uJ(o,t)&&!mS(o,n))return!1;return!0}(e,t)}const v7=e=>{const t=(e=>Object.values(e.allLayers.byId).filter((e=>0===e.startTime)))(e).map((e=>e.id));return Object.values(e.animations.byId).filter((e=>{const a=e.isCrossTransition?e.introLayerId:e.layerId;return t.includes(a)}))},f7=e=>{const t=v7(e);return Math.max(...t.map((e=>e.transitionDuration||0)),0)};async function b7(e,t,a=dY()){const{dispatch:n}=Mu();if(!h7(e,a))return!1;try{const{fileInfo:s,dataUrl:o}=await _6(e,ex.Thumbnail,a),i=aI(s,o);C9([i],{eventHandlers:{handleFinish:t=>{if(!e._id||!t.asset_id)return;const a=w9(t.asset_id);if(!a)return void console.error("No url associated with layer asset when trying to create thumbnail");n(u7(a.url));const[s,o]=c2(a.url),i={image_url:a.url,thumbnail_blob_name:o};EK(e._id,i)},handleError:()=>{e._id&&ov("Generate Thumbnail",{"Video ID":e._id,"Entry Point":t,Success:!1})}},uploadOptions:{analyticsUploadSource:"Thumbnail upload",omitFromIDB:!0,isThumbnail:!0,skipUploadStatusUpdates:!0,uploadSourceComponent:"Save",skipVerifyProjectOpenBeforeHandleFinish:!0}})}catch(s){if(Math.random()<.1){const e={tags:{thumbnailFailure:!0,thumbnailEntryPoint:t}};if(s instanceof ErrorEvent){const e={message:s.message,extra:{filename:s.filename,lineno:s.lineno,colno:s.colno,errorObject:s.error?s.error.toString():null}};Ve(e)}else if(s instanceof Error)l(s,e);else{const t=new $v("Error updating video thumbnail",{extra:{error:s}});l(t,e)}}console.error(s)}return!0}const y7=async(e={})=>{var t;const{state:a,dispatch:n}=Mu(),s=a.studio._id;if(!s)throw new Error("Can not save video without id");if(n({type:"UPDATE_LAST_SAVED"}),(null==a?void 0:a.currentVideo)&&(null==(t=null==a?void 0:a.currentUser)?void 0:t.user)){const t=Z1(a,!!a.currentVideo);e.skipSnapshot||await e2(t).catch((()=>{}));const o=c.omit(t,["done","draft","blob_name","name","progressDict","progressText","image_url","privacy","progressText","thumbnail_blob_name",...z1]);n(xj("http")),await EK(s,{lastSaved:Date.now(),...o}),n(Ij("http"))}},w7=c.throttle(y7,6e4,{leading:!0,trailing:!0}),_7=()=>{const e=Bu(),{initialProjectLoadAt:t,isProjectFetched:a,updateKey:n,privacy:s,userSignedIn:o,videoId:r,videoSaving:l,lastSaved:d,canWrite:c}=Du((e=>{var t;const a=rg(e);return{initialProjectLoadAt:e.studioLocal.initialProjectLoadAt||0,isProjectFetched:e.studioLocal.isProjectFetched,lastSaved:new Date(e.studio.lastSaved).getTime(),privacy:a?null==(t=null==a?void 0:a.settings)?void 0:t.defaultPrivacy:ad.unlisted,updateKey:e.studio.updateKey,userSignedIn:Nb(e),videoId:e.studio._id,videoSaving:e.videoSaving,canWrite:e.userPermissions.canWrite}}),Ou),u=F(),p=Y1(n),[m,g]=i.useState(null),h=s===ad.public_write||o,v=n!==p,f="true"===new URLSearchParams(u.search).get(G1.EXPORT_VIDEO),b=function({initialProjectLoadAt:e,isProjectFetched:t,isWritableVideo:a,lastSaved:n,updateKeyChanged:s,videoId:o}){if(!(a&&s&&t&&o))return!1;const i=Date.now();return i-n>6e4&&i-e>6e4}({initialProjectLoadAt:t,isProjectFetched:a,isWritableVideo:h,lastSaved:d,updateKeyChanged:v,videoId:r}),y=function({isProjectFetched:e,isWritableVideo:t,lastSaveAttempt:a,onExportPage:n,videoId:s,videoSaving:o,userSignedIn:i}){const r=Date.now()-(a||0)<6e4;return!s&&!o&&t&&i&&!n&&e&&!r}({isProjectFetched:a,isWritableVideo:h,lastSaveAttempt:m,onExportPage:f,videoId:r,videoSaving:l,userSignedIn:o});return i.useEffect((function(){y&&(console.debug("Doing initial video save"),g(Date.now()),function(e=!1){const{dispatch:t,state:{currentUser:a,studio:n},history:s}=Mu();t(z6(!0));const o=!n._id;t(xj("http")),d7({currentUser:a,publish:!1,auto:e,createLocation:`studio-save-${e}`}).then((a=>{if(t(Ij("http")),t(z6(!1)),o&&g7(n),rR()){if(!e||o){const e=s.location.pathname,{search:t}=s.location;oR(e,t)}a&&a._id&&b7(a,i2.FIRST_SAVE,f7(a))}})).catch((e=>{cb({description:"Failed to save video",error:e})})).finally((()=>{t(z6(!1))}))}(!0))}),[y]),i.useEffect((function(){b&&r&&c&&w7()}),[e,r,b,c]),null};function C7(e){return{type:"SET_DUBBING",payload:e}}const S7=u(Gx,(e=>e.studio),(e=>nA(e.studio)),((e,t,a)=>rA(t,e,a).duration));let x7=Number.MAX_SAFE_INTEGER,I7=Number.MIN_SAFE_INTEGER,A7=0;const k7=u(Gx,(e=>pL()(e)),(e=>e.studioLocal.draggedTracksOverrides),(e=>S7(e)>0),(e=>e.studio.groups),((e,t)=>x7<=t&&t<I7?A7:(A7=t,t)),((e,t,a,n,s,o)=>{const i=[...e,...t].sort(((e,t)=>Tp(t.depth,e.depth))),r=new Map,l=new Map;for(const[m,g]of Object.entries(s)){l.set(m,!1);for(const{id:e}of g.layers){const t=r.get(e);t?t.push(m):r.set(e,[m])}}const d=i.map((e=>Eq(e,null==a?void 0:a.overrides[e.id]))),c=[],u=[];for(const m of d){const[e,t]=zC(m);e<=o&&c.push(e),e>=o&&u.push(e),t<=o&&c.push(t),t>=o&&u.push(t)}x7=Math.max(...c),I7=Math.min(...u);const p=[];for(const m of d)if(!m.isHidden){if(r.has(m.id))for(const e of r.get(m.id)??[])l.get(e)||(l.set(e,!0),p.push(`group_${e}`));n?(ep(m)||tp(m)||ap(m)||np(m)||up(m)||Oc(m)||ZJ(m)||(null==a?void 0:a.overrides[m.id]))&&p.push(m.id):p.push(m.id)}return p})),T7=u(Gx,(e=>{const t=[];for(const a of e)Ag(a)&&t.push(a);return t.sort(((e,t)=>{const{videoDelay:a=0}=e,{videoDelay:n=0}=t;return a-n}))})),E7=Gu((e=>e.studio.allLayers.byId),(e=>{const t={};return Object.keys(e).forEach((a=>{var n;if(!a)return;const s=e[a];if(!s)return;const o=s.asset_id;if(!o)return;let i=t[o];i||(i=[],t[o]=i),i.push(s.id);const r=null==(n=s.original_asset)?void 0:n.asset_id;if(!r)return;let l=t[r];l||(l=[],t[r]=l),l.push(s.id)})),t})),L7=u(Gx,(e=>e.length>0));u(pU,(e=>e?e.type:null));const j7=u((e=>e.studio.allLayers.byId),(e=>{const t={};return Object.values(e).forEach((e=>{e.asset_id&&e.dubbedAssetId&&(t[e.asset_id]=e.dubbedAssetId)})),t})),R7=(e,t={})=>{const{allLayers:a=Mu().state.studio.allLayers,layerIdsByAssetId:n=E7(Mu().state)}=t,s={};return e.forEach((e=>{const t=n[e]||[],o=[];t.forEach((e=>{const t=a.byId[e];t&&o.push(t)})),s[e]=AD(o.map((e=>{const{startTime:t,endTime:a}=vp(e);return{start:t,end:a}})))})),s},N7=e=>{const{state:t}=Mu(),{allLayers:a}=t.studio,n=E7(t),s={};return e.forEach((e=>{(n[e]||[]).forEach((t=>{const n=a.byId[t];(null==n?void 0:n.dubbingWorkflowId)&&(s[e]=n.dubbingWorkflowId)}))})),s};function M7(e,t){const a=t??Mu().state,{byId:n}=a.assets,s=Object.values(a.studio.allLayers.byId).reduce(((e,t)=>{const a=nL(t);return a?{...e,[a]:[...e[a]||[],t]}:e}),{});return e.some((e=>{var t;const a=n[e],{content_type:o=""}=a||{};return!!(null==(t=s[e])?void 0:t.some((e=>!!e.dubbedVideoAssetId)))||o.includes("video")}))}const P7=({dubbingPreferences:e,originalLanguageCode:t,translatedLanguageCodes:a,isRedub:n,origin:s,dubbingFramesSpeakerMaps:o,voiceOption:i,isPartialDub:r})=>{ov("Voice Dubbing Started",{originalLanguage:t,translatedLanguages:a,originalLanguageIsUserPreference:(null==e?void 0:e.languageCode)===t,translatedLanguagesIsUserPreference:(null==e?void 0:e.translateCodes.length)===a.length&&a.every((t=>{var a;return null==(a=null==e?void 0:e.translateCodes)?void 0:a.includes(t)})),numTranslatedLanguages:a.length,numTranslatedLanguagesInUserPreference:(null==e?void 0:e.translateCodes.length)??0,voice:i.name,isRedub:!!n,isPartialDub:r,usedTranslateReview:!!o,origin:s})};async function F7({videoId:e,dubbingState:t,assetTimeRanges:a,dubbingFramesSpeakerMaps:n,origin:s,options:o}){var i,r,l;const{dispatch:d,state:c}=Mu();try{const d=Object.keys(t.byAssetId);await(async e=>await Xf("/api/v2/workflows/dubbing",{body:e}))({assetIds:d,teamId:c.teams.selectedTeamId,videoId:e,translatedLanguageCodes:t.translatedLanguageCodes,assetTimeRangesById:a,speakerCount:t.speakerCount,dubbedAssetIdMap:j7(c),uploadedOriginalSubtitlesId:null==(i=t.originalSRT)?void 0:i.id,uploadedTranslatedSubtitlesId:null==(r=t.translatedSRT)?void 0:r.id,previousDubbingWorkflowIdMap:N7(d),origin:s,dubbingFramesSpeakerMaps:n,options:{...o,speakerIdToTranscriptTag:null==(l=c.studio.magicSubtitleSpeakers)?void 0:l.speakerIdToTranscriptTag,allowVideoAdjustments:t.allowVideoAdjustments,allowVideoTrimming:t.allowVideoTrimming,languageCode:t.originalLanguageCode,voiceOption:t.voiceOption}})}catch(b9e){throw cb({description:"Failed to start dubbing workflow: ",error:b9e,sendToSentry:!0}),d(C7({...t,status:"error"})),b9e}}async function D7({assetTimeRanges:e,origin:t,videoId:a,options:n,dubbingFramesSpeakerMaps:s,assetIds:o,...i}){const{dispatch:r,state:l}=Mu();let d;const c=o.map((e=>l.assets.byId[e])).filter((e=>!!e));try{d=function({assets:e,voiceOption:t,originalSRT:a,translatedSRT:n,originalLanguageCode:s,translatedLanguageCodes:o,speakerCount:i,isRedub:r=!1,allowVideoAdjustments:l,allowVideoTrimming:d,assetTimeRanges:c,allowVideoAdjustments:u,dubbingFramesSpeakerMaps:p}){const m=e.filter((e=>"background-asset"!==String(e._id)));if(0===m.length)throw new P1("No magic subtitles to dub","Dubbing: No magic subtitles to dub");if((a||n)&&1!==m.length)throw new P1("Multiple assets not supported for uploaded SRTs","Dubbing: Multiple assets not supported for SRTs");const g={byAssetId:{},startTime:Date.now(),status:"running",voiceOption:t,originalSRT:a,translatedSRT:n,originalLanguageCode:s,translatedLanguageCodes:o,speakerCount:i,isRedub:r,allowVideoAdjustments:u,allowVideoTrimming:d,dubbingFramesSpeakerMaps:p};if(1===(null==o?void 0:o.length)){const e=o[0];s!==e&&(g.translatedLanguageCode=e)}return m.forEach((e=>{const s=String(e._id),o=c[s];if(!o)return;const i=jm(t),r=!(!a&&!n||i);g.byAssetId[s]={timeRanges:o,runtimeEstimates:{transcription:r?0:L1(e),splitVocals:j1(e),voiceClone:i?R1(e):0,dubbingTTS:N1(e),dubbingPlayback:M1(e)}}})),g}({...i,allowVideoAdjustments:i.allowVideoAdjustments&&M7(o),assetTimeRanges:e,assets:c,dubbingFramesSpeakerMaps:s})}catch(b9e){if(b9e instanceof P1)return void pb({description:b9e.message,sentryMessage:b9e.sentryMessage});throw b9e}const u=Object.entries(e).flatMap((([e,t])=>t.map((t=>({assetId:e,...t}))))).some((({assetId:e,start:t,end:a})=>{const n=l.assets.byId[e];if(!n)return!1;const s=n.duration;return!!s&&!VC(a-t,s,.1)}));P7({...i,dubbingPreferences:l.currentUser.user.dubbingPreferences,dubbingFramesSpeakerMaps:s,origin:t,isPartialDub:u}),r(C7(d)),await y7(),await F7({videoId:a,dubbingState:d,assetTimeRanges:e,dubbingFramesSpeakerMaps:s,origin:"Studio",options:n})}async function O7({assetId:e,originalSRT:t,translatedSRT:a,translatedLanguageCodes:n,speakerCount:s,isRedub:o,workspaceId:i,partialDubbingLength:r,options:l}){const d=l.allowVideoAdjustments&&M7([e]),{state:c}=Mu(),{user:{dubbingPreferences:u}}=c.currentUser,p="Workspace";P7({translatedLanguageCodes:n,isRedub:o,originalLanguageCode:l.languageCode,voiceOption:l.voiceOption,dubbingPreferences:u,origin:p,isPartialDub:!!r}),await(async e=>await Xf("/api/v2/workflows/dubbing/fromAsset",{body:e}))({assetId:e,teamId:c.teams.selectedTeamId,translatedLanguageCodes:n,speakerCount:s,uploadedOriginalSubtitlesId:null==t?void 0:t.id,uploadedTranslatedSubtitlesId:null==a?void 0:a.id,origin:p,workspaceId:i,partialDubbingLength:r,options:{...l,allowVideoAdjustments:d}})}const U7=e=>{const{state:t,dispatch:a}=Mu(),n=t.studio.dubbing;if(!n)return console.error("studioUpdateDubbing called with no dubbing state");a(C7({...n,...e,byAssetId:n.byAssetId}))},B7=e=>{var t;const{state:a}=Mu();if(!a.studio.dubbing)return;const n=null==(t=a.studio.dubbing)?void 0:t.dubbingFramesChanged,s=n&&n.size?new Set([...n,e]):new Set([e]);U7({dubbingFramesChanged:s})},W7=(e,t)=>{var a,n;const{state:s}=Mu(),o=null==(n=null==(a=s.studio.dubbingFrames)?void 0:a.dubbingFramesByAsset[e])?void 0:n.byId;o&&Object.values(o).forEach((e=>{e.speakerId===t&&B7(e.id)}))},V7=e=>{var t,a;return"running"===(null==(t=e.studio.dubbing)?void 0:t.status)&&Object.keys((null==(a=e.studio.dubbing)?void 0:a.byAssetId)??{}).length>0},H7=u((e=>e.studio._id),(e=>e.studio.dubbing),((e,t)=>!!e&&!!t&&(!t.videoIdByLanguage||0===Object.values(t.videoIdByLanguage??{}).length||Object.values(t.videoIdByLanguage).includes(e))));function z7(e){const{state:t}=Mu(),{dubbing:a,_id:n}=t.studio;if(!a)return;U7({status:"cancelled"}),V1({canceledReason:e,dubbing:a});return(async(e,t)=>{0!==e.length&&await Xf("/api/v2/workflows/dubbing/cancel",{body:{workflowIds:e,videoId:t}})})(Object.values(a.byAssetId??{}).map((e=>e.dubbingWorkflowId)).filter(vA),H7(t)?n:void 0)}function G7(e){const{state:t}=Mu(),a=E7(t),{dubbing:n,allLayers:s}=t.studio;if("running"!==(null==n?void 0:n.status))return!1;const o=new Set(e),i=Object.keys(n.byAssetId).map((e=>a[e])).filter(vA).flat();if(i.some((e=>o.has(e))))return!0;const r=new Set(e.map((e=>{var t;return null==(t=s.byId[e])?void 0:t.dubbingWorkflowId})).filter(vA));return!!i.map((e=>{var t;return null==(t=s.byId[e])?void 0:t.dubbingWorkflowId})).filter(vA).some((e=>r.has(e)))}function Y7(e){if(G7(e)){if(!window.confirm("You are removing a layer that is currently being dubbed. Are you sure you want to remove it and cancel dubbing?"))return!1;z7("User removed layer being dubbed")}return!0}function K7(e,t){var a;if(!(null==e?void 0:e.magicSubtitleFrames))return!1;const{state:n}=Mu(),s=n.assets.byId[t];if(!s)return!1;const o=s.duration??(null==(a=s.extract_info)?void 0:a.duration);if(!o)return!1;let i=0;return Object.values(e.magicSubtitleFrames).forEach((e=>{const t=e[Xc.end];t>i&&(i=Math.max(i,t))})),i>o}const X7=e=>{const{hasMagicSubtitle:t,shortRowCount:a,tallRowCount:n,hasComments:s}=e;return 30*a+60*n+30*(t?1:0)+(s?25:0)+10},Z7=({hasMagicSubtitle:e,timelineRow:t,tracks:a,hasComments:n})=>{if(t<0)return{shortRowCount:0,tallRowCount:0,hasMagicSubtitle:e,hasComments:n};const s=new Set;for(const i of a){const e=i.timelineRow??0;t>e&&J7(i)&&s.add(e)}const o=s.size;return{shortRowCount:t-o,tallRowCount:o,hasMagicSubtitle:e,hasComments:n}},q7=({yPos:e,tracks:t,hasComments:a,hasMagicSubtitle:n,gutter:s=!1})=>{const o=[];for(const{isTall:d,timelineRow:c}of t){const e=Q7(d);o[c]=Math.max(e,o[c]??0)}let i=X7({hasMagicSubtitle:n,shortRowCount:0,tallRowCount:0,hasComments:a});const r=Math.max(i,e);for(let d=0;d<o.length;d+=1){const e=i+(o[d]??30);if(i<=r&&r<e){if(s){return(r-i)/(e-i)<.5?d:d+1}return d}i=e}const l=Math.ceil((r-i)/30);return o.length-1+l};function J7(e){return e.type===Nc.Persona||(e.type===Nc.Video||e.type===Nc.Audio)}const $7=(e,t,a)=>!!t.some((t=>{const n=J7(t);let s=!0;return a&&(s=!a.includes(t.id)),n&&s&&t.timelineRow===e})),Q7=e=>e?60:30,e8=e=>60===e,t8=(e,t)=>e.startTime===t.startTime&&e.duration===t.duration&&e.timelineRow===t.timelineRow,a8=(e,t)=>e.newTimelineRow-t.newTimelineRow?e.newTimelineRow-t.newTimelineRow:e.position.left-t.position.left,n8=(e,t)=>{const{state:a}=Mu(),n=a.studio.duration,s=vK(e,t);return s.sort(((e,t)=>{const{start:a}=bp(e,n),{start:s}=bp(t,n);return a<s?-1:a>s?1:0})),s},s8=()=>{const e=cU();o8({layers:e})},o8=PU.withUndoBatch((({layers:e})=>{const{dispatch:t,state:a}=Mu(),n=VJ(a),s=dY(),o=e.map((e=>e.id));if(Y7(o)){if(jJ({layerIds:o,undoable:!0,logEvent:!0,forceRipple:!0}),n){const{start:t}=I1(e);void 0!==t&&s>t&&KJ(t)}(()=>{const{dispatch:e,state:{studio:{analytics:t}}}=Mu();t.usedTimeline||e(vz({usedTimeline:!0}))})(),t(vz({usedRippleDelete:!0}))}})),i8=PU.withUndoBatch((()=>{const{dispatch:e,state:t}=Mu(),{studio:a}=t,{selectedItem:n,timelineGap:s}=a,o=VJ(t);s&&s.gapId===(null==n?void 0:n.id)&&(e(AK.deleteGap({startTime:s.startTime,endTime:s.startTime+s.duration,timelineRow:s.timelineRow})),e(ck(null)),o&&KJ(s.startTime))}));function r8({timelineUpdater:e,draggedTracksOverrides:t,hasComments:a,hasMagicSubtitles:n,oldTracks:s,anchorLayerId:o,anchorTimelineTime:i}){if(!t)return;const r=new Map;s.forEach((e=>{r.set(e.id,e)}));for(const d of Object.keys(t)){if(!r.get(d))return}let l=null;for(const[d,c]of Object.entries(t||{})){const t=r.get(d);if(!t)throw new $v("oldTrack not found",{extra:{trackId:d}});const o=c.position.top+c.position.height/2,i=Math.max(q7({hasComments:a,hasMagicSubtitle:n,tracks:s,yPos:o}),0);if("drag"===c.type){const e=i-t.timelineRow;l?(l.layerIds.push(d),e>l.timelineRowOffset&&(l.timelineRowOffset=e)):l={layerIds:[d],shift:c.diff,timelineRowOffset:e}}else"trim-start"===c.type?e.trimLayerStart({id:d,offset:c.diff}):"trim-end"===c.type&&e.trimLayerEnd({id:d,offset:c.diff})}l&&e.dragLayers({layerIds:l.layerIds,shift:l.shift,timelineRowOffset:l.timelineRowOffset,allowGapInsert:{anchorLayerId:o,anchorTimelineTime:i}})}function l8({dndGhostTrackDropPosition:e,droppedLayer:t,timelineUpdater:a}){if(!e.trackToReplace){const n=mp(t)?{startTime:e.timelineTime,endTime:e.timelineTime+((t.endTime??3)-(t.startTime??0))}:{videoDelay:e.timelineTime};a.insertAddableLayer({allowGapInsert:!0,layer:{...t,...n,timelineRow:e.timelineRow}})}}const d8="en-US",c8=(e,t,a)=>{const{start:n,end:s}=bp(e,a),o=eK(t,n),i=eK(t,s);return{left:o,width:Math.max(i-o,.01)}},u8=new WeakMap;function p8({animations:e,originalTracks:t,layers:a,pxInSecond:n,sceneDuration:s,hasMagicSubtitles:o,hasComments:i}){const l=[],d={},c={},u=new Map;for(const r of t)u.set(r.id,r);for(const p of a){const t=p.timelineRow??0;let m=!0;const g=d[t];void 0!==g?m=g:(m=$7(t,a),d[t]=m);const h=Q7(m);let v=0;const f=c[t];void 0!==f?v=f:(v=X7(Z7({timelineRow:t,tracks:a,hasMagicSubtitle:o,hasComments:i})),c[t]=v);const b={...c8(p,n,s),height:h,top:v},y=ET(p,"intro",e),w=ET(p,"outro",e);if((null==y?void 0:y.isCrossTransition)&&!fL(y.outroLayerId)){const e=n*((y.transitionDuration??0)/2);b.left+=e,b.width-=e}if((null==w?void 0:w.isCrossTransition)&&!fL(w.introLayerId)){const e=n*((w.transitionDuration??0)/2);b.width-=e}const _=u.get(p.id),C={...p,timelineRow:t,originalTimelinePosition:(null==_?void 0:_.timelinePosition)??b,timelinePosition:b,isTall:m},S=u8.get(p);S&&S.isTall===C.isTall&&r.shallowEqual(C.timelinePosition,S.timelinePosition)?l.push(S):(u8.set(p,C),l.push(C))}return l.sort(((e,t)=>e.timelinePosition.left-t.timelinePosition.left)),l}const m8=u((e=>S7(e)),(e=>mK(e)),uO,(e=>{var t;return!!(null==(t=e.comments.comments)?void 0:t.length)}),(e=>e.studio),(e=>e.studioLocal.draggedTracksOverrides),(e=>e.studioLocal.mediaItemGhostTrack),(e=>e.studioLocal.dndGhostTrackDropPosition),(e=>e.studio.animations),((e,t,a,n,s,o,i,r,l)=>{let d=null;const c=Object.values(s.allLayers.byId);if(!c.length)return{insertedTrackId:d,tracks:[]};const u=p8({animations:l,originalTracks:[],layers:c,pxInSecond:t||0,sceneDuration:e,hasMagicSubtitles:a,hasComments:n}),p=new AQ(s,"trackSelector",{readOnly:!0});o&&r8({draggedTracksOverrides:o.overrides,hasComments:n,hasMagicSubtitles:a,oldTracks:u,timelineUpdater:p,anchorLayerId:o.anchorLayerId,anchorTimelineTime:o.anchorTimelineTime}),i&&r&&(l8({timelineUpdater:p,droppedLayer:i,dndGhostTrackDropPosition:r}),d=i.id);return{insertedTrackId:d,tracks:p8({animations:l,originalTracks:u,layers:Object.values(p.complete().allLayers.byId),pxInSecond:t||0,sceneDuration:e,hasMagicSubtitles:a,hasComments:n})}})),g8=u(m8,(({tracks:e})=>e)),h8=u(m8,(e=>e.studioLocal.draggedTracksOverrides),(({insertedTrackId:e,tracks:t},a)=>{const n={},s=new Set(Object.keys((null==a?void 0:a.overrides)??{}));if(e&&s.add(e),0===s.size)return n;for(const o of t)s.has(o.id)&&(n[o.id]={position:o.timelinePosition,id:o.id,newIsTall:e8(o.timelinePosition.height),newTimelineRow:o.timelineRow});return n})),v8=u(g8,((e,t)=>t),((e,t)=>e.find((e=>e.id===t)))),f8=u(g8,(e=>{var t;return null==(t=e.studioLocal.mouseState)?void 0:t.id}),oU,(e=>e.studio.groups),((e,t,a,n)=>e.filter((e=>{if(e.id===t)return!0;if(!a)return!1;if("layer"===a.type)return e.id===a.id;if("group"===a.type){const t=n[a.id];return l1(e.id,{currentGroup:t})}return!1})))),b8=u((e=>UO(e)),(e=>mK(e)??1),(e=>{var t;return!!(null==(t=e.comments.comments)?void 0:t.length)}),(e=>{var t;const{timelineContainerWidth:a}=e.timelineStyles;return((null==(t=e.projectSessionSettings.timelinePosition)?void 0:t.timelineScrollLeft)??0)-.25*a}),(e=>{var t;const{timelineContainerWidth:a}=e.timelineStyles;return((null==(t=e.projectSessionSettings.timelinePosition)?void 0:t.timelineScrollLeft)??0)+a+.25*a}),oU,((e,t,a,n,s,o)=>{const i=Q7(!1),r=X7({hasMagicSubtitle:!1,shortRowCount:0,tallRowCount:0,hasComments:a}),l=[];let d=null,c=0;const u=5/t,p=25/t,m=200/t;e.sort(((e,t)=>e.startTime-t.startTime));const g="magicSubtitle"===(null==o?void 0:o.type)?o.frames:{};for(const f of e){if(!d){d={...f,containedFrames:[{assetId:f.assetId,containingLayerPlaybackRate:f.frame.containingLayerPlaybackRate,id:f.frame[Xc.id],wordIsClippedList:f.frame.wordIsClippedList}],containedFramesStartOffset:f.frame.startTimeOffset,containedFramesEndOffset:f.frame.endTimeOffset},c=1;continue}const e=f.endTime-f.startTime;if(f.startTime-d.endTime<u&&e<p)d.endTime=f.endTime,d.text+=` ${f.text}`,d.containedFrames.push({assetId:f.assetId,containingLayerPlaybackRate:f.frame.containingLayerPlaybackRate,id:f.frame[Xc.id],wordIsClippedList:f.frame.wordIsClippedList}),d.containedFramesEndOffset=f.frame.endTimeOffset,c+=1;else{c>1&&(d.text=`${c} subtitles (${d.text})`),l.push(d);e<m&&!g[f.frame[Xc.id]]?(d={...f,containedFrames:[{assetId:f.assetId,containingLayerPlaybackRate:f.frame.containingLayerPlaybackRate,id:f.frame[Xc.id],wordIsClippedList:f.frame.wordIsClippedList}],containedFramesStartOffset:f.frame.startTimeOffset,containedFramesEndOffset:f.frame.endTimeOffset},c=1):(l.push({...f,containedFrames:[{assetId:f.assetId,containingLayerPlaybackRate:f.frame.containingLayerPlaybackRate,id:f.frame[Xc.id],wordIsClippedList:f.frame.wordIsClippedList}],containedFramesStartOffset:f.frame.startTimeOffset,containedFramesEndOffset:f.frame.endTimeOffset}),d=null,c=0)}}d&&(c>1&&(d.text=`${c} subtitles (${d.text})`),l.push(d));const h=l.map((e=>{const a=eK(t,e.endTime)-eK(t,e.startTime),n={left:eK(t,e.startTime),width:a,height:i,top:r};return{...e,asset_id:e.assetId,isTall:!1,timelinePosition:n,originalTimelinePosition:n,text:e.text,timelineRow:-1,type:Nc.Text,containedFrames:e.containedFrames,containedFramesStartOffset:e.containedFramesStartOffset,containedFramesEndOffset:e.containedFramesEndOffset}})),v=[];for(const f of h){const[e,a]=zC(f),o=eK(t,e);!(eK(t,a)<=n||s<=o)&&v.push(f)}return v}));const y8=m({name:"trimWithTranscript",initialState:{activeSearchResultNdx:0,scrollTarget:null,selection:null,searchText:"",searchOpen:!1,showDeleted:!0},reducers:{scrollToTarget:(e,t)=>{e.scrollTarget=t.payload},setSelection:(e,t)=>{e.selection=t.payload},setSearchOpen:(e,t)=>{e.searchOpen=t.payload},setSearchText:(e,t)=>{e.searchText=t.payload},setActiveSearchResultNdx:(e,t)=>{e.activeSearchResultNdx=t.payload},setShowDeleted:(e,t)=>{e.showDeleted=t.payload}}}),w8=y8.actions,{scrollToTarget:_8,setSelection:C8,setSearchOpen:S8,setActiveSearchResultNdx:x8,setSearchText:I8,setShowDeleted:A8}=y8.actions,k8=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),T8=(e,t,a)=>{const n=e/t,s=a/t-n*n;return[n,Math.sqrt(s)]},E8={padding:12,fontSize:15,fontFamily:"Open Sans",lineHeightRatio:1.35,font:"15px Open Sans",searchPadding:60},L8={scrollZoneHeight:20,maxScrollSpeed:30,scrollBarWidth:16},j8="twt-delete-button",R8="twt-restore-button",N8="twt-broll-button",M8=new Set(["twt-delete-button","twt-restore-button","twt-broll-button","twt-text-button"]);function P8(e){const t=e.getAttribute("data-pndx"),a=e.getAttribute("data-wndx");if(null===t||null===a)return null;const n=parseInt(t,10),s=parseInt(a,10);return isNaN(n)||isNaN(s)?null:{paragraphNdx:n,wordNdx:s}}function F8(e,t){if(!t.current)return null;const a=e.clientX,n=e.clientY,s=t.current.querySelectorAll("span[data-pndx][data-wndx]");let o=null,i=1/0;return s.forEach((e=>{const t=e.getBoundingClientRect(),s=t.left+t.width/2,r=t.top+t.height/2,l=Math.sqrt(Math.pow(a-s,2)+Math.pow(n-r,2));l<i&&(i=l,o=e)})),o}function D8(e,t,a){if(!a.current)return null;const n=`span[data-pndx="${e}"][data-wndx="${t}"]`;return a.current.querySelector(n)}function O8(e){if("span"!==e.tagName.toLowerCase())return!1;const t=e.hasAttribute("data-pndx"),a=e.hasAttribute("data-wndx");return t&&a}const U8=(e,t,a)=>{if(!t||!a)return!1;if(s=a,(n=t).paragraphNdx===s.paragraphNdx&&n.wordNdx===s.wordNdx&&e.isSpace)return!1;var n,s;const o=e.paragraphNdx>t.paragraphNdx||e.paragraphNdx===t.paragraphNdx&&e.wordNdx>=t.wordNdx,i=e.paragraphNdx<a.paragraphNdx||e.paragraphNdx===a.paragraphNdx&&e.wordNdx<=a.wordNdx,r=e.paragraphNdx>a.paragraphNdx||e.paragraphNdx===a.paragraphNdx&&e.wordNdx>=a.wordNdx,l=e.paragraphNdx<t.paragraphNdx||e.paragraphNdx===t.paragraphNdx&&e.wordNdx<=t.wordNdx;return o&&i||r&&l};function B8(e,t){const{paragraphNdx:a,wordNdx:n}=e;if(n>0)return{paragraphNdx:a,wordNdx:n-1};if(a>0){return{paragraphNdx:a-1,wordNdx:t[a-1].length-1}}return{paragraphNdx:0,wordNdx:0}}function W8(e,t){const{paragraphNdx:a,wordNdx:n}=e;return n<t[a].length-1?{paragraphNdx:a,wordNdx:n+1}:a<t.length-1?{paragraphNdx:a+1,wordNdx:0}:{paragraphNdx:a,wordNdx:n}}function V8(e){return!!e&&"object"==typeof e&&"id"in e&&M8.has(e.id)}function H8(e){return e&&"object"==typeof e&&"parentElement"in e?e.parentElement:null}function z8(e){return V8(e)||V8(H8(e))||V8(H8(H8(e)))}function G8({paragraphs:e,startParagraphNdx:t,startWordNdx:a,endParagraphNdx:n,endWordNdx:s}){let o=!1,i=!1,r=t,l=a,d=n,c=s;(t>n||t===n&&a>s)&&(r=n,l=s,d=t,c=a);const u=function(e,t){const a=[],{startParagraphNdx:n,startWordNdx:s,endParagraphNdx:o,endWordNdx:i}=t;for(let r=n;r<=o;r++){const t=e[r];if(!t)continue;const l=r===n?s:0,d=r===o?i:t.length-1;for(let e=l;e<=d;e++){const n=t[e];n&&a.push(n)}}return a}(e,{startParagraphNdx:r,startWordNdx:l,endParagraphNdx:d,endWordNdx:c});for(const p of u)if(p.deleted?i=!0:o=!0,o&&i)return tx.MIXED;return i?tx.DELETED:tx.INCLUDED}function Y8(e){const t=e.getBoundingClientRect();return{center:{x:(t.left+t.right)/2,y:(t.top+t.bottom)/2},bottom:t.bottom}}function K8(e,t,a){let n=null,s=1/0;const o=Y8(e);return t.forEach((t=>{if(t===e)return;const i=Y8(t),r=k8(o.center,i.center),l=i.bottom<o.center.y,d=i.center.y>o.center.y;("up"===a&&l||"down"===a&&d)&&r<s&&function(e,t,a){const n=Number(e.dataset.pndx),s=Number(t.dataset.pndx);return"up"===a?s===n||s===n-1:s===n||s===n+1}(e,t,a)&&(s=r,n=t)})),n}function X8(){Mu().dispatch(w8.setSelection(null))}function Z8(e,t){const{paragraphNdx:a,wordNdx:n}=e.start,{paragraphNdx:s,wordNdx:o}=e.end;Mu().dispatch(w8.setSelection({status:G8({paragraphs:t,startParagraphNdx:a,startWordNdx:n,endParagraphNdx:s,endWordNdx:o}),start:{paragraphNdx:a,wordNdx:n},end:{paragraphNdx:s,wordNdx:o}}))}const q8=.3,J8=.1,$8=.15;function Q8(e,t){let a=0,n=e.length-1;for(;a<n;){const s=Math.floor((a+n)/2);if(t<e[s].val){if(s>0&&t>e[s-1].val)return e[s-1];n=s}else{if(s<e.length-1&&t<e[s+1].val)return e[s];a=s+1}}return e[a]}const eee=(e,t)=>{const{startTime:a,endTime:n}=vp(t),s=e.end_time-e.start_time;return(Math.min(n,e.end_time)-Math.max(a,e.start_time))/s};function tee(e,t){const a=e.sortTimes.layer-t.sortTimes.layer;if(0!==a)return a;const n=e.timelineRow-t.timelineRow;return 0!==n?n:e.sortTimes.word-t.sortTimes.word}const aee=3;const nee=({assetId:e,includeDeleted:t,includeSilences:a})=>u((t=>{var a;const n=iee(t),s=null==(a=t.assetTranscriptions.byId[e])?void 0:a[n];return"completed"===(null==s?void 0:s.state)?s.words:null}),qD([e]),(e=>e.studio.animations.byId),((n,s,o)=>{var i;if(!(null==n?void 0:n.length)||!s.length)return[];const r=a?((e,t)=>{if(0===e.length)return[];const a=[];for(let s=0;s<e.length;s++){const o=e[s];if(!o)continue;if(0===s&&n(0,o.start_time,o.speaker),a.push(o),s===e.length-1){n(o.end_time,t,o.speaker);break}const i=e[s+1];i&&n(o.end_time,i.start_time,o.speaker)}return a;function n(e,t,n){const s=t-e;s>=.3*3&&a.push({start_time:e,end_time:t,speaker:n,word:OL.repeat(Math.ceil(s/.3))})}})(n,(null==(i=s[0])?void 0:i.duration)||aee):n,l=function({animationsById:e,layers:t}){const a={};return t.forEach((t=>{var n,s;const{startTime:o=0,endTime:i=t.duration||aee}=t,r={};if(np(t)){const[a]=(null==(n=t.animation)?void 0:n.outro)||[];if(a){const t=e[a];t&&yL(t)&&t.transitionDuration&&(r.endTime=i-t.transitionDuration/2)}const[l]=(null==(s=t.animation)?void 0:s.intro)||[];if(l){const t=e[l];t&&yL(t)&&t.transitionDuration&&(r.startTime=o+t.transitionDuration/2)}}a[t.id]=r})),a}({animationsById:o,layers:s}),d=s.map((e=>{var t,a;return[{val:(null==(t=l[e.id])?void 0:t.startTime)??e.startTime??0,item:e,type:"left"},{val:(null==(a=l[e.id])?void 0:a.endTime)??e.endTime??3,item:e,type:"right"}]})).flat().sort(((e,t)=>e.val-t.val)),c=function({layerTransitionTimes:e,layers:t,words:a}){var n,s;const o=[];for(const i of t){const{startTime:t=0,endTime:a=i.duration||aee}=i;o.push({type:"layer-start",layer:i,time:(null==(n=e[i.id])?void 0:n.startTime)??t}),o.push({type:"layer-end",layer:i,time:(null==(s=e[i.id])?void 0:s.endTime)??a})}return a.forEach(((e,t)=>{const n=a[t-1];let s=0;if(n){const t=e.start_time-n.end_time;s=t>0?Math.min(t/2,.5):0}const i=a[t+1];let r=0;if(i){const t=i.start_time-e.end_time;r=t>0?Math.min(t/2,.5):0}const l={leadingGapToRemove:s,trailingGapToRemove:r};o.push({type:"word-start",word:e,time:e.start_time,transcriptionNdx:t,gap:l}),o.push({type:"word-end",word:e,time:e.end_time,transcriptionNdx:t,gap:l})})),o.sort(((e,t)=>e.time-t.time||("layer-start"===e.type&&"word-end"===t.type?1:"word-end"===e.type&&"layer-start"===t.type||"layer-end"===e.type&&"word-start"===t.type?-1:"word-start"===e.type&&"layer-end"===t.type?1:0))),o}({layers:s,layerTransitionTimes:l,words:r}),u=new Set,p=[];function m(t,a,n){var s;const o=null!==n,{startTime:i,endTime:r,videoDelay:d,playbackRate:c}=vp(t),m=(null==(s=l[t.id])?void 0:s.endTime)??r,{start:g,end:h}=bp(t),v=o?a.word.start_time:Math.max(a.word.start_time,i),f=o?a.word.end_time:Math.min(a.word.end_time,m),b=(f-v)/c,y=d+(v-i)/c,w=y+b,_="left"===n?g:h,C=WC(o?_:y+b/2,.01),S=g,x=y-g,I=h-w,A=Math.max(Math.min(a.gap.leadingGapToRemove,x),0),k=Math.max(Math.min(a.gap.trailingGapToRemove,I),0);u.add(a.transcriptionNdx);const T=o?_:y-A,E=o?_:w+k;p.push({assetId:e,deleted:o,tetheredDirection:n,layerId:t.id,transcriptionNdx:a.transcriptionNdx,start:v-A,end:f+k,sortTimes:{layer:S,word:C},speaker:a.word.speaker,text:a.word.word,textLowercaseAndTrailingSpace:a.word.word.toLowerCase()+" ",timelineRow:t.timelineRow??0,timelineStart:T,timelineEnd:E})}const g=new Set;let h=null,v=null;for(const e of c)switch(e.type){case"layer-start":v=null,g.add(e.layer);break;case"layer-end":g.delete(e.layer);break;case"word-start":for(const t of g)!u.has(e.transcriptionNdx)&&eee(e.word,t)>.1&&(m(t,e,null),v=null);t&&!u.has(e.transcriptionNdx)&&(h=e.time);break;case"word-end":for(const t of g)!u.has(e.transcriptionNdx)&&eee(e.word,t)>.5&&(m(t,e,null),v=null);if(t&&!u.has(e.transcriptionNdx)&&null!==h){let t;if((!v||h-v.lastTime>1)&&(v=null),v)t=v.layerInfo,v.lastTime=h;else{const e=Q8(d,h);t=e,v={layerInfo:e,lastTime:h}}m(t.item,e,t.type)}}return p.sort(tee),p})),see=u((e=>{var t;return null==(t=e.projectSessionSettings.trimWithTranscriptEnabledAssets)?void 0:t.assetIds}),((e,t)=>t??e.trimWithTranscript.showDeleted),((e,t,a)=>!!a),((e=[],t,a)=>e.map((e=>nee({assetId:e,includeDeleted:t,includeSilences:a}))))),oee=u((e=>e.projectSessionSettings.trimWithTranscriptEnabledAssets),TD,((e,t)=>{const a=new Set(t);return((null==e?void 0:e.assetIds)||[]).filter((e=>a.has(e)))})),iee=e=>{var t;return(null==(t=e.projectSessionSettings.trimWithTranscriptEnabledAssets)?void 0:t.languageCode)||"en-US"},ree=Gu((e=>e.assetTranscriptions.byId),TD,iee,((e,t,a)=>Object.fromEntries(t.map((t=>{const n=e[t];return a&&n?[t,n[a]]:[t,null]})))));function lee(e,t){return WL(e.flat().sort(tee),t)}function dee({includeDeletedOverride:e,includeSilencesOverride:t=!1}={}){const{state:a}=Mu(),{languageCode:n}=a.projectSessionSettings.trimWithTranscriptEnabledAssets||{};return lee(see(a,e,t).map((e=>e(a))),n)}const cee=Gu((e=>{var t;return null==(t=e.projectSessionSettings.trimWithTranscriptEnabledAssets)?void 0:t.languageCode}),(e=>see(e,e.trimWithTranscript.showDeleted,!0).map((t=>t(e)))),((e,t)=>lee(t,e)));function uee(){const e=Du((e=>{var t;return null==(t=e.projectSessionSettings.trimWithTranscriptEnabledAssets)?void 0:t.languageCode})),t=Du((e=>see(e,e.trimWithTranscript.showDeleted,!0).map((t=>t(e)))),Ou);return i.useMemo((()=>lee(t,e)),[t,e])}function pee(e,t,a){if(!e)return[];const{start:n,end:s}=e,o=Object.values(a),i=new Set,r=new Set;for(const u of t)for(const e of u)i.add(e.assetId),r.add(e.layerId);const l=o.filter((e=>{if(!e.asset_id||!i.has(e.asset_id))return!1;if(r.has(e.id))return!1;const{startTime:t,endTime:a}=vp(e);return a-t<3})).reduce(((e,t)=>{const{videoDelay:a}=vp(t),n=e[a]||[];return n.push(t),e[a]=n,e}),{});let d=null;const c=[];for(let u=n.paragraphNdx;u<=s.paragraphNdx;u++){const e=t[u];if(!e)continue;const a=u===n.paragraphNdx?n.wordNdx:0,o=u===s.paragraphNdx?s.wordNdx:e.length-1;for(let n=a;n<=o;n++){const a=e[n];if(!a)continue;let s=e[n-1];if(!s&&u>0){const e=t[u-1];e&&(s=e[e.length-1])}let o=e[n+1];if(!o&&u<t.length-1){const e=t[u+1];e&&(o=e[0])}const i=a.deleted&&!!s&&s.transcriptionNdx===a.transcriptionNdx-1&&(!s.deleted||a.layerId!==s.layerId)&&VC(s.timelineEnd,a.timelineStart,.1),r=a.deleted&&!!o&&o.transcriptionNdx===a.transcriptionNdx+1&&(!o.deleted||a.layerId!==o.layerId)&&VC(a.timelineEnd,o.timelineStart,.1),p=o&&r?o.layerId:a.layerId;if(!d){d={assetId:a.assetId,deleted:a.deleted,couldExtendLeftWord:i,couldExtendRightWord:r,layerRelativeStart:a.start,layerRelativeEnd:a.end,startLayerId:a.layerId,endLayerId:p,tetheredDirection:a.tetheredDirection,timelineRelativeStart:a.timelineStart,timelineRelativeEnd:a.timelineEnd,timelineRow:a.timelineRow};continue}const m=a.layerId===d.startLayerId,g=a.deleted===d.deleted;if(!m||!g){c.push(d);const e=l[d.timelineRelativeEnd];if(e&&(!d.deleted||a.deleted))for(const t of e){const{startTime:e,endTime:n,playbackRate:s}=vp(t);(n-e)/s===a.timelineStart-d.timelineRelativeEnd&&t.asset_id&&c.push({assetId:t.asset_id,deleted:!1,startLayerId:t.id,endLayerId:t.id,layerRelativeStart:e,layerRelativeEnd:n,couldExtendLeftWord:!1,couldExtendRightWord:!1,tetheredDirection:null,timelineRelativeStart:d.timelineRelativeEnd,timelineRelativeEnd:a.timelineStart,timelineRow:d.timelineRow})}d={assetId:a.assetId,deleted:a.deleted,couldExtendLeftWord:i,couldExtendRightWord:r,startLayerId:a.layerId,endLayerId:p,layerRelativeStart:a.start,layerRelativeEnd:a.end,tetheredDirection:a.tetheredDirection,timelineRelativeStart:a.timelineStart,timelineRelativeEnd:a.timelineEnd,timelineRow:a.timelineRow}}else d.layerRelativeEnd=a.end,d.timelineRelativeEnd=a.timelineEnd,d.couldExtendRightWord=r,d.endLayerId=p}}return d&&c.push(d),c}const mee=u((e=>e.trimWithTranscript.selection),(e=>{if(!e)return null;const{start:t,end:a,...n}=e,s=function(e,t){return e.paragraphNdx>t.paragraphNdx||e.paragraphNdx===t.paragraphNdx&&e.wordNdx>t.wordNdx?{start:t,end:e}:{start:e,end:t}}(t,a);return{...n,...s}}));function gee(){const{state:e}=Mu(),t=mee(e),a=dee({includeDeletedOverride:e.trimWithTranscript.showDeleted,includeSilencesOverride:!0});if(!t)return[];return pee(t,a,e.studio.allLayers.byId)}function hee(e,t){let a=null;return wY(e.id,t)&&(a="keyframes"),a&&RE((()=>{const{dispatch:e}=Mu();e(db({type:"warning",description:`Cannot use Trim with Transcript on a layer with ${a}. Please remove and try again.`})),ov("Displayed Toast For Trim with Transcript",{reason:a})})),a}function vee(e,t,a){const{videoDelay:n,startTime:s,endTime:o}=vp(e),i=function(e,t){const{outroTransition:a}=LT(e,t);return(null==a?void 0:a.transitionDuration)??0}(e,a),r=function(e,t){const{introTransition:a}=LT(e,t);return(null==a?void 0:a.transitionDuration)??0}(e,a);if(0===i&&0===r)return!1;let l,d;i?(l=n+(o-s)-i,d=l+i):(l=n,d=l+r);const c=Math.abs(t.timelineRelativeStart-l)<=.5||Math.abs(t.timelineRelativeStart-d)<=.5,u=Math.abs(t.timelineRelativeEnd-l)<=.5||Math.abs(t.timelineRelativeEnd-d)<=.5;return!(!c&&!u)&&(RE((()=>{const{dispatch:e}=Mu();e(db({type:"warning",description:"You are editing near a cross transition. Please remove the cross transition and try again."})),ov("Displayed Toast For Trim with Transcript",{reason:"cross transition"})})),!0)}const fee=PU.withUndoBatch((()=>{var e;const{dispatch:t}=Mu(),a=gee().filter((e=>!e.deleted));yee({ranges:a}),t(C8(null)),t(_8("currentTime"));const n=null==(e=a[0])?void 0:e.timelineRelativeStart;void 0!==n&&(JJ({time:n}),U$(n)),function(e){var t,a,n;const{dispatch:s,state:o}=Mu(),i=(null==(t=Mu().state.projectSessionSettings.trimWithTranscriptAnalytics)?void 0:t.timesEdited)??0,r=(null==(a=Mu().state.projectSessionSettings.trimWithTranscriptAnalytics)?void 0:a.secondsRemoved)??0,l=e.reduce(((e,t)=>e+(t.layerRelativeEnd-t.layerRelativeStart)),0);s(Bh({timesEdited:i+1,secondsRemoved:r+l})),i<3&&ov("Trim with Transcript - Trimmed Transcript",{amountTrimmedSec:Math.round(l)}),(null==(n=o.currentUser.user.shownPopups)?void 0:n[Gc.transcriptTabTrim])||OP(Gc.transcriptTabTrim)}(a)})),bee=(e,t)=>e.timelineRow===t.timelineRow?t.timelineRelativeStart-e.timelineRelativeStart:e.timelineRow-t.timelineRow,yee=PU.withUndoBatch((({ranges:e})=>{const{dispatch:t}=Mu();t(AK.trimRanges({ranges:e}))})),wee=PU.withUndoBatch((()=>{const{dispatch:e}=Mu(),t=gee().filter((e=>e.deleted));e(AK.untrimRanges({ranges:t})),e(ok()),e(C8(null)),function(){var e;const{dispatch:t}=Mu();(null==(e=Mu().state.projectSessionSettings.trimWithTranscriptAnalytics)?void 0:e.usedRestore)||(ov("Trim with Transcript - Restored Transcript"),t(Bh({usedRestore:!0})))}()}));function _ee(e){const{dispatch:t,state:a}=Mu(),n=Object.values(a.studio.allLayers.byId),s=[],o=new Set;let i=0;for(const{start:l,end:d,assetId:c}of e){o.add(c);const e=n.find((e=>e.asset_id===c||nL(e)===c));if(!e)throw new Error(`Could not find layer for assetId ${c}`);if(!np(e)&&!ep(e))throw new Error("Layer is not a video or audio layer");const t={...e,id:fe(12),playbackRate:1,startTime:l,endTime:d,videoDelay:i,name:e.name,type:e.type,timelineRow:0};s.push(t),i+=d-l}const r=[];for(const l of n)r.push(l.id);PU.execInUndoBatch((()=>{jJ({layerIds:r,undoable:!0}),t(VA({layers:s,isUndoable:!0}))}))}const Cee=({restoreStartTime:e,restoreEndTime:t,layerToRestoreFrom:a,timelineUpdater:n})=>{var s,o;if(t<=e)throw new Error("endTime must be greater than startTime");if(void 0===a.timelineRow)throw new Error("layer must have a timelineRow");const i={},{startTime:r,endTime:l,playbackRate:d}=vp(a),{start:c,end:u}=bp(a),p=t>=l?"right":"left",m="right"===p?e-l:r-t;if(n.splitLayer({timelineTime:"right"===p?u:c,id:a.id}),m>.1){const i=tA(),r=n.getNewLayerDepth(a.depth,"ahead"),l={...a,id:i,depth:r,endTime:t,startTime:e},d=null==(o=null==(s=a.animation)?void 0:s.constant)?void 0:o[0];if(d){const e=n.cloneAnimation({animation:n.getAnimation(d),layerId:i});e&&(l.animation={constant:[e.id]})}"right"===p&&(l.videoDelay=u),n.insertLayer({layer:l})}else{const s=(t-e)/d;"right"===p?n.trimLayerEnd({id:a.id,offset:s}):n.trimLayerStart({id:a.id,offset:-s});const o=n.getSortedLayersInRow(a.timelineRow),r=o.findIndex((e=>e.id===a.id)),l=o[r+("right"===p?1:-1)];if(l){const e=n.fuseLayers({idA:a.id,idB:l.id});e&&(i[e.removedLayer.id]=e.keptLayer.id)}}return{mergedLayerIdByDeletedLayerId:i}},See=(e,t)=>{switch(t.type){case AK.applyPatches.type:return te(e,(e=>{!function(e,t){const a=new Set;for(const n of t){if("allLayers"===n.p[0]&&"byId"===n.p[1]){const e=n.p[2];"string"==typeof e&&a.add(e)}wQ(n)?c.set(e,n.p,n.oi):yQ(n)?c.unset(e,n.p):bQ(n)&&c.set(e,n.p,n.oi)}ME(a)}(e,t.payload.patches),Qz(t.payload.patches,t.type)}));case AK.splitLayer.type:{const a=new AQ(e,t.type),{layerId:n,sceneTime:s,newLayerId:o,disableRipple:i}=t.payload;return a.splitLayer({id:n,timelineTime:s,newLayerId:o,ripple:!i}),a.complete()}case AK.smartCut.type:return((e,t)=>{const a=new AQ(e,t.type,{ripple:!0}),{layerId:n,silences:s}=t.payload;a.updateLayer(n,{usedProFeatures:["smart-cut"]});const o=e.allLayers.byId[n];let i=n;const r=(null==o?void 0:o.isReversed)?function(e,t){const a=[];for(const n of e)a.push({start:t-n.end,end:t-n.start});return a.reverse()}(s,o.duration??0):s;for(const l of r){let e=null;const t=a.layerTimeToTimelineTime(i,l.start),[n,s]=a.splitLayer({id:i,timelineTime:t});if(e=s||n,e){const t=a.layerTimeToTimelineTime(e.id,l.end),[n,s]=a.splitLayer({id:e.id,timelineTime:t});a.deleteLayerAndGroupLayers({layerId:n.id}),s&&(i=s.id)}}return a.complete()})(e,t);case AK.trimRanges.type:return((e,t)=>{const a=new AQ(e,t.type,{ripple:!0}),{ranges:n}=t.payload,s=n.sort(bee);for(const o of s){const t=e.allLayers.byId[o.startLayerId];if(!t)continue;if(hee(t,e))continue;if(vee(t,o,e.animations))continue;const{startTime:n,playbackRate:s}=vp(t),{start:i,end:r}=bp(t);let l=i+(o.layerRelativeStart-n)/s;VC(l,i,.1)&&(l=i);let d=l+(o.layerRelativeEnd-o.layerRelativeStart)/s;VC(d,r,.1)&&(d=r);const c=l-i<r-d?"start":"end",[u,p]=a.splitLayer({id:t.id,timelineTime:"start"===c?d:l}),m="start"===c?u:p;let g=null;if(m){const[e,t]=a.splitLayer({id:m.id,timelineTime:"start"===c?l:d});g="start"===c?t:e,g||(g=e)}else g=t;if(!g)continue;const h=a.getLayerGroupInfo(g.id),v=h?a.getGroupLayers(h.groupId):[],f=new Set([g.id]);for(const e of v)f.add(e.id);a.deleteLayers({ids:Array.from(f)})}return a.complete()})(e,t);case AK.untrimRanges.type:return((e,t)=>{const a=new AQ(e,t.type,{ripple:!0}),{ranges:n}=t.payload,s=n.sort(bee),o={};for(const i of s){const t=a.getLayerOrNull(i.startLayerId)??a.getLayerOrNull(o[i.startLayerId]??""),n=a.getLayerOrNull(i.endLayerId)??a.getLayerOrNull(o[i.endLayerId]??""),s="left"===i.tetheredDirection?t??n:n??t;if(!s)continue;if(hee(s,e))continue;if(vee(s,i,e.animations))continue;const{mergedLayerIdByDeletedLayerId:r}=Cee({layerToRestoreFrom:s,restoreStartTime:i.layerRelativeStart,restoreEndTime:i.layerRelativeEnd,timelineUpdater:a});Object.entries(r).forEach((([e,t])=>{o[e]=t}))}return a.complete()})(e,t);case AK.applyTransition.type:{const a=new AQ(e,t.type,{undoable:!0}),{leftLayerId:n,rightLayerId:s,transition:o}=t.payload;return a.applyTransitionToLayers({leftLayerId:n,rightLayerId:s,transition:o}),a.complete()}case AK.deleteAnimation.type:{const a=new AQ(e,t.type,{undoable:!0});return a.deleteAnimation(t.payload.animationId),a.complete()}case AK.convertToStaticProject.type:{const a=new AQ(e,t.type,{undoable:!0});return a.convertToStaticProject(),a.complete()}case AK.insertFreezeFrame.type:{const a=new AQ(e,t.type,{undoable:!0}),{layer:n,layerIdToSplit:s,time:o}=t.payload;return s?(a.splitLayer({id:s,timelineTime:o}),a.insertLayer({allowGapInsert:!0,layer:n})):a.insertLayer({allowGapInsert:!0,layer:n}),a.complete()}case AK.applyDraggedTracksOverride.type:{const{draggedTracksOverrides:a,hasComments:n,hasMagicSubtitles:s,pxInSecond:o,videoDuration:i,anchorLayerId:r,anchorTimelineTime:l}=t.payload,d=p8({animations:e.animations,originalTracks:[],layers:Object.values(e.allLayers.byId),pxInSecond:o||0,sceneDuration:i,hasMagicSubtitles:s,hasComments:n}),c=new AQ(e,t.type,{undoable:!0});r8({timelineUpdater:c,draggedTracksOverrides:a,oldTracks:d,hasComments:n,hasMagicSubtitles:s,anchorLayerId:r,anchorTimelineTime:l});const u=new Set;for(const e of Object.keys(a||{})){const t=c.getLayerOrNull(e);t&&u.add(t.timelineRow??0)}const p=c.complete();return p.selectedTimelineRows=Array.from(u).sort(((e,t)=>e-t)),p}case AK.trackDroppedOnTimeline.type:{const{dropPosition:a,droppedLayer:n}=t.payload,s=new AQ(e,t.type,{undoable:!0});return l8({dndGhostTrackDropPosition:a,droppedLayer:n,timelineUpdater:s}),s.complete()}case AK.changeTransitionDuration.type:{const a=new AQ(e,t.type,{undoable:!0});return a.changeTransitionDuration({animationId:t.payload.animationId,duration:t.payload.duration}),a.complete()}case AK.applyAnimation.type:{const a=new AQ(e,t.type,{undoable:!0}),{animation:n,layerId:s,type:o}=t.payload;return a.applyAnimationToLayer({animation:n,layerId:s,type:o}),a.complete()}case AK.reduceBrollGaps.type:return((e,t)=>{var a,n;const s=new AQ(e,t.type,{undoable:!0,ripple:!1}),{layerIds:o,parentStart:i}=t.payload,r=o.map((t=>e.allLayers.byId[t])).filter(vA);r.sort(((e,t)=>bp(e).start-bp(t).start)),void 0!==i&&"image"===(null==(a=r[0])?void 0:a.type)&&s.trimLayerStart({id:r[0].id,offset:i-bp(r[0]).start,allowGroupRipple:!1,allowRowRipple:!1}),void 0!==i&&"video"===(null==(n=r[0])?void 0:n.type)&&(s.dragLayer({layerId:r[0].id,shift:i-bp(r[0]).start,ripple:!1}),s.trimLayerEnd({id:r[0].id,offset:bp(r[0]).start-i}));for(let l=0;l<r.length;l++){const e=r[l-1],t=r[l],a=r[l+1];if(!t)throw new Error("middleBefore is null");const n=e?s.getLayerOrNull(e.id):null,o=s.getLayerOrNull(t.id),i=a?s.getLayerOrNull(a.id):null,d=n?bp(n):null,c=o?bp(o):null,u=i?bp(i):null,p=d&&c?c.start-d.end:-1,m=u&&c?u.start-c.end:-1;p>0&&s.trimLayerStart({id:t.id,offset:-p,allowGroupRipple:!1,allowRowRipple:!1}),m>0&&s.trimLayerEnd({id:t.id,offset:m,allowGroupRipple:!1,allowRowRipple:!1})}return s.complete()})(e,t);case AK.deleteRows.type:{const a=new AQ(e,t.type,{undoable:!0});return a.deleteRows(t.payload.rows),a.complete()}case AK.insertRow.type:{const a=new AQ(e,t.type,{undoable:!0});return a.insertRow({row:t.payload.row}),a.complete()}case AK.moveRowToRow.type:{const a=new AQ(e,t.type,{undoable:!0}),{fromRow:n,toRow:s}=t.payload;return a.moveRowToRow(n,s),a.complete()}case AK.assetsDurationChanged.type:{const a=new AQ(e,t.type,{undoable:!0});for(const{assetId:e,newDuration:n}of t.payload.updates)a.assetsDurationChanged(e,n);return a.complete()}case AK.makeRoomForDetachAudio.type:{const a=new AQ(e,t.type,{undoable:!0});return a.makeRoomForDetachAudio(t.payload.layerId),a.complete()}case AK.trimLayerStart.type:{const a=new AQ(e,t.type,{undoable:!0});return a.trimLayerStart({id:t.payload.layerId,offset:t.payload.offset,overlapBehavior:t.payload.overlapBehavior}),a.complete()}case AK.trimLayerEnd.type:{const a=new AQ(e,t.type,{undoable:!0});return a.trimLayerEnd({id:t.payload.layerId,offset:t.payload.offset,overlapBehavior:t.payload.overlapBehavior}),a.complete()}case AK.turnOffSpeakerFocus.type:{const a=new AQ(e,t.type,{undoable:!0});return a.turnOffSpeakerFocus(t.payload.assetId),a.complete()}case AK.UNSAFE_updateLayerDirectly.type:{const a=new AQ(e,t.type,{undoable:!0});return a.UNSAFE_updateLayerDirectly(t.payload.layerId,t.payload.update),a.complete()}case AK.changeLayerSpeed.type:{const a=new AQ(e,t.type,{undoable:!0});for(const e of t.payload.layerIds)a.changeLayerSpeed({layerId:e,referencePlaybackRate:t.payload.referencePlaybackRate,speed:t.payload.speed});return a.complete()}case AK.createMontage.type:{const a=new AQ(e,t.type,{undoable:!0});return a.createMontage({layerIds:t.payload.layerIds,slideDuration:t.payload.slideDuration}),a.complete()}case AK.changeVisibleSectionOfVideoLayer.type:{const a=new AQ(e,t.type,{undoable:!0}),{layerId:n,newStartTime:s}=t.payload;return a.changeVisibleSectionOfVideoLayer(n,s),a.complete()}case AK.changeStaticLayersDuration.type:{const a=new AQ(e,t.type,{undoable:t.payload.undoable});return a.changeStaticLayersDuration({layerIds:t.payload.layerIds,newDuration:t.payload.newDuration,noMontage:t.payload.noMontage}),a.complete()}case AK.reverseLayers.type:{const a=new AQ(e,t.type,{undoable:!0});return a.reverseLayers(t.payload.layerIds),a.complete()}case AK.replaceLayer.type:{const{newLayer:a,replacedLayerId:n,useNewLayerLength:s,undoable:o}=t.payload,i=new AQ(e,t.type,{undoable:o});return i.replaceLayer({newLayer:a,replacedLayerId:n,useNewLayerLength:s}),i.complete()}case AK.deleteGap.type:{const a=new AQ(e,t.type,{undoable:!0});return a.deleteGap(t.payload),a.complete()}default:return e}};const xee=e=>{const{groups:t}=(e=>{let t={...e.groups||{}};if(!e.selectedItem)for(const a of Object.keys(t)){const{groups:n}=FG({...e,groups:t},a);t=n}return{groups:t}})(e);return{groups:t}},Iee=(e,t)=>{const a=c.cloneDeep(OH()),{source:n}=t;(e=>"0.18"===e.projectVersion)(e)?(((e,t)=>{Object.entries(t.studio).forEach((([a,n])=>{XQ.has(a)&&(KQ.has(a)?t.preserveId&&(e[a]=n):e[a]=n)}))})(a,t),((e,t,a)=>{e.origin=t.origin,e.snapToGrid=t.snapToGrid,e.overlayMounted=t.overlayMounted,t.width&&t.height&&(e.width=t.width,e.height=t.height),e.duration=NG(e,nA(t)),a.preserveId&&(e._id=a.studio._id,e.projectId=a.studio.projectId),Object.values(e.allLayers.byId).forEach((e=>{if("local"!==e.source)return;const a=_L({layerId:e.id,layersById:t.allLayers.byId,tetheredWaveforms:t.tetheredWaveforms});"local"!==(null==a?void 0:a.source)&&Object.assign(e,a)})),e.selectedItem=t.selectedItem,e.selectedTimelineRows=t.selectedTimelineRows,e.selectedTransition=t.selectedTransition})(a,e,t)):console.warn("Discarding old project state: ",e);const s=t.isFirstVideoLoad||"onGetSharedDoc"===t.source?xee(a):{};a.refreshKey=O.v4(),"onOp"!==n&&(a.pendingGoogleDriveUploads=[]);const o={originalReleaseVersion:Pl()};return{...a,...s,...o}},Aee=(e=OH(),t)=>{let a=e;switch(a.allLayers||(a.allLayers={byId:{}}),a=((e,t)=>{switch(t.type){case"ADD_TETHERED_WAVEFORM":return te(e,(e=>{e.tetheredWaveforms||(e.tetheredWaveforms={byAssetId:{}},aG({path:["tetheredWaveforms"],oldVal:void 0,val:{byAssetId:{}},srcFn:"ADD_TETHERED_WAVEFORM"}));const a=e.tetheredWaveforms.byAssetId[t.assetId],n=YY({comparisonDepth:void 0,existingLayers:e.allLayers.byId,targetDepthDirection:"ahead",tetheredWaveformsByAssetId:e.tetheredWaveforms.byAssetId}),s=c.merge({},a||{enabled:!0,lockedRatio:!1,position:{height:40,width:100,x:0,y:30,rotation:0},style:{color:"#0083e2",type:"bar",opacity:100}},{enabled:!0,depth:n},t.initialProperties);e.tetheredWaveforms.byAssetId[t.assetId]=s,aG({path:["tetheredWaveforms","byAssetId",t.assetId],oldVal:dH(a),val:s,srcFn:"ADD_TETHERED_WAVEFORM"}),t.undoable&&PU.add({undo:pq.removeTetheredWaveform({assetId:t.assetId,undoable:!1}),redo:t})}));case"REMOVE_TETHERED_WAVEFORM":return te(e,(e=>{var a;const n=null==(a=e.tetheredWaveforms)?void 0:a.byAssetId[t.assetId];n&&n.enabled&&(n.enabled=!1,aG({path:["tetheredWaveforms","byAssetId",t.assetId,"enabled"],oldVal:!0,val:!1,srcFn:"REMOVE_TETHERED_WAVEFORM"}),t.undoable&&PU.add({undo:pq.updateTetheredWaveform({assetId:t.assetId,undoable:!1,update:{enabled:!0}}),redo:t}))}));case"UPDATE_TETHERED_WAVEFORM":return te(e,(e=>{if(!e.tetheredWaveforms)throw new Error("tetheredWaveforms is undefined");const a=e.tetheredWaveforms.byAssetId[t.assetId],n=dH(a);if(a&&n){const s=c.merge({},a,t.update);e.tetheredWaveforms.byAssetId[t.assetId]=s,aG({path:["tetheredWaveforms","byAssetId",t.assetId],oldVal:n,val:s,srcFn:"UPDATE_TETHERED_WAVEFORM"}),t.undoable&&PU.add({undo:pq.updateTetheredWaveform({assetId:t.assetId,undoable:!1,update:n}),redo:t})}}));default:return e}})(a,t),a=BQ(a,t),a=CG(a,t),a=cG(a,t),a=zY(a,t),a=((e,t)=>{switch(t.type){case"DELTA_ASSET_TRANSCRIPTION_EDIT_COUNT":return te(e,(a=>{const{delta:n,assetIds:s}=t;s.forEach((e=>{var t;const{transcriptionSource:s}=(null==(t=a.magicSubtitles)?void 0:t[e])||{};"transcription"===s&&(a.transcriptionEditCounts[e]||(a.transcriptionEditCounts[e]=0),a.transcriptionEditCounts[e]+=n)})),aG({path:["transcriptionEditCounts"],val:c.get(a,["transcriptionEditCounts"]),oldVal:c.get(e,["transcriptionEditCounts"]),srcFn:"DELTA_ASSET_TRANSCRIPTION_EDIT_COUNT"})}));case"RESET_ASSET_TRANSCRIPTION_EDIT_COUNT":return te(e,(a=>{const{assetIds:n}=t;n.forEach((e=>delete a.transcriptionEditCounts[e])),aG({path:["transcriptionEditCounts"],val:c.get(a,["transcriptionEditCounts"]),oldVal:c.get(e,["transcriptionEditCounts"]),srcFn:"DELTA_ASSET_TRANSCRIPTION_EDIT_COUNT"})}));default:return e}})(a,t),a=RQ(a,t),a=((e,t)=>{if("SET_DUBBING"===t.type){const{payload:a}=t;return aG({path:["dubbing"],val:a,oldVal:e.dubbing,srcFn:"SET_DUBBING"}),{...e,dubbing:a}}return e})(a,t),a=((e,t)=>{if("SET_LIP_SYNC"===t.type){const{payload:a}=t;return aG({path:["lipSync"],val:a,oldVal:e.lipSync,srcFn:"SET_LIP_SYNC"}),{...e,lipSync:a}}return e})(a,t),a=((e,t)=>{var a,n,s,o;switch(t.type){case"SET_PERSONA_DATA":{const{payload:a}=t,n={...e.personas,...a};return aG({path:["personas"],val:n,oldVal:e.personas,srcFn:"SET_PERSONA_DATA"}),{...e,personas:n}}case"SET_CREATE_PERSONA_OVERLAY_DATA":{const{payload:n}=t;if(!n)return e;const s={...e.personas,createPersonaOverlay:{...null==(a=e.personas)?void 0:a.createPersonaOverlay,...n}};return{...e,personas:s}}case"SET_PERSONA_SIDEBAR_DATA":{const{payload:a}=t;if(!a)return e;const s={...e.personas,personaSidebar:{...null==(n=e.personas)?void 0:n.personaSidebar,...a}};return aG({path:["personas"],val:s,oldVal:e.personas,srcFn:"SET_PERSONA_SIDEBAR_DATA"}),{...e,personas:s}}case"ADD_PERSONA_TO_PROJECT":{const{payload:a}=t;if(!a)return e;const n={...e.personas,inProject:{...null==(s=e.personas)?void 0:s.inProject,[a.personaId]:a}};return aG({path:["personas"],val:n,oldVal:e.personas,srcFn:"ADD_PERSONA_TO_PROJECT"}),{...e,personas:n}}case"SET_PREFERRED_LIP_SYNC_PROVIDER":{const{payload:a}=t;if(!a)return e;if(a===(null==(o=e.personas)?void 0:o.preferredLipSyncProvider))return e;const n={...e.personas,preferredLipSyncProvider:a};return aG({path:["personas"],val:n,oldVal:e.personas,srcFn:"SET_PREFERRED_LIP_SYNC_PROVIDER"}),{...e,personas:n}}default:return e}})(a,t),a=((e,t)=>{switch(t.type){case"UPDATE_BROLL_JOB_RECORD":{const{assetId:a,jobId:n}=t;if(!a)return e;if(!e.broll){const t={bRollOverrides:{},jobsByAssetId:{[a]:n}};return aG({path:["broll"],val:t,oldVal:e.broll,srcFn:"UPDATE_BROLL_JOB_RECORD"}),{...e,broll:t}}const s={...e.broll,jobsByAssetId:{...e.broll.jobsByAssetId,[a]:n}};return aG({path:["broll"],val:s,oldVal:e.broll,srcFn:"UPDATE_BROLL_JOB_RECORD"}),{...e,broll:s}}case"UPDATE_BROLL_OVERRIDES":{const{assetId:a,payload:n}=t;if(!a)return e;if(!e.broll){const t={bRollOverrides:{[a]:n},jobsByAssetId:{}};return aG({path:["broll"],val:t,oldVal:e.broll,srcFn:"UPDATE_BROLL_OVERRIDES"}),{...e,broll:t}}const s={...e.broll,bRollOverrides:{...e.broll.bRollOverrides,[a]:n}};return aG({path:["broll","bRollOverrides",a],val:n,oldVal:e.broll.bRollOverrides[a],srcFn:"UPDATE_BROLL_OVERRIDES"}),{...e,broll:s}}default:return e}})(a,t),a=((e,t)=>"SET_ASSET_PARSED_SUBTITLE"===t.type?te(e,(a=>{var n,s;a.assetUploadedSubtitles&&0!==Object.keys(a.assetUploadedSubtitles).length||(a.assetUploadedSubtitles={},aG({path:["assetUploadedSubtitles"],oldVal:void 0,val:{},srcFn:"SET_ASSET_PARSED_SUBTITLE"}));const o=dH(a.assetUploadedSubtitles[t.assetId]);a.assetUploadedSubtitles[t.assetId]=t.subtitles?{subtitles:t.subtitles}:void 0,aG({path:["assetUploadedSubtitles",t.assetId],oldVal:o,val:dH(a.assetUploadedSubtitles[t.assetId]),srcFn:"SET_ASSET_PARSED_SUBTITLE"}),t.undoable&&PU.add({undo:{...t,undoable:!1,subtitles:null==(s=null==(n=e.assetUploadedSubtitles)?void 0:n[t.assetId])?void 0:s.subtitles},redo:{...t,undoable:!1}})})):e)(a,t),a=YQ(a,t),a=((e,t)=>{switch(t.type){case"ADD_MAGIC_SUBTITLE_SPEAKERS":return te(e,(e=>{const{speakers:a,undoable:n}=t,s=c.cloneDeep(dH(e.magicSubtitleSpeakers)),o={...(null==s?void 0:s.speakerLabelsMap)||{},...a};if(e.magicSubtitleSpeakers?e.magicSubtitleSpeakers.speakerLabelsMap=o:e.magicSubtitleSpeakers={...NQ,speakerLabelsMap:o},aG({path:["magicSubtitleSpeakers"],val:dH(e.magicSubtitleSpeakers),oldVal:s,srcFn:"ADD_MAGIC_SUBTITLE_SPEAKERS"}),n){const e={type:"REMOVE_SPEAKERS",speakerIds:Object.keys(a),undoable:!1},n={...t,undoable:!1};PU.add({undo:e,redo:n})}}));case"SET_SHOW_SPEAKER_LABELS_IN_EDITOR":return te(e,(e=>{const{showSpeakerLabelsInEditor:a,undoable:n}=t;if(e.magicSubtitleSpeakers?(aG({path:["magicSubtitleSpeakers","showSpeakerLabelsInEditor"],val:a,oldVal:e.magicSubtitleSpeakers.showSpeakerLabelsInEditor,srcFn:"SET_SHOW_SPEAKER_LABELS_IN_EDITOR"}),e.magicSubtitleSpeakers.showSpeakerLabelsInEditor=a):(e.magicSubtitleSpeakers={...NQ,showSpeakerLabelsInEditor:a},aG({path:["magicSubtitlesGlobal"],val:dH(e.magicSubtitlesGlobal),oldVal:void 0,srcFn:"SET_SHOW_SPEAKER_LABELS_IN_EDITOR"})),n){const e={type:"SET_SHOW_SPEAKER_LABELS_IN_EDITOR",showSpeakerLabelsInEditor:!a,undoable:!1},n={...t,undoable:!1};PU.add({undo:e,redo:n})}}));case"SET_SHOW_SPEAKER_LABELS_ON_CANVAS":return te(e,(e=>{const{showSpeakerLabelsOnCanvas:a,undoable:n}=t;if(e.magicSubtitleSpeakers?(aG({path:["magicSubtitleSpeakers","showSpeakerLabelsOnCanvas"],val:a,oldVal:e.magicSubtitleSpeakers.showSpeakerLabelsOnCanvas,srcFn:"SET_SHOW_SPEAKER_LABELS_ON_CANVAS"}),e.magicSubtitleSpeakers.showSpeakerLabelsOnCanvas=a):(e.magicSubtitleSpeakers={...NQ,showSpeakerLabelsOnCanvas:a},aG({path:["magicSubtitlesGlobal"],val:dH(e.magicSubtitlesGlobal),oldVal:void 0,srcFn:"SET_SHOW_SPEAKER_LABELS_ON_CANVAS"})),n){const e={type:"SET_SHOW_SPEAKER_LABELS_ON_CANVAS",showSpeakerLabelsOnCanvas:!a,undoable:!1},n={...t,undoable:!1};PU.add({undo:e,redo:n})}}));case"RENAME_SPEAKER":return te(e,(e=>{var a;const{speakerId:n,newName:s,undoable:o}=t,i=null==(a=e.magicSubtitleSpeakers)?void 0:a.speakerLabelsMap[n];if(i){const e=i.name;if(i.name=s,aG({path:["magicSubtitleSpeakers","speakerLabelsMap",n,"name"],val:s,oldVal:e,srcFn:"RENAME_SPEAKER"}),o){const a={type:"RENAME_SPEAKER",speakerId:n,newName:e,undoable:!1},s={...t,undoable:!1};PU.add({undo:a,redo:s})}}}));case"REMOVE_SPEAKERS":return te(e,(e=>{var a,n;const{speakerIds:s,undoable:o}=t,i={};for(const t of s){const s=null==(a=e.magicSubtitleSpeakers)?void 0:a.speakerLabelsMap[t];if(s){const a=c.cloneDeep(dH(s));i[t]=a,null==(n=e.magicSubtitleSpeakers)||delete n.speakerLabelsMap[t],nG({path:["magicSubtitleSpeakers","speakerLabelsMap",t],oldVal:a,srcFn:"DELETE_SPEAKER"})}}if(o){const e={type:"ADD_MAGIC_SUBTITLE_SPEAKERS",speakers:i,undoable:!1},a={...t,undoable:!1};PU.add({undo:e,redo:a})}}));case"UPDATE_SPEAKER_STYLES":return te(e,(e=>{var a,n;const{speakerId:s,update:o,undoable:i}=t,r=c.cloneDeep(dH(null==(n=null==(a=e.magicSubtitleSpeakers)?void 0:a.speakerConfigs[s])?void 0:n.style));if(MQ(e,s,{style:o},"UPDATE_SPEAKER_STYLES"),i){const e={type:"UPDATE_SPEAKER_STYLES",speakerId:s,update:r,undoable:!1},a={...t,undoable:!1};PU.add({undo:e,redo:a})}}));case"SET_ALL_SPEAKER_CONFIGS":return te(e,(e=>{const{speakerConfigs:a,undoable:n}=t,s=c.cloneDeep(dH(e.magicSubtitleSpeakers));if(e.magicSubtitleSpeakers?e.magicSubtitleSpeakers.speakerConfigs=a:e.magicSubtitleSpeakers={...NQ,speakerConfigs:a},aG({path:["magicSubtitleSpeakers"],val:dH(e.magicSubtitleSpeakers),oldVal:s,srcFn:"SET_ALL_SPEAKER_CONFIGS"}),n){const e={type:"SET_ALL_SPEAKER_CONFIGS",speakerConfigs:(null==s?void 0:s.speakerConfigs)||{},undoable:!1},a={...t,undoable:!1};PU.add({undo:e,redo:a})}}));case"UPDATE_SPEAKER_POSITION":return te(e,(e=>{var a,n;const{undoable:s,speakerId:o,position:i}=t,r=c.cloneDeep(dH(null==(n=null==(a=e.magicSubtitleSpeakers)?void 0:a.speakerConfigs[o])?void 0:n.position));if(MQ(e,o,{position:i},"UPDATE_SPEAKER_POSITION"),s){const e={type:"UPDATE_SPEAKER_POSITION",speakerId:o,position:r,undoable:!1},a={...t,undoable:!1};PU.add({undo:e,redo:a})}}));case"UPDATE_SPEAKER_PRESET":return te(e,(e=>{var a,n;const{undoable:s,speakerId:o,preset:i}=t,r=dH(null==(n=null==(a=e.magicSubtitleSpeakers)?void 0:a.speakerConfigs[o])?void 0:n.preset);if(MQ(e,o,{preset:i},"UPDATE_SPEAKER_PRESET"),s){const e={type:"UPDATE_SPEAKER_PRESET",speakerId:o,preset:r,undoable:!1},a={...t,undoable:!1};PU.add({undo:e,redo:a})}}));case"UPDATE_SPEAKER_WBW_ANIMATION":return te(e,(e=>{var a,n;const{undoable:s,speakerId:o,wbwAnimation:i}=t,r=c.cloneDeep(dH(null==(n=null==(a=e.magicSubtitleSpeakers)?void 0:a.speakerConfigs[o])?void 0:n.wbwAnimation));if(MQ(e,o,{wbwAnimation:i},"UPDATE_SPEAKER_WBW_ANIMATION"),s){const e={type:"UPDATE_SPEAKER_WBW_ANIMATION",speakerId:o,wbwAnimation:r,undoable:!1},a={...t,undoable:!1};PU.add({undo:e,redo:a})}}));case"ADD_SPEAKER_IDS_TO_TRANSCRIPT_TAGS":return te(e,(e=>{var a;const{map:n}=t,s=dH(e.magicSubtitleSpeakers),o=dH(null==(a=e.magicSubtitleSpeakers)?void 0:a.speakerIdToTranscriptTag);e.magicSubtitleSpeakers?e.magicSubtitleSpeakers.speakerIdToTranscriptTag={...o,...n}:e.magicSubtitleSpeakers={...NQ,speakerIdToTranscriptTag:n},aG({path:["magicSubtitleSpeakers"],val:dH(e.magicSubtitleSpeakers),oldVal:s,srcFn:"ADD_SPEAKER_IDS_TO_TRANSCRIPT_TAGS"})}));default:return e}})(a,t),a=See(a,t),a=((e,t)=>{if("SET_TEMPLATE_SLUG"===t.type){const{payload:a}=t,n=a;return aG({path:["templateSlug"],val:n,oldVal:e.templateSlug,srcFn:"SET_TEMPLATE_SLUG"}),{...e,templateSlug:n}}return e})(a,t),t.type){case"RESET_STUDIO":case"RESET_STATE_PRESERVE_USER":sz();return c.cloneDeep(OH());case"SET_VIDEO_ID":return te(a,(e=>{const a=t._id;e._id=a;const n=[];for(const t of Object.values(e.allLayers.byId)){const{asset_id:s,cmlFileId:o}=t;a&&t.cmlFileId&&n.push(t.cmlFileId),s&&o&&PG(e,{asset_id:s,cmlFileId:o})}a&&async function(e,t){RE((()=>Xf(`/api/v1/cloudMediaLibrary/linkFilesToProject/${t}`,{body:{cmlFileIds:e}}).catch(console.error)))}(n,a),e.readonly=!1}));case"SET_STUDIO_NAME":return aG({path:["name"],oldVal:a.name,val:t.name,srcFn:"SET_STUDIO_NAME"}),{...a,name:t.name};case"SET_IMAGE_URL":return{...a,image_url:t.image_url};case"SET_FULL_PATH":return aG({path:["fullPath"],oldVal:a.fullPath,val:t.fullPath,srcFn:"client-side"}),{...a,fullPath:t.fullPath};case"SET_VIDEO_DRAFT_INFO":return aG({path:["draft"],val:t.draft,oldVal:a.draft,srcFn:"SET_VIDEO_DRAFT_INFO"}),{...a,draft:t.draft,done:t.done,createdAt:t.createdAt,lastSaved:t.lastSaved};case"SET_STUDIO":{t.undoable&&PU.add({undo:{...t,studio:a,undoable:!1},redo:{...t,undoable:!1}}),a.projectId!==t.studio.projectId&&sz(),t.sync&&window.sharedDoc&&rG(window.sharedDoc,t.studio,`SET_STUDIO/${t.source}`);const e=Iee(a,t);if(kl){const t=gz(e);window.jestSharedbDoc=t}if(!t.isFirstVideoLoad)return e;const n=new AQ(e,"SET_STUDIO",{undoable:!1});n.fixInvalidLayers();return n.complete()}case"KAPWING_INIT":{const e=xee(a),t=NG(a,nA(a));return aG({path:["duration"],val:t,oldVal:a.duration,srcFn:"KAPWING_INIT"}),function(e){for(const t of Object.values(e.allLayers.byId))delete t.base64_img}(a),{...a,...e,duration:t}}case"SET_STUDIO_DIMENSIONS":{const{dimensions:e,undoable:n}=t;return n&&PU.add({undo:{type:"SET_STUDIO_DIMENSIONS",dimensions:{height:a.height,width:a.width},undoable:!1},redo:{type:"SET_STUDIO_DIMENSIONS",dimensions:e,undoable:!1}}),{...a,height:e.height,width:e.width,updateKey:window.sharedDoc&&null!==window.sharedDoc.type?O.v4():a.updateKey}}case"SET_STUDIO_RATIO":return t.undoable&&PU.add({undo:{type:"SET_STUDIO_RATIO",ratio:a.ratio},redo:{type:"SET_STUDIO_RATIO",ratio:t.ratio}}),aG({path:["ratio"],val:t.ratio,oldVal:a.ratio,srcFn:"SET_STUDIO_RATIO"}),{...a,ratio:t.ratio,updateKey:window.sharedDoc&&null!==window.sharedDoc.type?O.v4():a.updateKey};case"SET_CUSTOM_OUTPUT_SIZE":return t.undoable&&PU.add({undo:{type:"SET_CUSTOM_OUTPUT_SIZE",hasCustomOutput:a.hasCustomOutput,customOutputWidth:a.customOutputWidth,customOutputHeight:a.customOutputHeight},redo:{type:"SET_CUSTOM_OUTPUT_SIZE",hasCustomOutput:t.hasCustomOutput,customOutputWidth:t.customOutputWidth,customOutputHeight:t.customOutputHeight}}),aG({path:["hasCustomOutput"],val:t.hasCustomOutput,oldVal:a.hasCustomOutput,srcFn:"SET_CUSTOM_OUTPUT_SIZE"}),aG({path:["customOutputWidth"],val:t.customOutputWidth,oldVal:a.customOutputWidth,srcFn:"SET_CUSTOM_OUTPUT_SIZE"}),aG({path:["customOutputHeight"],val:t.customOutputHeight,oldVal:a.customOutputHeight,srcFn:"SET_CUSTOM_OUTPUT_SIZE"}),{...a,hasCustomOutput:t.hasCustomOutput,customOutputWidth:t.customOutputWidth,customOutputHeight:t.customOutputHeight};case"SET_VIDEO_TYPE":return aG({path:["videoType"],val:t.videoType,oldVal:a.videoType,srcFn:"SET_VIDEO_TYPE"}),MG({...a,videoType:t.videoType},a.duration),{...a,videoType:t.videoType,updateKey:window.sharedDoc&&null!==window.sharedDoc.type?O.v4():a.updateKey};case"SET_IMAGE_TYPE":return aG({path:["imageType"],val:t.imageType,oldVal:a.imageType,srcFn:"SET_IMAGE_TYPE"}),{...a,imageType:t.imageType,updateKey:window.sharedDoc&&null!==window.sharedDoc.type?O.v4():a.updateKey};case"SET_GIF_TYPE":return aG({path:["gifType"],val:t.gifType,oldVal:a.gifType,srcFn:"SET_GIF_TYPE"}),{...a,gifType:t.gifType,updateKey:window.sharedDoc&&null!==window.sharedDoc.type?O.v4():a.updateKey};case"SET_PROCESSING_SPEED_TYPE":return aG({path:["processingSpeedType"],val:t.processingSpeedType,oldVal:a.processingSpeedType,srcFn:"SET_PROCESSING_SPEED_TYPE"}),{...a,processingSpeedType:t.processingSpeedType,updateKey:window.sharedDoc&&null!==window.sharedDoc.type?O.v4():a.updateKey};case"SET_EXPORT_FRAME_TIME":return aG({path:["exportFrameTime"],val:t.exportFrameTime,oldVal:a.exportFrameTime,srcFn:"SET_EXPORT_FRAME_TIME"}),{...a,exportFrameTime:t.exportFrameTime,updateKey:window.sharedDoc&&null!==window.sharedDoc.type?O.v4():a.updateKey};case"SET_QUALITY":return aG({path:["quality"],val:t.quality,oldVal:a.quality,srcFn:"SET_QUALITY"}),{...a,quality:t.quality,updateKey:window.sharedDoc&&null!==window.sharedDoc.type?O.v4():a.updateKey};case"SET_EXPORT_QUALITY":return aG({path:["exportQuality"],val:t.exportQuality,oldVal:a.exportQuality,srcFn:"SET_EXPORT_QUALITY"}),{...a,exportQuality:t.exportQuality,updateKey:window.sharedDoc&&null!==window.sharedDoc.type?O.v4():a.updateKey};case"SET_EXPORT_RESOLUTION":return aG({path:["exportResolution"],val:t.exportResolution,oldVal:a.exportResolution,srcFn:"SET_EXPORT_RESOLUTION"}),{...a,exportResolution:t.exportResolution,updateKey:window.sharedDoc&&null!==window.sharedDoc.type?O.v4():a.updateKey};case"SET_DRAGGING":return{...a,isDragging:t.isDragging};case"SET_ORIGIN":return{...a,origin:t.origin};case"SET_PLAY_CANVAS_PREVIEW_ON_MOUNT":return{...a,playCanvasPreviewOnMount:!0};case"SET_OVERLAY_MOUNTED":return{...a,overlayMounted:t.overlayMounted};case"SELECT_SAFEZONE":return{...a,safeZoneChosen:t.value,updateKey:O.v4()};case"SET_SNAP_TO_GRID":return{...a,snapToGrid:t.value,updateKey:O.v4()};case"ENABLE_SNAP_IN_TIMELINE":return kee("snapInTimeline",!0,t.userId,a);case"DISABLE_SNAP_IN_TIMELINE":return kee("snapInTimeline",!1,t.userId,a);case"SET_CANVAS_BLUR":return t.undoable&&PU.add({undo:{type:"SET_CANVAS_BLUR",value:!t.value},redo:{type:"SET_CANVAS_BLUR",value:t.value}}),aG({path:["canvasBlur"],val:t.value,oldVal:a.canvasBlur,srcFn:"SET_CANVAS_BLUR"}),{...a,canvasBlur:t.value,updateKey:O.v4()};case"SET_USER_SPECIFIC_SETTING":return kee(t.key,t.value,t.userId,a);case"SHOW_STUDIO_CANVAS":return t.undoable&&PU.add({undo:{type:"SHOW_STUDIO_CANVAS",value:!t.value,undoable:!1},redo:{type:"SHOW_STUDIO_CANVAS",value:t.value,undoable:!1}}),aG({path:["showCanvas"],val:t.value,oldVal:a.showCanvas,srcFn:"SHOW_STUDIO_CANVAS"}),{...a,showCanvas:t.value,updateKey:window.sharedDoc&&null!==window.sharedDoc.type?O.v4():a.updateKey};case"SET_STUDIO_BACKGROUND":return t.undoable&&PU.add({undo:{type:"SET_STUDIO_BACKGROUND",color:a.background},redo:{type:"SET_STUDIO_BACKGROUND",color:t.color}}),aG({path:["background"],val:t.color,oldVal:a.background,srcFn:"SET_STUDIO_BACKGROUND"}),{...a,background:t.color,updateKey:window.sharedDoc&&null!==window.sharedDoc.type?O.v4():a.updateKey};case"SET_IMAGE_VIDEO":{aG({path:["isImageVideo"],val:t.isImageVideo,oldVal:a.isImageVideo,srcFn:"SET_IMAGE_VIDEO"});const e=NG(a,nA(a));return aG({path:["duration"],val:e,oldVal:a.duration,srcFn:"SET_IMAGE_VIDEO"}),MG(a,e),{...a,duration:e,isImageVideo:t.isImageVideo,updateKey:O.v4()}}case"SET_STUDIO_DURATION":{t.undoable&&PU.add({undo:{type:"SET_STUDIO_DURATION",duration:a.duration},redo:{type:"SET_STUDIO_DURATION",duration:t.duration}});const e=NG({...a,duration:t.duration},nA(a));if(e===a.duration)return a;aG({path:["duration"],val:e,oldVal:a.duration,srcFn:"SET_STUDIO_DURATION"}),aG({path:["userSetDuration"],val:t.userSetDuration,oldVal:a.userSetDuration,srcFn:"SET_STUDIO_DURATION"}),void 0!==t.userSelectedDuration&&aG({path:["userSelectedDuration"],val:t.userSelectedDuration,oldVal:a.userSelectedDuration,srcFn:"SET_STUDIO_DURATION"}),MG(a,e);const n={...a,duration:e,userSetDuration:t.userSetDuration,updateKey:O.v4()};return void 0!==t.userSelectedDuration&&(n.userSelectedDuration=t.userSelectedDuration),n}case"UPDATE_LAST_SAVED":{const e=new Date;return aG({path:["lastSaved"],val:e,oldVal:a.lastSaved,srcFn:"UPDATE_LAST_SAVED"}),{...a,lastSaved:e}}case"SET_EYEDROPPER_MODE":return{...a,eyedropperMode:t.status,usedEyedropper:!0};case hz.UPDATE_ANALYTICS:{const e={...t.updates};aG({path:["analytics"],val:{...a.analytics,...e},oldVal:a.analytics,srcFn:"UPDATE_ANALYTICS"});const n={...a.analytics,...e};if(t.undoable){const t={};for(const n in e){const e=n;t[e]=a.analytics[e]}PU.add({undo:{type:hz.UPDATE_ANALYTICS,updates:t,undoable:!1},redo:{type:hz.UPDATE_ANALYTICS,updates:n,undoable:!1}})}return{...a,analytics:n}}case"ADD_CONTEXT_MENU_ANALYTICS":return{...a,contextMenuUsed:a.contextMenuUsed?a.contextMenuUsed+1:1};case"SET_RIPPLE_MODE":return kee("rippleMode",t.rippleMode,t.userId,a);case"ADD_GOOGLE_DRIVE_PENDING_UPLOAD":case"REMOVE_GOOGLE_DRIVE_PENDING_UPLOAD":case"UPDATE_GOOGLE_DRIVE_PENDING_UPLOAD":return SG(t,a);case"LINK_CML_FILE_TO_PROJECT":{const{assetId:e,cmlFileId:n,videoId:s}=t;return s&&ZH(n,s),te(a,(t=>{PG(t,{asset_id:e,cmlFileId:n})}))}case"UNLINK_CML_FILE_FROM_PROJECT":{const{cmlFileId:e,videoId:n}=t;return n&&async function(e,t){RE((()=>Yf(`/api/v1/cloudMediaLibrary/file/${e}/linkedVideo/${t}`).catch(console.error)))}(e,n),te(a,(t=>{!function(e,t){if(!e.thisProjectCMLFiles)return;const a=e.thisProjectCMLFiles[t];delete e.thisProjectCMLFiles[t],nG({path:["thisProjectCMLFiles",t],oldVal:a,srcFn:"unlinkAssetFromThisProject"})}(t,e)}))}case bG.type:case yG.type:case wG.type:{const e=Date.now();return aG({path:["commentsLastUpdated"],val:e,oldVal:a.commentsLastUpdated,srcFn:t.type}),{...a,commentsLastUpdated:e}}case"SET_STUDIO_ID":return{...a,_id:t.id};case"SET_IS_BRANDKIT_TEMPLATE":return aG({path:["isBrandKitTemplate"],val:t.isBrandKitTemplate,oldVal:a.isBrandKitTemplate,srcFn:t.type}),{...a,isBrandKitTemplate:t.isBrandKitTemplate};case"TEST_ONLY_UPDATE_STUDIO":return{...a,...t.studio};case"SET_APPLIED_HIGHLIGHT":return t.undoable&&PU.add({undo:{...t,payload:a.appliedHighlight,undoable:!1},redo:{...t,undoable:!1}}),aG({path:["appliedHighlight"],oldVal:a.appliedHighlight,val:t.payload,srcFn:"SET_APPLIED_HIGHLIGHT"}),{...a,appliedHighlight:t.payload};case"UPDATE_BLUEPRINT_CHANGES":{const{changes:e,undoable:n}=t,s=a.blueprintChanges||{},o={...s,...e};if(n){const a=Object.keys(e).reduce(((e,t)=>(e[t]=s[t]||void 0,e)),{});PU.add({undo:{...t,changes:a,undoable:!1},redo:{...t,undoable:!1}})}return aG({path:["blueprintChanges"],oldVal:s,val:o,srcFn:"UPDATE_BLUEPRINT_CHANGES"}),{...a,blueprintChanges:o}}case"SET_HAS_BEEN_RESIZED_BY_USER":return t.hasBeenResizedByUser===a.hasBeenResizedByUser?a:(aG({path:["hasBeenResizedByUser"],oldVal:a.hasBeenResizedByUser,val:t.hasBeenResizedByUser,srcFn:"SET_HAS_BEEN_RESIZED_BY_USER"}),{...a,hasBeenResizedByUser:t.hasBeenResizedByUser});case"UPDATE_AUTO_ROUGH_CUT_JOB_IDS":{const e=a.autoRoughCutJobIds,n=[...e||[],t.jobId];return aG({path:["autoRoughCutJobIds"],oldVal:e,val:n,srcFn:"UPDATE_AUTO_ROUGH_CUT_JOB_IDS"}),{...a,autoRoughCutJobIds:n}}case"ADD_PRESENCE_COLOR":{const e=a.presenceUsedColors,n={...a.presenceUsedColors,[t.userId]:t.color};return aG({path:["presenceUsedColors"],oldVal:e,val:n,srcFn:"ADD_PRESENCE_COLOR"}),{...a,presenceUsedColors:n}}default:return a}};function kee(e,t,a,n){var s;if(a){const o={...n.userSpecificSettings,[a]:{...null==(s=n.userSpecificSettings)?void 0:s[a],[e]:t}};return aG({path:["userSpecificSettings"],val:o,oldVal:n.userSpecificSettings,srcFn:"updateUserSpecificSettings"}),{...n,userSpecificSettings:o}}const o={...n.userSpecificSettingsAnonymous,[e]:t};return{...n,userSpecificSettingsAnonymous:o}}const Tee={bRollVideoSelectionThreshold:.6,bRollVideoMinimumSceneDuration:2,bRollExtractionFlowMinimumSplitTime:0,usePrivateReplicateDeployment:!1,coverage:.3};function Eee(e){return"prompt"===e.type}function Lee(e){return"container"===e.type}function jee(e){return"debug-message"===e.type}const Ree={attempted:{http:null,websocket:null},firstAttemptSinceLastSuccess:{http:null,websocket:null},succeeded:{http:null,websocket:null}},Nee=()=>({assetMonitorId:"",boxSelectedIds:{},commandIsBeingPressed:!1,controlIsBeingPressed:!1,trackIsDragging:!1,ghostTimeOffset:null,isNewProject:!1,isProjectFetched:!1,layerTempValues:{},localProjectId:O.v4(),mediaItemDropLocation:null,mediaItemGhostTrack:null,dndGhostTrackDropPosition:null,mediaSidebarSelectedTab:"thisProject",mouseState:null,selectedEditorPane:"timeline",shiftIsBeingPressed:!1,showSignIn:!1,showTranscribe:!1,studioDragDropActive:!1,mainStudioDragDropDisabled:!1,textLayerIDsAddedInSession:[],thumbnailTrackFallbacks:{},volumeSliderIsDragging:!1,infoToastShownThisSession:!1,trimPreviewPlaying:!1,rowUploadInProgress:!1,awaitingRecordings:null,staticUploadIds:[],groupDragOverrides:{},lastSyncedWithServer:Ree,lastSyncedUserFacing:null,isLayerMountedByLayerId:{},isAdding:{},playbackRate:1,magicSubtitlesGlobal:{},magicSubtitleInlineSelection:null,magicSubtitleFocusedNdx:void 0,mediaBarWidth:390,isResizingSideBar:!1,lastThumbnailGenerated:null,showReportIssueModal:!1,magicSubtitleFramesByAsset:{},ai:{bRollConfig:Tee},userSpecifiedMobileTrayHeight:40});function Mee(e){for(const t in e)delete e[t];Object.assign(e,Nee())}function Pee(e,t,a){const n=TA(t);e.layerTempValues[n]||(e.layerTempValues[n]={readyForTrackComponentRender:!1});const s=e.layerTempValues[n];if(s)for(const[o,i]of Object.entries(a))if(i!==s[o])return void Object.assign(s,a)}const Fee=Ce(Nee(),{SET_STUDIO:(e,t)=>{t.isFirstVideoLoad&&(e.initialProjectLoadAt=Date.now()),e.lastSyncedWithServer=Ree},RESET_STUDIO:e=>{Mee(e)},RESET_STATE_PRESERVE_USER:e=>{Mee(e)},[YL.SET_LOCAL_LAYER_VALUES]:(e,t)=>{Pee(e,t.layerId,t.properties)},[YL.BATCHED_SET_LOCAL_LAYER_VALUES]:(e,t)=>{Object.entries(t.updates).forEach((([t,a])=>{Pee(e,t,a)}))},[YL.SET_IS_INLINE_CROPPING]:(e,t)=>{const{layerTempValues:a}=e,n=TA(t.layerId);Object.keys(a).forEach((s=>{a[s]||(a[s]={});const o=a[s];o&&(o.isBeingInlineCropped=null,s===n&&(o.isBeingInlineCropped=t.isInlineCropping,(!e.userSpecifiedMobileTrayHeight||e.userSpecifiedMobileTrayHeight<55)&&(e.userSpecifiedMobileTrayHeight=55)))}))},[YL.SET_PROJECT_FETCHED]:e=>{e.isProjectFetched=!0},[YL.CLEAR_PROJECT_FETCHED]:e=>{e.isProjectFetched=!1},[YL.SET_SHOW_TRANSCRIBE]:(e,t)=>{e.showTranscribe=t.showTranscribe},[YL.SET_SNAP_TIMELINE_TO_SEEKER]:(e,t)=>{e.snapTimelineToSeeker=t.snapTimelineToSeeker},[YL.SET_STUDIO_DRAG_DROP_ACTIVE]:(e,t)=>{e.studioDragDropActive=t.studioDragDropActive},[YL.SET_MAIN_STUDIO_DRAG_DROP_DISABLED]:(e,t)=>{e.mainStudioDragDropDisabled=t.mainStudioDragDropDisabled},[YL.SET_SELECTED_EDITOR_PANE]:(e,t)=>{e.selectedEditorPane=t.selectedEditorPane},[YL.SET_VOLUME_SLIDER_IS_DRAGGING]:(e,t)=>{e.volumeSliderIsDragging=t.isDragging},[YL.SET_MEDIA_ITEM_GHOST_TRACK]:(e,t)=>{e.mediaItemGhostTrack=t.track},[YL.SET_DND_GHOST_TRACK_DROP_POSITION]:(e,t)=>{e.dndGhostTrackDropPosition=t.position},[YL.SET_MEDIA_ITEM_LOCATION]:(e,t)=>{e.mediaItemDropLocation=t.location},[YL.SET_DRAGGED_TRACKS_OVERRIDES]:(e,t)=>{t.overrides?e.draggedTracksOverrides&&(c.isEmpty(t.overrides)&&c.isEmpty(e.draggedTracksOverrides.overrides)||(e.draggedTracksOverrides.overrides=t.overrides)):e.draggedTracksOverrides=void 0},[YL.INIT_DRAGGED_TRACKS_OVERRIDES]:(e,t)=>{e.draggedTracksOverrides={anchorLayerId:t.anchorLayerId,anchorTimelineTime:t.anchorTimelineTime,overrides:{}}},[YL.COMMAND_IS_BEING_PRESSED]:(e,t)=>{e.commandIsBeingPressed=t.isPressed},[YL.CONTROL_IS_BEING_PRESSED]:(e,t)=>{e.controlIsBeingPressed=t.isPressed},[YL.SHIFT_IS_BEING_PRESSED]:(e,t)=>{e.shiftIsBeingPressed=t.isPressed},[YL.SET_TRACK_THUMBNAIL_FALLBACK]:(e,t)=>{e.thumbnailTrackFallbacks[t.mediaCacheId]=!0},[YL.SET_IS_NEW_PROJECT]:e=>{e.isNewProject=!0},[YL.START_EDITING_TEXT_LAYER]:(e,t)=>{Pee(e,t.payload.id,{isEditing:!0,textTemp:t.payload.text})},[YL.SET_MEDIA_SIDEBAR_SELECTED_TAB]:(e,t)=>{e.mediaSidebarSelectedTab=t.payload},[YL.ADD_TEXT_LAYER_ID_ADDED_IN_SESSION]:(e,t)=>{const a=new Set([...e.textLayerIDsAddedInSession,t.id]);e.textLayerIDsAddedInSession=Array.from(a)},[YL.SET_MOUSE_DOWN]:(e,t)=>{e.mouseState=t.payload},[YL.SET_INFO_TOAST_SHOWN_THIS_SESSION]:(e,t)=>{e.infoToastShownThisSession=t.payload},[YL.SET_PREVIEW_PLAYING]:(e,t)=>{e.previewPlaying=t.payload},[YL.SHOW_SIGN_IN]:e=>{e.showSignIn=!0},[YL.HIDE_SIGN_IN]:e=>{e.showSignIn=!1},[YL.SET_ROW_UPLOAD_IN_PROGRESS]:(e,t)=>{e.rowUploadInProgress=t.payload},[YL.SET_AWAITING_RECORDINGS]:(e,t)=>{e.awaitingRecordings={...e.awaitingRecordings,...t.payload},"string"==typeof e.awaitingRecordings.screen&&"string"==typeof e.awaitingRecordings.video&&(e.awaitingRecordings=null)},[YL.SET_PREVIEW_TRACK]:(e,t)=>{e.previewTrack=t.payload},[YL.SET_PREVIEW_TIMELINE_STATE]:(e,t)=>{t.timelineState?e.previewTimelineState?e.previewTimelineState={...e.previewTimelineState,...t.timelineState}:e.previewTimelineState={pxInSecond:0,timelineWidth:0,scrollLeft:0,...t.timelineState}:e.previewTimelineState=void 0},[YL.SET_GHOST_SEEKER_OFFSET]:(e,t)=>{e.ghostTimeOffset=t.payload},[YL.SET_STATIC_UPLOAD_IDS]:(e,t)=>{e.staticUploadIds=t.payload},[mG.actions.setCommentsOpen.type]:(e,t)=>{e.mobileTrayContent=t.payload?Jj.COMMENT_CONTROLS:void 0},[YL.SET_MOBILE_TRAY_CONTENT]:(e,t)=>{e.mobileTrayContent=t.payload},[YL.SET_MOBILE_TRAY_HEIGHT]:(e,t)=>{t.payload>80?e.userSpecifiedMobileTrayHeight=80:e.userSpecifiedMobileTrayHeight=t.payload},[YL.SET_BOX_SELECTED_IDS]:(e,t)=>{e.boxSelectedIds=t.payload},[YL.SET_GROUP_DRAG_OVERRIDES]:(e,t)=>{e.groupDragOverrides[t.payload.groupId]=t.payload.overrides},[YL.CLEAR_GROUP_DRAG_OVERRIDES]:(e,t)=>{delete e.groupDragOverrides[t.payload]},[YL.SYNC_ATTEMPTED]:(e,t)=>{const a=Date.now();e.lastSyncedWithServer.attempted[t.payload]=a;const n=e.lastSyncedWithServer.firstAttemptSinceLastSuccess[t.payload],s=e.lastSyncedWithServer.succeeded[t.payload];(!n||s&&s>n)&&(e.lastSyncedWithServer.firstAttemptSinceLastSuccess[t.payload]=a)},[YL.SYNC_SUCCEEDED]:(e,t)=>{const a=Date.now();e.lastSyncedWithServer.succeeded[t.payload]=a,e.lastSyncedWithServer.firstAttemptSinceLastSuccess[t.payload]=null,e.lastSyncedUserFacing=a},[YL.SET_IS_ADDING]:(e,t)=>{const{assetId:a,value:n}=t.payload;n?e.isAdding[a]=!0:delete e.isAdding[a]},[YL.PLAYBACK_RATE]:(e,t)=>{e.playbackRate=t.payload},[YL.CLEAR_MAGIC_SUBTITLE_LOCAL]:e=>{e.magicSubtitlesGlobal={}},[YL.UPDATE_MAGIC_SUBTITLE_LOCAL]:(e,t)=>{const{updates:a}=t.payload,n=e.magicSubtitlesGlobal;a.position&&(n.position={...n.position,...a.position}),a.style&&(n.style={...n.style,...a.style}),a.preset&&(""===a.preset.presetId?n.preset=void 0:n.preset=a.preset),a.wordByWordAnimations&&(n.wordByWordAnimations={...n.wordByWordAnimations,...a.wordByWordAnimations}),a.transitionDuration&&(n.transitionDuration=a.transitionDuration),a.transitionOverlapDuration&&(n.transitionOverlapDuration=a.transitionOverlapDuration),a.transitionSpeed&&(n.transitionSpeed=a.transitionSpeed)},[YL.SET_MAGIC_SUBTITLE_SELECTION]:(e,t)=>{e.magicSubtitleInlineSelection=t.payload},[YL.SET_MAGIC_SUBTITLE_FOCUS]:(e,t)=>{e.magicSubtitleFocusedNdx=t.payload},UPDATE_MAGIC_SUBTITLE_GLOBAL_CONFIG:(e,{updates:t})=>{const a=e.magicSubtitlesGlobal;a&&(t.position&&delete a.position,t.style&&delete a.style,t.preset&&delete a.preset,t.wordByWordAnimations&&delete a.wordByWordAnimations,t.transitionDuration&&delete a.transitionDuration,t.transitionOverlapDuration&&delete a.transitionOverlapDuration,t.transitionSpeed&&delete a.transitionSpeed)},[YL.SET_LOCAL_MAGIC_SUBTITLE_FRAMES]:(e,t)=>{null!==t.payload.frames?e.magicSubtitleFramesByAsset[t.payload.assetId]={byId:t.payload.frames}:e.magicSubtitleFramesByAsset[t.payload.assetId]=void 0},[YL.RESIZE_MEDIABAR]:(e,t)=>{e.mediaBarWidth=t.payload},[YL.RESIZING_SIDEBAR]:(e,t)=>{e.isResizingSideBar=t.payload},[YL.UPDATE_LAST_GENERATED_THUMBNAIL]:e=>{e.lastThumbnailGenerated=Date.now()},[YL.SET_SHOW_REPORT_ISSUE_MODAL]:(e,t)=>{e.showReportIssueModal=t.payload},[YL.SET_LAYER_MOUNTED_STATE]:(e,t)=>{e.isLayerMountedByLayerId[t.payload.layerId]=t.payload.mounted},[YL.SET_ASSET_MONITOR_ID]:(e,t)=>{e.assetMonitorId=t.payload},[YL.UPDATE_DALLE_TEMP_VALUES]:(e,t)=>{e.dallePrompt=t.dallePrompt||e.dallePrompt,e.dalleLastGeneratedPrompt=t.dalleLastGeneratedPrompt||e.dalleLastGeneratedPrompt,e.dalleResults=t.dalleResults||e.dalleResults},[YL.SET_AI_TOOLS_DATA]:(e,t)=>{e.ai={...e.ai,...t.payload}},[YL.SET_TRACK_IS_DRAGGING]:(e,t)=>{e.trackIsDragging=t.payload},[YL.SET_INITIAL_EXPORT_TAB]:(e,t)=>{e.initialExportTab=t.payload},SELECT_TRANSITION:(e,t)=>{null===t.payload&&(e.mobileTrayContent=void 0)}});const Dee=m({initialState:{job:null,modalOpen:null,transcriptionTempJobId:null},name:"autoRoughCut",reducers:{setJob(e,t){e.job=t.payload},closeModal(e){e.modalOpen=null},openModal(e,t){e.modalOpen=t.payload},setTranscriptionTempJobId(e,t){e.transcriptionTempJobId=t.payload}}}),Oee=Dee.actions,Uee=m({name:"clipboard",initialState:{contents:null,originalProject:null,plainText:null},reducers:{setClipboardContents:(e,t)=>{Object.assign(e,t.payload)}}}),{setClipboardContents:Bee}=Uee.actions,Wee=m({initialState:{focusedNdx:void 0,loadingFrames:new Set,prevFrameValues:{}},name:"dubbingFramesConfig",reducers:{setFocusedNdx:(e,t)=>{const{focus:a}=t.payload;e.focusedNdx=a},startFrameLoading:(e,t)=>{const{frameId:a}=t.payload;e.loadingFrames.add(a)},finishFrameLoading:(e,t)=>{const{frameId:a}=t.payload;e.loadingFrames.delete(a)},setFramePrevValues:(e,t)=>{const{assetId:a,frameId:n,prevValue:s}=t.payload;0!==Object.keys(s).length?e.prevFrameValues[n]={assetId:a,...s}:delete e.prevFrameValues[n]},updateFramePrevValues:(e,t)=>{const{assetId:a,frameId:n,prevValue:s,undoable:o=!0}=t.payload;if(Ou(e.prevFrameValues[n],s))return;const i=e.prevFrameValues[n],r={assetId:a,origWords:(null==i?void 0:i.origWords)??s.origWords,targetWords:(null==i?void 0:i.targetWords)??s.targetWords,speakerId:(null==i?void 0:i.speakerId)??s.speakerId,splitAndAddedFrameIds:[...(null==i?void 0:i.splitAndAddedFrameIds)||[],...s.splitAndAddedFrameIds||[]],start:(null==i?void 0:i.start)??s.start,end:(null==i?void 0:i.end)??s.end,removedFrameIds:[...(null==i?void 0:i.removedFrameIds)||[],...s.removedFrameIds||[]],timeAdded:(null==i?void 0:i.timeAdded)??(new Date).getTime()};if(e.prevFrameValues[n]=r,o){const e={type:"dubbingFramesConfig/setFramePrevValues",payload:{assetId:a,frameId:n,prevValue:i||{}}},o={type:t.type,payload:{assetId:a,frameId:n,prevValue:s}};PU.add({undo:e,redo:o})}},clearFramePrevValues:(e,t)=>{const{assetId:a,frameId:n,undoable:s=!0}=t.payload,o=e.prevFrameValues[n];if(delete e.prevFrameValues[n],s){const e={type:"dubbingFramesConfig/setFramePrevValues",payload:{assetId:a,frameId:n,prevValue:o||{}}},s={type:t.type,payload:{assetId:a,frameId:n,undoable:!1}};PU.add({undo:e,redo:s})}},clearAllFramePrevValues:e=>{e.prevFrameValues={}}}}),{setFocusedNdx:Vee,startFrameLoading:Hee,finishFrameLoading:zee,setFramePrevValues:Gee,updateFramePrevValues:Yee,clearFramePrevValues:Kee,clearAllFramePrevValues:Xee}=Wee.actions,Zee=m({initialState:{},name:"eyedropper",reducers:{clearOnColorSelected:e=>{delete e.onColorSelected},setOnColorSelected:(e,t)=>{e.onColorSelected=t.payload}}}),{setOnColorSelected:qee,clearOnColorSelected:Jee}=Zee.actions,$ee=e=>({title:"",description:"",token:null==e?void 0:e.token,account:null==e?void 0:e.account,pages:(null==e?void 0:e.pages)||[],selectedPageId:(null==e?void 0:e.selectedPageId)||"",exportId:null==e?void 0:e.exportId}),Qee=m({name:"facebook",initialState:$ee(),reducers:{setToken:(e,t)=>{e.token=t.payload},setAccount:(e,t)=>{e.account=t.payload},setPages:(e,t)=>{var a;e.pages=t.payload,t.payload.length>0&&!e.selectedPageId&&(e.selectedPageId=(null==(a=t.payload[0])?void 0:a.id)||"")},setSelectedPageId:(e,t)=>{e.selectedPageId=t.payload},setTitle:(e,t)=>{e.title=t.payload},setDescription:(e,t)=>{e.description=t.payload},setExportId:(e,t)=>{e.exportId=t.payload},resetToDefaultOptions:e=>$ee(e)}}),ete=Qee.actions,tte=m({name:"glossary",initialState:{glossaryItems:[],selectedGlossaryItem:void 0},reducers:{setGlossaryItems:(e,t)=>{const{glossaryItems:a}=t.payload;e.glossaryItems=a},addGlossaryItem:(e,t)=>{e.glossaryItems.push(t.payload)},updateGlossaryItem:(e,t)=>{const{id:a,updates:n}=t.payload;e.glossaryItems=e.glossaryItems.map((e=>e._id===a?{...e,...n}:e))},deleteGlossaryItem:(e,t)=>{const a=t.payload;e.glossaryItems=e.glossaryItems.filter((e=>e._id!==a))},setSelectedGlossaryItem:(e,t)=>{e.selectedGlossaryItem=t.payload}}}),{setGlossaryItems:ate,addGlossaryItem:nte,updateGlossaryItem:ste,deleteGlossaryItem:ote,setSelectedGlossaryItem:ite}=tte.actions,rte=m({name:"googlePhotos",initialState:{},reducers:{setToken:(e,t)=>{e.token=t.payload},setEmail:(e,t)=>{e.email=t.payload}}}),lte=rte.actions,dte=m({initialState:()=>{const e=window.matchMedia("(max-width: 768px)");return e.addEventListener("change",(e=>{Mu().dispatch(dte.actions.setIsMobile(e.matches))})),e.matches},name:"isMobile",reducers:{setIsMobile:(e,t)=>t.payload}}),cte=m({name:"mediaPopover",initialState:{disableSelecting:!1,info:null,position:{x:0,y:0,screenWidth:-1,screenHeight:-1}},reducers:{open:(e,t)=>{e.info=t.payload.info,!e.position.x&&e.position.y;const a={x:.8*window.innerWidth,y:200};e.position.screenWidth!==window.innerWidth||(e.position.screenHeight,window.innerHeight),e.position={...a,screenWidth:window.innerWidth,screenHeight:window.innerHeight},RE((()=>{var e;if("replace"===(null==(e=t.payload.info)?void 0:e.target.type)){const e=t.payload.info.target.layerId,a=e?Mu().state.studio.allLayers.byId[e]:null;ov("Replace Overlay Opened",{"Replaced Layer Type":null==a?void 0:a.type,"Entry Point":t.payload.entryPoint})}else ov("Add BRoll Popover Opened")}))},close:e=>{e.info=null},setLayerId:(e,t)=>{e.info&&"replace"===e.info.target.type&&(e.info.target.layerId=t.payload)},setBrollQuery:(e,t)=>{e.info&&(e.info.query=t.payload)},setTab:(e,t)=>{e.info&&(e.info.tab=t.payload)},setPosition:(e,t)=>{e.position.x=t.payload.x,e.position.y=t.payload.y},setEditMode:(e,t)=>{e.info&&(e.info.editing=t.payload)},setTarget:(e,t)=>{e.info&&(e.info.target=t.payload)},setDisableSelecting:(e,t)=>{e.disableSelecting=t.payload}}}),ute=cte.actions,pte=m({initialState:new Set,name:"mountedTooltips",reducers:{updateMountedTooltips(e,t){t.payload.mounted.forEach((t=>e.add(t))),t.payload.unmounted.forEach((t=>e.delete(t)))}}}),{updateMountedTooltips:mte}=pte.actions,gte=m({initialState:{},name:"notifications",reducers:{setNotifications:(e,t)=>{e.notifications=t.payload},addNotifications:(e,t)=>{e.notifications=[...t.payload,...e.notifications||[]]},setNotificationsRead:(e,t)=>{e.notifications=e.notifications?e.notifications.map((e=>t.payload.includes(e._id.toString())?{...e,state:kc.read}:e)):void 0}}}),{setNotifications:hte,addNotifications:vte,setNotificationsRead:fte}=gte.actions,bte=m({initialState:{myId:null,users:{}},name:"presence",reducers:{addUser(e,t){e.users[t.payload.userId]={user:t.payload.user}},removeUser(e,t){delete e.users[t.payload]},setMyId(e,t){e.myId=t.payload},setSelectedItem(e,t){const a=e.users[t.payload.userId];a&&(a.selectedItem=t.payload.selectedItem)}}}),yte=bte.actions,wte={byId:{},projectIdsByFolderId:{}},_te=m({initialState:wte,name:"projects",reducers:{moveProjectsSuccess:(e,{payload:{movedProjects:t,destinationFolder:a}})=>{Object.keys(e.projectIdsByFolderId).forEach((n=>{if(n!==a._id){const a=(e.projectIdsByFolderId[n]||[]).filter((e=>!t.map((e=>e._id)).includes(e)));e.projectIdsByFolderId[n]=a}}))},projectsFetched:(e,{payload:{projects:t,folderId:a}})=>{t.forEach((t=>{e.byId[t._id]=t}));const n=e.projectIdsByFolderId[a],s=t.map((e=>e._id)),o=n?[...new Set([...s,...n])]:s;e.projectIdsByFolderId[a]=o.sort()},removeProject:(e,{payload:{projectId:t,folderId:a}})=>{delete e.byId[t];const n=e.projectIdsByFolderId[a];n&&(e.projectIdsByFolderId[a]=n.filter((e=>e!==t)))},clearAllProjects:e=>wte,updateProjectVideo:(e,{payload:{projectId:t,updateDict:a}})=>{const n=e.byId[t];n&&(n.content={...n.content,...a})}}}),{projectsFetched:Cte,removeProject:Ste,clearAllProjects:xte,moveProjectsSuccess:Ite,updateProjectVideo:Ate}=_te.actions,kte=m({initialState:{recordSet:!1},name:"recordAudio",reducers:{setRecord:e=>{e.recordSet=!0},unsetRecord:e=>{e.recordSet=!1}}}),{setRecord:Tte,unsetRecord:Ete}=kte.actions,Lte=m({name:"repurpose",initialState:{aspectRatio:"9:16",useSpeakerFocus:!1,lastSelectedBlueprintRatio:null,selectedBlueprint:null,selectedWaveformType:"wave",selectedWaveformColor:"#FFFFFF",subtitlePreset:dy,useTitle:!1,useAutoEmoji:!1,useAIHooks:!1,removeSubtitles:!1,selectedChapterIndices:new Set},reducers:{setProperties:(e,t)=>{if(t.payload.undoable){const a={type:t.type,payload:{updates:Object.fromEntries(Object.keys(t.payload.updates).map((t=>[t,e[t]]))),undoable:!1}},n={type:t.type,payload:{updates:t.payload.updates,undoable:!1}};PU.add({undo:a,redo:n})}return{...e,...t.payload.updates}},setProperty:(e,t)=>{const{property:a,value:n,undoable:s}=t.payload;if(s){const s={type:t.type,payload:{property:a,value:e[a],undoable:!1}},o={type:t.type,payload:{property:a,value:n,undoable:!1}};PU.add({undo:s,redo:o})}return{...e,[a]:n}},toggleSelectedChapter:(e,t)=>{const{chapterIndex:a,multiSelect:n}=t.payload,s=e.selectedChapterIndices.has(a);if(e.selectedChapterIndices.size>1&&s&&!n)e.selectedChapterIndices=new Set([a]);else if(s){const t=new Set(e.selectedChapterIndices);t.delete(a),e.selectedChapterIndices=t}else{const t=n?new Set(e.selectedChapterIndices):new Set;t.add(a),e.selectedChapterIndices=t}},untoggleAllChapters:e=>{e.selectedChapterIndices=new Set}}}),jte=Lte.actions,Rte=["Formal","Casual","Funny","Informative","Creative"];var Nte=(e=>(e.EditScript="edit-script",e.GenerateTopics="generate-topics",e.GenerateScript="generate-script",e))(Nte||{});function Mte(e){return{role:"assistant",content:`# Script\n${e}`}}const Pte=(e,t)=>{const a=e.conversationsById[t];if(!a)return;const n=a.id,s=a.userMessages;s.map((t=>{const a=e.userMessagesById[t];if(a&&"success"===a.response.status&&a.response.task===Nte.EditScript)return a.response.scriptId})).filter(vA).forEach((t=>{delete e.scriptsById[t]})),s.forEach((t=>{delete e.userMessagesById[t]})),delete e.conversationsById[n],e.conversationHistory.splice(a.historyIndex,1),e.currentConversationHistoryIndex=e.conversationHistory.length-1},Fte=m({initialState:{scriptsById:{},userMessagesById:{},conversationsById:{},conversationHistory:[],currentConversationHistoryIndex:void 0,currentMessage:"",generateScriptDuration:60,generateScriptTone:"Casual",generateScriptCustomScript:"",generateScriptArticleURL:"",generateScriptArticleInfo:void 0,generateScriptArticleInfoLoading:!1,generateScriptTopicPrompt:"",step:"generate-script"},name:"scriptChat",reducers:{addUserMessage:(e,t)=>{const{userMessage:a,conversationId:n}=t.payload;if(e.userMessagesById[a.id])throw new Error("Cannot add a user message that already exists");e.userMessagesById[a.id]=t.payload.userMessage;const s=e.conversationsById[n];if(!s)throw new Error("Cannot find conversation");s.userMessages.push(a.id)},removeUserMessage:(e,t)=>{const{userMessageId:a,conversationId:n}=t.payload;delete e.userMessagesById[a];const s=e.conversationsById[n];s&&(s.userMessages=s.userMessages.filter((e=>e!==a)))},addLLMResponse:(e,t)=>{const a=e.userMessagesById[t.payload.userMessageId];if(!a)throw new $v("Cannot find user message",{extra:{userMessageId:t.payload.userMessageId}});a.response=t.payload.response},addScript:(e,t)=>{if(e.scriptsById[t.payload.id])throw new Error("Cannot add script that already exists");e.scriptsById[t.payload.id]=t.payload},addConversation:(e,t)=>{if(e.conversationsById[t.payload.id])throw new Error("Cannot add conversation that already exists");if(e.conversationHistory[t.payload.historyIndex])throw new Error("Cannot add conversation at existing history index");e.conversationsById[t.payload.id]=t.payload,e.conversationHistory.push(t.payload.id)},setCurrentMessage:(e,t)=>{e.currentMessage=t.payload},updateScript:(e,t)=>{const a=e.scriptsById[t.payload.scriptId];a&&Object.assign(a,t.payload.updates)},setCurrentConversation:(e,t)=>{const a=e.conversationsById[t.payload];if(!a)throw new Error("Cannot find conversation");e.currentConversationHistoryIndex=a.historyIndex},bulkDeleteConversations:(e,t)=>{const{startConversationHistoryIndex:a,endConversationHistoryIndex:n}=t.payload;if(a<0)throw new Error("Invalid start index");if(n>e.conversationHistory.length)throw new Error("Invalid end index");if(a>n)throw new Error("Invalid range");const s=e.conversationHistory.slice(a,n).reverse();for(const o of s)Pte(e,o)},clearConversationHistory:e=>{e.conversationsById={},e.userMessagesById={},e.scriptsById={},e.conversationHistory=[]},clearGenerateScriptArticleInput:e=>{e.generateScriptArticleURL="",e.generateScriptArticleInfo=void 0},clearGenerateScriptCustomScriptInput:e=>{e.generateScriptCustomScript=""},clearGenerateScriptTopicPromptInput:e=>{e.generateScriptTopicPrompt=""},goToNextConversation:e=>{if(void 0===e.currentConversationHistoryIndex)throw new Error("Cannot go to next conversation without a current conversation");if(e.currentConversationHistoryIndex===e.conversationHistory.length-1)throw new Error("Cannot go to next conversation, already at last conversation");e.currentConversationHistoryIndex+=1},goToPreviousConversation:e=>{if(void 0===e.currentConversationHistoryIndex)throw new Error("Cannot go to previous conversation without a current conversation");if(0===e.currentConversationHistoryIndex)throw new Error("Cannot go to previous conversation, already at first conversation");e.currentConversationHistoryIndex-=1},setGenerateScriptDuration:(e,t)=>{e.generateScriptDuration=t.payload},setGenerateScriptTone:(e,t)=>{e.generateScriptTone=t.payload},setGenerateScriptCustomScript:(e,t)=>{e.generateScriptCustomScript=t.payload},setGenerateScriptArticleInfo:(e,t)=>{e.generateScriptArticleInfo=t.payload},setGenerateScriptArticleInfoLoading:(e,t)=>{e.generateScriptArticleInfoLoading=t.payload},setGenerateScriptArticleURL:(e,t)=>{e.generateScriptArticleURL=t.payload},setGenerateScriptTopicPrompt:(e,t)=>{e.generateScriptTopicPrompt=t.payload},setStep:(e,t)=>{e.step=t.payload},load:(e,t)=>{Object.assign(e,t.payload)}}}),Dte=Fte.actions,Ote=m({initialState:O.v4(),name:"sessionId",reducers:{}}),Ute=m({initialState:{projectInfo:null},name:"shareDB",reducers:{setProjectInfo(e,t){e.projectInfo=t.payload}}}),Bte=Ute.actions,Wte=m({name:"studioResize",initialState:{showResizeModal:!1,initialCanvasSize:void 0},reducers:{setStudioResize:(e,t)=>{e.showResizeModal=t.payload.showResizeModal,e.initialCanvasSize=t.payload.initialCanvasSize}}}),{setStudioResize:Vte}=Wte.actions,Hte=m({initialState:{open:!1},name:"studioSearch",reducers:{setOpen:(e,t)=>{e.open=t.payload}}}),zte=Hte.actions,Gte=e=>({title:"",privacyLevel:void 0,allowComments:false,allowDuets:false,allowStitches:false,disclosePostContent:false,promotingYourBrand:false,promotingBrandedContent:false,token:null==e?void 0:e.token,channel:null==e?void 0:e.channel,exportId:null==e?void 0:e.exportId}),Yte=m({name:"tiktok",initialState:Gte(),reducers:{setToken:(e,t)=>{e.token=t.payload},setChannel:(e,t)=>{e.channel=t.payload},setTitle:(e,t)=>{e.title=t.payload},setPrivacyLevel:(e,t)=>{e.privacyLevel=t.payload},setAllowComments:(e,t)=>{e.allowComments=t.payload},setAllowDuets:(e,t)=>{e.allowDuets=t.payload},setAllowStitches:(e,t)=>{e.allowStitches=t.payload},setDisclosePostContent:(e,t)=>{e.disclosePostContent=t.payload},setPromotingYourBrand:(e,t)=>{e.promotingYourBrand=t.payload},setPromotingBrandedContent:(e,t)=>{e.promotingBrandedContent=t.payload},setExportId:(e,t)=>{e.exportId=t.payload},resetToDefaultOptions:e=>Gte(e)}}),Kte=Yte.actions,Xte={};async function Zte(e){const{dispatch:t}=Mu(),a=await async function(e){if(!e)return{canWrite:!0,canRead:!0};{const{state:t}=Mu();if(!qm(t.currentUser))return{canWrite:!1};try{const t={videoId:e};return await Kf("/api/v1/videos/userPermissions",{params:t,retries:2})}catch(b9e){const t=b9e&&"object"==typeof b9e&&"error"in b9e?b9e.error:b9e;return console.error(`Error getting video permissions: ${t}`),{canWrite:!1,canRead:!1}}}}(e);return t(Jte(a)),a}const qte=m({initialState:Xte,name:"userPermissions",reducers:{setUserPermissions:(e,t)=>{e.canWrite=t.payload.canWrite,e.canRead=t.payload.canRead,e.canExport=t.payload.canExport,e.canRename=t.payload.canRename,e.canRegenerate=t.payload.canRegenerate,e.canEdit=t.payload.canEdit},clearUserPermissions:()=>Xte}}),{setUserPermissions:Jte,clearUserPermissions:$te}=qte.actions;var Qte=(e=>(e.public="Public",e.private="Private",e.unlisted="Unlisted",e))(Qte||{});const eae={Public:"Everyone can watch your video",Private:"Only you and people you choose can watch your video",Unlisted:"Anyone with the video link can watch your video"};const tae=["kapwing"],aae=Qte.public,nae=e=>{var t;return{title:"",description:"",tags:tae,categories:(null==e?void 0:e.categories)??[],selectedCategoryId:null==(t=null==e?void 0:e.categories.filter((e=>{var t;return"People & Blogs"===(null==(t=e.snippet)?void 0:t.title)}))[0])?void 0:t.id,selfDeclaredMadeForKids:false,privacyStatus:aae,token:null==e?void 0:e.token,channel:null==e?void 0:e.channel,exportId:null==e?void 0:e.exportId}},sae=m({name:"youtube",initialState:nae(),reducers:{setToken:(e,t)=>{e.token=t.payload},setChannel:(e,t)=>{e.channel=t.payload},setTitle:(e,t)=>{e.title=t.payload},setDescription:(e,t)=>{e.description=t.payload},setTags:(e,t)=>{e.tags=t.payload},setCategories:(e,t)=>{e.categories=t.payload},setSelectedCategoryId:(e,t)=>{e.selectedCategoryId=t.payload},setSelfDeclaredMadeForKids:(e,t)=>{e.selfDeclaredMadeForKids=t.payload},setPrivacyStatus:(e,t)=>{e.privacyStatus=t.payload},setExportId:(e,t)=>{e.exportId=t.payload},resetToDefaultOptions:e=>nae(e)}}),oae=sae.actions,iae=He({config:(e=RH,t)=>"SET_CONFIG"===t.type?{...e,...t.config||{}}:e,uploadStatuses:f9.reducer,toolTip:(e="",t)=>{switch(t.type){case"SHOW_TOOL_TIP":return t.toolTip;case"RESET_EDITOR":return"";default:return e}},privacy:(e=null,t)=>{let a;switch(t.type){case"SET_CURRENT_VIDEO":a=(t.video||{}).privacy,a=null==a?null:a;break;case"SET_PRIVACY":a=t.privacy;break;case"RESET_EDITOR":case"RESET_PRIVACY":case"RESET_STUDIO":a=null;break;default:a=e}return a},editorPath:(e="/",t)=>{switch(t.type){case"SET_EDITOR_PATH":return t.path;case"RESET_EDITOR":return"/";default:return e}},currentVideo:(e={},t)=>{switch(t.type){case"SET_CURRENT_VIDEO":return t.video;case"UPDATE_CURRENT_VIDEO":return{...e,...t.videoUpdates};case"RESET_STUDIO":case"RESET_CURRENT_VIDEO":return{};default:return e}},recentVideos:(e=[],t)=>"SET_RECENT_VIDEOS"===t.type?t.videos:e,videoSaving:(e=!1,t)=>{switch(t.type){case"SET_VIDEO_SAVING":return!0;case"CLEAR_VIDEO_SAVING":return!1;default:return e}},currentUser:(e=(()=>"object"==typeof Cypress&&"env"in Cypress?"team"===Cypress.env("isSignedIn")?(FH(Cypress.env("deprecatedTeamsUserToken")),{user:Cypress.env("deprecatedTeamsUser"),token:Cypress.env("deprecatedTeamsUserToken")}):"default"===Cypress.env("isSignedIn")?(FH(Cypress.env("userToken")),{user:Cypress.env("user"),token:Cypress.env("userToken")}):PH:PH)(),t)=>{var a;switch(t.type){case"REQUEST_USER":return{...e,user:{},token:e.token};case"RECEIVE_USER_AND_SET_TOKEN":{const{user:a,token:n,impersonatingAdminEmail:s}=t;return DH(a),{...e,user:a,token:n,impersonatingAdminEmail:s}}case"SET_TOKEN":return{...e,token:t.token};case"MOCK_SIGN_IN":{const t=MH.TEST_USER||Cypress.env("user"),a=MH.TEST_USER_TOKEN||Cypress.env("userToken");return t&&a?{...e,token:a,user:t}:(console.error("No user or token found for mock sign in"),e)}case"SIGN_OUT":return DH(null),PH;case"SET_USER":return DH(t.user),{...e,user:t.user};case"UPDATE_USER_NOTIF_SETTING":{if(!(null==(a=e.user)?void 0:a._id))return e;const{notifType:n,on:s,location:o}=t,i=o===Ic.Email?"optOutEmails":"optOutNotifs",r=e.user[i];if(!s&&!(null==r?void 0:r.includes(n))){const t=r?[...r,n]:[n];return{...e,user:{...e.user,[i]:t}}}if(s&&(null==r?void 0:r.includes(n))){const t=r.filter((e=>e!==n));return{...e,user:{...e.user,[i]:t}}}return e}default:return e}},seekInProgress:(e=!1,t)=>{switch(t.type){case"SET_SEEK_IN_PROGRESS":return!0;case"CLEAR_SEEK_IN_PROGRESS":return!1;default:return e}},...NH,...bU,studio:(e=OH(),t)=>Aee(e,t),workspaces:rf.reducer,teams:(e={activeTeamInvites:[],allTeams:[],userTeamInvites:[],selectedTeamId:"",sharedTeamId:"",sharedTeamOwnerEmail:"",activeBrandkit:{fonts:[],colors:[],clonedVoices:[],cmlIds:[],textStyles:{header:{},default:{},large:{}}},brandkitTemplates:[],isFetchingTeams:!1,preferredTeamId:""},t)=>{switch(t.type){case"SET_CURRENT_TEAM":{const{_id:a}=t;return{...e,selectedTeamId:a,preferredTeamId:a}}case"SET_PREFERRED_TEAM":{const{_id:a}=t;return{...e,preferredTeamId:a}}case"SET_TEAMS":return{...e,allTeams:t.teams};case"SET_ACTIVE_TEAM_INVITES":return{...e,activeTeamInvites:t.invites};case"SET_USER_TEAM_INVITES":return{...e,userTeamInvites:t.invites};case"UPDATE_TEAM":return te(e,(a=>{const{id:n,updateDict:s}=t,o=(i=e.allTeams,r=n,i.findIndex((e=>e._id===r)));var i,r;const l=e.allTeams[o];if(!l)return;const d={...l,...s};a.allTeams[o]=d}));case"UPDATE_TEAM_NAME":return te(e,(e=>{for(const a of e.allTeams)a._id===t.id&&(a.name=t.name)}));case"UPDATE_TEAM_LOGO":return te(e,(e=>{for(const a of e.allTeams)a._id===t.id&&(a.picture=t.picture)}));case"SET_SHARED_TEAM_OWNER_EMAIL":return{...e,sharedTeamOwnerEmail:t.sharedTeamOwnerEmail};case"SET_SHARED_TEAM_ID":return{...e,teamOwnerEmail:t.sharedTeamId};case"MOCK_SIGN_IN":return{...e,..."object"==typeof Cypress&&"env"in Cypress?"deprecatedTeamsUser"===(null==(a=null==Cypress?void 0:Cypress.env)?void 0:a.call(Cypress,"isSignedIn"))?{allTeams:Cypress.env("DEPRECATED_TEAMS_USER_ALL_TEAMS"),selectedTeamId:Cypress.env("DEPCRECATED_TEAMS_USER_SELECTED_TEAM_ID")}:{allTeams:Cypress.env("DEFAULT_USER_ALL_TEAMS"),selectedTeamId:Cypress.env("DEFAULT_USER_SELECTED_TEAM_ID")}:{}};case"SIGN_OUT":return{allTeams:[],selectedTeamId:""};case"SET_ACTIVE_BRANDKIT":{const{activeBrandkit:a}=e,{update:n}=t;return"function"==typeof n&&a?{...e,activeBrandkit:n(a)}:{...e,activeBrandkit:n}}case"SET_BRANDKIT_TEMPLATES":{const{templates:a}=t;return{...e,brandkitTemplates:a}}case"SET_NEXT_LIMIT_RESET":{const{teamId:a,nextReset:n}=t;return{...e,nextLimitReset:{...e.nextLimitReset,[a]:n}}}case"INCREMENT_AI_USAGE":{const{feature:a}=t,n=e.allTeams.find((t=>t._id===e.selectedTeamId));if(!n)return e;const s=n.limits,o=s[a]||0;if("number"!=typeof o)return e;const i={...s,[a]:o+1};return{...e,allTeams:e.allTeams.map((t=>t._id===e.selectedTeamId?{...t,limits:i}:t))}}case"SET_IS_FETCHING_TEAMS":return{...e,isFetchingTeams:t.isFetching};case"SET_LOCAL_CUMULATIVE_EXPORT_DURATION_FOR_CURRENT_TEAM":{const{duration:a}=t,n=e.allTeams.find((t=>t._id===e.selectedTeamId));if(!n)return e;const s=n.limits,o=s.cumulativeExportDuration||0,i={...s,cumulativeExportDuration:o+a};return{...e,allTeams:e.allTeams.map((t=>t._id===e.selectedTeamId?{...t,limits:i}:t))}}default:return e}var a},groupSidebarOpen:(e={},t)=>"TOGGLE_SIDEBAR"===t.type?{...e,[t.groupId]:!e[t.groupId]}:e,selectedTabs:p0.reducer,mediaLibrary:(e={})=>e,studioLocal:Fee,featureSupport:DS.reducer,projectSessionSettings:xh.reducer,sessionId:Ote.reducer,sessionValues:CC.reducer,CMLFiles:BH.reducer,assets:GE.reducer,mediaCache:Fp.reducer,comments:mG.reducer,recordAudio:kte.reducer,assetTranscriptions:PE.reducer,loadedFonts:wB.reducer,activeEditors:jH,notifications:gte.reducer,projects:_te.reducer,modal:bA.reducer,exports:wU.reducer,explorer:CA.reducer,subscription:B3.reducer,magicSubtitlePresets:LB.reducer,textPresets:jV.reducer,textTemplates:qV.reducer,toasts:ob.reducer,transcriptionCostsCache:AP.reducer,userPermissions:qte.reducer,clipboard:Uee.reducer,isMobile:dte.reducer,trimWithTranscript:y8.reducer,bRoll:WU.reducer,eyedropper:Zee.reducer,vision:aF.reducer,singleTimePopups:S$.reducer,translation:k3.reducer,studioTour:qB.reducer,featureFlags:dB.reducer,teamBlueprints:QB.reducer,timelineStyles:oH.reducer,transcriptTab:rH.reducer,elementPool:nB.reducer,workflows:cH.reducer,studioSizing:Mq.reducer,history:EU.reducer,repurpose:Lte.reducer,studioResize:Wte.reducer,studioSearch:Hte.reducer,youtube:sae.reducer,tiktok:Yte.reducer,facebook:Qee.reducer,googlePhotos:rte.reducer,autoRoughCut:Dee.reducer,shareDB:Ute.reducer,presence:bte.reducer,mediaPopover:cte.reducer,uploadOverlay:I4.reducer,glossary:tte.reducer,scriptChat:Fte.reducer,mountedTooltipAnchorIds:pte.reducer,dubbingFramesConfig:Wee.reducer}),rae="undefined"!=typeof window,lae=(e,t)=>{var a,n;const s=Wv("reducer",[t.type]);let o={...e};switch(t.type){case"RESET_STATE_PRESERVE_USER":case"RESET_STUDIO":o={config:o.config,currentUser:o.currentUser,toasts:o.toasts,workspaces:o.workspaces,teams:o.teams,templates:o.templates,featureSupport:o.featureSupport,mediaCache:o.mediaCache,sessionId:o.sessionId,sessionValues:o.sessionValues,CMLFiles:o.CMLFiles,assets:o.assets,comments:o.comments,notifications:o.notifications,projects:o.projects,loadedFonts:o.loadedFonts,magicSubtitlePresets:o.magicSubtitlePresets,textPresets:o.textPresets,textTemplates:o.textTemplates,explorer:o.explorer,subscription:o.subscription,clipboard:o.clipboard,studioTour:o.studioTour,youtube:o.youtube,tiktok:o.tiktok,facebook:o.facebook,googlePhotos:o.googlePhotos};break;case"UPDATE_ENTIRE_STATE":Object.assign(o,t.newStateProperties);break;case"JEST_CLEAR_STORE":o=iae(void 0,t)}const i=iae(o,t);if(rae){window.state=i;const e=_L({layerId:(null==(a=i.studio.selectedItem)?void 0:a.id)||"",layersById:i.studio.allLayers.byId,tetheredWaveforms:i.studio.tetheredWaveforms});window.layer=e,window.layers=Object.values(i.studio.allLayers.byId),window.layerAsset=i.assets.byId[(null==e?void 0:e.asset_id)||""];const t=null==(n=i.teams.activeBrandkit)?void 0:n.personas;t&&(window.personas=Object.entries(t).map((([e,t])=>t.assetId&&t.originalVideo?{isStockPersona:!0,assetId:t.assetId,name:t.name,originalVideo:t.originalVideo||"",elevenLabsVoiceId:t.elevenLabsVoiceId||"",personaId:e}:null)).filter(vA))}return HE(e,i),(e=>{const t=pU(e);t&&(hU=t.id)})(i),s(),i},dae=ze();dae.startListening({predicate:(e,t,a)=>"KAPWING_INIT"===e.type||t.studio.localId!==a.studio.localId,effect:async function(e,t){const a=t.getState().studio.localId;if(!a)return;const n=Ev.get(`session_${a}`,{disabled:null});n&&t.dispatch(Ph(n));(e=>{if(yC.map.clear(),wC.map.clear(),null==e)return;const{records:t}=e,a=fC("");for(const[n,s]of Object.entries(t)){const e={...a,mediaCacheId:n,...c.pick(s,Object.keys(a))};yC.map.set(n,e)}})(Ev.get(`video_usage_${a}`,{disabled:null}))}}),Ge(!1);const cae=function(){var e,t,a;if("undefined"!=typeof window)try{const n=Ev.get("state",{disabled:null});if(null===n)return;if(!n)return;const s=window.location.href,o=(null==(e=n.studio)?void 0:e._id)||(null==(t=n.currentVideo)?void 0:t._id);if(o&&!s.includes(o)&&(n.studio=void 0,n.scriptChat=void 0),n.studio){const e=pA(n.studio.projectVersion),t=pA("0.18"),s=cA(e,t);!function(e,t){if(!t.length)return e;for(const n of t)try{n.migrate(e),e.projectVersion=n.versionNumber}catch(a){return console.error(a),l(a,{tags:{migrationFailure:!0}}),e}}(n.studio,s);const o=(n.studio,null);o&&l(o,{tags:{migrationDryRunFailure:!0,videoId:String(null==(a=n.studio)?void 0:a._id)}})}return n.workspaces&&(n.workspaces.isFetchingFolders=!1),n.teams&&(n.teams.isFetchingTeams=!1),n}catch(n){return void console.error(n)}}(),uae="object"==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({actionsDenylist:["SET_STUDIO_TIME"]}):Ye,pae=[e=>e=>t=>Lv?Hv("redux",[t.type],(()=>e(t))):e(t),e=>e=>{let t={},a=0;return n=>{if(a+=1,t[n.type]=(t[n.type]||0)+1,e(n),1===a){const e=new MI("Large group of actions dispatched");setTimeout((()=>{if(a>50){const n={actionCount:a,actionCountMap:t};Ef()||console.warn("Large group of actions dispatched",n,e.stack),l(e,{extra:{...n},level:"debug"}),ov("Bulk Actions Error",{actionCount:a})}t={},a=0}))}}},dae.middleware],mae=Ke({actionTransformer:e=>"MOUNT_ACTIVE_EDITOR"===e.type||"UNMOUNT_ACTIVE_EDITOR"===e.type||"UPDATE_ACTIVE_EDITOR"===e.type?null:e,attachReduxState:!1,stateTransformer:e=>({...e,activeEditors:"Removed to reduce size",assets:"Removed to reduce size",CMLFiles:"Removed to reduce size",mediaCache:"Removed to reduce size",magicSubtitlePresets:"Removed to reduce size",textPresets:"Removed to reduce size",textTemplates:"Removed to reduce size",bRoll:"Removed to reduce size",currentVideo:"Removed to reduce size",shareDB:"Removed to reduce size",explorer:"Removed to reduce size",featureFlags:"Removed to reduce size",notifications:"Removed to reduce size",scriptChat:"Removed to reduce size",repurpose:"Removed to reduce size",projects:"Removed to reduce size",thisProjectCMLFiles:"Removed to reduce size",studioLocal:{...e.studioLocal,layerTempValues:"Removed to reduce size"}})}),gae=globalThis.globalStore||(()=>{const e=Xe(lae,cae,uae(Ze(...pae),mae)),t=new Set;if(!Ef()){let a=!1;const n=()=>{a=!1,Hv("redux",["subscribers"],(()=>{r.batch((()=>{for(const e of t)e()}))}))};return e.subscribe((()=>{const e=window.event;if(e&&["change","input","keydown"].includes(e.type)&&(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement))return n(),void(a=!1);a||(a=!0,queueMicrotask((()=>{a&&n()})))})),e.subscribe=e=>(t.add(e),()=>{t.delete(e)}),Object.assign(e,{flush(){a&&n()}})}return Object.assign(e,{flush(){}})})();globalThis.globalStore=gae;const hae=gae.flush,vae="EmailSiginIn-module_emailSignInContainer_MZ-3-",fae="EmailSiginIn-module_input_ri9Xh",bae="EmailSiginIn-module_submit_ozJyv",yae="EmailSiginIn-module_codeContainer_sKz37",wae="EmailSiginIn-module_codeSentNote_mdifL",_ae="EmailSiginIn-module_receivedNoCode_iGaGL",Cae="EmailSiginIn-module_agreement_OV5JK",Sae="EmailSiginIn-module_underlineLink_ybSo2",xae="EmailSiginIn-module_ssoLink_KIHTW",Iae=b.memo((({email:e,handleSuccess:t,onSSOSignIn:a})=>{const n=Bu(),[s,o]=i.useState(!1),[r,l]=i.useState(!1),[d,c]=i.useState(!1),[u,p]=i.useState(""),[m,g]=i.useState(""),{executeRecaptcha:h}=qe(),v=F(),b=i.useRef(null),y=Du((e=>e.sessionValues.onboarding)),w=Du((e=>e.config.RECAPTCHA_V3_SITEKEY)),_=Du((e=>e.config.RECAPTCHA_V2_SITEKEY));return i.useEffect((()=>{p(e||"")}),[e]),f.jsxs("form",{className:vae,onSubmit:e=>{e.preventDefault(),(async()=>{var e;if(r){try{o(!0);const e=await Xf("/api/v1/users/email/findUser",{body:{email:u,code:m}});e.newUser&&(n(SC({...y,newUser:!0})),n(_b([e.team])),n(lf([e.workspace]))),e.emailInvitedUser&&n(SC({...y,newUser:!0})),n($f(e.user,e.token)),await Tb(),mv(e.user,e.newUser,"Email"),Cv(e.user,e.newUser,"Email",v.pathname),hae(),null==t||t()}catch(a){console.error(a),cb({description:"Failed to sign in with code.",error:a})}o(!1)}else if(RI(u)){try{if(!h)throw new $v("Recaptcha loading ... please try again in a few seconds.",{skipSentry:!0});const t=await h("emailSignIn"),a=null==(e=b.current)?void 0:e.getValue();o(!0),await Xf("/api/v1/users/email/signin",{body:{email:u,v3CaptchaToken:t,v2CaptchaToken:a,recaptchaKeyV3:w,recaptchaKeyV2:_}}),l(!0)}catch(a){console.error(a),cb({description:"Failed to generate code for sign in.",error:a}),Bb(a)&&c(!0)}o(!1)}else n(db({description:"Please input a valid email address.",type:"error"}))})()},children:[f.jsx("input",{className:fae,disabled:r,placeholder:"Enter your email",readOnly:r,type:"email",autoComplete:"email",value:u,"data-testid":"email-input",onChange:e=>p(e.target.value)}),!r&&d&&f.jsx("div",{style:{marginBottom:"10px"},children:f.jsx(Je,{sitekey:_,ref:b})}),!r&&f.jsxs(f.Fragment,{children:[f.jsx("button",{className:bae,disabled:s,type:"submit","data-testid":"submit-email-button",children:s?"Loading...":"Continue with email"}),!!a&&f.jsx("div",{className:xae,children:f.jsx("div",{onClick:a,className:Sae,children:"Sign in with Single Sign-On (SSO) instead"})}),f.jsxs("div",{className:Cae,children:["By using Kapwing, you agree to our"," ",f.jsx("a",{href:"/policies/terms-of-service",target:"_blank",className:Sae,children:"Terms of Service"})," ","and"," ",f.jsx("a",{href:"/policies/privacy",target:"_blank",className:Sae,children:"Privacy Policy"}),"."]})]}),r&&f.jsxs("div",{className:yae,children:[f.jsxs("div",{className:wae,children:[f.jsx("span",{children:"Code sent!"})," Check your email for a login code from Kapwing."]}),f.jsx("input",{className:fae,placeholder:"Paste Sign In Code",type:"text",value:m,onChange:e=>{return t=e.target.value,void g(t.toUpperCase());var t}}),f.jsx("button",{className:bae,disabled:s,type:"submit","data-testid":"submit-code-button",children:s?"Loading...":"Continue with login code"}),f.jsx("div",{className:_ae,children:"If you didn't receive an email, please check your spam folder or try a different sign in option."}),!!a&&f.jsx("div",{className:xae,children:f.jsx("div",{onClick:a,className:Sae,children:"Sign in with Single Sign-On (SSO) instead"})})]})]})})),Aae="SSOSignIn-module_errorMessage_vqd4z",kae="SSOSignIn-module_input_-Ymwf",Tae="SSOSignIn-module_loginLink_1RVSC",Eae="SSOSignIn-module_underlineLink_KRR4A",Lae="SSOSignIn-module_submitButton_sK6p6",jae="SSOSignIn-module_disabled_YXGC1",Rae=b.memo((({onEmailSignIn:e})=>{const[t,a]=i.useState(!1),[n,s]=i.useState(""),[o,r]=i.useState(""),[l,d]=i.useState(!1);i.useEffect((()=>{if(n&&n.length>3){const e=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n);d(e)}else d(!1)}),[n]);const c=async()=>{if(n&&l){a(!0);try{const{success:e}=await Kf("/api/v1/sso/saml",{params:{email:n}});e&&(window.location.href=`/api/v1/sso/login?email=${encodeURIComponent(n)}`)}catch(b9e){404===b9e.status?r(b9e.message||"This account is not configured for SSO.  Please sign in with Google or with another email."):r(b9e.message||"Something went wrong. Please try again later."),console.error(b9e)}a(!1)}else r("Please enter a valid email")};return f.jsxs("div",{children:[f.jsx("input",{name:"email",className:kae,disabled:t,placeholder:"Enter your email",type:"email",autoComplete:"email",value:n,"data-testid":"email-input",onChange:e=>s(e.target.value),onKeyDown:e=>{"Enter"===e.key&&l&&c()}}),o&&f.jsx("div",{className:Aae,children:o}),f.jsx("button",{className:`${Lae} ${!l||t?jae:""}`,disabled:!l||t,onClick:c,children:"Log In"}),f.jsx("div",{className:Tae,children:f.jsx("div",{onClick:e,className:Eae,children:"Sign in with Google or email a code"})})]})})),Nae="SignInButtons-module_resetContainer_aHRFj",Mae="SignInButtons-module_resetButtonContainer_mG4mO",Pae="SignInButtons-module_resetButton_2-kQr",Fae="SignInButtons-module_googleIcon_hVZR-",Dae="SignInButtons-module_orText_mbXk8",Oae="SignInButtons-module_wrapper_JBiuc",Uae="SignInButtons-module_ssoButtonWrapper_5ShGr",Bae="SignInButtons-module_loaderContainer_sPjQo",Wae="SignInButtons-module_loader_p0HWI";var Vae=!1;class Hae extends i.Component{constructor(e){super(e),a(this,"loadFB",(()=>{const{facebookAppId:e}=this.props;"undefined"!=typeof FB?(FB.init({appId:e,cookie:!0,xfbml:!0,version:"v5.0"}),this.setState({fbInitialized:!0})):setTimeout(this.loadFB,200)})),a(this,"handleError",((e,t="signIn",a="Sign In")=>{const{showToast:n}=this.props;let s=e;e||(s="An error occurred during sign in. Please try again later."),ov("Sign In Error Occurred",{"Error Type":t,Details:a}),n({description:s,type:"error"}),this.setState({loading:!1})})),a(this,"handleSignInWithFacebook",(async()=>{const{fbInitialized:e}=this.state;e?(this.setState({loading:!0}),FB.getLoginStatus((e=>{"connected"===e.status?this.handleFacebookResponse(e.authResponse):FB.login((e=>{if("connected"===e.status)this.handleFacebookResponse(e.authResponse);else{const t="Couldn't log in with Facebook right now. Please try again later.";console.error("Fb error:",e),this.handleError(t,"facebookResponse",e.error)}}),{scope:"public_profile,email"})}))):ov("Sign In Error Occurred",{"Error Type":"signIn",Details:"Facebook Not Initialized"})})),a(this,"handleFacebookResponse",(e=>{const{location:t,onSuccess:a,setOnboarding:n,onboarding:s}=this.props;(async function(e){const{dispatch:t}=Mu();t({type:"REQUEST_USER"});const a=await Xf("/api/v1/users/facebook/findUser",{body:{user:e}}),{user:n,token:s,newUser:o}=a;if(t($f(n,s)),mv(n,o,"Facebook"),o){const{team:e,workspace:n}=a;t(lf([n])),t(_b([e]))}return a})(e).then((e=>{Cv(e.user,e.newUser,"Facebook",t.pathname),a&&a(),e.newUser&&n({...s,newUser:!0})})).catch((e=>{this.handleError(e.message,"fetchFacebookUser",e.message)}))})),a(this,"signInWithGoogle",(async()=>{const{location:e,uploadPending:t,showToast:a,immediateRedirectPathname:n,mockSignIn:s,forceNavigationTo:o,hardRefresh:i,onSuccess:r}=this.props;if(window.Cypress||Vae)return setTimeout((()=>{s(),_C(),null==r||r()}),1e3),void this.setState({loading:!0});if(t)return void a({description:"There is an in-progress upload in your project. Please wait until it completes to sign in.",type:"warning"});this.setState({loading:!0});let l=n||e.pathname;"/signin"===l.toLowerCase()&&(l="/");let d={pathname:n||e.pathname,hardRefresh:!1};o&&(d={pathname:o,hardRefresh:!1},i&&(d={...d,hardRefresh:!0}));const c=await Kf("/api/v1/users/google/getOAuthURL",{params:d});_C();const{url:u}=c;window.location.assign(u)})),a(this,"handleSSOSignIn",(()=>{this.props.setSSOSignIn&&this.props.setSSOSignIn(!this.props.ssoSignIn)})),a(this,"renderResponseLoading",(()=>f.jsxs("div",{className:Oae,children:[f.jsx("div",{className:Bae,children:f.jsx("div",{className:Wae})}),f.jsxs("div",{className:Nae,children:[f.jsx("span",{children:"Use the OAuth dialog window to finish signing in."}),f.jsx("div",{children:"Having trouble signing in?"}),f.jsx("div",{className:Mae,children:f.jsx("div",{className:Pae,onClick:()=>{this.setState({loading:!1})},children:"Click here to try again"})})]})]}))),this.state={fbInitialized:!1,loading:!1}}componentDidMount(){this.loadFB()}renderButtons(){const{email:e,smallTheme:t}=this.props;return this.props.ssoSignIn?f.jsx("div",{className:Uae,children:f.jsx(Rae,{onEmailSignIn:this.handleSSOSignIn})}):f.jsxs("div",{className:t?"small-theme":Oae,children:[f.jsxs("button",{type:"button",className:"sign-in-dialog-google-button",onClick:this.signInWithGoogle,"data-cy":"signin-google-button",children:[f.jsx("div",{className:Fae,children:f.jsx($e,{})}),f.jsx("span",{children:"Continue with Google"})]}),f.jsxs("div",{className:"sign-in-dialog-facebook-button",onClick:this.handleSignInWithFacebook,"data-cy":"signin-facebook-button",children:[f.jsx("div",{className:"sign-in-dialog-button-icon",children:f.jsx(Qe,{})}),f.jsx("span",{children:"Continue with Facebook"})]}),f.jsx("div",{className:Dae,children:"or"}),f.jsx(Iae,{email:e,handleSuccess:this.props.onSuccess,onSSOSignIn:this.props.setSSOSignIn?this.handleSSOSignIn:void 0})]})}render(){const{loading:e}=this.state;return e?this.renderResponseLoading():this.renderButtons()}}const zae=vC(r.connect((e=>({currentUser:e.currentUser,facebookAppId:e.config.FACEBOOK_APP_ID,uploadPending:EI(e),onboarding:e.sessionValues.onboarding})),(e=>j({requestUser:If,mockSignIn:Pb,setOnboarding:SC,showToast:db},e)))(Hae)),Gae="SignInDialog-module_dialogBackground_YB4P6",Yae="SignInDialog-module_dialogContainer_9UmO7",Kae="SignInDialog-module_dialogHeader_fONDh",Xae="SignInDialog-module_description_h73jJ",Zae="SignInDialog-module_closeContainer_B50HF",qae="SignInDialog-module_left_qxvTJ",Jae="SignInDialog-module_right_kLnzm",$ae="SignInDialog-module_rightImage_kdis-";const Qae={fontSize:24},ene=b.memo((({description:e,email:t,hideSignIn:a,immediateRedirectPathname:n,onSuccess:s,customTitle:o,customImage:r})=>{const[l,d]=i.useState(!1),c=l?"Sign in with SSO":"Sign in to continue",u=l?"Kapwing works better if you sign in. Sign in to access your projects, save content to your workspace, preview beta features, and much more.":"Kapwing works better when you're signed in. Sign in to save content to a workspace, comment, and more.";i.useEffect((()=>{ov("Initiate Sign In")}),[]);const p=async()=>{s&&s(),a()},m=e||u,g=o||c,h=B_();return N.createPortal(f.jsxs(f.Fragment,{children:[f.jsx("div",{className:Gae,onClick:a}),f.jsx("div",{className:Yae,"data-cy":"signin-dialog","data-testid":"signin-dialog",children:f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:qae,children:[f.jsx("div",{className:Kae,children:g}),f.jsx("div",{className:Zae,onClick:a,children:f.jsx(R,{style:Qae})}),f.jsx("div",{className:Xae,"data-cy":"signin-dialog-description",children:m}),f.jsx(zae,{ssoSignIn:l,setSSOSignIn:d,email:t,immediateRedirectPathname:n,onSuccess:p})]}),f.jsx("div",{className:Jae,children:f.jsx("img",{src:r||"https://cdn-useast1.kapwing.com/static/fQJ-signin-dialog=right-default.webp",alt:"Sign in to Kapwing",className:$ae})})]})})]}),h)})),tne="OverlayWrapper-module_overlayHeader_D13Cf",ane="OverlayWrapper-module_noOverlayBackground_Rq-uO",nne="OverlayWrapper-module_overlayBackground_wZFOM",sne="OverlayWrapper-module_overlayInput_ItoU-",one="OverlayWrapper-module_overlayFullContainer_vDnD-",ine="OverlayWrapper-module_signInOverlayContainer_brIAu",rne="OverlayWrapper-module_uploadOverlayResultsContainer_ySb2x",lne="OverlayWrapper-module_fontOverlayContainer_Fo2w6",dne="OverlayWrapper-module_replaceOverlayContainer_fuCSr",cne="OverlayWrapper-module_uploadOverlayContainer_1kBgS",une="OverlayWrapper-module_customBRollUploadOverlayContainer_jOieC",pne="OverlayWrapper-module_smallLightThemeOverlayContainer_NN-hG",mne="OverlayWrapper-module_lightThemeOverlayContainer_HXdgo",gne="OverlayWrapper-module_versionHistoryOverlayContainer_JDIns",hne="OverlayWrapper-module_miniLightOverlayContainer_nv6aw",vne="OverlayWrapper-module_miniOverlayContainer_nwD-J",fne="OverlayWrapper-module_smallOverlayContainer_g86or",bne="OverlayWrapper-module_studioOverlayContainer_3OPuy",yne="OverlayWrapper-module_videoPreviewOverlayContainer_nENdp",wne="OverlayWrapper-module_overlayContainerNoPadding_gINAF",_ne="OverlayWrapper-module_overflowOverlayContainer_hmCKZ",Cne="OverlayWrapper-module_overlayContainerNoScrollbar_-BvA2",Sne="OverlayWrapper-module_exit_MaFNf",xne="OverlayWrapper-module_darkExit_uH4wp",Ine="OverlayWrapper-module_exportPanelOverlayContainer_zae7J",Ane="OverlayWrapper-module_overlayContent_UXQog",kne="OverlayWrapper-module_overlayContentNoFlex_CqJ5s",Tne="OverlayWrapper-module_description_ygtQS",Ene="OverlayWrapper-module_buttonRow_pe4SZ",Lne="OverlayWrapper-module_primaryButton_ZY-cH",jne=e=>{const{dispatch:t}=Mu();t(Fh({key:XS.trim,params:e}))},Rne=(e=ZS.SETTINGS)=>{const{dispatch:t,state:a}=Mu();if(e&&t(Wj(e)),a.isMobile)return t(ck(null)),void t(yj(Jj.EXPORT_CONTROLS));t(Fh({key:"exportPanel",params:e}))},Nne=()=>{const{dispatch:e}=Mu();e(Ah())},Mne=e=>{ov("Smart Cut Opened",{layerType:e.previewLayer.type});const{dispatch:t}=Mu();t(Fh({key:XS.smartCut,params:e}))},Pne=e=>{ov("Scene Split Opened");const{dispatch:t}=Mu();t(Fh({key:XS.sceneSplit,params:e}))},Fne=()=>{const{dispatch:e}=Mu();e({type:"HIDE_SIGN_IN"})},Dne=()=>{const{dispatch:e}=Mu();e(lq(!0))},One=()=>{const{dispatch:e}=Mu();e(lq(!1))},Une="overlay-wrapper-root";let Bne=class extends i.Component{constructor(e){super(e),a(this,"uploaderMounted",(()=>{const{location:e}=this.props;return e.pathname.includes("drag-upload")})),a(this,"setFiles",(e=>{var t,a;this.setState({uploadInProgress:!0}),null==(a=(t=this.props).onFilesChanged)||a.call(t,e)})),a(this,"handleDragUpload",(e=>{var t,a;this.setState({uploadInProgress:!0}),null==(a=(t=this.props).onFilesChanged)||a.call(t,e.target.files)})),a(this,"handleClick",(()=>{const{navigate:e,goBackToSelectedLayer:t,goBackToEditor:a=!0,editorPath:n,selectedLayerId:s,overlay:o,hideOverlay:i,onClose:r}=this.props;r?r():o&&o.key?i():t&&s?e(-1):a?aR(n):e(-1)})),a(this,"handleFileDrop",(e=>{this.setFiles(e.dataTransfer.files),e.preventDefault(),e.stopPropagation()})),a(this,"handleDragOver",(e=>{var t,a;e.preventDefault(),e.stopPropagation(),null==(a=(t=this.props).onDragOver)||a.call(t,e)})),a(this,"handleDragEnter",(e=>{e.preventDefault(),e.stopPropagation()})),a(this,"renderDragInput",(()=>this.uploaderMounted()&&!this.state.uploadInProgress&&f.jsx("input",{"data-cy":"upload-input",className:sne,accept:this.props.accept||"image/*,video/mp4,video/*",onChange:this.handleDragUpload,type:"file",multiple:!0,onDragLeave:sR}))),this.state={videoPlayingOnMount:!1}}componentDidMount(){this.setState({videoPlayingOnMount:!this.props.studioPaused}),this.props.pauseStudio(),Dne()}componentDidUpdate(){this.props.studioPaused||this.props.pauseStudio()}componentWillUnmount(){this.state.videoPlayingOnMount&&YJ(),One()}render(){const{children:e,keepScrollbar:t,noBackground:a,darkenModal:n}=this.props;let s=bne,o=Sne;this.props.small?s=fne:this.props.lightTheme?(s=mne,o+=` ${xne}`):this.props.smallLightTheme?(s=pne,o+=` ${xne}`):this.props.uploadOverlayResultsTheme?s=rne:this.props.replace?s=dne:this.props.customBRollTheme?s=une:this.props.uploadOverlayTheme?s=cne:this.props.fontOverlayTheme?s=lne:this.props.signInDialog?(s=ine,o+=` ${xne}`):this.props.mini?s=vne:this.props.miniLight?s=hne:this.props.versionHistory?s=gne:this.props.useExportPanelStyle?s=Ine:this.props.noPadding?s=wne:this.props.videoPreview?s=yne:this.props.overflowYVisible&&(s=_ne),t||(s=`${s} ${Cne}`);const i=B_();return N.createPortal(f.jsxs("div",{onDrop:this.handleFileDrop,onDragOver:this.handleDragOver,onDragEnter:this.handleDragEnter,id:"overlay-wrapper-root",children:[f.jsx("div",{className:a?ane:nne,onClick:this.handleClick,"data-cy":"overlay-background"}),this.renderDragInput(),f.jsx("div",{className:one,style:n?{zIndex:14}:{},children:f.jsxs("div",{className:s,"data-cy":"overlay-container","data-testid":"overlay-container",style:(()=>{const{width:e,backgroundColor:t,noMaxWidth:a,maxWidth:n,containerStyles:s}=this.props;let o={};return s&&(o={...s}),e&&(o={...o,width:e}),t&&(o={...o,backgroundColor:t}),n?o={...o,maxWidth:n}:a||n||(o={...o,maxWidth:800}),o})(),children:[!this.props.hideClose&&f.jsx("div",{"data-cy":"overlay-close",className:o,onClick:this.handleClick,children:f.jsx(R,{})}),f.jsx("div",{className:(()=>this.props.overlayContentNoFlex?kne:Ane)(),children:e})]})})]}),i)}};const Wne=vC(r.connect((e=>{var t;return{editorPath:e.editorPath,overlay:e.projectSessionSettings.overlay,selectedLayerId:(null==(t=pU(e))?void 0:t.id)||"",studioPaused:VJ(e)}}),(e=>j({hideOverlay:Ah,pauseStudio:sB},e)))(Bne));async function Vne(){const{dispatch:e,state:t}=Mu(),{teams:a}=t,{selectedTeamId:n}=a,s=await Kf(`/api/v2/teams/${n}`);e(Sb(s._id,s))}const Hne=e=>{const t=e.planData.upsellsTo;if(!t)return[];const a=nc(t);return[a,...Hne(a)]};function zne(e){i.useEffect((()=>e()),[])}const Gne={workspacePopoverZIndex:"18",popoverZIndex:"14",paywallZIndex:"1001",paywallBgZIndex:"1000",bold:"UpgradeModal-module_bold_BgPt8",modalBackground:"UpgradeModal-module_modalBackground_WdFNX",paywallHead:"UpgradeModal-module_paywallHead_0kRw3",paywallTitle:"UpgradeModal-module_paywallTitle_fdg2T",seatSelections:"UpgradeModal-module_seatSelections_E012m",paywallSelections:"UpgradeModal-module_paywallSelections_HWdem",seatSelectionDropdown:"UpgradeModal-module_seatSelectionDropdown_uK-40",billingCycleSelection:"UpgradeModal-module_billingCycleSelection_OFVYt",selection:"UpgradeModal-module_selection_nD3Pm",monthly:"UpgradeModal-module_monthly_ds4jD",yearly:"UpgradeModal-module_yearly_Rp6Kh",period:"UpgradeModal-module_period_AGQ9m",seatSelectionUnit:"UpgradeModal-module_seatSelectionUnit_--vLu",plans:"UpgradeModal-module_plans_40SdL",plan:"UpgradeModal-module_plan_S5qDl",planName:"UpgradeModal-module_planName_YC1BS",planDescription:"UpgradeModal-module_planDescription_CNQ-K",billingConfigDetails:"UpgradeModal-module_billingConfigDetails_2wr3P",pricingInfo:"UpgradeModal-module_pricingInfo_GeqNs",recommendedPlan:"UpgradeModal-module_recommendedPlan_tlUvi",pricingDetailsContainer:"UpgradeModal-module_pricingDetailsContainer_9ALxp",calculation:"UpgradeModal-module_calculation_G5qH-",totalPrice:"UpgradeModal-module_totalPrice_N1dfi",priceBreakdown:"UpgradeModal-module_priceBreakdown_HPE8k",planFeatures:"UpgradeModal-module_planFeatures_pYVe9",upgradeButton:"UpgradeModal-module_upgradeButton_Nll3n",isRecommended:"UpgradeModal-module_isRecommended_v70V-",planPricingInfoContainer:"UpgradeModal-module_planPricingInfoContainer_UlXvc",planFeaturesCTA:"UpgradeModal-module_planFeaturesCTA_oIqOn",planFeature:"UpgradeModal-module_planFeature_37qBv",paywallContainer:"UpgradeModal-module_paywallContainer_pjWme",returnLink:"UpgradeModal-module_returnLink_GiQ7E",isCurrent:"UpgradeModal-module_isCurrent_9yWQN",gapRight:"UpgradeModal-module_gapRight_cpsks",alertOverlay:"UpgradeModal-module_alertOverlay_9xA4g",overlayShow:"UpgradeModal-module_overlayShow_G6dS7",alertDialog:"UpgradeModal-module_alertDialog_jWYFl",contentShow:"UpgradeModal-module_contentShow_3ieU5",alertTitle:"UpgradeModal-module_alertTitle_2RN5l",alertDescription:"UpgradeModal-module_alertDescription_BgviJ",noScroll:"UpgradeModal-module_noScroll_PXqyG",loading:"UpgradeModal-module_loading_D13pL",shimmer:"UpgradeModal-module_shimmer_aA20F",alertButtonContainer:"UpgradeModal-module_alertButtonContainer_-OZHx",alertButton:"UpgradeModal-module_alertButton_gf-cg",cancel:"UpgradeModal-module_cancel_4PnOw",confirm:"UpgradeModal-module_confirm_JTY-D",dollarSign:"UpgradeModal-module_dollarSign_WNkit",buildingsIcon:"UpgradeModal-module_buildingsIcon_uqXRG",totalDueContainer:"UpgradeModal-module_totalDueContainer_Brq2v",bottom:"UpgradeModal-module_bottom_D388h",annualLabel:"UpgradeModal-module_annualLabel_6IwUM",save:"UpgradeModal-module_save_xXiMz",paywallHeadLabel:"UpgradeModal-module_paywallHeadLabel_tNAXm",paywallSubtitle:"UpgradeModal-module_paywallSubtitle_6ZajB"},Yne=e=>{const t=new URLSearchParams(e).get("upgrade");if(!t)return;const a=JSON.parse(decodeURIComponent(t)),{t:n,a:s,e:o,c:i,n:r,ii:l,o:d,irp:c}=a;return{teamId:n,action:s,extraAmplitudeEventProperties:o,closeable:i,numSeatsInit:r,intervalInit:l,overrideRecommendedUpgrade:d,immediateRedirectPathname:decodeURIComponent(c)}},Kne=(e,t)=>{const{teamId:a,action:n,extraAmplitudeEventProperties:s,if:o,closeable:i,numSeatsInit:r,intervalInit:l,overrideRecommendedUpgrade:d,immediateRedirectPathname:c}=e,u={t:a,a:n,e:s,i:o,c:i,n:r,ii:l,o:d,irp:encodeURIComponent(String(c))},p=new URLSearchParams(t),m=encodeURIComponent(JSON.stringify(u));return p.set("upgrade",m),p.toString()},Xne=e=>{const t=new URLSearchParams(e);return t.delete("upgrade"),t.toString()};const Zne=b.memo((function({onConfirm:e,planToUpgradeTo:t,interval:a,seats:n,isOpen:s,setIsOpen:o}){const r=D2(),[l,d]=i.useState(null),[u,p]=i.useState(!1),m=lg(),g=cg();i.useEffect((function(){t.type!==Id.Enterprise&&m.stripeId&&g.isPaid&&Kf(`/api/v2/payment/upgrade/${m._id}/to/${t.type}`,{params:{interval:a,numSeats:n}}).then((e=>{r.current&&d(e.price)})).catch((()=>{p(!0)}))}),[g.isPaid,m._id,m.stripeId,a,r,t.type,n]);const h=i.useCallback((()=>o(!1)),[o]),v=i.useMemo((()=>{const e=a===xd.Year?"annual":"monthly";return 0===l||u?`Click Confirm to authorize the upgrade to the ${t.name} Plan. Your remaining ${g.name} credit will be applied towards the ${e} subscription fee until its spent. Afterward, your default payment method will be charged for the ${e} subscription fee.`:f.jsxs(f.Fragment,{children:["Click Confirm to authorize a payment of $",f.jsx("span",{className:c.isNull(l)?Gne.loading:"",children:c.isNull(l)?"":(l/100).toFixed(2)})," ","USD with your current payment method. After payment, your workspace will be upgraded to the ",t.name," Plan."]})}),[u,g.name,a,t.name,l]);return f.jsx(er,{open:s,onOpenChange:o,children:f.jsxs(tr,{children:[f.jsx(ar,{className:Gne.alertOverlay,onClick:h}),f.jsxs(nr,{className:Gne.alertDialog,children:[f.jsx(sr,{className:Gne.alertTitle,children:"Please Confirm Your Upgrade"}),f.jsx(or,{className:Gne.alertDescription,children:v}),f.jsxs("div",{className:Gne.alertButtonContainer,children:[f.jsx(ir,{asChild:!0,children:f.jsx("button",{type:"button",className:[Gne.alertButton,Gne.cancel].join(" "),children:"Cancel"})}),f.jsx(rr,{asChild:!0,children:f.jsx("button",{className:[Gne.alertButton,Gne.confirm].join(" "),onClick:e,"data-cy":"confirm-upgrade-button",children:"Confirm"})})]})]})]})})})),qne=f.jsx("div",{className:Gne.returnLink,children:f.jsx("a",{href:"/",children:"No thanks, return to Kapwing home"})});const Jne=b.memo((function({numSeats:e,setNumSeats:t,interval:a,setInterval:n}){var s;const o=lg(),{subscription:i}=Y3(),r=Math.max((null==(s=null==o?void 0:o.users)?void 0:s.length)||0,(null==i?void 0:i.quantity)||0,1);r>e&&t(r);const l=((e,t)=>{const a=t-e+2,n=new Array(a);for(let s=1;s<a;s++)n[s]=e+s;return n})(r,200);return f.jsxs("div",{className:Gne.paywallSelections,children:[f.jsxs("div",{className:Gne.seatSelections,children:[f.jsxs("select",{value:e,onChange:e=>{t(parseInt(e.target.value))},className:Gne.seatSelectionDropdown,children:[f.jsx("option",{value:r,children:r}),l.map((e=>f.jsx("option",{value:e,children:e},e)))]}),f.jsx("span",{className:Gne.seatSelectionUnit,children:ec("member","members",e)})]}),f.jsxs("div",{className:Gne.billingCycleSelection,children:[f.jsx("div",{className:[Gne.selection,a===xd.Month?Gne.monthly:Gne.yearly].join(" ")}),f.jsx("div",{className:Gne.period,onClick:()=>n(xd.Month),"data-cy":"select-monthly-pricing",children:"Monthly Plan"}),f.jsx("div",{className:Gne.period,onClick:()=>n(xd.Year),"data-cy":"select-annual-pricing",children:f.jsxs("div",{className:Gne.annualLabel,children:["Annual Plan ",f.jsx("div",{className:Gne.save,children:"Save up to 33%"})]})})]})]})}));const $ne=b.memo((function({plan:e,seats:t,interval:a,metadata:n={},setLoadingCheckout:s,isRecommendedPlan:o=!1,isCurrentPlan:r=!1,closeModal:l,action:d=Dd.UNKNOWN,immediateRedirectPathname:c}){const u=Bu(),p=Bg(),m=lg(),g=F(),h=e instanceof cc,[v,b]=i.useState(!1),y=cg(),{subscription:w}=Y3(),[_,C]=i.useState(!1),S=lg(),x=i.useCallback((e=>{s(e),b(e)}),[s]),I=P(),A=nc(e.upgradesFrom||Id.Free),{openEnterpriseTypeform:k}=hC(),T=tY((function(){gv({interval:a,planTier:e.type,upgradeSource:d,teamId:m._id,quantity:t,extraAmplitudeEventProperties:{}})})),E=i.useMemo((()=>{if(h)return null;if(r)return null;let n=e.planData.basePrice.year*t;return a===xd.Month&&(n=e.planData.basePrice.month*t),f.jsxs("div",{className:Gne.totalDueContainer,children:[f.jsx("span",{children:"Total Due Today:"}),f.jsxs("div",{className:Gne.bold,children:["$",n," USD"]})]})}),[h,r,e.planData.basePrice.year,e.planData.basePrice.month,t,a]),L=y.isPaid&&S.stripeId,j=i.useCallback((async function(){x(!0),C(!1);try{const n=await Xf(`/api/v2/payment/upgrade/${e.type}`,{body:{teamId:m._id,interval:a,numSeats:t}});if(!n.success)throw new Error(n.error);if(await Vne(),l(),c){const e=c&&"undefined"!==c?c:g.pathname;I(e)}u(db({type:"success",description:"Your plan has been upgraded and your card has been charged."})),T()}catch(b9e){!function(e,t){m_(e)?pb({headerOverride:"Your payment was unsuccessful",description:["To add seats to your workspace, please update your payment information or try using a different credit card in ",{text:"the Billing tab.",href:`/team/${t}/billing`}]}):cb({description:"An error occurred while upgrading your plan.",error:e})}(b9e,m._id)}x(!1)}),[l,u,I,c,a,g.pathname,T,e.type,t,x,m._id]);async function R(){return y.isPaid?j():async function(){x(!0);const s=c&&"undefined"!==c?c:g.pathname,o=new URL(window.location.href),i=Yne(g.search);i&&(i.numSeatsInit=t,i.intervalInit=a,o.search=Kne(i,g.search));const r={originUrl:o.href,onSuccessPath:s,planTier:e.type,interval:a,numSeats:t,metadata:{name:m.name,teamId:m._id,seats:t,...n},teamId:m._id};try{const e=await Xf("/api/v1/stripe/createCheckoutSession",{body:r}),{checkoutUrl:t}=e;window.location.href=t}catch(l){x(!1),cb({description:"An error occurred while redirecting to checkout. Please try again later.",error:l})}}()}const N=i.useMemo((()=>r?"Current Plan":h?"Contact Sales":`Upgrade to ${e.name}`),[r,h,e.name]);let M=xd.Month===a?e.planData.basePrice.month:e.planData.basePrice.year/12;if(r&&w){const e=w.plan.amount/100,t=w.plan.interval===xd.Month?e:e/12;a===w.plan.interval&&(M=t)}return p&&r?null:f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:[Gne.plan,o?Gne.recommendedPlan:""].join(" "),children:[f.jsxs("div",{className:Gne.planPricingInfoContainer,"data-cy":`${e.type}-plan-tab`,children:[f.jsx("div",{className:Gne.planName,children:e.name}),f.jsx("div",{className:Gne.planDescription,children:e.planDescription}),f.jsx("div",{className:Gne.pricingInfo,children:h?f.jsx(et,{size:56,className:Gne.buildingsIcon}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:Gne.calculation,children:[p_(t,"member"),"  $",M," per month ="]}),f.jsxs("div",{className:Gne.pricingDetailsContainer,children:[f.jsxs("div",{className:Gne.totalPrice,"data-cy":"total-price",children:[f.jsx("span",{className:Gne.dollarSign,children:"$"}),M*t]}),f.jsx("div",{className:Gne.priceBreakdown,children:f.jsxs("div",{children:["USD per month"," ",xd.Month===a?null:f.jsx("span",{children:"paid annually"})]})})]})]})})]}),f.jsxs("div",{className:Gne.planFeatures,children:[f.jsxs("div",{className:Gne.planFeaturesCTA,children:["Everything in ",A.name,", plus:"]}),e.planData.modalReasons.map((e=>f.jsxs("div",{className:Gne.planFeature,children:[f.jsx(tt,{}),f.jsx("div",{children:e})]},e)))]}),f.jsxs("div",{className:Gne.bottom,children:[E,f.jsxs("button",{type:"button",className:[Gne.upgradeButton,o?Gne.isRecommended:"",r?Gne.isCurrent:""].join(" "),disabled:v||r,onClick:()=>{if(h)return k(),void l();L?C(!0):r||R()},children:[r&&f.jsx(tt,{className:Gne.gapRight}),f.jsx("div",{children:v?"Loading...":N})]})]})]}),f.jsx(Zne,{onConfirm:j,planToUpgradeTo:e,interval:a,seats:t,isOpen:_,setIsOpen:C})]})})),Qne={zIndex:"1000",pointerEvents:"auto"},ese={zIndex:"1001",pointerEvents:"auto"},tse=b.memo((({onClose:e=(()=>sR()),closeable:t=!0,action:a=Dd.UNKNOWN,extraAmplitudeEventProperties:n={},numSeatsInit:s=1,intervalInit:o=xd.Year,overrideRecommendedUpgrade:r,immediateRedirectPathname:l})=>{var d;const c=cg(),u=Bu(),p=lg(),[m,g]=i.useState(Math.max(s,(null==(d=null==p?void 0:p.users)?void 0:d.length)||1)),[h,v]=i.useState(o),b=(e=>{var t;const a=e&&Xd[e],n=(null==a?void 0:a.permission)&&Kd[null==a?void 0:a.permission];return(null==(t=null==a?void 0:a.metadata)?void 0:t.upgradeReason)||(null==n?void 0:n.upgradeReason)||Jd})(a||Dd.DEFAULT),{currentUser:y}=Du((e=>({currentUser:e.currentUser})),Ou),w=F(),[_,C]=i.useState(!1),S=(()=>{const e=cg(),t=Hne(e);return i.useMemo((()=>[e,...t].filter((e=>e.isPaid))),[e,t])})();i.useEffect((function(){return document.body.classList.add(Gne.noScroll),()=>{document.body.classList.remove(Gne.noScroll)}}),[]);const x=(w.pathname.includes("/studio/editor")||w.pathname.includes("/videos/"))&&!(()=>{const{state:e}=Mu();return!e.studio.teamId||e.teams.allTeams.some((t=>t._id===e.studio.teamId))})(),I=qm(y);i.useEffect((function(){I&&Tb()}),[u,I]),zne((function(){!function(e,t={}){const{dripDiscount:a,extraProperties:n={}}=t,{state:s}=Mu(),{currentUser:o}=s,i=vv(e),r=rg(),l={"Upgrade Source":i,"Signed In":qm(o),"Team ID":r?r._id:"","Number of Workspace Members":r?r.users.length:1,"Brand Kit Pre-Populated":qg()};a&&(l["Discount Value"]=a),ov("Visit Checkout",{...l,...n})}(a||Dd.UNKNOWN,{extraProperties:n})}));const A=i.useCallback((e=>e.stopPropagation()),[]),k=i.useCallback((()=>{t&&!_&&e()}),[t,_,e]),T=i.useMemo((()=>({extraAmplitudeEventProperties:JSON.stringify(n),paywallModalAction:a})),[a,n]);return x?f.jsxs(Wne,{keepScrollbar:!0,onClose:e,children:[f.jsx("div",{className:tne,children:"You don't have access to manage this workspace subscription"}),f.jsx("div",{className:Tne,children:"Contact the project owner to add you to this workspace."}),f.jsx("div",{className:Ene,children:f.jsx("div",{onClick:e,className:Lne,children:"Got It"})})]}):f.jsx(rC,{afterElement:!t&&qne,className:Gne.modalBackground,backgroundStyle:Qne,style:ese,id:"paywall-id",onClick:A,noCloseButton:!1===t,unsetCancelModal:k,cypressName:"paywall-modal",noPadding:!0,children:f.jsxs("div",{"data-testid":"studio-paywall-modal","data-cy":"studio-paywall-modal",className:Gne.paywallContainer,children:[f.jsxs("div",{className:Gne.paywallHead,children:[f.jsxs("div",{className:Gne.paywallHeadLabel,children:[f.jsxs("h3",{className:Gne.paywallTitle,"data-cy":"paywall-title",children:["Upgrade ",f.jsx("span",{children:(null==p?void 0:p.name)?p.name:" "})]}),b&&f.jsx("div",{className:Gne.paywallSubtitle,children:b})]}),f.jsx(Jne,{interval:h,setInterval:v,numSeats:m,setNumSeats:g})]}),f.jsx("div",{className:Gne.plans,children:S.map((t=>f.jsx($ne,{plan:t,seats:m,interval:h,metadata:T,setLoadingCheckout:C,isRecommendedPlan:r?r===t.type:c.upgradesTo===t.type,isCurrentPlan:c.type===t.type,closeModal:e,action:a,immediateRedirectPathname:l},t.className)))}),f.jsx(cC,{})]})})})),ase=b.memo((e=>{var t,a;const n=qm(Du((e=>e.currentUser))),s=F(),o=cg(),r=Bu(),[l,d]=i.useState(!1),c=Zd(e.action||Dd.DEFAULT),u=i.useCallback((()=>{d(!0)}),[]);if(o.hasPermission(c))return null==(t=e.onClose)||t.call(e),r(db({description:"Thanks for signing in. Kapwing Pro features are already available in your current team workspace.",type:"success"})),null;const p={action:e.action,onClose:e.onClose,closeable:e.closeable,extraAmplitudeEventProperties:e.extraAmplitudeEventProperties,numSeatsInit:e.numSeatsInit,intervalInit:e.intervalInit,overrideRecommendedUpgrade:e.overrideRecommendedUpgrade,immediateRedirectPathname:e.immediateRedirectPathname};return n?N.createPortal(f.jsx(tse,{...p}),B_()):(l&&(null==(a=p.onClose)||a.call(p)),f.jsx(ene,{customTitle:"Sign in to upgrade to Pro",hideSignIn:u,immediateRedirectPathname:`${s.pathname}${s.search}`}))})),nse=b.memo((()=>{const e=P(),t=F(),a=Yne(t.search),{if:n,...s}={...a};if(!a)return null;const o={...s,onClose:()=>{e({search:Xne(t.search)},{replace:!0})}};return f.jsx(ase,{...o})})),sse=e=>{const{history:t,state:{currentUser:a}}=Mu();if(qm(a)&&!u_(Ec.Update))return void pb({description:"Only team workspace admins can manage workspace subscriptions. Contact your admin to upgrade this workspace."});const n=Kne(e,t.location.search);t.replace({search:n})},ose=(e,t)=>{const{teamId:a,action:n=Dd.DEFAULT}=e,s=a&&Um(a)||t;if(!s)throw Error("No team found");const o=nc(s.planTier),i=Zd(n);return o.hasPermission(i)},ise=(e,t,a)=>(...n)=>{const{if:s=!0}=e,o=ose(e,a);!s||o?t(...n):sse(e)},rse=()=>{const e=lg();return i.useCallback(((t,a)=>ise(a,t,e)),[e])},lse=(e,t)=>{const a=rg();if(!a)throw new Error("Paywall used without a team");return ise(t,e,a)},dse=async(e,t)=>{const a=rg();if(!a)throw new Error("Paywall used without a team");return((e,t,a)=>async(...n)=>{const{if:s=!0}=e,o=ose(e,a);!s||o?await t(...n):sse(e)})(t,e,a)},cse=()=>!!Du((e=>e.studio.workflowId)),use=()=>{const[e,t]=i.useState(null),[a,n]=i.useState(null);return i.useEffect((()=>{if(!e)return;const t=new at.ResizeSensor(e,c.throttle((({width:e,height:t})=>{n({width:e,height:t})}),120));return()=>t.detach()}),[e]),{containerDimensions:a,containerRef:t,container:e}},pse={workspacePopoverZIndex:"18",popoverZIndex:"14",paywallZIndex:"1001",paywallBgZIndex:"1000",title:"PresetTitleInput-module_title_4vTDq",aiTitle:"PresetTitleInput-module_aiTitle_-FQi0",disabled:"PresetTitleInput-module_disabled_04DK-"};function mse(e){const t=i.useRef(null),[a,n]=b.useState(e.value),s=!e.onChange;let o=e.className||pse.title;return s&&e.disabledStyles?o+=` ${e.disabledStyles}`:s&&(o+=` ${pse.disabled}`),f.jsx("input",{ref:t,type:"text",value:a,className:o,disabled:s,onChange:e=>{n(e.target.value)},onKeyPress:e=>{var a;"Enter"===e.key&&(null==(a=t.current)||a.blur())},onBlur:()=>{var t;0===a.trim().length?n(e.value):a!==e.value&&(null==(t=e.onChange)||t.call(e,a))}})}const gse="MoreDropdown-module_DropdownMenuContent_qMMGv",hse="MoreDropdown-module_DropdownMenuItem_CsjNU",vse="MoreDropdown-module_DropdownMenuArrow_5oHuk",fse="MoreDropdown-module_IconButton_gsSPX",bse="MoreDropdown-module_DropdownMenuSeparator_8wDUw",yse=b.memo((({content:e,options:t,buttonStyle:a})=>f.jsxs(lr,{children:[f.jsx(dr,{asChild:!0,children:f.jsx("button",{className:fse,"aria-label":"options",type:"button",style:a,children:e})}),f.jsx(cr,{children:f.jsxs(ur,{className:gse,sideOffset:5,children:[t.map(((e,a)=>f.jsxs(b.Fragment,{children:[f.jsx(pr,{className:hse,children:e}),a!==t.length-1&&f.jsx(mr,{className:bse})]},a))),f.jsx(gr,{className:vse})]})})]}))),wse="ProSparkle-module_proSparkle_x1pPC",_se=b.memo((({className:e=""})=>f.jsx("svg",{"data-testid":"pro-sparkle-icon",viewBox:"0 0 13 13",className:L(wse,e),children:f.jsxs("g",{children:[f.jsx("path",{d:"M4.63007 7.7206C4.63007 7.7206 6.69155 7.47571 7.37872 6.74119C8.06586 6.00663 8.2949 3.80298 8.2949 3.80298C8.2949 3.80298 8.52399 6.00663 9.21112 6.74119C9.8983 7.47571 11.9598 7.7206 11.9598 7.7206C11.9598 7.7206 9.8983 7.96544 9.21112 8.69996C8.52399 9.43453 8.2949 11.6382 8.2949 11.6382C8.2949 11.6382 8.06586 9.43453 7.37872 8.69996C6.69155 7.96544 4.63007 7.7206 4.63007 7.7206Z"}),f.jsx("path",{d:"M1.89838 3.53465C1.89838 3.53465 3.2938 3.36891 3.75894 2.87169C4.22409 2.37447 4.37912 0.882812 4.37912 0.882812C4.37912 0.882812 4.53415 2.37447 4.99933 2.87169C5.46446 3.36891 6.85987 3.53465 6.85987 3.53465C6.85987 3.53465 5.46446 3.70039 4.99933 4.19761C4.53415 4.69482 4.37912 6.18649 4.37912 6.18649C4.37912 6.18649 4.22409 4.69482 3.75894 4.19761C3.2938 3.70039 1.89838 3.53465 1.89838 3.53465Z"}),f.jsx("path",{d:"M0.278259 10.1277C0.278259 10.1277 1.67368 9.9619 2.13882 9.46469C2.60396 8.96747 2.75901 7.47583 2.75901 7.47583C2.75901 7.47583 2.91406 8.96747 3.37919 9.46469C3.84433 9.9619 5.23976 10.1277 5.23976 10.1277C5.23976 10.1277 3.84433 10.2934 3.37919 10.7906C2.91406 11.2878 2.75901 12.7795 2.75901 12.7795C2.75901 12.7795 2.60396 11.2878 2.13882 10.7906C1.67368 10.2934 0.278259 10.1277 0.278259 10.1277Z"})]})}))),Cse="MoreOptions-module_optionTextStyle_PvR-d",Sse=f.jsx(nt,{color:"white",size:14}),xse=b.memo((({preset:e,isBrandkit:t,isSelected:a})=>{const n=Bu(),s=gg(Fd.SUBTITLE_PRESETS),o=rse(),r=i.useCallback((()=>{const a=()=>{t?H2(e.presetId):W2(e)};if(s)a();else{o(a,{action:Dd.SUBTITLE_PRESETS})()}}),[s,t,o,e]),l=i.useCallback((async()=>{if("custom"===e.presetId)return void q2();const i=async()=>{n(OB({presetId:e.presetId,undoable:!t})),a&&(e=>{const{dispatch:t}=Mu();t(Nq({updates:{preset:null},undoable:e}))})(!t),t&&await H2(e.presetId)};if(s||!t)await i();else{o(i,{action:Dd.SUBTITLE_PRESETS})()}}),[n,s,t,a,o,e.presetId]);let d=!t||s;"custom"===e.presetId&&(d=!a);const c=i.useMemo((()=>{const e=[];return e.push(f.jsxs("div",{className:Cse,onClick:r,children:[f.jsx("span",{style:{marginRight:4},children:t?"Remove from Brand Kit":"Add to Brand Kit"}),!s&&f.jsx(_se,{})]})),d&&e.push(f.jsx("div",{className:Cse,onClick:l,children:"Remove style"})),e}),[d,s,t,l,r]);return f.jsx(yse,{content:Sse,options:c})})),Ise=e=>i.createElement("svg",{width:20,height:20,viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},i.createElement("path",{d:"M5 9C7.20914 9 9 7.20914 9 5C9 2.79086 7.20914 1 5 1C2.79086 1 1 2.79086 1 5",stroke:"white"})),Ase={workspacePopoverZIndex:"18",popoverZIndex:"14",paywallZIndex:"1001",paywallBgZIndex:"1000",home:"common-module_home_-g5DV",homeHowBackgroundWhite:"common-module_homeHowBackgroundWhite_lk0ar",largeButton:"common-module_largeButton_Ow-Nu",sectionContent:"common-module_sectionContent_729kX",sectionHeader:"common-module_sectionHeader_DGzNz",spacer:"common-module_spacer_qUHDO",chevron:"common-module_chevron_0zn3K",splashText:"common-module_splashText_cJRkE",splashSubtext:"common-module_splashSubtext_Ff92p",aboutSection:"common-module_aboutSection_sVwjD",mobile:"common-module_mobile_YhPeR",desktop:"common-module_desktop_VhQ3J",screenReaderOnlyLabel:"common-module_screenReaderOnlyLabel_8D71S",disabled:"common-module_disabled_IGHpz",disabledWithPointerEvents:"common-module_disabledWithPointerEvents_YgGKs",noScrollBar:"common-module_noScrollBar_vU4jz",textOverflowEllipsis:"common-module_textOverflowEllipsis_a37Xy",disableTextHighlight:"common-module_disableTextHighlight_iUfji",genericButtonBlue:"common-module_genericButtonBlue_oIz2h",button:"common-module_button_LAGoF",buttonDisabled:"common-module_buttonDisabled_34u7q",buttonSelected:"common-module_buttonSelected_8KcUS",buttonOk:"common-module_buttonOk_Ej8NU",buttonStacked:"common-module_buttonStacked_MzyG5",doneButton:"common-module_doneButton_ExwF0",controlSectionContainer:"common-module_controlSectionContainer_EKL5g",section:"common-module_section_MuPhT",input:"common-module_input_w2CGu",cyanDoneButton:"common-module_cyanDoneButton_sTD5k",cyanDoneButton__disabled:"common-module_cyanDoneButton__disabled_0GAF-",cyanDoneButtonContainer:"common-module_cyanDoneButtonContainer_17DCB",genericButton:"common-module_genericButton_m0lJB",genericButtonSelected:"common-module_genericButtonSelected_d9XTy",groupControlContainer:"common-module_groupControlContainer_iVxdO",controlSectionRows:"common-module_controlSectionRows_2mfXH",controlSectionRowsTimeline:"common-module_controlSectionRowsTimeline_avuf0",controlSectionRowsTwoPerRow:"common-module_controlSectionRowsTwoPerRow_gK-Ir",controlSectionRowsFullWidth:"common-module_controlSectionRowsFullWidth_LwfAt",controlSectionRowsIconAndControl:"common-module_controlSectionRowsIconAndControl_sfzkz",controlSectionTitle:"common-module_controlSectionTitle_yQcK-",controlSectionTitleNoPadding:"common-module_controlSectionTitleNoPadding_WuJp0",controlSectionDescription:"common-module_controlSectionDescription_OV0H9",smallControlButton:"common-module_smallControlButton_xMfva",smallControlButtonDisabled:"common-module_smallControlButtonDisabled_f-2UG",smallControlButtonSelected:"common-module_smallControlButtonSelected_LW0Jv",smallControlButtonLabel:"common-module_smallControlButtonLabel_wJ2Pt",controlSectionRow:"common-module_controlSectionRow_ioCki",controlButtonIcon:"common-module_controlButtonIcon_Y9-M3",controlButtonOnlyIcon:"common-module_controlButtonOnlyIcon_5PpkF",controlButtonOnlyIconRoundedSmallTheme:"common-module_controlButtonOnlyIconRoundedSmallTheme_-ZIud",bigOverlayButton:"common-module_bigOverlayButton_0jtc7",glimmer:"common-module_glimmer_S5Hva",pulse:"common-module_pulse_Qwb8D",bigOverlayButtonSelected:"common-module_bigOverlayButtonSelected_3crax",bigOverlayButtonDisabled:"common-module_bigOverlayButtonDisabled_X7gAL",bigOverlayButtonIcon:"common-module_bigOverlayButtonIcon_yiP8e",incrementDecrementControl:"common-module_incrementDecrementControl_vzUjt",incrementDecrementControlLightTheme:"common-module_incrementDecrementControlLightTheme_ZTAiY",incrementDecrementControlSmallTheme:"common-module_incrementDecrementControlSmallTheme_IXXK3",incrementDecrementControlExtraSmallTheme:"common-module_incrementDecrementControlExtraSmallTheme_NI7z0",incrementDecrementButton:"common-module_incrementDecrementButton_-Kdf7",incrementDecrementButtonLightTheme:"common-module_incrementDecrementButtonLightTheme_8uPZj",incrementDecrementButtonSmallTheme:"common-module_incrementDecrementButtonSmallTheme_9CdBf",incrementDecrementControlValue:"common-module_incrementDecrementControlValue_-UE-a",incrementDecrementControlValueSmallTheme:"common-module_incrementDecrementControlValueSmallTheme_hNJ9b",incrementControl:"common-module_incrementControl_sW4Cx",decrementControl:"common-module_decrementControl_zSg-I",disabledIncrementDecrementButton:"common-module_disabledIncrementDecrementButton_-WWtP",tooltip:"common-module_tooltip_lKQsJ",selectDropDownContainer:"common-module_selectDropDownContainer_nG7Sa",selectDropDownDisplay:"common-module_selectDropDownDisplay_gn6ij",selectDropDownDisabled:"common-module_selectDropDownDisabled_Sn9sA",selectDropDownLabel:"common-module_selectDropDownLabel_fnSTP",selectDropDownLabelContainer:"common-module_selectDropDownLabelContainer_MCkqE",selectDropDownFlag:"common-module_selectDropDownFlag_YUPZR",proSparkle:"common-module_proSparkle_wZpm-",selectDropDownLink:"common-module_selectDropDownLink_aE19Y",selectDropDownList:"common-module_selectDropDownList_H9NXa",selectDropDownListScrollContainer:"common-module_selectDropDownListScrollContainer_X5hMP",selectDropDownItem:"common-module_selectDropDownItem_roOdV",selectDropDownItemDisabled:"common-module_selectDropDownItemDisabled_DX5lK",selectDropDownItemLeft:"common-module_selectDropDownItemLeft_H-0NV",selectDropDownItemBottomStatic:"common-module_selectDropDownItemBottomStatic_ju0i0",voiceCloneIcon:"common-module_voiceCloneIcon_9EhMi",bottomDivider:"common-module_bottomDivider_ooYCR",selectDropDownItemSelected:"common-module_selectDropDownItemSelected_ipQAY",selectDropDownShowing:"common-module_selectDropDownShowing_B10sC",dropDownButtonIcon:"common-module_dropDownButtonIcon_OT298",selectOptionIcon:"common-module_selectOptionIcon_zH0h3",dropDownAddIcon:"common-module_dropDownAddIcon_Cvqwe",selectDropDownItemPreview:"common-module_selectDropDownItemPreview_QTAV7",selectDropDownItemPlayIcon:"common-module_selectDropDownItemPlayIcon_sUaW1",transparentSelectInput:"common-module_transparentSelectInput_nLDPP",selectOptionContainer:"common-module_selectOptionContainer_5ULEp",dropDownHeader:"common-module_dropDownHeader_Z2xsA",noMargin:"common-module_noMargin_z-qx1",halfWidth:"common-module_halfWidth_aIEpa",fullWidth:"common-module_fullWidth_Wbf91",selectDropDownIcon:"common-module_selectDropDownIcon_4vVgD",controlButtonsContainer:"common-module_controlButtonsContainer_f7exr",loadingIcon:"common-module_loadingIcon_Op3HO",spin:"common-module_spin_6LUja",iconAndLabelRow:"common-module_iconAndLabelRow_Evfnw",dropdownDirectInput:"common-module_dropdownDirectInput_ZwfcF"},kse=b.memo((({style:e={},children:t,className:a})=>{const n=[Ase.smallControlButtonLabel];return a&&n.push(a),f.jsx("div",{className:n.join(" "),style:e,"data-testid":"small-control-button-label",children:t})})),Tse="BigOverlayButton-module_sparkleContainer_EcqCY",Ese=b.forwardRef((({icon:e,title:t,label:a,children:n,handleClick:s,disabled:o=!1,selected:r,hasSparkle:l,showGlimmer:d,iconStyles:c={},buttonStyles:u={},buttonCSSClassStyles:p="",showLoadingIcon:m=!1},g)=>{let h=`big-overlay-button-${t}`;h=h.replace(/ +/g,"-");const v=i.useMemo((()=>({...c,height:17})),[c]);return f.jsxs("div",{className:L({[p]:p,[Ase.bigOverlayButton]:!0,[Ase.bigOverlayButtonDisabled]:o,[Ase.bigOverlayButtonSelected]:r,[Ase.glimmer]:d}),onPointerDown:e=>{e.stopPropagation()},onClick:e=>{s(e),e.stopPropagation()},style:u,"data-cy":h,"data-testid":"big-overlay-button__button","data-selected":r,ref:g,children:[m?f.jsx(Ise,{style:v,className:Ase.loadingIcon,"data-testid":"big-overlay-button__loading-icon","data-cy":`${h}-loading-icon`}):"string"==typeof e?f.jsx("img",{src:e,alt:t,style:c,className:Ase.bigOverlayButtonIcon,"data-testid":"big-overlay-button__image-icon"}):"function"==typeof e?f.jsx("div",{style:c,className:Ase.bigOverlayButtonIcon,children:e({})}):null,a&&f.jsx(kse,{children:a}),n,l&&f.jsx("div",{className:Tse,children:f.jsx(_se,{})})]})})),Lse="SmallControlSelectDropDown-module_tooltip_bn3hF";const jse=()=>{const e=i.useRef(function(){const e=new Audio;return e.preload="none",e}());return i.useEffect((function(){const t=e.current;return function(){t.pause()}}),[]),e},Rse=b.memo((({item:e,value:t,setMouseUp:a,handleConfirm:n,setClickingPreview:s,previewCurrentlyPlaying:o,setPreviewCurrentlyPlaying:r,alignItemsLeft:l,itemsFontSize:d,disabled:c})=>{const[u,p]=i.useState(!1),m=jse();return m.current.onended=function(){p(!1)},i.useEffect((function(){u&&o!==e.audioPreview&&(p(!1),m.current.pause())}),[u,e.audioPreview,m,o]),f.jsxs("button",{type:"button",className:`${l?Ase.selectDropDownItemLeft:Ase.selectDropDownItem} ${e.value===t?Ase.selectDropDownItemSelected:""} ${c?Ase.selectDropDownItemDisabled:""}`,onMouseDown:()=>a(!1),onMouseUp:t=>{0===t.button&&(a(!0),n(e.value))},disabled:c,children:[e.iconUrl&&("string"==typeof e.iconUrl?f.jsx("img",{className:Ase.selectDropDownIcon,src:e.iconUrl,alt:`${e.value} icon item`}):f.jsx(e.iconUrl,{})),f.jsxs("div",{className:Ase.selectDropDownLabelContainer,children:[e.flagUrl&&f.jsx("img",{className:Ase.selectDropDownFlag,src:e.flagUrl,alt:"flag icon"}),f.jsx("span",{className:Ase.selectDropDownLabel,style:{fontSize:d},children:e.label}),e.isPremium&&f.jsx(_se,{}),(null==e?void 0:e.isVoiceClone)&&f.jsx("div",{className:Ase.voiceCloneIcon,children:f.jsx(st,{})})]}),e.audioPreview&&f.jsx("div",{className:Ase.selectDropDownItemPreview,onMouseDown:t=>{t.stopPropagation(),s(!0),e.audioPreview&&(u?(p(!1),m.current.pause()):(m.current.src=e.audioPreview,p(!0),r(e.audioPreview),m.current.play(),ov("Text to Speech Audio Preview",{Voice:e.label,Source:"Media Sidebar"})))},onMouseUp:e=>{e.stopPropagation(),s(!1)},children:f.jsx("img",{className:Ase.selectDropDownItemPlayIcon,src:u?"https://cdn-useast1.kapwing.com/static/RBD-PauseButtonGray.webp":"https://cdn-useast1.kapwing.com/static/QXm-playButtonGray.webp",alt:"Play Preview"})})]})})),Nse=b.memo((({value:e,listItems:t,onChange:a,allowArrowKeys:n=!1,dataTestId:s="",allowDirectInput:o=!1,className:r,halfWidth:l,displayMinHeight:d,dropdownMaxHeight:c,dropdownListClassName:u,alignItemsLeft:p,itemsFontSize:m,displayFontSize:g,disabled:h,disabledReason:v})=>{const b=i.useRef(null),y=i.useRef(null),[w,_]=i.useState(!1),[C,S]=i.useState(!1),[x,I]=i.useState(!1),[A,k]=i.useState(""),T=i.useRef((()=>{})),[E,L]=i.useState(null),[j,R]=i.useState(!1),N=t.find((t=>t.value===e)),M=!!N&&!!N.iconUrl,P=N?N.selectedLabel??N.label:e,F=null===E?e:E;let D=w?`${Ase.selectDropDownDisplay} ${Ase.selectDropDownShowing}`:Ase.selectDropDownDisplay;h&&(D+=` ${Ase.selectDropDownDisabled}`),i.useEffect((()=>{var e,t;w||(null==(e=b.current)||e.blur(),null==(t=y.current)||t.blur())}),[w]),i.useEffect((()=>()=>T.current()),[T]);const O=i.useCallback((()=>{if(!n||!N)return;const e=t.indexOf(N),s=t[e-1];s&&a(s.value)}),[n,t,a,N]),U=i.useCallback((()=>{if(!n||!N)return;const e=t.indexOf(N),s=t[e+1];s&&a(s.value)}),[n,t,a,N]),B=i.useCallback((()=>{_(!1),S(!1)}),[]),W=e=>{a(e),B()},V=i.useCallback((()=>{E&&(a(E),L(null))}),[E,L,a]);T.current=V;const H=i.useCallback((e=>{const t=e.target;L(t.value),e.preventDefault(),e.stopPropagation()}),[L]),z=i.useCallback((e=>{({Tab:U,ArrowUp:O,ArrowDown:U,Escape:B}[e.key]||(()=>{}))(),o||(e.preventDefault(),e.stopPropagation())}),[O,U,B,o]),G=i.useCallback((e=>{"Enter"===e.key&&V()}),[V]);return f.jsxs("div",{"data-cy":s||"small-control-select-dropdown","data-testid":s,className:`${Ase.selectDropDownContainer} ${l&&Ase.halfWidth} ${r}`,onKeyDown:z,onMouseEnter:()=>h&&v&&R(!0),onMouseLeave:()=>R(!1),children:[h&&v&&j&&f.jsx("div",{className:Lse,children:v}),f.jsxs("div",{role:"button",ref:b,className:D,style:{minHeight:d},"data-testid":`${s}__button`,tabIndex:0,onBlur:()=>{C&&!x&&B()},onMouseUp:()=>{h||(w&&C&&!x?B():(_(!0),S(!0)))},children:[M&&("string"==typeof N.iconUrl?f.jsx("img",{className:Ase.selectDropDownIcon,style:{width:"30px"},src:N.iconUrl,alt:`${N.value} icon confirm`,"data-testid":`${s}__icon`}):N.iconUrl&&f.jsx(N.iconUrl,{})),o?f.jsx("input",{type:"text",value:F,className:Ase.dropdownDirectInput,onBlur:V,onChange:H,onKeyPress:G,"data-testid":`${s}__input`,"data-cy":"small-control-select-dropdown-input"}):f.jsxs("div",{className:Ase.selectDropDownLabelContainer,children:[(null==N?void 0:N.flagUrl)&&f.jsx("img",{className:Ase.selectDropDownFlag,src:null==N?void 0:N.flagUrl,alt:"flag icon"}),f.jsx("span",{className:Ase.selectDropDownLabel,style:{fontSize:g},"data-testid":`${s}__label`,children:P}),(null==N?void 0:N.isVoiceClone)&&f.jsx("div",{className:Ase.voiceCloneIcon,children:f.jsx(st,{})})]}),f.jsx(ot,{className:Ase.dropDownButtonIcon,id:"dropdown-button"})]}),f.jsx("div",{ref:y,className:`${Ase.selectDropDownList} ${u||""}`,style:{display:w?"block":"none",top:d&&"46px"},tabIndex:-1,onBlur:()=>{C&&!x&&B()},children:f.jsx("div",{className:Ase.selectDropDownListScrollContainer,style:{maxHeight:c},children:t.map(((t,a)=>f.jsx(Rse,{item:t,value:e,setMouseUp:S,handleConfirm:W,previewCurrentlyPlaying:A,setPreviewCurrentlyPlaying:k,setClickingPreview:I,alignItemsLeft:p,itemsFontSize:m,disabled:t.disabled},`${t.label}-${a}`)))})})]})})),Mse={color:"#6E7077"};b.memo((({icon:e,label:t,onIconClick:a})=>{if(!e)return null;const n=`${t.toUpperCase().replace(/ /g,"-").replace(/[:#]/g,"")}-icon`;if("loadingIcon"===e)return f.jsxs("div",{className:Ase.iconAndLabelRow,"data-cy":"icon-and-label",children:[f.jsx("div",{style:{width:"30px",display:"flex",justifyContent:"center"},children:f.jsx(Ise,{className:Ase.loadingIcon})}),f.jsx(kse,{style:Mse,children:"Volume"})]});return f.jsxs("div",{className:Ase.iconAndLabelRow,"data-cy":"icon-and-label",children:[f.jsx("div",{style:{width:"30px",display:"flex",justifyContent:"center",cursor:a?"pointer":"inherit"},onClick:a,"data-cy":n,children:function(){if(!e)return null;if(null==e?void 0:e.render)return e.render();switch(typeof e){case"string":return f.jsx("img",{src:e,className:Ase.bigOverlayButtonIcon,alt:"","data-testid":"icon-and-label-row__image-icon"});case"function":return f.jsx("div",{className:Ase.bigOverlayButtonIcon,"data-testid":"icon-and-label-row__component-icon",children:e({})});default:return e}}()}),f.jsx(kse,{children:t})]})}));const Pse=b.memo((e=>{const{children:t,style:a,noPadding:n}=e;return f.jsx("div",{className:n?Ase.controlSectionTitleNoPadding:Ase.controlSectionTitle,style:a,children:t})})),Fse="MenuMessage-module_menuMessage_JuUvJ",Dse=b.memo((({text:e})=>f.jsxs(f.Fragment,{children:[f.jsx(Pse,{}),f.jsx("div",{className:Fse,children:e})]}))),Ose=b.forwardRef((({containerStyle:e,dataTestId:t,decrement:a,disableDecrement:n=!1,disableIncrement:s=!1,extraSmallTheme:o=!1,increment:r,incrementDecrementValueStyles:l,lightTheme:d=!1,smallTheme:c,symbol:u,value:p},m)=>{const g=i.useRef(null),h=i.useRef(0),v=i.useRef(n),b=i.useRef(s),y=i.useRef(a),w=i.useRef(r);let _=Ase.incrementDecrementControl,C=Ase.incrementDecrementControlValue,S=Ase.incrementDecrementButton,x=Ase.controlButtonOnlyIcon;c||o?(_=o?Ase.incrementDecrementControlExtraSmallTheme:Ase.incrementDecrementControlSmallTheme,C=Ase.incrementDecrementControlValueSmallTheme,S=Ase.incrementDecrementButtonSmallTheme,x=Ase.controlButtonOnlyIconRoundedSmallTheme):d&&(_=Ase.incrementDecrementControlLightTheme,S=Ase.incrementDecrementButtonLightTheme);const I=e=>{A();const t=()=>e?b.current?(A(),!1):(w.current(),!0):v.current?(A(),!1):(y.current(),!0);t()&&(g.current=window.setInterval((()=>{h.current+=1,h.current>=4&&t()}),150))},A=()=>{g.current&&clearInterval(g.current),g.current=null,h.current=0};return i.useEffect((function(){return A}),[]),i.useEffect((function(){v.current=n}),[n]),i.useEffect((function(){b.current=s}),[s]),i.useEffect((function(){w.current=r}),[r]),i.useEffect((function(){y.current=a}),[a]),f.jsxs("div",{className:_,style:e,"data-testid":t,ref:m,children:[f.jsx("div",{className:Ase.decrementControl,children:f.jsx("div",{className:n?Ase.disabledIncrementDecrementButton:S,onMouseDown:()=>I(!1),onMouseLeave:A,onMouseUp:A,"data-cy":"decrement-control","data-testid":"decrement-control",children:f.jsx("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANIAAAAeCAYAAABZs0CNAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAB4SURBVHgB7dyxDcAgAANBiLL/ysAOfEFxJ3mEbz3XMYAb6xvANSFBQEgQEBIEhAQBIUFASBAQEgSEBAEhQUBIEBASBIQEASFBQEgQEBIEhAQBIUFASBAQEgSEBAEhQUBIEBASBIQEASFBQEgQEBIE/jMn+u+bg6dt4RYGOdVsFE0AAAAASUVORK5CYII=",alt:"Decrement",className:x})})}),f.jsxs("div",{className:C,style:l,"data-cy":"increment-decrement-value","data-testid":"increment-decrement-value",children:[f.jsx("span",{children:p}),u&&u]}),f.jsx("div",{className:Ase.incrementControl,children:f.jsx("div",{className:s?Ase.disabledIncrementDecrementButton:S,onMouseDown:()=>I(!0),onMouseLeave:A,onMouseUp:A,"data-cy":"increment-control","data-testid":"increment-control",children:f.jsx("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMoAAADKCAYAAADkZd+oAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKYSURBVHgB7d1BasMwFABRpeRe7U0aerJepReLmkD3HUjkgP0eaG2MPQJt9MdgiTnnZW7ren/mYIm3AfxLKBAIBQKhQCAUCIQCgVAgEAoEQoFAKBAIBQKhQCAUCIQCgVAgEAoEQoFAKBAIBQKhQCAUCIQCgVAgEAoEQoFAKBAIBQKhQCAUCIQCgVAgEAoEQoFAKBAIBQKhQCAUCIQCgVAgEAoEQoFAKBAIBQKhQCAUCIQCgVAgEAoEQoFAKBAIBQKhQCAUCIQCgVAgEAoEQoFAKBAIBQKhQCAUCIQCgVAgEAoEQoFAKBAIBQKhQCAUCIQCgVAgEAoEQoFAKBAIBQKhQCAUCIQCgVAgEAoEQoFAKBAIBQKhQHAe8KA559i78+0lL4MVPsa2Trf1/oKf9jT2b57mEbYDeMx0RoFAKBAIBQKhQCAUCIQCgVAgEAoEQoFAKBAIBQKhQCAUCIQCgVAgEAoEQoFAKBAIBQKhQCAUCIQCgVAgEAoEQoFAKBDcL+l2peoar7qT1/d8vnkP5WuwwsdtfY5tfd/Wz+DZbD6r3KcEzG1dTSZYxxkFAqFAIBQIhAKBUCAQyjpHmG14GEJZwFjM/REKBEKBQCgQCAUCoUAgFAiEAoFQIBAKBEKBQCgQCAUCoUAgFAiEAoFQIBAKBEKBQCgQCAUCoUAgFAiEAoFQIBAKBEKBQCgQCAUCoUAgFAiEAoFQIBAKBEKBQCgQCAUCoUAgFAiEAoFQIBAKBEKBQCgQCAUCoUAgFAiEAoFQIBAKBEKBQCgQCAUCoUAgFAiEAoFQIBAKBEKBQCgQCAUCoUAgFAiEAoFQIBAKBEKBQCgQCAUCoUAgFAiEAoFQIBAKBEKBQCgQCAUCoUBwHqwy/9Zen3cov+TEC2aS5UVtAAAAAElFTkSuQmCC",alt:"Increment",className:x})})})]})})),Use=b.memo((({children:e,style:t})=>f.jsx("div",{className:Ase.controlSectionRow,style:t,children:e}))),Bse={right:0,marginRight:4,top:2.2,height:14},Wse=b.forwardRef((({icon:e,title:t="",label:a="",selected:n=!1,disabled:s=!1,children:o,handleClick:r,labelFont:l,style:d,iconStyle:c,labelClassName:u,labelFontStyle:p,className:m="",selectedClassName:g="",type:h="",dataCy:v="",dataCyString:b="",dataTestId:y="",hasSparkle:w=!1,isLoading:_=!1,onMouseEnter:C,onMouseLeave:S},x)=>{const I=i.useMemo((()=>{let e=l?{fontFamily:l}:{};return p&&(e={...e,...p}),e}),[l,p]);let A;A=v||(b?`${b.replace(/ /g,"-").replace(/[:#]/g,"")}-small-control-button`:a&&"string"==typeof a?`${a.replace(/ /g,"-").replace(/[:#]/g,"")}-small-control-button`:h?`${h}-small-control-button`:"small-control-button");let k=`${Ase.smallControlButton}`;return s?k=`${Ase.smallControlButton} ${Ase.smallControlButtonDisabled}`:n&&(k=`${Ase.smallControlButton} ${Ase.smallControlButtonSelected}`,g&&(k+=` ${g}`)),m&&(k+=` ${m}`),f.jsxs("div",{ref:x,"data-cy":A,"data-cy-selected":!!n,"data-testid":y,className:k,onMouseEnter:C,onMouseLeave:S,onClick:e=>{s||r&&r(e)},style:d,children:[o,"string"==typeof e?f.jsx("img",{src:e,alt:t,className:a?Ase.controlButtonIcon:Ase.controlButtonOnlyIcon,style:c,"data-testid":"small-control-button__image-icon"}):"function"==typeof e?f.jsx("div",{className:a?Ase.controlButtonIcon:Ase.controlButtonOnlyIcon,style:c,"data-testid":"small-control-button__icon",children:e({})}):"object"==typeof e?e:null,a&&f.jsx(kse,{style:I,className:u,children:_?f.jsxs(f.Fragment,{children:[f.jsx(Ise,{className:Ase.loadingIcon,style:Bse}),a]}):a}),w&&f.jsx(_se,{})]})})),Vse=b.memo((e=>{var t,a;const{selectedLayers:n}=e,s=Du((e=>e.studioLocal.layerTempValues)),o=n[0];if(!o)return null;const i=0===n.length?.2:o.textBlur;let r=null==(t=s[o.id])?void 0:t.textBlurTemp;for(let c=1;c<n.length;c+=1){const e=n[c];if(!e)continue;const t=null==(a=s[e.id])?void 0:a.textBlurTemp;if(!t||r!==t){r=void 0;break}}const l=r??i??.2,d=PU.withUndoBatch(((e,t)=>{const a={},s={};n.forEach((n=>{t?(s[n.id]={textBlurTemp:null},a[n.id]={textEffect:e?"textBlur":null},a[n.id]={textBlur:e}):(a[n.id]={textEffect:e?"textBlur":null},s[n.id]={textBlurTemp:e})})),Hj(s),uk(a,"TextBlurControls.tsx",!0)}));return f.jsx(gh,{label:"Blur",min:0,max:1,defaultValue:l,step:.01,onSliderChange:d,onReset:()=>d(0,!0),precisionOptions:{unit:""}})})),Hse=u((e=>e.activeEditors),(e=>dU(e)),((e,t)=>t.map((e=>e.id)).some((t=>{var a;const n=null==(a=e[t])?void 0:a.editor;return null!=n&&(!n.getSelection().isCollapsed()&&!gH(n))})))),zse=u((e=>e.activeEditors),(e=>dU(e)),((e,t)=>{var a,n;const s=t.map((e=>e.id)),o=Object.values(c.pick(e,s)).filter((e=>!!e)).map((e=>{const t=e.editor,a=t.getSelection(),n={uniqueStyles:t.getCurrentInlineStyle(),allStyles:t.getCurrentInlineStyle()};if(a.isCollapsed())return n;const s=[...pH(t.getCurrentContent(),a)].map((e=>e.getStyle()));return n.uniqueStyles=n.uniqueStyles.intersect(...s),n.allStyles=n.uniqueStyles.union(...s),n})),i=o.map((e=>e.allStyles)),r=o.map((e=>e.uniqueStyles));return o.length>0?{allStyles:(null==(a=i[0])?void 0:a.union(...i).toArray())||[],uniqueStyles:(null==(n=r[0])?void 0:n.intersect(...r).toArray())||[]}:{allStyles:[],uniqueStyles:[]}})),Gse=u(zse,(e=>dU(e)),((e,t)=>{var a;const n=e.uniqueStyles.find((e=>e.startsWith("COLOR")));return n?n.split("_")[1]:n||1!==t.length||null==(a=t[0])?void 0:a.color})),Yse=u(((e,t)=>{var a;return null==(a=e.studio.keyframing)?void 0:a[t]}),(e=>{const t=[];return e?(Object.values(e).forEach((({keyframes:e})=>{t.push(...e)})),t.sort(((e,t)=>e.time-t.time))):t})),Kse=u(((e,t)=>{var a;return null==(a=e.studio.keyframing)?void 0:a[t||""]}),((e,t)=>{var a;return null==(a=jR(e,t))?void 0:a.keyframe}),((e,t)=>{if(!e&&!t)return e;const a={...e};return t&&(a[t.channel]={bezArray:null,keyframes:[t]}),a})),Xse=(e,t,a,n)=>{let s=t/a;return"outro"===e.type&&(s=n<=a?n/a:1),s},Zse=e=>({[Mc.MagicFade]:{maxAnimationThreshold:.15,minAnimationThreshold:.35,overlapPercent:.6},[Mc.MagicFlip]:{maxAnimationThreshold:.01,minAnimationThreshold:.19,overlapPercent:0},[Mc.MagicPop]:{maxAnimationThreshold:.01,minAnimationThreshold:.19,overlapPercent:0}}[e]||{maxAnimationThreshold:void 0,minAnimationThreshold:void 0,overlapPercent:0}),qse=(e,t)=>{const{overlapPercent:a}=Zse(e),n=((e,t)=>{let a=t;if(!a){const{state:e}=Mu(),t=VD(e);a=(null==t?void 0:t.transitionSpeed)||50}const{maxAnimationThreshold:n,minAnimationThreshold:s}=Zse(e);return n&&s?n+(100-a)/100*(s-n):0})(e,t);return{transitionOverlapDuration:a*n,transitionDuration:n}};function Jse(e,t={}){const{state:a}=Mu(),{animations:n}=a.studio,s=t.studioAnimations||n,o=t.studioTime??dY();let i={};const r=TT(e,t.studioAnimations),l=r.find((e=>"intro"===e.type)),d=r.find((e=>"outro"===e.type)),c=r.find((e=>"constant"===e.type)),{start:u,end:p}=e.startTime||e.endTime?bp(e):bp(e,a.studio.duration),m=o-u,g=l?{start:0,end:Wk(l,s)}:void 0,h=d?{start:p-Wk(d,s)-u,end:p-u}:void 0;if(c){const a=c;let n=a.id===Mc.ProgressBar&&void 0!==e.endTime&&void 0!==e.startTime?e.endTime-e.startTime:Wk(a,s);a.id===Mc.MovingZoom&&(n=wp(e));const o=Xse(a,m,n,p-m);i={...i,...a.animationFunc(o,e,t.transform||"")}}if(l&&g&&m>=g.start&&m<=g.end){const a=l,n=Wk(a,s),o=Xse(a,m,n,g.end-m);i={...i,...a.animationFunc(o,e,t.transform||"")}}if(d&&h&&m>=h.start&&m<=h.end){const a=d,n=Wk(a,s),o=Xse(a,m,n,h.end-m);i={...i,...a.animationFunc(o,e,t.transform||"")}}return i}function $se(e,t=!0,a="",n){const{state:s}=Mu(),{animations:o}=s.studio,i=dY();if(!n||"none"===n.type)return{};const{start:r,end:l}=bp(e);if(((e,t)=>e&&t<e)(r,i))return{};const d=i-l>=0;if("outro"===n.type&&l&&d)return{};const c=Wk(n,o);let u=i;r&&(u-=r);let p=l-i;if("video"===e.type&&(p=l-i),"outro"===n.type&&p<=c&&(u=p),"intro"===n.type&&u>c||"outro"===n.type&&i<l-c)return{};const m=Xse(n,u,c,p);return n.animationFunc(m,e,a)}function Qse(e,t){const a=t.position||{};a&&delete t.position;const n={...e,...t,...a};return e.WebkitFilter&&t.WebkitFilter&&(n.WebkitFilter=`${t.WebkitFilter} ${e.WebkitFilter}`),e.filter&&(n.WebkitFilter?n.WebkitFilter+=` ${e.filter}`:n.WebkitFilter=e.filter),e.transform&&t.transform&&(n.transform=`${t.transform} ${e.transform}`),n}const eoe={workspacePopoverZIndex:"18",popoverZIndex:"14",paywallZIndex:"1001",paywallBgZIndex:"1000",home:"Layers-module_home_rmGP8",homeHowBackgroundWhite:"Layers-module_homeHowBackgroundWhite_LcIci",largeButton:"Layers-module_largeButton_YB3VB",sectionContent:"Layers-module_sectionContent_F1-ZQ",sectionHeader:"Layers-module_sectionHeader_DaIeG",spacer:"Layers-module_spacer_5docu",chevron:"Layers-module_chevron_Ydk23",splashText:"Layers-module_splashText_PpLVL",splashSubtext:"Layers-module_splashSubtext_ao4Yf",aboutSection:"Layers-module_aboutSection_Jfil7",mobile:"Layers-module_mobile_ZKjil",desktop:"Layers-module_desktop_Q52la",screenReaderOnlyLabel:"Layers-module_screenReaderOnlyLabel_Gsic5",disabled:"Layers-module_disabled_qL5s-",disabledWithPointerEvents:"Layers-module_disabledWithPointerEvents_wi2Zy",noScrollBar:"Layers-module_noScrollBar_QNEps",textOverflowEllipsis:"Layers-module_textOverflowEllipsis_kju-V",disableTextHighlight:"Layers-module_disableTextHighlight_VdL-k",genericButtonBlue:"Layers-module_genericButtonBlue_O6eY5",button:"Layers-module_button_cGLe5",buttonDisabled:"Layers-module_buttonDisabled_UaWRf",buttonSelected:"Layers-module_buttonSelected_a5fbq",buttonOk:"Layers-module_buttonOk_BNUMK",buttonStacked:"Layers-module_buttonStacked_7L6Et",doneButton:"Layers-module_doneButton_gBORO",controlSectionContainer:"Layers-module_controlSectionContainer_mkJzw",section:"Layers-module_section_2YEU5",input:"Layers-module_input_JMjj6",cyanDoneButton:"Layers-module_cyanDoneButton_3cCya",cyanDoneButton__disabled:"Layers-module_cyanDoneButton__disabled_AUXiu",cyanDoneButtonContainer:"Layers-module_cyanDoneButtonContainer_-iyl-",genericButton:"Layers-module_genericButton_gOqLV",genericButtonSelected:"Layers-module_genericButtonSelected_OAlas",groupControlContainer:"Layers-module_groupControlContainer_ffF0f",controlSectionRows:"Layers-module_controlSectionRows_RE2Hg",controlSectionRowsTimeline:"Layers-module_controlSectionRowsTimeline_hRaqw",controlSectionRowsTwoPerRow:"Layers-module_controlSectionRowsTwoPerRow_Rwi63",controlSectionRowsFullWidth:"Layers-module_controlSectionRowsFullWidth_-km4H",controlSectionRowsIconAndControl:"Layers-module_controlSectionRowsIconAndControl_SyozZ",controlSectionTitle:"Layers-module_controlSectionTitle_vUBCZ",controlSectionTitleNoPadding:"Layers-module_controlSectionTitleNoPadding_UuplA",controlSectionDescription:"Layers-module_controlSectionDescription_okeWN",smallControlButton:"Layers-module_smallControlButton_BCuQr",smallControlButtonDisabled:"Layers-module_smallControlButtonDisabled_lgLrv",smallControlButtonSelected:"Layers-module_smallControlButtonSelected_-ZBMe",smallControlButtonLabel:"Layers-module_smallControlButtonLabel_Xx20o",controlSectionRow:"Layers-module_controlSectionRow_BRy7q",controlButtonIcon:"Layers-module_controlButtonIcon_RB0qo",controlButtonOnlyIcon:"Layers-module_controlButtonOnlyIcon_AaYwo",controlButtonOnlyIconRoundedSmallTheme:"Layers-module_controlButtonOnlyIconRoundedSmallTheme_83otG",bigOverlayButton:"Layers-module_bigOverlayButton_eSAjm",glimmer:"Layers-module_glimmer_uijhi",pulse:"Layers-module_pulse_D3mmE",bigOverlayButtonSelected:"Layers-module_bigOverlayButtonSelected_Y9yTr",bigOverlayButtonDisabled:"Layers-module_bigOverlayButtonDisabled_DsDgV",bigOverlayButtonIcon:"Layers-module_bigOverlayButtonIcon_4v6lI",incrementDecrementControl:"Layers-module_incrementDecrementControl_et4dx",incrementDecrementControlLightTheme:"Layers-module_incrementDecrementControlLightTheme_YABBq",incrementDecrementControlSmallTheme:"Layers-module_incrementDecrementControlSmallTheme_gSMHE",incrementDecrementControlExtraSmallTheme:"Layers-module_incrementDecrementControlExtraSmallTheme_vxK9e",incrementDecrementButton:"Layers-module_incrementDecrementButton_2jJRi",incrementDecrementButtonLightTheme:"Layers-module_incrementDecrementButtonLightTheme_S-FWI",incrementDecrementButtonSmallTheme:"Layers-module_incrementDecrementButtonSmallTheme_DDM-y",incrementDecrementControlValue:"Layers-module_incrementDecrementControlValue_MV0AF",incrementDecrementControlValueSmallTheme:"Layers-module_incrementDecrementControlValueSmallTheme_fdPSm",incrementControl:"Layers-module_incrementControl_R6rJL",decrementControl:"Layers-module_decrementControl_BNaHj",disabledIncrementDecrementButton:"Layers-module_disabledIncrementDecrementButton_Y5hFe",tooltip:"Layers-module_tooltip_JLgoE",selectDropDownContainer:"Layers-module_selectDropDownContainer_c5kxZ",selectDropDownDisplay:"Layers-module_selectDropDownDisplay_0Au9t",selectDropDownDisabled:"Layers-module_selectDropDownDisabled_uG4hk",selectDropDownLabel:"Layers-module_selectDropDownLabel_MYZmb",selectDropDownLabelContainer:"Layers-module_selectDropDownLabelContainer_CLg3h",selectDropDownFlag:"Layers-module_selectDropDownFlag_rQ--V",proSparkle:"Layers-module_proSparkle_kmvnZ",selectDropDownLink:"Layers-module_selectDropDownLink_qz1ff",selectDropDownList:"Layers-module_selectDropDownList_LOxxH",selectDropDownListScrollContainer:"Layers-module_selectDropDownListScrollContainer_1ppuj",selectDropDownItem:"Layers-module_selectDropDownItem_kErVM",selectDropDownItemDisabled:"Layers-module_selectDropDownItemDisabled_zJxnt",selectDropDownItemLeft:"Layers-module_selectDropDownItemLeft_MmTjT",selectDropDownItemBottomStatic:"Layers-module_selectDropDownItemBottomStatic_7rS8N",voiceCloneIcon:"Layers-module_voiceCloneIcon_x2Y0W",bottomDivider:"Layers-module_bottomDivider_Yh3vd",selectDropDownItemSelected:"Layers-module_selectDropDownItemSelected_HOnc1",selectDropDownShowing:"Layers-module_selectDropDownShowing_qCzqP",dropDownButtonIcon:"Layers-module_dropDownButtonIcon_3m1h-",selectOptionIcon:"Layers-module_selectOptionIcon_2-lwx",dropDownAddIcon:"Layers-module_dropDownAddIcon_-CBQp",selectDropDownItemPreview:"Layers-module_selectDropDownItemPreview_ZvT-F",selectDropDownItemPlayIcon:"Layers-module_selectDropDownItemPlayIcon_Gg6Un",transparentSelectInput:"Layers-module_transparentSelectInput_RrG3h",selectOptionContainer:"Layers-module_selectOptionContainer_jl13u",dropDownHeader:"Layers-module_dropDownHeader_JIgk4",noMargin:"Layers-module_noMargin_f9O6Q",halfWidth:"Layers-module_halfWidth_6UcMA",fullWidth:"Layers-module_fullWidth_0HNpN",selectDropDownIcon:"Layers-module_selectDropDownIcon_Dg-cN",controlButtonsContainer:"Layers-module_controlButtonsContainer_fxabf",loadingIcon:"Layers-module_loadingIcon_hgjwV",spin:"Layers-module_spin_rWaUh",iconAndLabelRow:"Layers-module_iconAndLabelRow_fNIau",dropdownDirectInput:"Layers-module_dropdownDirectInput_ZENh4",backgroundTransparencyGrid:"Layers-module_backgroundTransparencyGrid_DWX92",background:"Layers-module_background_0LiMg",border:"Layers-module_border_RSnnd",disableselect:"Layers-module_disableselect_KsaNm",text:"Layers-module_text_cQX-w",imageContainer:"Layers-module_imageContainer_t9Ows",image:"Layers-module_image_BhQgO",videoContainer:"Layers-module_videoContainer_-CSAG",video:"Layers-module_video_oVXsd",videoConversion:"Layers-module_videoConversion_--S7R",outline:"Layers-module_outline_DxqYL",editorWrapperEditing:"Layers-module_editorWrapperEditing_y6xS-",svgContainer:"Layers-module_svgContainer_1brH3",svgLine:"Layers-module_svgLine_b-SoY"};let toe;const aoe=b.memo((({style:e,layer:t,studioTime:a})=>{var n;const[s,o]=i.useState(null),{animationName:r="",wordByWordStyles:l={}}=t.wordByWordAnimations||{},{active:d,unspoken:c}=l[r]||{},u=Du((e=>e.studioLocal.magicSubtitleInlineSelection)),p=u&&u.cleanSelectionStart!==u.cleanSelectionEnd,m=i.useMemo((()=>{if(""===t.wordSeparator)return 0;const e=jN(t,t.fontSize),a=function(e,t){toe||(toe=document.createElement("canvas"));const a=toe.getContext("2d");return a.font=t,a.measureText(e).width}(t.wordSeparator,e);return Math.floor(a)}),[t]),g=((null==(n=t.position)?void 0:n.rotation)?m:(null==s?void 0:s.getBoundingClientRect().width)||m)/2,{lines:h}=t.frame;return f.jsx("span",{children:h.map(((n,s)=>f.jsxs("span",{style:{...e,display:"block",whiteSpace:"nowrap"},className:"magic-text__line",dir:t.isRTL?"rtl":"ltr",children:[0===n.words.length&&f.jsx("span",{style:{paddingLeft:g,paddingRight:g,zIndex:s}}),n.words.map(((e,i)=>{var m,h;const{styles:v,className:y,isActive:w,isUnspoken:_}=((e,t,a,n)=>{const{active:s,spoken:o,unspoken:i,inactive:r}=t||{},l=a<e[Zc.start],d=a>=e[Zc.start],c=!!n&&a>=e[Zc.start]&&a<e[Zc.end],u=[];let p={position:"relative"};return!c&&(u.push("magic-text__inactive"),p={...p,...r}),l&&(u.push("magic-text__unspoken"),p={...p,...i}),d&&(u.push("magic-text__spoken"),p={...p,...o}),c&&(u.push("magic-text__active"),p={...p,...s}),{styles:p,className:u.join(" "),isActive:c,isUnspoken:l}})(e,l[r]||{},a,r),C=0===i,S=i===n.words.length-1,x=t.isRTL?C:S;let I={};const A=t.isRTL?i-1:i+1,k=n.words[A];if(!x&&t.wordSeparator&&k){const a=t.isRTL?k[Zc.text].length-1:0,n=null==(m=null==k?void 0:k[Zc.inlineStyles])?void 0:m[a],s=t.isRTL?0:e[Zc.text].length-1,o=null==(h=e[Zc.inlineStyles])?void 0:h[s];I=NM(t,o,n),w&&(I.bottom=(null==c?void 0:c.bottom)||0,I.color=(null==I?void 0:I.color)||t.color),!p&&_&&(null==c?void 0:c.color)&&XN(c.color)&&(I.color="transparent")}const T=a=>{const n="start"===a?e.charOffset-1:e.charOffset+e[Zc.text].length+1,r=u&&u.cleanSelectionStart<n&&u.cleanSelectionEnd>=n;return f.jsx("span",{className:"magic-text__word-separator",ref:o,style:{...v,...I,display:"initial",borderRadius:0,backgroundColor:"transparent",zIndex:s+1,...r?{backgroundColor:"rgba(80, 108, 147, 0.9)"}:{}},children:f.jsx("span",{children:t.wordSeparator})},`line-${i}-separator`)};return f.jsxs(b.Fragment,{children:[t.isRTL&&!C&&t.wordSeparator&&T("start"),f.jsx("span",{style:{...v,marginLeft:-g,marginRight:-g,paddingLeft:g,paddingRight:g,zIndex:s},className:`magic-text__word ${y}`,children:e.splitTextByStyle.map(((e,a)=>{var n,s;const o=e.styles||{index:-1},r={...v,...o,color:w&&!e.isSelected&&(null==d?void 0:d.color)?v.color:o.color||v.color,borderRadius:0,backgroundColor:void 0,bottom:"unset"};t.underline&&"none"!==o.textDecoration&&(r.textDecoration="underline"),!p&&_&&(null==c?void 0:c.color)&&XN(c.color)&&(r.color="transparent"),p&&"transparent"===r.color&&(r.color=o.color||t.color);const l=[];e.isSelected&&(r.backgroundColor="rgba(80, 108, 147, 0.9)");const u=r.color&&XN(r.color),m="none"!==v.textShadow&&!u;u&&(r.textShadow="none");const g=(null==(n=t.textOutline)?void 0:n.color)&&XN(null==(s=t.textOutline)?void 0:s.color);return f.jsxs(b.Fragment,{children:[t.textOutline&&!g&&f.jsx("span",{style:{...r,WebkitTextStroke:m?`${IM(t,t.fontSize)}px ${t.textOutline.color}`:void 0,position:"absolute"},className:`magic-text__char ${l.join(" ")}`,children:e.text}),f.jsx("span",{style:r,className:`magic-text__char ${l.join(" ")}`,children:e.text})]},`line-${i}-${a}`)}))},`line-${i}`),!t.isRTL&&!S&&t.wordSeparator&&T("end")]},`line-${i}`)}))]},`line-${s}`)))})})),noe=b.memo((({width:e,height:t,editorWidth:a,editorHeight:n,textWithLineBreaks:s,fontSize:o,textScale:r,layer:l,animStyles:d,viewOnly:c})=>{const u=i.useRef(void 0),{borderRadiusTemp:p,globalAlphaTemp:m,textPaddingTemp:g}=Du((e=>jR(e,l.id)))||{},{relative:h=0}=p||l.borderRadius||{},v=l.textTransform||"none";let b=s||"";"uppercase"===v?b=b.toLocaleUpperCase():"lowercase"===v&&(b=b.toLocaleLowerCase());const y=l.backgroundColor,w="wrap"===l.wrapOrFill,_=h||"0%",C=l.textAlign||"center",S=LN(l),x=l.italic?"italic":"normal",{fontWeight:I}=l,A=m??l.globalAlpha,k=g??l.textPadding??0,T=w?n/b.split("\n").length:Math.min(e,t),E=k*T/100,L=E;return i.useEffect((function(){if(!u.current)return;const a=u.current;a.width=e+E+E+L+L,a.height=t+E+E+L+L;const n=a.getContext("2d");if(!n)return;if(e<=0&&t<=0)return;const s=window.devicePixelRatio;a.width*=s,a.height*=s,n.scale(s,s),n.save(),n.clearRect(0,0,a.width,a.height),n.globalAlpha=d.opacity?+d.opacity:A,n.translate(E+L,E+L),n.font=`${x} normal ${I} ${o}px ${S}`;let i=[];if(l.isMagicSubtitle){const e=l;i=e.frame.lines.map((t=>[t.words.map((e=>e[Zc.text])).join(e.wordSeparator),t.width]))}else{i=b.replaceAll("\r","").split("\n").map((e=>[e,n.measureText(e).width*r]))}const c=i.map((([e,t])=>t)),p=t/i.length;w?VM(n,c,o,l,e,t,p,0,_,k):BM(n,l,e,t,_,k),n.restore()}),[b,y,w,e,t,a,n,C,v,_,o,S,I,x,r,A,l,E,k,L,null==d?void 0:d.opacity]),f.jsx("canvas",{"data-cy":c?"text-background-view-only":"text-background",style:{width:e+E+E+L+L,height:t+E+E+L+L,position:"absolute",top:0,left:0,marginTop:-E-L,marginLeft:-E-L,transformOrigin:"0px 0px",...d},ref:e=>{e&&(u.current=e)}})})),soe=_e.Editor,ooe=()=>{},ioe=c.memoize(zC),roe=e=>e&&["middleLeft","middleRight"].includes(e),loe=class e extends i.Component{constructor(t){super(t),a(this,"editor",b.createRef()),a(this,"hiddenEditorContainer",b.createRef()),a(this,"hiddenEditor",b.createRef()),a(this,"container",b.createRef()),a(this,"_mounted",!1),a(this,"selectionIndices",null),a(this,"tmpInput",null),a(this,"backspacePressed",!1),a(this,"backspaceLinebreakPressed",!1),a(this,"clickCount",0),a(this,"clickTimeout",null),a(this,"previousSelectionIndices"),a(this,"checkedForOutsideCanvas",!1),a(this,"cursorHistory",{current:-1,undoStack:[],redoStack:[]}),a(this,"customStyleMap",{}),a(this,"shouldUpdateTextBlocks",!1),a(this,"undoFocusLock",!1),a(this,"moveCursorToEnd",!1),a(this,"latestTextWithLineBreaks"),a(this,"addMountedActionToQueue",(t=>{null==e.editorMountedActionsTimeout&&(e.editorMountedActionsTimeout=setTimeout((()=>{e.editorMountedActionsTimeout=null,e.editorMountedActions.length>0&&(this.props.mountActiveEditors(e.editorMountedActions),e.editorMountedActions=[])}),0)),e.editorMountedActions.push(t)})),a(this,"addUnmountedActionToQueue",(t=>{null==e.editorUnmountedActionsTimeout&&(e.editorUnmountedActionsTimeout=setTimeout((()=>{e.editorUnmountedActionsTimeout=null,e.editorUnmountedActions.length>0&&(this.props.unmountActiveEditors(e.editorUnmountedActions),e.editorUnmountedActions=[])}),0)),e.editorUnmountedActions.push(t)})),a(this,"adjustLayerSizeSoEditorSizeMatchesCurrentLayerBounds",(()=>{const{layer:e,width:t,height:a}=this.props,{editorHeight:n,editorWidth:s}=this.state;if(e.text.includes(" ")&&this.recomputeTextWithLineBreaks(),!n||!s)return;if(t-s<0)return;const o=t/(s/n),i=o*(t/a),r=qR(e);if(!r)return;let l;const{textAlign:d}=e;l="center"===d?r.x+(r.width-i)/2:"left"===d?r.x:r.x+(r.width-i);const c={...r,x:l,width:i,height:o};ZR(e,c),setTimeout((()=>{this.fixTextBoundingBoxForTemplates()}),150),uk({[e.id]:{layerRequiresPSDResizing:!1}},"Text.tsx")})),a(this,"fixTextBoundingBoxForTemplates",(()=>{const{editorWidth:e,editorHeight:t}=this.state,{layer:a}=this.props,n=qR(a);if(!n)return;if(!e||!t)return;const s=n.width-e+0,{textAlign:o}=a;let i=n.x;i="center"===o?n.x+s/2:"left"===o?n.x:n.x+s;const r={...n,x:i,width:e};ZR(a,r),G0(a,e,r.height,a.text)})),a(this,"recomputeTextWithLineBreaks",(e=>{const{layer:t,width:a,height:n}=this.props;if(t.isMagicSubtitle)return;const s=e||t.fontSize||1,{baseWidth:o}=t,i=z0(a,o)*s,{textWithLineBreaks:r}=X0(t,a,t.text,i),l=(t.lineHeight||1)*i,d=r.split("\n").length*l,c=t.text!==r,u=d>1&&n!==d;if(c&&(uk({[t.id]:{text:r,textWithLineBreaks:r}},"Text.tsx"),Vj(t.id,{textTemp:r})),c||u){const e=qR(t);if(e){const a=e.height-d,n=e.y+a/2,s={...e,y:n,height:d};ZR(t,s)}}})),a(this,"parseEditorSize",(()=>{if(!(this.hiddenEditorContainer.current&&this.hiddenEditor.current&&this.container.current&&this._mounted))return null;const e=this.container.current.style.transform;this.container.current.style.transform="none";const t=this.hiddenEditorContainer.current.style.display;this.hiddenEditorContainer.current.style.display="flex";const{width:a,height:n}=this.hiddenEditor.current.editor.getBoundingClientRect();if(this.container.current.style.transform=e,this.hiddenEditorContainer.current.style.display=t,!a||!n)return null;return{editorWidth:a,editorHeight:n}})),a(this,"handleSelectionState",(e=>{if(this.previousSelectionIndices&&!gH(e)){const[t,a]=this.previousSelectionIndices;if(t<a){const n=e.getCurrentContent(),s=fH(n,t,a);if(s){const{isEditing:t,layer:a}=this.props;return t||Vj(a.id,{isEditing:!0}),_e.EditorState.forceSelection(e,s)}}}return e})),a(this,"updateLayerHeightForText",((e,t,a)=>{const{fontSizingTemp:n,layer:s,width:o,y:i}=this.props,r=qR(s),l=r?z0(s.baseWidth,r.width):1,d=((null==n?void 0:n.fontSize)||s.fontSize||1)/l,c=(s.lineHeight||1)*d,u=e.split("\n").length*c;if(r){const e={...r,width:o,height:u,y:i};ZR(s,e,t,a)}return u})),a(this,"handleEditorTextChange",((e,t,a)=>{if(a===this.latestTextWithLineBreaks)return t;this.latestTextWithLineBreaks=a;const{beingTransformed:n,isEditing:s}=this.props,o=t.getUndoStack().size,i=null==e?void 0:e.getUndoStack().size,r=!n&&s&&(!!i&&o===i-1),l=t.getRedoStack().size,d=null==e?void 0:e.getRedoStack().size,c=!!d&&l===d-1,u=!!this.tmpInput||!!this.backspacePressed,p=!n&&s&&c&&!u;"Sample text"===a.replaceAll("\r","").replaceAll("\n","")&&(this.moveCursorToEnd=!0);const m=this.updateEditorTextWithLineBreaks(t,a,r,p);return!n&&s&&this.updateLayerHeightForText(a,!0),m})),a(this,"updateEditorTextWithLineBreaks",((e,t,a,n)=>{var s;const{isEditing:o,isSelected:i}=this.props,r=bH(e);let l=((e,t)=>{const a=e.getCurrentContent(),n=mH(a);return _e.Modifier.replaceText(a,n,t)})(e,t);const d=l.getPlainText(),c=e.getCurrentContent(),u=pH(c,mH(c)),p=e=>["\n","\r"].includes(e),m="\n"===this.tmpInput;let g=0;for(let f=0;f<r.length;f+=1){const e=r.charAt(f);let t=0;m&&this.selectionIndices&&this.selectionIndices[0]<=f&&(t=-1);let a=Math.max(f+t,0);if(a>=u.length&&(a=u.length-1),g>=d.length)break;let n=d.charAt(g);for(;p(n)&&g<d.length-1;){if(a-1>=0){u[a-1].getStyle().toArray().forEach((e=>{l=wH(l,g,e)}))}g+=1,n=d.charAt(g)}const s=u[a];if(s&&n===e){s.getStyle().toArray().forEach((e=>{l=wH(l,g,e)})),g+=1}}const h=this.props.layer.color;l=yH(l,`COLOR_${h}`);let v=_e.EditorState.push(e,l,"insert-characters");if((a||n||this.backspacePressed||this.tmpInput)&&(v=_e.EditorState.set(v,{undoStack:e.getUndoStack(),redoStack:e.getRedoStack()})),roe(this.props.nodePosition)||!o&&!i||this.moveCursorToEnd)v=_e.EditorState.moveSelectionToEnd(v),this.moveCursorToEnd=!1;else if(this.selectionIndices&&!a&&!n&&o){let e=(null==(s=this.tmpInput)?void 0:s.length)||0,a=this.selectionIndices[0];if(a>0&&!m){const e=(e=>e.replaceAll("\r\n","").replaceAll("\n",""))(r.substring(0,a));let n=0;for(let s=0;s<t.length&&n<e.length;s+=1){p(t.charAt(s))||(a=s+1,n+=1)}}if(this.backspacePressed)for(;a<this.selectionIndices[0];){if(!p(t.charAt(a)))break;a+=1}else if(m)a+=1;else for(;e>0;){p(t.charAt(a))||(e-=1),a+=1}a=Math.min(a,t.length),v=vH(v,a),this.cursorHistory.undoStack.push(this.cursorHistory.current),this.cursorHistory.redoStack=[],this.cursorHistory.current=a}else if(o){let e=-1;a&&this.cursorHistory.undoStack?(this.cursorHistory.redoStack.push(this.cursorHistory.current),e=this.cursorHistory.undoStack.pop()):n&&this.cursorHistory.redoStack&&(this.cursorHistory.undoStack.push(this.cursorHistory.current),e=this.cursorHistory.redoStack.pop()),e<0&&(e=t.length);const s=Math.min(e,t.length);v=vH(v,s),this.cursorHistory.current=s}return this.selectionIndices=null,this.tmpInput=null,this.backspacePressed=!1,this.backspaceLinebreakPressed=!1,v})),a(this,"getCurrentPosition",(()=>{const{x:e,y:t,width:a,height:n,rotation:s}=this.props,{xPercent:o,yPercent:i}=XR(e,t),{widthPercent:r,heightPercent:l}=GR(a,n);return{x:o,y:i,width:r,height:l,rotation:s||0}})),a(this,"updateTextBlocks",(()=>{if(this.props.isCanvasPreview)return void(this.shouldUpdateTextBlocks=!1);if(!(this.container.current&&this.hiddenEditorContainer.current&&this.props.editorState&&this._mounted))return;const e=this.container.current.style.transform;this.container.current.style.transform="none";const t=this.hiddenEditorContainer.current.style.display;this.hiddenEditorContainer.current.style.display="flex";const a=eM(this.container.current,this.hiddenEditorContainer.current);this.container.current.style.transform=e,this.hiddenEditorContainer.current.style.display=t;if(a.some((e=>Object.values(e.position).some((e=>null==e||Number.isNaN(e))))))return;const n=JSON.stringify(this.props.layer.textBlocks),s=JSON.stringify(a);this.shouldUpdateTextBlocks=!1,n!==s&&uk({[this.props.layer.id]:{textBlocks:a}},"Text.tsx",!1)})),a(this,"refreshEditorState",(e=>{const{layer:t,editorState:a}=this.props;if(null!=a&&"refresh"!==e){const n=this.convertLayerToContentState(t);return _e.EditorState.push(a,n,e)}return this.getEditorStateFromLayer(t)})),a(this,"getEditorStateFromLayer",(e=>{const t=_e.EditorState.createWithContent(this.convertLayerToContentState(e));return _e.EditorState.set(t,{allowUndo:!0})})),a(this,"convertLayerToContentState",(e=>{const{isCanvasPreview:t,viewOnly:a}=this.props;if(e.draftJSTextTree)return _e.convertFromRaw(e.draftJSTextTree);let n=_e.ContentState.createFromText(e.text);if(t)return n;const s=mH(n);return"bold"===e.fontWeight&&(n=_e.Modifier.applyInlineStyle(n,s,"BOLD")),e.italic&&(n=_e.Modifier.applyInlineStyle(n,s,"ITALIC")),e.underline&&(n=_e.Modifier.applyInlineStyle(n,s,"UNDERLINE")),e.color&&(n=_e.Modifier.applyInlineStyle(n,s,`COLOR_${e.color}`)),t||e.isMagicSubtitle||a||uk({[e.id]:{draftJSTextTree:_e.convertToRaw(n)}},"Text.tsx"),n})),a(this,"getRotateWrapperStyles",(()=>{const{width:e,height:t,x:a,y:n,rotation:s}=this.props;return{position:"absolute",left:a,top:n,transform:`rotate(${s}deg)`,width:e,height:t}})),a(this,"getTextStyles",(()=>{var e,t,a;const{layer:n,staticPreview:s,duration:o,globalAlphaTemp:i,viewOnly:r,width:l,height:d,studioTime:c,textBlurTemp:u,textShadowBlurTemp:p,textShadowDistTemp:m,textShadowRotTemp:g,textShadowOpacityTemp:h,textOutline:v,fontSizingTemp:f,magicAssetId:b,keyframeChannels:y}=this.props,[w,_]=this.props.absoluteTimes,{textAlign:C,textBlur:S,textEffect:x,textDropShadowColor:I,textShadowBlur:A,textShadowDist:k,textShadowRot:T,textShadowOpacity:E,isMagicSubtitle:L}=n,j=!s&&!(w<=c&&c<=_)&&!L,R=z0(l,(null==f?void 0:f.baseWidth)||n.baseWidth);let N=.005,{fontSize:M}=f||n;M&&(M*=R,N*=M),N=Math.max(1,N);const P=!!(null==y?void 0:y[Cu.OPACITY]);let F=n.globalAlpha;P&&(F=Qk(n,y,c).opacity/100),null!=i&&(F=i);let D={position:"absolute",marginLeft:"auto",marginRight:"auto",marginTop:"auto",marginBottom:"auto",pointerEvents:r?"none":"unset",fontSize:M,font:jN(n,M,n.fallbackFonts),textAlign:n.textAlign,textTransform:n.textTransform,color:n.color,opacity:F,textDecoration:!n.isMagicSubtitle&&n.underline?"underline":void 0,textDecorationSkipInk:"none",transform:""};if(n.textShadow?D.textShadow=`-${N}px -${N}px 0 ${n.textShadow}, ${N}px -${N}px 0 ${n.textShadow}, -${N}px ${N}px 0 ${n.textShadow}, ${N}px ${N}px 0 ${n.textShadow}`:D.textShadow="",D.fontDisplay="swap",I&&I!==KN){const e=p??A,t=m??k??0,a=(g??T??0)*Math.PI/180,n=vM(I,h??E??1)||I,s=t*Math.cos(a),o=t*Math.sin(a),i=D.textShadow?", ":"";D.textShadow+=`${i}${s}em ${o}em ${e}em ${n}`}if("textBlur"===x&&M){const e=.2*M*+(u||S||.2);D.filter=`blur(${e}px)`}let O="center";"left"===(null==(e=n.textAlign)?void 0:e.toLowerCase())?O="flex-start":"right"===(null==(t=n.textAlign)?void 0:t.toLowerCase())&&(O="flex-end"),D={...D,display:j?"none":"flex",transformOrigin:"0px 0px",width:l,height:d,alignItems:"center",justifyContent:O};const U=kT(n);let B={},W=D;if(L||!s&&o&&"none"!==(null==U?void 0:U.id)){B=L?function(e,t,a){const n=a??dY(),{transition:s}=t;if(!s||!s.transitionId)return{};const o=fT[s.transitionId];return o&&o.animationFunc?o.animationFunc(n,t,e):{}}(b,n,this.props.studioTime):Jse(n);let{transform:e}=D;B&&"transform"in B&&(e=`${D.transform} ${B.transform}`),W=Qse(D,B),W.transform=e}const V={};L&&(V.flexDirection="column",V.justifyContent="center","left"===(null==C?void 0:C.toLowerCase())?V.alignItems="flex-start":"right"===(null==C?void 0:C.toLocaleLowerCase())&&(V.alignItems="flex-end")),P&&(B.opacity=D.opacity);const H={WebkitTextStroke:`${IM(n,M??0,null==v?void 0:v.width)}px ${null==(a=n.textOutline)?void 0:a.color}`};return n.textOutline&&!n.isMagicSubtitle&&(H.textShadow=W.textShadow,W.textShadow=""),{animTextStyles:W,animStyles:B,rawTextStyles:D,textOutlineStyles:H,magicTextStyles:V}})),a(this,"handleBeforeInput",((e,t)=>{const{isCanvasPreview:a}=this.props;if(a)return"not-handled";const[n,s]=this.selectionIndices||hH(t);return this.selectionIndices||(this.selectionIndices=[n,s]),this.tmpInput=e,"not-handled"})),a(this,"handlePointerDown",(()=>{if(this.clickCount+=1,this.clickTimeout&&clearTimeout(this.clickTimeout),this.clickTimeout=setTimeout((()=>{this.clickCount=0}),350),this.clickCount>=3&&(this.clickCount=0,this.props.editorState)){const e=(e=>{const t=e.getCurrentContent(),a=mH(t);return _e.EditorState.forceSelection(e,a)})(this.props.editorState);this.props.updateActiveEditor({id:this.props.layer.id,editor:e})}const{layer:e,selectItem:t}=this.props;e.locked&&t(null)})),a(this,"handlePastedText",((e,t,a)=>(this.selectionIndices=hH(a),this.tmpInput=e,"not-handled"))),a(this,"handleEditorChange",(e=>{var t;const{layer:a,textTemp:n,updateActiveEditor:s,fontSizingTemp:o,width:i,editorState:r}=this.props;let l=e,d=bH(l);if(r&&!this.tmpInput){const e=bH(r);if(e.length<d.length&&d.includes("  "))return this.selectionIndices=hH(r),void s({id:a.id,editor:this.updateEditorTextWithLineBreaks(r,e)})}if(r&&this.tmpInput){if(d===bH(r).replace(/\r\n/g,""))return this.moveCursorToEnd=!0,this.selectionIndices=null,this.tmpInput=null,void s({id:a.id,editor:_e.EditorState.moveFocusToEnd(r)})}const c=this.selectionIndices&&this.tmpInput,[u,p]=c?this.selectionIndices:hH(l);if(this.selectionIndices=[u,p],r&&(null==(t=this.tmpInput)?void 0:t.includes("\n"))){const e=r.getCurrentContent().getPlainText(),t=e.substring(0,u),a=e.substring(p);d=t+this.tmpInput+a}if(this.backspaceLinebreakPressed){"\r"===d.charAt(u-1)&&u>2&&(d=d.substring(0,u-2)+d.substring(u),this.selectionIndices=[u-2,u-2]),this.backspaceLinebreakPressed=!1}const m=z0(i,(null==o?void 0:o.baseWidth)||a.baseWidth)*((null==o?void 0:o.fontSize)||a.fontSize||0),{textWithLineBreaks:g}=X0(a,i,d,m);n!==g&&(l=this.handleEditorTextChange(this.props.editorState,l,g),Vj(a.id,{textTemp:g})),s({id:a.id,editor:l}),this.shouldUpdateTextBlocks=!0})),a(this,"handleKeyBindingFn",(e=>"Escape"===e.key?"escape-editor":("Enter"===e.key&&(this.tmpInput="\n"),_e.getDefaultKeyBinding(e)))),a(this,"handleKeyCommand",((e,t)=>{var a;const[n,s]=hH(t);if(this.selectionIndices=[n,s],"delete"===e){const e=bH(t);if(e.length>n+2){const t=e.charAt(n+1),a=e.charAt(n+2);"\r"===t&&"\n"===a&&(this.backspaceLinebreakPressed=!0)}}if("backspace"===e){const e=bH(t);if(e.length>0&&n>0&&(this.backspacePressed=!0),s-n<=1&&n>0){this.selectionIndices=[n-1,n-1];const t=e.charAt(n-1),a=e.charAt(n-2);"\n"===t&&"\r"===a&&(this.backspaceLinebreakPressed=!0)}}if("escape-editor"===e){null==(a=this.editor.current)||a.blur();const e=bH(t);return q0(this.props.layer,e),"handled"}if("bold"===e){const{setTextBold:e,layer:t,inlineStyles:a}=this.props;return e({ids:[t.id],value:!a.unique.includes("BOLD")}),"handled"}if("italic"===e){const{setTextItalics:e,layer:t,inlineStyles:a}=this.props;return e({ids:[t.id],value:!a.unique.includes("ITALIC")}),"handled"}if("underline"===e){const{setTextUnderline:e,layer:t,inlineStyles:a}=this.props;return e({ids:[t.id],value:!a.unique.includes("UNDERLINE")}),"handled"}const o=_e.RichUtils.handleKeyCommand(t,e);return o?(this.handleEditorChange(o),"handled"):"not-handled"})),a(this,"getEditorWrapperClassName",(()=>{const{isSelected:e,isCanvasPreview:t,isEditing:a}=this.props;return a&&e&&!t?eoe.editorWrapperEditing:""})),a(this,"onEditorFocus",(()=>{var e;if(this.undoFocusLock)return void(null==(e=document.activeElement)||e.blur());const{layer:t,isSelected:a,isEditing:n,selectItem:s}=this.props;a||s({id:t.id,type:"layer"}),n||J0(t)})),a(this,"onEditorBlur",(()=>{var e;const{layer:t,editorState:a}=this.props;null==(e=document.activeElement)||e.blur();const n=null==a?void 0:a.getCurrentContent().getPlainText();q0(t,n)})),this.state={editorWidth:void 0,editorHeight:void 0}}componentDidMount(){const{isCanvasPreview:e,layer:t,width:a,height:n,textLayerIDsAddedInSession:s,magicAssetId:o}=this.props,i=[];let r=t.fontSize||1;const l=L0(this.props.layer);if(e){if(o){l&&i.push(l),i.push({type:"default",fontFamily:"Noto Sans"});const e=be(t.text);i.push(...e.map((e=>({type:"default",fontFamily:e}))))}}else t.fontSize&&t.baseWidth&&t.baseHeight||(r=Q0(t,a,n,!1)||r),"string"==typeof t.fontSize&&(r=parseFloat(t.fontSize),uk({[t.id]:{fontSize:r}},"Text.tsx")),l&&i.push(l),i.push({type:"default",fontFamily:"Noto Sans"}),i.push(...(t.fallbackFonts||[]).map((e=>({type:"default",fontFamily:e}))));if(i.length>0){Promise.all(i.map((e=>x0({fontToLoad:e})))).then((o=>{o.some((e=>e.firstLoad))&&(e||null!=t.baseWidth&&t.fontSize||!s.includes(t.id)||(r=Q0(t,a,n,!1)||r),this.recomputeTextWithLineBreaks(r))})).catch((e=>{console.error("error loading fonts",t.fontFamily,...t.fallbackFonts||[]),console.error(e)}))}if(this.addMountedActionToQueue({id:t.id,editor:this.getEditorStateFromLayer(t)}),this._mounted=!0,this.editor.current){const e=this.editor.current,t=e._onInput;e._onInput=function(a){const n="historyRedo"===a.nativeEvent.inputType||"historyUndo"===a.nativeEvent.inputType,{anchorNode:s,focusNode:o}=global.getSelection()||{};n&&(null!=s&&!e.editor.contains(s)||null!=o&&!e.editor.contains(o))||t.call(this,a)}}this.shouldUpdateTextBlocks=!0,t.layerRequiresPSDResizing&&setTimeout((()=>{this.adjustLayerSizeSoEditorSizeMatchesCurrentLayerBounds()}),150)}componentDidUpdate(e,t){var a,n;const{historyIndex:s,lastUndoTimestamp:o,isCanvasPreview:i,isEditing:r,isSelected:l,layer:d,refreshKey:u,beingTransformed:p,x:m,y:g,width:h,height:v,rotation:f,textTemp:b,fontSizingTemp:y,updateActiveEditor:w,editorState:_,editorStateSync:C,usedUndo:S,nodePosition:x,selectedLayersLength:I,absoluteTimes:[A,k],studioTime:T,staticPreview:E}=this.props;this.shouldUpdateTextBlocks&&setTimeout((()=>{this.updateTextBlocks()}),100);if(((e,t)=>{if(e===t)return!1;const a=Object.keys({backgroundColor:!0,color:!0,fontFamily:!0,fontType:!0,fontWeight:!0,globalAlpha:!0,italic:!0,lineHeight:!0,wrapOrFill:!0,textAlign:!0,textTransform:!0,textBlur:!0,textEffect:!0,textDropShadowColor:!0,textPadding:!0,borderRadius:!0,textOutline:!0,textShadow:!0,textShadowBlur:!0,textShadowDist:!0,textShadowRot:!0,textShadowOpacity:!0,underline:!0,hasCustomFont:!0,asset_id:!0});return!c.isEqual(c.pick(e,a),c.pick(t,a))})(e.layer,this.props.layer)&&!this.props.layer.isMagicSubtitle&&!i&&((()=>{const{state:e,dispatch:t}=Mu(),a=dU(e);if(1!==a.length)return;const n=a[0];if(!n||!sp(n))return;const s=w3(n);s.presetId="LAST_USED",s.title="Custom";const{lastUsedPreset:o}=e.textPresets;o&&C3(s,o)||(uk({[n.id]:{presetId:"LAST_USED"}},"updateLastUsedTextPreset"),t(BV({preset:s})))})(),this.shouldUpdateTextBlocks=!0),!this.checkedForOutsideCanvas&&_&&(null==(a=this.container.current)?void 0:a.clientWidth)){this.checkedForOutsideCanvas=!0;(null==(n=d.textBlocks)?void 0:n.some((e=>e.position.bottom<0)))&&this.syncToLayer(_)}d.id!==e.layer.id&&(this.addUnmountedActionToQueue(e.layer.id),this.addMountedActionToQueue({id:d.id,editor:this.getEditorStateFromLayer(d)}));if(!(!E&&!(A<=T&&T<=k))){const e=this.parseEditorSize();!e||(null==e?void 0:e.editorHeight)===t.editorHeight&&(null==e?void 0:e.editorWidth)===t.editorWidth||this.setState(e)}if(i)return;const L=e.historyIndex!==s,j=e.lastUndoTimestamp!==o;if(L||j){this.shouldUpdateTextBlocks=!0,this.undoFocusLock=!0,Vj(d.id,{positionTemp:void 0,fontSizingTemp:void 0,textTemp:void 0});const e=this.refreshEditorState(S?"undo":"redo");return w({id:d.id,editor:e}),void setTimeout((()=>{this.undoFocusLock=!1}),100)}if(e.refreshKey!==u&&!p&&!r){Vj(d.id,{positionTemp:void 0,fontSizingTemp:void 0,textTemp:void 0});const e=this.refreshEditorState("refresh");return void w({id:d.id,editor:e})}let R=_;if(!R)return;const N=d.textBlocks!==e.layer.textBlocks,M=r!==e.isEditing;l&&!r&&!p&&e.editorState&&(N||M)&&(this.previousSelectionIndices=hH(e.editorState),R=this.handleSelectionState(R));const P=l!==e.isSelected;!l&&P&&(this.onEditorBlur(),this.previousSelectionIndices=void 0);const F=R.getSelection().getHasFocus(),D=r&&!e.isEditing||r&&!F,O=p&&!e.beingTransformed;if(D||O)return this.cursorHistory={current:-1,undoStack:[],redoStack:[]},R=_e.EditorState.set(R,{undoStack:R.getUndoStack().clear(),redoStack:R.getRedoStack().clear()}),D?R=this.previousSelectionIndices?this.handleSelectionState(R):_e.EditorState.moveFocusToEnd(R):O&&(R=_e.EditorState.moveSelectionToEnd(R)),w({id:d.id,editor:R}),void(this.previousSelectionIndices=void 0);const U=h!==e.width,B=v!==e.height;if(p&&(U||B)&&!roe(x)){const e=R.getCurrentContent().getPlainText();G0(d,h,v,e,y)}d.fontSize||Q0(d,h,v,!1);if(e.layer.fontFamily!==d.fontFamily||!c.isEqual(e.layer.fallbackFonts,d.fallbackFonts)){this.moveCursorToEnd=!0;return void Promise.all([...this.props.layerFontToUse?[this.props.layerFontToUse]:[],...(d.fallbackFonts||[]).map((e=>({type:"default",fontFamily:e})))].map((e=>x0({fontToLoad:e})))).then((()=>{setTimeout((()=>{this.recomputeTextWithLineBreaks()}),0)}),(e=>{console.error("error loading fonts",d.fontFamily,...d.fallbackFonts||[]),console.error(e)}))}if(d.lineHeight!==e.layer.lineHeight){const e=b||d.text,t=qR(d),a=t?z0(d.baseWidth,t.width):1,n=((null==y?void 0:y.fontSize)||d.fontSize||1)/a;return PU.withUndoBatch((()=>{const t=this.updateLayerHeightForText(e,!0);Vj(d.id,{fontSizingTemp:{fontSize:n,baseWidth:h,baseHeight:t}})})),void setTimeout((()=>{this._mounted&&this.props.editorState&&this.syncToLayer(this.props.editorState,!1)}),100)}const W=e.textTemp!==b;b&&W&&(R=this.handleEditorTextChange(this.props.editorState,R,b));e.layer.textTransform!==this.props.layer.textTransform&&(this.moveCursorToEnd=!0,this.recomputeTextWithLineBreaks()),R!==_&&w({id:d.id,editor:R}),this.selectionIndices=null,this.tmpInput=null,this.backspacePressed=!1,this.backspaceLinebreakPressed=!1;const V=qR(d);let H=!1;const z=1!==I;if(V&&!z){const e=m!==V.x,t=g!==V.y,a=e||t,n=h!==V.width,s=v!==V.height,o=n||s,i=f!==V.rotation;H=a||o||i}const G=bH(R)!==d.text,Y=!p&&e.beingTransformed&&H,K=!r&&e.isEditing&&G,X=e.editorStateSync!==C,Z=e.layer.textAlign!==d.textAlign;if(Y||K||X||Z){const e=!Z;this.syncToLayer(R,e)}else null==d.textBlocks&&setTimeout((()=>{const{editorState:e}=this.props;this._mounted&&(z?this.updateTextBlocks():e&&this.syncToLayer(e,!1))}),100);K&&(this.cursorHistory={current:-1,undoStack:[],redoStack:[]})}componentWillUnmount(){const{layer:e,editorState:t,isCanvasPreview:a,isEditing:n}=this.props;!a&&t&&n&&this.syncToLayer(t);const s=null==t?void 0:t.getCurrentContent().getPlainText();q0(e,s),this.addUnmountedActionToQueue(e.id),this._mounted=!1}syncToLayer(e,t=!0){var a;const{layer:n,fontSizingTemp:s,inlineStyles:o,isCanvasPreview:i,viewOnly:r}=this.props;if(!e||!this._mounted||n.isMagicSubtitle||i||r)return;const{position:l}=n;if("object"!=typeof l)return;let d=e.getCurrentContent();d=_e.Modifier.removeInlineStyle(d,mH(d),"persistent_selection");const c=d.getPlainText(),u=_e.convertToRaw(d),p=be(c),m={draftJSTextTree:u,text:c,textWithLineBreaks:c,fallbackFonts:p.length?p:void 0,fontSize:(null==s?void 0:s.fontSize)||n.fontSize,baseWidth:(null==s?void 0:s.baseWidth)||n.baseWidth,baseHeight:(null==s?void 0:s.baseHeight)||n.baseHeight,position:this.getCurrentPosition(),italic:o.unique.includes("ITALIC"),fontWeight:o.unique.includes("BOLD")?"bold":"normal",underline:o.unique.includes("UNDERLINE"),color:(null==(a=o.unique.find((e=>e.startsWith("COLOR"))))?void 0:a.slice("COLOR".length+1))||n.color};uk({[n.id]:m},"Text.tsx",t),Vj(n.id,{positionTemp:void 0,fontSizingTemp:void 0,textTemp:void 0}),this.shouldUpdateTextBlocks=!0}createInlineStyles(){const{editorState:e,inlineStyles:t}=this.props,{customStyleMap:a}=this;if(null==e)return a;const n=t.all.filter(tM).filter((e=>!a[e]));if(0===n.length)return a;const s={...a};for(const o of n)s[o]=aM(o);return this.customStyleMap=s,s}render(){const{viewOnly:e,layer:t,editorState:a=_e.EditorState.createEmpty(),isEditing:n,width:s,height:o,fontSizingTemp:i,magicAssetId:r,eyedropperOpen:l}=this.props,{editorWidth:d,editorHeight:c}=this.state,u=this.createInlineStyles(),{animTextStyles:p,animStyles:m,rawTextStyles:g,magicTextStyles:h,textOutlineStyles:v}=this.getTextStyles(),b=z0(s,(null==i?void 0:i.baseWidth)||t.baseWidth),y=(null==i?void 0:i.fontSize)||t.fontSize||1,w=_e.EditorState.set(a,{forceSelection:!1});let _=a.getCurrentContent().getPlainText();!_&&t.isMagicSubtitle&&(_=t.text);const C=t.isMagicSubtitle&&!!r;return f.jsxs("div",{style:this.getRotateWrapperStyles(),className:this.getEditorWrapperClassName(),"data-cy":e?"canvasTextViewOnly":"canvasText","data-test":p.display,onPointerDown:this.handlePointerDown,ref:this.container,translate:"no",children:[f.jsx("div",{style:{display:p.display},children:f.jsx(noe,{textWithLineBreaks:_,fontSize:y,width:s,height:o,editorWidth:d||s,editorHeight:c||o,textScale:b,layer:t,animStyles:m,isEditing:n,viewOnly:e})}),f.jsx("div",{style:{...g,visibility:"hidden",opacity:"0",pointerEvents:"none"},"data-cy":e?"text-hidden-view-only":"text-hidden",ref:this.hiddenEditorContainer,children:f.jsx(soe,{customStyleMap:u,editorState:w,onChange:ooe,readOnly:!0,ref:this.hiddenEditor})}),t.textOutline&&!C&&f.jsx("div",{style:{...p,...h,...v},"data-cy":"text-outline",children:f.jsx(soe,{customStyleMap:u,editorState:a,onChange:ooe,readOnly:!0})}),f.jsx("div",{style:{...p,...h},"data-cy":e?"text-view-only":"text",children:C?f.jsx(aoe,{layer:t,studioTime:this.props.studioTime}):f.jsx(soe,{customStyleMap:u,editorState:a,handleBeforeInput:this.handleBeforeInput,handlePastedText:this.handlePastedText,handleKeyCommand:this.handleKeyCommand,keyBindingFn:this.handleKeyBindingFn,onBlur:this.onEditorBlur,onChange:this.handleEditorChange,onFocus:this.onEditorFocus,readOnly:e||l,ref:this.editor})})]})}};a(loe,"editorMountedActions",[]),a(loe,"editorMountedActionsTimeout",null),a(loe,"editorUnmountedActions",[]),a(loe,"editorUnmountedActionsTimeout",null);let doe=loe;const coe=r.connect((()=>{const e=u(((e,t)=>{var a;return null==(a=e.activeEditors[t])?void 0:a.editor.getCurrentContent()}),(e=>e?{all:$N(e),unique:QN(e)}:{all:[],unique:[]}));return(t,a)=>{var n,s;const{beingTransformed:o,fontSizingTemp:i,globalAlphaTemp:r,positionTemp:l,textBlurTemp:d,textShadowBlurTemp:c,textShadowDistTemp:u,textShadowRotTemp:p,textShadowOpacityTemp:m,textOutline:g,textTemp:h}=jR(t,a.layer.id),v=pU(t);return{absoluteTimes:ioe(a.layer),duration:t.studio.duration,isSelected:(null==v?void 0:v.id)===a.layer.id,eyedropperOpen:!!t.studio.eyedropperMode,canvasWidth:t.studio.width,canvasX:t.studioSizing.canvasX,currentFolderId:t.workspaces.selectedWorkspace,currentUser:t.currentUser,historyIndex:t.history.historyIndex,lastUndoTimestamp:t.history.lastUndoTimestamp,usedUndo:t.history.usedUndo,beingTransformed:o,fontSizingTemp:i,globalAlphaTemp:r,isEditing:RR(t,a.layer.id),textBlurTemp:d,textShadowBlurTemp:c,textShadowDistTemp:u,textShadowRotTemp:p,textShadowOpacityTemp:m,textOutline:g,textTemp:h,positionTemp:l,layerTempValues:t.studioLocal.layerTempValues,textLayerIDsAddedInSession:t.studioLocal.textLayerIDsAddedInSession,editorState:null==(n=t.activeEditors[a.layer.id])?void 0:n.editor,editorStateSync:(null==(s=t.activeEditors[a.layer.id])?void 0:s.syncCounter)??0,inlineStyles:e(t,a.layer.id),selectedLayersLength:dU(t).length,keyframeChannels:Kse(t,a.layer.id),layerFontToUse:j0(a.layer,t)}}}),(e=>j({selectItem:ck,mountActiveEditors:CH,unmountActiveEditors:SH,updateActiveEditor:xH,setTextBold:IH,setTextItalics:AH,setTextUnderline:kH},e)))(doe);function uoe(e,t,a){const n=document.createElement("canvas").getContext("2d");if(!n)return 0;const s=t.style.italic?"italic":"normal",{fontWeight:o}=t.style,{fontFamily:i}=t.style.fontFamily;let r=e;return"uppercase"===t.style.textTransform?r=r.toLocaleUpperCase():"lowercase"===t.style.textTransform&&(r=r.toLocaleLowerCase()),n.font=`${s} normal ${o} ${a}px ${i}`,n.measureText(r).width}const poe=["Your","subtitles","here"],moe=.5*poe.length,goe=.1+moe;const hoe=b.memo((function({preset:e,animate:t,width:a=100,height:n=100}){const s=.8*a,o=.54*n,r=(a-s)/2,l=(n-o)/2,d=o/3,[u,p]=b.useState(0),[m,g]=b.useState(t),[h,v]=b.useState(poe.map((t=>uoe(t,e,d)))),y=D2();i.useEffect((()=>{!async function(){if(await x0({fontToLoad:e.style.fontFamily}),!y.current)return;const t=poe.map((t=>uoe(t,e,d)));c.isEqual(t,h)||v(t)}()}),[e,d,y,h]),i.useEffect((function(){const e=setInterval((()=>{m&&y.current&&p((e=>e>goe+.1?.1:e+.01))}),10);return()=>clearInterval(e)}),[m,y]),i.useEffect((()=>{t?(g(!0),p(0)):g(!1)}),[t]);const w=i.useCallback((()=>{const{wordByWordAnimations:t}=e,a=(null==t?void 0:t.animationName)||"";if(m||!["Reveal","Bounce"].includes(a))return t}),[m,e]),_=i.useMemo((()=>({...fO(e.style),id:e.presetId,lineHeight:1,fontSize:d,globalAlpha:1,baseWidth:a,baseHeight:n,text:poe.join("\n"),textWithLineBreaks:poe.join("\n"),position:{x:"0%",y:"0%",width:"100%",height:"100%",rotation:0},isMagicSubtitle:!0,startTime:.1,endTime:goe,type:Nc.Text,frame:{[Xc.id]:"123",endTimeOffset:0,containingLayerPlaybackRate:1,startTimeOffset:0,[Xc.words]:[],wordIsClippedList:[],[Xc.start]:.1,[Xc.end]:goe,lines:poe.map(((e,t)=>({width:h[t],words:[{[Zc.start]:.1+.5*t,[Zc.end]:.1+.5*t+.5,[Zc.text]:e,charOffset:0,splitTextByStyle:RM({[Zc.text]:e}),styles:[]}]}))),containingLayerEndTime:goe,containingLayerStartTime:.1,containingLayerIds:new Set(["123"])},assetId:e.presetId,wordSeparator:" ",isRTL:!1,wordByWordAnimations:w(),transition:e.transition})),[d,w,n,e.presetId,e.style,e.transition,h,a]),C=e.style.colorHighlights||e.style.rotationOffsets,S=[],x=[];function I(){return m?u:.1+Math.round(moe/2)}return C&&(poe.forEach(((t,a)=>{let{color:n}=_;e.style.colorHighlights&&(n=e.style.colorHighlights[a]||e.style.fontColor);let{position:s}=_;e.style.rotationOffsets&&(s={x:"0%",y:"0%",width:"100%",height:"100%",rotation:e.style.rotationOffsets[a]||0});const o={..._,id:`preset.presetId-${a}`,text:t,textWithLineBreaks:t,startTime:.1+.5*a,endTime:.1+.5*a+.5,frame:{..._.frame,[Xc.words]:[],wordIsClippedList:[],[Xc.start]:.1+.5*a,[Xc.end]:.1+.5*a+.5,lines:[{width:h[a],words:[{[Zc.start]:.1+.5*a,[Zc.end]:.1+.5*a+.5,[Zc.text]:t,charOffset:0,splitTextByStyle:RM({[Zc.text]:t}),[Zc.inlineStyles]:[]}]}],containingLayerEndTime:.1+.5*a+.5,containingLayerStartTime:.1+.5*a,containingLayerIds:new Set(["123"])},color:n,position:s,backgroundColor:"transparent"};S.push(o)})),S.forEach(((t,a)=>{x.push({...t,id:`preset.presetId-background-${a}`,color:"transparent",backgroundColor:e.style.backgroundColor,textOutline:void 0,textEffect:void 0,textShadow:"transparent",wordByWordAnimations:void 0})}))),f.jsx("div",{"data-testid":"preset-magic-text__container","data-presetid":e.presetId,children:C?f.jsxs(f.Fragment,{children:[x.map(((t,a)=>{var i;return f.jsx(coe,{viewOnly:!0,isCanvasPreview:!0,layer:t,x:r,y:(n-o)/2+a*(n-o)/3,rotation:(null==(i=t.position)?void 0:i.rotation)||0,width:s,height:o/2,refreshKey:JSON.stringify(e),magicAssetId:e.presetId,studioTime:I()},t.id)})),S.map(((t,a)=>{var i;return f.jsx(coe,{viewOnly:!0,isCanvasPreview:!0,layer:t,x:r,y:(n-o)/6+a*(n-o)/3,rotation:(null==(i=t.position)?void 0:i.rotation)||0,width:s,height:o,refreshKey:JSON.stringify(e),magicAssetId:e.presetId,studioTime:I()},t.id)}))]}):f.jsx(coe,{viewOnly:!0,isCanvasPreview:!0,layer:_,x:r,y:l,width:s,height:o,refreshKey:JSON.stringify(e),magicAssetId:e.presetId,studioTime:I()})})})),voe={workspacePopoverZIndex:"18",popoverZIndex:"14",paywallZIndex:"1001",paywallBgZIndex:"1000",container:"PresetPreview-module_container_JvAcd",preview:"PresetPreview-module_preview_XePcO",selectedPreview:"PresetPreview-module_selectedPreview_DOEWN",brandkit:"PresetPreview-module_brandkit_HglFN",more:"PresetPreview-module_more_mXF1w",brandkitIcon:"PresetPreview-module_brandkitIcon_S0AHd",newSticker:"PresetPreview-module_newSticker_jcHb-",disabledPresetTitleInput:"PresetPreview-module_disabledPresetTitleInput_wdFrT"};function foe({preset:e,isSelected:t,viewOnly:a,onClickPreset:n,hideTitle:s}){const o=Bu(),r=!!e.teamId,l=rse(),d=gg(Fd.BRANDKIT),c=cse(),[u,p]=b.useState(!1),{containerDimensions:m,containerRef:h}=use(),v=i.useCallback((a=>{if("custom"===e.presetId){const n={...e,presetId:`preset-${g()}`,title:a};PU.execInUndoBatch((()=>{o(PB({index:0,preset:n,undoable:!0})),t&&K2(n,!0,!1),q2()}))}else o(MB({presetId:e.presetId,title:a,undoable:!r}));r&&V2({...e,title:a})}),[o,r,t,e]),y=()=>{if(n)return void n();K2(e);const t=Uw(e);ov("Clicked Default Subtitle Preset",{presetId:e.presetId,"Is Default Preset":t,"Is Brandkit Preset":r})};return f.jsxs("div",{className:voe.container,onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:[f.jsxs("div",{className:t?voe.selectedPreview:voe.preview,style:{width:"100%"},onClick:l(y,{if:r&&!d&&!c,action:Dd.BRANDKIT}),ref:h,children:[f.jsx(hoe,{preset:e,animate:u,width:null==m?void 0:m.width,height:null==m?void 0:m.width}),r&&f.jsx("div",{className:voe.brandkit,onClick:y,children:f.jsx(Hw,{message:"Added to your teams Brand Kit",wrapWithDiv:!0,children:f.jsx(st,{className:voe.brandkitIcon})})})]}),!a&&f.jsx("div",{className:voe.more,children:f.jsx(xse,{preset:e,isBrandkit:r,isSelected:t})}),!s&&f.jsx(mse,{value:e.title,onChange:a?void 0:v,disabledStyles:voe.disabledPresetTitleInput})]})}const boe=100,yoe="MoreOptions-module_optionTextStyle_-lu3t",woe=f.jsx(nt,{color:"gray",size:14}),_oe=b.memo((({preset:e,isBrandkit:t,isLastUsed:a})=>{const n=Bu(),s=gg(Fd.TEXT_PRESETS),o=rse(),r=i.useCallback((()=>{const a=()=>{t?c3(e.presetId):l3(e)};if(s)a();else{o(a,{action:Dd.TEXT_PRESETS})()}}),[s,t,o,e]),l=i.useCallback((async()=>{const a=async()=>{n(FV({presetId:e.presetId,undoable:!t})),t&&await c3(e.presetId)};if(s||!t)await a();else{o(a,{action:Dd.TEXT_PRESETS})()}}),[n,s,t,o,e.presetId]),d=!a&&s,c=i.useMemo((()=>{const e=[];return e.push(f.jsxs("div",{className:yoe,onClick:r,children:[f.jsx("span",{style:{marginRight:4},children:t?"Remove from Brand Kit":"Add to Brand Kit"}),!s&&f.jsx(_se,{})]})),d&&e.push(f.jsx("div",{className:yoe,onClick:l,children:"Remove style"})),e}),[d,s,t,l,r]);return f.jsx(yse,{content:woe,options:c})})),Coe="PresetPreview-module_container_LesdB",Soe="PresetPreview-module_previewContainer_xHlQ2",xoe="PresetPreview-module_preview_P4m6c",Ioe="PresetPreview-module_selectedPreview_gcnVa",Aoe="PresetPreview-module_brandkit_9Dolr",koe="PresetPreview-module_more_7b5Fo",Toe="PresetPreview-module_brandkitIcon_ULgag",Eoe="PresetPreview-module_blankTitle_syfUh";function Loe(){const[e,t]=i.useState(),[a,n]=i.useState(!1),s=i.useRef(!1);a&&(s.current=!0);const o=i.useMemo((()=>new IntersectionObserver((([e])=>{e&&n(e.isIntersecting)}))),[]);i.useEffect((()=>e?(o.observe(e),()=>o.disconnect()):()=>{}),[o,e]);const r=i.useCallback((e=>{e&&t(e)}),[]);return i.useMemo((()=>({ref:r,isVisible:a,wasVisible:s.current})),[a,r])}const joe=b.memo((function({disabled:e,children:t,onLoad:a,...n}){const{ref:s,wasVisible:o}=Loe(),i=o||e;return f.jsx("div",{ref:s,...n,children:i&&t})})),Roe="PresetText-module_container_JvC9c";function Noe({preset:e,width:t=100,height:a=100,onClick:n,dataCy:s}){const[o,r]=i.useState(!1);i.useEffect((()=>{const t=j0({...e.style,type:"text"},Mu().state);t&&x0({fontToLoad:t}).catch((e=>{console.error("Error loading font",e),r(!0)}))}),[e]);const l=i.useCallback((()=>"NEW_DEFAULT"===e.presetId?"rgba(0, 0, 0, 0.3)":"DARK_LOFI"===e.presetId?"rgba(0, 0, 0, 0.15)":e.style.backgroundColor),[e]),d=i.useMemo((()=>({id:e.presetId,presetId:e.presetId,backgroundColor:l(),fontFamily:e.style.fontFamily,hasCustomFont:e.style.hasCustomFont,url:e.style.url,asset_id:e.style.asset_id,fontType:e.style.fontType,fontWeight:e.style.fontWeight,textAlign:e.style.textAlign,textTransform:e.style.textTransform,textShadow:"none"===e.style.textShadow?"transparent":e.style.textShadow,textOutline:e.style.textOutline,color:e.style.color,textBlur:(e.style.textBlur||0)/2,textEffect:"dropShadow"===e.style.textEffect?void 0:e.style.textEffect,textDropShadowColor:"dropShadow"===e.style.textEffect?e.style.textEffectColor:void 0,textPadding:e.style.textPadding,wrapOrFill:e.style.wrapOrFill,textShadowBlur:e.style.textShadowBlur,textShadowDist:e.style.textShadowDist,textShadowRot:e.style.textShadowRot,borderRadius:e.style.borderRadius,underline:e.style.underline,italic:e.style.italic,globalAlpha:e.style.globalAlpha,lineHeight:1,fontSize:t/4.2,baseWidth:t,baseHeight:a,text:"Sample\nText",position:{x:"0%",y:"0%",width:"100%",height:"100%",rotation:0},isMagicSubtitle:!1,startTime:0,endTime:Number.MAX_VALUE,type:Nc.Text,depth:"a"})),[e,t,a,l]),c=i.useMemo((()=>({width:t,height:a})),[t,a]);return o?null:f.jsx(joe,{"data-cy":`${s?`${s}-`:""}preset-text-${e.presetId}`,className:Roe,style:c,onClick:n,children:f.jsx(coe,{layer:d,viewOnly:!0,isCanvasPreview:!0,height:.5*a,width:.8*t,x:.09999999999999998*t,y:.25*a,refreshKey:JSON.stringify(e),studioTime:0})})}const Moe=b.memo((function({preset:e,width:t=100,height:a=100,viewOnly:n,onClick:s,isSelected:o,hideTitle:r=!1,dataCy:l,scrollToPreset:d}){const c=Bu(),u=!!e.teamId,p="LAST_USED"===e.presetId,m=i.useCallback((async t=>{if(u&&await s3({...e,title:t}),p){const a={...e,presetId:`preset-${g()}`,title:t};return PU.execInUndoBatch((()=>{c(MV({index:0,preset:a,undoable:!0})),(()=>{const{dispatch:e}=Mu();e(BV({preset:void 0}))})()})),void setTimeout((()=>{null==d||d()}),0)}c(WV({presetId:e.presetId,title:t,undoable:!u}))}),[c,u,p,e,d]);return f.jsxs("div",{className:Coe,children:[f.jsxs("div",{className:Soe,children:[f.jsx("div",{className:o?Ioe:xoe,children:f.jsx(Noe,{preset:e,width:t,height:a,onClick:s,dataCy:l})}),!n&&f.jsx("div",{className:koe,children:f.jsx(_oe,{preset:e,isBrandkit:u,isLastUsed:p})}),u&&f.jsx("div",{className:Aoe,onClick:s,children:f.jsx(Hw,{message:"Added to your teams Brand Kit",wrapWithDiv:!0,children:f.jsx(st,{className:Toe})})})]}),e.title&&!r?f.jsx(mse,{value:e.title,onChange:n?void 0:m}):f.jsx("div",{className:Eoe})]})})),Poe="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAQEBAQEBAQEBAQGBgUGBggHBwcHCAwJCQkJCQwTDA4MDA4MExEUEA8QFBEeFxUVFx4iHRsdIiolJSo0MjRERFwBBAQEBAQEBAQEBAYGBQYGCAcHBwcIDAkJCQkJDBMMDgwMDgwTERQQDxAUER4XFRUXHiIdGx0iKiUlKjQyNEREXP/CABEIAHgAeAMBIgACEQEDEQH/xAAdAAEAAgMBAQEBAAAAAAAAAAAABwgFBgkEAgMB/9oACAEBAAAAAKhgAAAAAsfcKp1bfCAHTiic8WQjGp8VfwW1sDAuq5rCIAky2uy8xx1+ppdvy1BsJOHHvSbAzDR0dt/tzMv/AEB6Tch9J6W0I0kdt/tznmys/ULlH4L4cwg7b/b8oEl/YeXF0qn1qAAAbz4Mj4chtuegSQdN/bXRarf463PWtuhO0Fa5CwVWhfCrGUxuZZyI54iy6fOMAAAAB//EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIQAAAAAAAAAAAAAAD/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oACAEDEAAAAAAAAAAAAAAA/8QALhAAAgIDAAEBBgUEAwAAAAAABQYDBAECBwgAEBITFBggFRY1N1QRIjBQQEFT/9oACAEBAAEMAP8ASeMaRo1P+pS9VxKNcfHbmrhmazoMyKvOXio+gfiWVyaA9UJCyYa5IPLjrVG5/j8dFeBF5ThhJR4isl+otm7wecQJ24PnTPLpgofAqOwaInCNf+L9jpaDL8g27I4+Iy4RxJcSDMoyVx4r0VI+JKVATS0s4zrnONsZxn7EPxaZbZkbadc1Y1/6UuT/APiW9Onig1xn7n5IzUlC/Sp1n+MK9Z8eO95qfIZLaZp/Sp1n+MK9fSp1n+MK9FxdsCYKBrvu4uJ3cujpedI6J2S3TRfK9eOT0xjOHnH3e6c+5jXTTzYWXoILv2NzNdTeW3GcdBDLb+r7oH/S+C9c3aLjgirjMQhhht9I6gscxE6ED02+9i95jNG97bcYpCoqPLPIRW6Ra0DT19xJz10v9x+gezxrTMtfSaF6eH3qHl64e5leRasn2hP0YR7en7kOkd+srl2ztFEJ5RzcQKiD1EsRJV7olwcn6IOIKeflKoArgqCEE/7s56X+4/QPZ4wqEStzrdjv6aw2ejNm7u7sbPnOfhfYE/RhHt8g1E1z7p2j4K03xUD+XSfKG+MZDXoCpC60eRPTIcwU9o4aNSIdRp0Yv6YjOKJl47I7roGOPe/Q5S44cQioaA3KUvkEx1kDkkoAZnSKf7Qn6MI9pkUKOUJhZkfBdp2/FzlEtrSzpQuwaKSIpotHNFZDw04vX54k513hsbI6Gt30n+R/L2/5eIjewEI+T7vC0PcYcdb0nG/8Ra5o9uFTe+trNy7VnSWmoy1VC6FsVzdLmjmR3YIqIfaeYSjsxsKWY6I3ORKzzB9cam19cWbdynzJSvieyKK43A9oZHzhvSJmtlvBkyfYZGOvy39RelKfN8pxrpoYZKXIqF2KnGuGJF6dp0p7ZELaoebrVqkv0Nrc/wBnf2AstbpaSvXpxwQdaKGQPjmdb8Y2ZFidqi8ji2irppvL5M6T0FhdppUI/RD8hCRkFBz4Yp3LddGTj+WARxBzaLUeSL+TfFjr5+ETcLQEfk6cfcyV3FEdo08sfXeDrAzUsVvSStS5jfnPaQq7W97XxcGXpTjmW1qyZo/Z1XvbOgFwIdZgCWqpDrDqXcQ7uXI6XSI/tLYJw3yi6YqreWOqsayuHFH5YeVBIPdug87H4EB7te0M6F3Fx6UOpDD1YZDEK8mOpigeAul+lYzlvZ8sm7f+N2vx6r5Z9SrwQwyQA7O4/rLqHcDDsHI60iJbozgogDx3pjEvZm/0H//EAD4QAAIBAwIDAwkCDQUAAAAAAAECAwAEEQUSEyIxIUFRBhAUICNhcXSyFlAHFSQwMjM0NUBCU2K0cnOS0tP/2gAIAQEADT8A+5NEhN1JvTKGduWJKc/tOnkR5PUkp2qaHdFiC5A6nkc4NR4L291C8Mq7hkZRwCMj85q6tqs7sNrC2A9gpPht5x/qq+vGlHAcorxKcRrJGSVYAdxoYDXdniG4wB1KHkcmiDiy1OIJPGxTLGLfggjpvSm5ltbsme2+CuOdRS9Ly09vDgnaMlemfA0Dgg+q8JmkFrc5nk3JyKK+dpsNALu62zJ7jXztcIQ8A6u/C4YGNmyvna+drTrye0m2NlRLA5Rtp7xkUOttfZnSp5I4UktgZ4XkkbaKtYPYy2n5O0kxOEQ7PFj6thpVtLGkwJjYnYvNtINf7c//AKVqFsZZI4QRGpDlezcSan3C0soBmadh9KjvY1kYjuHmlm/5oUFOCY7WZw8c+P6UmB5vtJqv+U/m0MfjCYlSV4y9kC+47ucUQdSvPoiHq+hQfQPOdbi0SEg7hBbpIIyyBj8WpY9jtcWkU803vkkkBZjVwqahZIrluBLG3MB/ZV1ZxTEnxdQa+0mq/wCU/m1pzeSSuApW0jGIxu70xz1eXbejAjaRbR8kII8dgGfV9Cg+gee/vo9TtbrG5I71GEjI1JGM20ADxyOB3PTskYRO1LOyU9rMat4UiXAx2IMVP5Qa28ayvsBEM8jmr28jhLuhCbCcsVcZXO0VqcSaPaouBiAriY48NnL63oUH0Dzy44kFwgkRseINdWgS7kKNTYMjjmlkI6b3Pa3mtfKPW0aAvs3pNNJGcNXdHqYCRB/FJ/0K0SAQI0T743nl55W/hUYqZkACEjuBYjNXEscMVrKNrO0vYuD0INaIWF/EjoZItoyTtzkitMB9LupGWOOMgZIy3U0CV46gLGSPAsRmjfbZ7S7jBDKY2PwIqS/ne24GwLwS2RgUZuALbhni8XONm3ruz3VEhklfCtsUd5Ck1DerYvcZGBOybwmPhVvbPcyqpA2xJ1bt9W00K0uBbW7lA8zZ53qXysiS3nn7LufTiWKyOD2lTUuqzpeJLngmzz7XfUtzK076YQUfUd5yJTHQ0Czl02SAlIppeu5mHV9m01ZeU91pj38362SER4QSOfe1HWZDYRRGTdKJnxGIk/nD19gI7wQRkfvksQ+3vLiOtRvza6nbXbNiQHIKOjdMVon4QHvHtIeeSOzSLZv2jt2CoPJ26hefB2CWTGEz6p0WznMlxE8ziQjBGY5FrS7lJ7OKVMW0Wx94QRoV5a8o3c3l/HA/pKB+qQszkKtarkz2epxPMiserRlHQqxODnuIyKUu0VpfxGWOEuckxlSjCrWfjxPZQyxPv+LyPSRGOK+ubffdxDoMHIUkeLA005nN9v8Aa7/+uOzb0x2Ui4M01rJvf3tslUVqty097DEmbWXe+8oY3LdlT6bLa6XoWkHJmuH6yu+ZD9w//8QAFBEBAAAAAAAAAAAAAAAAAAAAYP/aAAgBAgEBPwAB/8QAFBEBAAAAAAAAAAAAAAAAAAAAYP/aAAgBAwEBPwAB/9k=",Foe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAAFACAMAAAD6TlWYAAAB8lBMVEUFoIH////9/v7x+fjl9fLY8OvN7OW65NyX18pyybhOu6YqrpMHoYLz+vm55Nt8zb0/tp4LooT2+/qt4NVXv6oNo4Wl3dJGuKLQ7edfwq4JoYPj9PF0yrnd8u5WvqrC5+A1spn8/f2D0MAIoYLL6+QrrpT1+/poxbKT1si45NsSpYfV7+ogqo7b8e0fqo7a8eweqY3Z8OwdqY2p3tR+zr4TpYgwsJZTvah5zLuh29De8u7+/v5PvKYjq5BnxbK95t3o9vMYp4rq9/QOo4Xn9vNdwa2S1cju+PaV1skXp4rA59/6/fyZ2Muw4ddsx7X7/f08tZ2u4NaAzr8kq5Cr39WQ1MfO7OYQpIYhqo/p9vSy4di/5t74/PsRpIc2spnE6OEmrJH3/PvK6uQ4s5sKooMxsJdRvae149mb2cxvyLaO1MZ4y7uBz7+J0sOI0cOG0cJ2y7rJ6uPv+fdHuaIprZNawKv5/Pw7tJyE0MFIuaMPpIbt+PbD6OA6tJzc8e11yrlMu6UsrpTw+fdbwKwVpokWpokur5V3y7rS7uiz4thEuKF9zb17zbzs9/Wg28/y+vhmxLGb2c2H0cKK0sSW18qi29Bhw69Bt59gwq5uyLbr9/VDt6DP7edJuqPf8++249pLuqR/zr4nrZKe2s5pxrMzsZgQPDzOAAADa0lEQVR4Ae3cg7ptNxuA0XzHtm3btm1bP2vbtu32Pvugnll756zUHeMS3ukZJAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOD3QvwqunTt1r1Hz169+/TtJ2Cd/gMGDhosYJ0hQ4cNF7BO/xEjBaw0avQYAeuMHTdYwDrjJwhYaeIkAetMnjJVwDrTpgtYZ8ZMASvN6idgndlzBKwzd56AdeYvELDOwkUC1lm8RMA6PYYLWGepgJWW/TMCppvWb/m8FStXrV4TnVi7TsAOrd+wsUt0ZNNmATsxb9mW6MBQATu1tfe2aG27gJ2bs2NytLJzs4AFJo2PVnYJWGL3nmhhb18BS0zdFy3sF7DMgYORd0jAMsPWRtZhAQsdiazJRwUsdCyyjgtYaOuJyOl6UsBCp05HzmgBS22PnDMCFjsbGefOC1hqxdrI2C5gscORcUzAYhciY5uA5S5GxiUBi82se5ERcPnlaNonYLme0XRFwHKrommLgOWuRsZJAYtdmxxN1wUsNz+abghY7l/RtEHAcv+Opv8IWO6/0fQ/Acv9P5qOCFhuYDTdImC5W6PpNgHL7Yqm2wUsN8JrTJ07ommYgOXujKa7BCy2JDLuFrDYPdF0bz8Bq77k5iYBi62pmq0v4H2Rcb+AxXpFxgMClnrwoWi6d6uApcZFxsNJwEKDu0XGFAFL3R45jwhYaF7/yHg0CVjocORMEbDQY5HVV8Ayj3eJnCtJwCJPPBlZTwlY5On5kTW+n4AlnrkYeQdSAQGffTTyTg8XsECfrlFxAgr4XJdo4fl+AnZq/QvR0otJwE5sfWlG+xvHCDjn5S3R2itLBOzQi6++Fh1ZmVoRsF/f10dsi469kb4n4KQ3f/TW2++cmXtvdKr7VgF/8G7ctIfuThUEvPe9VEPA91MNAVelGgI+lioIuPaDVEHAgxtSBQE//ChVEPDj9amCgO9sTe0TcNuNVEHAEc+k9gn48SepfQJ+Ojq1T8CFH1xL7RJw7Wefp7YJeOKLL1ObBJxxtvf61B4BT3/19Tf9UtsEfCcVEFBAAQUUUEABBRRQQAEFFFBAAQUUUEABBRRQwAoCFhJQQAEFFFBAAQUUUEABBRRQQAEFFFBAAQUUUEABAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAL4FwSegPJGNcQIAAAAASUVORK5CYII=",Doe=["vodka","kicking","demon","Guido"],Ooe=it.filter((e=>!Doe.includes(e)));Ooe.push("boob","boobs","breast","breasts","butt","butts","seggs","kill","guns","foreplay","prostitution","mary jane","doobie","joint","spliff","shoot","drug","304","blood","nude","big bobs");const Uoe=new Set(Ooe),Boe=e=>e.video.small,Woe=e=>{if(!e)return!1;if(Uoe.has(e))return!0;const t=e.split(" ");for(const a of t)if(Uoe.has(a))return!0;return!1},Voe=(e,t,a)=>{if("PEXELS"===t){const t=e;return{name:t.name||a,smallUrl:t.images.small,largeUrl:t.images.large,downloadUrl:t.images.download,type:"PEXELS",attribution:{providerUrl:"//pexels.com",altText:"Pexels Logo",logoSrc:Foe,attributionUrl:t.attribution.url,attributionName:t.attribution.name},dimensions:t.dimensions,images:t.images,isPremiumAsset:!1,searchResult:e}}if("PIXABAY"===t){const t=e;return{name:a,smallUrl:t.images.small,largeUrl:t.images.large,downloadUrl:t.images.download,type:"PIXABAY",attribution:{providerUrl:"//pixabay.com",altText:"Pixabay Logo",logoSrc:Poe,attributionUrl:t.attribution.url,attributionName:t.attribution.name},dimensions:t.dimensions,images:t.images,isPremiumAsset:!1,searchResult:e}}const n=e;return{name:n.name||a,smallUrl:n.url,largeUrl:n.url,downloadUrl:n.url,type:"BING",dimensions:n.dimensions,isPremiumAsset:!0,searchResult:e}},Hoe=async({query:e,pageNumber:t,royaltyFree:a})=>Kf("/api/v1/images/search",{params:{query:e,pageNumber:t,royaltyFree:a,bingPuppeteerEnabled:Zu(Ru.BING_IMAGES_PUPPETEER)}}),zoe=async({query:e,source:t,pageNumber:a})=>Kf("/api/v1/videos/search",{params:{query:e,pageNumber:a,source:t}});function Goe(e){return"video"in e}class Yoe{constructor(e){a(this,"index",0),this.items=e}pop(){if(this.index<this.items.length)return c.cloneDeep(this.items[this.index++])}}function Koe({pexels:e,pixabay:t,bing:a,isFreeUser:n}){const s=[],o=[],i=e.length+t.length+a.length,r=new Yoe(e),l=new Yoe(t),d=new Yoe(a);if(n){const a=Math.min(2,e.length+t.length);for(;o.length<a;){const e=r.pop();if(e)o.push(e);else{const e=l.pop();e&&o.push(e)}}}function c(e){const t=e.pop(),a=e.pop();t&&s.push(t),a&&s.push(a)}for(;o.length+s.length<i;)c(r),c(l),c(d);return[...o,...s.map((e=>({...e,isPremiumAsset:!0})))]}const Xoe={QUERY:"SIDEBAR_SEARCH_QUERY",RESULTS:{VIDEO:"SIDEBAR_VIDEO_RESULTS_V2",IMAGE:"SIDEBAR_IMAGE_RESULTS",QUERY:{VIDEO:"SIDEBAR_VIDEO_QUERY",IMAGE:"SIDEBAR_IMAGE_QUERY"}}};function Zoe({images:e,videos:t,nColumns:a}){const n=Array.from({length:a},(()=>0)),s=Array.from({length:a},(()=>[]));function o(e){var t,a,o;const i=Goe(e)?e.dimensions.height/e.dimensions.width:((null==(t=e.dimensions)?void 0:t.height)??1)/((null==(a=e.dimensions)?void 0:a.width)??1);let r=0;for(let s=1;s<n.length;s++){const e=n[r],t=n[s];if(void 0===t||void 0===e)throw new Error("columnHeight is undefined");t<e&&(r=s)}n[r]+=i,null==(o=s[r])||o.push(e)}const i=Math.max(e.length,t.length);for(let r=0;r<i;r++){const a=e[r],n=t[r];a&&o(a),n&&o(n)}return s}function qoe(e,t){return e.filter((e=>!Goe(e)||!t.has(Boe(e))))}const Joe={memeMaker:"meme"},$oe=()=>Ev.remove(Xoe.QUERY),Qoe=()=>{const e=Ev.get(Xoe.RESULTS.IMAGE,{disabled:null});return e?Ev.get(Xoe.RESULTS.QUERY.IMAGE,{disabled:null})!==Ev.get(Xoe.QUERY,{disabled:null})?[]:e:[]},eie=()=>{const e=Mu().state.toolTip;return Object.keys(Joe).includes(e)&&xZ(e)?Joe[e]||"":Ev.get(Xoe.QUERY,{disabled:""})||""},tie=()=>{const e=Ev.get(Xoe.RESULTS.VIDEO,{disabled:null});return e?Ev.get(Xoe.RESULTS.QUERY.VIDEO,{disabled:null})!==Ev.get(Xoe.QUERY,{disabled:null})?[]:e:[]},aie=new Map;function nie(e){return function(e){return Xf("/api/v1/assets/createFromLinkBulk",{body:{links:e},retries:5})}(e.map((({url:e,options:t})=>{var a;const{layerProperties:n={}}=t;let s=n.name;!s&&"emojiDescription"in n&&n.emojiDescription&&(s=n.emojiDescription);const o={fileName:s,skipCML:t.skipCML,usedProFeature:null==(a=n.usedProFeatures)?void 0:a[0],url:e,video_id:void 0,conversion_id:void 0},i={};t.thumbnailUrl&&(i.thumbnailUrl=t.thumbnailUrl);return{linkInfo:o,extract_info:i}})))}const sie=async(e,t,a,n)=>{var s,o,i,r,l,d;const{id:c}=L4(),u=e.asset,p=e.cmlFile,m=u.status!==td.uploaded,h={id:c,asset_id:u._id,source:m?"pastedLink":"upload",duration:u.duration,isMediaLibraryUpload:a.isMediaLibraryUpload,...a.layerProperties};if(m&&(h.uploadId=g(),h.uploadPending=!0,u.lowerQualityPreviewUrl&&(h.lowerQualityPreviewUrl=u.lowerQualityPreviewUrl)),p&&(h.cmlFileId=p._id),n&&n.cancelled)return;const v=await Y9(u,h);if(!v)throw console.error("Failed to create layer from asset",u),Error(`Could not create layer from asset ${u._id}`);Object.assign(v,vJ(v)),_9(u,p,v.uploadId??void 0);let f=!1;if(!a.skipGetMediaInfo&&(v.type===Nc.Audio||v.type===Nc.Video))try{const e=a.mediaInfo||await UC({actionDescription:"getMediaInfo",timeoutMs:1e4,promise:hI(t,{name:t},XC.HIGH)});e&&"hasAudio"in e&&(f=e.hasAudio)}catch(w){console.error(w)}const b={selectLayerInCreator:!0,singleFileUpload:!0,knownTimelineRow:void 0!==(null==(s=a.layerProperties)?void 0:s.timelineRow),skipStudioAddLayer:a.skipStudioAddLayer,useCustomVideoDelay:a.useCustomVideoDelay,droppedTrackInfo:a.droppedTrackInfo},y={...v};if(a.propertiesAfterTypeDetermined){const e=a.propertiesAfterTypeDetermined(y);if(!e)return null;Object.assign(y,e)}if(!a.isMediaLibraryUpload&&f&&c9({assetId:u._id,source:(null==(i=null==(o=null==a?void 0:a.layerProperties)?void 0:o.addedLayerFrom)?void 0:i.source)||(null==(r=null==a?void 0:a.layerProperties)?void 0:r.assetSource)||"Url Add"}),Mu().dispatch(ck({id:v.id,type:"layer"})),a.replaceInfo){const e=Mu().state.studio.allLayers.byId[a.replaceInfo.idOfLayerToReplace];e&&(b.replaceInfo={layerToReplace:e,mediaSource:a.replaceInfo.mediaSource,entryPoint:a.replaceInfo.entryPoint})}return a.isMediaLibraryUpload||rv(v.type,(null==(d=null==(l=a.layerProperties)?void 0:l.addedLayerFrom)?void 0:d.source)||a.pluginId||void 0),F4(y,b),y},oie=async({url:e,options:t={},cancellationSource:a})=>{if(!e)return null;aie.has(e)||aie.set(e,function(e,t){var a;const{layerProperties:n={}}=t,s={};n.name?s.fileName=n.name:"emojiDescription"in n&&n.emojiDescription&&(s.fileName=n.emojiDescription),t.skipCML&&(s.skipCML=!0);const o=null==(a=n.usedProFeatures)?void 0:a[0];o&&(s.usedProFeature=o);const i={};return t.thumbnailUrl&&(i.thumbnailUrl=t.thumbnailUrl),f2(e,s,i)}(e,t));const n=aie.get(e);if(!n)throw new Error("Pending request not found");const s=await n;return await sie(s,e,t,a)},iie=async(e,t)=>{const{state:a,dispatch:n}=Mu();a.assets.byId[e._id]||n(YE([e]));const{layerProperties:s,replaceInfo:o,skipCML:i,skipStudioAddLayer:r,useCustomVideoDelay:l}=t,d=await Y9(e,{...s,asset_id:e._id});if(d){if(void 0!==l?d.type===Nc.Image?(d.startTime=l,d.endTime=l+2):d.videoDelay=l:iJ(d),t.propertiesAfterTypeDetermined){const e=t.propertiesAfterTypeDetermined(d);if(!e)return null;Object.assign(d,e)}if(o){const e=a.studio.allLayers.byId[o.idOfLayerToReplace];d&&e&&bJ({newLayer:d,replacedLayer:e,addLayerOptions:{undoable:!0},entryPoint:o.entryPoint,mediaSource:o.mediaSource})}else r||fJ(d,{undoable:!0});try{const t=a.studio._id;Xf("/api/v1/assets/addAssetForUserVideo",{body:{assetId:e._id,videoId:t,fileName:e.name,skipCML:i}}).then((e=>{if(e.cmlFile){const{thisProjectCMLFiles:s}=a.studio,o=e.cmlFile,i={cmlFileId:o._id};n(QA({[d.id]:i},"addLayerFromExternalAsset",!1)),n(VH([o])),n(WH([o._id])),!(null==s?void 0:s[o._id])&&t&&n(g9(o,t)),o.duplicate&&n(YH({id:o._id,modified:new Date(o.modified)}))}}))}catch(c){console.error("Error adding asset to user video",c)}return d}console.error("Failed to create layer from asset",e)},rie=e=>{const{state:t,dispatch:a}=Mu(),n=w_(),s=t.studio.background||"#ffffff",o=fq();let i="#ffffff";["#fff","#ffffff","white",KN].includes(s.toLowerCase())&&(i="#000000");let r={id:fe(12),type:Nc.Shape,shapeType:e,background:i,stroke:KN,position:o,lineCap:["line","arrow"].includes(e)?"round":"butt",globalAlpha:1};const l="svg"===e?"0.1%":"0.3%";r.lineWidth=["line","arrow"].includes(e)?"0.6%":l,["line","arrow"].includes(e)&&(r={...r,position:o,lineRightAngle:"horizontal",linePointStartCorner:"topLeft",stroke:"#000000"}),"arrow"===e&&(r={...r,lineArrow:"open"}),["rectangle","ellipse","svg"].includes(e)&&(r.position=QR(r.position)),fJ(r,{undoable:!0}),a(ck({id:r.id,type:"layer"})),n&&mR()};async function lie({emoji:e,isMediaLibraryUpload:t,cancellationSource:a}){const n=(e=>{var t,a,n,s;let o=null==(n=null==(a=null==(t=null==e?void 0:e.blob_name)?void 0:t.split("/"))?void 0:a.pop())?void 0:n.split("-");return(null==o?void 0:o.length)&&["drink","places"].includes(o[0]||"")&&(o=o.slice(1)),`Emoji ${null==(s=null==o?void 0:o.join(" "))?void 0:s.split(".")[0]}`})(e),s=`https://cdn-useast1.kapwing.com/${e.blob_name}`,o={emojiDescription:n,isMediaLibraryUpload:t,library:"emoji",lockAspectRatio:!0,mime:"image/png",position:QR(fq())},i=e.emoji_asset;i?iie(i,{layerProperties:o}):await oie({url:s,options:{layerProperties:o,mediaInfo:{height:120,type:Nc.Image,width:120}},cancellationSource:a}),ov("Added Emoji Element",{emoji:n})}const die="/api/v2/presets/textTemplates";let cie=0;const uie=async e=>{const{dispatch:t}=Mu(),a=Date.now();if(a-cie<1e4)return;cie=a;const n=await(async e=>{const t=`${die}/${e}`,{templates:a}=await Kf(t);return a})(e);n&&t($V({brandkitTemplates:n}))},pie=async()=>{const{dispatch:e,state:t}=Mu(),{templates:a}=t.textTemplates,n=(e=>{const t=[],{state:a}=Mu();return e.forEach((({layers:e})=>{e.forEach((e=>{if(e.asset_id){const n=HC(e,a);(null==n?void 0:n.url)&&!ac(n.url,144e5)||t.push(e.asset_id)}}))})),t})(a);if(n.length)try{const t=await _2(n,w2.textTemplates);e(YE(t))}catch(s){console.error("refreshSubtitlePresetFontAssetUrls err",s)}},mie=async(e,t)=>{const{dispatch:a,state:n}=Mu();try{const s={...e,teamId:n.teams.selectedTeamId,timestampCreated:Date.now()};a(aH({template:s,index:t})),await(async e=>{await Xf(die,{body:{template:e}})})(s);a(db({description:"Your text style is now accessible to everyone on your team!",type:"success"})),m2("add","textTemplate")}catch(b9e){cb({description:"Failed to save text style.",error:b9e})}},gie=async e=>{try{await(async e=>{await Zf(die,{body:{template:e}})})(e)}catch(b9e){cb({description:"Failed to update text style.",error:b9e})}},hie=async e=>{const{dispatch:t,state:a}=Mu(),n=a.teams.selectedTeamId;if(n)try{t(sH({templateId:e})),await(async(e,t)=>{const a=`${die}/${e}/${t}`;await Yf(a)})(n,e),m2("remove","textTemplate")}catch(b9e){cb({description:"Failed to remove text style.",error:b9e})}},vie=(e,t={})=>{var a;const{state:n}=Mu(),{ratio:s}=n.studio,{duration:o}=n.studio,i=(null==(a=e.ratio)?void 0:a.join(":"))||"16:9",r=s!==i;return e.layers.map((a=>{const n=fe(12),{type:i}=a;let{position:l}=a;if(r&&l){const t=+s.split(":")[0],a=+s.split(":")[1],n={width:t/Math.min(t,a),height:a/Math.min(t,a)},o=e.ratio||[16,9],i=o[0]/o[1],r=Vq({xPct:hq(l.x),yPct:hq(l.y),widthPct:hq(l.width),heightPct:hq(l.height)},{width:i,height:1},n,{left:!1,top:!1});l={...l,x:gq(r.xPct),y:gq(r.yPct),width:gq(r.widthPct),height:gq(r.heightPct)}}const d={...a,position:l,id:n,type:i,fromTextDefaults:e.templateId};if(o&&(iJ(d),t.startTime)){const e=(d.endTime||0)-(d.startTime||0)||t.duration||0;d.duration=e,d.startTime=t.startTime,d.endTime=t.startTime+e}return d}))},fie={},bie=async({template:e,overrides:t={},undoable:a=!0,droppedTrackInfo:n})=>{var s;u3();const{state:o,dispatch:i}=Mu(),{ratio:r}=o.studio,{duration:l}=o.studio,d=r!==((null==(s=e.ratio)?void 0:s.join(":"))||"16:9"),c=vie(e,t);if(PU.beginBatch(),1===c.length){const t=c[0],s=e.layers[0];if(fJ(t,{undoable:a,droppedTrackInfo:n}),d&&((e,t=!0)=>{const{state:a}=Mu(),{byId:n}=a.studio.allLayers,s=n[e];if(!s)return;let{position:o}=s;if(o){let e=50-hq(o.width)/2,a=50-hq(o.height)/2,n=hq(o.width),i=hq(o.height);n>100&&(n=100,i=hq(o.height)*n/hq(o.width),e=0,a=50-i/2),i>100&&(i=100,n=hq(o.width)*i/hq(o.height),e=0,a=50-n/2),o={...o,x:gq(e),y:gq(a),width:gq(n),height:gq(i)},uk({[s.id]:{position:o}},"layers.ts",t)}})(t.id,a),s.animation&&l){const e=_T(s.animation.animationName);e.transitionDuration=s.animation.transitionDuration,$J(t.id,e)}}else{const s=g(),o=(()=>{const e=window,t=document,a=t.documentElement,n=t.body;return(e.innerWidth||a.clientWidth||n.clientWidth)<=768})();for(let t=0;t<c.length;t+=1){const s=c[t];tp(s)&&s.url?(await oie({url:s.url,options:{layerProperties:s,skipCML:!0}}),i(ck(null))):fJ(s,{undoable:a,isReplacing:!0,droppedTrackInfo:n});const o=e.layers[t];if(o.animation&&l){const e=_T(o.animation.animationName);e.transitionDuration=o.animation.transitionDuration,$J(s.id,e)}}a1(c.map((e=>e.id)),s,a),i(ik(s,!1,a));const r={x:50,y:50};if(t.position){const{x:e,y:a,width:n,height:s}=t.position,o=hq(e),i=hq(a),l=hq(n),d=hq(s);r.x=o+l/2,r.y=i+d/2}((e,t=!0,a={x:50,y:50})=>{const{state:n}=Mu(),s=n.studio.groups[e];if(!s)return;const o=s.layers.map((e=>e.id)),i=Gx(n).filter((e=>o.includes(e.id))),r={width:n.studio.width||0,height:n.studio.height||0};let l=null;const d=Uq(i,0);if(d.width>r.width){const a=r.width-d.width;if(l={width:r.width,height:d.height*r.width/d.width,x:d.x-a/2,y:d.y-a/2},l.height>r.height){const e=r.height-l.height;l={width:l.width*r.height/l.height,height:r.height,x:l.x-e/2,y:l.y-e/2}}_1(e,{initialPosition:d,currentPosition:l,transformerNode:"topLeft"},t)}const c=l?{x:l.x+l.width/2,y:l.y+l.height/2}:Sq(i),u=WR(a.x,a.y),p=u.x-c.x,m=u.y-c.y;_1(e,{xDiff:p,yDiff:m},t)})(s,a,r),i(ik(s,!0,a)),o&&(i(ik(s,!1,a)),i(ck(null)))}PU.endBatch();const u=!!zV.find((t=>t.templateId===e.templateId)),p=!!e.teamId;ov("Added Text Template",{templateId:e.templateId,isDefaulTemplate:u,isBrandkitTemplate:p,dndTimeline:void 0!==t.timelineRow,dndCanvas:void 0!==t.position})};function yie(){const e=D2(),t=Du((e=>e.teams.selectedTeamId)),{brandkitTemplates:a,templates:n}=Du((e=>e.textTemplates)),[s,o]=i.useState(!1);if(i.useEffect((()=>{uie(t)}),[t]),i.useEffect((()=>{!async function(){await pie(),e.current&&o(!0)}()}),[e]),!s)return{templates:[],brandkitTemplates:[]};const r=new Set(a.map((e=>e.templateId))),l=n.filter((e=>e&&e.templateId&&!r.has(e.templateId)));return{templates:KV(l),brandkitTemplates:a}}const wie="MoreOptions-module_optionTextStyle_C72Ug",_ie=f.jsx(nt,{color:"gray",size:14}),Cie=b.memo((({template:e,isBrandkit:t})=>{const a=Bu(),n=gg(Fd.TEXT_PRESETS),s=rse(),o=i.useCallback((()=>{const a=()=>{t?hie(e.templateId):mie(e)};if(n)a();else{s(a,{action:Dd.TEXT_PRESETS})()}}),[n,t,s,e]),r=i.useCallback((async()=>{const o=async()=>{a(tH({templateId:e.templateId,undoable:!t})),t&&await hie(e.templateId)};if(n||!t)await o();else{s(o,{action:Dd.TEXT_PRESETS})()}}),[a,n,t,s,e.templateId]),l=!t||n,d=i.useMemo((()=>{const e=[];return e.push(f.jsxs("div",{className:wie,onClick:o,children:[f.jsx("span",{style:{marginRight:4},children:t?"Remove from Brand Kit":"Add to Brand Kit"}),!n&&f.jsx(_se,{})]})),l&&e.push(f.jsx("div",{className:wie,onClick:r,children:"Remove template"})),e}),[l,n,t,r,o]);return f.jsx(yse,{content:_ie,options:d})})),Sie="CanvasPreview-module_container_dNjDD",xie="CanvasPreview-module_absolute_GofF1",Iie="CanvasPreview-module_canvas_BHkkn";const Aie=(e,t,a=0,n=0)=>{const{relative:s=0}=e||t.borderRadius||{};return a<n?parseFloat(s)/100*a:parseFloat(s)/100*n},kie=(e,t,a,n,s,o,i,r=1)=>{e.save();let l=0,d=a;o>1&&(d=a*o),s&&(l=t,d=a),e.globalAlpha=r||1,i&&(e.globalCompositeOperation=i);const c=e.createLinearGradient(l,0,0,d);for(let u=0;u<n.length;u+=1){const e=n[u];c.addColorStop(e.start,e.color)}e.fillStyle=c,e.fillRect(0,0,t,a),e.restore()},Tie=(e,t)=>{const{width:a,height:n}=t.canvas;e.background&&kie(t,a,n,e.background,e.backgroundAngle,e.backgroundGradientEnd)},Eie=(e,t)=>{const{width:a,height:n}=t.canvas;e.foreground&&kie(t,a,n,e.foreground,e.foregroundAngle,e.foregroundGradientEnd)},Lie=(e,t,a,n,s)=>{const{width:o,height:i}=t.canvas;e.background&&kie(t,o,i,e.background,e.backgroundAngle,e.backgroundGradientEnd),t.globalCompositeOperation=e.backgroundBlendMode,t.filter=e.styles,t.save(),t.globalAlpha=e.opacity,n&&s?t.drawImage(a,0,0,n,s,0,0,o,i):t.drawImage(a,0,0,o,i),t.restore(),e.foreground&&kie(t,o,i,e.foreground,e.foregroundAngle,e.foregroundGradientEnd,e.foregroundBlendMode,e.foregroundOpacity)},jie=new EventTarget,Rie=new Map,Nie={insert:e=>({_id:e,_count:0,ref:null,setRef(e){!e&&this.ref||(this.ref=e,jie.dispatchEvent(new Event("update")))}})},Mie=e=>Km(Rie,e,Nie),Pie=e=>{Rie.has(e)&&(Rie.get(e)._count+=1)},Fie=e=>{if(Rie.has(e)){const t=Rie.get(e)._count;Rie.get(e)._count=Math.max(0,t-1)}},Die=e=>{setTimeout((()=>{Rie.has(e)&&0===Rie.get(e)._count&&Rie.delete(e)}),0)};function Oie(e){const[t,a]=i.useState(Mie(e));if(i.useEffect((()=>(Pie(t._id),()=>{var e;Fie(t._id),0===(null==(e=Rie.get(t._id))?void 0:e._count)&&Die(t._id)})),[t]),t._id!==e){a(Mie(e))}return Rie.get(t._id)??t}class Uie{constructor(){a(this,"state")}get(e){if(this.state){if(this.state._id===e)return Rie.get(e)??this.state;this.delete()}return this.state=Mie(e),Pie(e),Rie.get(e)??this.state}delete(){var e;this.state&&(Fie(this.state._id),0===(null==(e=Rie.get(this.state._id))?void 0:e._count)&&Die(this.state._id))}}const Bie=(e,t,a,n,s,o,i,r,l)=>{e.beginPath(),r&&(e.lineWidth=r,e.strokeStyle=l);const d=o-a/2,c=i-n/2;e.moveTo(d+s,c),e.lineTo(d+a-s,c),s&&e.arcTo(d+a,c,d+a,c+s,s),e.lineTo(d+a,c+n-s),s&&e.arcTo(d+a,c+n,d+a-s,c+n,s),e.lineTo(d+s,c+n),s&&e.arcTo(d,c+n,d,c+n-s,s),e.lineTo(d,c+s),s&&e.arcTo(d,c,d+s,c,s),((e,t)=>{const a=t.imageShadowDist||0,n=(t.imageShadowRot||0)*Math.PI/180,s=100*a*Math.cos(n),o=100*a*Math.sin(n);e.shadowOffsetX=s,e.shadowOffsetY=o;const i=vM(t.imageEffectColor,t.imageShadowOpacity);i&&(e.shadowColor=i),t.imageShadowBlur&&(e.shadowBlur=50*t.imageShadowBlur)})(e,t),e.fill(),e.closePath(),r&&e.stroke()},Wie=c.memoize((e=>{const t=document.createElement("canvas");t.width=1,t.height=1;const a=t.getContext("2d");try{return null==a||a.drawImage(e,0,0,1,1),null==a||a.getImageData(0,0,1,1),!1}catch(b9e){return!!b9e&&("object"==typeof b9e&&("code"in b9e&&18===b9e.code))}})),Vie=b.memo((({layer:e,type:t,setElement:a,setRedraw:n})=>{var s,o;const r=rY(),l=Du((e=>e.studio)),d=Du((t=>HC(e,t,{personaLayerHandling:"video"}))),c=Du((e=>e.studioSizing)),u=function(e){var t;const a=Oie(e),[n,s]=i.useState(a.ref);return i.useEffect((()=>{const t=()=>{var t;s((null==(t=Rie.get(e))?void 0:t.ref)??a.ref)};return t(),jie.addEventListener("update",t),()=>{jie.removeEventListener("update",t)}}),[a,e]),(null==(t=Rie.get(e))?void 0:t.ref)??n}(up(e)?jp(e).id:e.id),p=(e=>{const t=i.useMemo((()=>e&&!Wie(e)?e:void 0),[e]),[a,n]=i.useState(t);return i.useEffect((()=>{if(t instanceof HTMLImageElement){const e=()=>{const e=t.complete&&0!==t.naturalWidth;n(e?t:void 0)};return e(),t.addEventListener("load",e),()=>t.removeEventListener("load",e)}if(t instanceof HTMLVideoElement){const e=()=>{n(void 0)};return n(t.error?void 0:t),t.addEventListener("error",e),()=>t.removeEventListener("error",e)}}),[t]),a})(u),m=Du((t=>{var a;return null==(a=jR(t,e.id))?void 0:a.borderRadiusTemp})),g=i.useRef(null),h=i.useRef(null),v=i.useRef(null),b=i.useRef(null),y=e.type===Nc.Image&&(null==d?void 0:d.preview);let w=e.width;p instanceof HTMLVideoElement?w=p.videoWidth:p instanceof HTMLCanvasElement?w=p.width:e.type===Nc.Image&&y&&(null==(s=null==d?void 0:d.preview)?void 0:s.width)&&(w=null==d?void 0:d.preview.width);let _=e.height;p instanceof HTMLVideoElement?_=p.videoHeight:p instanceof HTMLCanvasElement?_=p.height:e.type===Nc.Image&&y&&(null==(o=null==d?void 0:d.preview)?void 0:o.height)&&(_=d.preview.height);const C=i.useCallback((()=>{const t=h.current;if(!t)return;e.presetFilter&&!v.current&&!b.current&&(v.current=document.createElement("canvas"),b.current=document.createElement("canvas"));const n=v.current,s=b.current,o=null==n?void 0:n.getContext("2d"),i=null==s?void 0:s.getContext("2d"),r=n&&s&&o&&i;e.presetFilter&&r?(n.width=t.width,n.height=t.height,s.width=t.width,s.height=t.height,i.clearRect(0,0,t.width,t.height),o.clearRect(0,0,t.width,t.height),i.drawImage(t,0,0,t.width,t.height),o.save(),Lie(e.presetFilter,o,s),o.restore(),i.save(),i.globalCompositeOperation="source-in",i.drawImage(n,0,0,t.width,t.height),i.restore(),a(s)):a(t)}),[e.presetFilter,a]),S=i.useCallback((t=>{var n;const s=null==(n=null==t?void 0:t.canvas)?void 0:n._canvas;if(s){a(s);const t=s.getContext("2d");t&&e.filters&&(t.filter=fM({filters:e.filters,width:l.width,height:l.height,layer:e,supportsSVGBlur:E_})),h.current=s}}),[e,a,l.height,l.width]),x=i.useCallback((function(){try{if(!g.current)return;const e=g.current.getLayer();e&&e.draw()}catch(b9e){console.error(b9e)}C()}),[C]);i.useEffect((()=>{n(x)}),[n,x]);const{x:I,y:A,width:k,height:T,rotation:E,scaleX:L,scaleY:j}=(({flip:e,x:t,y:a,width:n,height:s,rotation:o},i,r)=>{const l=parseFloat(n)/100*i,d=parseFloat(s)/100*r;return{x:parseFloat(t)/100*i+l/2,y:parseFloat(a)/100*r+d/2,width:l,height:d,rotation:o,scaleX:(null==e?void 0:e.x)?-1:1,scaleY:(null==e?void 0:e.y)?-1:1}})(e.position,l.width,l.height),R=((e,t,a,n,s)=>{const o=Uk(e,n).find((t=>!t.isCrossTransition&&t.layerId===e.id&&!!t.movingZoomOptions));if(o&&!o.isCrossTransition){const n=o.movingZoomOptions;if(!n)return;if("from"===t){const t=DG(e,n,s);return OG(a,t)}const i=DG(e,n,s);return OG(a,i)}})(e,t,e.crop||{x:0,y:0,width:100,height:100},l.animations,r),N=(({x:e,y:t,width:a,height:n},s,o,i,r)=>{const l=a/100*s,d=n/100*o,c=i/r;let u,p;return c>=l/d?(u=l,p=l/c):(u=d*c,p=d),{cropX:e/100*s+(l-u)/2,cropY:t/100*o+(d-p)/2,cropWidth:u,cropHeight:p}})(R||e.crop||{x:0,y:0,width:100,height:100},w,_,k,T),M=Aie(m??null,e,k,T),P=e.lineWidth?parseFloat(e.lineWidth)/100*2*l.height:0,F=e.stroke||"#000000",D=i.useCallback((t=>Bie(t,e,k,T,M,I,A,P,F)),[M,T,e,P,F,k,I,A]);return f.jsx("div",{style:{left:c.canvasX,top:c.canvasY,position:"absolute",display:"none"},children:f.jsx(rt,{width:l.width,height:l.height,children:f.jsx(lt,{ref:S,children:p&&f.jsx(dt,{clipFunc:D,children:f.jsx(ct,{ref:g,image:p,offsetX:k/2,offsetY:T/2,x:I,y:A,width:k,height:T,rotation:E,scaleX:L,scaleY:j,...N})})})})})})),Hie=(e,t,a)=>{const n=e.RGBA,s=e.RGBA,o=e.UNSIGNED_BYTE;e.bindTexture(e.TEXTURE_2D,t),e.texImage2D(e.TEXTURE_2D,0,n,s,o,a)},zie=b.memo((({fromLayer:e,toLayer:t,glTransitionName:a=J[0].name,transitionDuration:n=0,params:s={},useZeroPositioning:o=!1,dimensions:r})=>{const l=Du((e=>({width:e.studio.width,height:e.studio.height,canvasX:e.studioSizing.canvasX,canvasY:e.studioSizing.canvasY})),Ou),d=(null==r?void 0:r.width)??l.width??0,c=(null==r?void 0:r.height)??l.height??0,u=rY(),[p,m]=i.useState(null),[g,h]=i.useState(null),[v,b]=i.useState(null),[y,w]=i.useState(null),[_,C]=i.useState(null),[S,x]=i.useState(null),I=i.useRef(null),A=i.useRef(null),k=i.useRef(null);let T=bp(t).start,E=bp(e).end;bL(t)&&(T=bp(e).end-n),bL(e)&&(E=bp(t).start+n);const L=(u-T)/(E-T),j=L>=-.1&&L<=1.1,R=L>=-3&&L<=4,N=i.useCallback((e=>{e&&h(e)}),[]),M=i.useCallback((e=>{e&&b(e)}),[]);i.useEffect((()=>{if(!g||!v||!I.current)return()=>{};try{const e=ut(I.current,g);e.minFilter=I.current.LINEAR,e.magFilter=I.current.LINEAR,w(e);const t=ut(I.current,v);t.minFilter=I.current.LINEAR,t.magFilter=I.current.LINEAR,C(t);const n=lT(a);return x(pt(I.current,n)),()=>{null==e||e.dispose(),null==t||t.dispose(),w(null),C(null)}}catch(b9e){return console.error(b9e),()=>{}}}),[a,g,v]);const P=()=>{if(!(p&&s&&y&&_&&g&&v&&I.current))return;const e=L>=0&&L<=1?L:+(L>1);try{Hie(I.current,y.handle,g),Hie(I.current,_.handle,v),S.draw(e,y,_,p.width,p.height,s)}catch(b9e){console.error(b9e)}};!function(e,t=60){const a=i.useRef(void 0),n=i.useRef(void 0);i.useEffect((()=>{const s=o=>{if(void 0!==n.current){const a=o-n.current;a>=1e3/t&&(e(a),n.current=o)}else n.current=o;a.current=requestAnimationFrame(s)};return a.current=requestAnimationFrame(s),()=>{void 0!==a.current&&cancelAnimationFrame(a.current)}}),[e,t])}((()=>{j?function(){if(A.current&&k.current&&P){try{A.current(),k.current(),P()}catch(b9e){console.error(b9e)}p.style.display="block"}}():p&&"none"!==p.style.display&&(p.style.display="none")}));const F=i.useCallback((e=>{A.current=e}),[]),D=i.useCallback((e=>{k.current=e}),[]);return R?f.jsxs(f.Fragment,{children:[f.jsx(Vie,{layer:e,type:"from",setElement:N,setRedraw:F}),f.jsx(Vie,{layer:t,type:"to",setElement:M,setRedraw:D}),f.jsx("canvas",{ref:e=>{if(!e)return;m(e);const t=e.getContext("webgl")||e.getContext("experimental-webgl");if(!t)return;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!0);const a=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,a),t.bufferData(t.ARRAY_BUFFER,new Float32Array([-1,-1,-1,4,4,-1]),t.STATIC_DRAW),t.viewport(0,0,d,c),I.current=t},width:d,height:c,style:{left:o?0:l.canvasX,top:o?0:l.canvasY,position:"absolute"}})]}):null})),Gie=Object.freeze(Object.defineProperty({__proto__:null,default:zie},Symbol.toStringTag,{value:"Module"})),Yie=e=>{const t=i.useCallback((t=>Kse(t,e||"")),[e]);return Du(t,r.shallowEqual)},Kie=b.memo(i.forwardRef((({style:e,children:t,layer:a},n)=>f.jsx("div",{style:e,"data-cy":"filter-layer-style-wrapper",children:f.jsx("div",{ref:n,className:a.presetFilter?`cssco ${a.presetFilter.className}`:"","data-cy":"filter-style-wrapper",children:t})}))));function Xie(e,t){const{state:a,dispatch:n}=Mu();!!a.studioLocal.isLayerMountedByLayerId[e]!==t&&n(Fj({layerId:TA(e),mounted:t}))}const Zie=(e,t)=>{var a,n,s,o,i;const r=pS(t,{type:"preview"})||"";return yS().allowed&&(null==(a=null==e?void 0:e.preview)?void 0:a.hls)?{hls:!0,fragmented:!1,url:r,mimetype:"application/vnd.apple.mpegurl",previewAssetId:e.preview._id}:wS()&&(e=>"video"===e.type||"audio"===e.type)(t)&&(null==(n=null==e?void 0:e.preview)?void 0:n.url)&&(null==(s=null==e?void 0:e.preview)?void 0:s.fragmented)?{hls:!1,fragmented:!0,url:r,mimetype:"video/mp4",previewAssetId:e.preview._id}:{hls:!1,fragmented:!1,url:r,mimetype:(null==(o=null==e?void 0:e.preview)?void 0:o.url)?"video/mp4":null==e?void 0:e.content_type,previewAssetId:null==(i=null==e?void 0:e.preview)?void 0:i._id}},qie=[],Jie=u(u4,(e=>e.studio.duration),(e=>e.studioLocal.layerTempValues),(e=>{var t;return null==(t=e.studioLocal.draggedTracksOverrides)?void 0:t.overrides}),(e=>e.mediaCache),(e=>e.assets.byId),((e=[],t=0,a,n,s,o)=>{var i,r;const l=[];for(const d of e)if(!d.isHidden&&!Uc(d)&&(np(d)||ep(d))&&!KT(d)){const e=null==n?void 0:n[d.id],c=Eq(d,e),u=d.asset_id?o[d.asset_id]:void 0,p=Vu(c,Mp(d)?d.duration:null==(i=null==u?void 0:u.preview)?void 0:i.duration),m=Hp(d,{mediaCacheState:s}),g=Zie(u,d),h={layerId:d.id,playbackRate:Number(d.playbackRate)||1,mediaId:m||d.asset_id||d.uploadId||d.id,...g,type:d.type,volume:(null==(r=a[TA(d.id)])?void 0:r.volumeTemp)??d.volume??1,relativeStartEndTimes:[BC(c.startTime||0),BC(c.endTime??(c.startTime||0)+d.duration)],startEndTimes:[BC(c.videoDelay||0),BC((c.videoDelay||0)+p)],mediapipe:(null==d?void 0:d.removeBg)||(null==d?void 0:d.blurBg)};e&&("trim-start"===e.type||"trim-end"===e.type||e.leftMost)&&(h.shouldBePlayingOverride=!0),h.startEndTimes[1]===BC(t)&&(h.isAtEnd=!0),l.push(h)}return 0===l.length?qie:l.sort(((e,t)=>e.startEndTimes[0]-t.startEndTimes[0]))})),$ie=e=>{const{state:{studioLocal:{infoToastShownThisSession:t}},dispatch:a}=Mu();S_()&&e>1&&!t&&a(db({type:"warning",description:"Audio volume is limited to 100% on Safari, but the layer will have the correct volume when exported."}))},Qie=(e,t,a)=>{if(t){Vj(a,{volumeTemp:null});const t=rJ(a);t&&uk({[t.id]:{volume:e}},"volume.ts",!0)}else Vj(a,{volumeTemp:e});$ie(e)},ere=PU.withUndoBatch(((e,t,a)=>{const n={},s={};t?a.forEach((t=>{s[t.id]={volumeTemp:null},n[t.id]={volume:e}})):a.forEach((t=>{s[t.id]={volumeTemp:e}})),r.batch((()=>{uk(n,"volume.ts",!0),Hj(s),$ie(e)}))})),tre={slow:3,default:1,fast:.5},are=(e,t=!0)=>t?1-(1-e)*(1-e):(1-e)*(1-e),nre=e=>"string"==typeof e?tre[e]:e,sre=u(((e,{layerId:t})=>e.studio.allLayers.byId[TA(t)]),((e,{layerId:t})=>{var a,n;return null==(n=null==(a=e.studio.keyframing)?void 0:a[TA(t)])?void 0:n[Cu.VOLUME]}),((e,{studioTime:t})=>t),((e,{layerId:t})=>{var a;return null==(a=jR(e,t))?void 0:a.volumeTemp}),((e,{defaultVolume:t=1})=>t),((e,t,a,n,s)=>{if(!e)return s;let o=n??e.volume??s;const[i,r]=zC(e);if(t){const{prevFrame:n,nextFrame:s}=Hk(e,a,t.keyframes);o=n&&s?Gk(t.bezArray,a-i,n,s):(null==n?void 0:n.value)??(null==s?void 0:s.value)??o}if("fade"===e.audioEffect){const{fadePosition:t,introFadeDuration:n,outroFadeDuration:s,fadeSpeed:l}=e;o*=(e=>{const{start:t,end:a,current:n,introFadeDuration:s,outroFadeDuration:o,fadePosition:i}=e;if(!i)return 1;let r=1;["intro","both"].includes(i)&&s&&t<=n&&n<t+s&&(r=are((n-t)/s));["outro","both"].includes(i)&&o&&a-o<n&&n<=a&&(r=are((n-(a-o))/o,!1));return zg(r,0,1)})({current:a,end:r,fadePosition:t,introFadeDuration:n??nre(l||0),outroFadeDuration:s??nre(l||0),start:i})}return o}));function ore(){return/^((?!chrome|android).)*safari/i.test(window&&window.navigator&&window.navigator.userAgent||"")}const ire=(e,t)=>{const a=()=>{"suspended"===e.state&&e.resume(),window.removeEventListener("pointerdown",a),window.removeEventListener("keydown",a)};window.addEventListener("pointerdown",a,{signal:t}),window.addEventListener("keydown",a,{signal:t})},rre=e=>{const t=new AudioContext,a=new AbortController;return"suspended"===t.state&&ire(t,a.signal),t.addEventListener("statechange",(function(){switch(this.state){case"closed":a.abort(),e();break;case"suspended":console.warn("warning: I don't think audiocontext should ever be suspended after it gets enabled??"),ire(this,a.signal)}}),{signal:a.signal}),t};let lre;const dre=()=>(null==lre&&(lre=rre((()=>{lre=void 0}))),lre),cre=new WeakMap,ure=new WeakMap,pre=e=>{const t=cre.get(e);t&&(cre.delete(e),ure.delete(e),t.context.close(),t.source.disconnect(),t.gainNode.disconnect())},mre=e=>Km(cre,e,{insert(){const t=rre((()=>{cre.delete(e),e.dispatchEvent(new Event("destroyThisElementPlease"))})),a=t.createMediaElementSource(e),n=t.createGain();return a.connect(n),n.connect(t.destination),{context:t,source:a,gainNode:n}}}),gre=e=>{e.paused&&!0!==e.muted&&(e.muted=!0),e.addEventListener("pause",(function(){this.muted=!0})),e.addEventListener("play",(function(){const e=ure.get(this),t=null!=e&&0===e;t!==this.muted&&(this.muted=t)}))},hre=(e,t)=>{if(ure.set(e,t),!e.paused){const a=0===t;e.muted!==a&&(e.muted=a)}if(null==e.crossOrigin||"Safari"===f_.browser.name){const a=zg(t,0,1);if(VC(e.volume,a,.01))return;e.volume=a}else{1!==e.volume&&(e.volume=1);const{gainNode:a}=mre(e);if(VC(a.gain.value,t,.01))return;a.gain.value=t}};class vre{constructor(){a(this,"_cancelled",!1),a(this,"cancelledPromise"),a(this,"resolveCancelled"),this.cancelledPromise=new Promise((e=>{this.resolveCancelled=e}))}cancel(){var e;this._cancelled||(this._cancelled=!0,null==(e=this.resolveCancelled)||e.call(this))}reset(){this._cancelled=!1,this.cancelledPromise=new Promise((e=>{this.resolveCancelled=e}))}waitForCancelled(){return this.cancelledPromise}get cancelled(){return this._cancelled}createChild(){const e=new vre;return this.waitForCancelled().then((()=>{e.cancel()})),e}}class fre{constructor({elementPool:e,fns:t}){a(this,"elementPool"),a(this,"playOrSeekCancellationSource",null),a(this,"isPlayOrSeekingStatus","Idle"),a(this,"currentReferenceLayerId"),a(this,"fns"),a(this,"videosPendingUnmount",new Set),a(this,"setEPLayerAsMounted",((e,t)=>{Xie(e,!0);const a=this.elementPool.layerIdsByElementId.get(t);null==a||a.forEach((t=>{t!==e&&Xie(t,!1)}))})),a(this,"setAllElementLayersAsUnmounted",(e=>{var t;null==(t=this.elementPool.layerIdsByElementId.get(e))||t.forEach((e=>{Xie(e,!1)}))})),a(this,"retryableMountVideo",((e,t,a)=>{const n=t=>{if(a.cancelled)return!1;if(!t.contains(e)){for(const e of t.children)"VIDEO"===e.tagName&&t.removeChild(e);return t.appendChild(e),!0}return!1};return new Promise((e=>{const s=this.getDomNodeForEPLayer(t);if(s){const t=n(s);return void e(t)}if(document.getElementById("all-layers-container"))new MutationObserver(((s,o)=>{a.cancelled&&(e(!1),o.disconnect());for(const a of s)if("childList"===a.type)for(const s of a.addedNodes)if(s instanceof HTMLElement&&s.id===this.getDomNodeIDForEPLayer(t)){const t=n(s);o.disconnect(),e(t)}}));else{const s=setInterval((()=>{const o=this.getDomNodeForEPLayer(t);if(o){const t=n(o);clearInterval(s),e(t)}a.cancelled&&(clearInterval(s),e(!1))}),25)}}))})),a(this,"handleBuffering",(()=>{this.fns.current.setIsBuffering(!0)})),a(this,"handleTimeUpdate",(()=>{this.fns.current.setIsBuffering(!1)})),this.elementPool=e,this.fns=t}pause(){this.cancelPreviousPlayOrSeek();for(const[e,t]of this.elementPool.domElementByLayerId)t.pause()}async seek(e,t=!1){this.cancelPreviousPlayOrSeek();const a=new vre;this.playOrSeekCancellationSource=a,this.isPlayOrSeekingStatus="Seeking";try{if(t){const{state:t}=Mu(),n=t.studioLocal.playbackRate;this.currentReferenceLayerId="seeked",await this.seekElementsIfStudioIsPlaying(e,a,n)}else this.currentReferenceLayerId=void 0,await this.seekElementsIfStudioIsPaused(e,a)}finally{this.isPlayOrSeekingStatus="Idle"}}async seekElementsIfStudioIsPaused(e,t){const a=[],n=[];for(const[o,i]of this.elementPool.layerIdsByElementId){const t=this.elementPool.domElementByDomId.get(o),s=this.findLayerThatShouldBePlaying(i,e);s?(a.push([s,t]),this.videosPendingUnmount.delete(t)):n.push(t)}const s=[];if(await Promise.race([Promise.all(a.map((async([a,n])=>{const o=wre(e,a.startEndTimes[0],a.relativeStartEndTimes[0],a.playbackRate);if(await eE(n,o),!t.cancelled){await this.retryableMountVideo(n,a,t)&&s.push([a.layerId,n.id])}}))),t.waitForCancelled()]),!t.cancelled&&(s.forEach((([e,t])=>{this.setEPLayerAsMounted(e,t)})),n.length>0)){for(const e of n)this.videosPendingUnmount.add(e);setTimeout((()=>{this.videosPendingUnmount.forEach((e=>{e.remove(),this.setAllElementLayersAsUnmounted(e.id),this.videosPendingUnmount.delete(e)}))}),0)}}async seekElementsIfStudioIsPlaying(e,t,a){const n=[],s=[];for(const[i,r]of this.elementPool.layerIdsByElementId){const t=this.findLayerThatShouldBePlaying(r,e);t?n.push(t):s.push(i)}for(const i of s){const e=this.elementPool.domElementByDomId.get(i);e.paused||e.pause()}try{await Promise.race([Promise.all(n.map((async n=>{const s=this.elementPool.domElementByLayerId.get(n.layerId),o=wre(e,n.startEndTimes[0],n.relativeStartEndTimes[0],n.playbackRate);await eE(s,o),t.cancelled||await this.playElementAtStudioTime(s,n,e,a,t)}))),t.waitForCancelled()])}catch(o){console.error("playOrSeekElementsWhileStudioIsPlaying - playing elements failed to resolve",o)}if(!t.cancelled)for(const i of s){const e=this.elementPool.domElementByDomId.get(i);document.body.contains(e)&&(e.remove(),this.setAllElementLayersAsUnmounted(i));const t=this.elementPool.layerIdsByElementId.get(i)??[];this.seekAhead(e,t,this.fns.current.getEPTime())}}cancelPreviousPlayOrSeek(){var e;null==(e=this.playOrSeekCancellationSource)||e.cancel(),this.playOrSeekCancellationSource=null}async _playOrPreseekElementsWhileStudioIsPlaying(e,t){var a,n;let s=this.fns.current.getEPTime();this.cancelPreviousPlayOrSeek();const o=new vre;if(this.playOrSeekCancellationSource=o,this.currentReferenceLayerId&&"seeked"!==this.currentReferenceLayerId){const t=this.elementPool.layerByLayerId.get(this.currentReferenceLayerId),n=this.elementPool.domElementByLayerId.get(this.currentReferenceLayerId);if(t&&n){const o=n.currentTime+.03833333333333334,[i,r]=t.startEndTimes,[l,d]=t.relativeStartEndTimes;if(yre(i,s,r)&&o>=d){const t=(null==(a=function(e,t){let a=null;for(const n of t){if("ep"!==n.whichElementPool)continue;yre(e,n.startEndTimes[0],e+.03333333333333333)&&(!a||n.startEndTimes[0]<a.startEndTimes[0])&&(a=n)}return a}(r,e))?void 0:a.startEndTimes[0])||r;s=t,this.fns.current.setEPTime(t)}}}const i=[],r=[];for(const[u,p]of this.elementPool.layerIdsByElementId){const e=this.findLayerThatShouldBePlaying(p,s);e?i.push(e):r.push(u)}for(const u of r){const e=this.elementPool.domElementByDomId.get(u);e.paused||e.pause()}const l=(null==(n=i.find((t=>e.some((e=>e.layerId==e.layerId))&&bre(t.startEndTimes,s,e))))?void 0:n.layerId)||void 0,d=l&&"seeked"!==this.currentReferenceLayerId&&this.currentReferenceLayerId!==l;this.handleNewReferenceLayer(l);try{await Promise.race([Promise.all(i.map((e=>{let a=s;const n=this.elementPool.domElementByLayerId.get(e.layerId);if(this.currentReferenceLayerId===e.layerId&&n){let t=n.currentTime;const o=s===e.startEndTimes[0]&&t===e.relativeStartEndTimes[0];(!yre(e.relativeStartEndTimes[0],n.currentTime,e.relativeStartEndTimes[1])||d&&!o)&&(t=wre(s,e.startEndTimes[0],e.relativeStartEndTimes[0],e.playbackRate),QT(n,t)),a=n.dataset.waitingSince&&VC(t,e.relativeStartEndTimes[1],.5)?e.startEndTimes[1]+1/60:WC(_re(t,e.startEndTimes[0],e.relativeStartEndTimes[0],e.playbackRate),.001),this.fns.current.setEPTime(a)}return this.playElementAtStudioTime(n,e,a,t,o)}))),o.waitForCancelled()])}catch(c){console.error("playOrSeekElementsWhileStudioIsPlaying - playing elements failed to resolve",c)}if(!o.cancelled)for(const u of r){const e=this.elementPool.domElementByDomId.get(u);document.body.contains(e)&&(e.remove(),this.setAllElementLayersAsUnmounted(u));const t=this.elementPool.layerIdsByElementId.get(u)??[];this.seekAhead(e,t,s)}}async playOrPreseekElementsWhileStudioIsPlaying(e,t){if("Idle"===this.isPlayOrSeekingStatus){this.isPlayOrSeekingStatus="Playing";try{await this._playOrPreseekElementsWhileStudioIsPlaying(e,t)}finally{this.isPlayOrSeekingStatus="Idle"}}}seekAhead(e,t,a){const n=this.findLayerClosestToStudioTime(t,a);null!=n&&(VC(e.currentTime,n.relativeStartEndTimes[0],.15)||setTimeout((()=>{e.currentTime=n.relativeStartEndTimes[0]}),0))}shouldBindNonReferenceLayer(e,t,a){const n=e.getAttribute("data-lastBindTimestamp");n||e.setAttribute("data-lastBindTimestamp",String(Date.now()));const s=Date.now()-Number(n);return null==n||!VC(e.currentTime,t,.5*a)&&s>5e3}async playElementAtStudioTime(e,t,a,n,s){const o=n*t.playbackRate;e.playbackRate!==o&&(e.playbackRate=o);const i=sre(Mu().state,{layerId:t.layerId,studioTime:a,defaultVolume:t.volume});this.setElementVolume(e,i);const r=wre(a,t.startEndTimes[0],t.relativeStartEndTimes[0],t.playbackRate);let l;this.shouldBindNonReferenceLayer(e,r,t.playbackRate)&&(e.setAttribute("data-lastBindTimestamp",String(Date.now())),l=eE(e,r));let d=!1;this.isVideoMounted(e,t)||(d=await this.retryableMountVideo(e,t,s)),s.cancelled||(e.paused&&e.currentTime!==e.duration&&await e.play(),await l,d&&this.setEPLayerAsMounted(t.layerId,e.id))}findLayerClosestToStudioTime(e,t){if(0!==e.length){for(const a of e){const e=this.elementPool.layerByLayerId.get(a);if(e.startEndTimes[0]-t>0)return e}return this.elementPool.layerByLayerId.get(e[0])}}findLayerThatShouldBePlaying(e,t){for(const a of e){const e=this.elementPool.layerByLayerId.get(a);if(yre(e.startEndTimes[0],t,e.startEndTimes[1],e.isAtEnd)||e.shouldBePlayingOverride)return e}}setElementVolume(e,t){hre(e,t)}getDomNodeIDForEPLayer(e){return this.elementPool.getDomIdFromLayerId(e.layerId)}getDomNodeForEPLayer(e){return document.getElementById(this.getDomNodeIDForEPLayer(e))}isVideoMounted(e,t){const a=this.getDomNodeForEPLayer(t);return!!(null==a?void 0:a.contains(e))}handleNewReferenceLayer(e){if(this.currentReferenceLayerId===e)return;const t=this.elementPool.domElementByLayerId.get(this.currentReferenceLayerId||""),a=this.elementPool.domElementByLayerId.get(e||""),n=this;null==t||t.removeEventListener("waiting",n.handleBuffering),null==t||t.removeEventListener("timeupdate",n.handleTimeUpdate),null==t||t.removeEventListener("canplay",n.handleTimeUpdate),null==a||a.addEventListener("waiting",n.handleBuffering),null==a||a.addEventListener("timeupdate",n.handleTimeUpdate),null==a||a.removeEventListener("canplay",n.handleTimeUpdate),this.currentReferenceLayerId=e}}function bre(e,t,a){const[n,s]=e,o=s-n;for(const i of a)if(yre(i.startEndTimes[0],t,i.startEndTimes[1])){const e=i.startEndTimes[1]-i.startEndTimes[0];if(e>o)return!1;if(e===o&&i.startEndTimes[0]<n)return!1}return!0}function yre(e,t,a,n=!1){return n?e<=t&&t<=a:e<=t&&t<a}function wre(e,t,a,n){return a+(e-t)*n}function _re(e,t,a,n){return(e-a)/n+t}const Cre=u((e=>e),((e,t)=>t),((e,t)=>e.map((e=>{var a;if(!e.asset_id)return;const n=t[e.asset_id];return null==(a=null==n?void 0:n.preview)?void 0:a.duration}))));function Sre({dragOverride:e,layer:t,mediaCacheId:a,sceneDuration:n}){var s,o;const{state:i}=Mu(),r=HC(t,i),l=Eq(t,e),d=Vu(l,Rp(t)||null==(s=null==r?void 0:r.preview)?void 0:s.duration),c=Zie(r,t),u=[],p=l.endTime??(l.startTime||0)+t.duration,m=l.startTime||0,g=l.videoDelay||0,h=BC(g),v=BC(g+d),f={layerId:t.id,playbackRate:Number(t.playbackRate)||1,mediaId:a||t.asset_id||t.uploadId||t.id,...c,type:t.type,volume:t.isMuted?0:(null==(o=jR(i,t.id))?void 0:o.volumeTemp)??t.volume??1,relativeStartEndTimes:[BC(m),BC(p)],startEndTimes:[h,v],mediapipe:!!np(t)&&(t.removeBg||t.blurBg)};return u.push(f),e&&("trim-start"===e.type||"trim-end"===e.type||e.leftMost)&&(f.shouldBePlayingOverride=!0),f.startEndTimes[1]===BC(n)&&(f.isAtEnd=!0),u}u(Gx,(e=>Cre(Gx(e),e.assets.byId)),((e=[],t)=>{const a=[];return e.forEach(((e,n)=>{const[s,o]=GC(e,t[n]);a.push({...e,absoluteStartTime:s,absoluteEndTime:o})})),a}));const xre=u(Gx,(e=>e.studio.duration),(e=>{var t;return null==(t=e.studioLocal.draggedTracksOverrides)?void 0:t.overrides}),(e=>e.mediaCache),(e=>e.studio.canvasBlur),(e=>e.assets.localAssetInfo),((e=[],t=0,a,n,s)=>{const o=[];for(const r of e){const e=up(r)?jp(r):r;if(!e.isHidden&&(np(e)&&KT(e))){const s=Hp(e,{mediaCacheState:n,personaLayerHandling:"video"}),i=Sre({dragOverride:null==a?void 0:a[e.id],layer:e,mediaCacheId:s,sceneDuration:t});o.push(...i)}}if(s)return o.sort(((e,t)=>e.startEndTimes[0]-t.startEndTimes[0]));const i={};for(const r of o){const e=i[r.mediaId];e?e.push(r):i[r.mediaId]=[r]}return Object.values(i).forEach((e=>{e.sort(((e,t)=>e.relativeStartEndTimes[0]-t.relativeStartEndTimes[0]))})),o.sort(((e,t)=>e.startEndTimes[0]-t.startEndTimes[0]))})),Ire=e=>({layerId:e.layerId,startEndTimes:[e.startEndTimes[0],e.startEndTimes[1]]});function Are(e,t){return{...Ire(e),whichElementPool:t}}const kre=u(xre,Jie,((e,t)=>{const a=[];return e.forEach((e=>{a.push(Are(e,"ep"))})),t.forEach((e=>{const t=rJ(e.layerId);t&&XT(t)&&a.push(Are(e,"canvas"))})),a})),Tre=({selectElementPoolLayers:e=xre,selectPossibleReferenceLayers:t=kre})=>u(e,t,((e,t)=>t),((e,t,a)=>{for(const n of e){const[e,s]=n.startEndTimes;if(e<=a&&a<s&&bre([e,s],a,t))return!0}return!1})),Ere=Tre({selectElementPoolLayers:xre,selectPossibleReferenceLayers:kre}),Lre=({selectPossibleReferenceLayers:e,selectElementPoolLayers:t})=>{const a=Tre({selectElementPoolLayers:t,selectPossibleReferenceLayers:e});return u(e,((e,t)=>t),a,((e,t,a)=>{if(a)return!1;const n=t-.03333333333333333,s=t+.03333333333333333,o=e.filter((e=>"canvas"===e.whichElementPool));for(const i of o){const[a,o]=i.startEndTimes;if(a<n&&s<o&&bre([a,o],t,e))return!0}return!1}))},jre=Lre({selectElementPoolLayers:xre,selectPossibleReferenceLayers:kre}),Rre=(e,t,a)=>!a&&!!yre(e,t,e+Nre),Nre=.16666666666666666,Mre=()=>u(xre,Jie,(e=>e.studioLocal.isLayerMountedByLayerId),((e,t)=>t),((e,t,a,n)=>{const s=e.find((e=>VC(n,e.startEndTimes[0],.03333333333333333)))||t.find((e=>e.type===Nc.Video&&VC(n,e.startEndTimes[0],.03333333333333333)));return!!s&&!a[s.layerId]}));async function Pre(e){const t=e.stream().pipeThrough(new DecompressionStream("gzip")).getReader(),a=new TextDecoder;let n="";for(;;){const{done:e,value:s}=await t.read();if(e)break;n+=a.decode(s)}return n}!function(){function e(e){e&&(e.setTargetAtTime||(e.setTargetAtTime=e.setTargetValueAtTime))}"undefined"!=typeof window&&ore()&&(window.hasOwnProperty("webkitAudioContext")&&!window.hasOwnProperty("AudioContext")&&(window.AudioContext=webkitAudioContext,AudioContext.prototype.hasOwnProperty("createGain")||(AudioContext.prototype.createGain=AudioContext.prototype.createGainNode),AudioContext.prototype.hasOwnProperty("createDelay")||(AudioContext.prototype.createDelay=AudioContext.prototype.createDelayNode),AudioContext.prototype.hasOwnProperty("createScriptProcessor")||(AudioContext.prototype.createScriptProcessor=AudioContext.prototype.createJavaScriptNode),AudioContext.prototype.hasOwnProperty("createPeriodicWave")||(AudioContext.prototype.createPeriodicWave=AudioContext.prototype.createWaveTable),AudioContext.prototype.internal_createGain=AudioContext.prototype.createGain,AudioContext.prototype.createGain=function(){var t=this.internal_createGain();return e(t.gain),t},AudioContext.prototype.internal_createDelay=AudioContext.prototype.createDelay,AudioContext.prototype.createDelay=function(t){var a=t?this.internal_createDelay(t):this.internal_createDelay();return e(a.delayTime),a},AudioContext.prototype.internal_createBufferSource=AudioContext.prototype.createBufferSource,AudioContext.prototype.createBufferSource=function(){var t=this.internal_createBufferSource();return t.start?(t.internal_start=t.start,t.start=function(e,a,n){void 0!==n?t.internal_start(e||0,a,n):t.internal_start(e||0,a||0)}):t.start=function(e,t,a){t||a?this.noteGrainOn(e||0,t,a):this.noteOn(e||0)},t.stop?(t.internal_stop=t.stop,t.stop=function(e){t.internal_stop(e||0)}):t.stop=function(e){this.noteOff(e||0)},e(t.playbackRate),t},AudioContext.prototype.internal_createDynamicsCompressor=AudioContext.prototype.createDynamicsCompressor,AudioContext.prototype.createDynamicsCompressor=function(){var t=this.internal_createDynamicsCompressor();return e(t.threshold),e(t.knee),e(t.ratio),e(t.reduction),e(t.attack),e(t.release),t},AudioContext.prototype.internal_createBiquadFilter=AudioContext.prototype.createBiquadFilter,AudioContext.prototype.createBiquadFilter=function(){var t=this.internal_createBiquadFilter();return e(t.frequency),e(t.detune),e(t.Q),e(t.gain),t},AudioContext.prototype.hasOwnProperty("createOscillator")&&(AudioContext.prototype.internal_createOscillator=AudioContext.prototype.createOscillator,AudioContext.prototype.createOscillator=function(){var t=this.internal_createOscillator();return t.start?(t.internal_start=t.start,t.start=function(e){t.internal_start(e||0)}):t.start=function(e){this.noteOn(e||0)},t.stop?(t.internal_stop=t.stop,t.stop=function(e){t.internal_stop(e||0)}):t.stop=function(e){this.noteOff(e||0)},t.setPeriodicWave||(t.setPeriodicWave=t.setWaveTable),e(t.frequency),e(t.detune),t})),window.hasOwnProperty("webkitOfflineAudioContext")&&!window.hasOwnProperty("OfflineAudioContext")&&(window.OfflineAudioContext=webkitOfflineAudioContext))}();const Fre="PlaybackTable-module_playbackTable_TA-q-",Dre="PlaybackTable-module_tableContainer_ei-ck",Ore="PlaybackTable-module_button_mXtZ2",Ure="PlaybackTable-module_table_7S7FE",Bre="PlaybackTable-module_connection_DhgbE",Wre="PlaybackTable-module_dataset_rcc7I",Vre="PlaybackTable-module_src_MVTMt";let Hre=0;const zre=[],Gre=new EventTarget,Yre=[],Kre=[],Xre=(e,t,a)=>{const n=[];let s=0;for(let i=0;i<e.buffered.length;i++)n.push(`${e.buffered.start(i).toFixed(2)}-${e.buffered.end(i).toFixed(2)}`),s+=e.buffered.end(i)-e.buffered.start(i);const o={idx:Hre++,id:e.id||"unknown",event:t,playbackType:e.dataset.playbackType??"n/a",timestamp:Date.now(),get relativeTime(){return CP(Date.now()-this.timestamp)},error:void 0,duration:e.duration||0,currentTime:e.currentTime,readyState:e.readyState,networkState:e.networkState,isPaused:e.paused,dataset:e.dataset,src:e.src,buffered:n.join(","),bufferedAmount:s,playbackRate:e.playbackRate,volume:e.volume,isMuted:e.muted,videoWidth:void 0,videoHeight:void 0,connection:void 0,thisVideoId:a};if(e instanceof HTMLVideoElement&&(o.videoWidth=e.videoWidth,o.videoHeight=e.videoHeight),e.error){let t;switch(e.error.code){case MediaError.MEDIA_ERR_ABORTED:t="MEDIA_ERR_ABORTED";break;case MediaError.MEDIA_ERR_NETWORK:t="MEDIA_ERR_NETWORK";break;case MediaError.MEDIA_ERR_DECODE:t="MEDIA_ERR_DECODE";break;case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:t="MEDIA_ERR_SRC_NOT_SUPPORTED";break;default:t=String(e.error.code)}o.error=`${t}: ${e.error.message}`}if(navigator.connection){const e=navigator.connection;o.connection={downlink:e.downlink,downlinkMax:e.downlinkMax,effectiveType:e.effectiveType,rtt:e.rtt,type:e.type}}return o};function Zre({clear:e,disabled:t,className:a}){const[n,s]=i.useState((()=>[...zre]));i.useEffect((()=>{if(t)return;const e=()=>{s([...zre])};e();const a=setInterval(e,6e4);return Gre.addEventListener("change",e),()=>{Gre.removeEventListener("change",e),clearInterval(a)}}),[t]),i.useEffect((()=>{zre.splice(0,zre.length),s([])}),[e]);const o=n.length?Object.keys(n[0]||{}):[];return f.jsx("div",{className:L(a,Fre),children:!t&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:Dre,children:f.jsxs("table",{className:Ure,children:[f.jsx("thead",{children:f.jsx("tr",{children:o.map((e=>"timestamp"===e?null:f.jsx("th",{children:e},e)))})}),f.jsx("tbody",{children:n.slice(0,100).map((e=>f.jsx("tr",{children:o.map((t=>{if("timestamp"===t)return null;let a;a="object"==typeof e[t]&&null!=e[t]?JSON.stringify(e[t]):null==e[t]?"":String(e[t]);let n="";return"src"===t?n=Vre:"dataset"===t?n=Wre:"connection"===t&&(n=Bre),f.jsx("td",{className:n,children:a},t)}))},e.idx)))})]})}),f.jsx("button",{type:"button",className:Ore,onClick:async()=>{const e=JSON.stringify({now:Date.now(),performanceNow:performance.now(),videos:Kre.map(((e,t)=>{const a=e.deref();return null==a?a:Xre(a,"export",t)})),lastLogs:Yre,mediaLogs:zre}),t=await async function(e){const t=new Blob([e]).stream().pipeThrough(new CompressionStream("gzip")).getReader(),a=[];let n=await t.read();for(;!1===n.done;)a.push(n.value),n=await t.read();return t.releaseLock(),new Blob(a)}(e),a=new File([t],`playback-report-${Date.now()}.json.gz`,{type:"application/gzip"}),n=document.createElement("a");n.download=a.name,n.href=URL.createObjectURL(a),n.click(),URL.revokeObjectURL(n.href);const s=document.createElement("a");s.href="slack://user?team=T4WLJJH1R&id=C08B1TKES30",s.click()},children:"send to #playback-reports"})]})})}const qre=new Set([tB.repurposeStudio,`canvas_${tB.repurposeStudio}`,tB.studio,`canvas_${tB.studio}`]),Jre=e=>{console.debug("OnPause: ",e)};let $re=0;class Qre{constructor(e){a(this,"id"),a(this,"domElementByLayerId",new Map),a(this,"isCanvas"),a(this,"layerIdsByMediaId",new Map),a(this,"layerIdsByElementId",new Map),a(this,"layerByLayerId",new Map),a(this,"domElementByDomId",new Map),a(this,"domElementsPendingDeletionByMediaId",new Map),a(this,"numVideoElements",0),a(this,"abortController",new AbortController),a(this,"streamsByElementId",new Map),a(this,"batchedTimeout"),a(this,"durationUpdatesBatch",{}),a(this,"batchedUpdateLocalLayerValues",{}),a(this,"regenerateDomPoolQueued",!1),a(this,"lastStalledReported");const{isCanvas:t=!1}=e;this.isCanvas=t,this.id=t?`canvas_${e.id}`:e.id}getJsonLayerIdToElementId(){const e={};for(const[t,a]of this.domElementByLayerId)e[t]=a.id;return e}static doTimesOverlap(e,t,a=!0){return!a&&e[0]<t[1]&&e[1]>t[0]||!!(a&&e[0]<=t[1]&&e[1]>=t[0])}logAmplitudeEvents(e,t){const a=t.startsWith("blob:")?"local":"remote";e.onplay=()=>{console.debug("OnPlay: ",e.id)},e.onpause=Jre.bind(null,e.id),e.onseeking=()=>{},e.onseeked=()=>{},e.onerror=()=>{var n,s,o,i;if(Ef()||console.debug("ElementPool onerror",{src:t,localOrRemoteSrc:a,errorCode:null==(n=e.error)?void 0:n.code,errorMessage:null==(s=e.error)?void 0:s.message}),(null==(o=e.error)?void 0:o.code)===MediaError.MEDIA_ERR_NETWORK&&e.src.startsWith("blob:")&&"native-normal-playback"===e.dataset.playbackType){const{dispatch:t,state:{assets:a,mediaCache:n}}=Mu(),{mediaId:s}=e.dataset;if(s){t(XE({[s]:{local_url:void 0}})),URL.revokeObjectURL(e.src);const o=n.mediaCacheIdToAssetId[s],r=o?a.byId[o]:null;r&&(e.src=(null==(i=r.preview)?void 0:i.url)??r.url??"")}}},e.onwaiting=()=>{console.debug("OnWaiting: ",e.id)}}logAmplitudeUsageEvents(){const e=wC.getMetrics(),t=Math.random()<.33||S_();e&&t&&ov("Video usage",e),wC.map.clear()}createVideoElement(e){const{url:t,mediaId:a}=e,n=this.domElementsPendingDeletionByMediaId.get(a);if(n&&n.size>0){const e=n.values().next().value;console.assert(!e.dataset.destroyed,"Reusable dom element was already destroyed. This should NOT be happening"),n.delete(e.id);for(const t in e.dataset)["assetId","mse","mseError","hasbeenplayable","mediaId","hasUsedMse"].includes(t)||delete e.dataset[t];return e}const s=document.createElement("video");gre(s),s.id=`ep_${this.id}_v${this.numVideoElements}`,this.numVideoElements+=1,$re+=1,s.autoplay=!1,s.preload=__()?"metadata":"auto",s.playsInline=!0,s.setAttribute("style","width: 100%; height: 100%;"),s.dataset.mediaId=a,s.dataset.previewAssetId=e.previewAssetId,this.logAmplitudeEvents(s,t),__()&&s.addEventListener("seeked",(function(){const e=this.playbackRate;this.playbackRate=e+1e-5,this.playbackRate=e})),Lv&&function(e){Kre.push(new WeakRef(e));const t=Kre.length-1,a=function(e){const a=Xre(this,e,t);zre.length>1e3&&zre.pop(),zre.unshift(a),Gre.dispatchEvent(new Event("change")),Yre[t]=a};a.call(e,"init"),new MutationObserver((e=>{e.forEach((e=>{e.attributeName&&a.call(e.target,`attribute:${e.attributeName}`)}))})).observe(e,{attributes:!0,attributeFilter:["src","playbackRate","muted"]}),["play","pause","playing","waiting","seeking","seeked","ended","loadstart","loadedmetadata","loadeddata","progress","canplay","canplaythrough","stalled","suspend","error"].forEach((t=>{e.addEventListener(t,(function(){a.call(this,t)}))}))}(s),this.streamVideo(s,e);{const e=s.play;s.play=async function(){return"event"in window&&null==window.event&&!kl&&console.error("Media play() was called outside of a user event"),await e.call(this).catch((e=>{throw e instanceof DOMException&&"NotAllowedError"===e.name&&(GJ(),ov("Autoplay blocked")),LC(e,"Element pool play error")}))},s.addEventListener("play",(function(){YJ()}))}return s.addEventListener("loadedmetadata",(()=>{if(s.setAttribute("data-hasBeenPlayable","true"),this.layerIdsByElementId.has(s.id)){const e=this.layerIdsByElementId.get(s.id).map((e=>[e,{readyForTrackComponentRender:!0}]));Object.assign(this.batchedUpdateLocalLayerValues,Object.fromEntries(e)),this.enqueueUpdateToRedux()}}),{once:!0}),s.addEventListener("durationchange",(()=>{const e=s.duration;if(Number.isNaN(e)||!Number.isFinite(e))return;const t=[],{state:{studio:a}}=Mu();for(const n of this.layerIdsByElementId.get(s.id)||[]){const e=a.allLayers.byId[n];e&&!e.duration&&t.push(n)}if(0!==t.length){console.debug("updating layer durations for ",t.length,"layers",t);for(const a of t)this.durationUpdatesBatch[a]=e;this.enqueueUpdateToRedux()}})),yC.attachEvents(s,a),wC.attachEvents(s,a),s.addEventListener("seeking",(function(){this.dataset.seekStatus="seeking"})),s.addEventListener("seeked",(function(){this.dataset.seekStatus="seeked"})),s.addEventListener("waiting",(function(){this.dataset.waitingSince=String(performance.now())})),s.addEventListener("canplay",(function(){delete this.dataset.waitingSince})),s.addEventListener("error",(()=>{var t,a;if(Math.random()>.2)return;if(s.dataset.destroyed)return;if(""!==s.src&&(null==(a=null==(t=s.error)?void 0:t.message)?void 0:a.toLowerCase().includes("empty src")))return;const n=this.layerIdsByElementId.get(s.id);let o;for(const e of n??[])if(o=this.layerByLayerId.get(e),o)break;const i=!!(null==o?void 0:o.previewAssetId),r=s.error;if(!i&&(null==r?void 0:r.code)===MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED)return;const d=!!o;o=o??e,l(new Error("Video error"),{extra:{readyState:s.readyState,"MSE enabled":!!s.dataset.mse,"MSE error":!!s.dataset.mseError,"Error message code":null==r?void 0:r.code,"Error message":null==r?void 0:r.message,"Video duration":s.duration,"ElementPool has layer":d,"Video is using preview":i,"Video is using kapwing URL":s.src.includes("kapwing.com"),"Video is using blob":s.src.startsWith("blob:"),"Video elements created (total)":$re,"Video state":s.readyState,"Video playback rate":s.playbackRate},level:"warning"})})),s.addEventListener("stalled",(()=>{if(!qre.has(this.id))return;if(s.dataset.destroyed)return;if(""===s.src)return;const t=performance.now();if((this.lastStalledReported?t-this.lastStalledReported:Number.MAX_SAFE_INTEGER)<6e4)return;const a=this.layerIdsByElementId.get(s.id);let n;for(const e of a??[])if(n=this.layerByLayerId.get(e),n)break;const o=!!n;n=n??e;const i=navigator.connection,r={"EP Name":this.id,"Network online":navigator.onLine,"Effective network type":null==i?void 0:i.effectiveType,"Download speed":null==i?void 0:i.downlink,"Max download speed":null==i?void 0:i.downlinkMax,"Network round trip time":null==i?void 0:i.rtt,"MSE enabled":!!s.dataset.mse,"MSE error":!!s.dataset.mseError,"ElementPool has layer":o,"Video mimetype":null==n?void 0:n.mimetype,"Video duration":s.duration,"Video is using preview":!!(null==n?void 0:n.previewAssetId),"Video is using kapwing URL":s.src.includes("kapwing.com"),"Video is using blob":s.src.startsWith("blob:"),"Video has error":!!s.error,"Video elements created (total)":$re,"Video state":s.readyState,"Video playback rate":s.playbackRate};this.id.endsWith("repurposeStudio")&&ov("Repurpose Playback Stalled",r),Math.random()<.2&&ov("Playback Stalled",r),this.lastStalledReported=t})),s.addEventListener("loadeddata",(function(){pz("canvas")}),{once:!0}),s.addEventListener("destroyThisElementPlease",(()=>{this.forceDestroyDomElement(s),this.regenerateDomPoolQueued||(this.regenerateDomPoolQueued=!0,setTimeout((()=>{this.regenerateDomPool([...this.layerByLayerId.values()]),this.regenerateDomPoolQueued=!1}),0))})),s}findLayerIdWithReusableElement(e){const t=this.layerIdsByMediaId.get(e.mediaId);let a;for(const n of t){const{startEndTimes:t}=this.layerByLayerId.get(n);if(Qre.doTimesOverlap(t,e.startEndTimes))continue;const s=this.domElementByLayerId.get(n),o=this.layerIdsByElementId.get(s.id);let i=!1;for(const a of o){const t=this.layerByLayerId.get(a);if(Qre.doTimesOverlap(e.startEndTimes,t.startEndTimes)){i=!0;break}}if(!i){a=n;break}}return a}findLayersOverlappingTarget(e){const t=this.layerIdsByMediaId.get(e.mediaId),a=[];return t?(t.forEach((t=>{const n=this.layerByLayerId.get(t);Qre.doTimesOverlap(e.startEndTimes,n.startEndTimes)&&a.push(n)})),a):[]}isCurrentElementMappingValid(e,t){const a=this.domElementByLayerId.get(e.layerId);if(!a)return console.error("Ran `isCurrentElementMappingValid` with no valid target element."),!0;for(const n of t)if(n.layerId!==e.layerId&&this.domElementByLayerId.get(n.layerId)===a)return!1;return!0}getCachedLayerIdsToInvalidate(e){const t=[];e.filter((e=>{const t=this.layerByLayerId.get(e.layerId);if(!t)return!1;const[a,n]=t.startEndTimes,[s,o]=e.startEndTimes;return!(a===s&&n===o)})).forEach((e=>{const a=this.findLayersOverlappingTarget(e);this.isCurrentElementMappingValid(e,a)||t.push(e.layerId)}));return e.filter((e=>!this.layerByLayerId.get(e.layerId))).forEach((a=>{this.findLayersOverlappingInNewTimeline(a,e).forEach((e=>{t.includes(e.layerId)||t.push(e.layerId)}))})),t}findLayersOverlappingInNewTimeline(e,t){const a=t.filter((t=>t.mediaId===e.mediaId)),n=[];return a.forEach((t=>{t.layerId!==e.layerId&&Qre.doTimesOverlap(e.startEndTimes,t.startEndTimes,!1)&&n.push(t)})),n}cleanupDomElementPendingDeletion(e,t){var a;const n=null==(a=this.domElementsPendingDeletionByMediaId.get(e))?void 0:a.get(t);n&&this.forceDestroyDomElement(n)}forceDestroyDomElement(e){var t;const a=e.dataset.mediaId,n=e.id;for(const o of this.layerIdsByElementId.get(n)??[])this.domElementByLayerId.delete(o);this.layerIdsByElementId.delete(n),this.domElementByDomId.delete(n),null!=a?null==(t=this.domElementsPendingDeletionByMediaId.get(a))||t.delete(n):console.error("Missing mediaId from domId",n),e.dataset.destroyed="true",pre(e);const s=this.streamsByElementId.get(e.id);s&&(s.cleanup(),this.streamsByElementId.delete(e.id))}deleteDomElementFromPool(e){e&&(e.remove(),Km(this.domElementsPendingDeletionByMediaId,e.dataset.mediaId,{insert:()=>new Map([[e.id,e]]),update:t=>(t.set(e.id,e),t)}),this.domElementByDomId.delete(e.id),setTimeout((()=>this.cleanupDomElementPendingDeletion(e.dataset.mediaId,e.id)),6e4))}destroyDomPool(){this.logAmplitudeUsageEvents(),this.abortController.abort(),this.abortController=new AbortController;for(const[e,t]of this.domElementByDomId)t.remove(),t.dataset.destroyed="true",pre(t);for(const[e,t]of this.streamsByElementId)t.cleanup();this.streamsByElementId.clear(),this.domElementByDomId.clear(),this.domElementByLayerId.clear(),this.layerByLayerId.clear(),this.layerIdsByElementId.clear(),this.layerIdsByMediaId.clear(),this.numVideoElements=0}regenerateDomPool(e){var t,a,n,s,o,i;const r=new Map(this.domElementByLayerId);this.getCachedLayerIdsToInvalidate(e).forEach((e=>{r.delete(e)}));const l=new Set(e.map((e=>e.layerId))),d=Array.from(r.keys()),c=new Set(d.filter((e=>!l.has(e))));for(const[p,m]of this.layerIdsByElementId){const e=m.every((e=>!c.has(e))),t=r.get(p);!e&&t&&this.deleteDomElementFromPool(t)}this.domElementByLayerId=new Map,this.layerIdsByMediaId=new Map,this.layerIdsByElementId=new Map,this.layerByLayerId=new Map,e.forEach((e=>{this.layerByLayerId.set(e.layerId,e)}));for(const p of e){if(r.has(p.layerId)){const e=r.get(p.layerId),n=this.streamsByElementId.get(e.id),s={previewAssetId:p.previewAssetId,mediaCacheId:p.mediaId,hls:p.hls,fragmented:p.fragmented,url:p.url,isCanvas:this.isCanvas,isMediapipe:p.mediapipe};if(n&&n.sourceNeedsUpdated(s)){const t=()=>{n.updateSrc(s),__()&&e.load()};e.paused?t():e.onpause=()=>{t(),e.onpause=Jre.bind(null,e.id)}}this.domElementByLayerId.set(p.layerId,e),this.domElementByDomId.set(e.id,e),this.layerIdsByElementId.has(e.id)?null==(t=this.layerIdsByElementId.get(e.id))||t.push(p.layerId):this.layerIdsByElementId.set(e.id,[p.layerId]),this.layerIdsByMediaId.has(p.mediaId)?null==(a=this.layerIdsByMediaId.get(p.mediaId))||a.push(p.layerId):this.layerIdsByMediaId.set(p.mediaId,[p.layerId]),r.delete(p.layerId)}else if(this.layerIdsByMediaId.has(p.mediaId)){const e=this.findLayerIdWithReusableElement(p);if(e){const t=this.domElementByLayerId.get(e);this.domElementByLayerId.set(p.layerId,t),this.domElementByDomId.set(t.id,t),null==(n=this.layerIdsByElementId.get(t.id))||n.push(p.layerId),null==(s=this.layerIdsByMediaId.get(p.mediaId))||s.push(p.layerId)}else{const e=this.createVideoElement(p);this.domElementByLayerId.set(p.layerId,e),this.domElementByDomId.set(e.id,e),this.layerIdsByElementId.set(e.id,[p.layerId]),null==(o=this.layerIdsByMediaId.get(p.mediaId))||o.push(p.layerId)}}else{const e=this.createVideoElement(p);this.domElementByLayerId.set(p.layerId,e),this.domElementByDomId.set(e.id,e),this.layerIdsByElementId.set(e.id,[p.layerId]),this.layerIdsByMediaId.set(p.mediaId,[p.layerId])}(null==(i=this.domElementByLayerId.get(p.layerId))?void 0:i.hasAttribute("data-hasBeenPlayable"))&&Vj(p.layerId,{readyForTrackComponentRender:!0})}const u=new Set(r.values());for(const p of u){const e=this.layerIdsByElementId.get(p.id);null!=e&&0!==e.length||(p.pause(),p.remove(),this.deleteDomElementFromPool(p))}}getDomIdFromLayerId(e){const t=this.layerByLayerId.get(e);if(null==t?void 0:t.isPersonaLayer){const t=e.split("-").slice(0,-1).join("-");return`EPContainer_${this.id}_${t}`}return`EPContainer_${this.id}_${e}`}streamVideo(e,t){var a;const n=this.id===tB.studio?void 0:2,s=this.id===tB.studio?void 0:5,o=this.id===tB.studio?void 0:10;null==(a=this.streamsByElementId.get(e.id))||a.cleanup();const i=new Bx(e,{previewAssetId:t.previewAssetId,mediaCacheId:t.mediaId,hls:t.hls,fragmented:t.fragmented,url:t.url,isCanvas:this.isCanvas,isMediapipe:t.mediapipe},{bufferWhilePaused:n,backwardBufferTime:s,forwardBufferTime:o});this.streamsByElementId.set(e.id,i),e.addEventListener("nativeFallback",(e=>{const t=e;t.reason instanceof IS&&this.unmarkFragmented(t.reason.assetId)}),{once:!0})}unmarkFragmented(e){var t;const{assets:a}=Mu().state,n=e?a.byId[e]:void 0;(null==(t=null==n?void 0:n.preview)?void 0:t._id)&&n.preview.fragmented&&(j2(e,{preview:{fragmented:!1}}),C2(n.preview._id,{fragmented:!1}))}enqueueUpdateToRedux(){this.batchedTimeout||(this.batchedTimeout=setTimeout((()=>{this.batchedTimeout=void 0,c.isEmpty(this.durationUpdatesBatch)||function(e){if(c.isEmpty(e))return;const{dispatch:t,state:a}=Mu(),n=new Map;for(const[s,o]of Object.entries(e)){const e=a.studio.allLayers.byId[s];if(!e)continue;const t=nL(e);t&&n.set(t,o)}t(AK.assetsDurationChanged({updates:Array.from(n.entries()).map((([e,t])=>({assetId:e,newDuration:t})))}))}(this.durationUpdatesBatch),c.isEmpty(this.batchedUpdateLocalLayerValues)||Hj(this.batchedUpdateLocalLayerValues),this.durationUpdatesBatch={},this.batchedUpdateLocalLayerValues={}}),0))}}const ele=b.createContext(null),tle=()=>b.useContext(ele),ale=b.memo((({children:e,id:t,selectElementPoolLayers:a,selectCanvasElementPoolLayers:n})=>{const s=Bu(),[o]=i.useState((()=>(s(rB.initialize({elementPoolId:t})),new Qre({isCanvas:!0,id:t}))));i.useEffect((()=>(window.canvasElementPoolById||(window.canvasElementPoolById={}),window.canvasElementPoolById[t]=o,()=>{window.canvasElementPoolById&&delete window.canvasElementPoolById[t]})),[o,t]);const l=rY(),d=Du(n),c=Du(a),u=Du((e=>e.studioLocal.isLayerMountedByLayerId),r.shallowEqual),p=Du((e=>{var a;return"number"==typeof(null==(a=e.elementPool.byElementPoolId[t])?void 0:a.userManualSeekTime)})),m=i.useRef([]),g=i.useRef((e=>!1));return i.useEffect((()=>{g.current=e=>{const t=c.find((t=>VC(e,t.startEndTimes[0],.03333333333333333)))||d.find((t=>t.type===Nc.Video&&VC(e,t.startEndTimes[0],.03333333333333333)));return!!t&&!u[t.layerId]}}),[c,d,u]),i.useEffect((function(){o.regenerateDomPool(d)}),[d,o]),i.useEffect((function(){const e=[];for(const[t,a]of o.domElementByDomId){const n=o.layerIdsByElementId.get(t);if(!n){console.warn(`Video ${t}: no layers for `,a.src);continue}const s=e=>{const t=o.layerByLayerId.get(e),[a,n]=t.startEndTimes;return a<=l&&l<=n||(!(!Rre(n,l,!1)||!g.current(n))||!(!m.current.includes(e)||!p))};if(n.every((t=>!s(t)||(e.push(t),!1)))){const e=n.find((e=>{const t=o.layerByLayerId.get(e),[a,n]=t.startEndTimes;return l<a}))||n[0],t=o.layerByLayerId.get(e);a.pause(),a.remove(),Xie(e,!1),VC(a.currentTime,t.relativeStartEndTimes[0],.03333333333333333)||setTimeout((()=>{a.currentTime=t.relativeStartEndTimes[0]}),0)}}m.current=e}),[l,p,o]),i.useEffect((function(){return()=>{o.destroyDomPool()}}),[o]),f.jsx(ele.Provider,{value:o,children:e})}));const nle=b.memo((({canvasHeight:e,canvasWidth:t,canvasY:a,layers:n})=>{const s=rY(),[o,r]=i.useState(null),l=i.useMemo((()=>v4(n)),[n]),d=tle(),{elementPool:c}=$G(),u=i.useRef(document.createElement("canvas")),p=i.useMemo((()=>{for(const{endTime:e,layer:t,startTime:a}of l)if(s>=a&&s<=e)return t;return null}),[l,s]),m=Du((e=>{if(p&&"image"===p.type)return pS(p,{type:"preview",state:e})})),g=(null==c?void 0:c.id)||tB.studio,h=Du((e=>{var t;return"number"==typeof(null==(t=e.elementPool.byElementPoolId[g])?void 0:t.userManualSeekTime)})),v=Yie(null==p?void 0:p.originalLayerId),b=i.useCallback((e=>{const t=null==c?void 0:c.domElementByLayerId.get(e.originalLayerId),a=null==d?void 0:d.domElementByLayerId.get(e.originalLayerId),n=t||a||null;return(null==n?void 0:n.readyState)&&1!==n.readyState?n:null}),[d,c]);i.useEffect((()=>{if(!p||"video"!==p.type)return;function e(e){const t=b(e);return r(t),!!t}if(e(p))return;const t=setInterval((()=>{e(p)&&clearInterval(t)}),150);return()=>{clearInterval(t)}}),[p,b]);const y=i.useMemo((()=>!!(p&&t&&e&&p.width&&p.height&&p.width/p.height<t/e)),[p,e,t]),w=i.useCallback((a=>{const n=u.current;if(!n)return;const s=t||100,i=e||100;n.width===s&&n.height===i||(n.width=t||100,n.height=e||100);const r=n.getContext("2d");if(r&&o&&t&&e&&a.width&&a.height)if(y){const n=t*a.height/a.width;r.drawImage(o,0,-n/2+e/2,t,t*a.height/a.width)}else{const n=e*a.width/a.height;r.drawImage(o,-n/2+t/2,0,n,e)}}),[o,e,y,t]),_=i.useCallback((async e=>{o&&(await eE(o,o.currentTime),w(e))}),[w,o]);if(i.useEffect((function(){p&&"video"===p.type&&!h&&o&&_(p)}),[p,_,s,h,o]),!p)return null;return f.jsx(Kie,{layer:p,style:(()=>{const n=Qk(p,v,s);return{position:"absolute",top:a,display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",transform:"scale(1.1)",filter:fM({filters:n,width:t??0,height:e??0,isBackgroundLayer:!0,supportsSVGBlur:E_})}})(),children:"video"===p.type?f.jsx("canvas",{id:"blurCanvas",ref:u,width:t,height:e}):"image"===p.type?f.jsx("img",{style:y?{width:t}:{height:e},src:m,alt:"main layer"}):null})})),sle=async({manager:e,properties:t={},propertiesAfterTypeDetermined:a=(()=>({})),replaceInfo:n,droppedTrackInfo:s})=>{const o=await j4(e.file,{...t,uploadId:e.layer.uploadId}),i=a(o);if(!i)return null;const r={...o,...i};return yJ({newLayer:r,options:{undoable:!0,knownTimelineRow:void 0!==t.timelineRow,droppedTrackInfo:s},replaceInfo:n})},ole=e=>r.batch((()=>{const{dispatch:t,state:a}=Mu(),n=cJ().filter((t=>e._id===t.cmlFileId)).map((e=>e.id));jJ({layerIds:n}),t(h9(e._id,a.studio._id))})),ile=e=>r.batch((()=>{const t=cJ().filter((t=>e===t.uploadId)).map((e=>e.id));jJ({layerIds:t}),k9(e)})),rle=({layerProperties:e,textPreset:t,replaceInfo:a,droppedTrackInfo:n})=>{const s={};Object.keys(e).forEach((t=>{const a=t,n=e[a];void 0!==n&&(s[a]=n)})),y3({preset:t,overrides:s,replaceInfo:a,droppedTrackInfo:n})},lle=async({dndAsset:e,layerProperties:t={},idOfLayerToReplace:a,droppedTrackInfo:n})=>{var s;const{url:o,query:i,urlSource:r,name:l,actionSource:d,mediaType:c,bRollLayerSource:u,usedProFeature:p,width:m,height:g}=e,h=c===Nc.Video;let v;h&&"videoDelay"in t&&(v=t.videoDelay);const f=t.startTime||t.endTime;!h&&f&&(v=t.startTime);const b={layerProperties:{addedLayerFrom:{source:d,query:i},name:l,bRollLayerSource:u,usedProFeatures:p?[p]:void 0,type:h?Nc.Video:Nc.Image,width:m,height:g,...t},replaceInfo:a?{idOfLayerToReplace:a,entryPoint:"Drag and Drop",mediaSource:"Media Library"}:void 0,useCustomVideoDelay:v,droppedTrackInfo:n};if(h){const t=e,n=null==(s=t.videoRef)?void 0:s.current,o=(null==n?void 0:n.duration)??t.duration,i=!!n&&await cI(n),r={type:Nc.Video,duration:o,hasAudio:i,width:m,height:g};b.mediaInfo=r,b.layerProperties.duration=o,a||(b.layerProperties.endTime=o)}if(r){ov(h?"Add layer from video search":"Add layer from image search",{source:r})}return oie({url:o,options:b})};function dle(e){const{state:t}=Mu(),{width:a,height:n}=t.studio;let s=null,o=null,i=null;switch(e.type){case $S.CML_FILE:i=E2(e.asset),e.asset.metadata_stage&&e.asset.dimensions&&(s=e.asset.dimensions.height,o=e.asset.dimensions.width);break;case $S.UPLOADING_LAYER:i=e.layer.type;break;case $S.SIDEBAR_IMAGE:i=e.image.mediaType,s=e.image.height,o=e.image.width;break;case $S.SIDEBAR_VIDEO:i=e.video.mediaType,s=e.video.height,o=e.video.width;break;case $S.TEXT_PRESET:{const{width:t,height:r}=((e,t,a)=>{const n=`${e.presetId}_${t}_${a}`,s=p3[n];if(s)return s;const o=b3(e),{width:i,height:r}=o.position,l={width:t*hq(i)/100,height:a*hq(r)/100};return p3[n]=l,l})(e.preset,a||0,n||0);o=t,s=r,i=Nc.Text;break}case $S.TEXT_TEMPLATE:{const{width:t,height:i}=((e,t,a)=>{const n=`${e.templateId}_${t}_${a}`,s=fie[n];if(s)return s;const o=vie(e);let i=100,r=0,l=100,d=0;o.forEach((({position:e})=>{if(!e)return;const{x:t,y:a,width:n,height:s}=e,o=hq(t),c=hq(a),u=hq(n),p=hq(s);o<i&&(i=o),c<l&&(l=c),o+u>r&&(r=o+u),c+p>d&&(d=c+p)}));const c={width:t*(r-i)/100,height:a*(d-l)/100};return fie[n]=c,c})(e.template,a||0,n||0);o=t,s=i;break}}return{layerType:i,nativeWidth:o,nativeHeight:s}}const cle=async({item:e,layerUpdates:t,idOfLayerToReplace:a,source:n,droppedTrackInfo:s})=>{if(ov("Add Layer From DND",{source:n,dragObjectType:e.type,isReplace:!!a}),!a||function(e){if(G7([e])){if(!window.confirm("You are replacing a layer that is currently being dubbed. Are you sure you want to replace it and cancel dubbing?"))return!1;z7("User replaced layer being dubbed")}return!0}(a))switch(e.type){case $S.CML_FILE:{const n=hg(Fd.BRANDKIT);return(await dse((()=>G9({cmlFile:e.cmlFile,asset:e.asset,properties:t,replaceInfo:a?{idOfLayerToReplace:a,entryPoint:"Drag and Drop",mediaSource:"Media Library"}:void 0,droppedTrackInfo:s})),{if:e.brandkitItem&&!n,action:Dd.BRANDKIT}))()}case $S.UPLOADING_LAYER:return(async({uploadId:e,properties:t={},replaceInfo:a,droppedTrackInfo:n})=>{var s,o;const{state:i}=Mu(),r=null==(o=null==(s=i.uploadStatuses)?void 0:s[e])?void 0:o.uploadManager;r&&await sle({manager:r,properties:t,replaceInfo:a,droppedTrackInfo:n})})({uploadId:e.uploadId,properties:{...t,addedFromMediaLibrary:!0},replaceInfo:a?{idOfLayerToReplace:a,entryPoint:"Drag and Drop",mediaSource:"Media Library"}:void 0,droppedTrackInfo:s});case $S.SIDEBAR_IMAGE:return lle({dndAsset:e.image,layerProperties:t,idOfLayerToReplace:a,droppedTrackInfo:s});case $S.SIDEBAR_VIDEO:return lle({dndAsset:e.video,layerProperties:t,idOfLayerToReplace:a,droppedTrackInfo:s});case $S.TEXT_PRESET:return rle({textPreset:e.preset,layerProperties:t||{},replaceInfo:a?{idOfLayerToReplace:a,entryPoint:null,mediaSource:null}:void 0,droppedTrackInfo:s});case $S.TEXT_TEMPLATE:return a&&jJ({layerIds:[a]}),(({layerProperties:e,textTemplate:t,droppedTrackInfo:a})=>{Object.keys(e).forEach((t=>{e[t]})),bie({template:t,undoable:!0,overrides:e,droppedTrackInfo:a})})({textTemplate:e.template,layerProperties:t||{},droppedTrackInfo:s});case $S.TRANSITION_TILE:default:return null}},ule=()=>{const[e,t]=i.useState({x:0,y:0}),[a,n]=i.useState({x:0,y:0});return i.useEffect((()=>{const e=e=>{t({x:e.screenX,y:e.screenY})};return window.addEventListener("mousedown",e),()=>{window.removeEventListener("mousedown",e)}}),[]),i.useEffect((()=>{const e=e=>{n({x:e.screenX,y:e.screenY})};return window.addEventListener("mouseup",e),()=>{window.removeEventListener("mouseup",e)}}),[]),{initialCoords:e,finalCoords:a}},ple=({onLongPress:e,onClick:t,shouldPreventDefault:a=!0,delay:n=300})=>{const[s,o]=i.useState(!1),r=i.useRef(null),l=i.useRef(null),d=i.useCallback((t=>{a&&t.target&&(t.target.addEventListener("touchend",mle,{passive:!1}),l.current=t.target),r.current=setTimeout((()=>{null==e||e(t),o(!0)}),n)}),[e,n,a]),c=i.useCallback(((e,n=!0)=>{r.current&&clearTimeout(r.current),n&&!s&&(null==t||t()),o(!1),a&&l.current&&l.current.removeEventListener("touchend",mle)}),[a,t,s]);return{eventHandlers:{onMouseDown:e=>d(e),onTouchStart:e=>d(e),onMouseUp:e=>c(e),onMouseLeave:e=>c(e,!1),onTouchEnd:e=>c(e)},isLongPress:s}},mle=e=>{window.TouchEvent&&e instanceof TouchEvent&&e.touches.length<2&&e.preventDefault&&e.preventDefault()};function gle(e,t){const{layer:a,x:n,y:s,width:o,height:i,canvasHeight:r,rotation:l}=e,d=dY(),[c,u]=zC(a),p=c<=d&&d<=u;if(!a)return{};const m=Aie(t??null,a,o,i),g=a.stroke||"#000000",h=a.lineWidth||0,v=r?parseFloat(h)/100*r:0,f={top:s,left:n,width:o,height:i,transform:`rotate(${l}deg)`,boxShadow:p?`0 0 0 ${v}px ${g}`:"none",borderRadius:`${m}px`,opacity:1,zIndex:"auto"};return a.filters&&a.filters.opacity&&(f.filter=`opacity(${a.filters.opacity}%)`),f}const hle=b.memo((({x:e,y:t,width:a,height:n})=>f.jsx("div",{children:f.jsx("div",{style:{background:"rgba(88, 107, 216, 0.5)",left:e,top:t,width:a,height:n,display:"block",position:"absolute",overflow:"hidden",outline:"1px dashed gray"}})})));function vle(e,t,a,n){if(!n)return{x:0,y:0,width:e,height:t};const s=oM(a,{x:0,y:0,width:n.naturalWidth,height:n.naturalHeight}),o=cM(e,t,s?s.width:n.naturalWidth,s?s.height:n.naturalHeight),i=oM(a,{x:0,y:0,width:o.xScaleFactor*n.naturalWidth,height:o.yScaleFactor*n.naturalHeight});return{x:o.xOffset-(i?i.x:0),y:o.yOffset-(i?i.y:0),width:o.xScaleFactor*n.naturalWidth,height:o.yScaleFactor*n.naturalHeight}}const fle=(e,t,a)=>{const n=Number(e.width),{left:s,top:o}=e;return{width:t,height:a,transform:`translate(${s}px, ${o}px) scale(${n/t})`,transformOrigin:"top left"}},ble=(e,t,a,n,s,o,i,r)=>{if("audio"===e.type&&!e.isAudiogram)return{};const l=i?Qk(e,i,r):e.filters,d={filter:fM({filters:l,width:s,height:o,layer:e,supportsSVGBlur:E_}),display:"audio"===e.type?"none":"block",opacity:1,...n},c=kT(e),{introTransition:u,outroTransition:p}=LT(e);if(!t&&("none"!==(null==c?void 0:c.id)||u||p)){const t=$se(e,!!a,d.transform||"",u),n=$se(e,!!a,d.transform||"",p),s=Jse(e,{transform:d.transform||""});c.id===Mc.PopInBounce&&delete s.scale;return{...Qse(d,s),...t,...n}}return d},yle=(e,t,a,n)=>{const s=mM(t,a,e),{width:o,height:i}=pM(a,[s.width,s.height]);return{position:"relative",left:s.x,top:s.y,width:n?s.width:o,height:n?s.height:i}},wle=b.memo((({layer:e,width:t,height:a,videoWidth:n,videoHeight:s,keyframeChannels:o})=>{const{elementPool:r}=$G(),l=i.useRef(void 0),d=i.useRef(null),c=rY(),u=Du((t=>{var a;return null==(a=jR(t,e.id))?void 0:a.filters}),Ou),p=Du((t=>MR(t,e.id))),m=i.useMemo((function(){const i=hY(e,c,p),r=yle(i,[t,a],[n,s],gY(e)),{width:l,height:d}=uM([t,a],[n,s]),m=fle(r,l,d);return ble({...e,filters:u||e.filters},!1,!1,m,t,a,o,c)}),[e,c,p,t,a,n,s,u,o]),g=Oie(e.id),h=Bu();return i.useEffect((function(){return l.current=new MutationObserver((e=>{for(const t of e)"childList"===t.type&&d.current&&g.setRef(d.current.children[0]??null)})),()=>{var e;null==(e=l.current)||e.disconnect()}}),[h,e.id,g]),f.jsx(Kie,{layer:e,style:m,children:f.jsx("div",{id:null==r?void 0:r.getDomIdFromLayerId(e.id),"data-cy":"ep-container",ref:e=>{var t,a;d.current=e,(null==e?void 0:e.children[0])&&g.setRef(e.children[0]??null),e?null==(t=l.current)||t.observe(e,{childList:!0}):null==(a=l.current)||a.disconnect()}})})}));wle.displayName="EPContainer";const _le="Loading-module_loader_TzMM9",Cle="Loading-module_loading-wrapper_RznSq",Sle="Loading-module_loading-description_7QlnP",xle="Loading-module_loading-secondary_eBPdt",Ile=b.memo((({loaderStyles:e,secondaryText:t,text:a,textOnly:n=!1,textStyles:s,wrapperStyles:o})=>{let i="Loading ...";return null!=a&&(i=a),f.jsxs("div",{className:Cle,"data-cy":"loading-container","data-testid":"loading-container",style:o,children:[!n&&f.jsx("div",{className:_le,style:e}),f.jsxs("div",{children:[f.jsx("div",{className:Sle,style:s,children:i}),t&&f.jsx("div",{className:xle,style:s,children:t})]})]})})),Ale=e=>({mixBlendMode:e.foregroundBlendMode,opacity:e.foregroundOpacity}),kle=(e,t,a)=>{const n=e/255,s=t/255,o=a/255,i=Math.min(n,s,o),r=Math.max(n,s,o),l=r-i;let d=0;0===l?d=0:(r===n&&(d=(s-o)/l*60),r===s&&(d=60*(2+(o-n)/l)),r===o&&(d=60*(4+(n-s)/l)));return{H:d,S:0===r?0:l/r,V:r}},Tle="SafariFilterImage-module_filterCanvasWrapper_L3-SR",Ele="SafariFilterImage-module_backgroundCanvas_i6qyg",Lle="SafariFilterImage-module_imageCanvasWrapper_Mndb4",jle="SafariFilterImage-module_imageCanvas_EMNhv",Rle="SafariFilterImage-module_foregroundCanvas_hy3cr",Nle=b.memo((({image:e,filter:t,style:a,sizeStyle:n})=>{const s=i.useRef(null),o=i.useRef(null),r=i.useRef(null),l=i.useRef(null),[d,c]=i.useState(!1),u=i.useCallback(((a,n)=>{const i=s.current,r=o.current;if(!i||!r)return;const{width:l,height:d}=i,c=r.getContext("2d");c&&t&&(c.save(),c.clearRect(0,0,l,d),n(t,c),c.restore());const u=a.getContext("2d");u&&e&&(u.drawImage(e,0,0,l,d),u.save(),u.globalCompositeOperation="source-in",u.drawImage(r,0,0,l,d),u.restore())}),[e,t]),p=i.useCallback((()=>{const t=s.current,a=null==t?void 0:t.getContext("2d");if(!e||!t||!a)return;if(!d)return void setTimeout((()=>c(!0)),0);const{width:n,height:o}=t;if(0===n||0===o)return;a.drawImage(e,0,0,n,o);const i=r.current,p=l.current;i&&p&&(u(i,Eie),u(p,Tie))}),[e,u,d]);return i.useEffect((()=>{p()}),[p]),f.jsxs("div",{style:a,className:Tle,children:[f.jsx("canvas",{ref:o,style:{...n,opacity:0},width:(null==e?void 0:e.width)||0,height:(null==e?void 0:e.height)||0}),f.jsx("canvas",{ref:l,className:Ele,style:n,width:(null==e?void 0:e.width)||0,height:(null==e?void 0:e.height)||0}),f.jsx("div",{className:Lle,style:(m=t||{},{mixBlendMode:m.backgroundBlendMode,opacity:m.opacity,filter:m.styles,WebkitFilter:m.styles}),children:f.jsx("canvas",{ref:s,width:(null==e?void 0:e.width)||0,height:(null==e?void 0:e.height)||0,className:jle,style:n})}),f.jsx("canvas",{ref:r,className:Rle,style:{...Ale(t||{}),...n},width:(null==e?void 0:e.width)||0,height:(null==e?void 0:e.height)||0})]});var m})),Mle=b.memo((({image:e,filter:t,layer:a,style:n,sizeStyle:s})=>{const o=Du((e=>jR(e,(null==a?void 0:a.id)??""))),r=i.useRef(null),l=i.useRef(null),d=i.useRef(null),[c,u]=i.useState(!1),p=i.useCallback((()=>{const t=d.current;if(!t||!e)return!1;const{width:a,height:n}=t;if(a<0||n<0)return!1;const s=t.getContext("2d");if(!s)return!1;s.drawImage(e,0,0,a,n);try{return s.getImageData(0,0,a,n)}catch(b9e){return console.error("CANVAS ERROR",b9e),null}}),[e]),m=i.useCallback(((e,t,n,s)=>{if(!a)return null;const{chromaKeyThresholdTemp:i,chromaKeyHueTldTemp:r,chromaKeySatTldTemp:l,chromaKeyValTldTemp:d}=o||{},c=i||a.chromaKeyThreshold||0,u=r||a.chromaKeyHueThreshold||0,p=l||a.chromaKeySatThreshold||0,m=d||a.chromaKeyValThreshold||0;if("colorKey"===a.chromaKeyChannel){const{H:a,S:o,V:i}=kle(e,t,n);return!(Math.abs(s.H-a)>=u&&Math.abs(s.H-a-360)>=u&&Math.abs(s.H-a+360)>=u)&&(!(Math.abs(s.S-o)>=p)&&!(Math.abs(s.V-i)>=m))}const g="green"===a.chromaKeyChannel?t:n,h="green"===a.chromaKeyChannel?[e,n]:[e,t],v=Math.max(e,t,n);if(v!==g)return!1;return v-Math.max(...h)>255-c}),[a,o]),g=i.useCallback((async()=>{const t=r.current,n=null==t?void 0:t.getContext("2d");if(!a)return;const{chromaKeyChannel:s,chromaKeyColor:o}=a;if("colorKey"===s&&o===KN){if(t&&n&&e){const{width:a,height:s}=t;n.drawImage(e,0,0,a,s)}return}let i;if("colorKey"===s&&o){const e=parseInt(o.slice(1,3),16),t=parseInt(o.slice(3,5),16),a=parseInt(o.slice(5,7),16);i=kle(e,t,a)}if(t&&i&&d.current){const e=p();if(!e)return;const a=e.data;for(let t=0;t<a.length;t+=4)m(a[t]??0,a[t+1]??0,a[t+2]??0,i)&&(a[t+3]=0);((e,t,a)=>{if(!t||!a)return;const{width:n,height:s}=t,o=t.getContext("2d");if(!o)return;const i=null==a?void 0:a.getContext("2d");if(!i)return;i.imageSmoothingEnabled=!0;const{width:r,height:l}=a;try{o.putImageData(e,0,0),i.clearRect(0,0,r,l),i.drawImage(t,0,0,n,s,0,0,r,l)}catch(b9e){console.error("CANVAS ERROR",b9e)}})(e,d.current,t)}}),[a,p,m,e]),h=i.useCallback((()=>{const n=r.current,s=null==n?void 0:n.getContext("2d");if(!n||!s||!e)return;if(!c)return void setTimeout((()=>u(!0)),0);const{width:o,height:i}=n;if(0===o||0===i)return;s.clearRect(0,0,o,i),(null==a?void 0:a.chromaKey)?g():s.drawImage(e,0,0,o,i);const d=l.current,p=null==d?void 0:d.getContext("2d");t&&p&&d&&(p.save(),p.clearRect(0,0,o,i),Lie(t,p,e),p.restore(),s.save(),s.globalCompositeOperation="source-in",s.drawImage(d,0,0,o,i),s.restore())}),[e,t,g,null==a?void 0:a.chromaKey,c]);return i.useEffect((()=>{h()}),[h,e]),f.jsx("div",{children:S_()&&t?f.jsx(Nle,{filter:t,image:e,style:n,sizeStyle:s}):f.jsxs(f.Fragment,{children:[f.jsx("div",{style:{display:"none"},children:f.jsx("canvas",{ref:d,width:(null==e?void 0:e.width)||0,height:(null==e?void 0:e.height)||0})}),f.jsx("canvas",{ref:l,style:{display:"none"},width:(null==e?void 0:e.width)||0,height:(null==e?void 0:e.height)||0}),f.jsx("canvas",{ref:r,width:(null==e?void 0:e.width)||0,height:(null==e?void 0:e.height)||0,style:E_?n:s})]})})})),Ple=c.memoize(zC),Fle={color:"white",fontWeight:600,fontSize:"12px",fontFamily:"Open Sans, sans-serif"},Dle={display:"none"};let Ole=class extends i.Component{constructor(e){super(e),a(this,"image",null),a(this,"layerRefService",new Uie),a(this,"handlePointerDown",(()=>{const{selectItem:e}=this.props;e(null)})),a(this,"getImageContainerStyles",(()=>{var e;const{forMovingZoomControls:t,height:a,imageShadowBlurTemp:n,imageShadowDistTemp:s,imageShadowRotTemp:o,imageShadowOpacityTemp:i,isBeingInlineCropped:r,layer:l,rotation:d,staticPreview:c,width:u,x:p,y:m,isWaitingForNextEPLayer:g,borderRadiusTemp:h,waitingForSeekToResolve:v}=this.props,[f,b]=this.props.absoluteTimes,{studioTime:y}=this.props,w=t||f<=y&&y<=b,_=Aie(h??null,l,u,a),C={x:"",y:""};(null==(e=l.position)?void 0:e.flip)&&!this.props.forMovingZoomControls&&Object.assign(C,{x:l.position.flip.x?" scaleX(-1)":"",y:l.position.flip.y?" scaleY(-1)":""});const S=!(c||w||g||v);let x="",I="";const A=.5*(n||l.imageShadowBlur||0),k=s||l.imageShadowDist||0,T=(o||l.imageShadowRot||0)*Math.PI/180,E=i??l.imageShadowOpacity??1;x=`drop-shadow(${2*k*Math.cos(T)}em ${2*k*Math.sin(T)}em ${A}em ${vM(l.imageEffectColor,E)||l.imageEffectColor})`,(S_()||C_())&&(I="filter");let L=d||0;return 0!==_&&d&&d%90==0&&0!==d&&(L+=1e-5),{position:"absolute",left:p,top:m,width:u,height:a,overflow:r?"visible":"hidden",zIndex:r?5:"auto",filter:x,willChange:I,transform:`rotate(${L}deg)${C.x}${C.y}`,display:S?"none":"block",borderRadius:`${_}px`}})),a(this,"checkAnimationType",(e=>e&&e.type&&"none"!==e.id)),a(this,"getSizeStyles",(()=>{const{width:e,height:t,layer:a}=this.props,n=vle(e,t,a.crop,this.image);return{width:n.width,height:n.height}})),a(this,"getImageStyles",(()=>{const{width:e,height:t,staticPreview:a,layer:n,duration:s,trackIsBeingManipulated:o,isWaitingForNextEPLayer:i,keyframeChannels:r,studioTime:l,forMovingZoomControls:d,absoluteTimes:c,tempFilters:u,waitingForSeekToResolve:p}=this.props,[m,g]=c,h=!(a||(d||m<=l&&l<=g)||i||p),v=vle(e,t,hY(n,l,o),this.image),f={position:"absolute",left:v.x,top:v.y,width:v.width,height:v.height};if(this.props.forMovingZoomControls)return f;const{width:b,height:y}=vle(e,t,sM,this.image),w=fle(f,b,y),_=TT(n);let C={};!a&&s&&(_.some((e=>"none"!==(null==e?void 0:e.id)))&&(C=Jse(n,{transform:w.transform}),_.some((e=>e.id===Mc.PopInBounce))&&delete C.scale),_.some((e=>null==e?void 0:e.layerInvolvesMovement))&&C.transform&&(w.transform=""));let S=u||n.filters;r&&(S=Qk(n,r,l));return Qse({position:"absolute",filter:fM({filters:S,width:e,height:t,layer:n,supportsSVGBlur:E_}),display:h?"none":"block",...w},C)})),a(this,"getAnimationOutlineStyles",(()=>{const{staticPreview:e,layer:t,duration:a}=this.props;let n={};const s=gle(this.props,this.props.borderRadiusTemp??null),o=TT(t);return!e&&a&&o.some((e=>"none"!==(null==e?void 0:e.id)))&&(n=Jse(t,{transform:s.transform})),{...s,...n}})),a(this,"imageRef",(e=>{this.image=e;this.layerRefService.get(this.props.layer.id).setRef(e)})),this.state={loaded:!1}}componentDidUpdate(){const{staticPreview:e,layer:t,duration:a,updateLayerAnimationPosition:n}=this.props,s=TT(t);if(!e&&a&&n)if(s.some((e=>"none"!==(null==e?void 0:e.id)))){const e=Jse(t);s.some((e=>e.layerInvolvesMovement))&&n(e)}else s.some((e=>this.checkAnimationType(e)))&&n(void 0);this.image&&this.imageRef(this.image)}componentWillUnmount(){this.layerRefService.delete()}hasPresetFilter(){const{layer:e}=this.props;return e.presetFilter&&e.presetFilter.name&&"Original"!==e.presetFilter.name||!0===e.chromaKey}renderImage(){const{loaded:e}=this.state,{url:t}=this.props;return f.jsx("img",{"data-cy":"image",ref:e=>{e&&this.imageRef(e)},src:t,onLoad:()=>{pz("canvas"),this.setState((e=>({...e,loaded:!0})))},className:[eoe.image,eoe.disableselect].join(" "),style:e&&!this.hasPresetFilter()?this.getImageStyles():{display:"none"},draggable:!1,alt:"Studio preview"})}renderFilterImage(){const{loaded:e}=this.state,{layer:t}=this.props;return f.jsx(Mle,{image:this.image,filter:t.presetFilter,layer:t,style:e?this.getImageStyles():Dle,sizeStyle:this.getSizeStyles()})}renderConversion(){return f.jsx("div",{className:eoe.videoConversion,children:f.jsx(Ile,{textStyles:Fle,text:"Converting Image..."})})}render(){const e=this.getImageContainerStyles(),{layer:t}=this.props,{loaded:a}=this.state;return f.jsxs("div",{children:[f.jsxs("div",{className:eoe.imageContainer,style:e,children:[t.requireConversion&&this.renderConversion(),a&&this.hasPresetFilter()&&this.renderFilterImage(),this.renderImage()]}),f.jsx("div",{style:this.getAnimationOutlineStyles(),className:eoe.outline,onPointerDown:this.handlePointerDown})]})}};const Ule=r.connect((()=>{const e=Mre();return(t,a)=>{var n,s,o;const{imageShadowBlurTemp:i,imageShadowDistTemp:r,imageShadowRotTemp:l,imageShadowOpacityTemp:d}=jR(t,a.layer.id),c=Ple(a.layer),[u,p]=c;let m,g=!1;return Rre(p,a.studioTime,VJ(t))&&(g=e(t,p)),m=a.defaultImageUrl?a.defaultImageUrl:pS(a.layer,{state:t}),{absoluteTimes:c,containerWidth:t.studioSizing.containerWidth,containerHeight:t.studioSizing.containerHeight,duration:t.studio.duration,isBeingInlineCropped:(null==(n=jR(t,a.layer.id))?void 0:n.isBeingInlineCropped)||null,imageShadowBlurTemp:i,imageShadowDistTemp:r,imageShadowRotTemp:l,imageShadowOpacityTemp:d,trackIsBeingManipulated:MR(t,a.layer.id),isWaitingForNextEPLayer:g,url:m,keyframeChannels:Kse(t,a.layer.id),tempFilters:null==(s=jR(t,a.layer.id))?void 0:s.filters,borderRadiusTemp:null==(o=jR(t,a.layer.id))?void 0:o.borderRadiusTemp}}}),(e=>j({selectItem:ck},e)))(Ole),Ble="LoadingShimmer-module_loadingShimmer_qMMHx",Wle="LoadingShimmer-module_lightShimmer_75HMG",Vle=b.memo((({width:e,height:t,borderRadius:a,theme:n})=>{const s={height:t??"100%",width:e??"100%",borderRadius:a};return f.jsx("div",{className:n===h_.Workspace?Wle:Ble,style:s})})),Hle=({layer:e,width:t,height:a,videoWidth:n,videoHeight:s,keyframeChannels:o})=>{const r=rY(),l=Du((t=>{var a;return null==(a=jR(t,e.id))?void 0:a.filters}),Ou),d=Du((t=>MR(t,e.id))),c=i.useMemo((function(){const i=hY(e,r,d),c=yle(i,[t,a],[n,s],gY(e)),{width:u,height:p}=uM([t,a],[n,s]),m=fle(c,u,p);return ble({...e,filters:l||e.filters},!1,!1,m,t,a,o,r)}),[e,t,a,n,s,r,d,o,l]),{start:u,end:p}=bp(e);return u<=r&&r<=p?f.jsx(Kie,{layer:e,style:c,children:f.jsx("div",{style:{position:"absolute",top:0,left:0,bottom:0,right:0,overflow:"hidden"},children:f.jsx(Vle,{height:1e3,borderRadius:0})})}):null},zle="Placeholder-module_placeholder_2s4zd",Gle="Placeholder-module_placeholderImage_3-lwu",Yle="Placeholder-module_placeholderPreview_d-FY2",Kle=c.memoize(zC),Xle=b.memo(lY((e=>{const{previewUrl:t,layer:a}=e,[n,s]=Kle(a);return f.jsx("div",{className:zle,style:(()=>{const{x:t,y:o,width:i,height:r,staticPreview:l,rotation:d,studioTime:c}=e,u=!l&&!(n<=c&&c<=s);return{position:"absolute",left:t,top:o,width:i,height:r,background:a.background,display:u?"none":"flex",transform:`rotate(${d}deg)`}})(),children:t?f.jsx("img",{src:t,alt:"placeholder preview",className:Yle}):f.jsx("img",{src:"/assets/placeholder-BojpHEOr.svg",className:Gle,alt:"placeholder icon"})})})));class Zle extends i.Component{constructor(){super(...arguments),a(this,"getEllipseStyles",(()=>{const{layer:e,width:t,height:a,canvasHeight:n,studioTime:s,keyframeChannels:o,globalAlphaTemp:i}=this.props,{lineWidth:r}=e,l=parseFloat(r)/100*n,d=$k(e,o,s),c=i??((null==o?void 0:o[Cu.OPACITY])?Qk(e,o,s).opacity/100:e.globalAlpha);return{cx:l/2+t/2,cy:l/2+a/2,rx:t/2,ry:a/2,fill:d,stroke:e.stroke,strokeWidth:l,opacity:c}}))}render(){return f.jsx("ellipse",{style:this.getEllipseStyles()})}}const qle=r.connect(((e,t)=>{var a;return{keyframeChannels:Kse(e,t.layer.id),globalAlphaTemp:null==(a=jR(e,t.layer.id))?void 0:a.globalAlphaTemp}}))(lY(Zle));class Jle extends i.Component{constructor(){super(...arguments),a(this,"getLineStyles",(()=>{const{layer:e,canvasHeight:t,keyframeChannels:a,studioTime:n,globalAlphaTemp:s}=this.props,{lineWidth:o}=e,i=parseFloat(o)/100*t,r=s??((null==a?void 0:a[Cu.OPACITY])?Qk(e,a,n).opacity/100:e.globalAlpha);return{stroke:e.stroke,strokeWidth:i,opacity:r,strokeLinecap:e.lineCap}})),a(this,"getLineMarkerEnd",(e=>{switch(e){case"open":return{path:"M0,0 L3,1.5 L0,3",fill:!1};case"closed":return{path:"M0,0 V3 L3,1.5 Z",fill:!0};default:return{path:"",fill:!1}}})),a(this,"getLineDashArray",((e,t)=>{switch(e){case"big dash":return[4*t,2*t];case"small dash":return[2*t];case"dotted":return[0,t+t/2];default:return[]}})),a(this,"handleSelectLayer",(()=>{const{selectedItem:e,layer:t,selectItem:a}=this.props;(null==e?void 0:e.id)!==t.id&&a({id:t.id,type:"layer"})}))}render(){const{width:e,height:t,layer:a,points:n,lineResizing:s,canvasHeight:o}=this.props,{id:i,stroke:r,lineCap:l,lineWidth:d,lineStyle:c,lineArrow:u,linePointStartCorner:p}=a,m=`markerEnd${i}`,g=u?`url(#${m})`:"",h=parseFloat(d)/100*o,v=this.getLineMarkerEnd(u),b=this.getLineDashArray(c,h),y={topLeft:[h,h,e,t],topRight:[e,h,h,t],bottomLeft:[h,t,e,h],bottomRight:[e,t,h,h]},[w,_,C,S]=y[p||"topLeft"];return f.jsxs(f.Fragment,{children:[v.path&&f.jsx("defs",{children:f.jsx("marker",{id:m,orient:"auto",markerWidth:"4",markerHeight:"8",refX:"3",refY:"1.5",style:{overflow:"visible"},children:f.jsx("path",{d:v.path,stroke:r,strokeWidth:1,fill:v.fill?r:"none",strokeLinejoin:l,strokeLinecap:l,strokeDasharray:10})})}),f.jsx("line",{x1:s?n[0]+h:w,y1:s?n[1]+h:_,x2:s?n[2]+h:C,y2:s?n[3]+h:S,style:this.getLineStyles(),strokeDasharray:b||"",markerEnd:g,className:eoe.svgLine,onPointerDown:this.handleSelectLayer})]})}}const $le=r.connect(((e,t)=>{var a;return{selectedItem:oU(e),keyframeChannels:Kse(e,t.layer.id),globalAlphaTemp:null==(a=jR(e,t.layer.id))?void 0:a.globalAlphaTemp}}),(e=>j({selectItem:ck},e)))(lY(Jle));class Qle extends i.Component{constructor(){super(...arguments),a(this,"pctComplete",(()=>{const{layer:e,studioTime:t}=this.props;let a=t;e.startTime&&(a-=e.startTime);let n=0;void 0!==e.startTime&&void 0!==e.endTime?n=e.endTime-e.startTime:this.props.duration&&(n=this.props.duration);return a/n})),a(this,"getProgressBarStyles",(()=>{const{layer:e,width:t,height:a,canvasHeight:n,staticPreview:s}=this.props,{progressBarStyle:o,lineWidth:i}=e;let r;s||"background"===o||(r=Jse(e,{studioTime:this.props.studioTime,studioAnimations:this.props.studioAnimations}));const l=parseFloat(i)/100*n,{progressBarStyles:d}=y5(e,this.pctComplete(),this.props.staticPreview);return{width:t,height:a+l,...r,borderColor:e.stroke,borderStyle:"solid",borderWidth:l,opacity:e.globalAlpha,...d}})),a(this,"ProgressBar",(()=>f.jsx("div",{style:this.getProgressBarStyles()})))}render(){const{layer:e}=this.props,{containerDivStyles:t}=y5(e,this.pctComplete(),this.props.staticPreview);return t?f.jsx("div",{style:t,children:this.ProgressBar()}):this.ProgressBar()}}const ede=lY(r.connect((e=>({duration:e.studio.duration})))(Qle));class tde extends i.Component{constructor(){super(...arguments),a(this,"getRectStyles",(()=>{const{layer:e,width:t,height:a,canvasHeight:n,keyframeChannels:s,studioTime:o,globalAlphaTemp:i}=this.props,{lineWidth:r}=e,l=parseFloat(r)/100*n,d=$k(e,s,o),c=i??((null==s?void 0:s[Cu.OPACITY])?Qk(e,s,o).opacity/100:e.globalAlpha);return{width:t,height:a,x:l/2,y:l/2,fill:d,stroke:e.stroke,strokeWidth:l,opacity:c}}))}render(){const{layer:e,borderRadiusTemp:t,width:a,height:n}=this.props,s=Aie(t??null,e,a,n);return f.jsx("rect",{style:this.getRectStyles(),rx:s})}}const ade=r.connect(((e,t)=>{var a;return{keyframeChannels:Kse(e,t.layer.id),globalAlphaTemp:null==(a=jR(e,t.layer.id))?void 0:a.globalAlphaTemp}}))(lY(tde)),nde=(e,t,a)=>{const n=e.props;return(null==e?void 0:e.type)&&"path"===e.type?f.jsx("path",{d:n.d,style:t,transform:a},n.d):"circle"===(null==e?void 0:e.type)?f.jsx("circle",{cx:n.cx,cy:n.cy,r:n.r,pathLength:n.pathLength,style:t,transform:a}):null},sde=b.memo((({layer:e,canvasHeight:t,position:{width:a,height:n}})=>{Du((e=>e.studioSizing.containerWidth)),Du((e=>e.studioSizing.containerHeight));const s=Du((t=>{var a;return null==(a=jR(t,e.id))?void 0:a.globalAlphaTemp})),o=Yie(e.id),i=rY(),r=()=>{var n;const{lineWidth:r}=e,l=parseFloat(r)/100*t,d=parseFloat(a)/((null==(n=null==e?void 0:e.position)?void 0:n.svg_width)||1),c=$k(e,o,i),u=s??((null==o?void 0:o[Cu.OPACITY])?Qk(e,o,i).opacity/100:e.globalAlpha);return{fill:c,stroke:e.stroke,strokeWidth:l/d,opacity:u}},l=()=>{var s,o;const{lineWidth:i}=e,r=parseFloat(i)/100*t,l=parseFloat(a)/((null==(s=null==e?void 0:e.position)?void 0:s.svg_width)||1),d=parseFloat(n)/((null==(o=null==e?void 0:e.position)?void 0:o.svg_height)||1),c=r/l/2,u=r/d/2;return`scale(${l},${d})${"line"!==e.shapeType?`,translate(${c},${u})`:""}`};return"string"==typeof e.svgData?f.jsx("path",{style:r(),d:e.svgData,transform:l()}):f.jsx(f.Fragment,{children:e.svgChildren&&e.svgChildren.map((e=>nde(e,r(),l())))})})),ode=c.memoize(zC);class ide extends i.Component{constructor(){super(...arguments),a(this,"getStyles",(()=>{const{layer:e,staticPreview:t}=this.props,[a,n]=this.props.absoluteTimes,{studioTime:s}=this.props,o=!t&&!(a<=s&&s<=n),i={...this.getDivSize(),display:o?"none":"block"},r=kT(e);let l={};return t||"progress-bar"===(null==r?void 0:r.id)||(l=Jse(e,{transform:i.transform})),Qse(i,l)})),a(this,"getDivSize",(()=>{const{layer:e,x:t,y:a,width:n,height:s,rotation:o,canvasHeight:i}=this.props,{lineWidth:r}=e,l=parseFloat(r)/100*i/2;return{position:"absolute",left:t-l,top:a-l,width:n+2*l,height:s+2*l,transform:`rotate(${o}deg)`}})),a(this,"renderShapes",(()=>{const{layer:e}=this.props;return"progressBar"===e.shapeType?f.jsx("div",{className:eoe.svgContainer,children:this.renderShape()}):f.jsx("svg",{className:eoe.svgContainer,height:"100%",width:"100%","data-cy":"shape",children:this.renderShape()})})),a(this,"renderShape",(()=>{const{layer:e,x:t,y:a,width:n,height:s,points:o,lineResizing:i,canvasHeight:r,staticPreview:l,borderRadiusTemp:d,studioAnimations:c}=this.props,u={x:t,y:a,width:n,height:s};switch(e.shapeType){case"progressBar":return f.jsx(ede,{staticPreview:l,layer:e,width:n,height:s,canvasHeight:r,studioAnimations:c});case"rectangle":return f.jsx(ade,{layer:e,width:n,height:s,canvasHeight:r,borderRadiusTemp:d});case"ellipse":return f.jsx(qle,{layer:e,width:n,height:s,canvasHeight:r});case"line":case"arrow":return f.jsx($le,{layer:e,width:n,height:s,points:o,lineResizing:i,canvasHeight:r});case"svg":return f.jsx(sde,{layer:e,position:u,canvasHeight:r||0});default:return null}}))}componentDidUpdate(){const{layer:e,staticPreview:t,updateLayerAnimationPosition:a}=this.props,[n,s]=this.props.absoluteTimes,{studioTime:o}=this.props,i=!t&&!(n<=o&&o<=s),r={...this.getDivSize(),display:i?"none":"block"},l=kT(e);if(!t&&"progress-bar"!==(null==l?void 0:l.id)){const t=Jse(e,{transform:r.transform});l.layerInvolvesMovement&&a(t)}}render(){const e=this.getStyles();return f.jsx("div",{style:e,className:eoe.disableselect,children:this.renderShapes()})}}const rde=r.connect((()=>(e,t)=>{var a;return{absoluteTimes:ode(t.layer),borderRadiusTemp:null==(a=jR(e,t.layer.id))?void 0:a.borderRadiusTemp}}))(ide),lde=async(e,t,a,n)=>{let s=((e,t)=>{const{state:a}=Mu(),{draggedTracksOverrides:n}=a.studioLocal,s=wp(e),o=!!(null==n?void 0:n.overrides[e.id]);let i=1;e.playbackRate&&(i=e.playbackRate);let r=t;return r-=e.videoDelay||0,r>s&&!o&&(r%=s),r*=i,r+=e.startTime||0,e.isReversed&&(r=e.duration-r),r})(e,a);if(s>=t.duration&&(Mp(e)?s%=t.duration:s=t.duration-.01),e.isReversed){const t=e.duration-s;n&&(n.currentTime=t)}await eE(t,s)},dde=()=>!x_(),cde=(e,t,a)=>{const n=e.createShader(t);if(!n)return null;e.shaderSource(n,a),e.compileShader(n);return e.getShaderParameter(n,e.COMPILE_STATUS)?n:(console.error(e.getShaderInfoLog(n)),e.deleteShader(n),null)},ude=(e,t,a,n,s)=>{const o=t,i=t+n,r=a,l=a+s;e.bufferData(e.ARRAY_BUFFER,new Float32Array([o,r,i,r,i,l,o,l]),e.STATIC_DRAW)},pde=(e,t)=>{const a=e.FLOAT;e.vertexAttribPointer(t,2,a,!1,0,0)},mde=(e,t,a)=>{const n=cde(e,e.VERTEX_SHADER,t),s=cde(e,e.FRAGMENT_SHADER,a);if(!n||!s)return null;const o=e.createProgram();if(!o)return null;e.attachShader(o,n),e.attachShader(o,s),e.linkProgram(o);return e.getProgramParameter(o,e.LINK_STATUS)?(e.useProgram(o),o):(console.error(e.getProgramInfoLog(o)),e.deleteProgram(o),null)},gde=(e,t,a,n)=>{((e,t)=>{const a=e.getAttribLocation(t,"a_vertexPosition"),n=e.createBuffer();e.enableVertexAttribArray(a),e.bindBuffer(e.ARRAY_BUFFER,n),ude(e,-1,-1,2,2),pde(e,a);const s=e.getAttribLocation(t,"a_textureCoord"),o=e.createBuffer();e.enableVertexAttribArray(s),e.bindBuffer(e.ARRAY_BUFFER,o),ude(e,0,0,1,1),pde(e,s)})(e,t),((e,t)=>{const a=e.createTexture();e.bindTexture(e.TEXTURE_2D,a),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t)})(e,a),((e,t)=>{const a=e.getUniformLocation(t,"u_resolution");e.uniform2f(a,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height)})(e,t),hde(e,t,{u_rotation:[n]})},hde=(e,t,a)=>{for(const[n,s]of Object.entries(a)){const a=e.getUniformLocation(t,n);1===s.length?e.uniform1fv(a,s):2===s.length?e.uniform2fv(a,s):3===s.length?e.uniform3fv(a,s):4===s.length&&e.uniform4fv(a,s)}},vde=(e,t,a,n)=>{e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!0),((e,t,a,n)=>{const{key:s,valThreshold:o}=a;if(!s||void 0===o)return;const i=mde(e,"\nprecision mediump float;\n\nattribute vec3 a_vertexPosition;\nattribute vec2 a_textureCoord;\nvarying vec2 v_textureCoord;\n\nuniform float u_rotation;\n\nvec2 rotateTexture(vec2 pixelCoord, float rotation) {\n  if(rotation == 0.0) return pixelCoord;\n\n  float angle = radians(-rotation);\n  float sine = sin(angle);\n  float cosine = cos(angle);\n\n  vec2 centerTranslation = - vec2(0.5, 0.5);\n  vec2 centeredCoord = pixelCoord + centerTranslation;\n  mat2 rotMatrix = mat2(cosine, -sine,\n                      sine, cosine);\n  vec2 rotatedCoord = rotMatrix * centeredCoord;\n\n  return rotatedCoord - centerTranslation;\n\n}\n\nvoid main() {\n  gl_Position = vec4(a_vertexPosition, 1.0);\n  v_textureCoord = rotateTexture(a_textureCoord, u_rotation);\n}\n","\nprecision mediump float;\n\n// Passed in from the vertex shader\nvarying vec2 v_textureCoord;\n\n// Global variables\nuniform sampler2D u_textureImage;\nuniform vec3 u_key;\nuniform float u_threshold;\n\nbool shouldKeyOut(vec4 rgb) {\n  float diff = sqrt(\n    (\n      (rgb.r - u_key[0]) * (rgb.r - u_key[0])\n        + (rgb.g - u_key[1]) * (rgb.g - u_key[1])\n        + (rgb.b - u_key[2]) * (rgb.b - u_key[2])\n    ) / 3.0\n  );\n\n  return diff < u_threshold;\n}\n\nvoid main() {\n  // Get pixel color from the texture.\n  vec4 color = texture2D(u_textureImage, v_textureCoord);\n\n  float transparency = 1.0;\n  if (shouldKeyOut(color)) transparency = 0.0;\n  gl_FragColor = vec4(color.rgb, transparency);\n}\n");if(!i)return;gde(e,i,t,n);const r={u_key:[s.R,s.G,s.B],u_threshold:[o]};hde(e,i,r),(e=>{e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),e.drawArrays(e.TRIANGLE_FAN,0,4)})(e)})(e,t,a,n)};class fde{constructor(e,t){this.unallocate=()=>{this.dataArray=new Float32Array},this.dataArray=new Float32Array(t),this.duration=e.duration,this.sampleRate=e.sampleRate,this.isFfmpeg=e.isFfmpeg,this.scalingFactor=e.scalingFactor,this.source=e.source}static async fromDataFile(e){const t=await e.file.arrayBuffer();return new fde(e,t)}static async fromLocalInfo(e){const t=await fetch(e.local_url).then((e=>e.blob())),a=await t.arrayBuffer();return new fde(e,a)}}async function bde(){const{state:e}=Mu();if(!Nb(e))return;const{isQualifiedDomain:t}=await Kf("/api/v1/users/qualifiedDomain");t4(t)}function yde(){const[e,t]=i.useState(!1),a=Du((e=>{var t;if(!e.currentUser)return!1;if("object"!=typeof e.currentUser.user||!e.currentUser.user)return!1;const a=null==(t=e.currentUser.user.onboarding)?void 0:t.survey;return!!a&&(("marketing"===a.occupation||"creative agency"===a.occupation)&&a.usage===Kc.Work)}));return i.useEffect((function(){bde().then((()=>{t(e4())}))}),[]),e&&a}function wde(e){return new Worker("/assets/selfProfiler-worker-Cgog5bj3.js",{name:null==e?void 0:e.name})}const _de=Math.random();const Cde=u((e=>e.currentUser),dg,((e,t)=>t),((e,t,a)=>!Rl&&("function"==typeof window.Profiler&&(!!qm(e)&&(!!$m(e)||!(_de>.25)&&(!!t.isPaid||a))))));function Sde(){const{state:e}=Mu(),t={},a=Object.values(e.studio.allLayers.byId);t["Video ID"]=e.studio._id,t["Number of Layers"]=a.length,t.URL=window.location.pathname;let n=0;const s=new Set,o={video:0,text:0,audio:0,image:0};for(const i of a)null!=o[i.type]&&(o[i.type]+=1),i.animation&&(n+=1),i.asset_id&&s.add(i.asset_id);t["Number of animations"]=n,t["Number of unique assets"]=s.size;for(const[i,r]of Object.entries(o))t[`Number of ${Qd(i)} Layers`]=r;return t}const xde=class e{constructor(){a(this,"ok"),a(this,"lastSubmittedReport",-1/0),a(this,"current"),a(this,"last"),a(this,"worker"),this.loop=this.loop.bind(this),this.report=this.report.bind(this);try{this.ok=!0,this.current={profiler:new Profiler(e.profilerOptions),start:performance.now(),report:void 0},this.worker=new wde,this.current.profiler.addEventListener("samplebufferfull",this.loop),this.worker.addEventListener("message",(e=>{Xf("/api/v2/performance/report",{body:e.data})}))}catch{this.ok=!1}}async report(e,t){var a;if(!this.ok||!this.current||!this.worker)return void console.error("Error: Requested a report but self profiler doesn't exist");const n=performance.now();if(n-this.lastSubmittedReport<3e4)return;if(n-((null==(a=this.last)?void 0:a.start)??this.current.start)<5e3)return;this.lastSubmittedReport=n;const s=this.last;this.loop();const o=this.last,i={profileId:e,reason:t,trace:await o.report,appVersion:El,serverName:Il,projectMetadata:Sde()};(n-o.start)/1e3<15&&(i.lastTrace=await(null==s?void 0:s.report)),this.worker.postMessage(i)}stop(){var e,t;this.ok=!1,null==(e=this.current)||e.profiler.removeEventListener("samplebufferfull",this.loop),this.current=void 0,this.last=void 0,null==(t=this.worker)||t.terminate(),this.worker=void 0}loop(){if(this.current){this.current.profiler.removeEventListener("samplebufferfull",this.loop),this.current.report=this.current.profiler.stop(),this.last=this.current;try{this.current={profiler:new Profiler(e.profilerOptions),start:performance.now(),report:void 0},this.current.profiler.addEventListener("samplebufferfull",this.loop)}catch{this.ok=!1}}}};a(xde,"profilerOptions",{sampleInterval:10,maxBufferSize:6e3});let Ide=xde;const Ade=e=>e/1e3,kde=(e,t)=>{Tde.components[e].numberOfRenders+=1,Tde.components[e].totalDuration+=t,Tde.components[e].totalSquaredDuration+=t*t};let Tde={components:{Canvas:{numberOfRenders:0,totalDuration:0,totalSquaredDuration:0},"Main Studio View":{numberOfRenders:0,totalDuration:0,totalSquaredDuration:0},"Studio Trackpad":{numberOfRenders:0,totalDuration:0,totalSquaredDuration:0}},"Project fetch time":[],waveforms:{}};function Ede(){const e=yde(),t=Du((t=>Cde(t,e))),a=i.useRef(void 0),n=Du((e=>e.studioLocal.isProjectFetched));i.useEffect((function(){if(n)return()=>{};const e=performance.now();return()=>{const t=performance.now();Tde["Project fetch time"].push(Ade(t-e))}}),[n]),i.useEffect((function(){if(a.current&&a.current.stop(),t){const e=new Ide;if(!e.ok)return;return a.current=e,()=>{e.stop()}}}),[t]);const s=i.useRef({inp:{count:0,total:0,sumOfSquares:0,recentInteractions:new Map,tasksAbove500:0,tasksAbove1000:0,tasksAbove2000:0},longTask:{tasksAbove500:0,tasksAbove1000:0,tasksAbove2000:0}});return i.useEffect((function(){const e=PerformanceObserver.supportedEntryTypes.includes("event"),t=window.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype,n=e&&t,o=PerformanceObserver.supportedEntryTypes.includes("longtask");if(!n&&!o)return;function i(e,t){t.duration<500||(e.tasksAbove500+=1,t.duration<1e3||(e.tasksAbove1000+=1,t.duration<2e3||(e.tasksAbove2000+=1)))}const r=new PerformanceObserver(Vv("PerformanceObserver",["listener"],(e=>{const t=e.getEntriesByType("event"),n=e.getEntriesByType("longtask"),{inp:o,longTask:r}=s.current;for(const a of n)i(r,a);for(const a of t){if(!a.interactionId)continue;i(o,a);const e=s.current.inp.recentInteractions.get(a.interactionId);if(e){if(e>=a.duration)continue;o.count-=1,o.total-=e,o.sumOfSquares-=e*e}o.count+=1,o.total+=a.duration,o.sumOfSquares+=a.duration*a.duration,o.recentInteractions.delete(a.interactionId),o.recentInteractions.set(a.interactionId,a.duration)}for(;o.recentInteractions.size>20;)o.recentInteractions.delete(o.recentInteractions.keys().next().value);const l=a.current;if(null==l)return;const d=(()=>{if(t.some((e=>e.duration>1e3)))return"INP";return n.some((e=>e.duration>1e3))?"longtask":void 0})();d&&l.report(fe(12),d)})));return e&&t&&r.observe({type:"event",buffered:!0,durationThreshold:40}),o&&r.observe({type:"longtask",buffered:!0}),()=>{r.disconnect()}}),[]),i.useEffect((function(){Tde={components:{Canvas:{numberOfRenders:0,totalDuration:0,totalSquaredDuration:0},"Main Studio View":{numberOfRenders:0,totalDuration:0,totalSquaredDuration:0},"Studio Trackpad":{numberOfRenders:0,totalDuration:0,totalSquaredDuration:0}},"Project fetch time":[],waveforms:{}};const e=s.current;return()=>{if(Math.random()>.33)return;const t={...kv(),...mz()},a=Tde["Project fetch time"].reduce(((e,t)=>e+t),0)/Tde["Project fetch time"].length;t["Project fetch time"]=Number.isNaN(a)?null:a;for(const[e,c]of Object.entries(Tde.components)){const{numberOfRenders:a,totalDuration:n,totalSquaredDuration:s}=c,[o,i]=T8(n,a,s);t[`${e} (Avg)`]=Number.isNaN(o)?null:o,t[`${e} (Std)`]=Number.isNaN(i)?null:i,t[`${e} (Count)`]=a}const n=Ade(performance.now());let s=0,o=0,i=0,r=0,l=0;const d=[];for(const[e,c]of Object.entries(Tde.waveforms)){let t=0;void 0===c.duration?(s+=1,t=n-c.startTime,l+=t):(t=c.duration,o+=1,i+=c.duration,r+=c.fileDuration??0),t>=600&&d.push({assetId:e,videoDuration:c.fileDuration,completed:void 0!==c.duration,generationTime:t})}{const{state:e}=Mu(),a=Object.values(e.studio.allLayers.byId);let n=0,s=0,o=0,i=0;const r=_S({isCanvas:!0,mediaPipe:!0}),l=new Set;for(const t of a){const a=t.asset_id;if(null==a||l.has(a))continue;if(n+=1,l.add(a),"video"!==t.type&&"audio"!==t.type)continue;s+=1;const d=e.assets.byId[a];d&&(d.preview&&(o+=1,d.preview.fragmented!==r&&(i+=1)))}t["Total assets"]=n,t["Total playable assets"]=s,t["Total preview assets"]=o,t["Total mismatched fragmented assets"]=i}{const{inp:a,longTask:n}=e,[s,o]=T8(a.total,a.count,a.sumOfSquares);t["Interaction to Next Paint (Avg)"]=s,t["Interaction to Next Paint (98%)"]=s+2*o,t["Interaction to Next Paint (Total)"]=a.total,t["INP scores above 500ms"]=a.tasksAbove500,t["INP scores above 1000ms"]=a.tasksAbove1000,t["INP scores above 2000ms"]=a.tasksAbove2000,t["Long tasks above 500ms"]=n.tasksAbove500,t["Long tasks above 1000ms"]=n.tasksAbove1000,t["Long tasks above 2000ms"]=n.tasksAbove2000}t["Avg waveform generation time"]=i/o,t["Avg unfinished waveform time"]=l/s,t["Generation time per asset second"]=i/r,ov("Performance Baseline",t),d.length>0&&Math.random()<.2&&d.forEach((e=>{ov("Long waveform generation",{...e,...kv()})}))}}),[]),null}W1.split_vocals_jobs,W1.dubbing_playback_jobs,W1.segment_face_jobs,W1.enhance_jobs,W1.decode_jobs,W1.image_text_jobs,W1.stabilize_video_jobs,W1.process_video_jobs,W1.process_video_jobs,W1.transcriptions,W1.translations,W1.parse_psd_jobs,W1.parse_psd_jobs,W1.speaker_focus_jobs;var Lde=(e=>(e.QUEUED="queued",e.RUNNING="running",e.SUCCESS="success",e.ERROR="error",e))(Lde||{});const jde=()=>w_()||T_.isChromium(),Rde=[52428800,524288e3],Nde=e=>{var t;if(null==e)return!1;const a=(null==(t=e.preview)?void 0:t.file_size)??e.file_size;return null!=a&&(jde()?a>Rde[0]:a>Rde[1])},Mde=(e,t)=>{var a,n;return!(!(null==(a=e.waveformInfo)?void 0:a.cdnUrl)||null==(null==(n=e.waveformInfo)?void 0:n.source)||!1===t.waveformDataFetchSucceeded)},Pde=u([e=>e.assets.layerIdsByAssetId,e=>e.assets.byId,e=>e.assets.assetWaveformData],((e,t,a)=>Object.keys(e).filter((e=>!Fde.has(e))).filter((e=>{const n=t[e],s=!!(null==n?void 0:n.mime)&&QC(n.mime);return!(!n||!1===n.hasAudio||s)&&(Pu.forcedWaveformGenerationMethod?"serverffmpeg"===Pu.forcedWaveformGenerationMethod:!Mde(n,a[n._id]??{})&&Nde(n))}))));let Fde=new Set;const Dde=b.memo((()=>{const e=i.useRef({}),t=i.useRef(void 0),a=Du(Pde,r.shallowEqual);return i.useEffect((()=>{const a=async()=>{try{await(async()=>{const t=e.current;for(const a in t){const n=t[a],{job:s}=await Kf(`/api/v2/decode/${n}`),{status:o,decodedWaveformInfo:i}=s;i&&j2(a,{waveformInfo:i}),o!==Lde.SUCCESS&&o!==Lde.ERROR||(o===Lde.ERROR&&console.error(`Decode job ${n} failed for asset ${a}`),delete e.current[a])}})()}catch(b9e){console.error("error polling decode jobs",b9e)}t.current=window.setTimeout(a,2e3)};return a(),()=>{Fde=new Set,t.current&&clearTimeout(t.current)}}),[]),a.forEach((async t=>{try{if(Fde.has(t))return;Fde.add(t),console.debug(`Kicking off decode job for asset ${t}`);const a="serverffmpeg"===Pu.forcedWaveformGenerationMethod,n={assetId:t,teamId:Mu().state.studio.teamId,force:a},{decodeJobId:s}=await Xf("/api/v1/decode",{body:n});if(!s)throw Error("No decode job id returned");e.current={...e.current,[t]:s}}catch(b9e){console.error("Error trying to kick off decode job for asset",t,b9e)}})),null}));class Ode{constructor(){a(this,"mutexes",new Map)}getMutex(e){const t=this.mutexes.get(e);if(t)return t;const a=new ee;return this.mutexes.set(e,a),a}async runExclusive(e,t){return this.getMutex(e).runExclusive(t)}}const Ude=jde(),Bde=1,Wde=30,Vde=29,Hde=Math.max(Math.floor(55.125),1),zde=["track","preview","original"],Gde=new ee,Yde=new Ode,Kde=S_(),Xde=(e,t)=>new Promise(((a,n)=>{const s=e.decodeAudioData(t);s&&"then"in s?s.then((e=>a(e))).catch((e=>n(e))):e.decodeAudioData(t,(e=>a(e)),(e=>{e&&n(e)}))})),Zde=(e,t,a)=>{const n=t.getChannelData(a);for(let s=0;s<e.length;s++){const t=Math.round(147*s),a=Math.max(t-Hde,0),o=Math.min(t+Hde,n.length);let i=0;for(let e=a;e<o;e+=1)i+=(n[e]||0)**2;const r=Math.sqrt(i/(o-a));e[s]=Math.max(r,e[s]||0)}},qde=async e=>{window.AudioContext=window.AudioContext||window.webkitAudioContext;const t=await e.arrayBuffer(),a=dre(),n=await Xde(a,t),s=new OfflineAudioContext(n.numberOfChannels,22050*n.duration,22050),o=s.createBufferSource();o.buffer=n,o.start(0),o.connect(s.destination);const i=await(r=s,new Promise(((e,t)=>{r.oncomplete=t=>e(t.renderedBuffer);const a=r.startRendering();a&&a.catch&&a.catch((e=>t(e)))})));var r;const l=Math.floor(i.length/147),d=new Float32Array(l);for(let c=0;c<i.numberOfChannels;c++)Zde(d,i,c);return[d,{duration:i.duration,sampleRate:l/i.duration,scalingFactor:1}]},Jde={audio:{desktop:100*Hl,lowendDesktop:30*Hl,mobile:10*Hl},video:{desktop:1.9*zl,lowendDesktop:200*Hl,mobile:100*Hl}};async function $de(e,t,a){const n=new Worker("/waveform-worker.js");try{n.postMessage({sourceFile:e});const{data:s,duration:o,errorMessage:i}=await new Promise((e=>{n.onmessage=t=>{n.terminate(),t.data&&e({errorMessage:t.data.errorMessage,data:t.data.data,duration:t.data.duration})}}));if(i)throw new Error(`ffmpeg error: ${i}`);if(void 0===s||void 0===o)throw new Error("ffmpeg error: no data or duration");const r=new File([s],"file");return p9(t,a),{file:r,duration:o,sampleRate:s.length/o,isFfmpeg:!0,source:"clientffmpeg"}}catch(b9e){return n.terminate(),ece(t,{method:"ffmpeg",error:b9e.message,assetQuality:a},b9e),null}}async function Qde(e,t,a){var n;const s=w_(),o=s&&__(),i=Mu().state.mediaCache.mediaCacheIdToAssetId[e],r=(()=>{if(s)return"mobile";if(!("memory"in performance))return"desktop";return performance.memory.jsHeapSizeLimit<2147483648?"lowendDesktop":"desktop"})(),l="audio"===t.type?"audio":"video",{file:d,assetQuality:c,hasAudio:u,assetDuration:p}=LE(t,zde);if(!1===u)return null;if(!d)throw console.error(t),Error("No file");i&&((e,t)=>{Tde.waveforms[e]={startTime:Ade(performance.now()),fileDuration:t}})(i,p);let m=null;const g={size:d.size,type:d.type,duration:p};if(await Gde.runExclusive((async()=>{const t=!o&&d.size>Jde[l][r]||Kde&&"video/quicktime"===d.type;let n=t;a&&(n="clientffmpeg"===a),n?(t||Mu().dispatch(db({type:"warning",description:"Forcing client ffmpeg, normally this would not happen"})),u9({mediaCacheId:e,method:"ffmpeg",fileMetadata:g,assetQuality:c}),m=await $de(d,e,c)):(u9({mediaCacheId:e,method:"audioContext",fileMetadata:g,assetQuality:c}),m=await async function(e,t,a,n){try{const[s,o]=await qde(e);if(Math.abs(o.duration-t)>=2)throw new Error("Waveform duration delta too large");const i=new File([s],"file");return p9(a,n),{file:i,duration:o.duration,sampleRate:o.sampleRate,scalingFactor:o.scalingFactor,isFfmpeg:!1,source:"audiocontext"}}catch(b9e){return ece(a,{error:b9e.message,method:"audioContext",assetQuality:n},b9e),null}}(d,p||0,e,c),m||a||(u9({mediaCacheId:e,method:"ffmpeg fallback",fileMetadata:g,assetQuality:c}),m=await $de(d,e,c)))})),!m)return null;i&&(e=>{Tde.waveforms[e]&&(Tde.waveforms[e].duration=Ade(performance.now())-Tde.waveforms[e].startTime)})(i),bE(e,m,t.type);const{state:h}=Mu(),v=h.mediaCache.mediaCacheIdToAssetId[e];if(!(null==(n=h.assets.localAssetInfo[e])?void 0:n.localWaveformData)){const t={local_url:URL.createObjectURL(m.file),duration:m.duration,sampleRate:m.sampleRate,scalingFactor:m.scalingFactor,isFfmpeg:m.isFfmpeg,source:m.source};Mu().dispatch(XE({[e]:{localWaveformData:t}}))}return v&&L2(v,m),fde.fromDataFile(m)}const ece=(e,t,a)=>{console.error("Waveform log generation failed!!",t.method,t.error);const{dispatch:n}=Mu();var s,o;((e,t,a)=>{var n;if(!o9)return;const s=null==(n=o9.assetsInProject[e])?void 0:n.assetLoadInfo[t];if(!s)return void console.error(`Asset of quality ${t} not found for mediaCacheId ${e}`);const{currentWaveformGenerationAttempt:o,waveformGenerationLogs:i}=s;if(!o)return void console.error(`Ongoing waveform generation attempt not initialized for ${t} asset of mediaCacheId ${e}`);const r=s9()-o.timeStarted,l=null==i?void 0:i[a];if(l){if(!0===l.success)return;const{avgTime:e,attemptNumber:t}=l;l.avgTime=(e*t+r)/(t+1),l.attemptNumber=t+1}else s.waveformGenerationLogs={...i||{},[a]:{success:!1,avgTime:r,method:o.method,attemptNumber:1}};s.currentWaveformGenerationAttempt=void 0})(e,t.assetQuality,ub(a,"UNKNOWN_ERROR").message),Math.random()<.1&&l(a,{tags:{audioContextFailure:!0,assetId:t.assetId,fileType:t.fileType},level:"debug"}),n(vz({waveformCreationFailure:!0,waveformUsesFFMPEG:"ffmpeg"===t.method})),t.assetId&&(s=t.assetId,delete Tde.waveforms[s]),o=t,ov("Waveform Generation Failure",{...o,...kv()})};async function tce(e){const t=Mu().state.assets.localAssetInfo[e],{localWaveformData:a}=t||{};if(a)return fde.fromLocalInfo(a);const{forcedWaveformGenerationMethod:n}=Pu;return Yde.runExclusive(e,(async()=>{const t=await SE(e);if(!t)return null;if("image"===t.type)return null;if("waveformData_v6"in t&&t.waveformData_v6)return fde.fromDataFile(t.waveformData_v6);return"serverffmpeg"===n||!((e,t,a=Ude)=>{const{state:n}=Mu(),{mediaCache:s,assets:o}=n,i=s.mediaCacheIdToAssetId[e],{forcedWaveformGenerationMethod:r}=Pu;if(r)return"serverffmpeg"!==r;const l=i?o.byId[i]:void 0,d=i?o.assetWaveformData[i]:void 0;if(l&&Mde(l,d||{}))return!1;const{file:c}=LE(t,zde);if(null==c?void 0:c.size){const e=a?Rde[0]:Rde[1];if(c.size>e)return!1}return!0})(e,t)?null:Qde(e,t,n)}))}async function ace(e){try{const{dispatch:t,state:a}=Mu();Mv({forcedWaveformGenerationMethod:e});const n=new Set(Object.values(a.studio.allLayers.byId).map((e=>Hp(e,{mediaCacheState:a.mediaCache}))).filter(vA));for(const e of n){const t=await xE(e);"video"!==(null==t?void 0:t.type)&&"audio"!==(null==t?void 0:t.type)||!(null==t?void 0:t.waveformData_v6)||await yE(e,{waveformData_v6:void 0})}const s=new Set(Object.values(a.studio.allLayers.byId).map((e=>e.asset_id)).filter(vA));t(JE.clearWaveformDataForAssets({assetIds:Array.from(s),mediaCacheIds:Array.from(n)})),Fde.clear();const o=mK(a);if(o){t(Mh(o-1e-5))}}catch(t){cb({error:t,description:"Failed to regenerate waveforms"})}}const nce=async e=>{const{mediaCache:t}=Mu().state,a=Hp(e,{mediaCacheState:t,personaLayerHandling:"audio"});if(!a)return null;return await tce(a)};function sce(e){return new Worker("/assets/reverseaudio-worker-WIXbmeLy.js",{name:null==e?void 0:e.name})}const oce=[],ice=new ee;let rce,lce=0;const dce=async()=>(lce+=1,ice.runExclusive((async()=>await mt.createFromOptions(await(null==rce&&(rce=gt.forVisionTasks("https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision@latest/wasm")),rce),{baseOptions:{modelAssetPath:"https://storage.googleapis.com/mediapipe-models/image_segmenter/selfie_segmenter/float16/latest/selfie_segmenter.tflite",delegate:"GPU"},runningMode:"VIDEO",outputCategoryMask:!1,outputConfidenceMasks:!0})))),cce=new WeakMap,uce=(e,t)=>Km(cce,e,{insert:()=>("VIDEO"!==t&&e.setOptions({runningMode:t}),t),update:a=>a!==t?(e.setOptions({runningMode:t}),t):a}),pce=e=>{oce.push(e)},mce=async e=>{const t=e-lce;if(!(t<=0))for(let a=0;a<t;a++)pce(dce())};let gce=!1;const hce=new WeakMap,vce=new WeakMap,fce=i.createContext({isBuffering:!1,setIsBuffering:e=>{}}),bce=()=>{const e=i.useContext(fce);if(void 0===e)throw new Error("useIsBuffering must be used within an ElementPoolContextProvider");return e};const yce=({ctx:e,frequency:t,i:a,layer:n,layerHeight:s,layerWidth:o})=>{const i=(n.globalAlpha||1)<1,r=Math.floor(.0015*o)||1,l=a*r,d=.5*s,c=t/255*s*.34;i?(e.fillRect(l,d,r,-c),e.fillRect(l,d,r,c)):(e.fillRect(l,d+1,r,-c),e.fillRect(l,d-1,r,c))},wce=({ctx:e,frequency:t,i:a,layerHeight:n,layerWidth:s})=>{const o=Math.floor(.005*s)||1,i=a*(2*o),r=n,l=-(t/255)*n*.8;e.fillRect(i,r,o,l)};const _ce=new WeakMap,Cce=b.memo((({layer:e,width:t,height:a})=>{const n=i.useRef(null),s=i.useRef(null),{selectPossibleReferenceLayers:o,elementPool:r}=$G(),l=tle(),d=Oc(e),c=d?e.tetheredWaveformLayerId:e.id,u=Du((e=>{const t=HJ(e,(null==r?void 0:r.id)||""),a=!!d||o(e).some((e=>e.layerId===c));return t||!a})),p=rY(),m=i.useMemo((()=>{let t=e.color||"#000000";return"globalAlpha"in e&&(t+=Math.ceil(255*e.globalAlpha).toString(16).padStart(2,"0")),t}),[e]),g=i.useRef(null),h=i.useMemo((()=>((e,t)=>e[0]<=t&&t<=e[1])(zC(e),p)),[e,p]),v=i.useRef(null),b=tY((()=>{if(v.current)return v.current;const e=(null==r?void 0:r.domElementByLayerId.get(c))||(null==l?void 0:l.domElementByLayerId.get(c));if(!e)return v.current=null,null;const t=mre(e),a=Km(_ce,t,{insert(){const e=t.context.createAnalyser();return e.minDecibels=-120,t.gainNode.connect(e),v.current=e,t.context.resume(),e}});return v.current=a,a})),y=tY((()=>{function o(s){var o;const i=null==(o=n.current)?void 0:o.getContext("2d");i&&(({ctx:e,data:t,layer:a,fillStyle:n,width:s,height:o})=>{if(!e)return;e.clearRect(0,0,s,o),e.fillStyle=n;const i=s;for(let r=0;r<i;r+=1)("wave"===a.waveformStyle?yce:wce)({i:r,frequency:t[r],layerWidth:s,layerHeight:o,ctx:e,layer:a})})({ctx:i,fillStyle:m,data:s,height:a,layer:e,width:t})}if(s.current=null,h)if(u)g.current?o(g.current):o("wave"===e.waveformStyle?J4:q4);else{const e=b();if(e){e.fftSize=4096;const t=new Uint8Array(e.frequencyBinCount);e.getByteFrequencyData(t),g.current=t,o(t)}}else!function({canvas:e,height:t,width:a}){const n=null==e?void 0:e.getContext("2d");null==n||n.clearRect(0,0,a,t)}({canvas:n.current,width:t,height:a});!u&&h&&(s.current=window.requestAnimationFrame(y))}));return i.useEffect((function(){if(null==s.current)return s.current=window.requestAnimationFrame(y),()=>{s.current&&(cancelAnimationFrame(s.current),s.current=null)}}),[y,t,a,e,h,u]),f.jsx("canvas",{"data-cy":`waveform-${e.id}`,width:t,height:a,ref:n})})),Sce=b.memo((e=>{const{width:t,height:a,x:n,y:s,background:o}=e,i="#ffffff"===o.toLowerCase()?"https://storage.googleapis.com/kapwing/samples/waveform_placeholder_purple.png":"https://storage.googleapis.com/kapwing/samples/waveform_placeholder_pwhite.png";return f.jsx("img",{style:{width:t,height:a,left:n,top:s},src:i,alt:"Waveform placeholder"})}));let xce=0;const Ice=dde(),Ace=b_(),kce={fontSize:12,marginBottom:10},Tce=(e,t)=>e[0]<=t&&t<e[1],Ece=e=>e.removeBg||e.blurBg||e.chromaKey,Lce=e=>e.removeBg||e.blurBg;class jce extends i.PureComponent{constructor(e){var t;super(e),a(this,"audiogramErrorToastShown"),a(this,"canvas",null),a(this,"didLogVideoAnalytics"),a(this,"firstTimeReferenceLayer",!1),a(this,"filterCanvas",null),a(this,"fullIntermediateCanvas",null),a(this,"logFileExperiment",null),a(this,"logFileSize",null),a(this,"logFileSource"),a(this,"logFileType",null),a(this,"loopSetStudioTimeID",null),a(this,"mounted"),a(this,"mountTime"),a(this,"onCanPlayTime"),a(this,"onLoadedDataTime"),a(this,"onLoadedMetadataTime"),a(this,"onLoadStartTime"),a(this,"previousDrawingTime",null),a(this,"reverseAudio",null),a(this,"reversedIntervalID",null),a(this,"smallIntermediateCanvas",null),a(this,"staticVideo",null),a(this,"video",null),a(this,"videoDriftCounter"),a(this,"videoDriftInterval"),a(this,"webGLCanvas",null),a(this,"mediapipeSegmentResults"),a(this,"currentProcessedBlurValue",null),a(this,"selfieSegmentationInUse",!1),a(this,"selfieSegmentationPromise"),a(this,"selfieSegmentation"),a(this,"layerRefService",new Uie),a(this,"setupSelfieSegmentation",(async()=>{this.selfieSegmentationInUse=!0,this.selfieSegmentationPromise=oce.length?oce.pop():dce();const e=await this.selfieSegmentationPromise;this.selfieSegmentationInUse&&(this.selfieSegmentation=e,this.setState({selfieSegmentationLoaded:!0}))})),a(this,"cleanupSelfieSegmentation",(()=>{this.selfieSegmentationInUse=!1,this.selfieSegmentationPromise&&(pce(this.selfieSegmentationPromise),this.selfieSegmentationPromise=void 0,this.selfieSegmentation=void 0),this.setState({selfieSegmentationLoaded:!1})})),a(this,"setStudioTimeFromVideo",(async()=>{if(!this.video||!this.props.setsTime||!XT(this.props.layer))return;const[e,t]=this.props.absoluteTimes,a=this.props.layer.startTime||0,n=this.props.layer.playbackRate||1,s=wre(this.props.studioTime,e,a,n);if(this.firstTimeReferenceLayer)await eE(this.video,s,.1),this.firstTimeReferenceLayer=!1;else{const{currentTime:t}=this.video;if(!(t-.03333333333333333<=s&&s<=t+.03333333333333333)){const t=_re(this.video.currentTime,e,a,n);this.props.setEPTime(t),this.referenceLayerIsNotBuffering()}}})),a(this,"loopSetStudioTimeFromVideo",(()=>{this.loopSetStudioTimeID=window.setTimeout((async()=>{if(this.shouldSetStudioTimeFromVideo)try{await this.setStudioTimeFromVideo()}finally{this.loopSetStudioTimeFromVideo()}else this.loopSetStudioTimeID=null}),33.333333333333336)})),a(this,"referenceLayerIsBuffering",(()=>{this.props.isReferenceLayer&&setTimeout((()=>{this.props.setIsBuffering(!0)}),34.333333333333336)})),a(this,"referenceLayerIsNotBuffering",(()=>{this.props.isReferenceLayer&&this.props.setIsBuffering(!1)})),a(this,"setVideoSrc",((e=!1)=>{const{layerVideoUrl:t}=this.props,{videoSrc:a}=this.state,n=t||"",s=n.startsWith("blob:"),o=null==a?void 0:a.startsWith("blob:");if((s||!o)&&n!==a){const t={videoSrc:n};e&&!this.state.videoSrc&&(t.videoSrcAtMount=n||""),this.setState(t),this.logFileSource="gcs"}})),a(this,"updateReversedVideoTime",(()=>{this.video&&void 0!==this.video.currentTime&&(this.video.currentTime-=.1*(this.props.layer.playbackRate??1)*this.props.globalPlaybackRate)})),a(this,"setupVideo",(async()=>{const{layer:e,studioPaused:t,layerLocalUrls:a}=this.props;this.video&&(this.video.onloadedmetadata=this.initVideo,this.video.onerror=this.handleError,(e.isAudiogram||(null==a?void 0:a.local_url)||(null==a?void 0:a.preview_local_url))&&e.isReversed&&this.initReverseAudio(),t&&(this.video.pause(),hre(this.video,0),this.reverseAudio&&hre(this.reverseAudio,0)),await lde(this.props.layer,this.video,this.props.studioTime),JJ({time:null})),this.staticVideo&&(this.staticVideo.onloadedmetadata=this.initStaticVideo,this.staticVideo.onerror=this.handleError,this.staticVideo.onloadeddata=async({currentTarget:t})=>{t instanceof HTMLVideoElement&&(await $T(t,dY()-(e.videoDelay||e.startTime||0)),this.drawPreviewToCanvas())})})),a(this,"checkHasAudio",(()=>{const{video:e}=this,{layer:t}=this.props;if(!Mp(t)&&e){const a=e.mozHasAudio||(e.audioTracks||[]).length>0||e.webkitAudioDecodedByteCount>0;uk({[t.id]:{hasAudio:a}},"Video.tsx",!1)}})),a(this,"getNumVideoLayers",(()=>{const e=Mu().state.studio.allLayers.byId;let t=0;return Object.values(e).forEach((e=>("video"===e.type&&(t+=1),!0))),t})),a(this,"setVolume",(()=>{const{layer:e,studioTime:t}=this.props;if(this.video)if(this.props.forMovingZoomControls)hre(this.video,0);else{const a=sre(Mu().state,{layerId:e.id,studioTime:t});hre(this.video,a)}})),a(this,"initStaticVideo",(()=>{const{staticVideo:e}=this,{layer:t}=this.props;if(e&&e.videoHeight&&e.videoWidth&&this.setIntermediateCanvasWidth(e.videoWidth,e.videoHeight),!t.duration&&e){const a=nL(t);if(a){const t=parseFloat(e.duration);Mu().dispatch(AK.assetsDurationChanged({updates:[{assetId:a,newDuration:t}]}))}}})),a(this,"handleAudiogramPlayError",(e=>{const{layer:t}=this.props;t.isAudiogram&&"pastedLink"===t.source&&e&&e.catch((()=>{this.audiogramErrorToastShown||(this.audiogramErrorToastShown=!0,this.props.showToast({description:"Failed to draw waveform using pasted URL. Please wait for asset to download.",type:"warning"}))}))})),a(this,"handleError",(async e=>{const{layer:t,mediaCacheId:a}=this.props,{retries:n}=this.state,{code:s,message:o}=(e.target||{}).error||e;if(e.target&&console.error(`Failed to load video. Error ${s} details: ${o}`),!(n>=5)&&t.asset_id){this.setState({retries:n+1});let e=null;try{e=await y2(t.asset_id,"Video_handleError_preview")}catch(b9e){console.error(`Failed to fetch asset_id ${t.asset_id} on layer.id ${t.id}`)}if(e){const{blob_name:t,status:n,url:s}=e;n===td.uploaded&&t&&s&&(this.props.assetsFetched([e]),a&&CE(a))}}})),a(this,"initVideo",(()=>{const{video:e}=this,{layer:t,studioPaused:a,studioTime:n,globalPlaybackRate:s}=this.props;if((null==e?void 0:e.getAttribute("data-initVideoLayerId"))===t.id)return;if(null==e||e.setAttribute("data-initVideoLayerId",t.id),e&&e.videoHeight&&e.videoWidth&&(e.width=e.videoWidth,e.height=e.videoHeight,this.setIntermediateCanvasWidth(e.videoWidth,e.videoHeight)),!e)return void console.warn(`Video.tsx initVideo - No video for ${t.id}!`);e.loop=!!t.converted_gif,e.playsInline=!0;const o=s*(t.playbackRate??1);e.playbackRate!==o&&(e.playbackRate=o),a&&e.pause();const{state:i}=Mu(),r=HC(t,i);t.startTime||t.endTime||(Vj(t.id,{removeBgPreviewUrl:null}),Mu().dispatch(AK.UNSAFE_updateLayerDirectly({layerId:TA(t.id),update:{endTime:t.duration??(null==r?void 0:r.duration)??e.duration,startTime:0}}))),t.isReversed?(e.pause(),lde(t,e,n,this.reverseAudio)):QT(e,t.startTime||0),Object.assign(e.style,this.getSizeStyles()),e.readyState<HTMLMediaElement.HAVE_CURRENT_DATA?e.addEventListener("loadeddata",(()=>{this.drawPausedFrameToCanvas()}),{once:!0}):this.drawPausedFrameToCanvas()})),a(this,"setIntermediateCanvasWidth",((e,t)=>{let a,n;e>t?(a=Math.min(e,720),n=t*(a/e)):(n=Math.min(t,720),a=e*(n/t)),this.setState({intermediateCanvasWidth:a,intermediateCanvasHeight:n})})),a(this,"getSizeStyles",(()=>{if(this.props.layer.isAudiogram)return{display:"none"};if(this.isAudioOnly())return{display:"none"};const e=this.getVideoWidthAndHeight(),{width:t,height:a}=uM([this.props.width,this.props.height],e);return{width:`${t}px`,height:`${a}px`,display:"block"}})),a(this,"initReverseAudio",(async()=>{var e,t,a,n,s;const{mediaCacheId:o,globalPlaybackRate:i}=this.props,{playbackRate:r}=this.props.layer;if(!this.reverseAudio||!o)return;const l=await SE(o);if(!l)return;const{reversedAudioBlob:d}=l;if(d)this.reverseAudio.src=URL.createObjectURL(d);else{const{layer:i}=this.props,r=await(null==(s=(null==(e=l.trackOptimizedPreviewFile_v2)?void 0:e.hasAudio)&&(null==(t=l.trackOptimizedPreviewFile_v2)?void 0:t.file)||(null==(a=l.optimizedPreviewFile_v2)?void 0:a.file)||(null==(n=l.file_v2)?void 0:n.file))?void 0:s.arrayBuffer());if(!r)return;const d=await Xde(dre(),r);window.webWorkerDict||(window.webWorkerDict={}),window.webWorkerDict[i.id]=new sce;const{webWorkerDict:c}=window;let p=null;if(c&&(p=c[i.id]||null),p)try{const{numberOfChannels:e,sampleRate:t,length:a}=d,n={};for(let o=0;o<e;o+=1)n[o]=d.getChannelData(o);const s={mapChannelToChannelData:n,numberOfChannels:e,sampleRate:t,length:a};p.postMessage(s);const i=await new Promise((e=>{p.onmessage=t=>{e(t.data)}})),{wav:r}=i;await yE(o,{reversedAudioBlob:r}),this.reverseAudio.src=URL.createObjectURL(r),p.terminate()}catch(u){return}}this.reverseAudio.playbackRate=i*(r||1);const c=i*(r??1);this.reverseAudio.playbackRate!==c&&(this.reverseAudio.playbackRate=c),this.reverseAudio.crossOrigin="anonymous"})),a(this,"openReverseVideoInterval",(()=>{this.reversedIntervalID||(this.reversedIntervalID=window.setInterval(this.updateReversedVideoTime,100))})),a(this,"closeReverseVideoInterval",(()=>{this.reversedIntervalID&&(clearInterval(this.reversedIntervalID),this.reversedIntervalID=null)})),a(this,"bodyPixRemoveBackground",(async e=>{const t=window.slowTFJS?"low":"medium",a=await window.bodyPixNet.segmentPerson(e,{flipHorizontal:!1,internalResolution:t,segmentationThreshold:.7}),n=e.data;for(let s=0;s<n.length;s+=4)0===a.data[s/4]&&(n[s+3]=0)})),a(this,"drawUrlToCanvas",(e=>{const{layer:t}=this.props;if(!this.canvas)return;const a=this.canvas.getContext("2d");if(!a)return;a.imageSmoothingEnabled=!0;const{width:n,height:s}=this.canvas;a.clearRect(0,0,n,s);const o=new Image;o.onload=()=>{a.drawImage(o,0,0,n,s),t.presetFilter&&this.filterCanvas&&this.drawPresetFilter()},o.src=e})),a(this,"drawToIntermediateCanvas",((e,t,a=!0)=>{if(!t||!e)return!1;const{width:n,height:s}=t;if(n<0||s<0)return!1;const o=t.getContext("2d");if(!o)return!1;if(o.drawImage(e,0,0,n,s),!a)return null;try{return o.getImageData(0,0,n,s)}catch(b9e){return console.error("CANVAS ERROR",b9e),null}})),a(this,"drawIntermediateDataToCanvas",((e,t,a=!0)=>{if(!t||!this.canvas)return;const{layer:n}=this.props,{width:s,height:o}=t,i=t.getContext("2d");if(!i)return;const r=this.canvas.getContext("2d");if(!r)return;r.imageSmoothingEnabled=!0;const{width:l,height:d}=this.canvas;try{i.putImageData(e,0,0),r.clearRect(0,0,l,d),r.drawImage(t,0,0,s,o,0,0,l,d),a&&n.presetFilter&&this.filterCanvas&&this.drawPresetFilter()}catch(b9e){console.error("CANVAS ERROR",b9e)}})),a(this,"drawSelfieSegmentationImage",(async()=>{if(!this.video||0===this.video.videoWidth||0===this.video.videoHeight)return;const{selfieSegmentationLoaded:e}=this.state;if(!Ice&&(window.slowTFJS||!window.bodyPixNet)||Ice&&!e){if(this.canvas){const e=this.canvas.getContext("2d");if(!e)return;const{width:t,height:a}=this.canvas;e.drawImage(this.video,0,0,t,a)}return}const t=this.video.videoHeight>720||this.video.videoWidth>720;if(Ice&&this.video&&e&&this.selfieSegmentation&&this.canvas&&this.video.videoWidth>0)try{t&&this.smallIntermediateCanvas&&this.smallIntermediateCanvas.width>0?(this.drawToIntermediateCanvas(this.video,this.smallIntermediateCanvas,!1),uce(this.selfieSegmentation,"IMAGE"),this.selfieSegmentation.segment(this.smallIntermediateCanvas,this.onMediapipeSegmentResults)):(uce(this.selfieSegmentation,"VIDEO"),xce+=1,this.selfieSegmentation.segmentForVideo(this.video,xce,this.onMediapipeSegmentResults))}catch(b9e){console.error(b9e)}if(!Ice){const e=this.drawToIntermediateCanvas(this.video,this.smallIntermediateCanvas);e&&(await this.bodyPixRemoveBackground(e),this.canvas&&this.drawIntermediateDataToCanvas(e,this.smallIntermediateCanvas))}})),a(this,"setRemoveBgPreviewUrl",(async e=>{var t,a;const{layer:n,layerTempValues:s}=this.props,{removeBgPreviewUrl:o}=s||{};if(!o&&"pastedLink"!==n.source){const s=await new Promise((t=>e.toBlob(t)));if(!s)throw new $v("setRemoveBgPreviewUrl blob is missing",{extra:{canvasSize:{width:e.width,height:e.height},url:null==(t=this.video)?void 0:t.src},tags:{readyState:null==(a=this.video)?void 0:a.readyState}});const o=URL.createObjectURL(s);Vj(n.id,{removeBgPreviewUrl:o})}})),a(this,"drawRemoveBgPreview",(async()=>{const{layer:e,layerTempValues:t}=this.props,{removeBgPreviewUrl:a}=t||{};if(a)return void this.drawUrlToCanvas(a);if(this.canvas){const e=this.canvas.getContext("2d");if(!e)return;const{width:t,height:a}=this.canvas;e.drawImage(this.staticVideo,0,0,t,a)}const n=this.drawToIntermediateCanvas(this.staticVideo,this.smallIntermediateCanvas);if(n){if(await this.bodyPixRemoveBackground(n),this.canvas){if(this.drawIntermediateDataToCanvas(n,this.smallIntermediateCanvas,!1),"pastedLink"!==e.source){const t=await new Promise((e=>{var t;return null==(t=this.canvas)?void 0:t.toBlob(e)})),a=URL.createObjectURL(t);Vj(e.id,{removeBgPreviewUrl:a})}e.presetFilter&&this.filterCanvas&&this.drawPresetFilter()}}else setTimeout(this.drawRemoveBgPreview,100)})),a(this,"drawChromaKeyImage",(async e=>{if(!e||!this.webGLCanvas)return;if(0===this.webGLCanvas.width||0===this.webGLCanvas.height)return;const{layer:t,studioPaused:a,layerTempValues:n}=this.props,{chromaKeyThreshold:s,chromaKeyHueThreshold:o,chromaKeySatThreshold:i,chromaKeyValThreshold:r,chromaKeyChannel:l,chromaKeyColor:d,ffprobeData:c}=t,{chromaKeyThresholdTemp:u,chromaKeyHueTldTemp:p,chromaKeySatTldTemp:m,chromaKeyValTldTemp:g}=n||{};if("colorKey"===l&&d===KN){if(this.canvas){const t=this.canvas.getContext("2d");if(!t)return;const{width:a,height:n}=this.canvas;t.drawImage(e,0,0,a,n)}return}let h;if("colorKey"===l&&d){h={R:parseInt(t.chromaKeyColor.slice(1,3),16)/255,G:parseInt(t.chromaKeyColor.slice(3,5),16)/255,B:parseInt(t.chromaKeyColor.slice(5,7),16)/255}}else"green"===l?h={R:0,G:1,B:0}:"blue"===l&&(h={R:0,G:0,B:1});const v={key:h,threshold:u||s,hueThreshold:p||o,satThreshold:m||i,valThreshold:g||r,channel:l},f=this.webGLCanvas.getContext("webgl",{premultipliedAlpha:!1})||this.webGLCanvas.getContext("experimental-webgl",{premultipliedAlpha:!1});if(f){let n=e;const s=!c||!c.rotate;let o=s?0:parseFloat(c.rotate);if(this.fullIntermediateCanvas&&(S_()||a||s)&&(this.drawToIntermediateCanvas(e,this.fullIntermediateCanvas),n=this.fullIntermediateCanvas,o=0),vde(f,n,v,o),this.canvas){const e=this.canvas.getContext("2d");if(!e)return;e.imageSmoothingEnabled=!0;const{width:a,height:n}=this.canvas;e.clearRect(0,0,a,n),e.drawImage(this.webGLCanvas,0,0,a,n),t.presetFilter&&this.filterCanvas&&this.drawPresetFilter()}}})),a(this,"drawPreviewToCanvas",(async()=>{const{layer:e}=this.props,{removeBg:t,blurBg:a,chromaKey:n}=e;if(this.mounted&&this.canvas&&this.staticVideo)if(t||a)await this.drawRemoveBgPreview();else if(n)await this.drawChromaKeyImage(this.staticVideo);else{const e=this.canvas.getContext("2d");if(!e)return;e.drawImage(this.staticVideo,0,0,this.canvas.width,this.canvas.height)}})),a(this,"drawPausedFrameToCanvas",(async()=>{const{layer:e}=this.props,{removeBg:t,blurBg:a,chromaKey:n}=e;if(this.canvas&&this.video)if(t||a)await this.drawSelfieSegmentationImage();else if(n)await this.drawChromaKeyImage(this.video);else{const t=this.canvas.getContext("2d");if(!t)return;t.drawImage(this.video,0,0,this.canvas.width,this.canvas.height),this.couldBeTransparent()&&e.presetFilter&&this.filterCanvas&&this.drawPresetFilter()}})),a(this,"onMediapipeSegmentResults",(e=>{this.mediapipeSegmentResults=(e=>{var t;const a=null==(t=e.confidenceMasks)?void 0:t[0];if(null==a)return;const n=Km(hce,a.canvas,{insert(){const e=a.canvas,t=(null==e?void 0:e.getContext("webgl2"))??(null==e?void 0:e.getContext("webgl"));if(!e||!t)return null;const n=mde(t,"\n  precision mediump float;\n\n  attribute vec2 a_vertexPosition;\n\n  varying vec2 v_texturePosition;\n\n  void main() {\n    v_texturePosition = (a_vertexPosition + 1.0) / 2.0;\n    v_texturePosition.y = 1.0 - v_texturePosition.y;\n    gl_Position = vec4(a_vertexPosition, 0.0, 1.0);\n  }\n","\n  precision mediump float;\n\n  varying vec2 v_texturePosition;\n\n  uniform sampler2D uTexture;\n\n  void main() {\n    float r = texture2D(uTexture, v_texturePosition).r;\n    const float minValue = 0.2;\n    const float maxValue = 0.7;\n    // funny go haha way of scaling values between min and max to 0-1 without\n    // branching\n    float scaled =  clamp((r - minValue) / (maxValue - minValue), 0.0, 1.0);\n    gl_FragColor = vec4(1.0, 1.0, 1.0, scaled);\n  }\n"),s=t.createBuffer();if(null==n||null==s)return null;t.bindBuffer(t.ARRAY_BUFFER,s),t.bufferData(t.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,1,1,-1,1]),t.STATIC_DRAW);const o=t.getAttribLocation(n,"a_vertexPosition");return{canvas:e,gl:t,program:n,buffer:s,vertexLocation:o}}});if(null!=n&&a.hasWebGLTexture()){const e=n.gl;return e.viewport(0,0,n.canvas.width,n.canvas.height),e.clearColor(1,1,1,1),e.clear(e.COLOR_BUFFER_BIT),e.useProgram(n.program),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,a.getAsWebGLTexture()),e.bindBuffer(e.ARRAY_BUFFER,n.buffer),e.enableVertexAttribArray(n.vertexLocation),e.vertexAttribPointer(n.vertexLocation,2,e.FLOAT,!1,0,0),e.drawArrays(e.TRIANGLE_FAN,0,4),n.canvas}gce||(console.error("Webgl is not supported! Poor performance using image segmenter"),gce=!0);const s=Km(vce,a.canvas,{insert:()=>document.createElement("canvas")}),o=s.getContext("2d");if(null==o)return;s.width=a.width,s.height=a.height;const i=a.getAsFloat32Array(),r=new Uint8ClampedArray(4*i.length);i.forEach(((e,t)=>{const a=c.clamp((e-.2)/(.7-.2),0,1);r.set([255,255,255,255*a],4*t)}));const l=new ImageData(r,a.width,a.height);return o.putImageData(l,0,0),s})(e),this.drawMediapipeResults(),this.canvas&&(this.canvas.dataset.ready="true")})),a(this,"drawMediapipeResults",(()=>{if(!this.mediapipeSegmentResults||!this.video)return;const{canvas:e}=this,t=null==e?void 0:e.getContext("2d");if(!e||!t)return;const{layer:a}=this.props;if(a.blurBg){const a=document.createElement("canvas");a.width=e.width,a.height=e.height;const n=a.getContext("2d");a&&n&&Ace?(this.drawBlurredBackgroundToCanvas(t),this.drawPortraitToCanvas(n),t.drawImage(a,0,0)):t.drawImage(this.video,0,0,e.width,e.height)}else this.drawPortraitToCanvas(t);this.setRemoveBgPreviewUrl(e)})),a(this,"drawBlurredBackgroundToCanvas",(e=>{if(!this.mediapipeSegmentResults||!e||!this.video)return;const{layer:t,layerTempValues:a}=this.props,{blurBgValueTemp:n}=a||{},s=n??t.blurBgValue;if(null==s)return;const o=e.canvas.width,i=e.canvas.height;e.save(),e.clearRect(0,0,o,i);const r=Math.min(o,i);this.currentProcessedBlurValue=s;const l=s*r/100,[d,c]=S5({blurPixels:l,image:this.video,width:o,height:i});e.filter=`blur(${l}px)`,e.drawImage(d,-c,-c,d.width,d.height),e.globalCompositeOperation="destination-out",e.restore()})),a(this,"drawPortraitToCanvas",(e=>{const t=this.mediapipeSegmentResults;if(!t||!e||!this.video)return;const a=e.canvas.width,n=e.canvas.height;e.save(),e.clearRect(0,0,a,n),e.drawImage(this.video,0,0,a,n),e.globalCompositeOperation="destination-in",e.drawImage(t,0,0,a,n),e.restore()})),a(this,"drawVideoToCanvas",(async e=>{const{layer:t,studioPaused:a}=this.props,{removeBg:n,blurBg:s,chromaKey:o}=t;if(!this.mounted)return;const i="number"==typeof e&&"number"==typeof this.previousDrawingTime?e-this.previousDrawingTime:null,r=1e3/24;if(null!==i&&(i>r||"requestVideoFrameCallback"in HTMLVideoElement.prototype)&&(this.previousDrawingTime=e-i%r,this.canvas&&this.video)){const{canvas:e}=this,a=e.getContext("2d");if(!a)return;"video/webm"!==t.mime&&"video/quicktime"!==t.mime||n||s||a.clearRect(0,0,e.width,e.height),n||s?await this.drawSelfieSegmentationImage():o?await this.drawChromaKeyImage(this.video):(a.drawImage(this.video,0,0,this.canvas.width,this.canvas.height),this.couldBeTransparent()&&t.presetFilter&&this.filterCanvas&&this.drawPresetFilter()),this.props.isLayerMountedValueInStudioLocal||Xie(t.id,!0)}Tce(this.props.absoluteTimes,this.props.studioTime)&&!a&&window.requestAnimationFrame(this.drawVideoToCanvas)})),a(this,"startDrawingVideoToCanvas",(()=>{this.previousDrawingTime=performance.now(),this.drawVideoToCanvas(performance.now())})),a(this,"canvasRef",(e=>{this.canvas=e;this.layerRefService.get(this.props.layer.id).setRef(e),this.drawPausedFrameToCanvas()})),a(this,"setVideoAttributes",(e=>{e.dataset.hasSetAttributes||(e.className=`${eoe.video} ${eoe.disableselect}`,e.draggable=!1,"pastedLink"!==this.props.layer.source?e.crossOrigin="anonymous":e.crossOrigin=null,e.onloadstart=e=>{this.didLogVideoAnalytics||(this.onLoadStartTime=e.timeStamp)},e.onloadedmetadata=e=>{this.didLogVideoAnalytics||(this.onLoadedMetadataTime=e.timeStamp)},e.onloadeddata=e=>{this.didLogVideoAnalytics||(this.onLoadedDataTime=e.timeStamp)},e.oncanplay=e=>{void 0===this.props.layer.hasAudio&&this.checkHasAudio(),this.didLogVideoAnalytics||(this.onCanPlayTime=e.timeStamp)},e.oncanplaythrough=t=>{var a,n,s,o,i;if(this.didLogVideoAnalytics)return;if(Math.random()>.002&&!this.logFileExperiment)return;if(this.props.layer.requireConversion||this.props.layer.removeBg||this.props.layer.blurBg||this.props.layer.chromaKey)return;const r={eventVersion:3,onLoadedMetadata:c.round((this.onLoadedMetadataTime-this.onLoadStartTime)/1e3,1),onLoadedData:c.round((this.onLoadedDataTime-this.onLoadStartTime)/1e3,1),onCanPlay:c.round((this.onCanPlayTime-this.onLoadStartTime)/1e3,1),onCanPlayThrough:c.round((t.timeStamp-this.onLoadStartTime)/1e3,1),videoHeight:e.videoHeight,videoWidth:e.videoWidth,duration:e.duration,fileSource:this.logFileSource,fileType:this.logFileType,size:c.round(this.logFileSize/1048576,1),deviceMemory:navigator.deviceMemory,mountToCanPlayThrough:c.round((performance.now()-this.mountTime)/1e3,1),numberOfVideoElementsInDocument:document.getElementsByTagName("video").length,experimentName:null==(a=this.logFileExperiment)?void 0:a.name,experimentTimeToInit:null==(n=this.logFileExperiment)?void 0:n.timeToInit,experimentTimeToTranscode:null==(s=this.logFileExperiment)?void 0:s.timeToTranscode,experimentStatus:null==(o=this.logFileExperiment)?void 0:o.status,error:null==(i=this.logFileExperiment)?void 0:i.error};ov("VideoTagLoad",r),this.didLogVideoAnalytics=!0},e.dataset.hasSetAttributes="true")})),a(this,"videoRef",(e=>{var t,a,n;this.video&&!this.video.paused&&this.video.pause(),this.video=e,e&&(null==(t=this.video)||t.addEventListener("timeupdate",this.referenceLayerIsNotBuffering),null==(a=this.video)||a.addEventListener("progress",this.referenceLayerIsNotBuffering),null==(n=this.video)||n.addEventListener("waiting",this.referenceLayerIsBuffering),this.video&&this.video.readyState<2&&this.referenceLayerIsBuffering(),e.readyState>0?this.initVideo():e.addEventListener("loadedmetadata",this.initVideo,{once:!0}),this.mountVideo(e));this.layerRefService.get(this.props.layer.id).setRef(e)})),a(this,"setVideoContainerRefState",(e=>{this.setState({videoContainer:e})})),a(this,"renderConversion",(()=>{const{isRemoteUploadingLayer:e,viewOnly:t,needsConversion:a,layer:n}=this.props;return a?"complete"===n.videoConvertedState||t||e?null:f.jsx("div",{className:eoe.videoConversion,children:f.jsx(Ile,{textStyles:kce,text:this.getConversionText()})}):null})),a(this,"renderVideo",(()=>{var e;const{staticPreview:t,layer:a,width:n,height:s,x:o,y:i,background:r,trackIsBeingManipulated:l}=this.props,d=null==(e=this.props.layerTempValues)?void 0:e.filters,c=this.getVideoWidthAndHeight(),u=hY(this.props.layer,this.props.studioTime,l),p=yle(u,[this.props.width,this.props.height],c,gY(a)),{width:m,height:g}=uM([this.props.width,this.props.height],c),h=fle(p,m,g),v=ble({...a,filters:d||a.filters},!!t,!!this.props.multiScene,h,this.props.width,this.props.height,this.props.keyframeChannels,this.props.studioTime),b="none"===v.display;if(v.display="hidden",t){const e=Ece(a);return e&&(v.display="hidden"),f.jsxs(f.Fragment,{children:[e&&this.renderCanvasVideo(),a.isAudiogram&&f.jsx(Sce,{width:n,height:s,x:o,y:i,background:r}),f.jsx(Kie,{ref:this.setVideoContainerRefState,layer:a,style:v,children:!e&&f.jsx("video",{id:"staticvideo",className:eoe.video,ref:e=>{this.staticVideo=e},style:this.getSizeStyles(),src:this.getVideoSrc(),draggable:!1,muted:!0,autoPlay:!0,onLoadStart:e=>{e.target.pause()},onPlaying:e=>{e.target.pause()},playsInline:!0,..."pastedLink"!==a.source&&{crossOrigin:"anonymous"}})})]})}return Ece(a)||b?v.display="none":v.display="block",this.props.forMovingZoomControls?f.jsx("div",{ref:this.setVideoContainerRefState,style:v,"data-cy":"filter-layer-style-wrapper"}):f.jsxs(f.Fragment,{children:[Ece(a)&&this.renderCanvasVideo(),a.isAudiogram&&f.jsx(Cce,{layer:a,width:n,height:s}),a.isReversed&&f.jsx("audio",{ref:e=>{e&&gre(e),this.reverseAudio=e}}),f.jsx(Kie,{ref:this.setVideoContainerRefState,layer:a,style:v})]})})),this.state={retries:0,videoSrc:e.layerVideoUrl||"",sourceAtMount:(null==(t=e.layer)?void 0:t.source)||"",selfieSegmentationLoaded:!1,videoContainer:null},this.videoDriftCounter=b.createRef(),this.videoDriftInterval=window.setInterval((()=>{this.videoDriftCounter.current=(this.videoDriftCounter.current||0)+1}),1e3)}async componentDidMount(){const{layer:e,studioPaused:t,layerLocalUrls:a}=this.props;this.didLogVideoAnalytics=!1,this.mountTime=performance.now(),(null==a?void 0:a.local_url)||this.setVideoSrc(!0),this.mounted=!0,await this.setupVideo(),e.isReversed&&e.hasAudio&&this.initReverseAudio(),Lce(e)&&this.setupSelfieSegmentation(),Ece(e)&&!t&&Tce(this.props.absoluteTimes,this.props.studioTime)&&this.startDrawingVideoToCanvas()}componentDidUpdate(e,t){var a,n,s,o,i,r;const{absoluteTimes:l,userManualSeek:d,isBeingDragged:c,layer:u,layerTempValues:p,staticPreview:m,studioPaused:g,studioTime:h,updateLayerAnimationPosition:v,globalPlaybackRate:f,isWaitingForNextEPLayer:b,isReferenceLayer:y}=this.props,{videoContainer:w}=this.state,_=Tce(e.absoluteTimes,e.studioTime);let C=!0;if(this.props.forMovingZoomControls){if(!this.video){const e=document.createElement("video");gre(e),e.src=(null==(a=this.props.layerLocalUrls)?void 0:a.preview_local_url)||(null==(n=this.props.layerLocalUrls)?void 0:n.local_url)||this.props.layerVideoUrl||"",this.videoRef(e)}}else{const t=this.props.canvasElementPool.domElementByLayerId.get(this.props.layer.id)||null,a=this.props.canvasElementPool.layerByLayerId.get(this.props.layer.id);C=!!(Tce(l,h)||(null==a?void 0:a.isAtEnd)&&VC(h,l[1],.03333333333333333)),!C||m||this.video&&!this.isVideoRefOutdated(t)||this.videoRef(t),C&&!m&&t&&w&&w.contains(t)&&this.mountVideo(t),!t||u===e.layer&&this.props.width===e.width&&this.props.height===e.height||Object.assign(t.style,this.getSizeStyles()),this.video&&this.setVideoAttributes(this.video),C||b||!this.video||(this.videoRef(null),Xie(u.id,!1))}const{videoSrc:S}=this.state,x=e.layer.hasAudio;t.videoSrc===S&&x===u.hasAudio||this.setupVideo(),this.video&&(null==(s=e.layer)?void 0:s.isReversed)!==u.isReversed&&(this.closeReverseVideoInterval(),u.isReversed?(this.video.pause(),this.initReverseAudio(),lde(u,this.video,h,this.reverseAudio)):lde(u,this.video,h));const I=Lce(e.layer),A=Lce(u);I!==A&&(A?this.setupSelfieSegmentation():this.cleanupSelfieSegmentation()),!this.video||c||e.isBeingDragged||C||!_||(this.video.pause(),this.closeSetStudioTimeInterval(),u.isReversed&&lde(u,this.video,h),this.reverseAudio&&(this.reverseAudio.pause(),this.reverseAudio.currentTime=u.startTime||0)),!g&&y&&C?this.openSetStudioTimeInterval():this.closeSetStudioTimeInterval();const k=!this.reversedIntervalID&&!g||!_;if(this.video&&this.reverseAudio&&u.isReversed&&C&&k&&(this.reverseAudio&&this.reverseAudio.paused&&this.reverseAudio.play(),lde(u,this.video,h,this.reverseAudio),g||this.openReverseVideoInterval()),"number"==typeof d&&u.isReversed&&!C&&this.closeReverseVideoInterval(),this.video&&!m){const a=f*(u.playbackRate??1);this.video.playbackRate!==a&&(this.video.playbackRate=a),this.reverseAudio&&this.reverseAudio.playbackRate!==a&&(this.reverseAudio.playbackRate=a),this.setVolume();const[n,s]=l;if(n<=h&&h<=s||c){"number"==typeof d?(this.videoDriftCounter.current=0,lde(u,this.video,dY(),this.reverseAudio).then((()=>{Ece(u)?g?this.drawPausedFrameToCanvas().then((()=>{Xie(u.id,!0)})):u.isReversed&&(this.openReverseVideoInterval(),this.reverseAudio&&this.reverseAudio.paused&&this.reverseAudio.play()):Xie(u.id,!0)}))):h<e.studioTime-.5?(this.videoDriftCounter.current=0,lde(u,this.video,h,this.reverseAudio)):this.videoDriftCounter.current&&this.videoDriftCounter.current>5&&this.handleDriftingVideo(),Ece(u)&&!g&&(e.studioPaused||!_&&C)&&this.startDrawingVideoToCanvas();const a=VC(this.video.currentTime,this.video.duration,.1);if(Rp(u)&&!g){const{state:e}=Mu(),t=HC(u,e);if((u.duration||(null==t?void 0:t.duration)||3)-this.video.currentTime>1&&a){a&&(this.video.currentTime=0);const e=this.video.play();this.handleAudiogramPlayError(e)}}if(!u.isReversed&&!g&&(null==(o=this.video)?void 0:o.paused)){const e=VC(u.startTime||0,0,.1)&&VC(h,n,.1);if(a&&!e)return;a&&(this.video.currentTime=0);const t=this.video.play();this.handleAudiogramPlayError(t)}u.isReversed&&g!==e.studioPaused&&!g&&(this.openReverseVideoInterval(),this.reverseAudio&&this.reverseAudio.paused&&this.reverseAudio.play()),!g||(null==(i=this.video)?void 0:i.paused)&&!u.isReversed||(u.isReversed?(this.closeReverseVideoInterval(),this.reverseAudio&&!this.reverseAudio.paused&&this.reverseAudio.pause()):null==(r=this.video)||r.pause()),g&&this.shouldDrawPausedFrameToCanvas(e,t)&&this.drawPausedFrameToCanvas()}else"number"==typeof d?lde(u,this.video,n,this.reverseAudio):this.video.paused||this.video.pause()}this.staticVideo&&(this.staticVideo.onloadedmetadata=this.initStaticVideo,this.shouldDrawPreviewToCanvas(e)&&this.drawPreviewToCanvas()),this.mounted&&this.setVideoSrc();const T=TT(u),{introTransition:E,outroTransition:L}=LT(u),j=T.find((e=>e.layerInvolvesMovement));if(m||"none"===(null==j?void 0:j.id)&&!E&&!L)null==v||v(null);else if(j){const e=Jse(u);null==v||v(e)}const{blurBgValueTemp:R}=p||{},N=R??u.blurBgValue;this.mediapipeSegmentResults&&N!==this.currentProcessedBlurValue&&this.drawMediapipeResults()}async componentWillUnmount(){this.mounted=!1,this.closeReverseVideoInterval(),this.video=null,clearInterval(this.videoDriftInterval),this.closeSetStudioTimeInterval(),this.loopSetStudioTimeID&&clearTimeout(this.loopSetStudioTimeID),this.cleanupSelfieSegmentation(),this.layerRefService.delete()}get shouldSetStudioTimeFromVideo(){if(!this.mounted)return!1;return Tce(this.props.absoluteTimes,this.props.studioTime)&&this.props.isReferenceLayer&&!this.props.studioPaused}getVideoWidthAndHeight(){let e=[0,0];return this.video?e=[this.video.videoWidth,this.video.videoHeight]:this.staticVideo&&(e=[this.staticVideo.videoWidth,this.staticVideo.videoHeight]),e}isVideoRefOutdated(e){var t;return(null==e?void 0:e.id)!==(null==(t=this.video)?void 0:t.id)}openSetStudioTimeInterval(){this.loopSetStudioTimeID||(this.firstTimeReferenceLayer=!0,this.loopSetStudioTimeFromVideo())}closeSetStudioTimeInterval(){var e,t,a;null==(e=this.video)||e.removeEventListener("progress",this.referenceLayerIsNotBuffering),null==(t=this.video)||t.removeEventListener("timeupdate",this.referenceLayerIsNotBuffering),null==(a=this.video)||a.removeEventListener("waiting",this.referenceLayerIsBuffering)}getVideoSrc(e=!1){const{videoSrc:t}=this.state,a=t;return a&&a.startsWith("blob:")&&e?"blob":a||""}getConversionText(){const{uploadStatus:e}=this.props;return e?B4(e):null}isAudioOnly(){const{layer:e}=this.props;return"audio"===e.type&&!e.isAudiogram}drawPresetFilter(){if(!this.canvas)return;const{layer:e}=this.props;if(!e.presetFilter||!this.filterCanvas)return;if("Original"===e.presetFilter.name)return;const t=this.canvas.getContext("2d");if(!t)return;const{width:a,height:n}=this.canvas,s=this.filterCanvas.getContext("2d");s&&(s.save(),s.clearRect(0,0,a,n),Lie(e.presetFilter,s,this.canvas,this.canvas.width,this.canvas.height),s.restore(),t.save(),t.globalCompositeOperation="source-in",t.drawImage(this.filterCanvas,0,0,a,n),t.restore())}shouldDrawPreviewToCanvas(e){const{layer:t}=this.props;return t.chromaKey&&!e.layer.chromaKey||t.chromaKeyChannel!==e.layer.chromaKeyChannel||t.chromaKeyThreshold!==e.layer.chromaKeyThreshold||t.chromaKeyColor!==e.layer.chromaKeyColor||t.chromaKeyHueThreshold!==e.layer.chromaKeyHueThreshold||t.chromaKeySatThreshold!==e.layer.chromaKeySatThreshold||t.chromaKeyValThreshold!==e.layer.chromaKeyValThreshold||t.presetFilter!==e.layer.presetFilter}shouldDrawPausedFrameToCanvas(e,t){const{layer:a,layerTempValues:n}=this.props,{selfieSegmentationLoaded:s}=this.state,o=e.layerTempValues||{},{chromaKeyThresholdTemp:i,chromaKeyHueTldTemp:r,chromaKeySatTldTemp:l,chromaKeyValTldTemp:d}=n||{};return a.chromaKey!==e.layer.chromaKey||a.removeBg!==e.layer.removeBg||a.blurBg!==e.layer.blurBg||a.animation!==e.layer.animation||s!==t.selfieSegmentationLoaded||i!==o.chromaKeyThresholdTemp||r!==o.chromaKeyHueTldTemp||l!==o.chromaKeySatTldTemp||d!==o.chromaKeyValTldTemp||this.shouldDrawPreviewToCanvas(e)}couldBeTransparent(){const{layer:e}=this.props;return e.chromaKey||e.removeBg||e.blurBg||"video/webm"===e.mime}async mountVideo(e){const{layer:t,studioPaused:a}=this.props,{videoContainer:n}=this.state;if(Object.assign(e.style,this.getSizeStyles()),this.setVideoAttributes(e),n&&!n.contains(e)){e.parentNode&&e.parentNode.removeChild(e);const s=n;for(const e of s.children)"VIDEO"===e.tagName&&s.removeChild(e);s.appendChild(e);try{await UC({actionDescription:"Seeking video",timeoutMs:5e3,promise:lde(t,e,this.props.studioTime)}),this.handleDriftingVideo()}catch(b9e){console.error(b9e)}t.type!==Nc.Video||Ece(t)||a||e.addEventListener("playing",(function(){Xie(t.id,!0)}),{once:!0})}}handleDriftingVideo(){const{absoluteTimes:e,layer:t,isReferenceLayer:a,setsTime:n}=this.props,s=e[0];if(this.video){const e=this.video.currentTime-(t.startTime||0),o=this.props.studioTime-s;if((()=>{var t;if(null==(t=this.video)?void 0:t.paused)return!1;const a=1/30;return!(e>=o-a&&e<=o+a)})()&&a&&!n){const t=o+(e-o)/2+s;this.props.setEPTime(t)}this.videoDriftCounter.current=0}}renderCanvasVideo(){var e;if(!this.video&&!this.staticVideo||this.isAudioOnly())return null;const{layer:t,trackIsBeingManipulated:a}=this.props,{videoWidth:n,videoHeight:s}=this.staticVideo||this.video||{},{intermediateCanvasWidth:o,intermediateCanvasHeight:i}=this.state,r=this.getVideoWidthAndHeight(),l=hY(this.props.layer,this.props.studioTime,a),d=yle(l,[this.props.width,this.props.height],r,gY(t)),{width:c,height:u}=uM([this.props.width,this.props.height],r),p=fle(d,c,u),m=ble({...this.props.layer,filters:(null==(e=this.props.layerTempValues)?void 0:e.filters)||this.props.layer.filters},!!this.props.staticPreview,!!this.props.multiScene,p,this.props.width,this.props.height,this.props.keyframeChannels,this.props.studioTime);return n&&s?f.jsxs(f.Fragment,{children:[f.jsx("div",{style:{display:"none"},children:f.jsx("canvas",{ref:e=>{this.smallIntermediateCanvas=e},width:o,height:i})}),f.jsx("div",{style:{display:"none"},children:f.jsx("canvas",{ref:e=>{this.fullIntermediateCanvas=e},width:n,height:s})}),f.jsx("div",{style:{display:"none"},children:f.jsx("canvas",{ref:e=>{this.filterCanvas=e},width:n,height:s})}),f.jsx("div",{style:{display:"none"},children:f.jsx("canvas",{ref:e=>{this.webGLCanvas=e},width:n,height:s})}),this.couldBeTransparent()||!t.presetFilter?f.jsx("canvas",{"data-cy":"ep-container",ref:this.canvasRef,style:m,width:n,height:s}):f.jsx(Kie,{layer:t,style:m,children:f.jsx("canvas",{"data-cy":"ep-container",ref:this.canvasRef,width:n,height:s})})]}):null}render(){const{needsConversion:e}=this.props;return f.jsxs("span",{children:[this.renderConversion(),e?null:this.renderVideo()]})}}const Rce=r.connect((()=>{const e=Mre(),t=he(GC),a=he(Lre,c.isEqual);return(n,s)=>{var o,i,r,l,d,c,u;const p=a({selectElementPoolLayers:s.selectElementPoolLayers,selectPossibleReferenceLayers:s.selectPossibleReferenceLayers}),m=(null==(o=s.elementPool)?void 0:o.id)||tB.studio,g=Hp(s.layer,{mediaCacheState:n.mediaCache}),h=s.layer.uploadId&&n.uploadStatuses&&!(s.layer.uploadId in n.uploadStatuses),v=null==(r=null==(i=HC(s.layer,n))?void 0:i.preview)?void 0:r.duration,f=t(s.layer,Rp(s.layer)?void 0:v),[b,y]=f;let w=!1;Rre(y,s.studioTime,VJ(n))&&(w=e(n,y));const _=Kse(n,s.layer.id),C=s.selectPossibleReferenceLayers(n),S=C.some((e=>e.layerId===s.layer.id))&&bre(f,s.studioTime,C),x=g?n.assets.localAssetInfo[g]:void 0,I=pS(s.layer,{type:"preview",state:n})||pS(s.layer,{type:"original",state:n}),A=O4(s.layer.id,n);return{absoluteTimes:f,background:n.studio.background,userManualSeek:null==(l=n.elementPool.byElementPoolId[m])?void 0:l.userManualSeekTime,isBeingDragged:!!(null==(d=n.studioLocal.draggedTracksOverrides)?void 0:d.overrides[s.layer.id]),globalPlaybackRate:n.studioLocal.playbackRate??1,isRemoteUploadingLayer:h,layerTempValues:jR(n,s.layer.id),mediaCacheId:g,studioPaused:!!(null==(c=n.elementPool.byElementPoolId[m])?void 0:c.paused),trackIsBeingManipulated:MR(n,s.layer.id),uploadStatus:s.layer.uploadId?null==(u=n.uploadStatuses)?void 0:u[s.layer.uploadId]:null,isWaitingForNextEPLayer:w,isLayerMountedValueInStudioLocal:n.studioLocal.isLayerMountedByLayerId[s.layer.id],keyframeChannels:_,setsTime:p(n,s.studioTime),isReferenceLayer:S,layerLocalUrls:x,layerVideoUrl:I,needsConversion:A,animationsById:n.studio.animations.byId}}}),(e=>j({showToast:db,assetsFetched:YE},e))),Nce=function(e){return t=>f.jsx(fce.Consumer,{children:a=>f.jsx(e,{...t,...a})})}(function(e){return t=>f.jsx(JG.Consumer,{children:({elementPool:a,getEPTime:n,setEPTime:s,selectElementPoolLayers:o,selectPossibleReferenceLayers:i})=>f.jsx(e,{...t,elementPool:a,getEPTime:n,setEPTime:s,selectElementPoolLayers:o,selectPossibleReferenceLayers:i})})}((Mce=lY(Rce(jce)),e=>f.jsx(ele.Consumer,{children:t=>f.jsx(Mce,{...e,canvasElementPool:t})}))));var Mce;const Pce=e=>{let t=0,a=0;e.pageX&&(t=e.pageX),e.pageY&&(a=e.pageY);const n=e instanceof MouseEvent||e.nativeEvent instanceof MouseEvent,s=window.TouchEvent&&(e instanceof TouchEvent||e.nativeEvent instanceof TouchEvent),o=e instanceof PointerEvent||e.nativeEvent instanceof PointerEvent;return n||o?(e.pageX?t=e.pageX:e.clientX&&(t=e.clientX),e.pageY?a=e.pageY:e.clientY&&(a=e.clientY)):window.TouchEvent&&s&&e.touches&&e.touches.length&&(t=e.touches[0].pageX,a=e.touches[0].pageY),{x:t,y:a}},Fce=e=>e.touches&&e.touches.length&&e.touches[0]?e.touches[0].clientY:e.clientY,Dce=e=>e.touches&&e.touches.length&&e.touches[0]?e.touches[0].clientX:e.clientX;function Oce(e){return!!e.isPrimary&&("touch"===e.pointerType||0===e.button)}function Uce(e){e.currentTarget instanceof HTMLElement&&0!==e.deltaY&&(e.currentTarget.scrollLeft+=e.deltaY,e.preventDefault())}function Bce(){const{dispatch:e}=Mu();e(tj(null)),e(dj(null)),e(Bj(!1)),D$(!0)}const Wce=(e,t)=>Vce(e.map((e=>e.text)),t),Vce=(e,t)=>{let a="";for(let n=0;n<e.length;n++){const s=e[n];s&&(a+=s,n<e.length-1&&!s.endsWith("\n")&&(a+=t))}return a};function Hce({beforeFrame:e,newTime:t,timeType:a,wordIsClippedList:n}){x({category:"Magic Subtitles/processSubtitleTimeChange",data:{beforeFrame:e,newTime:t,timeType:a,wordIsClippedList:n}});const{startNdx:s,endNdx:o}=a===Xc.start?function(e){let t=!1,a=0,n=0;for(let s=0;s<e.length;s++)if(e[s]){if(t)return n=s-1,{startNdx:a,endNdx:n}}else t||(a=s),t=!0;return{startNdx:a,endNdx:e.length-1}}(n):function(e){let t=!1,a=0,n=0;for(let s=0;s<e.length;s++)e[s]?(t&&(n=s-1),t=!1):(t||(a=s),t=!0);return t&&(n=e.length-1),{startNdx:a,endNdx:n}}(n),i=[{type:"frame_update",frameId:e[Xc.id],update:{[a]:t}}],r=(a===Xc.start?t:e[Xc.start])<(a===Xc.start?e[Xc.end]:t),l=e[Xc.start]<e[Xc.end];if(!r||!l){for(let t=0;t<e[Xc.words].length;t++){const a=e[Xc.words][t];a&&qc(a)&&i.push({type:"word_update",ndx:t,frameId:e[Xc.id],update:{[Zc.start]:void 0,[Zc.end]:void 0}})}return i}i.push(...function({beforeFrame:e,newTime:t,startNdx:a,endNdx:n,timeType:s}){const o=[];if(!$c(e))return o;const i=s===Xc.start?Zc.end:Zc.start,r=s===Xc.start,l=e[Xc.words][a],d=e[Xc.words][n-1];if(r&&l&&t<l[Zc.start])return o.push({type:"word_update",ndx:a,frameId:e[Xc.id],update:{[Zc.start]:t}}),o;if(!r&&d&&t>d[Zc.end])return o.push({type:"word_update",ndx:n,frameId:e[Xc.id],update:{[Zc.end]:t}}),o;const c=[];for(let m=a;m<=n;m++){const a=e[Xc.words][m];void 0!==a&&((r?a[Zc.start]<t:a[Zc.end]>t)&&c.push({word:a,ndx:m}))}if(0===c.length)return o;r||c.reverse();const u=c[r?c.length-1:0],p=Math.abs(t-u.word[i])/c.length;for(let m=0;m<c.length;m++){const a=c[m];if(!a)continue;const{ndx:n}=a,l=p*(r?1:-1),d=t+l*m,u={[s]:d};c.length>1&&(u[i]=d+l),o.push({type:"word_update",ndx:n,frameId:e[Xc.id],update:u})}return o}({beforeFrame:e,newTime:t,startNdx:s,endNdx:o,timeType:a}));const d=QD(e);if(a===Xc.start){const a=[];for(let r=0;r<s;r++){i.push({frameId:e[Xc.id],type:"word_remove",ndx:0});const n=e[Xc.words][r];if(n){r===s-1&&qc(n)?a.push({...n,[Zc.end]:Math.min(n[Zc.end],t)}):a.push(n)}}const n=d[Xc.words][0],o=d[Xc.words][a.length-1];n&&o&&i.push({type:"frame_insert",id:sA(),frame:{[Xc.start]:n[Zc.start],[Xc.end]:Math.min(o[Zc.end],t),[Xc.words]:a}})}if(a===Xc.end){const a=e[Xc.words].length-o-1,n=[];for(let o=0;o<a;o++){i.push({frameId:e[Xc.id],type:"word_remove",ndx:e[Xc.words].length-a});const s=e[Xc.words][e[Xc.words].length-o-1];if(s){o===a-1&&qc(s)?n.push({...s,[Zc.start]:Math.max(s[Zc.start],t)}):n.push(s)}}n.reverse();const s=d[Xc.words][e[Xc.words].length-a],r=d[Xc.words][e[Xc.words].length-1];s&&r&&i.push({type:"frame_insert",id:sA(),frame:{[Xc.start]:Math.max(s[Zc.start],t),[Xc.end]:r[Zc.end],[Xc.words]:n}})}return i}function zce({assetId:e,timelineRelativeEndTime:t,timelineRelativeStartTime:a}){const{state:n}=Mu();return qD([e])(n).find((e=>{const[n,s]=zC(e);return FL(n,s,a,t)}))}const Gce=(e,t,a)=>({type:"SET_ASSET_PARSED_SUBTITLE",assetId:e,subtitles:t,undoable:a}),Yce=(e,t)=>({type:"DELTA_ASSET_TRANSCRIPTION_EDIT_COUNT",assetIds:e,delta:t}),Kce=e=>({type:"RESET_ASSET_TRANSCRIPTION_EDIT_COUNT",assetIds:e});let Xce=null;const Zce=e=>Math.floor(1e3*e),qce=()=>{if(!Xce)return;const{assetId:e,words:t}=Xce;Xce=null;const a=t[0];if(!a)return;if(!!!OD(Mu().state,e))return void console.warn("Discarding magic subtitle word updates, likely from different project");const n=t.reduce(((e,t)=>({...e,...t,before:e.before})),a);sue({assetId:e,shouldSync:!0,source:"flushMagicSubtitleWordUpdates",undoable:!0,updates:[n]})},Jce=(e,t)=>{const a=(n=e.assetId,hO(n)(Mu().state));var n;const s=Wce(e.words,a).length;if(0===s)return 0;return t?s+a.length:s},$ce=(e,t)=>{0!==e.length&&(((e,t,a)=>{var n;if(a&&t!==a.assetId)return!1;const s=e[0];if(!s)return!1;if("word_update"!==s.type)return!1;const o=(null==(n=null==a?void 0:a.words)?void 0:n[0])||s;return e.every((e=>"word_update"===e.type&&e.frameId===o.frameId&&e.ndx===o.ndx))})(e,t,Xce)?(sue({updates:e,assetId:t,shouldSync:!1,source:"queueOrDispatchMagicTextChanges no sync",undoable:!1}),Xce||(Xce={assetId:t,words:[]}),Xce.words.push(...e)):(qce(),sue({updates:e,assetId:t,shouldSync:!0,source:"queueOrDispatchMagicTextChanges yes sync",undoable:!0})))};function Qce(e){const t={...e};void 0===t.undoable&&(t.undoable=!0),qce(),Mu().dispatch(t)}function eue(e){return e.type.startsWith("multi_frame")||e.type.startsWith("frame")}function tue(e,t){switch(e.type){case"multi_frame_insert":return{type:"INSERT_MAGIC_SUBTITLE_FRAMES",assetIdFramePairs:e.assetIdFramePairs,undoable:t.undoable};case"multi_frame_update":return{type:"UPDATE_MAGIC_SUBTITLE_FRAMES",updates:e.updates,undoable:t.undoable};case"multi_frame_remove":return{type:"REMOVE_MAGIC_SUBTITLE_FRAMES",frameIdPairs:e.frameIdPairs,undoable:t.undoable};default:throw Error(`Unknown change ${e}`)}}function aue(e,t){switch(e.type){case"word_insert":return{type:"INSERT_MAGIC_SUBTITLE_FRAME_WORD",wordNdx:e.ndx,word:e.word,frameId:e.frameId,...t};case"word_update":return{type:"UPDATE_MAGIC_SUBTITLE_FRAME_WORD",wordNdx:e.ndx,update:e.update,frameId:e.frameId,undoBeforeWord:e.before,...t};case"word_remove":return{type:"REMOVE_MAGIC_SUBTITLE_FRAME_WORD",wordNdx:e.ndx,frameId:e.frameId,...t};default:throw Error(`Unknown change ${e}`)}}const nue=PU.withUndoBatch(((e,t,a=!0)=>{const{dispatch:n}=Mu();e.forEach((e=>{n(aue(e,{assetId:e.assetId,shouldSync:!0,undoable:a}))})),n(Lz({speakerIds:[t],undoable:a}))})),sue=PU.withUndoBatch((({assetId:e,shouldSync:t,source:a,undoable:n,updates:s})=>{const{dispatch:o}=Mu();qce();const i=function(e,t){const a=[],n=[],s=[],o=[];return e.forEach((e=>{!function(e){return e.type.startsWith("frame")}(e)?a.push(e):"frame_insert"!==e.type?"frame_remove"!==e.type?"frame_update"!==e.type||o.push(e):s.push(e):n.push(e)})),n.length>0&&a.push({type:"multi_frame_insert",assetIdFramePairs:n.map((e=>({assetId:t,id:e.id,frame:e.frame})))}),s.length>0&&a.push({type:"multi_frame_remove",frameIdPairs:s.map((e=>({assetId:t,id:e.frameId})))}),o.length>0&&a.push({type:"multi_frame_update",updates:o.map((e=>({assetId:t,frameId:e.frameId,update:e.update})))}),a}(s,e);x({category:"Magic Subtitles/dispatchMagicFrameChanges",data:{updates:s,mergedUpdates:i,shouldSync:t,assetId:e,source:a}});for(const c of i)eue(c)?o(tue(c,{assetId:e,undoable:n})):o(aue(c,{assetId:e,shouldSync:t,undoable:n}));const r=EO(Mu().state),l=DD(Mu().state),d=new Set(l);for(const c of r)d.delete(c.assetId);for(const c of d.keys())o(jq(c)),Qce({type:"SET_MAGIC_SUBTITLE_FRAMES",assetId:c,frames:null});o(Kce(Array.from(d)))})),oue=PU.withUndoBatch((()=>{const{state:e,dispatch:t}=Mu();r.batch((()=>{var a;const n=[...Object.keys(e.studio.magicSubtitles||{}),"background-asset"];t(Kce(n));for(const e of n)iue(e);const s=null==(a=e.studio.magicSubtitleSpeakers)?void 0:a.speakerLabelsMap;if(s){const e=Object.keys(s);t(Lz({speakerIds:e,undoable:!0}))}}))})),iue=PU.withUndoBatch((e=>{var t;const{dispatch:a,state:n}=Mu();(null==(t=n.studioLocal.magicSubtitleInlineSelection)?void 0:t.assetId)===e&&(a(jj(-1)),a(Lj(null))),a(jq(e)),Qce({type:"SET_MAGIC_SUBTITLE_FRAMES",assetId:e,frames:null}),a(Gce(e,null,!0))})),rue=(e,t)=>{const{dispatch:a,state:n}=Mu(),s=UO(n).length===e.length;a(ck({type:"magicSubtitle",frames:Object.fromEntries(e.map((e=>[e.id,e]))),isPartialSelection:!s,speakerId:t}))},lue=()=>{const{state:e}=Mu(),t=UO(e).map((e=>({assetId:e.assetId,id:e.frame[Xc.id],containingLayerPlaybackRate:e.frame.containingLayerPlaybackRate,wordIsClippedList:e.frame.wordIsClippedList})));rue(t)};const due=PU.withUndoBatch((({assetId:e,frameId:t,startTime:a,endTime:n,wordIsClippedList:s})=>{const{state:o}=Mu(),i=nO(o,e,t);x({category:"Magic Subtitles/studioEjectMagicSubtitle",data:{assetId:e,frameId:t,startTime:a,endTime:n,beforeFrame:i}}),Qce({type:"REMOVE_MAGIC_SUBTITLE_FRAME",assetId:e,frameId:t});for(const{start:l,end:d,words:c}of function(e,t){const a=[];let n=null;const s=QD(t);for(let o=0;o<e.length;o++){const i=t[Xc.words][o],r=s[Xc.words][o],l=e[o];r&&i&&(l?n?(n.end=r[Zc.end],n.words.push(i)):(n={start:r[Zc.start],end:r[Zc.end],words:[i]},a.push(n)):n=null)}return a}(s,i))Qce({type:"INSERT_MAGIC_SUBTITLE_FRAME",assetId:e,id:sA(),frame:{[Xc.start]:l,[Xc.end]:d,[Xc.words]:c}});const r=[];for(let l=0;l<i[Xc.words].length;l++){const e=i[Xc.words][l],t=s[l];if(!e)continue;if(t)continue;const a={[Zc.text]:e[Zc.text]};e[Zc.inlineStyles]&&(a[Zc.inlineStyles]=e[Zc.inlineStyles]),r.push(a)}Qce({type:"INSERT_MAGIC_SUBTITLE_FRAME",assetId:"background-asset",id:i[Xc.id],frame:{[Xc.start]:a,[Xc.end]:n,[Xc.words]:r}})})),cue=PU.withUndoBatch((e=>{const{dispatch:t}=Mu();r.batch((()=>{Qce({type:"REMOVE_MAGIC_SUBTITLE_FRAMES",frameIdPairs:c.uniqBy(e,(e=>`${e.id}-${e.assetId}`))}),t(Yce(e.map((e=>e.assetId)),1))}))}));function uue({assetId:e,beforeFrame:t,newTimeFrameRelative:a,newTimeTimelineRelative:n,timeType:s,timelineRelativeEndClipped:o,timelineRelativeStartClipped:i,wordIsClippedList:r}){const l=s===Xc.start?n-i:n-o;if(s===Xc.start?zce({assetId:e,timelineRelativeStartTime:n,timelineRelativeEndTime:n+.001}):zce({assetId:e,timelineRelativeStartTime:n-.001,timelineRelativeEndTime:n})){const n=Hce({beforeFrame:t,newTime:Math.max(a,0),timeType:s,wordIsClippedList:r});sue({updates:n,assetId:e,shouldSync:!0,source:"handleMagicSubtitleTimeChange",undoable:!0})}else{const a=Math.max(s===Xc.start?i+l:i,0),n=s===Xc.end?o+l:o;due({assetId:e,startTime:a,endTime:n,frameId:t[Xc.id],wordIsClippedList:r})}}function pue(){const{dispatch:e,state:t}=Mu(),{isMobile:a}=t;e(Nh(!0)),e(m0({tabContainerId:"media-sidebar",tabId:"Subtitles"})),a&&e(yj(Jj.MEDIA_CONTROLS))}const mue={top:1,middle:.5,bottom:0};const gue=PU.withUndoBatch((e=>{const{state:t,dispatch:a}=Mu(),n=ZO(t);for(const{speakerId:o}of n){const n=$O(t,dY()),i=_O({filterEmpty:!0,filterInvalid:!0})(t),r=(null==n?void 0:n.frame.speakerId)===o?n:i.find((e=>!o||e.frame.speakerId===o));if(!r)return;const l=CO(t),d=_N(r,r.frame.lines,l),c=(s=r.verticalAlign??"top",(mue[s]-mue[e])*d.height),u=IN({...l,y:l.y+c});a(o?jz({speakerId:o,position:u}):Nq({updates:{position:u}}))}var s;Qce({type:"UPDATE_MAGIC_SUBTITLE_FRAMES",updates:[]})}));function hue(e=!1){const{state:t}=Mu();t.studio.width&&t.studio.height&&r.batch((()=>{Object.keys(t.studio.magicSubtitles||{}).forEach((a=>{var n,s;const o=zD(a)(t);if(!(o&&o.enabled&&o.style&&o.position))return;if(eO(t,a)&&!e)return;if("upload"===o.transcriptionSource){const e=null==(s=null==(n=t.studio.assetUploadedSubtitles)?void 0:n[a])?void 0:s.subtitles;if(!e)return;return void Qce({type:"SET_MAGIC_SUBTITLE_FRAMES",assetId:a,frames:xN(e)})}if("manual"===o.transcriptionSource)return;const i=KD(t,a);if("completed"!==(null==i?void 0:i.state))return;const r=hO(a)(t),l=o.languageKey?pO(o.languageKey).translateCode||pO(o.languageKey).languageCode:void 0,d=o.defaultCharsPerSubtitle??16,c=cO({assetId:a,languageCode:l,maxCharsPerSubtitle:" "===r?2*d:d,ignoreCorrections:e})(t);if(!c)return;(({frames:e,transcript:t,assetId:a})=>{var n,s,o;const{dispatch:i}=Mu(),r=Wz([a]);(null==r?void 0:r.length)&&i(Lz({speakerIds:r}));const l=(null==(n=Mu().state.studio.magicSubtitleSpeakers)?void 0:n.speakerLabelsMap)||{},d=w9(a),{newSpeakerMap:c,speakerIdToTranscriptTag:u}=Oz({frames:e,existingSpeakers:l,transcriptWords:t.words,ttsVoiceId:null==(s=null==d?void 0:d.ttsInfo)?void 0:s.voiceId});Qce({type:"SET_MAGIC_SUBTITLE_FRAMES",assetId:a,frames:e});const p=Object.keys(c).length;Object.keys(c).length&&i(Az(c)),Object.keys(u).length&&i({type:"ADD_SPEAKER_IDS_TO_TRANSCRIPT_TAGS",map:u});let m=!1;(p>1||1===Object.keys(l).length&&p)&&((null==(o=Mu().state.studio.magicSubtitleSpeakers)?void 0:o.showSpeakerLabelsInEditor)||(m=!0),i(kz(!0))),p&&ov("Magic Subtitles Transcribed With Speakers Added",{speakerCount:p,showedSpeakerLabels:m})})({frames:SN({distributed:c,removeGaps:!0,type:o.translated?"simple":"timed"}),transcript:i,assetId:a})}))}))}const vue=e=>{PU.execInUndoBatch((()=>{var t,a,n;const{dispatch:s,state:o}=Mu(),{selectedItem:i}=o.studio;if("magicSubtitle"===(null==i?void 0:i.type)){if(i.speakerId){dv();const{speakerId:n}=i,r=(null==(a=null==(t=o.studio.magicSubtitleSpeakers)?void 0:t.speakerConfigs[n])?void 0:a.style)||YD(o),l="function"==typeof e.update.style?e.update.style(r):e.update.style,d=e.override?e.update.style:{...r,...l};s(Rz({speakerId:n,update:d})),s(Nz({speakerId:n,preset:void 0}))}else if(e.override){const t={preset:null,style:e.update.style};s(Nq({updates:t,override:!0})),s(Pz({}))}else{const t={preset:null},a=YD(o);t.style="function"==typeof e.update.style?e.update.style(a):e.update.style;const i=(null==(n=o.studio.magicSubtitleSpeakers)?void 0:n.speakerConfigs)||{};Object.keys(i).forEach((t=>{var a;const n=null==(a=i[t])?void 0:a.style;if(!n)return;const o="function"==typeof e.update.style?e.update.style(n):e.update.style,r={...n,...o};s(Rz({speakerId:t,update:r}))})),s(Nq({updates:t}))}s(Ej())}}))},fue=e=>{const{dispatch:t,state:a}=Mu();if("function"!=typeof e)t(Tj({updates:{style:e}}));else{const{selectedItem:n}=a.studio;if("magicSubtitle"===(null==n?void 0:n.type)){const s=Object.values(n.frames)[0];if(!s)return;const o=e(IO(s.assetId,s.id)(a));t(Tj({updates:{style:o}}))}}},bue=(e,t)=>{const a=mU();a&&(t&&t.preventDefault(),ov("Changed Layer Depth",{"Layer Type":a.type,"Depth Change Type":"Move Layer Backward","Triggered from":e}),lQ({layer:a}))},yue=(e,t)=>{const a=mU();a&&(t&&t.preventDefault(),ov("Changed Layer Depth",{"Layer Type":a.type,"Depth Change Type":"Move Layer Forward","Triggered from":e}),rQ({layer:a}))},wue=(e,t)=>{const a=mU();a&&(t&&t.preventDefault(),ov("Changed Layer Depth",{"Layer Type":a.type,"Depth Change Type":"Send Layer To Back","Triggered from":e}),cQ({layer:a}))},_ue=(e,t)=>{const a=mU();a&&(t&&t.preventDefault(),ov("Changed Layer Depth",{"Layer Type":a.type,"Depth Change Type":"Bring Layer To Front","Triggered from":e}),dQ({layer:a}))},Cue=e=>{const{dispatch:t}=Mu();var a,n,s,o;t((a=e.gapId,n=e.startTime,s=e.duration,o=e.timelineRow,{type:"SET_TIMELINE_GAP",gapId:a,startTime:n,duration:s,timelineRow:o,undoable:!1})),t(ck({id:e.gapId,type:"gap"}))},Sue=(e,t,a)=>{const{dispatch:n}=Mu(),s=a||mU();if(s&&s.position){const a=((e,t,a,n)=>{const{x:s,y:o}=WR(e,t),i="120%",r="-50%",l=WR(i,i),d=WR(r,r);return XR(Math.max(Math.min(s+a,l.x),d.x),Math.max(Math.min(o+n,l.y),d.y))})(s.position.x,s.position.y,e,t);n(function(e,t,a,n){return{type:"REPOSITION_LAYER",layer:e,x:t,y:a,undoable:n}}(s,a.xPercent,a.yPercent,!0))}},xue=e=>{Sue(0,-1,e)},Iue=e=>{Sue(0,-10,e)},Aue=e=>{Sue(0,1,e)},kue=e=>{Sue(0,10,e)},Tue=e=>{Sue(1,0,e)},Eue=e=>{Sue(10,0,e)},Lue=e=>{Sue(-1,0,e)},jue=e=>{Sue(-10,0,e)},Rue=e=>{const{dispatch:t}=Mu();t(_j(e))},Nue=PU.withUndoBatch((()=>{const{dispatch:e,state:t,history:{location:a}}=Mu(),{studio:n}=t,{overlayMounted:s}=n,o=iU();if(!o)return;if(s)return;if(a.pathname.includes("remove-background"))return;Bce();if("layer"===o.type&&wY(o.id)){let t=!1;const a=o.item,n=dY(),[s]=zC(a);if(FY(a.id).forEach((e=>{Vk(e)===BC(n-s)&&(WG(a.id,e.channel,e.time,!0),t=!0)})),t)return void e(ck(null))}const i=pK(t);if(Y7(cU().map((e=>e.id))))switch(o.type){case"group":if(i)return void s8();C1(o.id);break;case"layer":if(i)return void s8();jJ({layerIds:[o.id],undoable:!0,logEvent:!0});break;case"magicSubtitle":PU.execInUndoBatch((()=>{cue(Object.values(o.frames)),e(ck(null,!0))}));break;case"waveform":PU.execInUndoBatch((()=>{e(pq.removeTetheredWaveform({assetId:o.item.asset_id})),e(ck(null,!0))}));break;case"gap":i8()}}));function Mue(){return Du(dU)}const Pue=["audio"],Fue=u((e=>e.studio.allLayers.byId),(e=>e.studio.groups),(e=>pL()(e)),(e=>e.studio.tetheredWaveforms),((e,t)=>t),((e,t,a,n,s)=>{const o=Object.entries(t),i=[],r=[],l=[...Object.values(e),...a].filter((e=>{const[t,a]=zC(e);return t<=s&&s<=a&&!e.locked&&(!Pue.includes(e.type)||Oc(e))}));return o.length>0&&l.forEach((t=>{const a=o.find((([e,a])=>a.layers.find((e=>e.id===t.id))));if(a){a[1].layers.forEach((e=>{r.push(e.id)}));const t=a[0];if(!!!i.find((({id:e})=>e===t))){const s=a[1].layers.map((t=>_L({layerId:t.id,layersById:e,tetheredWaveforms:n}))).filter(vA),{rotation:o,origin:r}=a[1],{tl:l,tr:d,br:c,bl:u}=Cq({position:Uq(s,o,r),shapeType:"group",positionType:"pixel"}),p=[l,d,c,u];i.push({id:t,points:p,item:{type:"group"}})}}})),l.forEach((e=>{if(!r.includes(e.id)&&e.position){const{tl:t,tr:a,br:n,bl:s}=Cq({position:e.position,shapeType:Oc(e)?void 0:e.shapeType,positionType:"percent"}),o=[t,a,n,s],{id:r}=e;i.push({id:r,points:o,item:{type:"layer"}})}})),i})),Due=u(g8,(e=>e.map((e=>{const{id:t}=e,{top:a,left:n,width:s,height:o}=e.timelinePosition;return{id:t,points:[{x:n,y:a},{x:n+s,y:a},{x:n+s,y:a+o},{x:n,y:a+o}],item:{type:"layer"}}})))),Oue=u(b8,(e=>e.map((e=>{const{id:t}=e,{top:a,left:n,width:s,height:o}=e.timelinePosition;return{id:t,points:[{x:n,y:a},{x:n+s,y:a},{x:n+s,y:a+o},{x:n,y:a+o}],item:{type:"magicSubtitle",frames:e.containedFrames}}})))),Uue="BoxSelect-module_boxSelectContainerWorkspace_5e7it",Bue="BoxSelect-module_boxSelectContainerCanvas_g9l0O",Wue="BoxSelect-module_boxSelectContainerTrackpad_0qV65";function Vue(e,t){const a=[e,t];let n,s,o,i,r,l,d;for(const c of a)for(i=0;i<c.length;i+=1){const a=(i+1)%c.length,u=c[i],p=c[a],m={x:p.y-u.y,y:u.x-p.x};for(n=void 0,s=void 0,r=0;r<e.length;r+=1)o=m.x*e[r].x+m.y*e[r].y,(void 0===n||o<n)&&(n=o),(void 0===s||o>s)&&(s=o);for(l=void 0,d=void 0,r=0;r<t.length;r+=1)o=m.x*t[r].x+m.y*t[r].y,(void 0===l||o<l)&&(l=o),(void 0===d||o>d)&&(d=o);if(s<l||d<n)return!1}return!0}const Hue=[],zue=b.memo((({autoScrollDisplacement:e,boxSelectIsHappening:t,boxSelectStartCoords:a,containerOffsetX:n,containerOffsetY:s,disabled:o=!1,location:r,setBoxSelectIsHappening:l,setBoxSelectStartCoordsToNull:d,unlockedProjectsArray:u,pointTransformFunction:p})=>{const m=Bu(),g=p?p(a):a,[h,v]=i.useState(null),[b,y]=i.useState({}),w=Du((e=>e.studioLocal.boxSelectedIds)),_=i.useMemo((()=>{return u?null==(e=u)?void 0:e.map((e=>{const{top:t,left:a,width:n,height:s}=e.position?e.position:{top:0,left:0,width:0,height:0},o=[{x:a,y:t},{x:a+n,y:t},{x:a+n,y:t+s},{x:a,y:t+s}];return{id:e._id,points:o,item:{type:"workflow"===e.type?"workflow":"project"}}})):null;var e}),[u]),C=Du((e=>"trackpad"===r?Due(e):"workspace"===r&&_?_:Fue(e,dY()))),S=Du((e=>"trackpad"!==r?Hue:Oue(e))),x=Mue().map((e=>null==e?void 0:e.id)),I={x:0,y:0},A={x:I.x,y:I.y};let k=0,T=0;if(h){I.x=g.x-n,I.y=g.y-s,k=h.x+((null==e?void 0:e.horizontal)??0),T=h.y+((null==e?void 0:e.vertical)??0),k<0&&(I.x+=k),T<0&&(I.y+=T),A.x=I.x+Math.abs(k),A.y=I.y+Math.abs(T);const t=[{x:I.x,y:I.y},{x:A.x,y:I.y},{x:A.x,y:A.y},{x:I.x,y:A.y}],a=e=>!e.points.every((e=>0===e.x&&0===e.y))&&Vue(e.points,t),o=C.filter(a),i=S.filter(a),r=(o.length>0?o:i).reduce(((e,t)=>(e[t.id]=t.item,e)),{});c.isEqual(r,b)||y(r)}const E=tY((()=>{if(l&&t&&l(!1),null!==h){v(null);let e=Object.entries(b).filter((e=>"layer"===e[1].type||"group"===e[1].type)).map((e=>e[0]));(null==x?void 0:x.length)&&(e=[...new Set([...e,...x])]),Rue({});if(Object.values(b).some((e=>"magicSubtitle"===e.type))){const e=Object.values(b).filter((e=>"magicSubtitle"===e.type)).map((e=>e.frames)).flat();rue(e)}else{const{groupId:t,layerIds:a}=r1(e);t?m(ck({id:t,type:"group"})):a[0]&&m(ck({id:a[0],type:"layer"}))}Object.keys(b).length>0&&y({}),d()}d()})),L=tY((e=>{l&&!t&&l(!0);const{clientX:a,clientY:n}=e,{x:s,y:o}=p?p({x:a,y:n}):{x:a,y:n},i=s-g.x,r=o-g.y;v({x:i,y:r}),x.length&&!l&&Mu().dispatch(ck(null))}));return i.useEffect((()=>(document.addEventListener("pointermove",L),document.addEventListener("pointerup",E),()=>{document.removeEventListener("pointermove",L),document.removeEventListener("pointerup",E)})),[L,E]),i.useEffect((()=>{c.isEqual(b,w)||Rue(b)}),[b,w]),h&&!o?f.jsx("div",{className:(()=>{switch(r){case"workspace":return Uue;case"canvas":return Bue;default:return Wue}})(),style:{left:`${I.x}px`,top:`${I.y}px`,width:`${Math.max(Math.abs(k),1)}px`,height:`${Math.max(Math.abs(T),1)}px`}}):null})),Gue=(e,t)=>VC(parseFloat(e),parseFloat(t),1);function Yue(e,t){return Gue(e.x,t.x)&&Gue(e.y,t.y)&&Gue(e.width,t.width)&&Gue(e.height,t.height)&&Gue((e.rotation??0).toString(),(t.rotation??0).toString())}function Kue(e,t,a){const{canvasWidth:n,canvasHeight:s}=t;switch(e){case"fillAndCrop":return{height:"100%",width:"100%",x:"0%",y:"0%",rotation:0};case"fitToCenter":return pX({newRatio:{width:n,height:s},prevRatio:a,position:{x:"0%",y:"0%",width:"100%",height:"100%",rotation:0}});case"topCorner":{const e=n/s;let t,a;const o=40;return e<1?(t=o*e+"%",a=`${o}%`):(t=`${o}%`,a=o/e+"%"),{height:t,width:a,x:"10%",y:"10%",rotation:0}}case"bottomCorner":{const e=n/s;let t,a,o;const i=60;return e<1?(t=i*e+"%",a=`${i}%`,o=100-i*e+"%"):(t=`${i}%`,a=i/e+"%",o=100-i+"%"),{height:t,width:a,x:"10%",y:o,rotation:0}}case"topHalf":return{height:"50%",width:"100%",x:"0%",y:"0%",rotation:0};case"bottomHalf":return{height:"50%",width:"100%",x:"0%",y:"50%",rotation:0};case"leftHalf":return{height:"100%",width:"50%",x:"0%",y:"0%",rotation:0};case"rightHalf":return{height:"100%",width:"50%",x:"50%",y:"0%",rotation:0}}}const Xue={fitToCenter:"Fit to Center",fillAndCrop:"Full Screen",topCorner:"Top Corner",topHalf:"Top Half",bottomHalf:"Bottom Half",leftHalf:"Left Half",rightHalf:"Right Half",bottomCorner:"Bottom Corner"},Zue=e=>Xue[e],que=({assetDimensions:e,canvasDimensions:t})=>{const a=VC(e.width/e.height,t.canvasWidth/t.canvasHeight,.01),n=["fillAndCrop","topCorner"];return t.canvasHeight>t.canvasWidth?n.push("topHalf","bottomHalf"):n.push("leftHalf","rightHalf"),a?n:["fitToCenter",...n]};async function Jue({searchParams:e,type:t}){var a,n,s,o;if("video"===t){const{layerProperties:t,forceNoAudio:a,skipCML:n,skipStudioAddLayer:s,video:o,videoEl:i,useCustomVideoDelay:r,replaceInfo:l,isPremiumAsset:d,propertiesAfterTypeDetermined:c,query:u}=e,p=o.video.large;let m,g;const h=o.dimensions.width>o.dimensions.height;if(i){h===i.videoWidth>i.videoHeight?(m=o.dimensions.width,g=o.dimensions.height):(m=o.dimensions.height,g=o.dimensions.width)}const v={layerProperties:{addedLayerFrom:{source:"Videos",query:u},name:`${u} video`,...t,type:Nc.Video,usedProFeatures:d?["premium-assets"]:void 0},mediaInfo:{duration:(null==i?void 0:i.duration)??o.dimensions.duration,hasAudio:!a&&await cI(i||function(e){const t=document.createElement("video");return t.src=Boe(e),t}(o)),type:Nc.Video,height:g,width:m},skipCML:n,skipStudioAddLayer:s,useCustomVideoDelay:r,replaceInfo:l,propertiesAfterTypeDetermined:c};return{url:p,options:v}}const{image:i,isPremiumAsset:r,layerProperties:l,skipCML:d,skipStudioAddLayer:c,replaceInfo:u,useCustomVideoDelay:p,propertiesAfterTypeDetermined:m,query:g}=e,h={mediaInfo:"dimensions"in i&&(null==(a=i.dimensions)?void 0:a.width)&&(null==(n=i.dimensions)?void 0:n.height)?{type:Nc.Image,height:null==(s=i.dimensions)?void 0:s.height,width:null==(o=i.dimensions)?void 0:o.width}:void 0,layerProperties:{addedLayerFrom:{source:"Images",query:g},...l,name:i.name,type:Nc.Image,usedProFeatures:r?["premium-assets"]:void 0},skipCML:d,skipStudioAddLayer:c,replaceInfo:u,useCustomVideoDelay:p,propertiesAfterTypeDetermined:m};let v="";switch(i.type){case"DALLE":case"GIPHY":case"BING":case"ARTICLE":case"CUSTOM":v=i.url;break;case"PEXELS":case"PIXABAY":v=i.images.download}return{url:v,options:h}}async function $ue({layerProperties:e,forceNoAudio:t,skipCML:a,skipStudioAddLayer:n,video:s,videoEl:o,useCustomVideoDelay:i,propertiesAfterTypeDetermined:r,replaceInfo:l,isPremiumAsset:d=!1,query:c}){const u=await Jue({searchParams:{query:c,layerProperties:e,forceNoAudio:t,skipCML:a,skipStudioAddLayer:n,video:s,videoEl:o,useCustomVideoDelay:i,replaceInfo:l,isPremiumAsset:d,propertiesAfterTypeDetermined:r},type:"video"});return s.asset&&!u.options.isMediaLibraryUpload?iie(s.asset,u.options):oie(u)}async function Que({image:e,isPremiumAsset:t,propertiesAfterTypeDetermined:a,layerProperties:n,skipCML:s,skipStudioAddLayer:o,replaceInfo:i,useCustomVideoDelay:r,query:l}){const d=await Jue({searchParams:{query:l,image:e,isPremiumAsset:t,layerProperties:n,skipCML:s,skipStudioAddLayer:o,replaceInfo:i,useCustomVideoDelay:r,propertiesAfterTypeDetermined:a},type:"image"});if("asset"in e&&e.asset&&!d.options.isMediaLibraryUpload)return await iie(e.asset,d.options);return await oie(d)}async function epe({data:e}){const t=await Promise.all(e.map((async e=>Jue("video"in e?{searchParams:e,type:"video"}:{searchParams:e,type:"image"}))));return await(async({urlAndOptions:e,cancellationSource:t})=>{const a=[],n={};for(const o of e){const{url:e,options:s}=o;if(e)if(aie.has(e)){const a=aie.get(e);if(!a)throw new Error("Pending request not found");const n=await a;await sie(n,e,s,t)}else a.push(o),n[e]=s}const s=(await nie(a)).createdLinks;return await Promise.all(s.map((async e=>{const a=e.asset.input_url;if(!a)return null;const s=n[a];return s?await sie(e,a,s,t):null})))})({urlAndOptions:t})}function tpe(e){switch(e.type){case"CMLFile":return"Media Library";case"stock":return"Stock Library";case"upload":return"Upload"}}function ape(e){return"image"===e.layer.type?(({canvasDimensions:e,layer:t,range:a})=>{const n={position:Kue("fitToCenter",e,{width:t.width??1,height:t.height??1})};return a&&(n.startTime=a.timelineStart,n.endTime=a.timelineEnd),n})(e):"video"===e.layer.type||"audio"===e.layer.type?(({canvasDimensions:e,layer:t,range:a,popoverTargetType:n})=>{const s={};if("video"===t.type&&(s.position=Kue("fitToCenter",e,{width:t.width??1,height:t.height??1})),a){const e=a.timelineEnd-a.timelineStart,n=0;if(n>=(t.duration??0))return null;const o=Math.min(n+e,t.duration??1/0);if(o<=n)return null;s.startTime=n,s.endTime=o,s.videoDelay=a.timelineStart}return"add-broll"===n&&"video"===t.type&&(s.volume=0),s})(e):null}const npe=async({item:e,range:t,prevLayer:a,query:n})=>{var s;const{state:o}=Mu(),{canvasDimensions:i}=o.studioSizing,r={id:tA(12)};a&&(r.timelineRow=a.timelineRow);const l=null==(s=o.mediaPopover.info)?void 0:s.target.type;if(!l)throw new Error("Media popover target type not found");switch(e.type){case"CMLFile":{const{media:n}=e;if("CMLFile"===n.type){const{cmlFile:e}=n,s=o.assets.byId[e.asset_id];if(!s)throw new Error("Asset not found");return G9({cmlFile:e,asset:s,replaceInfo:a?{idOfLayerToReplace:a.id,entryPoint:"Media Popover",mediaSource:"Media Library"}:void 0,properties:r,propertiesAfterTypeDetermined:e=>ape({layer:e,range:t,canvasDimensions:i,popoverTargetType:l})})}const{uploadManager:s}=n;if(!s)throw new Error("Upload manager not found");return sle({replaceInfo:a?{idOfLayerToReplace:a.id,mediaSource:"Media Library",entryPoint:"Media Popover"}:void 0,manager:s,properties:r,propertiesAfterTypeDetermined:e=>ape({layer:e,range:t,canvasDimensions:i,popoverTargetType:l})})}case"stock":{const s={bRollQuery:e.query,...r},{media:o}=e;if("videoEl"in o){const{videoEl:e,video:r}=o;return $ue({video:r,replaceInfo:a?{idOfLayerToReplace:a.id,entryPoint:"Media Popover",mediaSource:"Stock Library"}:void 0,isPremiumAsset:r.isPremiumAsset,layerProperties:s,propertiesAfterTypeDetermined:e=>ape({layer:e,range:t,canvasDimensions:i,popoverTargetType:l}),videoEl:e,useCustomVideoDelay:t?t.timelineStart:void 0,query:n})}return Que({image:o.searchResult,replaceInfo:a?{idOfLayerToReplace:a.id,entryPoint:"Media Popover",mediaSource:"Stock Library"}:void 0,isPremiumAsset:o.isPremiumAsset,layerProperties:s,propertiesAfterTypeDetermined:e=>ape({layer:e,range:t,canvasDimensions:i,popoverTargetType:l}),useCustomVideoDelay:t?t.timelineStart:void 0,query:n})}case"upload":{const n={...e.layer,...r,...ape({layer:e.layer,range:t,canvasDimensions:i,popoverTargetType:l})};return a?bJ({newLayer:n,replacedLayer:a,addLayerOptions:{undoable:!0},entryPoint:"Media Popover",mediaSource:"Upload"}):fJ(n,{undoable:!0}),n}}},spe=PU.withUndoBatchAsync((async e=>{const{dispatch:t,state:a}=Mu(),{info:n}=a.mediaPopover;if(!n)return;let s,o=!1;if("replace"===n.target.type){const{layerId:t}=n.target,i=a.studio.allLayers.byId[t];if(!i)throw new Error("Layer not found");const[r,l]=zC(i),d=r||l?{timelineStart:r,timelineEnd:l}:null;s=await npe({item:e,range:d,prevLayer:i,query:n.query});const c=DD(a).includes(nL(i)??""),u=s&&kD(s);o=!(!c||!u)}else{const{timelineRange:a}=n.target;s=await npe({item:e,range:a,prevLayer:null,query:n.query}),ov("Add BRoll Popover Media Added",{"Added Layer Type":null==s?void 0:s.type,"Media Source":tpe(e)}),s&&(t(ute.setTarget({type:"replace",layerId:s.id})),t(ute.setEditMode(!0)))}if(!s)throw new Error("Failed to create timed layer");ope(s),o&&pue()}));function ope(e){const{dispatch:t,state:a}=Mu(),{isMobile:n}=a;if(n)t(ute.close()),$j();else{if("audio"===e.type&&!rpe)return void t(ute.close());t(ute.setLayerId(e.id)),t(ute.setEditMode(!0))}}function ipe({entryPoint:e,layer:t}){const a=function(e){var t;return(null==(t=e.addedLayerFrom)?void 0:t.query)?e.addedLayerFrom.query:""}(t);Mu().dispatch(ute.open({entryPoint:e,info:{editing:!1,target:{type:"replace",layerId:t.id},query:a,tab:a?"stock":"mymedia"}}))}const rpe=!1,lpe=u((e=>e.presence.users),(e=>Object.keys(e).length)),dpe=u((e=>e.presence.users),((e,t)=>t),((e,t)=>{if(!t)return;const a=Object.values(e).find((e=>{var a;return(null==(a=e.selectedItem)?void 0:a.id)===t}));return null==a?void 0:a.user})),cpe=u((e=>e.presence.users),(e=>e.presence.myId),((e,t)=>{const a=Object.keys(e);if(0===a.length)return!0;const n=t?[t,...a]:a;return n.sort(((e,t)=>e.localeCompare(t))),n[0]===t})),upe=u((e=>e.presence.users),(e=>e.currentUser.user._id),((e,t)=>{const a=new Set(Object.values(e).map((e=>e.user.userId)));return 0===a.size?"none":(a.delete(t),0===a.size?"single-user":"multi-user")})),ppe=b.createContext(null),mpe=({containerRef:e,children:t})=>f.jsx(ppe.Provider,{value:e,children:t});function gpe(e){return t=>f.jsx(ppe.Consumer,{children:a=>f.jsx(e,{...t,canvasContainerRef:a})})}const hpe={workspacePopoverZIndex:"18",popoverZIndex:"14",paywallZIndex:"1001",paywallBgZIndex:"1000",home:"Transformer-module_home_Z4yBP",homeHowBackgroundWhite:"Transformer-module_homeHowBackgroundWhite_XBp4l",largeButton:"Transformer-module_largeButton_dFUcc",sectionContent:"Transformer-module_sectionContent_EdKrB",sectionHeader:"Transformer-module_sectionHeader_CMiiz",spacer:"Transformer-module_spacer_ETHnd",chevron:"Transformer-module_chevron_8QoJ8",splashText:"Transformer-module_splashText_aF19P",splashSubtext:"Transformer-module_splashSubtext_EFBuv",aboutSection:"Transformer-module_aboutSection_8QqbV",mobile:"Transformer-module_mobile_GF9Ww",desktop:"Transformer-module_desktop_wTHxM",screenReaderOnlyLabel:"Transformer-module_screenReaderOnlyLabel_oWi2T",disabled:"Transformer-module_disabled_JUG0Z",disabledWithPointerEvents:"Transformer-module_disabledWithPointerEvents_bx7Dm",noScrollBar:"Transformer-module_noScrollBar_0-rQv",textOverflowEllipsis:"Transformer-module_textOverflowEllipsis_5aHfA",disableTextHighlight:"Transformer-module_disableTextHighlight_Nqnl3",genericButtonBlue:"Transformer-module_genericButtonBlue_lcWHY",button:"Transformer-module_button_F-pJR",buttonDisabled:"Transformer-module_buttonDisabled_RX6kA",buttonSelected:"Transformer-module_buttonSelected_lno9N",buttonOk:"Transformer-module_buttonOk_U08tM",buttonStacked:"Transformer-module_buttonStacked_m4O6P",doneButton:"Transformer-module_doneButton_ig3c5",controlSectionContainer:"Transformer-module_controlSectionContainer_BLtqk",section:"Transformer-module_section_f7cKR",input:"Transformer-module_input_WOs2q",cyanDoneButton:"Transformer-module_cyanDoneButton_s3XST",cyanDoneButton__disabled:"Transformer-module_cyanDoneButton__disabled_6GMkn",cyanDoneButtonContainer:"Transformer-module_cyanDoneButtonContainer_TCSC7",genericButton:"Transformer-module_genericButton_jFQ0i",genericButtonSelected:"Transformer-module_genericButtonSelected_rXmyU",groupControlContainer:"Transformer-module_groupControlContainer_1EY28",controlSectionRows:"Transformer-module_controlSectionRows_xxd9v",controlSectionRowsTimeline:"Transformer-module_controlSectionRowsTimeline_aA6T1",controlSectionRowsTwoPerRow:"Transformer-module_controlSectionRowsTwoPerRow_SXYza",controlSectionRowsFullWidth:"Transformer-module_controlSectionRowsFullWidth_rVBgV",controlSectionRowsIconAndControl:"Transformer-module_controlSectionRowsIconAndControl_akys2",controlSectionTitle:"Transformer-module_controlSectionTitle_AIJag",controlSectionTitleNoPadding:"Transformer-module_controlSectionTitleNoPadding_51IIL",controlSectionDescription:"Transformer-module_controlSectionDescription_abe04",smallControlButton:"Transformer-module_smallControlButton_vL9X9",smallControlButtonDisabled:"Transformer-module_smallControlButtonDisabled_kXgBp",smallControlButtonSelected:"Transformer-module_smallControlButtonSelected_SqPx6",smallControlButtonLabel:"Transformer-module_smallControlButtonLabel_bjOgm",controlSectionRow:"Transformer-module_controlSectionRow_TWsFe",controlButtonIcon:"Transformer-module_controlButtonIcon_rKB1f",controlButtonOnlyIcon:"Transformer-module_controlButtonOnlyIcon_-sI3U",controlButtonOnlyIconRoundedSmallTheme:"Transformer-module_controlButtonOnlyIconRoundedSmallTheme_aOv7w",bigOverlayButton:"Transformer-module_bigOverlayButton_9qFGX",glimmer:"Transformer-module_glimmer_oe1aA",pulse:"Transformer-module_pulse_WcMq6",bigOverlayButtonSelected:"Transformer-module_bigOverlayButtonSelected_6AC3J",bigOverlayButtonDisabled:"Transformer-module_bigOverlayButtonDisabled_Ep2ER",bigOverlayButtonIcon:"Transformer-module_bigOverlayButtonIcon_HWi94",incrementDecrementControl:"Transformer-module_incrementDecrementControl_I9mIC",incrementDecrementControlLightTheme:"Transformer-module_incrementDecrementControlLightTheme_M0TQ4",incrementDecrementControlSmallTheme:"Transformer-module_incrementDecrementControlSmallTheme_W6KpN",incrementDecrementControlExtraSmallTheme:"Transformer-module_incrementDecrementControlExtraSmallTheme_QQTDV",incrementDecrementButton:"Transformer-module_incrementDecrementButton_xt-fI",incrementDecrementButtonLightTheme:"Transformer-module_incrementDecrementButtonLightTheme_4wd7o",incrementDecrementButtonSmallTheme:"Transformer-module_incrementDecrementButtonSmallTheme_zVDTW",incrementDecrementControlValue:"Transformer-module_incrementDecrementControlValue_B3Slw",incrementDecrementControlValueSmallTheme:"Transformer-module_incrementDecrementControlValueSmallTheme_YmoTx",incrementControl:"Transformer-module_incrementControl_4C1fK",decrementControl:"Transformer-module_decrementControl_zO8C5",disabledIncrementDecrementButton:"Transformer-module_disabledIncrementDecrementButton_D1Phh",tooltip:"Transformer-module_tooltip_2fwyD",selectDropDownContainer:"Transformer-module_selectDropDownContainer_4DOCr",selectDropDownDisplay:"Transformer-module_selectDropDownDisplay_tDv0l",selectDropDownDisabled:"Transformer-module_selectDropDownDisabled_pCK5S",selectDropDownLabel:"Transformer-module_selectDropDownLabel_ZwU0h",selectDropDownLabelContainer:"Transformer-module_selectDropDownLabelContainer_306eD",selectDropDownFlag:"Transformer-module_selectDropDownFlag_mF1eg",proSparkle:"Transformer-module_proSparkle_wNJ-e",selectDropDownLink:"Transformer-module_selectDropDownLink_TSXpD",selectDropDownList:"Transformer-module_selectDropDownList_uaUdt",selectDropDownListScrollContainer:"Transformer-module_selectDropDownListScrollContainer_dAQu7",selectDropDownItem:"Transformer-module_selectDropDownItem_vd-5j",selectDropDownItemDisabled:"Transformer-module_selectDropDownItemDisabled_cxTce",selectDropDownItemLeft:"Transformer-module_selectDropDownItemLeft_LqWvs",selectDropDownItemBottomStatic:"Transformer-module_selectDropDownItemBottomStatic_4fz9L",voiceCloneIcon:"Transformer-module_voiceCloneIcon_9tsbY",bottomDivider:"Transformer-module_bottomDivider_-Av5N",selectDropDownItemSelected:"Transformer-module_selectDropDownItemSelected_xWdej",selectDropDownShowing:"Transformer-module_selectDropDownShowing_GMKst",dropDownButtonIcon:"Transformer-module_dropDownButtonIcon_CbfCj",selectOptionIcon:"Transformer-module_selectOptionIcon_9vETy",dropDownAddIcon:"Transformer-module_dropDownAddIcon_V0eNz",selectDropDownItemPreview:"Transformer-module_selectDropDownItemPreview_AI24t",selectDropDownItemPlayIcon:"Transformer-module_selectDropDownItemPlayIcon_XIKwz",transparentSelectInput:"Transformer-module_transparentSelectInput_0ZWNa",selectOptionContainer:"Transformer-module_selectOptionContainer_E8G8s",dropDownHeader:"Transformer-module_dropDownHeader_gNKtJ",noMargin:"Transformer-module_noMargin_3IiV3",halfWidth:"Transformer-module_halfWidth_1xvJo",fullWidth:"Transformer-module_fullWidth_kpQRj",selectDropDownIcon:"Transformer-module_selectDropDownIcon_Fd4la",controlButtonsContainer:"Transformer-module_controlButtonsContainer_YXZa8",loadingIcon:"Transformer-module_loadingIcon_nJFZx",spin:"Transformer-module_spin_wgYUT",iconAndLabelRow:"Transformer-module_iconAndLabelRow_gVcCb",dropdownDirectInput:"Transformer-module_dropdownDirectInput_mXL8N",transformer:"Transformer-module_transformer_sPpK5",groupTransformer:"Transformer-module_groupTransformer_gxJwJ",selectedLayer:"Transformer-module_selectedLayer_pPTs6",solidOutline:"Transformer-module_solidOutline_-v3JW",eligibleForDottedLineHover:"Transformer-module_eligibleForDottedLineHover_Vu6AC",groupTransformerParent:"Transformer-module_groupTransformerParent_G12Xb",transformerNode:"Transformer-module_transformerNode_P6Mgv",middleTransformerNode:"Transformer-module_middleTransformerNode_LZNgT",middleTransformerNodeActive:"Transformer-module_middleTransformerNodeActive_Lucx-",transformerBorder:"Transformer-module_transformerBorder_HDuHa",groupTransformerBorder:"Transformer-module_groupTransformerBorder_w0VKD",transformerBackground:"Transformer-module_transformerBackground_IaoXT",middleTransformerNodeContainer:"Transformer-module_middleTransformerNodeContainer_GE9g1",rotateNode:"Transformer-module_rotateNode_s6Ty2",rotateNodeIcon:"Transformer-module_rotateNodeIcon_tqJFB",rotateNodeHandle:"Transformer-module_rotateNodeHandle_NYpbw",transformerNodeTopLeft:"Transformer-module_transformerNodeTopLeft_6aiMb",transformerNodeBottomRight:"Transformer-module_transformerNodeBottomRight_6k-ad",transformerNodeTopRight:"Transformer-module_transformerNodeTopRight_JS9rH",transformerNodeBottomLeft:"Transformer-module_transformerNodeBottomLeft_PRLZe",transformerNodeMiddleRight:"Transformer-module_transformerNodeMiddleRight_28a5O",transformerNodeMiddleLeft:"Transformer-module_transformerNodeMiddleLeft_qC8zS",transformerNodeHideUntilHover:"Transformer-module_transformerNodeHideUntilHover_ozMy1",hide:"Transformer-module_hide_Cvh-P",transformerText:"Transformer-module_transformerText_W-N6b",selectedTransformer:"Transformer-module_selectedTransformer_3GaCR",transformerBackgroundOverlay:"Transformer-module_transformerBackgroundOverlay_vAFqj",transformerBackgroundOverlayTransparent:"Transformer-module_transformerBackgroundOverlayTransparent_ihAwT",presentUserTag:"Transformer-module_presentUserTag_XHw1E",loadingOverlay:"Transformer-module_loadingOverlay_aJGZA",loadingOverlayContainer:"Transformer-module_loadingOverlayContainer_NughX"},vpe="labelStyles-module_container_Bwp2Y",fpe="labelStyles-module_text_6Lg3s",bpe="labelStyles-module_icon_RqEP-",ype="labelStyles-module_header_wxwJJ",wpe="labelStyles-module_subtext_o2FxZ",_pe={backgroundColor:"#f3c130",color:"black",width:"300px",textAlign:"left",fontSize:"10px",fontWeight:"600",position:"absolute",marginTop:"45px",padding:"5px 8px",borderRadius:"5px",userSelect:"none"};function Cpe({headerText:e,subText:t,tooltipText:a}){return f.jsx(Hw,{message:a,delayDuration:300,style:_pe,align:"start",children:f.jsxs("div",{className:vpe,children:[f.jsx("div",{className:bpe,children:f.jsx(ht,{})}),f.jsxs("div",{className:fpe,children:[f.jsx("div",{className:ype,children:e}),f.jsx("div",{className:wpe,children:t})]})]})})}function Spe(){return f.jsx(Cpe,{headerText:"Unsaved Dubbing Edits",subText:"Your dubbed audio isn't up to date",tooltipText:"The voiceover in this project is now out of date, since you made edits in the Translation tab without applying the changes to your dubbed audio."})}function xpe(){return f.jsx(Cpe,{headerText:"Unsynced Persona Video",subText:"Speech and lips will be synced on export",tooltipText:"This video is an AI persona layer and lips will be synced on export.\n        Persona exports may take longer than normal videos to export on Kapwing."})}const Ipe=e=>e.length-1;function Ape(e,t){const{x:a,y:n,width:s,height:o}=e,i=t*Math.PI/180,r=a+s/2,l=n+o/2;return{tl:{x:(a-r)*Math.cos(i)-(n-l)*Math.sin(i)+r,y:(a-r)*Math.sin(i)+(n-l)*Math.cos(i)+l},tr:{x:(a+s-r)*Math.cos(i)-(n-l)*Math.sin(i)+r,y:(a+s-r)*Math.sin(i)+(n-l)*Math.cos(i)+l},bl:{x:(a-r)*Math.cos(i)-(n+o-l)*Math.sin(i)+r,y:(a-r)*Math.sin(i)+(n+o-l)*Math.cos(i)+l},br:{x:(a+s-r)*Math.cos(i)-(n+o-l)*Math.sin(i)+r,y:(a+s-r)*Math.sin(i)+(n+o-l)*Math.cos(i)+l},origin:{x:r,y:l}}}function kpe(e,t=!0){const{state:a}=Mu(),{canvasX:n,canvasY:s}=a.studioSizing,o=a.studio.width,i=a.studio.height,r=[];for(const l of e){const{width:e,height:t}=l,{x:a,y:d}=l;let c={x:a,y:d,width:e,height:t};if("position"in l&&l.position){const{x:e,y:t,width:a,height:r}=l.position;c={x:n+parseFloat(e)/100*o,y:s+parseFloat(t)/100*i,width:parseFloat(a)/100*o,height:parseFloat(r)/100*i},"shape"===l.type&&"ellipse"===l.shapeType&&(c.x-=c.width/2,c.y-=c.height/2)}const{tl:u,tr:p,bl:m,br:g,origin:h}=Ape(c,l.position&&l.position.rotation||0);r.push({x:u.x,y:u.y},{x:p.x,y:p.y},{x:m.x,y:m.y},{x:g.x,y:g.y},{x:h.x,y:u.y},{x:h.x,y:g.y},{x:u.x,y:h.y},{x:g.x,y:h.y})}return t?r.filter((e=>e.x>=n&&e.x<=n+o&&e.y>=s&&e.y<=s+i)):r}function Tpe(e,t,a){return[90,270].includes(e)?{x:UR((t-a)/2),y:UR((a-t)/2)}:{x:0,y:0}}function Epe(e,t){const a=function(){const{state:e}=Mu(),{selectedItem:t,width:a,height:n,groups:s}=e.studio,{canvasX:o,canvasY:i}=e.studioSizing,r=(null==t?void 0:t.id)||"";return kpe([{x:o,y:i,width:a,height:n},...Gx(e).filter((e=>{var t;if(!e)return!1;const a=s&&s[r]&&(null==(t=s[r])?void 0:t.layers.map((e=>e.id)).includes(e.id)),[n,o]=zC(e),i=n<=dY()&&dY()<=o;return!a&&e.id!==r&&i}))||[]])}(),{x:n,y:s,width:o,height:i}=e;let r=n,l=s;const d=Tpe(t,i,o);r-=d.x,l-=d.y;const c=[90,270].includes(t),u=c?i:o,p=c?o:i,m={top:!1,right:!1,bottom:!1,left:!1,centerX:!1,centerY:!1},g={},h={top:[],right:[],bottom:[],left:[],centerX:[],centerY:[]};for(const{x:A,y:k}of a){const e=A-3,t=A+3,a=k-3,n=k+3;l>=a&&l<=n&&(m.top=!0,h.top.push({x:A,y:k})),r+u>=e&&r+u<=t&&(m.right=!0,h.right.push({x:A,y:k})),l+p>=a&&l+p<=n&&(m.bottom=!0,h.bottom.push({x:A,y:k})),r>=e&&r<=t&&(m.left=!0,h.left.push({x:A,y:k}));const s=r+u/2;s>=e&&s<=t&&(m.centerX=!0,h.centerX.push({x:A,y:k}));const o=l+p/2;o>=a&&o<=n&&(m.centerY=!0,h.centerY.push({x:A,y:k}))}const[v,f,b,y,w,_,C,S]=kpe([{x:r,y:l,width:u,height:p}],!1);if(!(v&&f&&b&&y&&w&&_&&C&&S))return{shouldSnap:m,snapPositions:g};const x=(e,t)=>((e={},t="",a="")=>{const n=e[t].sort(((e,t)=>e[a]-t[a]));return Object.assign(e,{[t]:n}),n})(h,e,t);let I=0;return m.top&&(x("top","x"),I=Ipe(h.top),f.x>h.top[I].x&&h.top.push({x:f.x,y:h.top[I].y}),v.x<h.top[0].x&&h.top.unshift({x:v.x,y:h.top[0].y})),m.bottom&&(x("bottom","x"),I=Ipe(h.bottom),y.x>h.bottom[I].x&&h.bottom.push({x:y.x,y:h.bottom[I].y}),b.x<h.bottom[0].x&&h.bottom.unshift({x:v.x,y:h.bottom[0].y})),m.left&&(x("left","y"),I=Ipe(h.left),b.y>h.left[I].y&&h.left.push({x:h.left[I].x,y:b.y}),v.y<h.left[0].y&&h.left.unshift({x:h.left[0].x,y:v.y})),m.right&&(x("right","y"),I=Ipe(h.right),y.y>h.right[I].y&&h.right.push({x:h.right[I].x,y:y.y}),f.y<h.right[0].y&&h.right.unshift({x:h.right[0].x,y:f.y})),m.centerX&&(x("centerX","y"),I=Ipe(h.centerX),_.y>h.centerX[I].y&&h.centerX.push({x:h.centerX[I].x,y:_.y}),w.y<h.centerX[0].y&&h.centerX.unshift({x:h.centerX[0].x,y:w.y})),m.centerY&&(x("centerY","x"),I=Ipe(h.centerY),S.x>h.centerY[I].x&&h.centerY.push({x:S.x,y:h.centerY[I].y}),C.x<h.centerY[0].x&&h.centerY.unshift({x:C.x,y:h.centerY[0].y})),Object.keys(h).forEach((e=>{const t=h[e];if(t.length){const a=t.length-1;Object.assign(g,{[e]:[{x:t[0].x,y:t[0].y},{x:t[a].x,y:t[a].y}]})}})),{shouldSnap:m,snapPositions:g}}const Lpe=e=>{const{x:t,y:a,width:n,height:s}=e,{state:o}=Mu(),{width:i,height:r}=o.studio,{canvasX:l,canvasY:d}=o.studioSizing,c=e;return t<=l+3&&t>=l-3&&(c.x=l),a<=d+3&&a>=d-3&&(c.y=d),s<=r+3&&s>=r-3&&(c.height=r),n<=i+3&&n>=i-3&&(c.width=i),c},jpe=(e,t,a="")=>{const{shouldSnap:n,snapPositions:s}=Epe(e,t),{x:o,y:i,width:r,height:l}=e,{dispatch:d,state:c}=Mu();let u=o,p=i;const m={},g=Tpe(t,l,r),h=[90,270].includes(t),v=h?l:r,f=h?r:l;let b=v,y=f;if(n.centerX){const e=s.centerX[0].x+g.x;if(a.includes("Right")){b+=2*(e-v/2-o)}else if(a.includes("Left")){const t=v+o-e;u=e-t,b=2*t}Object.assign(m,{centerX:{start:s.centerX[0],end:s.centerX[1]}})}if(n.centerY){const e=s.centerY[0].y+g.y;if(a.includes("bottom")){y+=2*(e-f/2-i)}else if(a.includes("top")){const t=i+f-e;p=e-t,y=2*t}Object.assign(m,{centerY:{start:s.centerY[0],end:s.centerY[1]}})}if(n.top){const e=s.top[0].y+g.y;p=e,y+=i-e,Object.assign(m,{top:{start:s.top[0],end:s.top[1]}})}if(n.right&&(b+=-1*v+(s.right[0].x-o)+g.x,Object.assign(m,{right:{start:s.right[0],end:s.right[1]}})),n.bottom&&(y+=-1*f+(s.bottom[0].y-i)+g.y,Object.assign(m,{bottom:{start:s.bottom[0],end:s.bottom[1]}})),n.left){const e=s.left[0].x+g.x;u=e,b+=o-e,u=s.left[0].x+g.x,Object.assign(m,{left:{start:s.left[0],end:s.left[1]}})}(Object.keys(m).length||c.studio.snapLines&&Object.keys(m).length!==Object.keys(c.studio.snapLines).length)&&d(tk(m));return Lpe({x:u,y:p,width:h?y:b,height:h?b:y})},Rpe=(e,t,a=!0)=>{const{shouldSnap:n,snapPositions:s}=Epe(e,t),{x:o,y:i,width:r,height:l}=e,{dispatch:d,state:c}=Mu();let u=o,p=i;const m={},g=Tpe(t,l,r),h=[90,270].includes(t),v=h?l:r,f=h?r:l;n.top&&(p=s.top[0].y+g.y,Object.assign(m,{top:{start:s.top[0],end:s.top[1]}})),n.right&&(u=s.right[0].x-v+g.x,Object.assign(m,{right:{start:s.right[0],end:s.right[1]}})),n.bottom&&(p=s.bottom[0].y-f+g.y,Object.assign(m,{bottom:{start:s.bottom[0],end:s.bottom[1]}})),n.left&&(u=s.left[0].x+g.x,Object.assign(m,{left:{start:s.left[0],end:s.left[1]}})),n.centerX&&(u=s.centerX[0].x-r/2,Object.assign(m,{centerX:{start:s.centerX[0],end:s.centerX[1]}})),n.centerY&&(p=s.centerY[0].y-l/2,Object.assign(m,{centerY:{start:s.centerY[0],end:s.centerY[1]}})),(Object.keys(m).length||c.studio.snapLines&&Object.keys(m).length!==Object.keys(c.studio.snapLines).length)&&a&&d(tk(m));const b={...e,x:u,y:p};return Lpe(b)};class Npe extends i.Component{constructor(e){super(e),a(this,"useTouch"),a(this,"overlayResizeObserver",null),a(this,"overlayRef",b.createRef()),a(this,"lastClickTime",0),a(this,"contextualSelectLayer",(e=>{const{selectItem:t}=this.props;t(e)})),a(this,"getIdOfOtherSelectedLayerPointerEventHappenedInside",(e=>{const{layer:t,selectedLayers:a,canvasContainerRef:n}=this.props;if(!n)return null;const{current:s}=n;if(t&&a.includes(t))return null;const{state:o}=Mu(),i=s.getBoundingClientRect(),[r,l]=Dg(e),d=r-i.left,c=l-i.top,u=Fue(o,dY()),p=[{x:d,y:c}];for(const m of u)if(a.some((e=>e.id===m.id))&&Vue(m.points,p))return m.id;return null})),a(this,"handlePointerDown",(e=>{if(!Oce(e))return;const{x:t,y:a,handleExitEditorClick:n,isBackgroundTransformer:s,isSelected:o,setDragging:i,handlePointerDownCallback:r}=this.props;null==r||r(e);const[l,d]=Dg(e);let c=!1;!s&&o&&(c=!0),i(!0),this.setState({dragging:!0,didDrag:!1,layerWasSelected:c,mouseStartX:l,mouseStartY:d,layerStartX:t,layerStartY:a}),this.addListeners(),n()})),a(this,"handlePointerUp",(e=>{const{handleTransformFinish:t,layer:a,isSelected:n,setDragging:s,handlePointerUpCallback:o}=this.props;null==o||o(e),s(!1);const{didDrag:i,layerWasSelected:r}=this.state,l=Date.now()-this.lastClickTime<500;this.lastClickTime=Date.now(),l&&a&&!i&&r&&n&&("placeholder"===(null==a?void 0:a.type)&&ipe({entryPoint:"Placeholder Layer",layer:a}),this.props.handleDoubleClick&&this.props.handleDoubleClick()),Oce(e)&&(this.removeListeners(),this.setState({dragging:!1,didDrag:!1,layerWasSelected:!1,mouseStartX:void 0,mouseStartY:void 0,layerStartX:void 0,layerStartY:void 0}),t("drag"),this.props.showSnapLines({}))})),a(this,"handlePointerMove",(e=>{const{isSelected:t,isBackgroundTransformer:a,width:n,height:s,rotation:o,transformHandler:i,shiftIsBeingPressed:r}=this.props,{dragging:l,didDrag:d,mouseStartX:c,mouseStartY:u,layerStartX:p=0,layerStartY:m=0}=this.state;if(!VJ(Mu().state)&&GJ(),!l)return;if(!e.isPrimary)return;if(!t)return;if(a)return;const[g,h]=Dg(e),v=g-(c??0),f=h-(u??0);let b=p+v,y=m+f;r&&(Math.abs(v)>Math.abs(f)&&(y=m??0),Math.abs(v)<Math.abs(f)&&(b=p??0));let w={x:b,y:y,width:n,height:s};switch(aJ()&&void 0!==o&&o%90==0&&(w=Rpe(w,o)),i.type){case"line":i.handleTransform({currentPosition:w,transformSource:"drag"});break;case"movingZoom":i.handleTransform({currentPosition:w,transformerID:i.transformerID});break;case"default":i.handleTransform({currentPosition:w,transformSource:"drag",transformInfo:{hDiff:0,wDiff:0,xDiff:w.x-p,yDiff:w.y-m,rotation:0}})}!d&&(Math.abs(v)>0||Math.abs(f)>0)&&this.setState({didDrag:!0}),e.preventDefault()})),a(this,"getStyles",(()=>{const{x:e,y:t,width:a,height:n,rotation:s,isEditing:o,isBackgroundTransformer:i,zIndex:r,backgroundColor:l}=this.props;return{top:t,left:e,width:a,height:n,transform:`rotate(${s}deg)`,cursor:!i&&o?"text":"pointer",zIndex:r,backgroundColor:l??"transparent"}})),a(this,"getPresenceStyles",(()=>{const{presentUser:e,x:t,y:a,width:n,height:s}=this.props;return{border:`2px solid ${null==e?void 0:e.color}`,top:a,left:t,width:n,height:s}})),a(this,"handleOverlayWidthOnResize",(()=>{var e,t,a;if(this.overlayRef.current){const n=null==(e=this.overlayRef.current)?void 0:e.getBoundingClientRect(),s=null==(a=null==(t=this.overlayRef.current)?void 0:t.parentElement)?void 0:a.getBoundingClientRect(),o=2*(n.left-((null==s?void 0:s.left)||0))+n.width;this.state.showOverlayText&&this.setState({overlayFullWidth:o})}})),a(this,"handleOverlayTextOnResize",(()=>{const{overlayFullWidth:e}=this.state,t=this.props.width>e;t!==this.state.showOverlayText&&this.setState({showOverlayText:t})})),a(this,"initResizeObserver",(()=>{this.overlayResizeObserver=new ResizeObserver(this.handleOverlayWidthOnResize),this.overlayRef.current&&this.overlayResizeObserver.observe(this.overlayRef.current)})),a(this,"cleanUpResizeObserver",(()=>{var e;this.overlayResizeObserver&&(null==(e=this.overlayResizeObserver)||e.disconnect(),this.overlayResizeObserver=null)})),this.useTouch=!1,this.state={dragging:!1,didDrag:!1,layerWasSelected:!1,mouseStartX:0,mouseStartY:0,layerStartX:0,layerStartY:0,showOverlayText:!0,overlayFullWidth:0}}componentDidMount(){this.initResizeObserver()}componentDidUpdate(e){const{isGhostTransformer:t,transformHandler:a,mIGhostLayerAbsolutePosition:n}=this.props;if(t&&n&&aJ()){const t=!c.isEqual(n,null==e?void 0:e.mIGhostLayerAbsolutePosition),s=Rpe(n,0,t);if(t)switch(a.type){case"background":break;case"line":a.handleTransform({currentPosition:s,transformSource:"drag"});break;case"movingZoom":a.handleTransform({currentPosition:s,transformerID:a.transformerID});break;case"default":a.handleTransform({currentPosition:s,transformSource:"drag",transformInfo:{hDiff:0,wDiff:0,xDiff:0,yDiff:0,rotation:0}})}}this.props.width!==e.width&&this.handleOverlayTextOnResize()}componentWillUnmount(){this.removeListeners(),this.cleanUpResizeObserver()}addListeners(){document.addEventListener("pointermove",this.handlePointerMove),document.addEventListener("pointerup",this.handlePointerUp)}removeListeners(){document.removeEventListener("pointermove",this.handlePointerMove),document.removeEventListener("pointerup",this.handlePointerUp)}renderPresentUserSelection(){const{presentUser:e}=this.props;return e?f.jsx("div",{style:this.getPresenceStyles()}):null}render(){var e,t,a;const{groupId:n,height:s,isBackgroundTransformer:o,isDraggingGlobal:i,isSelectedLayerInSameGroup:r,isSelected:l,solidOutline:d,width:c}=this.props;if(n&&!r)return null;const u=!o&&!l&&!i||this.state.dragging,p=L(hpe.transformer,{[hpe.transformerBackground]:o,[hpe.selectedLayer]:l,[hpe.solidOutline]:d,[hpe.eligibleForDottedLineHover]:u&&!d}),m=null==(t=null==(e=this.props.layer)?void 0:e.pendingAIJobs)?void 0:t.some((e=>"generate-scene"===e.type)),g=this.props.isLayerTranslating||this.props.isLayerStabilizing||this.props.isLayerSplittingVocals||this.props.isLayerCleaningAudio||this.props.isLayerEnhancingVoice||this.props.isLayerLipSyncing||this.props.isLayerSpeakerFocusing||this.props.isLayerDubbing||(null==(a=this.props.layer)?void 0:a.personaId)||this.props.layerHasUnsavedDubbingEdits||m;return f.jsxs("div",{style:this.getStyles(),className:p,onPointerDown:this.handlePointerDown,onDoubleClick:this.props.handleDoubleClick,"data-cy":"drag-handler",children:[g&&(()=>{var e;if(!(this.props.width>100&&this.props.height>150))return null;const{isLayerTranslating:t,isLayerStabilizing:a,isLayerSplittingVocals:n,isLayerLipSyncing:s,isLayerCleaningAudio:o,isLayerEnhancingVoice:i,isLayerSpeakerFocusing:r,isLayerDubbing:l,enhanceAssetJob:d}=this.props,c=[];if(t&&c.push("Translating image text"),o&&c.push("Cleaning audio"),i&&c.push("Enhancing voice"),a){let e,t="Stabilizing video";(null==d?void 0:d.progress)&&(e=`(${null==d?void 0:d.progress}% complete)`,t=[t,e].join(" ")),c.push(t)}n&&c.push("Splitting vocals"),s&&c.push("Lip syncing"),r&&c.push("Applying Speaker Focus"),l&&c.push("Dubbing"),m&&c.push("Generating Video");const u=this.props.layerHasUnsavedDubbingEdits&&!(null==(e=this.props.layer)?void 0:e.personaId);return f.jsxs("div",{ref:this.overlayRef,className:hpe.loadingOverlayContainer,children:[this.props.layer&&this.props.layer.personaId&&f.jsx(xpe,{}),u&&f.jsx(Spe,{}),c.map(((e,t)=>f.jsxs("span",{className:hpe.loadingOverlay,style:{display:!this.state.showOverlayText&&t>0?"none":"flex"},children:[f.jsx(Ise,{className:hpe.loadingIcon,style:{marginRight:0}}),f.jsx("span",{children:""}),this.state.showOverlayText&&f.jsx("span",{children:e})]},e)))]})})(),f.jsx("div",{className:hpe.transformerText,children:this.props.transformerText}),n&&f.jsx("div",{style:{width:c,height:s},className:hpe.groupTransformerBorder}),this.renderPresentUserSelection()]})}}const Mpe=r.connect(((e,t)=>{var a,n,s,o,i;const r=pU(e),l=t.groupId&&(null==(a=e.studio.groups[t.groupId])?void 0:a.layers.some((e=>(null==r?void 0:r.id)===e.id))),d=e.studio.dubbing,c=null==(n=t.layer)?void 0:n.asset_id,u=c&&!!(null==(s=e.studio.assetTextJobIds)?void 0:s[c]),p=c?null==(o=e.studio.enhanceAssetJobs)?void 0:o[c]:null,m=!!p&&"stabilize"===(null==p?void 0:p.type),g=!!p&&"clean-audio"===(null==p?void 0:p.type),h=!!p&&"enhance-voice"===(null==p?void 0:p.type),v=c&&"split-vocals"===(null==p?void 0:p.type),f=!!(b=c)&&!!(S=null==(C=null==(_=null==(w=null==(y=e.studio.lipSync)?void 0:y.byAssetId)?void 0:w[b])?void 0:_.workflow)?void 0:C.status)&&[vu.PENDING,vu.RUNNING].includes(S);var b,y,w,_,C,S;const x=!(!c||!rD(e,c)),I=c&&"running"===(null==d?void 0:d.status)&&(null==d?void 0:d.byAssetId[c]),A=c&&Object.values(e.dubbingFramesConfig.prevFrameValues).some((e=>e.assetId===c));return{isDraggingGlobal:e.studio.isDragging,isEditing:t.layer&&RR(e,t.layer.id),isSelectedLayerInSameGroup:l,shiftIsBeingPressed:e.studioLocal.shiftIsBeingPressed,presentUser:dpe(e,null==(i=t.layer)?void 0:i.id),mIGhostLayerAbsolutePosition:NR(e),selectedLayers:dU(e),isLayerTranslating:u,isLayerStabilizing:m,isLayerSplittingVocals:v,isLayerLipSyncing:f,isLayerCleaningAudio:g,isLayerEnhancingVoice:h,isLayerSpeakerFocusing:x,isLayerDubbing:I,layerHasUnsavedDubbingEdits:A,enhanceAssetJob:p}}),(e=>j({selectItem:ck,setDragging:uq,showSnapLines:tk},e)))(gpe(Npe));class Ppe extends i.Component{constructor(e){super(e),a(this,"handlePointerDown",((e,t)=>{const{x:a,y:n,width:s,height:o,handleExitEditorClick:i,layer:r,canvasHeight:l}=this.props,{lineWidth:d}=r,[c,u,p,m]=d0(r.linePointStartCorner,s,o,parseFloat(d)/100*l),[g,h]=Dg(e);Oce(e)&&this.setState({resizing:!0,mouseStartX:g,mouseStartY:h,nodePosition:t,x:a,y:n,width:s,height:o,start:{x:a+c,y:n+u},end:{x:a+p,y:n+m},initialStartCorner:r.linePointStartCorner}),i()})),a(this,"handlePointerUp",(e=>{const{handleTransformFinish:t}=this.props;Oce(e)&&(this.setState({resizing:!1,mouseMove:!1}),t())})),a(this,"calculateNewPosition",((e,t,a=0,n=0)=>{const{nodePosition:s,start:o,end:i,x:r,y:l,width:d,height:c,initialStartCorner:u}=this.state;let p=r,m=l,g=d,h=c;const v=(e=>{const t={topLeft:e[0]<=e[2]&&e[1]<=e[3],bottomLeft:e[0]<=e[2]&&e[1]>=e[3],topRight:e[0]>=e[2]&&e[1]<=e[3],bottomRight:e[0]>=e[2]&&e[1]>=e[3]};return JQ.find((e=>!0===t[e]))||"topLeft"})([o.x,o.y,i.x,i.y]);if(this.setState({linePointStartCorner:v}),"topLeft"===u)switch(s){case"start":p=r+a,m=l+n,g=d-a,h=c-n,this.setState({start:{x:p,y:m}});break;case"end":g=d+a-e,h=c+n-e,this.setState({end:{x:g+r,y:h+l}})}if("bottomRight"===u)switch(s){case"end":p=r+a,m=l+n,g=d-a-t,h=c-n-t,this.setState({end:{x:p,y:m}});break;case"start":g=d+a-e,h=c+n-e,this.setState({start:{x:g+r,y:h+l}})}if("bottomLeft"===u)switch(s){case"start":p=r+a,m=l+n,g=d-a,h=c-n-e,this.setState({start:{x:p,y:h+m+n}});break;case"end":g=d+a-e,h=c+n,this.setState({end:{x:g+r,y:m+n}})}if("topRight"===u)switch(s){case"start":p=r+a,m=l+n,g=d-a-e,h=c+n,this.setState({start:{x:g+p+a,y:m}});break;case"end":p=r+a,g=d+a,h=c+n-e,this.setState({end:{x:p,y:h+l}})}return{x:p,y:m,width:g,height:h,linePointStartCorner:v}})),a(this,"handlePointerMove",(e=>{const{transformHandler:t,layer:a,canvasHeight:n}=this.props,{mouseStartX:s,mouseStartY:o,resizing:i,start:r,end:l,nodePosition:d}=this.state;if(!i)return;if(!e.isPrimary)return;this.setState({mouseMove:!0});const[c,u]=Dg(e),{lineWidth:p}=a,m=parseFloat(p)/100*n,g=m/2,h=c-s,v=u-o,f=this.calculateNewPosition(m,g,h,v),{linePointStartCorner:b}=f;let y=f.x,w=f.y,_=f.width,C=f.height,S=[];switch(b){case"topLeft":y=r.x+g,w=r.y+g,_=l.x-r.x+g,C=l.y-r.y+g,S=[0,0,_-g,C-g];break;case"topRight":y=l.x+g,w=r.y+g,_=r.x-l.x+g,C=l.y-r.y+g,S=[_-g,0,0,C-g];break;case"bottomLeft":y=r.x+g,w=l.y+g,_=l.x-r.x+g,C=r.y-l.y+g,S=[0,C-g,_-g,0];break;case"bottomRight":y=l.x+g,w=l.y+g,_=r.x-l.x+g,C=r.y-l.y+g,S=[_-g,C-g,0,0]}const[x,I,A,k]=S,T=Math.atan2(A-x,k-I)/Math.PI*180;let E="";const L=aJ();if(L){const e=((e,t,a,n,s,o,i,r,l,d)=>{let c=s,u=o,p=i,m=r,g=l;const h=n=>"start"===e?a[n]:t[n],v=h("x"),f=h("y");let b=n;const y=b-45*Math.floor(b/45);y>=41?b+=45-y:y<=4&&(b-=y);(Math.abs(b)<1||Math.abs(b)>359)&&(b=0);let w="";switch(b){case 0:c=v+d,p=d,g=[0,0,0,m-d],w="vertical";break;case 90:u=f+d,m=d,g=[0,0,p-d,0],w="horizontal";break;case-90:u=f+d,m=d,g=[p-d,0,0,0],w="horizontal";break;case 180:case-180:c=v+d,p=d,g=[0,m-d,0,0],w="vertical"}return{x:c,y:u,width:p,height:m,points:g,lineRightAngle:w}})(d,r,l,T,y,w,_,C,S,g);y=e.x,w=e.y,_=e.width,C=e.height,S=e.points,E=e.lineRightAngle}let j={x:y-g,y:w-g,width:_+g,height:C+g,points:S,lineResizing:!0,linePointStartCorner:b,lineRightAngle:E,lineWidth:m};L&&(j=(e=>{const{linePointStartCorner:t,lineWidth:a,lineRightAngle:n}=e,{x:s,y:o,width:i,height:r}=jpe(e),l=d0(t,i,r,a);return{...e,x:s,y:o,width:"vertical"===n||i<a?a:i,height:"horizontal"===n||r<a?a:r,points:l}})(j)),t.handleTransform({currentPosition:j,transformSource:"resize"}),e.preventDefault()})),a(this,"getNodeStyles",(e=>{const{x:t,y:a,width:n,height:s,selectedLayerId:o,layer:i,canvasHeight:r,boxSelectedIds:l,zoom:d}=this.props,{linePointStartCorner:c,mouseMove:u}=this.state;let p=18,m=18;w_()&&(p=22,m=22);const g={width:p,height:m,transform:`scale(${100/d})`},h=o===i.id,{lineWidth:v}=i,f=parseFloat(v)/100*r,b=f/2,[y,w,_,C]=d0(u?c:i.linePointStartCorner,n,s,f);switch(h||l[i.id]||(g.display="none"),e){case"start":return{left:t+y+b-p/2,top:a+w+b-m/2,...g};case"end":return{left:t+_+b-p/2,top:a+C+b-m/2,...g};default:return g}})),this.state={resizing:!1,start:{x:0,y:0},end:{x:0,y:0},nodePosition:"",linePointStartCorner:"topLeft"}}componentDidMount(){const{x:e,y:t,width:a,height:n,layer:s}=this.props,{linePointStartCorner:o}=s;this.setState({x:e,y:t,width:a,height:n,linePointStartCorner:o||"topLeft",mouseMove:!1})}componentDidUpdate(e,t){this.state.resizing&&!t.resizing?(document.addEventListener("pointermove",this.handlePointerMove),document.addEventListener("pointerup",this.handlePointerUp)):!this.state.resizing&&t.resizing&&(document.removeEventListener("pointermove",this.handlePointerMove),document.removeEventListener("pointerup",this.handlePointerUp))}render(){var e;const{selectedLayerId:t,layer:a,groups:n,boxSelectedIds:s}=this.props,o=t===a.id,i=a?null==(e=Object.entries(n).find((([e,t])=>t.layers.map((e=>e.id)).includes(a.id))))?void 0:e[0]:null;return f.jsxs("div",{style:{display:"block"},children:[f.jsx(Mpe,{groupId:i,handleExitEditorClick:this.props.handleExitEditorClick,handlePointerDownCallback:this.props.handlePointerDownCallback,handlePointerUpCallback:this.props.handlePointerUpCallback,transformHandler:this.props.transformHandler,handleTransformFinish:this.props.handleTransformFinish,height:this.props.height,isBackgroundTransformer:this.props.isBackgroundTransformer,isSelected:a.id===t,isBoxSelected:!!s[a.id],layer:this.props.layer,rotation:this.props.rotation,viewOnly:this.props.viewOnly,width:this.props.width,x:this.props.x,y:this.props.y}),["start","end"].map(((e,t)=>f.jsx("div",{className:`${hpe.transformerNode} ${o?hpe.selectedTransformer:""}`,style:this.getNodeStyles(e),onPointerDown:t=>this.handlePointerDown(t,e),onPointerUp:this.handlePointerUp},t)))]})}}const Fpe=r.connect((e=>{var t;return{selectedLayerId:(null==(t=pU(e))?void 0:t.id)||"",boxSelectedIds:e.studioLocal.boxSelectedIds,groups:e.studio.groups,zoom:e.studioSizing.zoom}}))(Ppe),Dpe={workspacePopoverZIndex:"18",popoverZIndex:"14",paywallZIndex:"1001",paywallBgZIndex:"1000",contextMenuOverlay:"ContextMenu-module_contextMenuOverlay_kCrxW",contextMenuContainer:"ContextMenu-module_contextMenuContainer_y4I0U",item:"ContextMenu-module_item_7Yzfc",icon:"ContextMenu-module_icon_CqnSe",iconChar:"ContextMenu-module_iconChar_SwTkG",iconCharBracket:"ContextMenu-module_iconCharBracket_GfsoC",separator:"ContextMenu-module_separator_kbbIa"};function Ope(){const{dispatch:e}=Mu();e(HU({bRollDebugOpen:!1}))}const Upe=i.createContext({onContextMenuOpen:()=>{console.warn("onContextMenuOpen not set")},onContextMenuClose:()=>{console.warn("onContextMenuClose not set")},position:{x:0,y:0}}),Bpe=()=>i.useContext(Upe);let Wpe=null;function Vpe({children:e}){const[t,a]=i.useState({x:0,y:0}),n=i.useRef({x:0,y:0}),s=i.useCallback((e=>{(e=>{Wpe=e})(e),a(e)}),[]),o=i.useCallback((()=>{s({x:n.current.x,y:n.current.y})}),[s]),r=i.useCallback((()=>{queueMicrotask((()=>{s(null)}))}),[s]);return i.useEffect((function(){const e=e=>{n.current={x:e.clientX,y:e.clientY}};return document.addEventListener("pointerdown",e),()=>document.removeEventListener("pointerdown",e)}),[]),f.jsx(Upe.Provider,{value:{onContextMenuOpen:o,onContextMenuClose:r,position:t},children:e})}const Hpe=e=>{const t=e.target,{tagName:a,contentEditable:n}=t;if(!(document.activeElement===e.target))return!1;const s=a&&"TEXTAREA"===a.toUpperCase();let o=!1;if(a&&"INPUT"===a.toUpperCase()){const e=t.type;o=["TEXT","NUMBER","EMAIL","PASSWORD","SEARCH","TEL","URL"].includes(e.toUpperCase())}return o||s||"true"===n},zpe=["blurBg","chromaKey","converted_gif","chromaKeyChannel","chromaKeyThreshold","chromaKeyColor","chromaKeyHueThreshold","chromaKeySatThreshold","chromaKeyValThreshold","removeBg"],Gpe=e=>Math.round(100*e)/100;function Ype(e,t){const{x:a,y:n}=e,{x:s,y:o}=t,i=Gpe(parseFloat(a)),r=Gpe(parseFloat(n)),l=Gpe(parseFloat(s)),d=Gpe(parseFloat(o));return i===l&&r===d}const Kpe=PU.withUndoBatch(((e,t={})=>{const{state:a,dispatch:n}=Mu(),{studio:s,studioLocal:o}=a,i=lK(a),{duration:r}=s,{detachAudio:l=!1,position:d={},positionOffset:c=!0,splitTime:u,dontModifyStartTime:p=!1,layerDepth:m}=t;let g=(e.timelineRow||0)+1;const h=Gx(a);let v=0;h.forEach((e=>{e.timelineRow&&e.timelineRow>v&&(v=e.timelineRow)})),g=v+1;const f={...e,id:fe(12),timelineRow:g};if(e.position){let t=0;if(c&&!r){const a=h.filter((t=>t.type===e.type&&t.name===e.name));for(let n=0;n<35;n++){t=3*(1+n);const s={...e.position,x:`${parseFloat(e.position.x)+t}%`,y:`${parseFloat(e.position.y)+t}%`,...d};if(!a.some((e=>e.position&&Ype(e.position,s))))break}}f.position={...e.position,x:`${parseFloat(e.position.x)+t}%`,y:`${parseFloat(e.position.y)+t}%`,...d}}if(rp(f)){f.animation={intro:[],constant:[],outro:[]};const t=AT(e);["intro","constant","outro"].forEach((e=>{var a,s;if(l)return;const o=t[e][0];if(!o||o.id===Mc.None||o.isCrossTransition)return;const i={id:fe(12),animationName:o.id,isCrossTransition:!1,layerId:f.id,transitionDuration:o.transitionDuration||.5};null==(s=null==(a=f.animation)?void 0:a[e])||s.push(i.id),n(UA(i,!0))}))}if(l){f.type=Nc.Audio,f.detachedAudioId=fe(12),f.timelineRow=(e.timelineRow||0)+1,f.videoDelay=e.videoDelay||0,f.startTime=e.startTime||0,f.endTime=e.endTime||e.duration;for(const e of zpe)delete f[e]}else"timeline"!==o.selectedEditorPane||p||iJ(f,!0);wY(e.id)&&n(qG(e.id,f.id,f.type,!0)),u&&(f.startTime=t.splitTime),i||n(dk(!0)),fJ(f,{undoable:!0,layerDepth:m||pQ({comparisonDepth:"depth"in e?e.depth:void 0,targetDepthDirection:"ahead"}),knownTimelineRow:l});const b=Mu().state.studio.allLayers.byId[f.id];if(!b)throw new Error("Failed to add layer");return n(ck({id:f.id,type:"layer"})),b})),Xpe=()=>{const e=mU();e&&(ov("Duplicate Layer",{"Layer Type":e.type}),Kpe(e,{positionOffset:!0}))},Zpe=e=>{const t=e.match(/data-kapwing-clipboard="([^"]+)"/);if(!t)return null;const a=t[1];if(!a)return null;const n=vt.decode(a);try{return JSON.parse(n)}catch{return null}};async function qpe(){if(!navigator.clipboard.read)return{success:!1,items:[]};let e=!0;try{if(y_()&&!window.Cypress){const t=await(async()=>{if(!y_())throw new Error("getChromeClipboardPermissionStatus is being used in non-chrome browser.");return await navigator.permissions.query({name:"clipboard-read",allowWithoutGesture:!1})})();if(e="granted"===t.state,"granted"!==t.state)return"prompt"===t.state&&(aR("/studio/editor/need-clipboard-permission"),await navigator.clipboard.readText()),{success:e,items:[]}}return{success:!0,items:await UC({actionDescription:"Reading clipboard",timeoutMs:1e3,promise:navigator.clipboard.read(),fallbackValue:[]})}}catch(t){return console.error(t),e=!1,y_()&&!window.Cypress&&aR("/studio/editor/need-clipboard-permission"),{success:!1,items:[]}}}const Jpe=async(e,t)=>{const a=(e=>{const t=JSON.stringify(e);return`<span data-kapwing-clipboard="${vt.encode(t)}"></span>`})(e),{dispatch:n}=Mu();if(n(Bee(e)),null==t?void 0:t.clipboardData)return t.clipboardData.clearData(),t.clipboardData.setData("text/plain",e.plainText||""),void t.clipboardData.setData("text/html",a);navigator.clipboard&&navigator.clipboard.write&&navigator.clipboard.write([new ClipboardItem({"text/plain":new Blob([e.plainText||""],{type:"text/plain"}),"text/html":new Blob([a],{type:"text/html"})})])},$pe=()=>{const{state:e}=Mu(),{width:t,height:a}=e.studio,{contents:n}=e.clipboard,s=document.getElementById("studio-canvas-background"),o=Wpe;if(!o||!n)return;if(!t||!a)return;if(!s)return;const{x:i,y:r}=s.getBoundingClientRect(),{x:l,y:d}=o;let c=0,u=0;if(c+=l-i,u+=d-r,"layer"===n.itemType&&n.item){const e=n.item,s=e.position;if("shape"===e.type&&"ellipse"===e.shapeType){const n=(e=>{const{width:t,height:a}=(null==e?void 0:e.position)||{};return void 0===t||void 0===a?{x:0,y:0}:{x:parseFloat(t)/2/100,y:parseFloat(a)/2/100}})(e);c+=n.x*t,u+=n.y*a}c>=t-15&&s&&(c-=t*parseFloat(s.width)/100||0),u>=a-15&&s&&(u-=a*parseFloat(s.height)/100||0)}return{x:100*c/t+"%",y:100*u/a+"%"}};async function Qpe(e){const{state:t}=Mu(),{overlayMounted:a}=t.studio,n=mU();if(a)return null;if(n&&"text"===n.type&&RR(t,n.id))return null;if(e&&Hpe(e))return null;const s=$pe(),o=await(e?(async e=>{var t,a,n,s;if(null==(a=null==(t=e.clipboardData)?void 0:t.files)?void 0:a.length){const t=[];for(let a=0;a<(null==(n=e.clipboardData)?void 0:n.files.length);a+=1){const n=null==(s=e.clipboardData)?void 0:s.files[a];n&&t.push(n)}return{files:t,kapwingClipboard:null}}let o=[];const{clipboardData:i}=e;if(i){for(const e of i.items){const{type:t}=e;if("text/html"===t){const e=i.getData(t);try{const t=Zpe(e);if(null==t?void 0:t.contents)return{files:o,kapwingClipboard:t}}catch(r){console.error(r)}if(!e.match(/.+\.(png|gif|jpeg|jpg|tif|tiff|ico|bmp)/)){o=[];break}}const a=t.match(/image\/(.+)/);if(a){const e=i.getData(t);o.push(new File([e],`image.${a[1]}`,{type:t}))}}if(o.length>0)return{files:o,kapwingClipboard:null}}return{files:[],kapwingClipboard:null}})(e):async function(){const{items:t,success:a}=await qpe();if(!a)return{files:[],kapwingClipboard:null};const n=[];for(const s of t)for(const t of s.types){if("text/html"===t){const a=await s.getType(t),n=await a.text();try{const e=Zpe(n);if(null==e?void 0:e.contents)return{files:[],kapwingClipboard:e}}catch(e){}}const a=t.match(/image\/(.+)/);if(a){const e=await s.getType(t);n.push(new File([e],`image.${a[1]}`,{type:t}))}}return{files:n,kapwingClipboard:null}}());return o.files.length?C9(o.files,{eventHandlers:{handlePreemptiveFinish:F4,handleFinish:D4},uploadOptions:{analyticsUploadSource:"Pasted from clipboard",uploadSourceComponent:"handlePaste",doDuplicateHandling:!0}}):(o.kapwingClipboard||t.clipboard)&&function(e,t){var a,n,s;const{contents:o,originalProject:i}=e;if(!o||!i)return null;const{state:r}=Mu(),{projectId:l,width:d=0,height:c=0}=r.studio,u=l!==i.id;if(u){const t=("layer"===(null==(a=e.contents)?void 0:a.itemType)?[e.contents.item]:(null==(s=null==(n=e.contents)?void 0:n.item)?void 0:s.hydratedLayers)||[]).some((e=>{var t,a,n,s,o,i;return!!(null==(a=null==(t=e.animation)?void 0:t.intro)?void 0:a.length)||!!(null==(s=null==(n=e.animation)?void 0:n.outro)?void 0:s.length)||!!(null==(i=null==(o=e.animation)?void 0:o.constant)?void 0:i.length)}));ov("Cross-Project Copy",{includesAnimations:t})}if("layer"===o.itemType){let e=o.item;if(!e)return null;let a=t;d||c||Qq({ratioWidth:i.width,ratioHeight:i.height,undoable:!0}),Mu().dispatch(SK()),d&&c&&(d!==i.width||c!==i.height)&&nX(e)&&(a=void 0,e={...e,position:sJ({layer:e,newRatio:{height:c,width:d},prevRatio:{height:i.height,width:i.width},resizeMethod:"fit-to-center"}).position});const n=pQ({targetDepthDirection:"ahead"});return Kpe(e,{positionOffset:!u,detachAudio:!1,position:a,layerDepth:n})}if("group"===o.itemType){const t=o.item;return t?(v1(t,t.hydratedLayers,!0,e),null):null}}(o.kapwingClipboard||t.clipboard,s),o}async function eme(e){if(e&&Hpe(e))return!1;const t=function(){const{state:e}=Mu(),t=mU(),a=b1();if(t&&Oc(t))return null;if(t&&RR(e,t.id))return null;let n=null;if(t)n={itemType:"layer",item:t};else if(a){const t=a.layers.map((t=>e.studio.allLayers.byId[t.id])).filter(vA);n={itemType:"group",item:{...a,hydratedLayers:t}}}return n?{contents:n,plainText:(null==t?void 0:t.text)||null,originalProject:{id:e.studio.projectId||"",height:e.studio.height??0,width:e.studio.width??0}}:null}();return!!t&&(await Jpe(t,e),null==e||e.preventDefault(),!0)}async function tme(e){const t=mU(),a=b1();if(t||a){await eme(e)&&(Nue(),null==e||e.preventDefault())}}const ame=.1,nme=document.createElement("canvas");nme.hidden=!0,nme.style.display="none";const sme=async()=>{GJ();const e=mU(),t=dY();if(!e)return;const a=await async function(e,t){if(!e||Oc(e))return{success:!1,error:{type:"failed"}};const a=e.playbackRate?e.playbackRate:1,n=e.videoDelay?e.videoDelay:0,s=n+((e.endTime||e.duration)-(e.startTime||0))/a,o=(t-n)*a+(e.startTime||0);let i=o,r=!0,l=t;t-n<ame?(r=!1,i=e.startTime||0,l=t+(o-i)/a):s-t<ame&&(r=!1,i=e.endTime||e.duration,l=t+(o-i)/a);return 0===i&&(i+=1e-4),Wx((async e=>{const{video:t}=e;if(!(await ome(t,i)))return{success:!1,error:{type:"seek failed"}};const a=ime(t);if(a)return{success:!1,error:a};const n=await new Promise((e=>nme.toBlob(e)));return n?{success:!0,blob:n,shouldSplit:r,insertedTime:l}:{success:!1,error:{type:"draw failed"}}}),{source:{layerId:e.id,type:"original"},maxRuntime:5e3,priority:XC.HIGH,actionDescription:"Freeze frame"})}(e,t);if(!a.success)return void console.error(a.error);const{blob:n,insertedTime:s,shouldSplit:o}=a;PU.beginBatch();const i=new File([n],`Freeze-${e.name}.png`,{type:null==n?void 0:n.type}),r=e.crop??null;return C9([i],{eventHandlers:{handlePreemptiveFinish:t=>{let a={...e,...t};a=Object.assign(a,{type:Nc.Image,duration:3,startTime:s,endTime:s+3,timelineRow:e.timelineRow,objectFit:"cover",position:e.position,source:"upload",isFreezeFrameLayer:!0,crop:r}),delete a.playbackRate,delete a.videoDelay,delete a.asset_id,delete a.animation,Mu().dispatch(AK.insertFreezeFrame({layer:a,layerIdToSplit:o?e.id:null,time:s})),PU.endBatch()},handleFinish:D4},uploadOptions:{analyticsUploadSource:"Freeze Frame Upload",uploadSourceComponent:"FreezeFrame"}}),null},ome=async(e,t)=>await Promise.race([$T(e,t).then((()=>!0)),Tf(5e3).then((()=>!1))]),ime=e=>{const t=e.videoWidth,a=e.videoHeight;nme.width=t,nme.height=a;const n=nme.getContext("2d");return n?(n.drawImage(e,0,0,t,a),null):(console.error("No context"),{type:"draw failed"})},rme=u(pU,(e=>e.assets.byId),((e,t)=>{var a;const n=(null==e?void 0:e.asset_id)?null==(a=t[e.asset_id])?void 0:a.url:void 0;if(!e||e.type!==Nc.Video||e.removeBg||e.blurBg||!n||e.requireConversion||"pastedLink"===e.source)return!1;const s=dY(),o=e.playbackRate?e.playbackRate:1,i=((e.endTime||e.duration)-(e.startTime||0))/o,r=e.videoDelay?e.videoDelay:0;return r<=s&&s<=r+i})),lme=PU.withUndoBatch(((e,t)=>{const a=b1();a&&(t&&t.preventDefault(),ov("Changed Layer Depth",{"Layer Type":"group","Depth Change Type":"Move Layer Forward","Triggered from":e}),(({group:e,undoable:t=!0})=>{if(!sQ(e))return;const a=Y$(e),n=KY(a);if(!n)throw new Error("Could not find layer in group.");const s=z$(n),o=s?C$(s):void 0,i=(()=>{if(o){const e=Y$(o.group),t=KY(e);if(t)return t.depth}else if(s)return s.depth})(),r=uQ({comparisonDepth:i,targetDepthDirection:"ahead",count:a.length}),l=a.reduce(((e,t,a)=>({...e,[t.id]:{depth:r[a]}})),{});uk(l,"studioMoveGroupForward",t)})({group:a}))})),dme=PU.withUndoBatch(((e,t)=>{const a=b1();a&&(t&&t.preventDefault(),ov("Changed Layer Depth",{"Layer Type":"group","Depth Change Type":"Move Layer Backward","Triggered from":e}),(({group:e,undoable:t=!0})=>{if(!iQ(e))return;const a=Y$(e),n=XY(a);if(!n)throw new Error("Could not find layer in group.");const s=G$(n),o=s?C$(s):void 0,i=(()=>{if(o){const e=Y$(o.group),t=XY(e);if(t)return t.depth}else if(s)return s.depth})(),r=uQ({comparisonDepth:i,targetDepthDirection:"behind",count:a.length}),l=a.reduce(((e,t,a)=>({...e,[t.id]:{depth:r[a]}})),{});uk(l,"studioMoveGroupBackward",t)})({group:a}))})),cme=PU.withUndoBatch(((e,t)=>{const a=b1();a&&(t&&t.preventDefault(),ov("Changed Layer Depth",{"Layer Type":"group","Depth Change Type":"Send Layer To Back","Triggered from":e}),(({group:e,undoable:t=!0})=>{if(!iQ(e))return;const a=Y$(e),n=H$();if(!n)throw new Error("Could not find layer at back.");const s=uQ({comparisonDepth:n.depth,targetDepthDirection:"behind",count:a.length}),o=a.reduce(((e,t,a)=>({...e,[t.id]:{depth:s[a]}})),{});uk(o,"studioMoveGroupToBack",t)})({group:a}))})),ume=PU.withUndoBatch(((e,t)=>{const a=b1();a&&(t&&t.preventDefault(),ov("Changed Layer Depth",{"Layer Type":"group","Depth Change Type":"Bring Layer To Front","Triggered from":e}),(({group:e,undoable:t=!0})=>{if(!sQ(e))return;const a=Y$(e),n=V$();if(!n)throw new Error("Could not find layer at front.");const s=uQ({comparisonDepth:n.depth,targetDepthDirection:"ahead",count:a.length}),o=a.reduce(((e,t,a)=>({...e,[t.id]:{depth:s[a]}})),{});uk(o,"studioMoveGroupToFront",t)})({group:a}))})),pme="StudioPopover-module_disabled_o6w-U",mme="StudioPopover-module_content_WV3ja",gme="StudioPopover-module_small_ewzQS",hme="StudioPopover-module_header_6fPMG",vme="StudioPopover-module_description_FVzNg",fme="StudioPopover-module_iconWrapper_WnLVa",bme="StudioPopover-module_trigger_Fx-Ss",yme="StudioPopover-module_rainbowBorder_RVMSq",wme="StudioPopover-module_arrow_f-y-1",_me="StudioPopover-module_actions_WgnpJ",Cme="StudioPopover-module_defer_0fAVG",Sme="StudioPopover-module_confirm_dakDf",xme="StudioPopover-module_popoverContent_sUuKj",Ime={borderRadius:5,borderWidth:2},Ame=b.memo((({children:e,content:t,header:a,onClose:n,open:s,side:o="right",align:r="center",alignOffset:l=0,sideOffset:d=0,withRainbowBorder:c=!0,rainbowBorderOptions:u=Ime,size:p="large",onMount:m,onUnmount:g,onPopoverCloseAndFocus:h,triggerStyle:v,container:b,triggerRef:y,containerStyle:w,contentStyle:_,withArrow:C=!0})=>{const S=i.useMemo((()=>{if(void 0!==s)return e=>{e&&(null==n||n())}}),[n,s]);return i.useEffect((function(){return s&&(null==m||m()),()=>{null==g||g()}}),[m,g,s]),s?f.jsxs(hr,{open:s,onOpenChange:S,children:[f.jsx(vr,{asChild:!0,ref:y,children:f.jsx(kme,{withRainbowBorder:s&&c,rainbowBorderOptions:u,triggerStyle:v,children:e})}),!!t&&f.jsx(fr,{container:b??B_(),children:f.jsxs(br,{side:o,align:r,className:L(mme,{[gme]:"small"===p}),collisionPadding:16,alignOffset:l,sideOffset:d,hideWhenDetached:!0,style:w,onCloseAutoFocus:h,children:[a&&f.jsx("div",{className:hme,children:a}),f.jsx("div",{className:vme,style:_,children:t}),!!n&&f.jsx("button",{className:fme,onClick:e=>{e.stopPropagation(),null==n||n()},"data-testid":"studio-popover-close",children:f.jsx(R,{size:"small"===p?18:24})}),C&&f.jsx(yr,{className:wme,width:12,height:12})]})})]}):e})),kme=b.memo(b.forwardRef((({rainbowBorderOptions:e,withRainbowBorder:t,triggerStyle:a,children:n},s)=>{const{borderRadius:o,borderWidth:i}=e??{};return f.jsxs("div",{className:bme,style:a,ref:s,children:[f.jsx(f.Fragment,{children:n}),t&&f.jsx("div",{className:yme,style:{borderRadius:`${o}px`,margin:`-${i}px`,borderWidth:`${i}px`}})]})}))),Tme=b.memo((({description:e,media:t,additionalNote:a,buttons:n,customButtons:s})=>f.jsxs("div",{className:xme,children:[f.jsxs("div",{children:[f.jsx(f.Fragment,{children:e}),a&&f.jsx("div",{style:{marginTop:"12px"},children:f.jsx("i",{children:a})})]}),"video"===(null==t?void 0:t.type)&&f.jsx("video",{autoPlay:!0,loop:!0,playsInline:!0,muted:!0,controls:!0,children:f.jsx("source",{src:t.src,type:"video/mp4"})}),"image"===(null==t?void 0:t.type)&&f.jsx("img",{src:t.src,alt:t.src}),n&&f.jsx(Eme,{...n}),!!s&&s]}))),Eme=b.memo((({confirmText:e,declineText:t,onConfirm:a,onDecline:n,confirmDisabled:s})=>f.jsxs("div",{className:_me,children:[f.jsx("button",{className:Cme,onClick:n,children:t}),f.jsx("button",{className:L(Sme,{[pme]:s}),onClick:a,children:e})]}))),Lme="StudioTour-module_disabled_hcrR-",jme="StudioTour-module_studioTourButtons_ZxcCm",Rme="StudioTour-module_hidden_cA9-q",Nme="StudioTour-module_back_87EV-",Mme="StudioTour-module_next_6U-w2",Pme="StudioTour-module_dots_UwWbh",Fme="StudioTour-module_dot_wFi8v",Dme="StudioTour-module_selected_o06X3";function Ome(e){const{isOpen:t,currentStep:a,tour:n,source:s,userBeganTour:o,currentStepIndex:r,currentStepData:l}=Du((t=>{const a=t.studioTour.isOpen,n=t.studioTour.currentStep,s=t.studioTour.tour,o=KB[s][n],i=null==o?void 0:o.step,r=Array.isArray(e)?e:[e];return{isOpen:e?a&&r.includes(i):a,currentStepIndex:n,currentStep:i,userBeganTour:nZ(t),tour:t.studioTour.tour,source:t.studioTour.source,currentStepData:o}}),Ou),d=KB[n],c=0===r,u=r===d.length-1;return i.useMemo((()=>({isOpen:t,isFirstStep:c,isLastStep:u,steps:d,currentStep:a,currentStepIndex:r,userBeganTour:o,tour:n,source:s,currentStepData:l})),[a,l,r,c,u,t,s,d,n,o])}const Ume=b.memo((({onNext:e,onBack:t,onConfirm:a,onDecline:n,onFinish:s,nextText:o,backText:r,confirmText:l,finishText:d,declineText:c,disableBack:u})=>{var p,m;const{steps:g,currentStep:h}=Ome(),v=(null==(p=g[0])?void 0:p.step)===h,b=(null==(m=g[g.length-1])?void 0:m.step)===h,y=g.findIndex((e=>e.step===h)),w=i.useCallback((()=>{h&&$X(h)}),[h]),_=i.useCallback((async()=>{await(null==a?void 0:a()),w()}),[w,a]),C=i.useCallback((async()=>{await(null==n?void 0:n()),XX()}),[n]);return h&&iZ(h)?h&&!iZ(h)?null:f.jsx(Eme,{confirmText:l??"Start Tour",declineText:c??"Maybe Later",onConfirm:_,onDecline:C}):f.jsxs("div",{className:jme,children:[f.jsx("button",{className:L(Nme,{[Rme]:v,[Lme]:u}),onClick:async e=>{e.preventDefault(),e.stopPropagation(),await(null==t?void 0:t()),(()=>{const{state:e,dispatch:t}=Mu(),{studioTour:a}=e,{currentStep:n,source:s,isOpen:o}=a;o&&n>0&&(t(JB.setCurrentStep(n-1)),Nb(e)&&s!==HB.LandingPage&&Ev.set(`studio_tour_state_${e.currentUser.user._id}`,{...e.studioTour,currentStep:n-1}))})()},"data-testid":"studio-tour-back-button",children:r??"Back"}),f.jsx("div",{className:Pme,"data-testid":"studio-tour-dots",children:g.map(((e,t)=>f.jsx("div",{className:`${Fme} ${y===t&&Dme}`,onClick:e=>{e.preventDefault(),e.stopPropagation(),(e=>{const{dispatch:t}=Mu();t(JB.setCurrentStep(e))})(t)}},t)))}),f.jsx("button",{className:Mme,onClick:async t=>{t.preventDefault(),t.stopPropagation(),await(null==e?void 0:e()),b&&await(null==s?void 0:s()),w()},"data-testid":"studio-tour-next-button",children:b?d??"Done":o??"Next"})]})})),Bme=b.memo((({description:e,media:t,additionalNote:a,buttons:n,additionalButtonBehavior:s})=>{const{enabled:o,...i}=n??{},r=o?f.jsx(Ume,{...i,...s}):null;return f.jsx(Tme,{description:e,media:t,additionalNote:a,customButtons:r})})),Wme=({title:e,...t})=>({header:e,content:t.description||t.media||t.additionalNote?f.jsx(Bme,{...t}):void 0,...t}),Vme=({description:e,additionalOpenCondition:t})=>({content:e,open:void 0===t||t}),Hme=b.memo((({step:e,onCloseOverride:t,children:a,additionalOpenCondition:n,conditionalDataFlag:s,additionalButtonBehavior:o,...r})=>{const{isOpen:l,currentStepData:d}=Ome(e),c=i.useMemo((()=>d&&s&&"conditionalDataOverride"in d&&d.conditionalDataOverride&&d.conditionalDataOverride[s]?Vme({...d.conditionalDataOverride[s],additionalOpenCondition:n}):null),[d,s,n]),u=i.useMemo((()=>{if(!d)return null;if(s&&!c)return null;if(c)return{...c,...r};return{...{...Wme({...d,additionalButtonBehavior:o}),onClose:t??ZX,open:void 0!==n?n&&l:l},...r}}),[o,n,s,c,d,l,t,r]),p=i.useRef(!1),m=i.useRef(null);return i.useLayoutEffect((function(){const e=()=>{},t=m.current;if(!u)return e;if(!t)return e;if(!("scrollIntoView"in t))return e;if(p.current)return e;let a=setTimeout((function e(){p.current||(null==t||t.scrollIntoView({block:"center",behavior:"smooth"}),a=setTimeout(e,750))}),200);const n=new IntersectionObserver((e=>{var t;!0===(null==(t=e[0])?void 0:t.isIntersecting)&&(p.current=!0,clearTimeout(a))}),{threshold:[1]});return n.observe(t),()=>{n.disconnect(),clearTimeout(a)}}),[s,u]),u&&u.open?f.jsx(Ame,{...u,triggerRef:m,children:a}):a})),zme=()=>aR("/studio/editor/delete-row"),Gme=()=>aR("/studio/editor/delete-transcription-row"),Yme=()=>{const{state:e,dispatch:t}=Mu(),{studio:{selectedTimelineRows:a}}=e;let n=!1;a.includes(-1)&&(n=!0);const s=a.filter((e=>-1!==e));PU.execInUndoBatch((()=>{r.batch((()=>{n&&oue(),t(AK.deleteRows({rows:s}))}))})),t(rk([]))},Kme=(e,t)=>{const a=[];return t.every((t=>void 0===t.timelineRow||t.timelineRow!==e||(a.push(t),!0))),a},Xme=e=>{let t=0;return e.forEach((e=>{void 0!==e.timelineRow&&e.timelineRow>t&&(t=e.timelineRow)})),t},Zme=e=>{const t=Gx(e),{duration:a}=e.studio;if(0===a)return[];const n=[...t];n.sort(((e,t)=>zC(e)[0]-zC(t)[0]));const s=[{startTime:0,endTime:0}];if(n.forEach((e=>{const[t,a]=zC(e),n=s[s.length-1];t-.01<=n.endTime?s[s.length-1].endTime=Math.max(a,n.endTime):s.push({startTime:t,endTime:a})})),1===s.length)return[];const o=[];return s.forEach(((e,t)=>{const a=s[t+1];t!==s.length-1&&o.push({startTime:e.endTime,endTime:a.startTime})})),o};function qme(){const{dispatch:e,state:t}=Mu(),a=S7(t),{timelineContainerWidth:n}=t.timelineStyles,s=n/(1.1*a);e(iH.setUseCSSTransitions(!0)),n>0&&e(Mh(s)),e(iH.setScrollTimelineToStart(!0))}const Jme=(e,t,a=[ft])=>()=>f.jsxs(f.Fragment,{children:[a.map(((e,t)=>f.jsx(e,{"data-testid":`icon ${t}`},t))),e&&f.jsx("span",{className:[Dpe.iconChar,t].join(" "),children:e})]}),$me=(e,t,a=[ft,bt])=>()=>f.jsxs(f.Fragment,{children:[a.map(((e,t)=>f.jsx(e,{"data-testid":`icon ${t}`},t))),e&&f.jsx("span",{className:[Dpe.iconChar,t].join(" "),children:e})]}),Qme=e=>()=>f.jsx("div",{children:e}),ege=({title:e,onClick:t,renderMacOSIcon:a,renderWindowsIcon:n,disabled:s})=>{const o=T_.isMac()?a:n,i=`${e.split(" ").join("-")}-context-menu-item`;return f.jsxs("div",{className:Dpe.item,onPointerUp:e=>{s?e.preventDefault():t(e)},disabled:s,"data-cy":i,"data-testid":i,children:[f.jsx("div",{children:e}),o&&!w_()&&f.jsx("div",{className:Dpe.icon,children:o()})]})},tge=e=>{if(!document.execCommand(e))switch(e){case"copy":eme();break;case"cut":tme();break;case"paste":Qpe()}},age=e=>({blurBg:null==e?void 0:e.blurBg,blurBgValue:null==e?void 0:e.blurBgValue,chromaKey:null==e?void 0:e.chromaKey,chromaKeyChannel:null==e?void 0:e.chromaKeyChannel,chromaKeyColor:null==e?void 0:e.chromaKeyColor,chromaKeyHueThreshold:null==e?void 0:e.chromaKeyHueThreshold,chromaKeySatThreshold:null==e?void 0:e.chromaKeySatThreshold,chromaKeyThreshhold:null==e?void 0:e.chromaKeyThreshold,chromaKeyValThreshold:null==e?void 0:e.chromaKeyValThreshold,isReversed:null==e?void 0:e.isReversed,removeBg:null==e?void 0:e.removeBg}),nge=()=>{var e,t;const{dispatch:a}=Mu(),n=mU();if(!n||!("id"in n)||!QK(n))return;$X(zB.Studio_LayerContextMenu_CopyProperties);const s={adjustments:{filters:n.filters,presetFilter:n.presetFilter},cropSettings:n.crop,positionSettings:n.position,misc:{detachedAudioId:n.detachedAudioId,speed:n.playbackRate,volume:n.volume,zoom:n.isZoomed,corners:n.borderRadius,rotation:null==(e=n.position)?void 0:e.rotation,outline:{lineWidth:n.lineWidth,stroke:n.stroke},animation:{constant:null==(t=n.animation)?void 0:t.constant},videoEffect:age(n),audioEffect:{audioEffect:n.audioEffect,audioSpeed:n.fadeSpeed,audioPosition:n.fadePosition}}};a(jh(s))},sge=PU.withUndoBatch((({layer:e,omitSourceLayer:t})=>{const a=GX(Mu().state,{layer:e,layerIdToOmit:t?e.id:void 0});return(null==a?void 0:a.length)&&(y1(a),$X(zB.Studio_LayerContextMenu_SelectRelatedLayers),ov("Selected related layers"),qme()),a})),oge=PU.withUndoBatch((()=>{const{state:e,dispatch:t}=Mu(),a=dU(e),n=vU(),s=n&&e.studio.allLayers.byId[n],o=e.projectSessionSettings.copiedModifications;if(!o)return;const i={},r={};a.forEach((e=>{var a,n,s,l,d,c,u,p,m,g,h,v,f,b,y,w,_,C,S,x,I,A,k,T,E,L,j;if(!e||!QK(e))return;let R={filters:null==(a=null==o?void 0:o.adjustments)?void 0:a.filters,presetFilter:null==(n=null==o?void 0:o.adjustments)?void 0:n.presetFilter,crop:null==o?void 0:o.cropSettings,detachedAudioId:null==(s=null==o?void 0:o.misc)?void 0:s.detachedAudioId,animation:null==(l=null==o?void 0:o.misc)?void 0:l.animation,audioEffect:null==(c=null==(d=null==o?void 0:o.misc)?void 0:d.audioEffect)?void 0:c.audioEffect,fadePosition:null==(p=null==(u=null==o?void 0:o.misc)?void 0:u.audioEffect)?void 0:p.audioPosition,fadeSpeed:null==(g=null==(m=null==o?void 0:o.misc)?void 0:m.audioEffect)?void 0:g.audioSpeed,borderRadius:null==(h=null==o?void 0:o.misc)?void 0:h.corners,lineWidth:null==(f=null==(v=null==o?void 0:o.misc)?void 0:v.outline)?void 0:f.lineWidth,stroke:null==(y=null==(b=null==o?void 0:o.misc)?void 0:b.outline)?void 0:y.stroke,volume:null==(w=null==o?void 0:o.misc)?void 0:w.volume,isZoomed:null==(_=null==o?void 0:o.misc)?void 0:_.zoom};(null==o?void 0:o.positionSettings)&&(R={...R,position:{...null==o?void 0:o.positionSettings}}),R={...R,...null==(C=null==o?void 0:o.misc)?void 0:C.videoEffect},i[e.id]=R;let N={};(null==(x=null==(S=null==o?void 0:o.misc)?void 0:S.videoEffect)?void 0:x.chromaKey)&&(N={chromaKeyThresholdTemp:null==(A=null==(I=null==o?void 0:o.misc)?void 0:I.videoEffect)?void 0:A.chromaKeyThreshhold}),(null==(T=null==(k=null==o?void 0:o.misc)?void 0:k.videoEffect)?void 0:T.blurBg)&&(N={...N,blurBgValueTemp:null==(L=null==(E=null==o?void 0:o.misc)?void 0:E.videoEffect)?void 0:L.blurBgValue}),Object.keys(N).length>0&&(r[e.id]=N);const M=(null==(j=o.misc)?void 0:j.speed)??1;M!==(e.playbackRate??1)&&t(AK.changeLayerSpeed({layerIds:[e.id],referencePlaybackRate:1,speed:M}))})),t(vz({usedPasteModifications:!0}));const l=a.map((e=>e.id)),d=s?GX(e,{layer:s}):[],c=l.length===d.length&&l.every((e=>d.includes(e)));ov("Pasted Layer Properties",{"Used Related Layers":c}),$X(zB.Studio_LayerContextMenu_PasteProperties),uk(i,"layers.tsx",!0),Hj(r)})),ige=()=>tge("cut"),rge=()=>{tge("paste")},lge=({disabled:e})=>{const t=i.useCallback((()=>f.jsx(yt,{})),[]),a=Qme("Del"),n=O$()?i8:Nue,s=i.useCallback((()=>{n()}),[n]);return f.jsx(ege,{title:"Delete",onClick:s,renderMacOSIcon:t,renderWindowsIcon:a,disabled:e})},dge=({layer:e})=>{const t=e.lockAspectRatio?"Unlock Aspect Ratio":"Lock Aspect Ratio";return f.jsx(ege,{title:t,onClick:()=>{uk({[e.id]:{lockAspectRatio:!e.lockAspectRatio}},"LockRatioItem")}})},cge=({disabled:e})=>{const t=Jme("",void 0,[ft,yt]),a=Qme("Ctrl+Del");return f.jsx(ege,{title:"Ripple Delete",onClick:s8,renderMacOSIcon:t,renderWindowsIcon:a,disabled:e})},uge=({disabled:e})=>{const t=Jme("C"),a=Qme("Ctrl+C");return f.jsx(ege,{title:"Copy",onClick:()=>{tge("copy"),nge()},renderMacOSIcon:t,renderWindowsIcon:a,disabled:e})},pge=({disabled:e})=>f.jsx(ege,{title:"Save as Text Preset",onClick:x3,disabled:e}),mge={borderRadius:3,borderWidth:3},gge=({disabled:e})=>{const t=$me("C"),a=Qme("Ctrl+Alt+C"),n=Du((e=>sZ(e,zB.Studio_LayerContextMenu_CopyProperties))),s=i.useCallback((e=>{n&&(null==e||e.preventDefault(),null==e||e.stopPropagation()),nge(),ov("Copied Layer Properties")}),[n]),o=i.useMemo((()=>({onNext:()=>{nge(),ov("Copied Layer Properties")},disableBack:!0})),[]);return f.jsx(Hme,{step:zB.Studio_LayerContextMenu_CopyProperties,rainbowBorderOptions:mge,additionalButtonBehavior:o,children:f.jsx(ege,{title:"Copy Properties",onClick:s,renderMacOSIcon:t,renderWindowsIcon:a,disabled:e})})},hge=({disabled:e})=>{const t=$me("V"),a=Qme("Ctrl+Alt+V"),n=dU(Mu().state),s=Du((e=>!!e.projectSessionSettings.copiedModifications)),o=i.useMemo((()=>({onFinish:()=>{oge(),Hj(Object.fromEntries(n.map((e=>[e.id,{showTrackContextMenu:!1}]))))},disableBack:!0})),[n]),r=n.length<=1?"Paste Properties":`Paste Properties to ${n.length} Selected Layers`;return f.jsx(Hme,{step:zB.Studio_LayerContextMenu_PasteProperties,rainbowBorderOptions:mge,additionalOpenCondition:s,additionalButtonBehavior:o,children:f.jsx(ege,{title:r,onClick:oge,renderMacOSIcon:t,renderWindowsIcon:a,disabled:e})})},vge=({disabled:e})=>{const t=Jme("X"),a=Qme("Ctrl+X");return f.jsx(ege,{title:"Cut",onClick:ige,renderMacOSIcon:t,renderWindowsIcon:a,disabled:e})},fge=({disabled:e})=>{const t=Jme("V"),a=Qme("Ctrl+V");return f.jsx(ege,{title:"Paste",onClick:rge,renderMacOSIcon:t,renderWindowsIcon:a,disabled:e})},bge=({disabled:e})=>{const t=rY(),{enabled:a}=Du((e=>({enabled:A$(e,t).length})),Ou),n=Jme("S",void 0,[]),s=Qme("S");return f.jsx(ege,{title:"Split",onClick:L$,renderMacOSIcon:n,renderWindowsIcon:s,disabled:e||!a})},yge=({disabled:e})=>{const t=Du((()=>(()=>{const{state:e}=Mu();return 0!==dU(e).length})())),a=Jme("H",void 0,[]),n=Qme("H");return f.jsx(ege,{title:j$()?"Show":"Hide",onClick:R$,renderMacOSIcon:a,renderWindowsIcon:n,disabled:e||!t})},wge=({disabled:e,location:t})=>{const a=i.useCallback((()=>{const e=mU();e&&setTimeout((()=>{ipe({entryPoint:"canvas"===t?"Canvas Context Menu":"Timeline Context Menu",layer:e})}),150)}),[t]);return f.jsx(ege,{title:"Replace",onClick:a,disabled:e})},_ge=()=>{const e=mU(),t=Du((t=>GX(t,{layer:e,layerIdToOmit:null==e?void 0:e.id})),Ou),a=Du((e=>!!e.projectSessionSettings.copiedModifications)),n=!t.length,s=i.useCallback((()=>{e&&sge({layer:e,omitSourceLayer:!1})}),[e]),o=i.useMemo((()=>({onNext:()=>{s()},disableBack:!0})),[s]);return f.jsx(Hme,{step:zB.Studio_LayerContextMenu_SelectRelatedLayers,rainbowBorderOptions:mge,additionalOpenCondition:a,additionalButtonBehavior:o,children:f.jsx(ege,{title:"Select Suggested Similar Layers",onClick:s,disabled:n})})},Cge=()=>{const e=Bu(),t=i.useCallback((async t=>{const a=mU();a&&(t&&t.preventDefault(),a.bRollId&&a.bRollParentAssetId&&(e(zU({newBrollDebugId:a.bRollId,newBrollDebugAssetId:a.bRollParentAssetId})),function(){const{dispatch:e}=Mu();e(HU({bRollDebugOpen:!0}))}()))}),[e]);return f.jsx(ege,{title:"Debug B-Roll",onClick:t})};function Sge({disabled:e}){const t=Du(rme);return f.jsx(ege,{title:"Freeze Frame",onClick:sme,disabled:e||!t})}const xge=({disabled:e})=>{const t=mU(),a=Du((e=>Q$(e,t))),n=Jme("]",Dpe.iconCharBracket),s=Qme("Ctrl+]"),o=t?yue.bind(null,"Context menu"):lme.bind(null,"Context menu");return f.jsx(ege,{title:"Bring Forward",onClick:o,renderMacOSIcon:n,renderWindowsIcon:s,disabled:e||!a})},Ige=({disabled:e})=>{const t=mU(),a=Du((e=>tQ(e,t))),n=Jme("[",Dpe.iconCharBracket),s=Qme("Ctrl+["),o=t?bue.bind(null,"Context menu"):dme.bind(null,"Context menu");return f.jsx(ege,{title:"Send Backward",onClick:o,renderMacOSIcon:n,renderWindowsIcon:s,disabled:e||!a})},Age=({disabled:e})=>{const t=mU(),a=Du((e=>Q$(e,t))),n=Jme("]",Dpe.iconCharBracket,[bt,ft]),s=Qme("Alt+Ctrl+]"),o=t?_ue.bind(null,"Context menu"):ume.bind(null,"Context menu");return f.jsx(ege,{title:"Bring to Front",onClick:o,renderMacOSIcon:n,renderWindowsIcon:s,disabled:e||!a})},kge=({disabled:e})=>{const t=mU(),a=Du((e=>tQ(e,t))),n=Jme("[",Dpe.iconCharBracket,[bt,ft]),s=Qme("Alt+Ctrl+["),o=t?wue.bind(null,"Context menu"):cme.bind(null,"Context menu");return f.jsx(ege,{title:"Send to Back",onClick:o,renderMacOSIcon:n,renderWindowsIcon:s,disabled:e||!a})},Tge=({disabled:e,selectedGroup:t})=>{const a=Du((e=>t.layers.map((t=>{const a=lJ(e,t.id);return(null==a?void 0:a.duration)??0}))),Ou),n=t&&!!t.saved&&t.layers.every((e=>e.saved&&!e.deselected));let s="Group Layers";n&&(s="Ungroup Layers");const o=i.useCallback((()=>{ov("Grouping layers",{source:"Context Menu",action:n?"Ungroup":"Group",numOfLayers:t.layers.length,layerDurations:a.join(" ")}),d1(!n)}),[a,n,t.layers.length]);return f.jsx(ege,{title:s,onClick:o,disabled:e})},Ege=({disabled:e})=>{const t=Du((e=>e.studio.selectedTimelineRows)),a=t.length>1,n=t[0],s=i.useCallback((()=>{n&&(e=>{const{dispatch:t}=Mu();t(AK.insertRow({row:e}))})(n)}),[n]);return f.jsx(ege,{title:"Add row above",onClick:s,disabled:e||a})},Lge=({disabled:e})=>{const t=Du((e=>Gx(e))),a=Du((e=>e.studio.selectedTimelineRows));let n=[];for(let i=0;i<a.length;i+=1){const e=a[i],s=Kme(e,t);n=[...n,...s]}const s=a.length>1?"Delete selected rows":"Delete row";let o=n.length?zme:Yme;return a.includes(-1)&&(o=Gme),f.jsx(ege,{title:s,onClick:o,disabled:e})},jge=({disabled:e})=>{const t=Bu(),{rows:a,layers:n}=Du((e=>({rows:e.studio.selectedTimelineRows,layers:Gx(e)})),Ou),s=i.useCallback((()=>{let e=[];ov("Selected Entire Row",{source:"Context Menu"}),a.forEach((t=>{const a=n.filter((e=>(e.timelineRow??0)===t)).map((e=>e.id));e=[...e,...a]}));if(a.includes(-1)&&0===e.length)return void lue();t(ck(null));const{groupId:s}=r1(e);s?t(ck({type:"group",id:s})):e[0]&&t(ck({type:"layer",id:e[0]}))}),[t,n,a]),o=a.length>1?"Select entire rows":"Select entire row";return f.jsx(wr,{asChild:!0,children:f.jsx(ege,{title:o,onClick:s,disabled:e})})},Rge=()=>{const e=P(),t=mU(),a=Du((e=>{if(!(null==t?void 0:t.asset_id))return;const a=e.assets.byId[t.asset_id];return a?sL(a):void 0})),n=Du((e=>{var t;return!!a&&!!(null==(t=e.vision.byAssetId[a])?void 0:t[ou.ObjectTrackingV2])})),s=i.useCallback((()=>{a&&e(`/admin/vision-jobs/asset/${a}`)}),[a,e]);return f.jsx(ege,{title:"Debug Speaker Focus",onClick:s,disabled:!n})};function Nge({children:e,RadixMenu:t}){const a=Bu(),n=t===_r,{onContextMenuOpen:s,onContextMenuClose:o}=Bpe();return f.jsxs(t.Root,{onOpenChange:e=>{e&&a({type:"ADD_CONTEXT_MENU_ANALYTICS"}),n&&(e?s():o())},children:[f.jsx(t.Trigger,{asChild:!0,children:e}),f.jsx(t.Portal,{children:f.jsxs(t.Content,{className:Dpe.contextMenuContainer,children:[f.jsx(t.Item,{onSelect:e=>e.preventDefault(),children:f.jsx(uge,{disabled:!0})}),f.jsx(t.Item,{children:f.jsx(fge,{})}),f.jsx(t.Item,{onSelect:e=>e.preventDefault(),children:f.jsx(lge,{disabled:!0})})]})})]})}function Mge({children:e}){return f.jsx(Nge,{RadixMenu:Cr,children:e})}function Pge({children:e}){return f.jsx(Nge,{RadixMenu:_r,children:e})}const Fge=()=>f.jsx("div",{className:Dpe.separator});function Dge({children:e,RadixMenu:t,layerId:a,groupId:n}){const s=t===_r,{onContextMenuOpen:o,onContextMenuClose:i}=Bpe(),l=Bu(),{selectedGroup:d,copiedModifications:c,selectedLayer:u,isSelected:p}=Du((e=>{const t=oU(e),s="layer"===(null==t?void 0:t.type)&&t.item.id===a,o="group"===(null==t?void 0:t.type)&&(t.id===n||t.item.selectedLayers.some((e=>e.id===a)));return{selectedGroup:o?t.item.group:null,copiedModifications:e.projectSessionSettings.copiedModifications,selectedLayer:pU(e),isSelected:s||o}}),r.shallowEqual);let m=!1;d&&(m=!!d.saved&&d.layers.every((e=>e.saved)));const g="video"===(null==u?void 0:u.type),h="text"===(null==u?void 0:u.type);return f.jsxs(t.Root,{onOpenChange:e=>{e&&l({type:"ADD_CONTEXT_MENU_ANALYTICS"}),s&&(e?o():i()),e&&!p&&(a?l(ck({type:"layer",id:a})):n&&l(ck({type:"group",id:n})))},children:[f.jsx(t.Trigger,{asChild:!0,children:e}),f.jsx(t.Portal,{children:f.jsxs(t.Content,{className:Dpe.contextMenuContainer,children:[f.jsx(t.Item,{children:f.jsx(uge,{})}),f.jsx(t.Item,{children:f.jsx(fge,{})}),!d&&f.jsxs(f.Fragment,{children:[f.jsx(t.Separator,{asChild:!0,children:f.jsx(Fge,{})}),f.jsx(t.Item,{children:f.jsx(wge,{location:"canvas"})})]}),h&&f.jsx(t.Item,{children:f.jsx(pge,{})}),g?f.jsxs(f.Fragment,{children:[f.jsx(t.Separator,{asChild:!0,children:f.jsx(Fge,{})}),f.jsx(t.Item,{children:f.jsx(gge,{})}),f.jsx(t.Item,{children:f.jsx(hge,{disabled:!c})}),f.jsx(t.Separator,{asChild:!0,children:f.jsx(Fge,{})})]}):null,u&&(v=u,oN.has(v.type))&&f.jsx(t.Item,{children:f.jsx(dge,{layer:u})}),f.jsx(t.Item,{children:f.jsx(lge,{})}),f.jsx(t.Item,{children:f.jsx(yge,{})}),d&&f.jsxs(f.Fragment,{children:[f.jsx(t.Separator,{asChild:!0,children:f.jsx(Fge,{})}),f.jsx(t.Item,{children:f.jsx(gge,{disabled:!0})}),f.jsx(t.Item,{children:f.jsx(hge,{disabled:!c})}),f.jsx(t.Separator,{asChild:!0,children:f.jsx(Fge,{})}),f.jsx(t.Item,{children:f.jsx(Tge,{selectedGroup:d})})]}),(!d||m)&&u&&f.jsxs(f.Fragment,{children:[f.jsx(t.Separator,{asChild:!0,children:f.jsx(Fge,{})}),f.jsx(t.Item,{children:f.jsx(xge,{})}),f.jsx(t.Item,{children:f.jsx(Ige,{})}),f.jsx(t.Item,{children:f.jsx(Age,{})}),f.jsx(t.Item,{children:f.jsx(kge,{})})]})]})})]});var v}function Oge({children:e,...t}){return f.jsx(Dge,{RadixMenu:Cr,...t,children:e})}function Uge({children:e,...t}){return f.jsx(Dge,{RadixMenu:_r,...t,children:e})}let Bge=null;const Wge=e=>{const{dispatch:t}=Mu();e.preventDefault(),e.stopPropagation(),Bge===e.target&&(Bge=null,t(ej(!1)))},Vge=e=>{const{dispatch:t}=Mu();e.preventDefault(),e.stopPropagation(),Bge=null,t(ej(!1))},Hge=e=>{const{dispatch:t}=Mu();if(!Wg(e))return Bge=null,void t(ej(!1));e.preventDefault(),e.stopPropagation(),Bge=e.target,t(ej(!0))};class zge extends i.Component{constructor(e){super(e),a(this,"globalHandlersAdded",!1),a(this,"cleanupGlobalHandlers",(()=>{this.globalHandlersAdded&&(document.removeEventListener("pointermove",this.handlePointerMove),document.removeEventListener("pointerup",this.handlePointerUp),this.globalHandlersAdded=!1)})),a(this,"handlePointerDown",(e=>{const{x:t,y:a,width:n,height:s,handlePointerDownCallback:o}=this.props;null==o||o(e);const i=document.getElementById("canvas-container");if(!i)return;const r=i.getBoundingClientRect(),l={x:r.left+t+n/2,y:r.top+a+s/2};Oce(e)&&this.setState({rotating:!0,startVector:l})})),a(this,"handlePointerUp",(e=>{const{handleTransformFinish:t,handlePointerUpCallback:a}=this.props;null==a||a(e),Oce(e)&&(this.setState({rotating:!1}),t("rotate"))})),a(this,"handlePointerMove",(e=>{const{transformHandler:t}=this.props,{rotating:a,startVector:n}=this.state;if(!a)return;if(!e.isPrimary)return;const[s,o]=Dg(e);let i=(e0(n,{x:s,y:o})-90)%360;if(aJ()){const e=(r=i)-(l=45)*Math.floor(r/l);if(e>=41){i+=45-e}else e<=4&&(i-=e);(Math.abs(i)<1||Math.abs(i)>359)&&(i=0)}var r,l;const d={rotation:i,x:this.props.x,y:this.props.y,width:this.props.width,height:this.props.height};switch(t.type){case"background":break;case"movingZoom":t.handleTransform({currentPosition:d,transformerID:t.transformerID});break;case"default":t.handleTransform({currentPosition:d,transformSource:"rotate",transformInfo:{xDiff:0,yDiff:0,wDiff:0,hDiff:0,rotation:i}})}e.preventDefault()})),a(this,"getStyles",(()=>{const{x:e,y:t,width:a,height:n,rotation:s=0,zoom:o}=this.props,i=e+a/2,r=t+n/2,l=n/2+20,d=s*Math.PI/180;let c=i-l*Math.sin(d),u=r+l*Math.cos(d);return c-=10,u-=10,{transform:`scale(${100/o})`,width:20,height:20,top:u,left:c}})),this.state={rotating:!1,startVector:{x:0,y:0}}}componentDidUpdate(e,t){const{rotating:a}=this.state;a&&!t.rotating?(document.addEventListener("pointermove",this.handlePointerMove),document.addEventListener("pointerup",this.handlePointerUp),this.globalHandlersAdded=!0):!a&&t.rotating&&this.cleanupGlobalHandlers()}componentWillUnmount(){this.cleanupGlobalHandlers()}render(){return f.jsx("div",{style:this.getStyles(),"data-cy":"rotate-handler-node",className:[hpe.transformer,hpe.transformerNode,hpe.rotateNode,hpe.selectedTransformer].join(" "),onPointerDown:this.handlePointerDown,onPointerUp:this.handlePointerUp,children:f.jsx(wt,{className:hpe.rotateNodeIcon})})}}const Gge=r.connect((e=>({zoom:e.studioSizing.zoom})))(zge);class Yge extends i.Component{constructor(e){super(e),a(this,"presenceRef"),a(this,"transformerContainerRef"),a(this,"handlePointerDownCallback",(e=>{const{layer:t}=this.props;"text"===(null==t?void 0:t.type)&&Vj(t.id,{beingTransformed:!0}),this.props.handlePointerDownCallback&&this.props.handlePointerDownCallback(e)})),a(this,"handlePointerUpCallback",(e=>{const{layer:t}=this.props;"text"===(null==t?void 0:t.type)&&Vj(t.id,{beingTransformed:!1}),this.props.handlePointerUpCallback&&this.props.handlePointerUpCallback(e)})),a(this,"handlePointerDown",((e,{nodePosition:t})=>{const{x:a,y:n,width:s,height:o,handleExitEditorClick:i,canvasX:r,canvasY:l,isBeingInlineCropped:d}=this.props;this.props.handlePointerDownCallback&&this.props.handlePointerDownCallback(e),e.stopPropagation();const[c,u]=Dg(e);Oce(e)&&(this.setIsResizing(!0),this.setState({resizing:!d,mouseStartX:c,mouseStartY:u,layerStartX:null!=a?a:r,layerStartY:null!=n?n:l,layerStartWidth:s,layerStartHeight:o,...!d&&{activeNodePosition:t}}),this.props.setNodePosition&&this.props.setNodePosition(t)),i()})),a(this,"handlePointerUp",(e=>{const{handleTransformFinish:t,handlePointerUpCallback:a}=this.props;Oce(e)&&(this.setIsResizing(!1),this.setState({resizing:!1,mouseStartX:void 0,mouseStartY:void 0,layerStartX:void 0,layerStartY:void 0,layerStartWidth:void 0,layerStartHeight:void 0,activeNodePosition:void 0}),t("resize"),a&&a(e),this.props.setNodePosition&&this.props.setNodePosition(void 0))})),a(this,"handlePointerMove",(e=>{e.preventDefault();const{resizing:t}=this.state;e.isPrimary&&t&&this.handlePointerMoveForResizing(e)})),a(this,"handlePointerMoveForResizing",(e=>{const{transformHandler:t,layers:a,lockAspectRatio:n,isBackgroundTransformer:s,canvasWidth:o,canvasHeight:i,shiftIsBeingPressed:r,forMovingZoomControls:l,rotation:d=0,textTemp:c,layer:u,hasPositionAffectingKeyframes:p}=this.props,{mouseStartX:m,mouseStartY:g,layerStartX:h=0,layerStartY:v=0,layerStartWidth:f=0,layerStartHeight:b=0,activeNodePosition:y}=this.state;if(!y)return;if(!o||!i)return;let w=h,_=v,C=f,S=b;const x=h+f/2,I=v+b/2,[A,k]=Dg(e),T=A-(m||0),E=k-(g||0),L=Math.atan2(E,T),j=QQ(T,E),R=L-t0(d||0),N=j*Math.cos(R),M=j*Math.sin(R),P={width:f||0,height:b||0,centerX:x,centerY:I,rotateAngle:d||0},F=["middleLeft","middleRight"].includes(y);let D=0;s||F||!n&&!r&&"text"!==(null==u?void 0:u.type)||(D=(f||0)/(b||1));let O=15,U=15;if((null==u?void 0:u.lockAspectRatio)&&(null==u?void 0:u.position)){const e=parseFloat(u.position.width)/100*o,t=parseFloat(u.position.height)/100*i;e>t?O=e*U/t:U=t*O/e}if(s){const e=Bq(a),t=(e.right-e.left)/100*o,n=(e.bottom-e.top)/100*i;let s,r;switch(y){case"topLeft":s=o-e.right/100*o,r=i-e.bottom/100*i;break;case"topRight":s=e.left/100*o,r=i-e.bottom/100*i;break;case"bottomLeft":s=o-e.right/100*o,r=e.top/100*i;break;case"bottomRight":s=e.left/100*o,r=e.top/100*i;break;case"middleLeft":s=o-e.right/100*o,r=0;break;case"middleRight":s=e.left/100*o,r=0;break;default:s=0,r=0}t>O&&(O=t+s),n>U&&(U=n+r)}const B=i0(y,P,N,M,D,O,U);w=B.position.centerX-B.size.width/2,_=B.position.centerY-B.size.height/2,C=B.size.width,S=B.size.height;let W={x:w,y:_,width:C,height:S};if(p&&(W.x=x-C/2,W.y=I-S/2),s||l||!aJ()||(d||0)%90!=0||(W=jpe(W,d,y)),u&&sp(u)&&F){w=W.x,C=W.width,S=W.height;const e=c||u.text||"",t=z0(u.baseWidth,f),a=(u.fontSize||1)/t,n=(u.lineHeight||1)*a,{textWithLineBreaks:s,minWidth:o}=X0(u,C,e,a),i=s.split("\n").length*n;C=Math.max(o,C),S=Math.max(o,i);const{width:r}=this.props;if(C===r)return;Vj(u.id,{textTemp:s,fontSizingTemp:{fontSize:a,baseWidth:C,baseHeight:S}}),W={x:w,y:_,width:C,height:S}}switch(t.type){case"movingZoom":t.handleTransform({currentPosition:{...W,rotation:d},transformerID:t.transformerID});break;case"background":t.handleTransform({currentPosition:{...W,rotation:d}});break;case"default":t.handleTransform({currentPosition:{...W,rotation:d},transformSource:"resize",transformInfo:{xDiff:W.x-h,yDiff:W.y-v,wDiff:W.width-f,hDiff:W.height-b,rotation:0}})}const V=a.map((e=>e.id)),H={};V.forEach((e=>{H[e]={inlineCropAspectRatio:null}})),Hj(H)})),a(this,"getNodeSize",(()=>{const{nodeSize:e,width:t,height:a}=this.props;let n=16;try{(t<80||a<80)&&(n=12),(t<50||a<50)&&(n=9)}catch(b9e){console.error("No width and height found for layer")}let s=e??n,o=e??n;return w_()&&(s=22,o=22),{nodeWidth:s,nodeHeight:o}})),a(this,"getNodeStyles",(e=>{const{props:t}=this,{cornerBeingManipulated:a,x:n,y:s,width:o,height:i,layer:r,isBackgroundTransformer:l,isSelected:d,isBoxSelected:c,hasPositionAffectingKeyframes:u,zoom:p}=t,m=t.rotation||0;let{nodeWidth:g,nodeHeight:h}=this.getNodeSize();(g>o||h>i)&&(g/=2,h/=2);const v={width:g,height:h,display:"",zIndex:7,transform:`scale(${this.props.forMovingZoomControls?1:100/p})`};u&&(v.backgroundColor="white",v.borderColor="#0083E2"),(l||d||c||"ghost-track"===(null==r?void 0:r.id))&&!a||(v.display="none");let f,b,y=n,w=s;const _=m*Math.PI/180,C=n+o/2,S=s+i/2;switch(e){case"topLeft":return f=(n-C)*Math.cos(_)-(s-S)*Math.sin(_)+C,b=(n-C)*Math.sin(_)+(s-S)*Math.cos(_)+S,y=f-g/2,w=b-h/2,{top:w,left:y,...v};case"topRight":return y+=o,f=(y-C)*Math.cos(_)-(w-S)*Math.sin(_)+C,b=(y-C)*Math.sin(_)+(w-S)*Math.cos(_)+S,y=f-g/2,w=b-h/2,{top:w,left:y,...v};case"bottomLeft":return w+=i,f=(y-C)*Math.cos(_)-(w-S)*Math.sin(_)+C,b=(y-C)*Math.sin(_)+(w-S)*Math.cos(_)+S,y=f-g/2,w=b-h/2,{top:w,left:y,...v};case"bottomRight":return y+=o,w+=i,f=(y-C)*Math.cos(_)-(w-S)*Math.sin(_)+C,b=(y-C)*Math.sin(_)+(w-S)*Math.cos(_)+S,y=f-g/2,w=b-h/2,{top:w,left:y,...v};case"middleLeft":{if(w+=i/2,h=i-g,h<g&&(h=i),!w_()&&h>i){const e=g/h;h=i,g=i*e}f=(y-C)*Math.cos(_)-(w-S)*Math.sin(_)+C,b=(y-C)*Math.sin(_)+(w-S)*Math.cos(_)+S,y=f-g/2,w=b-h/2;let e=0;return w_()&&(e=g/4),{top:w,left:y-e,...v,height:h,width:g+e+e,transform:`rotate(${m}deg)`,backgroundColor:void 0}}case"middleRight":{if(y+=o,w+=i/2,h=i-g,h<g&&(h=i),!w_()&&h>i){const e=g/h;h=i,g=i*e}f=(y-C)*Math.cos(_)-(w-S)*Math.sin(_)+C,b=(y-C)*Math.sin(_)+(w-S)*Math.cos(_)+S,y=f-g/2,w=b-h/2;let e=0;return w_()&&(e=g/4),{top:w,left:y-e,...v,height:h,width:g+e+e,transform:`rotate(${m}deg)`,backgroundColor:void 0}}default:return v}})),a(this,"getNodeClassNames",(e=>{const{isSelected:t,isBackgroundTransformer:a,width:n,height:s,layer:o}=this.props,{activeNodePosition:i}=this.state,{nodeWidth:r,nodeHeight:l}=this.getNodeSize();let d=`${hpe.transformerNode} `;switch(e){case"topLeft":d+=hpe.transformerNodeTopLeft;break;case"topRight":d+=hpe.transformerNodeTopRight;break;case"bottomLeft":d+=hpe.transformerNodeBottomLeft;break;case"bottomRight":d+=hpe.transformerNodeBottomRight;break;case"middleLeft":d=`${hpe.middleTransformerNodeContainer} ${hpe.transformerNodeMiddleLeft}`;break;case"middleRight":d=`${hpe.middleTransformerNodeContainer} ${hpe.transformerNodeMiddleRight}`;break;default:throw new Error("Improper NodePosition supplied")}if((a||t)&&(d+=` ${hpe.selectedTransformer}`),o&&sp(o)){const t=2*r,a=2.5*l,o=n<t||s<a,c=s<t,u=!["topLeft","middleRight"].includes(e)&&o,p=i&&i===e;(i?!p:u)&&(d+=c||i&&!p?` ${hpe.hide}`:` ${hpe.transformerNodeHideUntilHover}`)}return d})),a(this,"getOverlayStyles",(e=>{const{canvasBackground:t}=this.props;let{x:a,y:n,canvasX:s,canvasY:o,canvasWidth:i,canvasHeight:r,width:l,height:d}=this.props;a=Math.floor(a),n=Math.floor(n),s=Math.floor(s),o=Math.floor(o),l=Math.ceil(l),d=Math.ceil(d),i=null==i?i:Math.ceil(i),r=null==r?r:Math.ceil(r);const{activeNodePosition:c}=this.state,u="#202020";let p,m=t.includes("#")?t:void 0;if(!c||!i||!r)return{};switch(e){case"top":if(n>o&&(m=u),!c.includes("top"))return{};p={left:a>s?s:a,top:n>o?o:n,width:l>i?l:i,height:Math.abs(d-r),background:m};break;case"left":if(a>s&&(m=u),!c.includes("Left"))return{};p={left:a>s?s:a,top:"topLeft"!==c&&n>o&&a>s?o:n,width:Math.abs(l-i),height:"topLeft"===c||r<d?d:r,background:m};break;case"bottom":if(d<r&&(m=u),!c.includes("bottom"))return{};p={left:a,top:r>d?d+o:r+o,height:Math.abs(d-r),width:"bottomLeft"===c||i<l?l:i,background:m};break;case"right":if(l<i&&(m=u),!c.includes("Right"))return{};p={left:i>l?l+s:i+s,top:n,width:Math.abs(l-i),height:d,background:m};break;default:throw new Error("Improper NodePosition supplied")}return{left:`${p.left}px`,top:`${p.top}px`,width:`${p.width}px`,height:`${p.height}px`,background:p.background}})),a(this,"getPresentUserStyles",(()=>{var e;const{x:t,y:a,width:n,height:s,rotation:o,presentUser:i}=this.props,r=t+n/2,l=a+s/2,d=s/2+20,c=o*Math.PI/180;let u=r+d*Math.sin(c);const p=l-d*Math.cos(c);u-=n/2;const m=null==(e=this.presenceRef.current)?void 0:e.getBoundingClientRect(),g=(null==m?void 0:m.height)&&(null==m?void 0:m.height)>25?m.height/2:0;return{color:null==i?void 0:i.color,margin:"auto",top:p-g,left:u,padding:"2px",width:n,transform:`rotate(${o}deg)`}})),a(this,"withContextMenu",(e=>{const{layer:t}=this.props;return t?f.jsx(Uge,{layerId:t.id,children:e}):f.jsx(Pge,{children:e})})),a(this,"renderTransformerNodes",(()=>{const{visibleNodes:e,hasPositionAffectingKeyframes:t}=this.props,{activeNodePosition:a}=this.state;return e.map((e=>{const n=["middleLeft","middleRight"].includes(e),s=this.getNodeStyles(e),o=a===e;return f.jsx("div",{className:this.getNodeClassNames(e),"data-cy":`${e}-transformer-node`,style:s,onPointerDown:t=>this.handlePointerDown(t,{nodePosition:e}),onPointerUp:this.handlePointerUp,children:n&&f.jsx("div",{className:o?hpe.middleTransformerNodeActive:hpe.middleTransformerNode,style:{backgroundColor:t?"white":void 0,borderColor:t?"#0083E2":void 0,width:Number(s.width)/(w_()?2.5:1.5),height:Math.min(Number(s.width)*(w_()?1:1.5),Number(s.height)),transform:`scale(${100/this.props.zoom})`}})},e)}))})),a(this,"renderDragHandler",(()=>{var e;const{isBoxSelected:t,isSelected:a,groupId:n}=this.props;return f.jsx(Mpe,{backgroundColor:this.props.backgroundColor,groupId:n,handleDoubleClick:this.props.handleDoubleClick,handleExitEditorClick:this.props.handleExitEditorClick,handlePointerDownCallback:this.handlePointerDownCallback,handlePointerUpCallback:this.handlePointerUpCallback,transformHandler:this.props.transformHandler,handleTransformFinish:this.props.handleTransformFinish,height:this.props.height,isBackgroundTransformer:!!this.props.isBackgroundTransformer,isGhostTransformer:"ghost-track"===(null==(e=this.props.layer)?void 0:e.id),isSelected:a,isBoxSelected:t,layer:this.props.layer,rotation:this.props.rotation,solidOutline:this.props.solidOutline,transformerText:this.props.transformerText,viewOnly:this.props.viewOnly,width:this.props.width,x:this.props.x,y:this.props.y,zIndex:this.props.zIndex})})),this.state={resizing:!1},this.presenceRef=i.createRef(),this.transformerContainerRef=i.createRef()}componentDidUpdate(e,t){const{resizing:a}=this.state;a&&!t.resizing?(document.addEventListener("pointermove",this.handlePointerMove),document.addEventListener("pointerup",this.handlePointerUp)):!a&&t.resizing&&(document.removeEventListener("pointermove",this.handlePointerMove),document.removeEventListener("pointerup",this.handlePointerUp))}componentWillUnmount(){document.removeEventListener("pointermove",this.handlePointerMove),document.removeEventListener("pointerup",this.handlePointerUp),this.setIsResizing(!1)}setIsResizing(e){const{layer:t}=this.props;if(t){const a={beingTransformed:e};Vj(t.id,a)}}renderPresentUserSelection(){const{presentUser:e}=this.props;return e?f.jsx("div",{ref:this.presenceRef,className:hpe.presentUserTag,style:this.getPresentUserStyles(),children:e.name}):null}render(){const{canvasBackground:e,groupId:t,isBackgroundTransformer:a,isSelected:n,selectedItemIsALayer:s,layerIsDeselectedInGroup:o}=this.props;return this.props.forMovingZoomControls?f.jsxs(f.Fragment,{children:[this.renderTransformerNodes(),this.renderDragHandler()]}):!t||s||o?this.withContextMenu(f.jsxs("div",{onDragEnter:Hge,ref:this.transformerContainerRef,children:[a&&$Q.map((t=>f.jsx("div",{style:this.getOverlayStyles(t),className:hpe.transformerBackgroundOverlay+(e.includes("#")?"":` ${hpe.transformerBackgroundOverlayTransparent}`)},`transformerOverlay${t}`))),!a&&n&&!this.props.isBeingInlineCropped&&f.jsx(Gge,{transformHandler:this.props.transformHandler,handleTransformFinish:this.props.handleTransformFinish,handlePointerDownCallback:this.handlePointerDownCallback,handlePointerUpCallback:this.handlePointerUpCallback,height:this.props.height,width:this.props.width,x:this.props.x,y:this.props.y,rotation:this.props.rotation}),!this.props.isBeingInlineCropped&&this.renderDragHandler(),this.renderPresentUserSelection(),!this.props.isBeingInlineCropped&&this.renderTransformerNodes()]})):null}}const Kge=r.connect(((e,t)=>{var a,n,s,o,i,r,l,d,c;const u=t.layer?null==(a=Object.entries(e.studio.groups).find((([e,a])=>{var n;return a.layers.map((e=>e.id)).includes((null==(n=t.layer)?void 0:n.id)||"")})))?void 0:a[0]:null,p=u&&t.layer&&(null==(s=null==(n=e.studio.groups[u])?void 0:n.layers.find((e=>{var a;return e.id===(null==(a=t.layer)?void 0:a.id)})))?void 0:s.deselected),{textTemp:m,borderRadiusTemp:g,textPaddingTemp:h}=jR(e,(null==(o=t.layer)?void 0:o.id)||""),v=!(!g&&"number"!=typeof h),f=!u&&_Y((null==(i=t.layer)?void 0:i.id)||"",Cu.POSITION),b=!u&&_Y((null==(r=t.layer)?void 0:r.id)||"",Cu.ZOOM);return{canvasBackground:e.studio.background,canvasHeight:e.studio.height,canvasWidth:e.studio.width,canvasX:e.studioSizing.canvasX,canvasY:e.studioSizing.canvasY,groupId:u,layerIsDeselectedInGroup:p,groups:e.studio.groups,isMobile:e.isMobile,isBeingInlineCropped:(null==(d=jR(e,(null==(l=t.layer)?void 0:l.id)||""))?void 0:d.isBeingInlineCropped)||!1,layers:Gx(e),cornerBeingManipulated:v,selectedItem:oU(e),selectedItemIsALayer:!!pU(e),shiftIsBeingPressed:e.studioLocal.shiftIsBeingPressed,presentUser:dpe(e,null==(c=t.layer)?void 0:c.id),textTemp:m,hasPositionKeyframes:f,hasZoomKeyframes:b,hasPositionAffectingKeyframes:f||b,zoom:e.studioSizing.zoom}}),(e=>j({setStudioDragDropActive:ej,setIsInlineCropping:ZL},e))),Xge=Kge(Yge);class Zge extends i.Component{constructor(e){super(e),a(this,"updateLayerAnimationPosition",(e=>{c.isEqual(this.state.layerAnimationPosition,e)||this.setState({layerAnimationPosition:e||null})})),a(this,"rotateGroupedLayer",(()=>{const{layerAbsolutePosition:e}=this.state;if(!this.props.groupInfo||!e)return;const{groupInitialPosition:t,groupAbsolutePosition:a}=this.props.groupInfo,n=this.getAbsolutePositionFromLayer();if(!n)return;const{newX:s,newY:o,layerRotation:i}=l0(n,a,t);this.setLayerAbsolutePosition({...e,x:s,y:o,rotation:i})})),a(this,"resizeGroupedLayer",(()=>{const{layerAbsolutePosition:e}=this.state;if(!this.props.groupInfo||!e)return;const{groupInitialPosition:t,groupAbsolutePosition:a}=this.props.groupInfo,n=this.getAbsolutePositionFromLayer();if(!n)return;const s=r0({layerStartPos:n,groupCurrentPos:a,groupStartPos:t});this.setLayerAbsolutePosition({...e,...s})})),a(this,"getAbsolutePositionFromLayer",(()=>{const{layer:e,getLayerPositionAndSize:t=qR}=this.props,a=t(e);return a?("ellipse"===e.shapeType&&(a.x-=a.width/2,a.y-=a.height/2),a):null})),a(this,"setLayerAbsolutePosition",(e=>{this.setState({layerAbsolutePosition:e})})),a(this,"saveLayerPosition",PU.withUndoBatch((()=>{var e,t,a;const{layerAbsolutePosition:n}=this.state,{resizeLayer:s,resizeLineLayer:o,setRotation:i,layer:r,setScale:l,convertPositionToPercent:d=XR,convertSizeToPercent:c=GR,keyframeChannels:u,studioTime:p,canvasWidth:m,canvasHeight:g}=this.props,h=RY({layer:r,keyframeChannels:u,studioTime:p,canvasWidth:m||0,canvasHeight:g||0});if(!n)return;let{xPercent:v,yPercent:f}=d(n.x,n.y);const{widthPercent:b,heightPercent:y}=c(n.width,n.height),w=r.position&&h.width!==b||r.position&&h.height!==y,_=r.position&&h.x!==v||r.position&&h.y!==f||w,C=((null==(e=r.position)?void 0:e.rotation)??0)!==(n.rotation??0);if("ellipse"===r.shapeType&&(v=`${parseFloat(v)+parseFloat(b)/2}%`,f=`${parseFloat(f)+parseFloat(y)/2}%`),op(r)&&"svg"===r.shapeType){l(r,n.width/r.position.svg_width,n.height/r.position.svg_height)}if(op(r)&&r.shapeType&&["line","arrow"].includes(r.shapeType)&&_)return o(r,v,f,b,y,n.linePointStartCorner,n.lineRightAngle,!0),void i(r.id,n.rotation);if(Vj(r.id,{positionTemp:null}),Oc(r)){const e=parseFloat(v),t=parseFloat(f),a=parseFloat(b),s=parseFloat(y),o=n.rotation??0;this.props.updateTetheredWaveform({assetId:r.asset_id,update:{position:{x:e,y:t,width:a,height:s,rotation:o}}})}else{if(_Y(r.id,Cu.ZOOM)){const{getLayerPositionAndSize:e=qR,canvasWidth:t=0,canvasHeight:a=0,canvasX:s,canvasY:o}=this.props,i=e(r);if(!i)return;const l=n.x+n.width/2-s,d=n.y+n.height/2-o,c=l-i.width/2,u=d-i.height/2,p={...r.position,x:c/t*100+"%",y:u/a*100+"%"};uk({[r.id]:{position:p}},"LayerContainer.tsx",!0)}else{if(_||w||C){const e=parseFloat(v),a=parseFloat(f),s=parseFloat(b),o=parseFloat(y),i=n.rotation??0,{state:l}=Mu(),d=(l.studio.width??16)/(l.studio.height??9);uk({[r.id]:{speakerFocus:np(r)?{...r.speakerFocus??{},disabled:!0,cache:{aspectRatio:d,...null==(t=r.speakerFocus)?void 0:t.cache,position:{x:String(e),y:String(a),width:String(s),height:String(o),rotation:i},source:"custom crop"}}:void 0}},"LayerContainer.tsx",!0)}s(r.id,v,f,b,y,!!r.position&&!!_)}(null==(a=r.position)?void 0:a.rotation)!==n.rotation&&i(r.id,n.rotation,!0)}}))),a(this,"handleTransform",(({currentPosition:e,transformSource:t})=>{const{layerAnimationPosition:a}=this.state,{studioPaused:n,layer:s,canvasWidth:o,canvasHeight:i}=this.props,{layerAbsolutePosition:r}=this.state,l=kT(s);n&&a&&"vibrate"===(null==l?void 0:l.id)&&null!=e.x&&null!=e.y&&(e.x-=a.x,e.y-=a.y),r&&this.setLayerAbsolutePosition({...r,...e}),"ellipse"===s.shapeType&&e.x&&e.y&&(e.x+=(e.width||0)/2,e.y+=(e.height||0)/2);const d=nN({...s,position:eN(e)},o||0,i||0);Vj(s.id,{tempDisplayPosition:d}),this.setState({transformSource:t,transforming:!0})})),a(this,"handleTransformFinish",(()=>{const{showSnapLines:e,layer:t}=this.props;PU.execInUndoBatch((()=>{this.addApplicableKeyframes(),"text"!==t.type&&this.saveLayerPosition()})),Vj(t.id,{tempDisplayPosition:void 0}),e({}),this.setState({transformSource:void 0,transforming:!1})})),a(this,"handleEditorDoubleClick",(()=>{const{layer:e,viewOnly:t,isEditing:a}=this.props;t||a||(J0(e),GJ())})),a(this,"handleDoubleClick",(()=>{const{viewOnly:e,layer:t,isEditing:a,selectedItem:n,groupIDForLayer:s}=this.props;if("group"!==(null==n?void 0:n.type)||n.id!==s)return e||a||!sp(t)?void(t&&(np(t)||tp(t)||up(t))&&this.props.setIsInlineCropping(t.id,"Double Click")):(J0(t),void GJ());this.contextualSelectLayer(t)})),a(this,"handleExitEditorClick",(()=>{const{layer:e,viewOnly:t}=this.props,{layerAbsolutePosition:a}=this.state;!t&&a&&q0(e,e.text)})),a(this,"contextualSelectLayer",(e=>{const{selectItem:t,selectTab:a}=this.props;Oc(e)?t({type:"waveform",assetId:e.asset_id,id:e.id}):Bc(e)?t({type:"layer",id:e.id}):(up(e)&&a({tabId:rK.textToSpeech,tabContainerId:"media-sidebar"}),t({id:e.id,type:"layer"}))})),a(this,"handlePointerDown",(e=>{const{layer:t,selectedItem:a,groupIDForLayer:n}=this.props,s=a&&a.id===t.id;(e.shiftKey||e.metaKey)&&t?this.props.addOrRemoveLayerFromSelection({layerId:t.id,undoable:!0}):s||(n?this.props.selectItem({type:"group",id:n}):this.contextualSelectLayer(t))})),a(this,"setNodePosition",(e=>{this.setState({nodePosition:e})})),a(this,"addApplicableKeyframes",(()=>{const{layer:e,convertPositionToPercent:t=XR}=this.props,{layerAbsolutePosition:a}=this.state;if(!e.position||!a)return;const n=_Y(e.id,Cu.ZOOM);if("resize"===this.state.transformSource&&n){const t=e.zoom||100,{width:n}=VR(e.position.width,e.position.height),s=a.width*t/n;xY({...e,zoom:s})}if("drag"===this.state.transformSource&&_Y(e.id,Cu.POSITION)){"ellipse"===e.shapeType&&(a.x+=a.width/2,a.y+=a.height/2);let s=a.x,o=a.y;if(n){const t=a.x+a.width/2,n=a.y+a.height/2,{width:i,height:r}=VR(e.position.width,e.position.height);s=t-i/2,o=n-r/2}const{xPercent:i,yPercent:r}=t(s,o);SY({...e,position:{...e.position,x:i,y:r}})}})),a(this,"getKeyframedAbsolutePosition",(e=>{const{layer:t,getLayerPositionAndSize:a=qR,groupInfo:n,keyframeChannels:s,studioTime:o,canvasWidth:i,canvasHeight:r}=this.props,{transforming:l}=this.state;let d={...e};if(!l&&CY(t.id)){const e=RY({layer:t,keyframeChannels:s,studioTime:o,canvasWidth:i||0,canvasHeight:r||0}),l=a({...t,position:e});if(l&&"ellipse"===t.shapeType&&(l.x-=l.width/2,l.y-=l.height/2),d={...d,...l},n&&n.groupResizing){const{groupInitialPosition:e,groupAbsolutePosition:t}=n,a=t.width/e.width,s=d.x-e.x,o=d.y-e.y;d.x=t.x+s*a,d.y=t.y+o*a,d.width*=a,d.height*=a}}return d})),a(this,"isLineLayer",(()=>{var e;const{layer:t}=this.props;return t.shapeType&&["line","arrow"].includes(t.shapeType)&&0===(null==(e=t.position)?void 0:e.rotation)})()),a(this,"transformHandler",(()=>this.isLineLayer?{type:"line",handleTransform:this.handleTransform}:{type:"default",handleTransform:this.handleTransform})()),a(this,"renderLayer",(e=>{const{layer:t}=this.props,{id:a}=t,n=e.layer.type;if("ghost-track"===a)return f.jsx(hle,{...e},`layer-${a}`);switch((n||"").toLowerCase()){case"persona":{const t=e.layer,n=jp(t),s=Np(t);return f.jsxs(b.Fragment,{children:[this.renderLayer({...e,layer:n}),this.renderLayer({...e,layer:s})]},`layer-${a}`)}case"text":{const t={};return e.layer.isMagicSubtitle&&(t.magicAssetId=e.layer.assetId,t.staticPreview=!0),f.jsx(b.Fragment,{children:f.jsx(coe,{...e,...t,nodePosition:this.state.nodePosition})},`layer-${a}`)}case"video":case"audio":{const n=(({layer:e,width:t,height:a,x:n,y:s,rotation:o,isBeingInlineCropped:i,borderRadiusTemp:r})=>{if("audio"===e.type&&!e.isAudiogram&&!e.requireConversion)return{opacity:0};const l=Aie(r??null,e,t,a);let d={x:"",y:""};e.position&&e.position.flip&&(d={x:e.position.flip.x?" scaleX(-1)":"",y:e.position.flip.y?" scaleY(-1)":""});let c=o;return 0!==l&&o%90==0&&0!==o&&(c+=1e-5),{position:"absolute",left:n,top:s,width:t,height:a,overflow:i?"visible":"hidden",zIndex:i?4:"auto",transform:`rotate(${c}deg) ${d.x}${d.y}`,opacity:1,borderRadius:`${l}px`}})({layer:e.layer,width:e.width,height:e.height,x:e.x,y:e.y,rotation:e.rotation,isBeingInlineCropped:this.props.isBeingInlineCropped,borderRadiusTemp:this.props.borderRadiusTemp??null}),s="audio"===e.layer.type?{}:gle(e,this.props.borderRadiusTemp??null);return f.jsxs("div",{children:[f.jsx("div",{"data-cy":`video-layer-container-${n.opacity}`,className:eoe.videoContainer,style:n,"data-testid":`video-layer-container-${a}`,children:(()=>{if(Oc(t))return f.jsx(Cce,{layer:t,width:e.width,height:e.height});const n={...e,width:e.width,height:e.height};return Uc(t)?f.jsx(Hle,{width:n.width,height:n.height,videoWidth:n.layer.width,videoHeight:n.layer.height,layer:e.layer,keyframeChannels:this.props.keyframeChannels}):e.staticPreview||!KT(e.layer)?f.jsx(Nce,{...n},`layer-${a}`):f.jsx(wle,{width:n.width,height:n.height,videoWidth:n.layer.width,videoHeight:n.layer.height,layer:e.layer,keyframeChannels:this.props.keyframeChannels})})()}),f.jsx("div",{style:s,className:eoe.outline,onPointerDown:()=>{this.props.selectItem(null)}})]})}case"image":{const t={...e};return t.waitingForSeekToResolve=this.props.waitingForSeekToResolve,t.defaultImageUrl=this.props.defaultImageUrl,f.jsx(Ule,{...t},`layer-${a}`)}case"shape":return f.jsx(rde,{...e,layer:e.layer},`layer-${a}`);case"placeholder":return f.jsx(Xle,{...e},`layer-${a}`);default:return null}})),a(this,"renderTransformer",((e,t)=>{const{eyedropperMode:a,isShownAtStudioTime:n,trackIsDragging:s,layer:o,viewOnly:i,selectedItem:r,boxSelectedIds:l}=this.props,{layerAbsolutePosition:d}=this.state;if(!d)return;const c=`layer-${o.id}-transformer`;if("ghost-track"!==o.id){if("audio"===o.type&&!o.isAudiogram&&!Oc(o))return null;if(i||a)return null;if(!lR())return null}if(this.isLineLayer&&"line"===this.transformHandler.type)return f.jsx(Fpe,{canvasHeight:this.props.canvasHeight,handleExitEditorClick:this.handleExitEditorClick,transformHandler:this.transformHandler,handleTransformFinish:this.handleTransformFinish,height:d.height,width:d.width,x:e,y:t,rotation:d.rotation,isBackgroundTransformer:!1,layer:this.props.layer,viewOnly:this.props.viewOnly,handlePointerDownCallback:this.handlePointerDown},c);const u="ghost-track"===o.id,p=(n||u)&&!s;let m=o.id===(null==r?void 0:r.id);"waveform"===(null==r?void 0:r.type)&&Oc(o)&&(m=r.item.asset_id===o.asset_id);const g=!!l[o.id],h=this.getKeyframedAbsolutePosition(d),v=sp(o)?JQ:ZQ;return f.jsx("div",{onPointerDown:()=>{this.props.setSelectedEditorPane("canvas")},children:p&&"line"!==this.transformHandler.type&&f.jsx(Xge,{handleDoubleClick:this.handleDoubleClick,handleExitEditorClick:this.handleExitEditorClick,setNodePosition:this.setNodePosition,transformHandler:this.transformHandler,handleTransformFinish:this.handleTransformFinish,isSelected:m,isBoxSelected:g,width:h.width,height:h.height,x:e,y:t,rotation:h.rotation,isBackgroundTransformer:!1,layer:this.props.layer,viewOnly:this.props.viewOnly,handlePointerDownCallback:this.handlePointerDown,lockAspectRatio:o.lockAspectRatio,visibleNodes:v},c)})}));const t=this.getAbsolutePositionFromLayer();this.state={layerAbsolutePosition:t,layerAnimationPosition:null,studioTimeState:e.studioTime,transformSource:void 0,transforming:!1}}static getDerivedStateFromProps(e,t){const{studioTime:a}=e,{studioTimeState:n}=t;return n===a?null:{studioTimeState:a}}shouldComponentUpdate(e,t){const a={...e},n={...this.props};delete a.studioTime,delete n.studioTime;return!c.isEqual(a,n)||!c.isEqual(t,this.state)}componentDidUpdate(e){const{canvasWidth:t,canvasHeight:a,containerWidth:n,containerHeight:s,groupInfo:o,layer:i,viewOnly:r}=this.props;let l=!1;if((!r&&e.canvasWidth!==t||e.canvasHeight!==a||e.containerWidth!==n||e.containerHeight!==s)&&("shape"===i.type&&"progressBar"===i.shapeType&&i.position&&(i.position.width="100%"),this.setLayerAbsolutePosition(this.getAbsolutePositionFromLayer()),l=!0),o&&e.groupInfo){const{groupResizing:t,groupAbsolutePosition:a,groupRotating:n}=o;t&&e.groupInfo.groupAbsolutePosition&&e.groupInfo.groupAbsolutePosition.width!==a.width&&(this.resizeGroupedLayer(),l=!0),n&&e.groupInfo.groupAbsolutePosition&&e.groupInfo.groupAbsolutePosition.rotation!==a.rotation&&(this.rotateGroupedLayer(),l=!0)}!l&&this.shouldUpdateAbsolutePosition(e)&&"ghost-track"!==i.id&&this.setLayerAbsolutePosition(this.getAbsolutePositionFromLayer())}shouldUpdateAbsolutePosition(e){const{canvasWidth:t,canvasHeight:a,layer:n,viewOnly:s,refreshKey:o,positionTemp:i}=this.props,{layerAbsolutePosition:r}=this.state;return!r||(!!((s&&e.canvasWidth!==t||e.canvasHeight!==a)&&a&&t)||(!c.isEqual(e.positionTemp,i)||(!c.isEqual(e.layer.position,n.position)||o!==e.refreshKey)))}getPreviewUrl(e){switch(e.type){case $S.CML_FILE:return e.thumbnailUrl;case $S.SIDEBAR_IMAGE:return e.image.url;case $S.SIDEBAR_VIDEO:return e.video.thumbnailUrl;default:return""}}render(){const{layer:e,viewOnly:t,canvasHeight:a,canvasWidth:n,isCanvasPreview:s,isOverCurrent:o,item:i,staticPreview:r,onVideoLoad:l,groupInfo:d,refreshKey:c,studioTime:u}=this.props,{layerAbsolutePosition:p,layerAnimationPosition:m}=this.state;if(!p)return null;const g=this.getKeyframedAbsolutePosition(p),h={layer:e,transformHandler:this.transformHandler,handleTransformFinish:this.handleTransformFinish,...g,refreshKey:c,viewOnly:t,staticPreview:r,handleEditorDoubleClick:this.handleEditorDoubleClick,handleExitEditorClick:this.handleExitEditorClick,canvasHeight:a,canvasWidth:n,onVideoLoad:l,updateLayerAnimationPosition:this.updateLayerAnimationPosition,isCanvasPreview:s,studioTime:u,studioAnimations:this.props.studioAnimations};if(!e)return null;d&&(h.x+=d.groupXDiff,h.y+=d.groupYDiff);const v=TT(e);let b=h.x,y=h.y;if(m&&v.some((e=>e.layerInvolvesMovement)))h.x+=m.x||0,h.y+=m.y||0,b=h.x,y=h.y;else if((tp(e)||np(e))&&v.some((e=>e.id===Mc.PopInBounce))){const t=Jse(e),{scale:a}=t;if("number"==typeof a&&a){const e=h.width,t=h.height;h.width=e*a,h.height=t*a,h.x-=(h.width-e)/2,h.y-=(h.height-t)/2}}o&&(h.previewUrl=this.getPreviewUrl(i));const w=r||"ghost-track"===e.id?"none":void 0;return this.props.connectDropTarget(f.jsxs("div",{style:{pointerEvents:w},children:[this.renderTransformer(b,y),this.renderLayer(h)]}))}}const qge={drop:(e,t)=>{const a=t.getItem(),{layer:n,selectItem:s}=e,o=hg(Fd.BRANDKIT);if(n.type===Nc.Placeholder){switch(s({id:n.id,type:n.type}),a.type){case $S.UPLOADING_LAYER:bJ({newLayer:a.layer,replacedLayer:n,addLayerOptions:{knownTimelineRow:!0,undoable:!0},mediaSource:"Media Library",entryPoint:"Drag and Drop"});break;case $S.SIDEBAR_IMAGE:lle({dndAsset:a.image,idOfLayerToReplace:n.id});break;case $S.SIDEBAR_VIDEO:lle({dndAsset:a.video,idOfLayerToReplace:n.id});break;case $S.TRANSITION_TILE:break;case $S.CML_FILE:lse((()=>{(async({asset:e,cmlFile:t,entryPoint:a,mediaSource:n,properties:s={}})=>{const{dispatch:o,state:i}=Mu(),{isAdding:r}=i.studioLocal;let l=e;if(r[l._id]||RJ(l._id,!0),(!e.url||ac(e.url)||null==e.preview||e.track_preview_asset_id&&null==e.track_preview)&&(l=await y2(e._id,"addFromMediaLib"),o(YE([l]))),!l.url)return RJ(l._id,!1),console.error(`Could not create layer for cml file ${t._id}: asset has no url`),null;const{state:{studio:{selectedItem:d}}}=Mu(),c=rJ((null==d?void 0:d.id)||"");if(!c)return null;try{const o=await Y9(l,{addedFromMediaLibrary:!0,asset_id:e._id,cmlFileId:t._id,usedProFeatures:e.usedProFeature?[e.usedProFeature]:[],...s});bJ({newLayer:o,replacedLayer:c,addLayerOptions:{knownTimelineRow:!0,undoable:!0},entryPoint:a,mediaSource:n}),o.asset_id&&Fm(o)&&c9({assetId:o.asset_id,source:"Media Library"})}catch(u){return cb({description:"Failed to replace layer",error:u}),null}})({cmlFile:a.cmlFile,asset:a.asset,entryPoint:"Drag and Drop",mediaSource:"Media Library"})}),{if:a.brandkitItem&&!o,action:Dd.BRANDKIT})();break;case $S.TEXT_PRESET:rle({textPreset:a.preset,layerProperties:{position:n.position}})}return n}const i={};return e.mIGhostLayerAbsolutePosition&&(i.position=eN(Rpe(e.mIGhostLayerAbsolutePosition,0,!1))),cle({item:a,layerUpdates:i,source:"LayerContainer.tsx"}),{}}},Jge=lY(r.connect(((e,t)=>{const{draggedTracksOverrides:a,trackIsDragging:n}=e.studioLocal;let s=!1;if(t.layer){const e=null==a?void 0:a.overrides[t.layer.id];if(e&&e.leftMost||t.layer.requireConversion)s=!0;else{const[e,a]=zC(t.layer);s=e<=t.studioTime&&t.studioTime<=a}}const o=Object.entries(e.studio.groups).find((e=>e[1].layers.some((e=>e.id===t.layer.id)))),i=o&&o[0],r=jR(e,t.layer.id),l=oU(e);return{boxSelectedIds:e.studioLocal.boxSelectedIds,containerHeight:e.studioSizing.containerHeight,containerWidth:e.studioSizing.containerWidth,eyedropperMode:e.studio.eyedropperMode,groupIDForLayer:i,groups:e.studio.groups,isBeingInlineCropped:!!(null==r?void 0:r.isBeingInlineCropped),isEditing:RR(e,t.layer.id),trackIsDragging:n,isShownAtStudioTime:s,positionTemp:null==r?void 0:r.positionTemp,borderRadiusTemp:null==r?void 0:r.borderRadiusTemp,mediaCache:e.mediaCache,ratio:e.studio.ratio,refreshKey:e.studio.refreshKey,selectedItem:oU(e),studioPaused:VJ(e),viewOnly:!e.userPermissions.canWrite||t.layer.locked&&t.layer.id!==(null==l?void 0:l.id)||t.viewOnly,mIGhostLayerAbsolutePosition:NR(e),keyframeChannels:Kse(e,t.layer.id)}}),(e=>j({setSelectedEditorPane:$L,resizeLayer:zA,showSnapLines:tk,setScale:YA,setRotation:KA,resizeLineLayer:GA,selectItem:ck,selectTab:m0,updateTetheredWaveform:pq.updateTetheredWaveform,setIsInlineCropping:ZL,addOrRemoveLayerFromSelection:nk},e)))(_t([$S.CML_FILE,$S.SIDEBAR_IMAGE,$S.SIDEBAR_VIDEO],qge,((e,t)=>({item:t.getItem(),connectDropTarget:e.dropTarget(),isOverCurrent:t.isOver({shallow:!0})})))(Zge))),$ge=b.memo((({background:e="transparent",canvasBlur:t,layers:a,ratio:n,isStatic:s=!1,useLayerUrls:o=s,onContainerSizeChange:r,onVideoLoad:l,positioning:d="relative",studioAnimations:c})=>{const u=rY(),{containerDimensions:p,containerRef:m}=use(),{width:g,height:h}=i.useMemo((()=>{if(!n.width||!n.height)return{width:0,height:0};if(!p)return{width:0,height:0};const{width:e,height:t}=p,a=n.width/n.height;return a>e/t?{width:e,height:e/a}:{width:t*a,height:t}}),[p,n]);i.useEffect((()=>{r&&r({width:g,height:h})}),[r,g,h]);const v=i.useMemo((()=>o?a:a.filter((e=>{if(e.isHidden)return!1;const[t,a]=zC(e);if(np(e)){return t-1<=u&&u<=a+1}return t<=u&&u<=a}))),[a,u,o]),b=i.useMemo((()=>a.reduce(((e,t)=>(e[t.id]=t,e)),{})),[a]),y=i.useMemo((()=>v.map((e=>()=>{const t=$R(e,{width:g,height:h,x:0,y:0});if(wY(e.id)){const t=Mu().state.studio.keyframing;if(t){const a=RY({layer:e,keyframeChannels:t[e.id],studioTime:u,canvasWidth:g,canvasHeight:h}),n=WR(a.x,a.y,{x:0,y:0,width:g,height:h}),s=VR(a.width,a.height,{width:g,height:h});return{x:n.x,y:n.y,width:s.width,height:s.height,rotation:a.rotation||0}}}return t}))),[h,u,v,g]),w=i.useMemo((()=>({width:g,height:h})),[g,h]),_=i.useMemo((()=>{if(!c||o)return[];const e=[];return Object.values(c.byId).forEach(((t,a)=>{if(!t.isCrossTransition)return;const{animationName:n,outroLayerId:s,introLayerId:o}=t;if(!oT(n))return;const i=b[s],r=b[o];i&&r&&(i.isHidden||r.isHidden||e.push(f.jsx(zie,{fromLayer:i,toLayer:r,glTransitionName:n,useZeroPositioning:!0,dimensions:w},`${n}-${a}`)))})),e}),[c,o,b,w]);return f.jsx("div",{className:L(Sie,{[xie]:"absolute"===d}),ref:m,"data-testid":"canvas-preview",children:!!g&&!!h&&f.jsxs("div",{className:Iie,style:{width:g,height:h,background:e},children:[t&&f.jsx(nle,{layers:a,canvasHeight:h,canvasWidth:g,canvasY:0}),v.map(((e,t)=>{const a=y[t];if(!a)return null;let n;return o&&e.url&&(n=e.url),f.jsx(Jge,{layer:e,viewOnly:!0,isCanvasPreview:!0,staticPreview:s,getLayerPositionAndSize:a,onVideoLoad:l,canvasHeight:h,canvasWidth:g,canvasX:0,canvasY:0,defaultImageUrl:n,studioAnimations:c},e.id)})),_]})})})),Qge="TemplateLayers-module_container_khy5H",ehe=[1,1],the=b.memo((function({template:e,width:t=100,height:a=100,onClick:n}){const s=i.useMemo((()=>({width:t,height:a})),[a,t]);i.useEffect((()=>{!async function(){const t=e.layers.filter((e=>e.type===Nc.Text));await Promise.all(t.map((async e=>{const t=j0(e,Mu().state);t&&await x0({fontToLoad:t})})))}()}),[e]);const o=i.useMemo((()=>({width:t,height:a})),[t,a]),[r,l]=e.ratio||ehe,d=GY({existingLayers:{},count:e.layers.length,tetheredWaveformsByAssetId:{}}),c=e.layers.map(((e,t)=>{const a=d[t];if(void 0===a)throw new Error("Depth is undefined");return{...e,depth:a}})),{resizeLayerUpdates:u}=oJ({aspectRatioWidth:s.width,aspectRatioHeight:s.height,layers:c,prevCanvasWidth:r,prevCanvasHeight:l,resizeMethod:"fit-to-center",shouldSmartReframe:!1,visionJobByAssetId:{},groups:{}}),p=c.map(((t,a)=>{var n,s;const o=null==(n=u[t.id])?void 0:n.position,i=null==(s=u[t.id])?void 0:s.crop;return{...t,id:`${e.templateId}-${a}`,position:o,crop:i}}));return f.jsx(joe,{className:Qge,style:o,onClick:n,children:f.jsx($ge,{isStatic:!0,layers:p,ratio:s,background:"transparent",canvasBlur:!1})})})),ahe="TemplatePreview-module_container_c6fGt",nhe="TemplatePreview-module_brandkit_6MkPp",she="TemplatePreview-module_more_hc7pq",ohe="TemplatePreview-module_brandkitIcon_s-xys",ihe=b.memo((function({template:e,width:t=100,height:a=100,viewOnly:n,onClick:s}){const o=!!e.teamId;return f.jsxs("div",{className:ahe,children:[f.jsx(the,{template:e,width:t,height:a,onClick:s}),!n&&f.jsx("div",{className:she,children:f.jsx(Cie,{template:e,isBrandkit:o})}),o&&f.jsx("div",{className:nhe,onClick:s,children:f.jsx(Hw,{message:"Added to your teams Brand Kit",wrapWithDiv:!0,children:f.jsx(st,{className:ohe})})})]})})),rhe="DragPreview-module_item_o-AhS",lhe=b.memo((()=>{const{isDragging:e,item:t,sourceClientOffset:a,clientOffset:n}=Ct((e=>({isDragging:e.isDragging(),item:e.getItem(),sourceClientOffset:e.getSourceClientOffset(),clientOffset:e.getClientOffset()}))),{inTrackpadOrCanvas:s}=Du((e=>({inTrackpadOrCanvas:!!e.studioLocal.mediaItemDropLocation})),Ou),o=Bu();if(i.useEffect((()=>{e||o(nj(null))}),[e,o]),!t||!e||s)return null;return f.jsx("div",{style:(()=>{if(!a)return{display:"none"};const e={left:a.x,top:a.y,width:120,height:100};switch(t.type){case $S.CML_FILE:t.thumbnailUrl&&(e.backgroundImage=`url(${t.thumbnailUrl})`);break;case $S.UPLOADING_LAYER:break;case $S.TRANSITION_TILE:n&&(e.left=n.x-60,e.top=n.y-50,e.width=60,e.height=50,e.backgroundImage=t.isCrossTransition?"url(https://cdn-useast1.kapwing.com/static/Fyi-crossTransitionIcon.png)":"url(https://cdn-useast1.kapwing.com/static/hjX-singleVideoTransitionIcon.png)");break;case $S.SIDEBAR_IMAGE:{const{url:a,imageRef:n}=t.image,s=null==n?void 0:n.current;if(a&&(e.backgroundImage=`url(${a})`),s){const t=s.getBoundingClientRect();e.width=t.width,e.height=t.height}break}case $S.SIDEBAR_VIDEO:{const{thumbnailUrl:a,videoRef:n}=t.video,s=null==n?void 0:n.current;if(a&&(e.backgroundImage=`url(${a})`),s){const t=s.getBoundingClientRect();e.width=t.width,e.height=t.height}break}case $S.MAGIC_SUBTITLE_PRESET:e.width=106,e.height=133,e.background="transparent",e.overflow="hidden";break;case $S.TEXT_PRESET:case $S.TEXT_TEMPLATE:e.width=106,e.height=106,e.background="transparent",e.overflow="hidden"}return e})(),className:rhe,children:(()=>{switch(t.type){case $S.MAGIC_SUBTITLE_PRESET:return f.jsx("div",{style:{backgroundColor:"#101010"},children:f.jsx(foe,{preset:t.preset,viewOnly:!0})});case $S.TEXT_PRESET:return f.jsx("div",{style:{backgroundColor:"#101010"},children:f.jsx(Moe,{preset:t.preset,viewOnly:!0})});case $S.TEXT_TEMPLATE:return f.jsx("div",{style:{backgroundColor:"#101010"},children:f.jsx(ihe,{template:t.template,viewOnly:!0})});default:return null}})()})})),dhe=["pages_manage_posts","publish_video","pages_read_engagement","pages_manage_metadata","pages_show_list"],che=()=>Mu().state.facebook.token,uhe=e=>{(0,Mu().dispatch)(ete.setToken(e)),Ev.set("facebookToken",e)},phe=async e=>{const t=await e();return uhe(t),t},mhe=async(e,t)=>{const a=t instanceof Array?t:[t];return c.isObject(e)&&Date.now()<e.expires&&a.every((t=>e.scopes.includes(t)))},ghe=async(e=dhe)=>{const t=Mu().dispatch;try{await(async()=>{const e=Mu().state.config.FACEBOOK_APP_ID;return new Promise(((t,a)=>{if("undefined"!=typeof FB)try{FB.init({appId:e,cookie:!0,xfbml:!0,version:"v22.0"}),t()}catch(n){a(new Error(`Failed to initialize Facebook SDK: ${n}`))}else a(new Error("Facebook SDK not loaded"))}))})();const t=(e instanceof Array?e:[e]).join(",");return await new Promise(((e,a)=>{FB.login((n=>{if("connected"===n.status&&n.authResponse){const a={accessToken:n.authResponse.accessToken,expiresIn:n.authResponse.expiresIn,expires:Date.now()+1e3*n.authResponse.expiresIn,scopes:t.split(",")};uhe(a),e(a)}else a(new Error("Facebook login failed"))}),{scope:t,return_scopes:!0})}))}catch(a){throw console.error("Facebook login error:",a),t(db({description:"Could not connect to Facebook. Please try again later.",type:"error"})),a}},hhe=async(e,t=!1)=>{const a=Mu().dispatch;try{await bhe((async e=>{const{user_id:t,user_name:n,user_avatar_url:s}=await Kf("/api/v1/facebook/getUserInfo",{params:{accessToken:e.accessToken}}),o={id:t,name:n,accessToken:e.accessToken,picture:s};a(ete.setAccount(o));const i=await(async e=>(await Kf("/api/v1/facebook/getPages",{params:{accessToken:e}})).pages)(e.accessToken);return a(ete.setPages(i)),o}),dhe,e)}catch(n){throw a(ete.setAccount(void 0)),a(ete.setPages([])),!t&&n instanceof Hf&&cb({description:"Connection failed. You need a valid Facebook account with access to Pages.",error:n,sendToSentry:!0}),n}},vhe=async(e=dhe,t)=>{if(await mhe(t,e))return t;const a=await(async e=>{const{access_token:t,expires_in:a,expires:n,scopes:s}=await Xf("/api/v1/facebook/refreshToken",{body:{accessToken:e}}),o={accessToken:t,expiresIn:a,expires:n,scopes:s.split(",")};return(0,Mu().dispatch)(ete.setToken(o)),o})(t.accessToken);if(await mhe(a,e))return a;throw new Error("Failed to renew token: "+t.accessToken)},fhe=async()=>{const e=Mu().dispatch,t=che();(0,Mu().dispatch)(ete.setToken(void 0)),Ev.remove("facebookToken"),e(ete.setAccount(void 0)),e(ete.setPages([])),t&&await(async e=>{const{accessToken:t}=e;await Xf("/api/v1/facebook/revokeToken",{body:{accessToken:t}})})(t)},bhe=async(e,t=dhe,a)=>{const n=await phe((async()=>(async(e,t)=>{if(t)try{return await vhe(e,t)}catch{}return await ghe(e)})(t,a||che())));return e(n)},yhe=b.memo((()=>{const e=Bu(),t=Du((e=>e.facebook.exportId));i.useEffect((function(){e(ete.resetToDefaultOptions())}),[t,e]);const a=i.useRef(!1);return i.useEffect((()=>{(async()=>{if(a.current)return;a.current=!0;const e=Ev.get("facebookToken",{disabled:null});if(e)try{const t=await phe((async()=>vhe(dhe,e)));await hhe(t,!0)}catch(t){console.info("Stored token failed to connect to a Facebook account. Signing out."),fhe()}})()}),[e]),null})),whe=b.memo((()=>{const e=Bu(),t=Du(cB);return i.useEffect((()=>{t&&(async()=>{try{const t=(await Kf("/api/v2/flags",{retries:3})).reduce(((e,t)=>(e[t.name]=t,e)),{});e(uB.setFlags(t))}catch(b9e){console.error(b9e),e(uB.setErrorMessage((null==b9e?void 0:b9e.message)||"An error has occured"))}})()}),[e,t]),null})),_he=["/","/404-illustrations","/about","/ai-video-generator","/animated-text-video-maker","/careers","/cartoonify","/contact-us","/creators-fund","/demo","/how-much-twitch-streamers-make","/logo-redesigns","/meme-maker","/museum-of-websites","/netflix-wrapped","/new-tab-stretches","/partnerships","/plugins","/policies/privacy","/policies/refund","/policies/terms-of-service","/pricing","/sidedoor","/sonoma-county-fire-map","/sound-effects","/startup-demo-videos","/tools"],Che="Switch-module_switch_bCPJO",She="Switch-module_vertical_g0kqF",xhe="Switch-module_slider_kU44C",Ihe="Switch-module_sliderVertical_zsef-",Ahe="Switch-module_icon_t0lpw",khe="Switch-module_disabledOption_98BmV",The=b.memo((({toggled:e=!1,onChange:t=(()=>null),disabled:a=!1,vertical:n=!1,IconComponent:s=null,iconColor:o="black",backgroundColor:r,sliderColor:l="#101010",...d})=>{const[c,u]=i.useState(e);i.useEffect((()=>{u(e)}),[e]);const p=i.useMemo((()=>{const e={marginLeft:3,marginTop:4};return c||(n?e.marginTop=24:e.marginLeft=24),e}),[c,n]);return f.jsxs("label",{...d,className:`\n        ${Che} \n        ${a?khe:""}\n        ${n?She:""}    \n      `,children:[f.jsx("input",{type:"checkbox",checked:c,onChange:e=>{u(e.target.checked),t&&t(!!e.target.checked)},disabled:a}),f.jsx("span",{className:n?Ihe:xhe,style:{backgroundColor:r,"--sliderColor":l}}),!!s&&f.jsx(s,{className:Ahe,style:p,color:o,size:12})]})}));function Ehe(){return Du((e=>void 0!==e.currentUser.user.darkModePreference&&e.currentUser.user.darkModePreference))}const Lhe=b.createContext({darkMode:!1,toggleDarkMode:()=>null}),jhe=b.memo((({children:e})=>{const t=F(),a=Du((e=>e.currentUser.user._id)),n=Ehe();i.useEffect((()=>{var e;const a=n&&!(e=>{const t=[..._he.filter((e=>!["/"].includes(e))),"/explore","/studio","/templates","/admin","/videos","/repurpose"];for(const a of t)if(e.includes(a))return!0;return!1})(t.pathname);null==(e=document.querySelector("body"))||e.setAttribute("data-theme",a?"dark":"light")}),[n,t.pathname]);const s=i.useCallback((()=>{!function(e){const{state:t,dispatch:a}=Mu(),{user:n}=t.currentUser||{};a(NP({...n,darkModePreference:e})),n._id&&Xf("/api/v1/users/updateProfile/darkModePreference",{body:{darkModePreference:e},parseJSON:!1}).catch((e=>console.error(e)))}(!n),((e,t)=>{amplitude.setUserId(e),sv({toggledDarkMode:t})})(a,!n)}),[a,n]),o=i.useMemo((()=>({darkMode:n,toggleDarkMode:s})),[n,s]);return f.jsx(Lhe.Provider,{value:o,children:e})})),Rhe=b.memo((({vertical:e,darkColorsOnly:t})=>{const{darkMode:a,toggleDarkMode:n}=b.useContext(Lhe);return f.jsx(The,{"data-cy":"theme-switch",toggled:a,onChange:n,vertical:e,IconComponent:a?St:xt,iconColor:a?"#ebf6ff":"#ffe899",backgroundColor:a||t?"#606060":"#e0e0e0",sliderColor:a||t?"#101010":"white"})})),Nhe=["video.publish"],Mhe=()=>Mu().state.tiktok.token,Phe=e=>{(0,Mu().dispatch)(Kte.setToken(e)),Ev.set("tiktokToken",e)},Fhe=async e=>{const t=await e();return Phe(t),t},Dhe=async(e,t)=>{const a=t instanceof Array?t:[t];return c.isObject(e)&&Date.now()<e.expires&&a.every((t=>e.scopes.includes(t)))},Ohe=async(e,t=!1)=>{const a=Mu().dispatch;try{await Vhe((async e=>{const{creator_username:t,creator_avatar_url:n,privacy_level_options:s,comment_disabled:o,duet_disabled:i,stitch_disabled:r,max_video_post_duration_sec:l}=await Kf("/api/v1/tiktok/getTiktokChannel",{params:{accessToken:e.accessToken}}),d={username:t,avatarUrl:n,privacyOptions:s,commentDisabled:o,duetDisabled:i,stitchDisabled:r,maxVideoDuration:l};return a(Kte.setChannel(d)),d}),Nhe,e)}catch(n){throw a(Kte.setChannel(void 0)),!t&&n instanceof Hf&&cb({description:"Connection failed. You need a valid TikTok channel.",error:n,sendToSentry:!0}),n}},Uhe=async(e=Nhe,t)=>{if(await Dhe(t,e))return t;const a=await(async e=>{const{access_token:t,refresh_token:a,expires_in:n,scope:s}=await Xf("/api/v1/tiktok/refreshToken",{body:{refreshToken:e}}),o={accessToken:t,refreshToken:a,expires:Date.now()+1e3*n,scopes:s.split(",")};return(0,Mu().dispatch)(Kte.setToken(o)),o})(t.refreshToken);if(await Dhe(a,e))return a;throw new Error("Failed to renew token: "+t.accessToken)},Bhe=async(e,t)=>{if(t)try{return await Uhe(e,t)}catch{}const a=await(async(e=Nhe)=>{const t=Mu().dispatch,a=window.open(void 0,void 0,`popup=true,rel=opener,width=650,height=800,left=${(window.screen.width-650)/2},top=${(window.screen.height-800)/2}`);if(!a)throw t(db({description:"Please allow popup and try again.",type:"warning"})),new Error("Popup blocked");const n=(e instanceof Array?e:[e]).join(","),{url:s}=await Kf("/api/v1/tiktok/getTiktokOAuthURL",{params:{scope:n}});return a.location=s,x({message:"Sign in to TikTok opening popup",data:{url:s}}),new Promise(((e,t)=>{window.setTiktokToken=t=>{Phe(t),e(t)},window.reportMissingAuthorizationCode=()=>{t(new Error("Missing TikTok authorization code."))},setTimeout((()=>{t(new $v("TikTok OAuth timed out after 5 minutes",{skipSentry:!0}))}),3e5)}))})(e);return a},Whe=async()=>{const e=Mu().dispatch,t=Mhe();(0,Mu().dispatch)(Kte.setToken(void 0)),Ev.remove("tiktokToken"),e(Kte.setChannel(void 0)),t&&await(async e=>{const{accessToken:t}=e;await Xf("/api/v1/tiktok/revokeToken",{body:{accessToken:t}})})(t)},Vhe=async(e,t=Nhe,a)=>e(await Fhe((async()=>Bhe(t,a||Mhe())))),Hhe=b.memo((()=>{const e=Bu(),t=Du((e=>e.tiktok.exportId));i.useEffect((function(){e(Kte.resetToDefaultOptions())}),[t,e]);const a=i.useRef(!1);return i.useEffect((()=>{(async()=>{if(a.current)return;a.current=!0;const e=Ev.get("tiktokToken",{disabled:null});if(e)try{const t=await Fhe((async()=>Uhe(Nhe,e)));await Ohe(t,!0)}catch(t){console.info("Stored token failed to connect to a tiktok channel. Signing out."),Whe()}})()}),[e]),null})),zhe=["https://www.googleapis.com/auth/youtube.readonly","https://www.googleapis.com/auth/youtube.upload"],Ghe=async(e,t)=>{let a;try{a=await(async e=>await Kf("/api/v1/users/google/getTokenInfo",{params:{accessToken:e}}))(e)}catch(s){return!1}const{scopes:n}=a;return t instanceof Array?t.every((e=>n.includes(e))):n.includes(t)},Yhe=async e=>{const t=e instanceof Array?e:[e],a=Mu().dispatch;await(()=>{let e;return UC({actionDescription:"Loading Google API",promise:new Promise((t=>{e=window.setInterval((()=>{window.google&&window.google.accounts&&t()}),100)})),cleanup:()=>clearInterval(e),timeoutMs:1e4,sentryInfo:()=>({level:"warning"})})})();const n=await new Promise(((e,n)=>{const s=(e,t=!1)=>{a(db({description:e,type:"error"})),n(new $v(e,{skipSentry:t}))};window.google.accounts.oauth2.initCodeClient({ux_mode:"popup",client_id:Mu().state.config.GOOGLE_PLUGINS_CLIENT_ID,scope:`email ${t.join(" ")}`,callback:a=>{t.every((e=>a.scope.includes(e)))?a.error?s("Failed to sign into Google. Error code: "+a.error):e(a):s("User denied access to required scopes.",!0)},error_callback:e=>{"popup_failed_to_open"===e.type&&s("Please allow popup and try again.",!0)}}).requestCode()}));if(n.error)throw new $v("signIntoGoogle failure",{extra:{response:n}});return await(async e=>{const{access_token:t,refresh_token:a}=await Xf("/api/v1/users/google/getTokens",{body:{code:e}});return{accessToken:t,refreshToken:a}})(n.code)},Khe=async(e,t)=>{if(await Ghe(t.accessToken,e))return t;const a=await(async e=>{const{token:t}=await Xf("/api/v1/users/google/refreshToken",{body:{refreshToken:e}});return t})(t.refreshToken);if(await Ghe(a,e)){return{...t,accessToken:a}}throw new Error("Failed to renew token: "+t.accessToken)},Xhe=async e=>new Promise((t=>{window.google.accounts.oauth2.revoke(e.accessToken,(()=>{t()}))})),Zhe=async(e,t,a)=>{const n=await(async(e,t)=>{if(t)try{return await Khe(e,t)}catch{}return await Yhe(e)})(t,a);return e(n)},qhe=()=>Mu().state.youtube.token,Jhe=e=>{(0,Mu().dispatch)(oae.setToken(e)),Ev.set("youtubeToken",e)},$he=async(e,t,a)=>Zhe((t=>(Jhe(t),e(t))),t,a||qhe()),Qhe=async(e,t=!1)=>{const a=Mu().dispatch;try{await $he((async e=>{const{youtubeChannel:t}=await Kf("/api/v1/youtube/getConnectedChannel",{params:{accessToken:e.accessToken}});return a(oae.setChannel(t)),t}),zhe,e)}catch(n){throw a(oae.setChannel(void 0)),!t&&n instanceof Hf&&a(db({description:["Connection failed. You need a valid YouTube channel. ",{text:"Click here to create one",href:"https://www.youtube.com/create_channel"},", then ",{text:"verify",href:"https://www.youtube.com/verify"}," your account, and try again."],type:"error"})),n}},eve=async()=>{const e=Mu().dispatch,t=qhe();(0,Mu().dispatch)(oae.setToken(void 0)),Ev.remove("youtubeToken"),e(oae.setChannel(void 0)),t&&await Xhe(t)},tve=b.memo((()=>{const e=Bu(),t=Du((e=>e.youtube.exportId)),a=Du((e=>e.youtube.channel)),n=Du((e=>e.youtube.categories));i.useEffect((function(){e(oae.resetToDefaultOptions())}),[t,e]);const s=i.useRef(!1);i.useEffect((()=>{(async()=>{if(s.current)return;s.current=!0;const e=Ev.get("youtubeToken",{disabled:null});if(e)try{const t=await(async e=>{const t=await e();return Jhe(t),t})((async()=>Khe(zhe,e)));Qhe(t,!0)}catch(t){console.info("Stored token is invalid and cannot be refreshed. Signing out."),eve()}})()}),[]);const[o,r]=i.useState(!0);return i.useEffect((()=>{r(!0)}),[a]),i.useEffect((()=>{a&&(n.length>0||!o||(r(!1),(async()=>{$he((async e=>{var t;const a=await Kf("/api/v1/youtube/getCategories",{params:{accessToken:e.accessToken}}),{categories:n}=a;n.sort(((e,t)=>{var a,n;return((null==(a=e.snippet)?void 0:a.title)??"").localeCompare((null==(n=t.snippet)?void 0:n.title)??"")}));const s=Mu().dispatch;s(oae.setCategories(n)),s(oae.setSelectedCategoryId(null==(t=n.filter((e=>{var t;return"People & Blogs"===(null==(t=e.snippet)?void 0:t.title)}))[0])?void 0:t.id))}),"https://www.googleapis.com/auth/youtube.readonly")})()))}),[a,n,o]),null})),ave="ServiceOutageWarning-module_banner_f0ndL",nve="ServiceOutageWarning-module_leftSideContainer_toenY",sve="ServiceOutageWarning-module_warningIcon_O-Tbi",ove="ServiceOutageWarning-module_ctaButton_aauRC",ive="ServiceOutageWarning-module_close_8O1Rk",rve="ServiceOutageWarning-module_text_OBT42";const lve=b.memo((function(){const e=Xu().SERVICE_INSTABILITY,t=Ev.get("lastSeenServiceInstability",{disabled:null}),[a,n]=i.useState(!0),s=i.useCallback((()=>{Ev.set("lastSeenServiceInstability",Date.now()),n(!1)}),[]);return e?e.status!==ju.ON?null:a?t&&Date.now()-t<18e5?null:N.createPortal(f.jsxs("div",{className:ave,children:[f.jsxs("div",{className:nve,children:[f.jsx(It,{className:sve}),f.jsx("div",{className:rve,children:e.message||"We are currently experiencing a service outage. Please check back later."}),f.jsx("button",{className:ove,type:"button",onClick:()=>{window.location.href="https://kapwing.com/help/status"},children:"Learn More"})]}),f.jsx(R,{className:ive,onClick:s})]}),document.body):null:null})),dve={loading:"loading",apiLoading:{}},cve=(e,t)=>{switch(t.type){case"UPDATE_GAPI_LOADING":return{...e,loading:t.loadingState};case"UPDATE_GAPI_API_LOADING":return{...e,apiLoading:{...e.apiLoading,[t.api]:t.loadingState}};default:return e}},uve=i.createContext({state:dve,requestAPI:()=>{}}),pve=b.memo((({children:e})=>{const[t,a]=i.useState([]),[n,s]=i.useReducer(cve,dve),o="loaded"===n.loading;i.useEffect((function(){At(mve,(e=>{s(e?{type:"UPDATE_GAPI_LOADING",loadingState:"error"}:{type:"UPDATE_GAPI_LOADING",loadingState:"loaded"})}))}),[]),i.useEffect((function(){if(o)for(const e of t){n.apiLoading[e]||(s({type:"UPDATE_GAPI_API_LOADING",api:e,loadingState:"loading"}),gapi.load(e,(()=>{"client"===e&&(gapi.client.load("photoslibrary","v1"),gapi.client.load("youtube","v3")),s({type:"UPDATE_GAPI_API_LOADING",api:e,loadingState:"loaded"})})))}}),[o,n.apiLoading,t]);const r=i.useCallback((e=>{a((t=>t.includes(e)?t:[...t,e]))}),[]);i.useEffect((()=>{r("client")}),[r]);const l=i.useMemo((()=>({state:n,requestAPI:r})),[n,r]);return f.jsx(uve.Provider,{value:l,children:e})})),mve="https://apis.google.com/js/api.js";const gve=b.createContext({isTabVisible:!0}),hve=({children:e})=>{const[t,a]=i.useState(!0);i.useEffect((()=>{const e=()=>{const e=!document.hidden;a(e);x({message:e?"Tab is visible":"Tab is hidden"})};return document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}}),[]);const n=i.useMemo((()=>({isTabVisible:t})),[t]);return f.jsx(gve.Provider,{value:n,children:e})},vve=()=>{const{isTabVisible:e}=b.useContext(gve);return e},fve=()=>$m(Du((e=>e.currentUser))),bve=b.memo((({children:e})=>{const t=Bu(),a=P(),n=fve();return i.useEffect((()=>{n||(t(db({description:"User is not an admin",type:"error"})),a("/signin"))}),[t,a,n]),n?f.jsx(f.Fragment,{children:e}):null}));function yve(e){return t=>f.jsx(bve,{children:f.jsx(e,{...t})})}const wve=(e,t,a)=>{const n=t||200,s=a||200,{fb_id:o,loggedInWith:i,picture:r,customPicture:l}=e||{};let d;switch((i||"").toLowerCase()){case"facebook":d=`https://graph.facebook.com/${o}/picture?width=${n}&height=${s}`;break;case"google":d=r?`${r}?sz=${n}`:void 0;break;default:d=r||void 0}var c;return l&&(d=(c=l).startsWith("https://cdn.kapwing.com")?c.replace("https://cdn.kapwing.com",Vl):c),d},_ve=({height:e,letter:t,width:a})=>{const n=document.createElement("canvas");n.width=a,n.height=e;const s=n.getContext("2d");if(s)return s.fillStyle="#78909C",s.fillRect(0,0,a,e),s.font=`normal ${a/2}px sans-serif`,s.textAlign="center",s.textBaseline="middle",s.fillStyle="white",s.fillText(t,a/2,e/2),n.toDataURL("image/png")};class Cve extends i.Component{constructor(e){super(e),a(this,"onImageError",(()=>{this.setState({error:!0})})),this.state={error:!1}}render(){const{currentUser:e,custom:t,suggestedWidth:a,suggestedHeight:n,absoluteWidth:s,absoluteHeight:o,className:i,team:r}=this.props,{error:l}=this.state;let d;const u=!(!this.props.user||!("pending"in this.props.user))&&this.props.user.pending;d=this.props.user&&!c.isEmpty(this.props.user)?this.props.user:e.user;const p=a||300,m=n||300;let g;if(l||u||t||r||(g=wve(d,p,m)),!l&&r&&"personal"!==r._id&&r.picture&&(g=r.picture),!g){let a="";if(t&&t.name)a=t.name.charAt(0).toUpperCase();else if(r&&r.name)a=r.name.charAt(0).toUpperCase();else if(u&&d.name)a=d.name.charAt(0).toUpperCase();else if(this.props.user&&!c.isEmpty(this.props.user)){const{firstName:e,name:t}=d;e&&(a=e.charAt(0).toUpperCase()),t&&!a&&(a=t.charAt(0).toUpperCase())}if(!a){const t=tg(e);t&&(a=t.charAt(0).toUpperCase())}a||(e.user.email?a=e.user.email.charAt(0).toUpperCase():d.email&&(a=d.email.charAt(0).toUpperCase())),g=_ve({height:m,letter:a,width:p})}return s&&o?f.jsx("img",{width:s,height:o,src:g,alt:"",className:i,"data-cy":"profile-picture","data-testid":"profile-picture",onError:this.onImageError}):f.jsx("img",{src:g,alt:"",className:i,"data-cy":"profile-picture","data-testid":"profile-picture",onError:this.onImageError})}}const Sve=r.connect((e=>({currentUser:e.currentUser}))),xve=Sve(Cve),Ive="TeamUserRow-module_userRow_VfENw",Ave="TeamUserRow-module_userInfo_bBwaT",kve="TeamUserRow-module_profilePic_8TrGy",Tve="TeamUserRow-module_nameBlock_8SIJO",Eve="TeamUserRow-module_name_wIMCO",Lve="TeamUserRow-module_email_Zabj0",jve="TeamUserRow-module_role_SfmQt",Rve=b.memo((({teamUser:e,onClick:t})=>{const{user:a}=e;return a?f.jsxs("div",{className:Ive,onClick:t?()=>t(a):void 0,children:[f.jsxs("div",{className:Ave,children:[f.jsx("div",{className:kve,children:f.jsx(xve,{suggestedHeight:60,suggestedWidth:60,user:a})}),f.jsxs("div",{className:Tve,children:[f.jsx("div",{className:Eve,children:a.name}),f.jsx("div",{className:Lve,children:a.email})]})]}),f.jsx("div",{className:jve,children:e.role===Ad.Admin?"Admin":"Editor"})]}):null})),Nve={workspacePopoverZIndex:"18",popoverZIndex:"14",paywallZIndex:"1001",paywallBgZIndex:"1000",kapwingButton:"KapwingButton-module_kapwingButton_1kqjS",disabled:"KapwingButton-module_disabled_ASJCM",lightWeight:"KapwingButton-module_lightWeight_bnh5K",blueColor:"KapwingButton-module_blueColor_GDtwZ",blackColor:"KapwingButton-module_blackColor_tsjFN",noTranslate:"KapwingButton-module_noTranslate_ap-if",fullWidth:"KapwingButton-module_fullWidth_HEGGs",noPadding:"KapwingButton-module_noPadding_otuE3",smallButton:"KapwingButton-module_smallButton_cX7no",largeButton:"KapwingButton-module_largeButton_XBa-6",cyanColor:"KapwingButton-module_cyanColor_05FqS",lightBlueColor:"KapwingButton-module_lightBlueColor_JOj6N",mediumBlueColor:"KapwingButton-module_mediumBlueColor_12pp6",grayColor:"KapwingButton-module_grayColor_1o8zW",redColor:"KapwingButton-module_redColor_1H10k",studioColor:"KapwingButton-module_studioColor_8gDsF",darkStudioColor:"KapwingButton-module_darkStudioColor_dt4mz",inverseColor:"KapwingButton-module_inverseColor_54fcY",brownColor:"KapwingButton-module_brownColor_k3U-1",loading:"KapwingButton-module_loading_wdOY0",spin:"KapwingButton-module_spin_ux-yV",buttonsContainer:"KapwingButton-module_buttonsContainer_6G3g4",header:"KapwingButton-module_header_e-zQi",progressContainer:"KapwingButton-module_progressContainer_3NmOD",bottomRadius:"KapwingButton-module_bottomRadius_xyKAD",progressBar:"KapwingButton-module_progressBar_Z7AMc",buttonContents:"KapwingButton-module_buttonContents_0lvI7"},Mve=b.memo((e=>{const t=[Nve.kapwingButton,e.lightWeight?Nve.lightWeight:"",e.noPadding?Nve.noPadding:e.small?Nve.smallButton:Nve.largeButton];return e.fullWidth&&t.push(Nve.fullWidth),e.disabled&&t.push(Nve.disabled),e.noTranslate&&t.push(Nve.noTranslate),t.push(e.overrideColor?Nve[`${e.overrideColor}Color`]:Nve.blueColor),e.progress&&!isNaN(e.progress)&&e.progress>0?f.jsx("div",{children:f.jsx("div",{className:`${Nve.progressContainer} ${e.bottomRadius?Nve.bottomRadius:""}`,children:f.jsxs("button",{type:"button",className:t.join(" "),onClick:e.onClick,"data-cy":e.testId,children:[f.jsx("div",{className:Nve.buttonContents,children:e.children}),f.jsx("div",{className:Nve.progressBar,style:{height:`${e.progress}%`}})]})})}):f.jsxs("button",{type:"button",disabled:e.disabled,onClick:e.onClick,className:t.join(" "),"data-cy":e.testId,children:[e.children,e.loading&&f.jsx("div",{className:Nve.loading})]})})),Pve=()=>{const[e,t]=i.useState(new AbortController);return i.useEffect((()=>()=>{t((e=>(e.abort(),new AbortController)))}),[]),e},Fve="Modal-module_modalContainer_NF81v",Dve="Modal-module_headerContainer_sRyUv",Ove="Modal-module_header_7udcB",Uve="Modal-module_subheader_fVn9L",Bve="Modal-module_embedOverlay_52E8k",Wve=b.memo((({title:e,subHeader:t})=>f.jsxs("div",{className:Dve,children:[e&&f.jsx("div",{"data-cy":"modal-title",className:Ove,children:e}),t&&f.jsx("div",{"data-cy":"modal-subheader",className:Uve,children:t})]}))),Vve="ActionDialog-module_section_zzURn",Hve="ActionDialog-module_sectionLabel_xH-tY",zve="ActionDialog-module_nameInput_U-BEN",Gve="ActionDialog-module_buttonContainer_I1Xvp",Yve="ActionDialog-module_actionButton_cJCgw",Kve="AdminMoveDialog-module_input_hciuR",Xve=b.memo((({setDestinationFolderId:e,setHideDropdown:t})=>{const[a,n]=i.useState(""),s=Bg();if(!$m(Du((e=>e.currentUser)))||s)return null;return f.jsx("input",{type:"text",className:Kve,value:a,onChange:a=>(a=>{t(!0);const s=a.target.value.trim();n(s),e(s)})(a),placeholder:"ADMIN: Enter folder ID to move project to"})})),Zve="Chooser-module_container_w6Q6c",qve="Chooser-module_chooserBar_PNwsF",Jve="Chooser-module_disabledBar_1oqbU",$ve="Chooser-module_team_XPrse",Qve="Chooser-module_name_P51U-",efe="Chooser-module_nameText_4UrNK",tfe="Chooser-module_chooser_aLCg-",afe="Chooser-module_teamRow_ifT3U",nfe="Chooser-module_folderName_r2jdU",sfe="Chooser-module_middleArrow_Rqeo0",ofe="Chooser-module_dropdownChevron_o2ja1",ife="Chooser-module_rotateChevron_qCTuh",rfe="Chooser-module_chooserRow_gHNkT",lfe="Chooser-module_selected_PBn5o",dfe="Chooser-module_nameIcon_7idnH",cfe="Chooser-module_chevron_kexCa",ufe="Chooser-module_sectionTitle_D1FjE",pfe="Chooser-module_explorerBodyWrapper_r3D1i",mfe="Chooser-module_show_kYqQq",gfe="Chooser-module_disabled_CSUgp",hfe="Chooser-module_explorerBody_Y-1ns",vfe="Chooser-module_folderSection_fUp3o",ffe="Chooser-module_explorer_ZVge-",bfe="Chooser-module_explorerHeader_BFiYC",yfe="Chooser-module_clickableArea_jRCqY",wfe="Chooser-module_selectWorkspace_07Jay",_fe="Chooser-module_loadingHeader_Kh7pO",Cfe="Chooser-module_spinner_-6xp2",Sfe="Chooser-module_leftArrow_yViI7",xfe="Chooser-module_userRow_Us0WC",Ife="Chooser-module_teamUserWrapper_fbsHC",Afe="Chooser-module_permissionDialog_vBsqN",kfe="Chooser-module_chooserFolderContainer_tm2ue",Tfe=u((e=>e.workspaces.allWorkspaces),(e=>e.workspaces.selectedWorkspace),((e,t)=>e.find((e=>e._id===t)))),Efe=u((e=>e.workspaces.allWorkspaces),(e=>{var t;return null==(t=e.workspaces.lastValidWorkspaceInfo)?void 0:t.folderId}),((e,t)=>e.find((e=>e._id===t)))),Lfe=u(Tfe,Efe,(e=>e.workspaces.allWorkspaces[0]),((e,t,a)=>e||(t||(a||void 0)))),jfe=()=>Du(Lfe,Ou),Rfe=b.memo((({onClick:e,selected:t,icon:a,label:n,chevron:s})=>f.jsxs("div",{className:`${rfe} ${t?lfe:""}`,onClick:e,children:[f.jsxs("div",{className:Qve,children:[a?f.jsx("div",{className:dfe,children:a}):null,f.jsx("div",{className:efe,children:n})]}),s&&f.jsx("div",{className:cfe,children:f.jsx(kt,{})})]}))),Nfe=f.jsx(Et,{size:25}),Mfe=b.memo((({selectedTeam:e,setSelectedFolder:t,selectedFolderId:a,setSelectedTeam:n,show:s,disabled:o})=>{const{teams:r,teamFolders:l,privateFolders:d}=(e=>{const t=Du((e=>e.explorer.teams),Ou),a=Du((t=>t.explorer.folders.filter((t=>t.teamId===e))),Ou);return{teams:t,teamFolders:a.filter((e=>e.type===Zl.team)),privateFolders:a.filter((e=>e.type===Zl.personal))}})(null==e?void 0:e._id),c=i.useMemo((()=>[...l,...d].reduce(((e,a)=>(e[a._id]=()=>t(a),e)),{})),[l,d,t]),u=i.useMemo((()=>r.reduce(((e,t)=>(e[t._id]=()=>n(t),e)),{})),[r,n]),p=(e,t)=>e.length?f.jsxs("div",{className:vfe,children:[f.jsx("div",{className:ufe,children:t}),f.jsx("div",{"data-cy":"chooser-folder-container",className:kfe,children:e.map((e=>f.jsx(Rfe,{label:e.name,icon:Lt({}),onClick:c[e._id],selected:a===e._id},e._id)))})]}):null,m=i.useMemo((()=>r.reduce(((e,t)=>(e[t._id]=f.jsx(xve,{suggestedHeight:30,suggestedWidth:30,team:t}),e)),{})),[r]);return r&&r.length?f.jsxs("div",{className:`${pfe} ${s?mfe:""} ${o?gfe:""}`,children:[f.jsx("div",{className:bfe,children:!!e&&f.jsx("div",{className:$ve,children:f.jsxs("div",{className:`${wfe} ${yfe}`,onClick:()=>n(void 0),children:[f.jsx("span",{className:Sfe,children:f.jsx(Tt,{})}),"Select a different team workspace"]})})}),f.jsx("div",{className:hfe,children:e?f.jsxs(f.Fragment,{children:[p(l,(null==e?void 0:e._id)===rd?"Shared Folders":"Team Folders"),p(d,"Private Folders")]}):f.jsx("div",{"data-cy":"chooser-folder-container",className:kfe,children:r.map((e=>f.jsx(Rfe,{label:e.name,onClick:u[e._id],icon:e._id===rd?Nfe:m[e._id],chevron:!0},e._id)))})})]}):f.jsx("div",{children:"Loading..."})})),Pfe="TeamRow-module_team_xu3HD",Ffe="TeamRow-module_profilePic_yYHCW",Dfe="TeamRow-module_name_Sc9Aq",Ofe=b.memo((({team:e,onClick:t,short:a})=>f.jsxs("div",{className:Pfe,onClick:t?()=>t(e):void 0,children:[f.jsx("div",{className:Ffe,children:e._id===rd?f.jsx(Et,{size:30}):f.jsx(xve,{suggestedHeight:30,suggestedWidth:30,team:e})}),!a&&f.jsx("div",{className:Dfe,children:e.name})]}))),Ufe=b.memo((({selectedTeam:e,folder:t,onTeamClick:a,setShowExplorer:n,showExplorer:s,disabled:o})=>{const i=Bg();if(!e)return null;const r=s&&!!e;return f.jsxs("div",{"data-cy":"folder-chooser-header",className:`${qve} ${o?Jve:""}`,onClick:()=>!o&&n(),children:[f.jsxs("div",{className:tfe,children:[f.jsx("div",{className:afe,onClick:e=>r&&e.stopPropagation(),children:f.jsx(Ofe,{team:e,onClick:r?a:void 0,short:i})}),f.jsx("div",{className:sfe,children:f.jsx(kt,{})}),t&&f.jsx("div",{children:f.jsx("div",{className:nfe,children:t.name})})]}),f.jsx("div",{className:`${ofe} ${s?ife:""}`,children:f.jsx(ot,{})})]})})),Bfe=b.memo((({setDestinationFolderId:e,disabled:t,startOpen:a})=>{const{showExplorer:n,setShowExplorer:s,selectedFolder:o,setSelectedFolder:r,selectedTeam:l,setSelectedTeam:d,isLoading:c}=((e,t)=>{xA(!0);const a=jfe(),n=lg(),[s,o]=i.useState(a),r=Du((e=>e.explorer.teams)),[l,d]=i.useState(r.find((e=>(null==a?void 0:a.teamId)?e._id===(null==a?void 0:a.teamId):e._id===(null==n?void 0:n._id)))),c=!r.length,[u,p]=i.useState(!!t||!l),[m,g]=i.useState(!0);i.useEffect((()=>{e((null==s?void 0:s.teamId)?s._id:"")}),[null==s?void 0:s._id,null==s?void 0:s.teamId,e]);const h=Du((e=>{const t=e.explorer.folders.filter((e=>e.teamId===(null==l?void 0:l._id)));return 1===t.length?t[0]:void 0}));return i.useEffect((function(){l?h&&o(h):o(void 0)}),[l,h]),{viewingFolder:m,setViewingFolder:g,showExplorer:u,setShowExplorer:p,selectedFolder:s,setSelectedFolder:o,selectedTeam:l,setSelectedTeam:d,isLoading:c}})(e,a),u=i.useCallback((()=>{s(!0),d(void 0)}),[d,s]),p=i.useCallback((e=>s((t=>void 0!==e?e:!t))),[s]);return f.jsx("div",{className:Zve,children:c?f.jsx("div",{className:_fe,children:f.jsx(jt,{className:Cfe})}):f.jsxs(f.Fragment,{children:[!!l&&f.jsx(Ufe,{disabled:t,selectedTeam:l,folder:o,onTeamClick:u,showExplorer:n,setShowExplorer:p}),f.jsx("div",{className:ffe,children:f.jsx(Mfe,{disabled:t,show:n||!l,selectedTeam:l,setSelectedTeam:d,selectedFolderId:null==o?void 0:o._id,setSelectedFolder:r})})]})})})),Wfe=b.memo((({actionType:e,comparePermissionsDTO:t,destinationFolderName:a,numProjects:n})=>{var s,o;const{permissionResult:i}=t;if(i===pu.SAME)return null;const{sourceTeam:r,destinationTeam:l}=t;if(i===pu.PRIVATE_TO_SHARED){if(!(null==(s=t.users)?void 0:s.length))throw new Error(`No users found - private to shared team:${t.destinationTeam._id}`);return f.jsxs("span",{children:[f.jsx("span",{children:e===mu.COPY?"Copying":"Moving"})," ","this project to"," ",f.jsx("strong",{children:r._id===l._id?a:l.name})," ","will give access to ",null==(o=t.users)?void 0:o.length," ",ec("collaborator","collaborators",t.users.length),":"]})}return i===pu.SHARED_TO_PRIVATE?f.jsxs("span",{children:["All members of ",f.jsx("strong",{children:r.name})," will lose access unless the ",ec("project has","projects have",n)," ","been explicitly shared with them"]}):f.jsxs("span",{children:[e===mu.MOVE&&f.jsxs("span",{children:["All members of ",f.jsx("strong",{children:r.name})," will lose access unless the ",ec("project has","projects have",n)," ","been explicitly shared with them."]}),f.jsxs("span",{children:["All members of ",f.jsx("strong",{children:l.name})," will gain access."]})]})})),Vfe=(e,t,a,n,s,o)=>{const r=Pve(),[l,d]=i.useState(),[c,u]=i.useState(!1),[p,m]=i.useState(),[g,h]=i.useState(),[v,b]=i.useState(!1),{destinationFolder:y,currentUser:w}=Du((e=>({destinationFolder:e.explorer.folders.find((e=>e._id===l)),currentUser:e.currentUser})),Ou),_=async()=>{if(!c&&l)try{if(u(!0),await t(l),r.signal.aborted)return;u(!1)}catch(b9e){cb({description:"Error moving project",error:b9e}),u(!1)}};return{destinationFolderId:l,setDestinationFolderId:d,processing:c,showPermissions:v,permissionText:p,permissionUsers:g,handleSubmit:v?_:async()=>{if((()=>{const t=l&&24===l.length&&!y;return e===mu.MOVE&&$m(w)&&t})()||o)return void _();if(!l||!y||!(null==n?void 0:n.length)&&!(null==s?void 0:s.length))return;u(!0);const t=await Xf("/api/v1/explorer/comparePermissions",{body:{projectIds:n,workflowIds:s,destinationFolderId:l}});t.permissionResult!==pu.SAME&&(t.permissionResult!==pu.CHANGE_TEAMS||t.destinationFolder.type!==Zl.personal||t.sourceFolder.type!==Zl.personal)&&(e!==mu.COPY||t.destinationFolder.type!==Zl.personal&&t.permissionResult!==pu.SHARED_TO_PRIVATE)?(b(!0),m(f.jsx(Wfe,{actionType:e,comparePermissionsDTO:t,destinationFolderName:null==y?void 0:y.name,numProjects:((null==n?void 0:n.length)||0)+((null==s?void 0:s.length)||0)})),h(t.users),u(!1)):_()},handleBack:v?()=>{b(!1),m(""),h(void 0)}:a}},Hfe=b.memo((({actionType:e,children:t,isAdminRepurpose:a=!1,submitText:n,header:s,onSubmit:o,onCancel:r=yA,validationFunction:l,projectIds:d,workflowIds:c})=>{const{destinationFolderId:u,setDestinationFolderId:p,showPermissions:m,permissionText:g,permissionUsers:h,handleSubmit:v,handleBack:b,processing:y}=Vfe(e,o,r,d,c,a),[w,_]=i.useState(!1);return f.jsxs("div",{className:Afe,onKeyUp:e=>{"Enter"===e.key&&v()},tabIndex:0,children:[f.jsx(Wve,{title:s,subHeader:g}),m?h&&h.length&&f.jsx("div",{className:Ife,children:h.map((e=>e.user&&f.jsx("div",{className:xfe,children:f.jsx(Rve,{teamUser:e})},e._id)))}):f.jsxs(f.Fragment,{children:[!!t&&t,f.jsxs(zfe,{label:e===mu.COPY?"Copy to:":"Move to:",children:[e===mu.MOVE&&f.jsx(Xve,{setDestinationFolderId:p,setHideDropdown:_}),f.jsx(Bfe,{disabled:y||w,setDestinationFolderId:p,startOpen:e===mu.MOVE})]})]}),f.jsx("div",{className:Vve,children:f.jsxs("div",{className:Gve,children:[f.jsx("div",{className:Yve,children:f.jsx(Mve,{testId:"permission-confirm-button",disabled:l?y||!u||!l(u):y||!u,loading:y,fullWidth:!0,onClick:v,children:n||"Confirm"})}),f.jsx("div",{className:Yve,children:f.jsx(Mve,{fullWidth:!0,overrideColor:"gray",onClick:b,disabled:y,children:m?"Back":"Cancel"})})]})})]})})),zfe=b.memo((e=>{const{children:t,label:a}=e;return f.jsxs("div",{className:Vve,children:[f.jsx("div",{className:Hve,children:a}),t]})})),Gfe={maxWidth:500,margin:"auto",paddingTop:100},Yfe=b.memo(vC((({navigate:e,match:{params:{workflowId:t}}})=>{const{isLoading:a,workflow:n}=Q9({workflowId:t}),s=i.useCallback((async a=>{const{data:{workflowId:n}}=await o7({folderId:a,teamId:null,workflowId:t});e(`/repurpose/${n}`)}),[e,t]);return f.jsx(bve,{children:f.jsx("div",{style:Gfe,children:a?"Loading...":f.jsxs(f.Fragment,{children:[f.jsx("span",{children:null==n?void 0:n.name}),f.jsx(Hfe,{actionType:mu.COPY,onSubmit:s,header:"Copy Repurpose Project",isAdminRepurpose:!0})]})})})})));function Kfe(){const{dispatch:e,state:{studio:t}}=Mu();t.analytics.roughCutCriteriaMet||function(e){return Ep(e)>=3&&e.duration>=300}(t)&&(e(vz({roughCutCriteriaMet:!0})),ov("Rough Cut Criteria Met"))}function Xfe(){const{dispatch:e,state:{studio:t}}=Mu();!t.analytics.lightCutCriteriaMet&&function(e){const t=Ep(e),a=Object.keys(e.allLayers.byId).length;return t>=1&&a>=2}(t)&&(e(vz({lightCutCriteriaMet:!0})),ov("Light Rough Cut Criteria Met"))}let Zfe=!1;let qfe="";function Jfe(){rR()&&(Kfe(),Xfe(),function(){if(Zfe)return;const{attempted:e,firstAttemptSinceLastSuccess:t}=Mu().state.studioLocal.lastSyncedWithServer,a=e.websocket&&t.websocket&&Date.now()-t.websocket>36e4,n=e.http&&t.http&&Date.now()-t.http>36e4;a&&!n&&(console.debug("In HTTP fallback mode"),ov("In HTTP fallback mode"),Zfe=!0)}(),function(){const e=window.innerWidth,t=window.innerHeight,a=`${e}x${t}`;qfe!==a&&(qfe=a,sv({resolution:a,resolutionWidth:e,resolutionHeight:t}))}())}const $fe=b.memo((()=>{i.useEffect((()=>{const e=setInterval((()=>{Jfe()}),15e3);return()=>clearInterval(e)}),[]);const e=Du((e=>e.teams.allTeams.length));i.useEffect((()=>{sv({"Workspace Count":e})}),[e]);const t=Du((e=>{var t,a;return null==(a=null==(t=e.currentUser)?void 0:t.user)?void 0:a.email}));i.useEffect((()=>{sv({Email:t})}),[t]);const a=cg().name;return i.useEffect((()=>{sv({"Current Plan":a})}),[a]),null})),Qfe=b.memo((({children:e,...t})=>{const[a,n]=b.useState(!1);return i.useEffect((()=>{n(!0)}),[]),a?f.jsx(b.Fragment,{...t,children:e}):null}));class ebe extends i.Component{componentDidUpdate(e){this.props.location!==e.location&&window.scrollTo(0,0)}render(){return this.props.children}}const tbe=vC(ebe),abe="LoadingFullScreen-module_loadingWrapperFullScreen_7FhgJ",nbe="LoadingFullScreen-module_loadingWrapperFullScreenGray_Renq2",sbe="LoadingFullScreen-module_loadingLogo_JR7Gr",obe="LoadingFullScreen-module_fullScreenLoadingDescription_7gxps",ibe=b.memo((({theme:e=h_.Workspace,title:t})=>{const a=(()=>{let t="https://cdn-useast1.kapwing.com/static/yeX-Kapwing-transparent-logo-animation-white.webp";e===h_.Studio&&(t="https://cdn-useast1.kapwing.com/static/8XE-Kapwing-transparent-logo-animation-gray.webp");return S_()&&(t="https://cdn-useast1.kapwing.com/static/nAu-loading-logo-gif-white.gif",e===h_.Studio&&(t="https://cdn-useast1.kapwing.com/static/AIU-loading-logo-dark.gif")),t})();return f.jsxs("div",{className:e===h_.Studio?nbe:abe,children:[f.jsx("img",{className:sbe,alt:"loading",src:a}),f.jsxs("div",{className:obe,"data-cy":"loading-full-screen",children:[f.jsx("span",{children:t||"Loading..."}),f.jsx(v_,{theme:e})]})]})})),rbe=b.memo((()=>{var e;const{currentUser:t}=Du((e=>({currentUser:e.currentUser})),Ou),a=F(),n=Bu(),[s,o]=i.useState(!0),[r,l]=i.useState(),[d,c]=i.useState(!1),{userId:u}=D();i.useEffect((()=>{(async()=>{var e;if(null==(e=t.user)?void 0:e.onboarding)c(!0),o(!1);else{const e=await Wb();e.length&&l(e[0]),o(!1)}})()}),[null==(e=t.user)?void 0:e.onboarding,n]);const p=i.useMemo((()=>r&&!d?f.jsx(Rt,{to:`/team/invite/new-user/${r.inviteKey}`,state:a.state,replace:!0}):f.jsx(Rt,{to:"/home",state:a.state,replace:!0})),[a.state,d,r]);if(s)return f.jsx(ibe,{});if(qm(t))return p;if("undefined"!=typeof window){if(["4000"].includes(window.location.port)||u)return db({description:"You're developing locally on localhost:4000. In prod, this page would refresh and show the NextJS home page as you are not currently signed in. If you want to test this behavior, run 'yarn nginx' in the root directory and use port 3000.",type:"warning"}),f.jsx(Rt,{to:"/signin",replace:!0});window.location.href="/"}return null})),lbe="InstalledPWAHome-module_background_7esTm",dbe="InstalledPWAHome-module_backgroundImage_CNn8z",cbe="InstalledPWAHome-module_signInContainer_B65r7",ube="InstalledPWAHome-module_signInLogoContainer_J6ljc",pbe="InstalledPWAHome-module_signInLogo_ndUoQ",mbe="InstalledPWAHome-module_signInText_9ymZg",gbe="InstalledPWAHome-module_text_Hh7oh",hbe=b.memo((()=>{const[e,t]=b.useState(!1);return f.jsxs(f.Fragment,{children:[f.jsx(Nt,{children:f.jsx("link",{rel:"canonical",href:"https://www.kapwing.com/"})}),f.jsxs("div",{className:lbe,children:[f.jsx("img",{src:"https://cdn-useast1.kapwing.com/static/home/Frame%202.png",alt:"",className:dbe}),f.jsxs("div",{className:cbe,children:[f.jsxs("div",{className:ube,children:[f.jsx("img",{src:"https://cdn-useast1.kapwing.com/static/9XE-logo-small.webp",className:pbe,alt:"Kapwing Logo"})," ","KAPWING"]}),f.jsx("div",{className:mbe,children:f.jsx("div",{className:gbe,children:"Trusted by millions of users, Kapwing makes content creation and video editing smart, accessible, and collaborative. Sign in below to continue to the official Play Store app."})}),f.jsx(zae,{ssoSignIn:e,setSSOSignIn:t})]})]})]})}));const vbe="DeleteAccountDialog-module_disabled_Qttga",fbe="DeleteAccountDialog-module_description_Yx4rM",bbe="DeleteAccountDialog-module_buttonsContainer_uVAb3",ybe="DeleteAccountDialog-module_primaryButton_cYnrC",wbe="DeleteAccountDialog-module_secondaryAction_Wb7yH",_be="DeleteAccountDialog-module_loading_UGAIf",Cbe="DeleteAccountDialog-module_checkBoxContainer_lf--P",Sbe="DeleteAccountDialog-module_checkBox_EVnm0",xbe="DeleteAccountDialog-module_checkBoxText_F9Y64",Ibe="DeleteAccountDialog-module_italicBold_TY5F8",Abe=b.memo((()=>{const e=Bu(),t=P(),[a,n]=i.useState(!1),[s,o]=i.useState(!0);i.useEffect((function(){((e,t)=>{const{dispatch:a}=Mu();a({type:_A.setModalTitle.type,payload:{title:e,subtitle:t}})})("Delete Account")}),[]);return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:fbe,children:[f.jsxs("p",{children:["Deleting your account will delete"," ",f.jsx("b",{children:"all private workspaces and content"})," associated with your account  all links and embeds to existing content will no longer work. Shared workspaces will still exist for you and others who have access."]}),f.jsxs("p",{children:["To get help with your subscription or account, contact us at",f.jsx("a",{href:"mailto:help@kapwing.com",children:" help@kapwing.com"})," before deleting your data."]}),f.jsxs("div",{className:Cbe,children:[f.jsx("input",{type:"checkbox",className:Sbe,onClick:()=>o(!s)}),f.jsx("div",{className:xbe,children:"I acknowledge that I will no longer receive support regarding my projects, workspaces, or subscription from Kapwing's customer support team. After deleting, I will not be eligible for any refund for past purchases or remaining subscription time."})]}),f.jsx("p",{className:Ibe,children:"This action cannot be undone. You will be signed out once your account deletion is complete. All data will be erased from Kapwing's database."})]}),f.jsx("div",{className:bbe,children:a?f.jsx("div",{className:_be,children:"Deleting..."}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:`${ybe} ${s?vbe:""}`,onClick:async()=>{if(!s){n(!0);try{await function(){const{user:e}=Mu().state.currentUser||{},{_id:t}=e||{};return Yf("/api/v1/account",{params:{userId:t},parseJSON:!1})}(),e(db({description:"Your account has been successfully deleted and you have been signed out of Kapwing. Sign in again to create a new account.",type:"success"})),e(Af()),t("/"),Ev.remove("state")}catch(b9e){b9e instanceof Hf&&429===b9e.status?pb({description:"Accounts with this email address have been deleted too recently. Please try again tomorrow."}):cb({description:"There were errors when deleting your account. Not all of your content may be deleted.",error:b9e})}finally{n(!1)}}},children:"Delete Account"}),f.jsx("div",{onClick:()=>yA(),className:wbe,children:"Never mind"})]})})]})})),kbe="DeleteDialog-module_deleteDialogBackground_EJkf8",Tbe="DeleteDialog-module_deleteButton_-NKNm",Ebe="DeleteDialog-module_override_KBHCL",Lbe="DeleteDialog-module_deleteDialogContainer_XVMnm",jbe="DeleteDialog-module_dark_6yxTb",Rbe="DeleteDialog-module_header_qutm0",Nbe="DeleteDialog-module_description_HFohn",Mbe="DeleteDialog-module_deleteCloseContainer_FWjyj",Pbe="DeleteDialog-module_buttonsContainer_NhXLc",Fbe=(e,{plural:t=!1,extraText:a=""}={})=>`Are you sure you want to delete ${t?"these":"this"} ${e}? ${a}`,Dbe=b.memo((({hideDelete:e,delete:t,headerTitle:a,description:n,theme:s="light",confirmButtonText:o="Delete",noBackground:r=!1})=>{const[l,d]=i.useState(!1),c=async()=>{d(!0),await t(),e()};return N.createPortal(f.jsxs(f.Fragment,{children:[f.jsx("div",{className:kbe,style:r?{opacity:0}:{},onClick:e}),f.jsxs("div",{className:`${Lbe} ${"dark"===s?jbe:""}`,children:[f.jsx("div",{className:Mbe,onClick:e,children:f.jsx(R,{})}),f.jsx("div",{className:Rbe,children:a}),f.jsx("div",{className:Nbe,children:n}),f.jsx("div",{className:Pbe,children:f.jsx(U_,{cancelFn:e,confirmFn:c,confirmText:o,cancelText:"Cancel",loadingMsg:l?"Deleting...":void 0,confirmButtonClassName:`${Tbe} ${Ebe}`})})]})]}),B_())}));async function Obe(e,t){const{state:a}=Mu(),n=await Xf(`/api/v2/project/${e}/copy`,{body:t});if(n.destinationFolder&&n.destinationFolder._id){i4({newFolderId:n.destinationFolder._id,projectId:e,source:t.source,stateBeforeCopy:a}).catch(console.error)}return n}function Ube(e,t){return Zf(`/api/v1/workspaces/${e}`,{body:{workspaceFields:t},parseJSON:!1})}const Bbe=async e=>{const{state:t,dispatch:a}=Mu(),{workspaces:n}=t,{selectedTeamId:s}=t.teams;try{let t=e??n.selectedWorkspace;if(t===rd){const e=(()=>{const{currentUser:e,teams:t}=Mu().state,{allTeams:a}=t,{user:n}=e;return a.find((e=>e.primary&&e.creatorId===n._id))})(),o=n_(n.allWorkspaces,(null==e?void 0:e._id)||s)[0];if(o)t=o._id;else{t=(await D3("New Folder",Zl.team,null==e?void 0:e._id))._id}a(df(t))}}catch(o){console.error(o)}},Wbe=async e=>{const{state:t,dispatch:a}=Mu(),{currentUser:n,currentVideo:s,workspaces:o}=t;try{if(!qm(n))return void(null==Ml||Ml.push(`/editor/videos/${s._id}`));let t=o.selectedWorkspace;if(qm(n)){const e=O6(t);if(!((null==e?void 0:e.creatorId)===n.user._id)){const e=o.allWorkspaces.find((e=>e.creatorId===n.user._id));e&&(t=e._id)}}if(Bbe(t),!s.projectId)throw new Error("No project ID found");const{copiedProject:i}=await Obe(s.projectId,{entryPoint:e});s._id&&a(rq("re-edit")),null==Ml||Ml.push(`/${i.videoId}/studio/editor`)}catch(i){console.error(i)}},Vbe=async(e,t)=>{const{state:a}=Mu(),{workspaces:n}=a;try{const{copiedProject:a}=await Obe(t,{destinationFolderId:n.selectedWorkspace,setAsTemplate:!0,entryPoint:e});null==Ml||Ml.push(`/${a.videoId}/studio/editor`)}catch(s){console.error(s)}},Hbe=async(e,t)=>{const{dispatch:a,state:n}=Mu(),{selectedWorkspace:s}=n.workspaces,{currentUser:o}=n;try{const n=[];e.length>0&&n.push(async function(e,t){const{token:a,user:n}=t||{};return Yf("/api/v1/projects",{parseJSON:!1,params:{token:a,userId:n&&n._id},body:{projectIds:e}})}(e,o)),t.length>0&&n.push((async e=>Yf("/api/v2/workflows",{body:{workflowIds:e}}))(t)),await Promise.all(n),r.batch((()=>{e.forEach((e=>{a(Ste({projectId:e,folderId:s}))})),t.forEach((e=>{a(uH.removeWorkflow(e))}))})),a(db({description:`Your ${ec("project has","projects have",e.length)} been successfully deleted`,type:"success"}))}catch(b9e){cb({description:"Failed to delete projects",error:b9e})}},zbe=e=>{Mu().state.explorer.folders.some((t=>t._id===e._id))&&aR(`/folder/${e._id}`)},Gbe=async e=>{const{dispatch:t}=Mu(),a=(await Kf("/api/v1/home",{params:e})).projects||[];if(!a)return;const{workspaceId:n}=e;t(Cte({projects:a,folderId:n.toString()}))},Ybe="Dialog-module_dialog_8eWOI",Kbe="Dialog-module_header_43uqb",Xbe="Dialog-module_description_qxjUP",Zbe="Dialog-module_deleteButton_CYPZf",qbe="Dialog-module_override_9SxqK",Jbe=({projectIds:e,workflowIds:t,onSubmit:a=(()=>{})})=>{wA({modalType:fA.DELETE_PROJECT,projectIds:e,workflowIds:t,onSubmit:a})},$be=b.memo((({projectIds:e,workflowIds:t,onSubmit:a=(()=>{})})=>{const[n,s]=i.useState(!1),o=e.length+t.length,r=o>1,l={extraText:"You will not be able to edit or download a project after it has been deleted."},d=`Delete ${o} ${ec("project","projects",o)}?`,c=r?Fbe("projects",{...l,plural:!0}):Fbe("project",{...l}),u=i.useCallback((async()=>{s(!0),await Hbe(e,t),a(),yA()}),[a,e,t]);return f.jsxs("div",{className:Ybe,children:[f.jsx("div",{className:Kbe,children:d}),f.jsx("div",{className:Xbe,children:c}),f.jsx(U_,{cancelFn:yA,confirmFn:u,confirmText:"Delete",cancelText:"Cancel",loadingMsg:n?"Deleting...":void 0,confirmButtonClassName:`${Zbe} ${qbe}`})]})})),Qbe=b.memo((({projectId:e,videoId:t})=>{const a=Bu(),[n,s]=i.useState(!1),o=i.useCallback((async()=>{s(!0);try{await Yf(`/api/v1/videos/${t}/removeUser`),a(db({description:"You have been removed from this project as a video collaborator.",type:"success"})),(e=>{Ste({projectId:e,folderId:rd})})(e)}catch(b9e){cb({description:"There was an error removing this project from your shared with me view.",error:b9e})}s(!1),yA()}),[a,e,t]);return f.jsxs("div",{className:Ybe,children:[f.jsx("div",{className:Kbe,children:"Remove yourself as a collaborator from this project?"}),f.jsx("div",{className:Xbe,children:"You'll lose access to this project and it will disappear from your Shared with Me view. This action cannot be undone."}),f.jsx(U_,{cancelFn:yA,confirmFn:o,confirmText:"Remove",cancelText:"Cancel",loadingMsg:n?"Removing...":void 0,confirmButtonClassName:`${Zbe} ${qbe}`})]})}));var eye=(e=>(e.STUDIO_EXPORT="studio export",e.REPURPOSE_STUDIO="repurpose studio",e.FINAL_VIDEO_PAGE="final video page",e))(eye||{}),tye=(e=>(e.youtube="YouTube",e.youtubeShorts="YouTube Shorts",e.tiktok="TikTok",e.instagram="Instagram",e.facebook="Facebook",e.linkedin="LinkedIn",e))(tye||{});const aye="Share to socials",nye="Share",sye="LoadingSpinner-module_spinnerWrapper_pUBga",oye="LoadingSpinner-module_spinner_-PDbq",iye=b.memo((({fontSize:e=16,style:t})=>{const a=i.useMemo((()=>({fontSize:e})),[e]);return f.jsx("div",{className:sye,style:t,children:f.jsx(jt,{className:oye,style:a,"test-id":"loading-spinner"})})})),rye="snapshot-body-module_snapshotContainer_h9iPh",lye="snapshot-body-module_mobileButtons_B6G-2",dye="snapshot-body-module_buttonWrapper_umTVs",cye="snapshot-body-module_desktopButtons_AfINO",uye="snapshot-body-module_leftButtonContainer_CSVgj",pye="snapshot-body-module_rightButtonContainer_-Sran",mye="snapshot-body-module_mainContainer_5HhiO",gye="snapshot-body-module_videoContainer_EclmT",hye="snapshot-body-module_innerVideoContainer_mg9FS",vye="snapshot-body-module_video_6oQOd",fye="snapshot-body-module_image_4pqmk",bye="snapshot-body-module_bottomContainer_wdy4p",yye="snapshot-body-module_shareText_ZjlFF",wye="snapshot-body-module_sidebarContainer_2yK14",_ye="snapshot-body-module_mobileOnly_-Y1oo",Cye="snapshot-body-module_desktopOnly_a3b19",Sye="snapshot-body-module_underButtons_3JuBD",xye=b.memo((({exportDTO:e,allowFullscreen:t=!0})=>{var a;const n=P(),[s,o]=b.useState(0),[i,r]=b.useState(e),l=()=>{if(!s)return o(1),void(i&&r({...i,downloadUrl:`${i.downloadUrl}&retry=1`}));e&&(ov("Access Expired Export",{"Video ID":e.videoId,"Export ID":e.id,"Entry Point":n2.SNAPSHOT_PAGE}),n(`/videos/${e.videoId}`))};if(!i)return null;const d=["nodownload"];t||d.push("nofullscreen");const c=d.join(" ");return!i.duration||(null==(a=i.downloadUrl)?void 0:a.includes(".gif"))?f.jsx("img",{alt:"Final",src:i.downloadUrl,className:fye,"data-cy":"final-image",loading:"lazy",onError:l}):f.jsx("video",{className:vye,controls:!0,playsInline:!0,preload:__()?"metadata":"auto",src:i.downloadUrl+"#t=0.01",controlsList:c,onError:l})})),Iye={volumeColor:"#FE01E5",blue:"#0083E2",cyan:"#18e1d6"},Aye=CSS.supports("(height: 100dvh)")?"dvh":"vh";function kye(){return"undefined"==typeof window?1:100/window.innerHeight}const Tye=(e,t=20)=>{const[a,n]=i.useState({take:t,skip:0}),s=Pve(),[o,r]=i.useState(!1),[l,d]=i.useState(),[c,u]=i.useState(),p=i.useCallback((async()=>{r(!0);try{const t=await Kf(e,{signal:s.signal,params:{skip:a.skip,take:a.take}});d(t),r(!1)}catch(t){let e="An error occurred";t&&"object"==typeof t&&"error"in t?e=String(t.error):t instanceof Error?e=t.message:t&&(e=String(t)),u(e),r(!1)}}),[e,s.signal,a.take,a.skip]);i.useEffect((()=>{p()}),[p]);const m=i.useCallback((async()=>{o||await p()}),[o,p]);return i.useEffect((()=>{n({take:t,skip:0})}),[e,t]),{isLoading:o,error:c,refetch:m,data:l,pagination:{paginationDisplay:(null==l?void 0:l.totalCount)?`${a.skip+1}-${Math.min(a.skip+a.take,(null==l?void 0:l.totalCount)||0)} of ${null==l?void 0:l.totalCount}`:void 0,paginationOptions:a,firstPage:()=>{n((e=>({...e,skip:0})))},lastPage:()=>{n((e=>({...e,skip:(null==l?void 0:l.totalCount)?Math.floor((l.totalCount-1)/e.take)*e.take:0})))},nextPage:()=>{n((e=>({...e,skip:e.skip+e.take})))},prevPage:()=>{n((e=>({...e,skip:e.skip-e.take})))},gotoPage:e=>{e<1||e>Math.ceil(((null==l?void 0:l.totalCount)||0)/t||0)?n((e=>({...e,skip:0}))):n((t=>({...t,skip:(e-1)*t.take})))}}}},Eye=(e,t)=>{const a=Pve(),[n,s]=i.useState(!1),[o,r]=i.useState(),[l,d]=i.useState(),c=i.useCallback((async()=>{if(e){s(!0);try{const n=await Kf(e,{params:{query:t},signal:a.signal});r(n),s(!1)}catch(n){let e="An error occurred";n&&"object"==typeof n&&"error"in n?e=String(n.error):n instanceof Error?e=n.message:n&&(e=String(n)),d(e),s(!1)}}}),[e,a.signal,t]);i.useEffect((()=>{c()}),[c]);const u=i.useCallback((async()=>{n||await c()}),[n,c]);return{isLoading:n,data:o,error:l,refetch:u}},Lye=e=>Eye(`/api/v1/exports/${e}/exportPreview`),jye=e=>Eye(`/api/v1/exports/${e}/latestExport`);var Rye=(e=>(e.VIDEO="video",e.GIF="gif",e.IMAGE="image",e.AUDIO="audio",e.UNKNOWN="unknown",e))(Rye||{});const Nye=e=>"mp4"===(null==e?void 0:e.toLowerCase())?"video":"gif"===(null==e?void 0:e.toLowerCase())?"gif":["png","image","jpg","jpeg"].includes((null==e?void 0:e.toLowerCase())||"")?"image":"mp3"===(null==e?void 0:e.toLowerCase())?"audio":"unknown",Mye="FacebookUploadView-module_container_lNaCs",Pye="FacebookUploadView-module_allOptionsContainer_cXmtK",Fye="FacebookUploadView-module_optionContainer_ZB40t",Dye="FacebookUploadView-module_optionLabel_UoQJd",Oye="FacebookUploadView-module_requiredLabel_mozOb",Uye="FacebookUploadView-module_connectChannelButton_EbJ-Z",Bye="FacebookUploadView-module_disconnectChannelButton_QvnZI",Wye="FacebookUploadView-module_titleTextArea_eVdzi",Vye="FacebookUploadView-module_descriptionTextArea_Z9jY9",Hye="FacebookUploadView-module_noPages_zZG7u",zye="FacebookUploadView-module_pageRow_Jv7WN",Gye="FacebookUploadView-module_pageIcon_kx3e1",Yye="FacebookUploadView-module_pageName_4Xlsj",Kye="FacebookUploadView-module_postSection_CgbPB",Xye="FacebookUploadView-module_termsOfService_NFCqR",Zye="FacebookUploadView-module_postProjectButton_zm0RU",qye="FacebookUploadView-module_disconnectButton_EPvWq",Jye=({onFail:e,onSuccess:t,url:a,toastInfo:n={description:"Allow pop-ups and redirects in your browser to continue."}})=>{const{dispatch:s}=Mu(),o=window.open(a,"_blank");o||s(db({type:"info",description:n.description}));const i=o?t:e;null==i||i()},$ye="Label-module_row_Dewvv",Qye="Label-module_helpIcon_aM-QF",ewe=b.memo((({label:e,required:t=!1,infoUrl:a,infoIconSize:n=15,className:s,requiredLabelClassName:o})=>{const r=i.useCallback((()=>{Jye({url:a})}),[a]);return f.jsxs("div",{className:$ye,children:[f.jsx("span",{className:s,children:e}),a&&f.jsx(Mt,{onClick:r,className:Qye,size:n}),t&&f.jsx("span",{className:o,children:"(required)"})]})})),twe="LabeledTextArea-module_characterCountText_LfvaU",awe="LabeledTextArea-module_characterCountOverflowText_DadvS",nwe="LabeledTextArea-module_textareaHeader_DfGas",swe="TextArea-module_textarea_KtF8S",owe=b.memo((({value:e,placeholder:t,className:a,innerRef:n,singleLine:s=!1,onChange:o,onReturnPressed:r,returnKeys:l=["Enter"]})=>{const d=i.useCallback((e=>{const t=e.target.value;null==o||o(t)}),[o]),c=i.useCallback((e=>{l.includes(e.key)&&(s&&e.preventDefault(),null==r||r())}),[r,s,l]);return f.jsx("textarea",{ref:n,className:L(swe,a),onChange:d,value:e,placeholder:t,wrap:s?"off":void 0,onKeyDown:c})})),iwe=b.memo((({label:e,required:t=!1,characterLimit:a,placeholder:n="",defaultValue:s="",onChange:o,containerClassName:r,labelClassName:l,requiredLabelClassName:d,textAreaClassName:c})=>{const[u,p]=i.useState(s);return i.useEffect((()=>null==o?void 0:o(u)),[u,o]),f.jsxs("div",{className:r,children:[f.jsxs("div",{className:nwe,children:[f.jsx(ewe,{label:e,required:t,className:l,requiredLabelClassName:d}),a&&f.jsxs("span",{className:u.length>a?awe:twe,children:[u.length,"/",a]})]}),f.jsx(owe,{value:u,placeholder:n,onChange:p,className:c})]})})),rwe="Select-module_disabled_sYj9u",lwe="Select-module_select_oM4mb",dwe="Select-module_dark_WXZn9",cwe="Select-module_trigger_PYSpU",uwe="Select-module_item_zHOsP",pwe="Select-module_icon_yab7R",mwe="Select-module_viewport_hVIgR",gwe=b.memo((e=>{const{label:t,icon:a,className:n,value:s,theme:o,...i}=e,r=o===h_.Studio?dwe:"";return f.jsx(Sr,{className:L(uwe,n,r),value:s,...i,children:f.jsxs(xr,{children:[f.jsx("div",{children:t}),f.jsx("div",{className:pwe,children:a})]})})})),hwe=b.memo((({value:e,onValueChange:t,items:a,className:n,theme:s,disabled:o=!1,placeholder:r=""})=>{const l=s===h_.Studio?dwe:"",d=i.useMemo((()=>({zIndex:1e3})),[]);return f.jsx("div",{className:L(lwe,l,{[rwe]:o},n),children:f.jsxs(Ir,{value:e,onValueChange:t,children:[f.jsxs(Ar,{className:L(cwe,l),children:[f.jsx(kr,{placeholder:r}),f.jsx(Tr,{className:pwe,children:f.jsx(ot,{})})]}),f.jsx(Er,{children:f.jsx(Lr,{style:d,children:f.jsx(jr,{className:L(mwe,l),children:a})})})]})})})),vwe="SocialChannelConnectView-module_connectChannelButton_i1X-I",fwe="SocialChannelConnectView-module_channelContainer_qivoz",bwe="SocialChannelConnectView-module_leftSide_ei1tl",ywe="SocialChannelConnectView-module_channelThumbnail_4Wrmy",wwe="SocialChannelConnectView-module_disconnectChannelButton_ZlOSH",_we=b.memo((({connectedClassname:e,disconnectButtonClassname:t,disconnectedClassname:a,platform:n,connected:s,imgUrl:o,userName:r,connect:l,signOut:d})=>{const c=i.useCallback((async()=>{s?(d(),ov("Disconnected Social Account",{platform:n})):(ov("Started Social Account Connection",{platform:n}),await l(),ov("Connected Social Account",{platform:n}))}),[s,n,l,d]);return s?f.jsxs("div",{className:L(fwe,e),children:[f.jsxs("div",{className:bwe,children:[f.jsx("img",{className:ywe,src:o,alt:"Channel Thumbnail"}),f.jsx("span",{children:r})]}),f.jsxs("button",{onClick:c,className:L(wwe,t),children:[f.jsx(Pt,{}),f.jsx("span",{children:"Disconnect"})]})]}):f.jsxs("button",{onClick:c,className:L(vwe,a),children:["Connect to ",n]})})),Cwe=b.memo((e=>{const t=Du((e=>e.facebook.account));return f.jsx(_we,{...e,platform:tye.facebook,connected:!!t,imgUrl:null==t?void 0:t.picture,userName:null==t?void 0:t.name,connect:hhe,signOut:fhe})})),Swe={width:"100%",height:"50px",marginTop:"8px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"white"},xwe=b.memo((({url:e,defaultTitle:t="",containerClassName:a,onPost:n})=>{const s=Bu(),{facebookAccount:o,pages:r,selectedPageId:l,title:d,description:c}=Du((e=>({facebookAccount:e.facebook.account,pages:e.facebook.pages,selectedPageId:e.facebook.selectedPageId,title:e.facebook.title,description:e.facebook.description})),Ou),u=i.useCallback((e=>{s(ete.setTitle(e))}),[s]),p=i.useCallback((e=>{s(ete.setDescription(e))}),[s]),m=i.useCallback((e=>{s(ete.setSelectedPageId(e))}),[s]),[g,h]=i.useState(!1),v=i.useCallback((()=>o?0===r.length?{valid:!1,error:"No Facebook Pages found in your account"}:l?e?0===d.length?{valid:!1,error:"Please provide a title for your video"}:d.length>255?{valid:!1,error:"Title too long"}:c.length>5e3?{valid:!1,error:"Description too long"}:{valid:!0,error:"Success"}:{valid:!1,error:"Please wait until your video finishes exporting"}:{valid:!1,error:"Please select a Facebook Page"}:{valid:!1,error:"Please connect your Facebook account first"}),[o,r,l,e,d,c])(),b=i.useCallback((async()=>{h(!0),ov("Initiated Post To Social",{platform:tye.facebook});try{const t=r.find((e=>e.id===l));if(!t)throw new Error("Selected Facebook Page not found");const a=await Xf("/api/v1/facebook/uploadVideo",{body:{accessToken:t.accessToken,pageId:t.id,title:d,description:c,videoUrl:e},timeout:6e4});ov("Posted To Social Successful",{platform:tye.facebook}),h(!1),null==n||n(a.video_id)}catch(t){h(!1),ov("Posted To Social Failed",{error:t}),429===t.status?s(db({description:"You are posting to Facebook too frequently. Please wait a few minutes and try again.",type:"error"})):cb({description:"Error posting to Facebook:",error:t,sendToSentry:!0})}}),[e,d,c,l,r,s,n]);let y=null;y=g?f.jsx(iye,{style:Swe}):f.jsx("button",{disabled:!v.valid||g,onClick:b,className:Zye,children:"Post my project"}),v.valid||(y=f.jsx(Hw,{message:v.error,style:X4,delayDuration:0,wrapWithDiv:!0,children:y}));const w=i.useMemo((()=>o?0===r.length?f.jsx("div",{className:Hye,children:"No Facebook Pages found. Please create a Facebook Page in your Facebook account."}):f.jsx(hwe,{theme:h_.Studio,value:l,placeholder:"Select a Facebook Page",onValueChange:m,items:r.map((e=>f.jsx(gwe,{label:f.jsxs("div",{className:zye,children:[e.picture&&f.jsx("img",{src:e.picture,alt:e.name,className:Gye}),f.jsx("div",{className:Yye,children:e.name})]}),value:e.id},e.id)))}):f.jsx("div",{className:Hye,children:"No Pages Found."})),[o,r,l,m]);return f.jsxs("div",{className:L(Mye,a),children:[f.jsxs("div",{className:Pye,children:[f.jsxs("div",{className:Fye,children:[f.jsx(ewe,{label:"Facebook account",required:!0,className:Dye,requiredLabelClassName:Oye}),f.jsx(Cwe,{connectedClassname:Uye,disconnectButtonClassname:qye,disconnectedClassname:Bye})]}),f.jsxs("div",{className:Fye,children:[f.jsx(ewe,{label:"Facebook Page",required:!0,className:Dye,requiredLabelClassName:Oye}),w]}),f.jsx(iwe,{label:"Title",required:!0,characterLimit:255,placeholder:"Enter a title",defaultValue:d||t,onChange:u,textAreaClassName:Wye,labelClassName:Dye,requiredLabelClassName:Oye,containerClassName:Fye}),f.jsx(iwe,{label:"Description",characterLimit:5e3,placeholder:"Enter a description (optional)",defaultValue:c,onChange:p,textAreaClassName:Vye,labelClassName:Dye,containerClassName:Fye})]}),f.jsxs("div",{className:Kye,children:[f.jsxs("div",{className:Xye,children:["By posting, you agree to Facebook's"," ",f.jsx("a",{target:"_blank",rel:"noreferrer",href:"https://www.facebook.com/legal/terms",children:"Terms of Service"}),"."]}),y]})]})})),Iwe="PostToSocialsModal-module_modalContainer_DxFAY",Awe="PostToSocialsModal-module_modalTitle_Jf4vU",kwe="PostToSocialsModal-module_backButton_UB4Tn",Twe="PostToSocialsModal-module_titleIcon_ThWhn",Ewe="PostToSocialsModal-module_modalWrapper_-vjkK",Lwe="PostToSocialsModal-module_leftSideWrapper_ANXvb",jwe="PostToSocialsModal-module_videoPlayerWrapper_QHb4L",Rwe="PostToSocialsModal-module_exportFailedLabel_QIpCX",Nwe="PostToSocialsModal-module_preview_VjUbB",Mwe="PostToSocialsModal-module_thumbnailImage_hNbNH",Pwe="PostToSocialsModal-module_shadow_X5xiS",Fwe="PostToSocialsModal-module_progressOverlay_jZund",Dwe="PostToSocialsModal-module_progressView_8oWI9",Owe="PostToSocialsModal-module_progressTextWrapper_h7Fc0",Uwe="PostToSocialsModal-module_progressNum_INXRU",Bwe="PostToSocialsModal-module_progressPercent_F4SbH",Wwe="PostToSocialsModal-module_progressBar_eQg-p",Vwe="PostToSocialsModal-module_exportingLabel_62nQe",Hwe="PostToSocialsModal-module_rightSideWrapper_qOvJb",zwe="PostToSocialsModal-module_choosePlatformView_uERz1",Gwe="PostToSocialsModal-module_choosePlatformText_RKi3x",Ywe="PostToSocialsModal-module_postNotAllowedLabel_JB-5S",Kwe="PostToSocialsModal-module_buttonContainer_nE8dR",Xwe="PostToSocialsModal-module_platformButtonContainer_EPx8l",Zwe="PostToSocialsModal-module_platformButton_kV31z",qwe="PostToSocialsModal-module_platformNameText_5tzDK",Jwe="PostToSocialsModal-module_platformButtonIcon_Y7I-1",$we="PostToSocialsModal-module_youtubeOptionsContainer_2-7YH",Qwe="PostToSocialsSuccessModal-module_modalWrapper_r8a8I",e_e="PostToSocialsSuccessModal-module_thumbnailImageWrapper_SFx9U",t_e="PostToSocialsSuccessModal-module_thumbnailImage_5PRrg",a_e="PostToSocialsSuccessModal-module_playButton_-r7u5",n_e="PostToSocialsSuccessModal-module_playIcon_FyLP3",s_e="PostToSocialsSuccessModal-module_projectOnYouTubeLabel_E6G6z",o_e="PostToSocialsSuccessModal-module_publishedToLabel_WRmEi",i_e="PostToSocialsSuccessModal-module_channelInfoContainer_qPACj",r_e="PostToSocialsSuccessModal-module_channelThumbnail_pjhpK",l_e="PostToSocialsSuccessModal-module_channelTitle_ScZm4",d_e="PostToSocialsSuccessModal-module_youtubeLinkActions_MQu10",c_e="PostToSocialsSuccessModal-module_openInNewTabButton_uNAtH",u_e="PostToSocialsSuccessModal-module_copyLinkButton_8Esh-",p_e="PostToSocialsSuccessModal-module_postToAnotherPlatformButton_R66RE",m_e="PostToSocialsSuccessModal-module_backToPostingOptionsButton_0mpXr",g_e={[tye.youtube]:"YouTube",[tye.youtubeShorts]:"Shorts",[tye.tiktok]:"TikTok",[tye.facebook]:"Facebook"},h_e=b.memo((({postedStatus:e,thumbnailUrl:t,onClickedBackToPostingOptions:a,facebookPages:n})=>{var s,o,r,l;const d=e.platform,c=g_e[e.platform],u=(e=>e.platform===tye.youtube?`https://www.youtube.com/watch?v=${e.video.id}`:e.platform===tye.youtubeShorts?`https://www.youtube.com/shorts/${e.video.id}`:e.platform===tye.tiktok?"https://www.tiktok.com/profile":e.platform===tye.facebook?`https://www.facebook.com/watch/?v=${e.videoId}`:"")(e),[p,m]=i.useState(!1),g=b.useRef(null),[h,v]=i.useState(void 0),y=i.useCallback((()=>{if(g.current){const{naturalWidth:e,naturalHeight:t}=g.current;v({width:e,height:t})}}),[]),w=p?"Copied!":`Copy ${c} Link`;let _,C,S="";const x=Du((e=>e.youtube.channel)),I=Du((e=>e.tiktok.channel)),A=Du((e=>e.facebook.selectedPageId));if(e.platform===tye.youtube||e.platform===tye.youtubeShorts)_=(null==(r=null==(o=null==(s=null==x?void 0:x.snippet)?void 0:s.thumbnails)?void 0:o.default)?void 0:r.url)??"",S=G4,C=(null==(l=null==x?void 0:x.snippet)?void 0:l.title)??"";else if(e.platform===tye.tiktok)_=null==I?void 0:I.avatarUrl,S=Y4,C=null==I?void 0:I.username;else if(e.platform===tye.facebook){const t=e.pageId||A,a=n.find((e=>e.id===t));_=null==a?void 0:a.picture,S=K4,C=null==a?void 0:a.name}const k=()=>{Jye({url:u,toastInfo:{description:`Failed to redirect to posted ${d} video!`}})};return f.jsxs("div",{className:Qwe,children:[t&&f.jsxs("div",{onClick:k,className:e_e,style:{aspectRatio:h?`${h.width} / ${h.height}`:"16 / 9"},children:[f.jsx("img",{src:t,alt:"Thumbnail",className:t_e,onLoad:y,ref:g}),f.jsx("button",{className:a_e,children:f.jsx("span",{className:n_e,children:""})})]}),f.jsxs("div",{className:s_e,children:["Your project is now on ",d]}),(_||C)&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:o_e,children:"Your project was published to"}),f.jsxs("div",{className:i_e,children:[f.jsx("img",{src:_||S,alt:"Channel Thumbnail",className:r_e}),f.jsx("div",{className:l_e,children:C||"Error: No channel title found"})]})]}),f.jsxs("div",{className:d_e,children:[e.platform!==tye.tiktok&&u&&f.jsxs("button",{className:c_e,onClick:k,children:[e.platform===tye.youtube&&f.jsxs(f.Fragment,{children:[f.jsx(Ft,{}),`Watch on ${d}`]}),e.platform===tye.facebook&&f.jsxs(f.Fragment,{children:[f.jsx(Dt,{}),"View Post"]})]}),(e.platform===tye.youtube||e.platform===tye.youtubeShorts)&&u&&f.jsxs("button",{className:u_e,onClick:()=>{navigator.clipboard.writeText(u),m(!0),setTimeout((()=>m(!1)),1e3)},children:[f.jsx(Ot,{}),w]}),!(e.platform===tye.youtube)&&f.jsx("button",{className:p_e,onClick:a,children:"Post to another platform"})]}),e.platform===tye.youtube&&f.jsx("button",{className:m_e,onClick:a,children:"Post to another platform"})]})})),v_e=async({url:e,name:t})=>{try{const a=await S(e,{mode:"no-cors"});if(404===a.status)return{error:"Not Found",file:void 0,status:a.status};if(!a.ok)return{error:a.statusText,file:void 0,status:a.status};const n=await a.blob();if(0===n.size)return{error:"Empty Blob",file:void 0,status:a.status};return{file:new File([n],t,{type:n.type}),status:a.status}}catch(b9e){return console.error(`Failed to fetch ${t}`,b9e),{error:"unknown"}}};var f_e=(e=>(e.PUBLIC_TO_EVERYONE="PUBLIC_TO_EVERYONE",e.FOLLOWER_OF_CREATOR="FOLLOWER_OF_CREATOR",e.MUTUAL_FOLLOW_FRIENDS="MUTUAL_FOLLOW_FRIENDS",e.SELF_ONLY="SELF_ONLY",e))(f_e||{});const b_e={PUBLIC_TO_EVERYONE:{title:"Everyone"},FOLLOWER_OF_CREATOR:{title:"Followers",description:"Visible only to followers on your private account"},MUTUAL_FOLLOW_FRIENDS:{title:"Friends",description:"Followers that you follow back"},SELF_ONLY:{title:"Only me"}};const y_e={workspacePopoverZIndex:"18",popoverZIndex:"14",paywallZIndex:"1001",paywallBgZIndex:"1000",container:"Checkbox-module_container_5xlKI",checkboxContainer:"Checkbox-module_checkboxContainer_oH-io",studioTheme:"Checkbox-module_studioTheme_HeOng",workspaceTheme:"Checkbox-module_workspaceTheme_uUWNF",label:"Checkbox-module_label_S2POb",studioLabel:"Checkbox-module_studioLabel_ZOl5i",workspaceLabel:"Checkbox-module_workspaceLabel_QkIBq",preventSelect:"Checkbox-module_preventSelect_WNgbN"};const w_e=b.memo((function({label:e,labelSize:t,checked:a,onChange:n,disabled:s,color:o,checkboxClassName:r,containerClassName:l}){const d=i.useMemo((()=>({opacity:a?1:0})),[a]);return f.jsxs("div",{className:L(y_e.container,y_e.preventSelect,l),onClick:()=>!s&&n(!a),style:{opacity:s?.5:1},children:[f.jsx("div",{className:`${y_e.checkboxContainer} ${r} ${y_e[`${o}Theme`]}`,children:f.jsx(Ut,{size:16,style:d})}),!!e&&f.jsx("div",{className:`${y_e.label} ${y_e[`${o}Label`]}`,style:{fontSize:`${t||11}px`},children:e})]})})),__e=b.memo((e=>{const t=Du((e=>e.tiktok.channel));return f.jsx(_we,{...e,platform:tye.tiktok,connected:!!t,imgUrl:null==t?void 0:t.avatarUrl,userName:null==t?void 0:t.username,connect:Ohe,signOut:Whe})})),C_e="TikTokUploadView-module_container_FnBI1",S_e="TikTokUploadView-module_allOptionsContainer_EIIP3",x_e="TikTokUploadView-module_optionContainer_GfWER",I_e="TikTokUploadView-module_optionLabel_OfcJP",A_e="TikTokUploadView-module_discloseOptionLabel_OfR3C",k_e="TikTokUploadView-module_requiredLabel_Ao8L9",T_e="TikTokUploadView-module_tiktokConnected_TUjY6",E_e="TikTokUploadView-module_tiktokDisconnectButton_hLQYO",L_e="TikTokUploadView-module_tiktokDisconnected_dO-vV",j_e="TikTokUploadView-module_titleTextArea_-Rze6",R_e="TikTokUploadView-module_connectAccountMessage_MkjKh",N_e="TikTokUploadView-module_allowOptions_Bhbc4",M_e="TikTokUploadView-module_allowOption_tqtjM",P_e="TikTokUploadView-module_allowOptionLabel_1v8jQ",F_e="TikTokUploadView-module_disclosePostContentWrapper_Ix-3j",D_e="TikTokUploadView-module_disclosePostContentInfoLabel_BreTY",O_e="TikTokUploadView-module_promotingInfoLabel_R2IjR",U_e="TikTokUploadView-module_postSection_y-kxF",B_e="TikTokUploadView-module_termsOfService_DXW3f",W_e="TikTokUploadView-module_postProjectButton_0msOY",V_e="TikTokUploadView-module_paywallPostButton_qFLTr",H_e="TikTokUploadView-module_checkbox_2wRNy",z_e="TikTokUploadView-module_disabledCheckbox_MFC1L",G_e="TikTokUploadView-module_privacyRow_CXndn",Y_e="TikTokUploadView-module_privacyLevel_nNnW9",K_e="TikTokUploadView-module_privacyPlaceholder_QZgAx",X_e="TikTokUploadView-module_privacyDescription_yI542",Z_e={width:"100%",height:"50px",marginTop:"8px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"white"},q_e=b.memo((({url:e,defaultTitle:t="",containerClassName:a,onPost:n})=>{const s=Bu(),{tiktokChannel:o,title:r,privacyLevel:l,allowComments:d,allowDuets:u,allowStitches:p,disclosePostContent:m,promotingYourBrand:g,promotingBrandedContent:h}=Du((e=>({tiktokChannel:e.tiktok.channel,title:e.tiktok.title,privacyLevel:e.tiktok.privacyLevel,allowComments:e.tiktok.allowComments,allowDuets:e.tiktok.allowDuets,allowStitches:e.tiktok.allowStitches,disclosePostContent:e.tiktok.disclosePostContent,promotingYourBrand:e.tiktok.promotingYourBrand,promotingBrandedContent:e.tiktok.promotingBrandedContent})),Ou),v=i.useCallback((e=>{s(Kte.setTitle(e))}),[s]),b=i.useCallback((e=>{if(t=e,!Object.values(f_e).some((e=>e===t)))throw new Error("Invalid privacy level");var t;s(Kte.setPrivacyLevel(e))}),[s]),y=i.useCallback((e=>{s(Kte.setAllowComments(e))}),[s]),w=i.useCallback((e=>{s(Kte.setAllowDuets(e))}),[s]),_=i.useCallback((e=>{s(Kte.setAllowStitches(e))}),[s]),C=i.useCallback((e=>{s(Kte.setDisclosePostContent(e))}),[s]),S=i.useCallback((e=>{s(Kte.setPromotingYourBrand(e))}),[s]),x=i.useCallback((e=>{s(Kte.setPromotingBrandedContent(e))}),[s]),[I,A]=i.useState(!1),[k,T]=i.useState(void 0),E=cg(),j=rse(),R=[Id.Free,Id.Basic].includes(E.type),N=i.useCallback((()=>o?e?0===r.length?{valid:!1,error:"Please provide a description for your video"}:r.length>2200?{valid:!1,error:"Description too long"}:l?!m||g||h?{valid:!0,error:"Success"}:{valid:!1,error:"You need to indicate if your content promotes yourself, a third party, or both."}:{valid:!1,error:"No privacy level selected"}:{valid:!1,error:"Please wait until your video finishes exporting"}:{valid:!1,error:"Please connect your TikTok channel first"}),[o,e,r,l,m,g,h])(),M=i.useCallback((async()=>{var t,a;A(!0),ov("Initiated Post To Social",{platform:tye.tiktok});try{const{file:t,error:a}=await v_e({url:e,name:"video"});if(!t)throw new Error(a);const n=new FormData;n.append("videoFile",t),await Vhe((async e=>{const{accessToken:t}=e,{publish_id:a}=await Xf("/api/v1/tiktok/uploadVideo",{headers:{enctype:"multipart/form-data"},params:{accessToken:t,title:r,privacyLevel:l,allowComments:d,allowDuets:u,allowStitches:p,promotingYourBrand:g,promotingBrandedContent:h},body:n,timeout:6e4});console.info("got publish id:",a),ov("Posted To Social Successful",{platform:tye.tiktok}),T(a)}))}catch(n){A(!1),ov("Posted To Social Failed",{error:n}),"spam_risk_too_many_posts"===(null==(t=n.additionalData)?void 0:t.code)?s(db({description:"You have exceeded the daily limit for posting to TikTok. Please try again in 24 hours.",type:"error"})):"rate_limit_exceeded"===(null==(a=n.additionalData)?void 0:a.code)?s(db({description:"You are posting to TikTok too frequently. Please wait a few minutes and try again.",type:"error"})):(cb({description:"Error posting to TikTok:",error:n,sendToSentry:!0}),console.info("Error posting to TikTok:",n))}}),[e,r,l,d,u,p,g,h,s]);i.useEffect((()=>{if(k){console.info("Checking post status for:",k);const e=setInterval((async()=>{try{const{status:e,fail_reason:t}=await Vhe((async e=>{const{accessToken:t}=e;return await Kf("/api/v1/tiktok/getPostStatus",{params:{accessToken:t,publishId:k}})}));console.info("Post status:",e),console.info("Fail reason:",t);const a=()=>{A(!1),T(void 0)};"FAILED"===e&&(a(),cb({description:"We couldnt post your video to TikTok. Connect to a different TikTok account or try again later.",error:t,sendToSentry:!0}),console.info("Error posting to TikTok:",t)),"PUBLISH_COMPLETE"===e&&(a(),console.info("Successfully posted to TikTok!"),null==n||n())}catch(e){console.info("Error getting post status:",e)}}),2e3);return()=>clearInterval(e)}}),[k,n,s]);const P=e=>{const t=b_e[e],a=f.jsx("div",{className:Y_e,children:t.title});return f.jsxs("div",{className:G_e,children:[a,t.description&&f.jsx("div",{className:X_e,children:t.description})]})},F=i.useMemo((()=>f.jsx("span",{className:K_e,children:"Select a privacy level"})),[]);i.useEffect((()=>{m||(S(!1),x(!1))}),[m,S,x]);const D=i.useMemo((()=>f.jsx(Hw,{message:"This feature is disabled on your TikTok account.",style:X4,delayDuration:0,wrapWithDiv:!0,children:f.jsx(w_e,{disabled:!0,checked:!1,onChange:c.noop,checkboxClassName:z_e})})),[]);let O=null;O=I?f.jsx(iye,{style:Z_e}):R?f.jsx("button",{onClick:j(c.noop,{action:Dd.POST_TO_TIKTOK}),className:V_e,children:"Upgrade to post "}):f.jsx("button",{disabled:!N.valid||I,onClick:M,className:W_e,children:"Post my project"}),N.valid||R||(O=f.jsx(Hw,{message:N.error,style:X4,delayDuration:0,wrapWithDiv:!0,children:O}));const U=i.useMemo((()=>h?f.jsxs("div",{className:B_e,children:['Your photo/video will be labeled as "Paid partnership". By posting, you agree to TikTok\'s'," ",f.jsx("a",{target:"_blank",rel:"noreferrer",href:"https://www.tiktok.com/legal/page/global/bc-policy/en",children:"Branded Content Policy"})," ","and"," ",f.jsx("a",{target:"_blank",rel:"noreferrer",href:"https://www.tiktok.com/legal/page/global/music-usage-confirmation/en",children:"Music Usage Confirmation"}),"."]}):g?f.jsxs("div",{className:B_e,children:['Your photo/video will be labeled as "Promotional content". By posting, you agree to TikTok\'s'," ",f.jsx("a",{target:"_blank",rel:"noreferrer",href:"https://www.tiktok.com/legal/page/global/music-usage-confirmation/en",children:"Music Usage Confirmation"}),"."]}):null),[g,h]);return f.jsxs("div",{className:L(C_e,a),children:[f.jsxs("div",{className:S_e,children:[f.jsxs("div",{className:x_e,children:[f.jsx(ewe,{label:"TikTok channel",className:I_e}),f.jsx(__e,{connectedClassname:T_e,disconnectButtonClassname:E_e,disconnectedClassname:L_e})]}),f.jsx(iwe,{label:"Description",characterLimit:2200,placeholder:"Enter a description",defaultValue:r||t,onChange:v,textAreaClassName:j_e,labelClassName:I_e,containerClassName:x_e}),f.jsxs("div",{className:x_e,children:[f.jsx(ewe,{label:"Who can view this post",required:!0,className:I_e,requiredLabelClassName:k_e}),o&&o.privacyOptions.length>0?f.jsx(hwe,{theme:h_.Studio,value:l??"",placeholder:F,onValueChange:b,items:o.privacyOptions.map((e=>f.jsx(gwe,{label:P(e),value:e},e)))}):f.jsx("div",{className:R_e,children:"Please connect your TikTok account to see visibility options."})]}),f.jsxs("div",{className:x_e,children:[f.jsx(ewe,{label:"Allow users to",className:I_e}),o?f.jsxs("div",{className:N_e,children:[f.jsxs("div",{className:M_e,children:[o.commentDisabled?D:f.jsx(w_e,{checked:d,onChange:y,checkboxClassName:H_e}),f.jsx("div",{className:P_e,children:"Comment"})]}),f.jsxs("div",{className:M_e,children:[o.duetDisabled?D:f.jsx(w_e,{checked:u,onChange:w,checkboxClassName:H_e}),f.jsx("div",{className:P_e,children:"Duet"})]}),f.jsxs("div",{className:M_e,children:[o.stitchDisabled?D:f.jsx(w_e,{checked:p,onChange:_,checkboxClassName:H_e}),f.jsx("div",{className:P_e,children:"Stitch"})]})]}):f.jsx("div",{className:R_e,children:"Please connect your TikTok account to see allowable options."})]}),f.jsxs("div",{className:x_e,children:[f.jsxs("div",{className:F_e,children:[f.jsx(ewe,{label:"Disclose post content",className:I_e}),f.jsx(The,{toggled:m,onChange:C,backgroundColor:m?"#0083e2":"#202020",sliderColor:"white"})]}),f.jsx("span",{className:D_e,children:"Let others know this post promotes a brand, product, or service."})]}),m&&f.jsxs("div",{className:x_e,children:[f.jsxs("div",{className:F_e,children:[f.jsx(ewe,{label:"Your brand",className:A_e}),f.jsx(w_e,{checked:g,onChange:S,checkboxClassName:H_e})]}),f.jsx("span",{className:O_e,children:"You are promoting yourself or your own business."}),f.jsxs("div",{className:F_e,children:[f.jsx(ewe,{label:"Branded content",className:A_e}),f.jsx(w_e,{checked:h,onChange:x,checkboxClassName:H_e})]}),f.jsx("span",{className:O_e,children:"You are promoting another brand or third party."})]})]}),f.jsxs("div",{className:U_e,children:[U,O]})]})})),J_e=b.memo((e=>{var t,a,n,s;const o=Du((e=>e.youtube.channel));return f.jsx(_we,{...e,platform:tye.youtube,connected:!!o,imgUrl:(null==(n=null==(a=null==(t=null==o?void 0:o.snippet)?void 0:t.thumbnails)?void 0:a.default)?void 0:n.url)??G4,userName:(null==(s=null==o?void 0:o.snippet)?void 0:s.title)??"No channel connected",connect:Qhe,signOut:eve})})),$_e="YouTubeUploadView-module_container_-hXtX",Q_e="YouTubeUploadView-module_allOptionsContainer_VF5vG",eCe="YouTubeUploadView-module_optionContainer_xkcEw",tCe="YouTubeUploadView-module_youtubeConnected_15ePA",aCe="YouTubeUploadView-module_youtubeDisconnectButton_BheKl",nCe="YouTubeUploadView-module_youtubeDisconnected_kXnsj",sCe="YouTubeUploadView-module_optionLabel_EEaL-",oCe="YouTubeUploadView-module_requiredLabel_Ien48",iCe="YouTubeUploadView-module_titleTextArea_1eN4W",rCe="YouTubeUploadView-module_descriptionTextArea_4d-E3",lCe="YouTubeUploadView-module_tagInstructions_bzPfZ",dCe="YouTubeUploadView-module_tagsTextArea_E-AAk",cCe="YouTubeUploadView-module_tagsContainer_qPoBH",uCe="YouTubeUploadView-module_tag_4DQxr",pCe="YouTubeUploadView-module_tagText_xV5Oo",mCe="YouTubeUploadView-module_trashIcon_qfeuM",gCe="YouTubeUploadView-module_noCategoriesLabel_RMNEm",hCe="YouTubeUploadView-module_thumbnailOptionsContainer_3pPS8",vCe="YouTubeUploadView-module_uploadThumbnailOption_qRnSe",fCe="YouTubeUploadView-module_imageThumbnailOption_2Ps--",bCe="YouTubeUploadView-module_thumbnailOption_QSvC2",yCe="YouTubeUploadView-module_selectedThumbnailOption_N7BsW",wCe="YouTubeUploadView-module_fileUploadIcon_Erc0B",_Ce="YouTubeUploadView-module_buttonWrapper_mljui",CCe="YouTubeUploadView-module_button_Ufpvt",SCe="YouTubeUploadView-module_thumbnailImage_7vRee",xCe="YouTubeUploadView-module_audienceSwitch_q9-hc",ICe="YouTubeUploadView-module_switch_r2lyN",ACe="YouTubeUploadView-module_switchSelected_723i9",kCe="YouTubeUploadView-module_postSection_Gf4eW",TCe="YouTubeUploadView-module_termsOfService_bn-au",ECe="YouTubeUploadView-module_postProjectButton_NMOdj",LCe="YouTubeUploadView-module_categoryRow_aEzF4",jCe="YouTubeUploadView-module_visibilityRow_Q3p8X",RCe="YouTubeUploadView-module_visibilityLevel_f4DzF",NCe="YouTubeUploadView-module_visibilityDescription_6yvO4",MCe=["image/gif","image/jpeg","image/avif","image/png","image/svg+xml","image/tiff","image/vnd.wap.wbmp","image/webp","image/x-icon","image/x-jng","image/x-ms-bmp"],PCe={width:"100%",height:"50px",marginTop:"8px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"white"},FCe=b.memo((({shorts:e,exportDTO:t,containerClassName:a,defaultTitle:n="",defaultDescription:s="I made this video with Kapwing, an AI-powered video creation platform that helps you make social media content 10x faster. Try it at https://www.kapwing.com",onPost:o=c.noop,onChangeThumbnail:r=c.noop})=>{const l=Bu(),{youtubeChannel:d,title:u,description:p,tags:m,categories:g,selectedCategoryId:h,selfDeclaredMadeForKids:v,privacyStatus:b}=Du((e=>({youtubeChannel:e.youtube.channel,title:e.youtube.title,description:e.youtube.description,tags:e.youtube.tags,categories:e.youtube.categories,selectedCategoryId:e.youtube.selectedCategoryId,selfDeclaredMadeForKids:e.youtube.selfDeclaredMadeForKids,privacyStatus:e.youtube.privacyStatus})),Ou),y=i.useCallback((e=>{l(oae.setTitle(e))}),[l]),w=i.useCallback((e=>{l(oae.setDescription(e))}),[l]),_=i.useCallback((e=>{l(oae.setSelectedCategoryId(e))}),[l]),C=i.useCallback((e=>{l(oae.setSelfDeclaredMadeForKids(e))}),[l]),S=i.useCallback((e=>{if(t=e,!Object.values(Qte).some((e=>e===t)))throw new Error("Invalid privacy status");var t;return l(oae.setPrivacyStatus(e))}),[l]),[x,I]=i.useState(!1),A=i.useRef(null),[k,T]=i.useState(void 0),[E,j]=i.useState([]),[N,M]=i.useState(!1),[P,F]=i.useState(0),[D,O]=i.useState(void 0),U=i.useRef(null),B=e?tye.youtubeShorts:tye.youtube,W=i.useCallback((async e=>{const t=await m5(e);j((a=>[{name:e.name,file:e,dataUrl:t},...a])),F(0)}),[]),V=i.useCallback((async e=>{if(!e.target.files||0===e.target.files.length)return;const t=e.target.files[0];MCe.includes(t.type)?await W(t):l(db({description:"Invalid file type. Please upload an image file.",type:"warning"}))}),[W,l]),H=i.useCallback(((e,t)=>{t.stopPropagation(),j((t=>t.filter(((t,a)=>a!==e))))}),[j]);i.useEffect((()=>{r(null==k?void 0:k.dataUrl)}),[k,r]),i.useEffect((()=>{M(!1)}),[t]);const z=(null==t?void 0:t.status)===uu.COMPLETED?null==t?void 0:t.duration:0;i.useEffect((()=>{if(e)return;if((null==t?void 0:t.status)!==uu.COMPLETED||!t.snapshotId||!z)return;if(E.length>0||N)return;const a=async e=>{try{const a=(await Q1({snapshot_id:t.snapshotId,video_id:t.videoId})).content,{fileInfo:{name:n},dataUrl:s}=await UC({actionDescription:"Canvas export preview",timeoutMs:1e4,promise:_6(a,ex.YouTubeThumbnail,e)});j((e=>[...e,{name:n,dataUrl:s}]))}catch(a){console.error(a)}};M(!0),(async()=>{for(const e of(e=>{const t=[];return e>2&&t.push(2),e/2>2&&t.push(e/2),e-2>e/2&&t.push(e-2),t})(z))await a(e)})()}),[t.status,t.videoId,t.snapshotId,z,e,E,N]),i.useEffect((()=>{e||(P<0||P>=E.length?F(E.length-1):T(E[P]))}),[e,E,P]);const G=i.useCallback((()=>{if(!U.current)return;const e=U.current.value.split(",").map((e=>e.trim()));if(e){const t=[];for(const a of e)a&&(m.includes(a)?l(db({description:`The tag '${a}' has already been added.`,type:"warning"})):t.push(a));l(oae.setTags([...m,...t])),U.current.value=""}}),[m,l]),Y=i.useCallback((e=>{l(oae.setTags(m.filter(((t,a)=>a!==e))))}),[m,l]),K=i.useCallback((e=>{var t;return f.jsx("div",{className:LCe,children:null==(t=e.snippet)?void 0:t.title})}),[]),X=i.useCallback((e=>f.jsxs("div",{className:jCe,children:[f.jsx("div",{className:RCe,children:e}),f.jsx("div",{className:NCe,children:eae[e]})]})),[]),Z=i.useCallback((()=>d?t.status!==uu.COMPLETED?{valid:!1,error:"Please wait until your video finishes exporting"}:0===u.length?{valid:!1,error:"Please provide a title for your video"}:u.length>100?{valid:!1,error:"Title too long"}:p.length>5e3?{valid:!1,error:"Description too long"}:h?b?{valid:!0,error:"Success"}:{valid:!1,error:"Please select a visibility for your video"}:{valid:!1,error:"Please select a category for your video"}:{valid:!1,error:"Please connect your YouTube channel first"}),[t.status,d,u,p,h,b])(),q=i.useCallback((async()=>{if(t.status!==uu.COMPLETED)throw new Error("Cannot post to YouTube before export finishes");const{file:e,error:a}=await v_e({url:t.downloadUrl,name:u});if(!e)throw new Error(a);let n,s;k&&(s=k.name.split(".")[-1]||"png",n=k.file||aI({name:`${tA()}.${s}`},k.dataUrl));const o=new FormData;return o.append("videoFile",e),n&&o.append("thumbnailFile",n),$he((async e=>{const{accessToken:t}=e,{postedVideo:a,thumbnailSet:i}=await Xf("/api/v1/youtube/uploadVideo",{headers:{enctype:"multipart/form-data"},params:{accessToken:t,title:u,description:p,tags:m,selectedCategoryId:h,selfDeclaredMadeForKids:v,privacyStatus:b,thumbnailExtension:s},body:o,timeout:6e4});return n&&!i&&l(db({description:["Video upload succeeded, but thumbnail upload failed. ","Please ",{text:"verify",href:"https://www.youtube.com/verify"}," your YouTube account and try again."],type:"error"})),a}),"https://www.googleapis.com/auth/youtube.upload")}),[t,u,p,m,h,v,b,k,l]),J=i.useCallback((async()=>{I(!0),ov("Initiated Post To Social",{platform:B});try{const e=await q();if(!e.id)throw new Error("No video id returned from YouTube");ov("Posted To Social Successful",{platform:B}),o(e)}catch(e){ov("Posted To Social Failed",{error:e}),cb({description:"Failed to post to YouTube.",error:e,sendToSentry:!0})}finally{I(!1)}}),[q,o,B,I]);let $=x?f.jsx(iye,{style:PCe}):f.jsx("button",{disabled:!Z.valid||x,onClick:J,className:ECe,children:"Post my project"});return Z.valid||($=f.jsx(Hw,{message:Z.error,delayDuration:0,style:X4,wrapWithDiv:!0,children:$})),f.jsxs("div",{className:L($_e,a),children:[f.jsxs("div",{className:Q_e,children:[f.jsxs("div",{className:eCe,children:[f.jsx(ewe,{label:"YouTube channel",className:sCe}),f.jsx(J_e,{connectedClassname:tCe,disconnectButtonClassname:aCe,disconnectedClassname:nCe})]}),f.jsx(iwe,{label:"Title",required:!0,characterLimit:100,placeholder:"Enter a title",defaultValue:u||n,onChange:y,textAreaClassName:iCe,labelClassName:sCe,requiredLabelClassName:oCe,containerClassName:eCe}),f.jsx(iwe,{label:"Description",characterLimit:5e3,placeholder:"Enter a description",defaultValue:p||s,onChange:w,textAreaClassName:rCe,labelClassName:sCe,containerClassName:eCe}),!e&&f.jsxs("div",{className:eCe,children:[f.jsx(ewe,{label:"Thumbnail",className:sCe}),f.jsxs("div",{className:L(hCe),children:[f.jsxs("div",{className:L(bCe,vCe),style:{aspectRatio:e?"9 / 16":"16 / 9"},onClick:()=>{var e;null==(e=null==A?void 0:A.current)||e.click()},children:[f.jsx(Bt,{className:wCe}),"Upload thumbnail"]},0),f.jsx("input",{type:"file",onChange:V,ref:A,style:{display:"none"}}),E.map(((t,a)=>f.jsxs("div",{className:a===P?L(bCe,fCe,yCe):L(bCe,fCe),style:{aspectRatio:e?"9 / 16":"16 / 9"},onClick:F.bind(null,a),onMouseEnter:O.bind(null,a),onMouseLeave:O.bind(null,void 0),children:[f.jsx("img",{className:SCe,src:t.dataUrl,alt:`Thumbnail Option ${a}`}),t.file&&D===a&&f.jsx("button",{onClick:e=>H(a,e),className:L(CCe,_Ce),children:f.jsx(Wt,{})})]},a+1)))]})]}),f.jsxs("div",{className:eCe,children:[f.jsx(ewe,{label:"Tags",className:sCe}),f.jsx("span",{className:lCe,children:"Enter a list of comma-separated tags, then press the return key to save them."}),f.jsx(owe,{innerRef:U,placeholder:"Enter tags",className:dCe,singleLine:!0,onReturnPressed:G}),m.length>0&&f.jsx("div",{className:cCe,children:m.map(((e,t)=>f.jsxs("div",{className:uCe,children:[f.jsx("span",{className:pCe,children:e}),f.jsx("button",{onClick:Y.bind(null,t),className:mCe,children:f.jsx(R,{color:"white",size:16})})]},t)))})]}),f.jsxs("div",{className:eCe,children:[f.jsx(ewe,{label:"Category",className:sCe}),g.length>0?f.jsx(hwe,{theme:h_.Studio,value:h??"",placeholder:"Select a category",onValueChange:_,items:g.map((e=>f.jsx(gwe,{label:K(e),value:e.id??""},e.id)))}):f.jsx("div",{className:gCe,children:"Please connect your YouTube channel to see available categories."})]}),f.jsxs("div",{className:eCe,children:[f.jsx(ewe,{label:"Audience",infoUrl:"https://support.google.com/youtube/answer/9528076?hl=en",className:sCe}),f.jsxs("div",{className:xCe,children:[f.jsx("div",{className:`${ICe} ${v?null:ACe}`,onClick:C.bind(null,!1),"data-testid":"audience-not-made-for-kids",children:"Not made for kids"}),f.jsx("div",{className:`${ICe} ${v?ACe:null}`,onClick:C.bind(null,!0),"data-testid":"audience-made-for-kids",children:"Made for kids"})]})]}),f.jsxs("div",{className:eCe,children:[f.jsx(ewe,{label:"Visibility",infoUrl:"https://support.google.com/youtube/answer/157177?hl=en&co=GENIE.Platform%3DDesktop",className:sCe}),f.jsx(hwe,{theme:h_.Studio,value:b??"",placeholder:"Select a visibility",onValueChange:S,items:[Qte.public,Qte.private,Qte.unlisted].map((e=>f.jsx(gwe,{label:X(e),value:e},e)))})]})]}),f.jsxs("div",{className:kCe,children:[f.jsxs("div",{className:TCe,children:["By clicking '","Post my project","', you certify that the content you are uploading complies with the"," ",f.jsx("a",{target:"_blank",rel:"noreferrer",href:"https://www.youtube.com/t/terms",children:"YouTube Terms of Service"})," ","(including the YouTube Community Guidelines). Please be sure not to violate others' copyright or privacy rights."]}),$]})]})})),DCe={height:"100%"},OCe={zIndex:16,border:"1px solid #505050",borderRadius:"5px"},UCe=b.memo((({exportId:e,thumbnailUrl:t,format:a,defaultTitle:n})=>{var s;const{data:o,refetch:r}=Lye(e),{exportDTO:l}=o||{},[d,u]=i.useState(void 0),[p,m]=i.useState(void 0),[g,h]=i.useState(void 0),v=i.useRef(null),b=i.useRef(null),[y,w]=i.useState(),[_,C]=i.useState();i.useEffect((()=>{if(!r)return;const e=setInterval(r,5e3);return()=>clearInterval(e)}),[r]);const S=i.useCallback((e=>t=>{if(!t.target)return;const a=t.target;a.naturalWidth&&a.naturalHeight&&e({width:a.naturalWidth,height:a.naturalHeight})}),[]),x=Bu(),I=rse(),A=Bg(),k=I(c.noop,{action:Dd.POST_TO_TIKTOK}),T=Du((e=>e.youtube.channel)),E=Du((e=>e.tiktok.channel)),L=Du((e=>e.facebook.pages));i.useEffect((()=>{x(oae.setExportId(e)),x(Kte.setExportId(e)),x(ete.setExportId(e))}),[e,x]);const j=cg(),R=[Id.Free,Id.Basic].includes(j.type),N=()=>{h(void 0),u(void 0)},M=g?`Share to ${g}`:"Share your video directly to socials",P=(null==l?void 0:l.status)===uu.COMPLETED&&void 0!==l.duration&&void 0!==l.width&&void 0!==l.height,F=a===Rye.VIDEO,D=P&&F,O=!!D&&!!l.duration&&!!l.width&&!!l.height&&(l.duration>=180||l.width>l.height),U=D&&!O,B="Please wait until your video finishes exporting.";let W=F?B:void 0;O?W=void 0:U&&(W="Videos must be non-vertical or longer than 60 seconds to post as a regular YouTube video.");let V=F?B:void 0;U?V=void 0:O&&(V="Videos must be vertical and shorter than 60 seconds to post to YouTube Shorts.");const H=P&&E&&F&&l.duration&&l.duration<=E.maxVideoDuration||!E&&F;let z=F?B:void 0;if(H)z=void 0;else if(P&&E&&F){const e=Math.floor(E.maxVideoDuration/60),t=Math.floor(E.maxVideoDuration%60);z=`Videos must be shorter than ${e?e+" minutes":""} ${t?t+" seconds":""} to post to TikTok.`}const G=Du((e=>e.facebook.account)),Y=Ju(Ru.UPLOAD_TO_FACEBOOK),K=P&&G&&F||!G&&F;let X=F?B:"Disabled publish to facebook button.";K&&(X=void 0);const Z=i.useMemo((()=>{const e=[{name:tye.youtube,icon:G4,available:!0,disabled:!O,alt:W},{name:tye.youtubeShorts,icon:"https://cdn-useast1.kapwing.com/static/0Rp-Youtube_shorts_icon.svg.webp",available:!0,disabled:!U,alt:V},{name:tye.tiktok,icon:Y4,available:!0,disabled:!H,alt:z,paidFeature:R}];return Y&&e.push({name:tye.facebook,displayName:"Facebook Page",icon:K4,available:!0,disabled:!K,alt:X}),e}),[O,U,W,V,H,z,R,Y,K,X]),q=i.useCallback((()=>{if(a===Rye.IMAGE)return(null==l?void 0:l.status)===uu.COMPLETED&&l.downloadUrl?f.jsx("img",{src:l.downloadUrl,alt:"Exported PNG",ref:b,onLoad:S(C)}):f.jsx(iye,{style:DCe});if((null==l?void 0:l.status)!==uu.COMPLETED)throw new Error("Unable to render uncompleted snapshot");return f.jsx(xye,{exportDTO:l,allowFullscreen:!1})}),[a,l,S,C]),J=i.useCallback((()=>{if((null==l?void 0:l.status)===uu.FAILED)return f.jsx("div",{className:Rwe,children:"The export failed and you cannot share to socials. Please try again later!"});let e;if(e=A||a===Rye.AUDIO?A?{width:"100%",height:`40${Aye}`}:a===Rye.AUDIO?{width:"100%",height:"55px"}:{}:(null==l?void 0:l.status)===uu.COMPLETED&&l.width&&l.height?{aspectRatio:`${l.width} / ${l.height}`}:_?{aspectRatio:`${_.width} / ${_.height}`}:{aspectRatio:"1 / 1"},(null==l?void 0:l.status)===uu.RUNNING){const a=q9({progressDict:l.progressDict,createdAt:l.createdAt.toString()});let n=e;return y&&!A&&(n={aspectRatio:`${y.width} / ${y.height}`}),f.jsxs("div",{style:n,className:Nwe,children:[t?f.jsx("img",{src:t,alt:"Export Thumbnail",className:Mwe,ref:v,onLoad:S(w)}):f.jsx("div",{className:Mwe}),f.jsx("div",{className:Pwe}),f.jsxs("div",{className:Fwe,children:[f.jsxs("div",{className:Dwe,children:[f.jsx("div",{className:Wwe,style:{height:`${a}%`}}),f.jsx("div",{className:Owe,children:f.jsxs("span",{className:Uwe,children:[a,f.jsx("span",{className:Bwe,children:"%"})]})})]}),f.jsx("span",{className:Vwe,children:"Exporting..."})]})]})}if(l){const t=q();return f.jsx("div",{style:e,className:jwe,children:t})}return f.jsx(iye,{style:DCe})}),[l,t,a,q,y,_,S,A]),$=i.useCallback((async(e,t)=>{ov("Clicked Socials Tile",{platform:e}),t?(e!==tye.youtube&&e!==tye.youtubeShorts||T||(ov("Started Social Account Connection",{platform:e}),await Qhe(),ov("Connected Social Account",{platform:e})),e===tye.tiktok&&R?k():(e!==tye.tiktok||E||(ov("Started Social Account Connection",{platform:e}),await Ohe(),ov("Connected Social Account",{platform:e})),e!==tye.facebook||(null==L?void 0:L.length)||(ov("Started Social Account Connection",{platform:e}),await hhe(),ov("Connected Social Account",{platform:e})),h(e))):x(db({description:`Share to ${e} is coming soon. Were working to add this platform  stay tuned.`,type:"info"}))}),[T,E,L,R,k,x]),Q=i.useCallback((({key:e,name:t,displayName:a,icon:n,available:s=!0,disabled:o=!1,alt:i,paidFeature:r=!1})=>{const l=f.jsx("div",{className:Xwe,children:f.jsxs("button",{className:Zwe,disabled:o,onClick:$.bind(null,t,s),children:[f.jsx("img",{className:Jwe,src:n,alt:t}),f.jsx("div",{className:qwe,children:(a||t)+(r?" ":"")})]})},e);return i?f.jsx(Hw,{message:i,delayDuration:0,style:X4,wrapWithDiv:!0,children:l},e):l}),[$]),ee=i.useCallback((()=>f.jsxs("div",{className:zwe,children:[f.jsx(ewe,{label:"Choose a platform",infoUrl:"https://www.kapwing.com/help/share-to-socials-from-kapwing/",className:Gwe,infoIconSize:17}),a!==Rye.VIDEO&&f.jsx("div",{className:Ywe,children:"We currently dont support uploads to social media for images, GIFs, or audio projects."}),f.jsx("div",{className:Kwe,children:[...Z].sort(((e,t)=>e.disabled&&!t.disabled?1:!e.disabled&&t.disabled?-1:0)).map(((e,t)=>Q({key:t,...e})))})]})),[Z,Q,a]),te=i.useCallback((async e=>{u({platform:g===tye.youtubeShorts?tye.youtubeShorts:tye.youtube,video:e})}),[g]),ae=i.useCallback((()=>(null==l?void 0:l.status)!==uu.COMPLETED?null:f.jsx(FCe,{shorts:g===tye.youtubeShorts,exportDTO:l,containerClassName:$we,defaultTitle:n,onPost:te,onChangeThumbnail:m})),[g,n,te,m,l]),ne=i.useCallback((async()=>{u({platform:tye.tiktok})}),[]),se=i.useCallback((()=>(null==l?void 0:l.status)!==uu.COMPLETED?null:f.jsx("div",{children:f.jsx(q_e,{url:l.downloadUrl,defaultTitle:n,onPost:ne})})),[l,n,ne]),oe=i.useCallback((async e=>{u({platform:tye.facebook,videoId:e})}),[]),ie=i.useCallback((()=>(null==l?void 0:l.status)!==uu.COMPLETED?null:f.jsx(xwe,{url:l.downloadUrl,defaultTitle:n,onPost:oe})),[l,n,oe]),re=i.useCallback((()=>{switch(g){case tye.youtube:case tye.youtubeShorts:return ae();case tye.tiktok:return se();case tye.facebook:return ie();default:return ee()}}),[g,ee,ae,se,ie]);return d?(null==l?void 0:l.status)!==uu.COMPLETED?null:f.jsx(h_e,{postedStatus:d,format:a,thumbnailUrl:a===Rye.VIDEO?p:l.downloadUrl,onClickedBackToPostingOptions:N,facebookPages:L}):f.jsxs("div",{className:Iwe,children:[f.jsxs("div",{className:Awe,children:[void 0!==g&&f.jsx("div",{className:kwe,onClick:h.bind(null,void 0),children:f.jsx(Vt,{size:17})}),M,g&&f.jsx("img",{src:null==(s=Z[Z.findIndex((e=>e.name===g))])?void 0:s.icon,alt:`${g} Logo`,className:Twe})]}),f.jsxs("div",{className:Ewe,children:[f.jsx("div",{className:Lwe,children:J()}),f.jsx("div",{className:Hwe,children:re()})]})]})})),BCe=e=>Du((t=>{var a,n;if(!e||!e.length)return ql;if(e.length>1)return"Projects";const s=e[0];return s&&((null==(n=null==(a=t.projects.byId[s])?void 0:a.content)?void 0:n.name)||t.studio.name)||ql})),WCe=he((e=>[e])),VCe=b.memo((({projectId:e,onSubmit:t,name:a})=>{const n=BCe([e]),[s,o]=i.useState(a||(e=>{const t=e.match(/^(.*) \((\d+)\)$/);if(t)return`${t[1]} (${parseInt(t[2]??"0")+1})`;return`${e} (1)`})(n)),r=WCe(e),l=i.useMemo((()=>f.jsxs("span",{children:["Copy",f.jsx("strong",{children:a||n}),""]})),[a,n]),d=i.useCallback((e=>t({destinationFolderId:e,name:s})),[t,s]);return f.jsx(Hfe,{actionType:mu.COPY,header:l,submitText:"Copy",onSubmit:d,projectIds:r,children:f.jsx(zfe,{label:"Name",children:f.jsx("div",{className:zve,children:f.jsx("input",{"data-cy":"copy-project-name-input",type:"text",value:s,onChange:e=>o(e.target.value)})})})})}));var HCe=(e=>(e.PersonalizeWorkspace="personalizeWorkspace",e.TwoWeekPostOnboarding="twoWeekPostOnboarding",e.BrandkitPrepopulated="brandkitPrepopulated",e.CreateYourFirstVideo="createYourFirstVideo",e.IntroducingRepurposeStudio="introducingRepurposeStudio",e.RepurposePersonalizedShare="repurposePersonalizedShare",e.StudioSuggestRepurposeStudio="studioSuggestRepurposeStudio",e))(HCe||{});function zCe(){const e=Du((e=>e.currentUser)),t=lg(),a=i.useCallback((a=>GCe(e,t._id,a)),[t._id,e]),n=i.useCallback((a=>YCe(e,t._id,a)),[t._id,e]),s=i.useCallback((a=>KCe(e,t._id,a)),[t._id,e]),o=i.useCallback((async a=>{await XCe(e,t._id,a)}),[t._id,e]),r=i.useCallback((async a=>{await ZCe(e,t._id,a)}),[t._id,e]);return i.useMemo((()=>({getUpsellDateShown:a,getUpsellDateAcknowledged:n,setUpsellAcknowledged:r,setUpsellShown:o,getUpsellShownCount:s})),[n,a,s,r,o])}const GCe=(e,t,a)=>{var n;const s=null==(n=e.user)?void 0:n.upsells;if(s)switch(a){case"brandkitPrepopulated":case"personalizeWorkspace":{const e=s[`${a}_${t}`];if(!e||!e.dateShown)return;return new Date(String(e.dateShown))}default:{const e=s[a];if(!e||!e.dateShown)return;return new Date(String(e.dateShown))}}},YCe=(e,t,a)=>{var n;const s=null==(n=e.user)?void 0:n.upsells;if(s)switch(a){case"brandkitPrepopulated":case"personalizeWorkspace":{const e=s[`${a}_${t}`];if(!e||!e.dateAcknowledged)return;return new Date(String(e.dateAcknowledged))}default:{const e=s[a];if(!e||!e.dateAcknowledged)return;return new Date(String(e.dateAcknowledged))}}},KCe=(e,t,a)=>{var n;const s=null==(n=e.user)?void 0:n.upsells;if(s)switch(a){case"brandkitPrepopulated":case"personalizeWorkspace":{const e=s[`${a}_${t}`];if(!e||!e.shownCount)return;return Number(e.shownCount)}default:{const e=s[a];if(!e||!e.dateShown)return;return Number(e.shownCount)}}},XCe=async(e,t,a)=>{var n;const s=null==(n=e.user)?void 0:n.upsells,o=null==s?void 0:s[a];switch(a){case"brandkitPrepopulated":case"personalizeWorkspace":{const e=`${a}_${t}`;await FP({...s,[e]:{...o,dateShown:new Date,shownCount:((null==o?void 0:o.shownCount)??0)+1}});break}default:await FP({...s,[a]:{...o,dateShown:new Date,shownCount:((null==o?void 0:o.shownCount)??0)+1}})}},ZCe=async(e,t,a)=>{var n;const s=null==(n=e.user)?void 0:n.upsells,o=null==s?void 0:s[a];switch(a){case"brandkitPrepopulated":case"personalizeWorkspace":{const e=`${a}_${t}`;await FP({...s,[e]:{...o,dateAcknowledged:new Date}});break}default:{const e=null==s?void 0:s[a];await FP({...s,[a]:{...e,dateAcknowledged:new Date}});break}}},qCe="UpgradePill-module_upgradePill_FFwDh",JCe="UpgradePill-module_proSparkle_6f6z-",$Ce=b.memo((({action:e=Dd.HEADER,className:t=""})=>{const a=rse();return f.jsxs("div",{className:`${qCe} ${t}`,onClick:t=>{t.stopPropagation(),a((()=>{}),{action:e})()},"data-testid":"upgrade-pill","data-cy":"upgrade-pill",children:["Upgrade",f.jsx(_se,{className:JCe})]})})),QCe="Header-module_disabled_38HIa",eSe="Header-module_logo_QVo0M",tSe="Header-module_headerContainer_KjYjb",aSe="Header-module_impersonating_1Id8B",nSe="Header-module_headerLeft_igtHW",sSe="Header-module_headerCenter_XuuEv",oSe="Header-module_headerRight_NLmeW",iSe="Header-module_headerButtonContainer_P0uH-",rSe="Header-module_commentsLabel_Isk9v",lSe="Header-module_selectedCommentsLabel_FHkvW",dSe="Header-module_headerButtonIcon_GtSRT",cSe="Header-module_accountButton_QvF6H",uSe="Header-module_headerLogoContainer_eu6dZ",pSe="Header-module_signInButton_ZeIw5",mSe="Header-module_breadcrumbContainer_f25MD",gSe="Header-module_icon_r3tf5",hSe="Header-module_breadcrumbLink_30R1b",vSe="Header-module_upgradeLabel_DuItJ",fSe="Header-module_presenceIconContainer_hrFnM",bSe="Header-module_presenceIconWrapper_sMFHu",ySe="Header-module_presenceIcon_ifIAE",wSe="Header-module_plusIcon_BvhSM",_Se="Header-module_projectName_96vsC",CSe="Header-module_noEvents_V76Ox",SSe="Header-module_settingsButtonIcon_pb8-b",xSe="Header-module_impersonationWarning_b--Dq",ISe="Header-module_tooltip_1Pb-R",ASe="Header-module_headerSettingsButtonContainer_YghPc",kSe="Header-module_commentsIcon_CplJ1",TSe="Header-module_highlightCountLink_07AUG",ESe="Header-module_highlightCount_gShdW",LSe=b.memo((({children:e,content:t})=>f.jsxs(Yi,{delayDuration:100,children:[f.jsx(Ji,{asChild:!0,children:e}),f.jsx(Xi,{children:f.jsx(Zi,{className:ISe,children:t})})]})));async function jSe(e){await navigator.clipboard.writeText(e)}const RSe="ShareButton-module_shareButton_-kY3p",NSe="ShareButton-module_shareButtonIcon_V7wh9",MSe="ShareButton-module_shareButtonText_WF9Qj",PSe=b.memo((e=>{const t=Bu(),a=Ht("/repurpose/:workflowId"),{workflowId:n}=(null==a?void 0:a.params)||{},{canWrite:s,currentUser:o,creatorEmail:r,editorPath:l,videoId:d,videoSaving:c}=Du((e=>({currentUser:e.currentUser,videoId:e.studio._id,creatorEmail:e.studio.creatorEmail,videoSaving:e.videoSaving,editorPath:e.editorPath,canWrite:e.userPermissions.canWrite||n})),Ou),[u,p]=i.useState(!1),[m,g]=i.useState(!1),h=i.useCallback((()=>{p(!1)}),[]),v=i.useCallback((async e=>{const{user:t}=o||{};if(e&&e.stopPropagation(),qm(o)){if(!m){if(d){const e=r??t.email;((e,t,a)=>{const n={"Project Owner Email":a,"Sharer Email":e.email,"Video ID":t};amplitude.setUserId(e._id),amplitude.logEvent("Project Share Dialog Opened",n)})(t,d,e)}g(!0),!d&&c?(await(async()=>new Promise(((e,t)=>{const a=setInterval((()=>{Mu().state.studio._id&&(clearInterval(a),e())}),250)})))(),p(!1),aR("/studio/editor/share")):d?(p(!1),aR("/studio/editor/share")):await d7({currentUser:o,publish:!1,auto:!1,createLocation:"studio-share"}).then((()=>{p(!1),aR("/studio/editor/share")})).catch((e=>(p(!1),cb({description:"Failed to share video",error:e}),null))),g(!1)}}else p(!0)}),[r,o,m,d,c]),b=i.useCallback((()=>{e.onSignin&&e.onSignin(),v()}),[e,v]),y=async()=>{var e,o;if(s)if(n){const a=new URL(window.location.href);a.searchParams.set(Xw.REPURPOSE_SHARE,"true"),await jSe(a.toString()),t(db({type:"success",description:"The link to your project has been copied to your clipboard!"}));const s=Mu().state.workflows.workflowById[n];let o=[],i=0;"success"===(null==s?void 0:s.status)&&s.data.status===vu.COMPLETE&&(o=s.data.experiments||[],i=(null==(e=s.data.highlights)?void 0:e.length)??0),ov("Repurpose Project Share Completed",{"Number of Highlights":i,"Find Highlights Workflow ID":n,Experiments:o??[]})}else(null==(o=null==a?void 0:a.pathname)?void 0:o.endsWith("/share"))?aR(l):v()};return f.jsxs(f.Fragment,{children:[s?f.jsx(LSe,{content:"Share this project to invite others to collaborate with you",children:f.jsxs("div",{className:RSe,onClick:y,"data-cy":"share-button","data-testid":"studio-header-share-button",children:[f.jsx(zt,{className:NSe})," ",f.jsx("span",{className:MSe,children:"Share"})]})}):null,u&&f.jsx(ene,{hideSignIn:h,onSuccess:b,description:"Kapwing works better if you're signed in. Sign in to share your project with people and edit collaboratively in real time.",immediateRedirectPathname:"/studio/editor/share"})]})})),FSe=async(e="",t="")=>{const a=await X6(t,e)||"";aR(`/folder/${a}`),await kb(),H5(e)},DSe=async(e="")=>{const{state:t}=Mu(),{teams:{allTeams:a},workspaces:{allWorkspaces:n}}=t;let s="",o="";const i=a.find((e=>e.primary));if(i){s=i._id;const e=n.find((e=>e.teamId===s));o=null==e?void 0:e._id}o||(o=await X6(e,s)),aR(o?`/folder/${o}`:"/home")},OSe=e=>{const{dispatch:t}=Mu();t(df(e)),aR(`/folder/${e}`)},USe=(e,t)=>{const{dispatch:a}=Mu(),n=function(e,t){const{allWorkspaces:a}=Mu().state.workspaces,n=n_(a,e).find((e=>e._id!==t));return(null==n?void 0:n._id)||""}(t,e);a(df(n)),aR(`/folder/${n}`)};function BSe(e){const{state:t}=Mu(),{token:a,user:n}=t.currentUser||{};return Xf(`/api/v1/admin/users/${e}`,{body:{token:a,userId:n._id}})}function WSe(e){const{state:t}=Mu(),{token:a,user:n}=t.currentUser||{},{_id:s}=n;return Xf("/api/v1/admin/fetchUserByEmail",{body:{email:e,token:a,userId:s}})}function VSe(e,t){const{state:a}=Mu(),{token:n,user:s}=a.currentUser||{};return Xf("/api/v1/admin/fetchContentByEmail",{body:{targetUserEmail:e,pageNum:t,token:n,userId:s._id}})}function HSe(e,t){return Xf("/api/v2/admin/addStripeId",{body:{targetTeamId:t,stripeId:e}})}function zSe(e){const{state:t}=Mu(),{user:a}=t.currentUser||{};return Xf("/api/v2/admin/removeStripeId",{body:{targetTeamId:e,userId:a._id}})}function GSe(e,t){const{state:a}=Mu(),{token:n,user:s}=a.currentUser||{};return Xf("/api/v2/admin/upgradeTeam",{body:{targetTeamId:e,planTier:t,token:n,userId:s._id}})}function YSe(e){const{state:t}=Mu(),{token:a,user:n}=t.currentUser||{};return Xf("/api/v2/admin/setTeamToFree",{body:{targetTeamId:e,token:a,userId:n._id}})}function KSe(e,t){const{state:a}=Mu(),{token:n,user:s}=a.currentUser||{};return Xf("/api/v1/admin/updateAccountType",{body:{targetUserId:e,newAccountType:t,token:n,userId:s._id}})}function XSe(){return Jf("stripe_stats",{timeout:6e4,includeAuth:!0})}async function ZSe(e){const{dispatch:t,state:a}=Mu(),{token:n,user:s,impersonatingAdminEmail:o}=a.currentUser;t(fb("")),t(xf.setLastValidWorkspaceInfo(void 0));const i=await Xf("/api/v1/admin/impersonateUser",{parseJSON:!0,body:{token:n,userId:s._id,userToImpersonateId:e}});t($f(i.user,i.token,o||s.email)),await Tb(),await X6(),_C()}function qSe(e){return Xf("/api/v2/admin/blockSuggestedDomain",{body:{domain:e}})}const JSe="AdminImpersonationWarning-module_spacer_ApupO",$Se="AdminImpersonationWarning-module_contentBox_0QV4E",QSe="AdminImpersonationWarning-module_warningText_sLr1y",exe="AdminImpersonationWarning-module_dangerIcon_A3Cd9",txe="AdminImpersonationWarning-module_button_ROdvO",axe=r.connect((e=>({currentUser:e.currentUser}))),nxe=i.memo(axe((({className:e,currentUser:t})=>{const{user:a,impersonatingAdminEmail:n}=t,{email:s}=a;if(!n)return null;return f.jsxs("div",{className:`${JSe} ${e||""}`,children:[f.jsx("span",{className:exe,style:{left:"4px"},children:""}),f.jsxs("div",{className:$Se,children:[f.jsxs("span",{className:QSe,children:["Admin - You are acting as ",f.jsx("b",{children:s}),"."]}),f.jsxs("button",{type:"button",onClick:async()=>{await async function(){const{dispatch:e,state:t}=Mu(),{token:a,user:n}=t.currentUser;e(fb("")),e(xf.setLastValidWorkspaceInfo(void 0));const s=await Xf("/api/v1/admin/revertImpersonation",{parseJSON:!0,body:{token:a,userId:n._id}});e($f(s.user,s.token)),await Tb(),await Wb();const o=await X6();o?OSe(o):aR("/home"),_C()}()},className:txe,children:["Revert to ",n]})]}),f.jsx("span",{className:exe,style:{right:"4px"},children:""})]})}))),sxe="CustomUploader-module_container_1wjmU",oxe="CustomUploader-module_title_8JOE0",ixe="CustomUploader-module_description_kbwiN",rxe="CustomUploader-module_psdUploadGroup_u-jE7",lxe="CustomUploader-module_pastePSDLink_nrJHU",dxe="CustomUploader-module_pastedPSDContainer_NP1G4",cxe="CustomUploader-module_pastedPSDInput_-FoYJ",uxe="CustomUploader-module_button_tX-2G",pxe=({bbox:e,rotation:t,docWidth:a,docHeight:n,sizeUpFactor:s=1})=>{const[o,i]=(e=>[e[2]-e[0],e[3]-e[1]])(e),r=o/a*s,l=i/n*s;return{x:100*(e[0]/a)+"%",y:100*(e[1]/n)+"%",width:100*r+"%",height:100*l+"%",rotation:t}},mxe=async(e,t,a)=>{const{bbox:n,asset:s,rotation:o,name:i}=e,r=pxe({bbox:n,docWidth:t,docHeight:a,rotation:o}),l=await Y9(s,{position:r});if(!l||l.type!==Nc.Image)throw console.error("bad layer",l),new Error;return l.asset_id=s._id,l.userSetName=i,l},gxe=e=>{let t=e;return e.includes("OT")&&(t=e.replace("OT","")),t=t.toLowerCase().replace(/[\s\-_]/g,""),t},hxe={},vxe=e=>{if(fB.includes(e))return e;const t=gxe(e);for(const n of fB)if(gxe(n)===t)return n;const a=e.split("-")[0];if(a){const e=gxe(a);for(const t of fB)if(gxe(t)===e)return t}return hxe[e]?hxe[e]:"Arial"},fxe=(e,t)=>{const a=[];for(const n of e){const{start:e,end:t,style:s}=n,{bold:o,italic:i,underline:r,color:l}=s,d={offset:e,length:t-e+1};o&&a.push({...d,style:"BOLD"}),i&&a.push({...d,style:"ITALIC"}),r&&a.push({...d,style:"UNDERLINE"}),l&&a.push({...d,style:`COLOR_${l}`})}return{blocks:[{data:{},depth:0,entityRanges:[],type:"unstyled",text:t,inlineStyleRanges:a,key:""}],entityMap:{}}},bxe=async(e,t,a)=>{const{bbox:n,content:s,rotation:o,inline_styles:i,alpha:r,font_name:l,text_align:d,is_all_caps:c,outline_color:u,outline_width:p}=e,m=pxe({bbox:n,docWidth:t,docHeight:a,rotation:o}),g=await(async e=>{try{const t=await Kf(`/api/v1/fonts/cache/${e}`),{url:a,name:n}=t,{asset:s}=await f2(a),o={type:"custom",asset_id:s._id,fontFamily:n,url:a};return x0({fontToLoad:o}),{hasCustomFont:!0,asset_id:s._id,fontFamily:n,source:"fromAsset",url:a}}catch(b9e){return{fontFamily:vxe(e)}}})(l);if(!i[0])throw new Error("No inline styles");const{bold:h,italic:v,underline:f,color:b}=i[0].style,y={type:Nc.Text,id:tA(12),backgroundColor:"rgba(-255,-255,-255,0)",color:b,fontWeight:h?"bold":"normal",globalAlpha:r/100,textShadow:"transparent",textAlign:d,text:s,lineHeight:1,position:m,underline:f,italic:v,textTransform:c?"uppercase":"none",layerRequiresPSDResizing:!0,...g};return u&&p&&(y.textOutline={color:u,width:p/4}),1===i.length?y:{...y,draftJSTextTree:fxe(i,s)}},yxe=async e=>{const{state:t,dispatch:a}=Mu(),{background_color:n,width:s,height:o,layers:i}=e;a(SK()),n&&a(CK(n,!1)),Qq({ratioWidth:s,ratioHeight:o});const r=[],l={},d=new Set;for(const m of i)if(m.type===Lu.Text){const e=await bxe(m,s,o);l[e.id]=e.fontSize,r.push(e)}else if(m.type===Lu.Image){d.add(m.asset._id);const e=await mxe(m,s,o);r.push(e)}a(VA({layers:r}));const{assets:c,cml_files:u}=await async function(e,t){const a={assetIds:e,linkToUser:t};return await Xf("/api/v1/cloudMediaLibrary/filesFromAssets",{body:a})}(Array.from(d),!0);a(YE(c)),a(VH(u));const{_id:p}=t.studio;u.forEach((e=>{a(g9(e,p))}))},wxe=async({psdUrl:e,isGallery:t=!1})=>{const a=await Xf("/api/v2/templates/parse-psd",{body:{psdUrl:e,isGallery:t}}),{jobId:n}=a;let s=!1;for(;!s;){const e=await Kf(`/api/v2/templates/parse-psd/${n}`);if("failed"===e.status)throw console.error("Error parsing PSD",e),s=!0,new Error("Error parsing PSD");if("completed"===e.status){if(!e.result)throw console.error("No result from PSD parsing"),new Error("No result from PSD parsing");return e.result}await new Promise((e=>setTimeout(e,2e3)))}},_xe=({className:e,handleClose:t})=>{const[a,n]=i.useState(!1),[s,o]=i.useState("");return f.jsxs("div",{className:`${e} ${sxe}`,children:[f.jsx("div",{className:oxe,children:"PSD uploader"}),f.jsx("div",{className:ixe,children:"Use this uploader to upload a PSD file and parse it for the studio."}),f.jsx("div",{children:a?f.jsx("span",{children:"Loading PSD..."}):f.jsxs("div",{className:rxe,children:[f.jsxs("div",{children:["Upload PSD:",f.jsx("input",{type:"file",accept:"image/vnd.adobe.photoshop",onChange:async e=>{var a;const s=null==(a=e.target.files)?void 0:a[0];if(s)try{n(!0);const e=await Qw({files:[{file:s}],isPrivate:!1}),{read_uri:a,upload_uri:o}=e.uris[0];await(async(e,t)=>new Promise(((a,n)=>{const s=new XMLHttpRequest;s.open("PUT",t,!0),s.setRequestHeader("Content-Type",e.type),s.onload=()=>{200===s.status?a():n(new Error(`Failed to upload file: ${s.statusText}`))},s.onerror=()=>{n(new Error("Failed to upload file"))},s.send(e)})))(s,o),console.info("File uploaded successfully",a);const i=await wxe({psdUrl:a});if(!i)throw console.error("No result from PSD parsing"),new Error("No result from PSD parsing");console.info("Parsed PSD",i);const r=i[0];if(!r)throw console.error("No project info from PSD parsing"),new Error("No project info from PSD parsing");await yxe(r),n(!1),t()}catch(o){console.error(o),cb({description:"Failed to upload PSD",error:o}),n(!1)}},multiple:!1})]}),f.jsx("div",{className:lxe,children:f.jsxs("div",{className:dxe,children:[f.jsx("input",{type:"text",placeholder:"Paste PSD link here",value:s,onChange:e=>o(e.target.value),className:cxe}),f.jsx("button",{className:uxe,onClick:async()=>{try{if(n(!0),!s)throw new Error("No pasted PSD URL");const e=await wxe({psdUrl:s});if(!e||!e.length)throw console.error("No result from PSD parsing"),new Error("No result from PSD parsing");const a=e[0];if(!a)throw console.error("No project info from PSD parsing"),new Error("No project info from PSD parsing");await yxe(a),n(!1),t()}catch(e){console.error(e),cb({description:"Failed to upload PSD",error:e}),n(!1)}},children:"Go"})]})})]})})]})},Cxe=()=>{const[e,t]=i.useState(Lv);return i.useEffect((()=>Rv((()=>t(!0)))),[]),e},Sxe="ProfilerDashboard-module_portal_oYGMz",xxe="ProfilerDashboard-module_devDashboard_KypLT",Ixe="ProfilerDashboard-module_hidden_4IR9D",Axe="ProfilerDashboard-module_tabs_Qu0wf",kxe="ProfilerDashboard-module_data_7T13H",Txe="ProfilerDashboard-module_disabled_UCRSQ",Exe="ProfilerDashboard-module_header_v5lFR",Lxe="ProfilerDashboard-module_status_JoTYK",jxe="ProfilerDashboard-module_devDashboardButton_CbuUj",Rxe="ProfilerDashboard-module_warningFlag_J-5hB",Nxe="ProfilerDashboard-module_title_Nn-qI",Mxe="ProfilerDashboard-module_selected_vbc-L",Pxe="assets-module_playback_xkmca",Fxe="assets-module_videos_h48t6",Dxe=async(e,t)=>{if(Dxe.cache.has(e))return Dxe.cache.get(e);const a=await fetch(e,{headers:{Range:"bytes=0-100000"},signal:t});if(null==a)return null;const n=await a.arrayBuffer(),s=[];return(()=>{const e={};let t=!1,a=0,o=!1;for(;a<n.byteLength&&!o;){const s={size:(i=new DataView(n,a,8)).getUint32(0),type:String.fromCharCode(i.getUint8(4),i.getUint8(5),i.getUint8(6),i.getUint8(7))};switch(s.type){case"ftyp":break;case"moov":e.mdat||(t=!0);break;default:o=!0}a+=s.size,e[s.type]?e[s.type]+=1:e[s.type]=1}var i;e.ftyp?(s.push("mp4"),e.sidx?s.push("fragmented"):t&&s.push("faststart")):s.push("not mp4")})(),Dxe.cache.set(e,s),s};Dxe.cache=new Map;const Oxe=Gu((e=>e.studio.allLayers.byId),(e=>e.assets.byId),(e=>e.assets.localAssetInfo),((e,t,a)=>{const n=Object.values(e).filter((e=>"video"===e.type&&null!=e.asset_id));return c.uniqBy(n,"asset_id").map((e=>{const n=t[e.asset_id],s=Hp(e),o=s?a[s]:void 0;return{...e,url:null==n?void 0:n.url,preview:null==n?void 0:n.preview,local_url:(null==o?void 0:o.preview_local_url)||(null==o?void 0:o.local_url)}}))}));function Uxe(){return(()=>{const{state:e}=Mu(),t=dY();return Ere(e,t)})()?"ElementPool":(()=>{const{state:e}=Mu(),t=dY();return jre(e,t)})()?"CanvasElementPool":"StudioTimeTicker"}const Bxe=b.memo((({className:e,clear:t,disabled:a,setWarningStates:n})=>{const s=Du(Oxe),[o]=i.useState((()=>new AbortController)),[r,l]=i.useState([]),[d,c]=i.useState({}),[u,p]=i.useState(Uxe),m=Du((e=>{const t=new Set(Object.values(e.assets.assetIdByLayerId)),a=[];for(const n of t){const t=e.assets.byId[n];t&&e.assetTranscriptions.byId[t._id]&&a.push(t._id)}return a}),Ou),g=i.useRef({});return i.useEffect((()=>{Dxe.cache.clear(),g.current={},c({})}),[t]),i.useEffect((()=>{for(const e of s){const t=pS(e);t&&(null==g.current[t]&&(g.current[t]=(async()=>{const e=await Dxe(t,o.signal);c((a=>({...a,[t]:e})))})()))}}),[s,o]),i.useEffect((function(){if(a)return;const e=setInterval((()=>{var e;const t=window.elementPoolById.studio,a=null==(e=window.canvasElementPoolById)?void 0:e.studio;if(null==t||null==a)return l([]);const n=[],{state:s}=Mu();for(const o of[t,a]){const e=o.streamsByElementId;for(const[t,a]of e){const e=s.mediaCache.mediaCacheIdToAssetId[a.video.dataset.mediaId??""],o=s.assets.byId[e??""];null==o?n.push({domId:t,playbackType:a.video.dataset.playbackType??""}):n.push({domId:t,assetId:o._id,name:o.name,playbackType:a.video.dataset.playbackType??""})}}l(n)}),500);return()=>clearTimeout(e)}),[a]),i.useEffect((function(){if(a)return;const e=setInterval((()=>{p(Uxe())}),250);return()=>clearInterval(e)}),[a]),i.useEffect((()=>{const e=s.some((e=>e.optimization_failed));n((t=>({...t,"optimize failed":e})))}),[s,n]),f.jsxs("div",{className:e,children:[f.jsxs("div",{className:Fxe,children:[f.jsx("div",{children:"Asset id"}),f.jsx("div",{children:"Name"}),f.jsx("div",{children:"Size"}),f.jsx("div",{children:"Optimized"}),f.jsx("div",{children:"Local file"}),f.jsx("div",{children:"flags"}),s.map((e=>{var t,a;let n;return n=e.optimization_failed?" Failed":(null==(t=e.preview)?void 0:t._id)?"Yes":"No",f.jsxs(i.Fragment,{children:[f.jsx("div",{children:e.asset_id}),f.jsx("div",{children:e.originalName??e.name}),f.jsxs("div",{children:[e.width,"x",e.height]}),f.jsx("div",{children:n}),f.jsx("div",{children:e.local_url?"Yes":"No"}),f.jsx("div",{children:null==(a=d[pS(e)||""])?void 0:a.join(",")})]},e.asset_id)}))]}),f.jsxs("div",{className:Pxe,children:[f.jsx("div",{children:"DOM Id"}),f.jsx("div",{children:"Asset id"}),f.jsx("div",{children:"Name"}),f.jsx("div",{children:"PlaybackType"}),r.map(((e,t)=>f.jsxs(i.Fragment,{children:[f.jsx("div",{children:e.domId}),f.jsx("div",{children:e.assetId}),f.jsx("div",{children:e.name}),f.jsx("div",{children:e.playbackType})]},t)))]}),f.jsxs("div",{className:Fxe,children:[f.jsx("div",{children:"Asset id"}),f.jsx("div",{children:"Transcription Code"}),f.jsx("div",{children:"Status"}),f.jsx("div",{children:"Words"}),f.jsx("div",{children:"Num Speakers"}),f.jsx("div",{}),m.map((e=>{const{state:t}=Mu(),a=t.assetTranscriptions.byId[e];return a?Object.entries(a).map((([t,a])=>{const n="completed"===(null==a?void 0:a.state)?null==a?void 0:a.words.length:0,s=new Set("completed"===(null==a?void 0:a.state)?null==a?void 0:a.words.map((e=>e.speaker)):[]).size;return f.jsxs(i.Fragment,{children:[f.jsx("div",{children:e}),f.jsx("div",{children:t}),f.jsx("div",{children:null==a?void 0:a.state}),f.jsx("div",{children:n}),f.jsx("div",{children:s}),f.jsx("div",{})]},`${e}-${t}`)})):null}))]}),f.jsxs("div",{children:["Time Ticker: ",u]})]})}));function Wxe(e){const[t,a]=i.useState(e);return[t,i.useCallback((e=>{a((t=>{const a="function"==typeof e?e(t):e;return!1===Ou(t,a)?a:t}))}),[])]}const Vxe="reports-module_reports_zJc1L",Hxe="reports-module_fetchTable_KtmCB",zxe="reports-module_elementTable_L9K98",Gxe="reports-module_caret_tfSUN",Yxe="reports-module_expanded_oLhXs",Kxe="reports-module_profilerTree_capDv",Xxe="reports-module_selfTimeCheckbox_Sqam4",Zxe="reports-module_subcategory_VCIno",qxe="reports-module_timing_tknuJ",Jxe="reports-module_userEventTimings_VBcRF",$xe="reports-module_pointerPosition_fe-np",Qxe=b.memo((({setWarningStates:e,shouldThrottle:t})=>{const[a,n]=Wxe({}),[s,o]=Wxe({}),[r,l]=Wxe({}),d=Du((e=>e.studio.allLayers.byId)),c=Du((e=>e.studioLocal.layerTempValues)),u=Du((e=>e.assets.localAssetInfo));return i.useEffect((function(){null!=s&&null!=r&&e((e=>({...e,"audio not local blob":!Pu.remotePlayback&&!!a.nonLocalBlobs,"image not local blob":!Pu.remotePlayback&&!!r.nonLocalBlobs,"video not local blob":!Pu.remotePlayback&&!!s.nonLocalBlobs,"audio error":!!a.errors,"image loading":!!r.errors,"video error":!!s.errors})))}),[e,s,r,a]),i.useEffect((function(){e(Object.values(d).filter((e=>"video"===e.type)),o);e(Object.values(d).filter((e=>"image"===e.type)),l);function e(e,t){var a;let n=0;for(const s of e){const e=Hp(s),t=e?u[e]:void 0;(null==t?void 0:t.preview_local_url)||(null==t?void 0:t.local_url)||(n+=1)}if("video"===(null==(a=e[0])?void 0:a.type))for(const s of e){const e=Hp(s),t=e?u[e]:void 0,a=null==t?void 0:t.trackPreviewLocalUrl,o=null==t?void 0:t.thumbnailSheetLocalInfo;c[s.id]&&(a||o)||(n+=1)}t((t=>({...t,layerCount:e.length,nonLocalBlobs:n})))}e(Object.values(d).filter((e=>"audio"===e.type)),n)}),[d,c]),i.useEffect((()=>{const e=t?2e3:200;let a;const s=()=>{const t=document.getElementsByTagName("video"),i=t.length,r=[...t].filter((e=>e.error)).length,d=document.getElementsByTagName("img"),c=d.length,u=[...d].filter((e=>!e.complete||!e.naturalWidth||!e.naturalHeight)).length,p=document.getElementsByTagName("audio"),m=p.length,g=[...p].filter((e=>e.error)).length;o((e=>({...e,elements:i,errors:r}))),l((e=>({...e,elements:c,errors:u}))),n((e=>({...e,elements:m,errors:g}))),a=setTimeout(s,e)};return s(),()=>{a&&clearTimeout(a)}}),[t]),null==s||null==r?null:f.jsxs("div",{className:zxe,children:[f.jsx("div",{}),f.jsx("div",{children:"Elements"}),f.jsx("div",{children:"Errors"}),f.jsx("div",{children:"Layers"}),f.jsx("div",{children:"Local files"}),f.jsx("div",{children:"Videos"}),f.jsx("div",{children:s.elements}),f.jsx("div",{title:`${s.errors} have errors`,children:s.errors?"":""}),f.jsx("div",{children:s.layerCount}),f.jsx("div",{title:`${s.nonLocalBlobs} videos not using local urls`,children:s.nonLocalBlobs?"":""}),f.jsx("div",{children:"Audio"}),f.jsx("div",{}),f.jsx("div",{title:`${a.errors} have errors`,children:a.errors?"":""}),f.jsx("div",{children:a.layerCount}),f.jsx("div",{title:`${a.nonLocalBlobs} audio elements not using local urls`,children:a.nonLocalBlobs?"":""}),f.jsx("div",{children:"Images"}),f.jsx("div",{children:r.elements}),f.jsx("div",{title:`${r.errors} are still loading`,children:r.errors?"":""}),f.jsx("div",{children:r.layerCount}),f.jsx("div",{title:`${r.nonLocalBlobs} images not using local urls`,children:r.nonLocalBlobs?"":""})]})})),eIe=Intl.NumberFormat(void 0,{maximumFractionDigits:0}),tIe=Intl.NumberFormat(void 0,{maximumFractionDigits:1}),aIe=e=>`${eIe.format(e)}ms`,nIe=e=>`${tIe.format(e/Math.pow(2,20))}mb`,sIe=e=>{let t=0,a=0,n=0,s=0,o=0,i=0,r=0,l=0,d=0;for(const c of e)o+=1,s+=c.transferSize,i+=c.responseEnd-c.fetchStart,"fetch"!==c.initiatorType&&"xmlhttprequest"!==c.initiatorType||(t+=1,a+=c.transferSize,n+=c.responseEnd-c.fetchStart),"video"!==c.initiatorType&&"audio"!==c.initiatorType||(r+=1,l+=c.transferSize,d+=c.responseEnd-c.fetchStart);return{fetches:t,fetchedBytes:a,fetchTime:n,totalRequests:o,totalBytes:s,totalTime:i,mediaRequests:r,mediaBytes:l,mediaTime:d}},oIe=b.memo((({setWarningStates:e,clear:t})=>{const[{fetches:a,fetchedBytes:n,fetchTime:s,totalBytes:o,totalRequests:r,totalTime:l,mediaRequests:d,mediaTime:c,mediaBytes:u},p]=i.useState((()=>sIe(performance.getEntriesByType("resource"))));i.useEffect((()=>()=>{p(sIe([]))}),[t]),i.useEffect((()=>{e((e=>({...e,"fetches over 100":a>100})))}),[e,a]),i.useEffect((()=>{const e=new PerformanceObserver((e=>{p((t=>{const a=sIe(e.getEntries());return{fetches:t.fetches+a.fetches,fetchedBytes:t.fetchedBytes+a.fetchedBytes,fetchTime:t.fetchTime+a.fetchTime,totalRequests:t.totalRequests+a.totalRequests,totalBytes:t.totalBytes+a.totalBytes,totalTime:t.totalTime+a.totalTime,mediaRequests:t.mediaRequests+a.mediaRequests,mediaBytes:t.mediaBytes+a.mediaBytes,mediaTime:t.mediaTime+a.mediaTime}}))}));return e.observe({type:"resource",buffered:!0}),()=>{e.disconnect()}}),[]);const m="For chrome reasons. this is annoying to support the other 2 pieces of data";return f.jsxs("div",{className:Hxe,children:[f.jsx("div",{}),f.jsx("div",{children:"Count"}),f.jsx("div",{title:`1mb is 2^20 (${Math.pow(2,20)}) bytes`,children:"Bytes"}),f.jsx("div",{title:"Timing may overlap with one another",children:"Time"}),f.jsx("div",{children:"Fetches"}),f.jsx("div",{children:eIe.format(a)}),f.jsx("div",{children:nIe(n)}),f.jsx("div",{children:_P(s)}),f.jsx("div",{children:"Total"}),f.jsx("div",{children:eIe.format(r)}),f.jsx("div",{children:nIe(o)}),f.jsx("div",{children:_P(l)}),f.jsx("div",{children:"Media"}),f.jsx("div",{children:eIe.format(d)}),f.jsx("div",{children:nIe(u)}),f.jsx("div",{children:_P(c)}),f.jsx("div",{title:m,children:"WebSockets"}),f.jsx("div",{title:m,children:Dv})]})})),iIe=b.memo((function({expanded:e}){return f.jsx("div",{className:`${Gxe} ${e?Yxe:""}`})})),rIe=({shouldThrottle:e,clear:t})=>{const[a,n]=i.useState(!0),s=a?"selfTime":"totalTime",[o,r]=i.useState({}),[l,d]=i.useState((()=>Uv.getSortedCategories(s)));i.useEffect((()=>()=>{r({}),Uv.clear(),d(Uv.getSortedCategories(s))}),[t]);return i.useEffect((()=>{if(e)return()=>{};const t=()=>{setTimeout((()=>{d(Uv.getSortedCategories(s))}),0)};return t(),Uv.addEventListener("update",t),()=>{Uv.removeEventListener("update",t)}}),[e,s]),f.jsxs("div",{className:Kxe,children:[f.jsxs("label",{className:Xxe,children:[f.jsx("input",{type:"checkbox",name:"selfTime",onChange:e=>{n(e.currentTarget.checked)},defaultChecked:!0}),"Self time"]}),[...l].map((([e,t])=>{const a=[...t.totalByKey],n=a.findIndex((e=>e[1][s]>5)),l=Math.min(100,n<0?a.length:n);return a.splice(l),f.jsxs(i.Fragment,{children:[f.jsxs("div",{onClick:()=>(e=>r((t=>({...t,[e]:!t[e]}))))(e),children:[e,f.jsx(iIe,{expanded:!!o[e]})]}),f.jsxs("div",{className:qxe,children:["(",aIe(t.total[s]),"/",eIe.format(t.total.hits).padEnd(3," "),")"]}),o[e]&&[...t.totalByKey].map((([t,a])=>f.jsxs(i.Fragment,{children:[f.jsx("div",{className:Zxe,children:t}),f.jsxs("span",{className:qxe,children:["(",aIe(a[s]),"/",eIe.format(a.hits).padEnd(3," "),")"]})]},`${e}${t}`)))]},e)}))]})};rIe.ignoreProfile=!0;const lIe=b.memo(rIe),dIe=b.memo((({shouldThrottle:e,clear:t})=>{const a=i.useRef([]),[n,s]=i.useState(0),[o,r]=i.useState(),l=i.useRef(void 0),[d]=i.useState((()=>{const e=document.getElementById("userEventsPortal");if(e)return e;const t=document.createElement("div");return t.id="userEventsPortal",document.body.appendChild(t),t}));i.useEffect((()=>()=>d.remove()),[d]),i.useEffect((()=>()=>{a.current=[]}),[t]);const c=tY((()=>{e||l.current||(l.current=setTimeout((()=>{l.current=void 0,s((e=>e+1))}),100))}));return i.useEffect((()=>{const e=e=>{const t={};t.time=performance.now();const n=a.current[0];if(n?(t.index=1+n.index,t.timeSincePrevious=t.time-n.time):t.index=1,e instanceof KeyboardEvent)" "===e.key?t.name="space":t.name=e.key;else if(e instanceof PointerEvent){const a=["left","middle","right","back","forward"][e.button];t.name=`${a} click`,t.mouseEvent={x:e.pageX,y:e.pageY}}a.current.unshift(t),a.current.length>20&&a.current.pop(),c()};return document.addEventListener("keydown",e,{capture:!0,passive:!0}),document.addEventListener("pointerdown",e,{capture:!0,passive:!0}),()=>{document.removeEventListener("keydown",e,{capture:!0}),document.removeEventListener("pointerdown",e,{capture:!0})}}),[c]),f.jsxs("div",{className:Jxe,children:[a.current.map((({name:e,timeSincePrevious:t,index:a,mouseEvent:n})=>f.jsxs(i.Fragment,{children:[f.jsxs("div",{onPointerOver:()=>r(n),onPointerOut:()=>r(void 0),children:[a,") ",e]}),f.jsx("div",{className:qxe,children:t?aIe(t):""})]},a))),o&&N.createPortal(f.jsx("div",{className:$xe,style:{top:o.y,left:o.x}}),d)]})})),cIe=b.memo((({className:e,clear:t,disabled:a,setWarningStates:n})=>f.jsxs("div",{className:L(e,Vxe),children:[f.jsx(Qxe,{shouldThrottle:a,setWarningStates:n}),f.jsx(oIe,{clear:t,setWarningStates:n}),f.jsx(dIe,{clear:t,shouldThrottle:a}),f.jsx(lIe,{clear:t,shouldThrottle:a})]}))),uIe=async e=>await Yf("/api/v1/ai/transcript-keywords-v2",{params:{asset_id:e}}),pIe="utilities-module_utilities_fEw4w",mIe="utilities-module_fullWidth_uv9Na",gIe="utilities-module_buttonContainer_WJUqi",hIe="utilities-module_button_R7316",vIe="utilities-module_activeButton_nq3LJ",fIe=b.memo((({className:e})=>{const[t,a]=b.useState({}),{dispatch:n}=Mu(),[s,o]=b.useState(!1);b.useEffect((()=>{const e=setInterval((()=>a({})),1e3);return()=>clearInterval(e)}),[]);const i=b.useRef(null),r=Mue();return f.jsxs("div",{"data-draggable":!0,className:L(pIe,e),children:[f.jsxs("label",{children:[f.jsx("input",{type:"checkbox",title:"Don't download any assets",defaultChecked:Pu.remotePlayback??!1,onChange:e=>Mv({remotePlayback:e.target.checked})}),"Force remote playback"]}),f.jsxs("label",{children:[f.jsx("input",{type:"checkbox",title:"Delete the indexdb on a page load",defaultChecked:Pu.clearDbOnLoad??!1,onChange:e=>Mv({clearDbOnLoad:e.target.checked})}),"Clear DB on load"]}),f.jsxs("label",{children:[f.jsx("input",{type:"checkbox",title:"Ignore any de-duplication logic",defaultChecked:Pu.forceNewAssets??!1,onChange:e=>Mv({forceNewAssets:e.target.checked})}),"Force new assets"]}),f.jsxs("label",{children:[f.jsx("input",{type:"checkbox",title:"Show export preview canvas",defaultChecked:Pu.showExportPreviewCanvas??!1,onChange:e=>Mv({showExportPreviewCanvas:e.target.checked})}),"Show export preview canvas"]}),f.jsxs("label",{children:[f.jsx("input",{type:"checkbox",title:"Adds additional checks to make sure code is run fast",defaultChecked:Pu.strictSelectors??!1,onChange:e=>Mv({strictSelectors:e.target.checked})}),"Strict selectors"]}),f.jsxs("label",{children:[f.jsx("input",{type:"checkbox",title:"Shows all tooltips",defaultChecked:Pu.showAllTooltips??!1,onChange:e=>Mv({showAllTooltips:e.target.checked})}),"Show all tooltips"]}),f.jsxs("div",{children:["Reset Broll",f.jsx("button",{onClick:async()=>{const e=Mu().state.studio.allLayers;o(!0);const t=new Set(Object.entries(e.byId).map((([,e])=>e.asset_id)).filter((e=>void 0!==e)));for(const a of t){await uIe(a)||console.error(`Failed to reset broll for asset ${a}`)}n(XU({bRollLayerData:[]})),o(!1)},className:hIe,children:"Reset"}),s&&f.jsx("div",{children:'"Loading..."'})]}),f.jsxs("div",{children:["Reoptimize selected layer(s)",f.jsx("button",{disabled:!r.length,onClick:async()=>{const e=r.map((e=>e.asset_id)).filter(vA);n(JE.DEVONLY_deletePreviews(e))},className:hIe,children:"Reset"})]}),f.jsxs("div",{style:{maxWidth:300},children:[f.jsx("div",{children:"Regenerate waveforms"}),f.jsxs("div",{className:gIe,children:[f.jsx("button",{onClick:()=>ace(void 0),className:L(hIe,!Pu.forcedWaveformGenerationMethod&&vIe),children:"Default"}),f.jsx("button",{onClick:()=>ace("serverffmpeg"),className:L(hIe,"serverffmpeg"===Pu.forcedWaveformGenerationMethod&&vIe),children:"Server FFMPEG"}),f.jsx("button",{onClick:()=>ace("clientffmpeg"),className:L(hIe,"clientffmpeg"===Pu.forcedWaveformGenerationMethod&&vIe),children:"Client FFMPEG"}),f.jsx("button",{onClick:()=>ace("audiocontext"),className:L(hIe,"audiocontext"===Pu.forcedWaveformGenerationMethod&&vIe),children:"Client AudioContext"}),f.jsxs("label",{className:mIe,children:[f.jsx("input",{type:"checkbox",defaultChecked:Pu.drawDebugWaveforms??!1,onChange:e=>Mv({drawDebugWaveforms:e.target.checked})}),"Draw waveform debug info"]})]})]}),f.jsxs("div",{children:[f.jsx("input",{placeholder:"enter asset id",ref:i}),f.jsx("button",{onClick:()=>(async()=>{var e;try{const t=(null==(e=i.current)?void 0:e.value)??"";if(!t)return;const a=await y2(t);await iie(a,{})}catch(t){cb({error:t,description:"Failed to add asset",sendToSentry:!1})}})(),children:"Add asset"})]})]})})),bIe=b.memo((()=>{const e=i.useRef(null),[t,a]=i.useState(0),[n,s]=i.useState(!1),[o,r]=i.useState({}),[l,d]=i.useState("reports"),[c]=i.useState((()=>{const e="profiler-portal";let t=document.getElementById(e);return t||(t=document.createElement("div"),t.id=e,t.className=Sxe,document.body.appendChild(t),t)})),u=i.useRef(void 0),p=i.useRef({left:.5,top:.5});i.useEffect((()=>{function t(){e.current&&(e.current.style.left=100*p.current.left+"%",e.current.style.top=100*p.current.top+"%")}t();let a=!1;function n(e){a=!(e.target instanceof HTMLElement&&!e.target.dataset.draggable),a&&(u.current={left:e.clientX,top:e.clientY},document.addEventListener("pointermove",s))}function s(e){if(!u.current)return;const a=(e.clientX-u.current.left)/window.innerWidth,n=(e.clientY-u.current.top)/window.innerHeight;u.current={left:e.clientX,top:e.clientY},p.current.left+=a,p.current.top+=n,t()}function o(){u.current=void 0,document.removeEventListener("pointermove",s)}return document.addEventListener("pointerdown",n,{passive:!0}),document.addEventListener("pointerup",o,{passive:!0}),()=>{document.removeEventListener("pointerdown",n),document.removeEventListener("pointermove",s),document.removeEventListener("pointerup",o)}}),[]);const m=Object.values(o).some((e=>e));return f.jsxs(f.Fragment,{children:[f.jsx("button",{type:"button",className:`${jxe} ${m?Rxe:""}`,onClick:()=>s((e=>!e)),children:""}),N.createPortal(f.jsxs("div",{ref:e,className:L(xxe,!n&&Ixe),"data-draggable":!0,children:[f.jsxs("div",{className:Exe,"data-draggable":!0,children:[f.jsx("div",{className:Nxe,"data-draggable":!0,children:"Dev Dashboard"}),f.jsx("button",{type:"button",onClick:()=>a((e=>e+1)),children:""}),f.jsx("button",{type:"button",onClick:()=>s(!1),children:""})]}),f.jsxs("div",{className:Axe,"data-draggable":!0,children:[f.jsx("button",{type:"button",className:L("reports"===l&&Mxe),onClick:()=>d("reports"),children:"Reports"}),f.jsx("button",{type:"button",className:L("assets"===l&&Mxe),onClick:()=>d("assets"),children:"Assets"}),f.jsx("button",{type:"button",className:L("utils"===l&&Mxe),onClick:()=>d("utils"),children:"Utils"}),f.jsx("button",{type:"button",className:L("uploader"===l&&Mxe),onClick:()=>d("uploader"),children:"Uploader"}),f.jsx("button",{type:"button",className:L("playback"===l&&Mxe),onClick:()=>d("playback"),children:"Playback"})]}),f.jsx(cIe,{className:L(kxe,"reports"!==l&&Txe),disabled:!n||"reports"!==l,clear:t,setWarningStates:r}),f.jsx(Bxe,{className:L(kxe,"assets"!==l&&Txe),disabled:!n||"assets"!==l,clear:t,setWarningStates:r}),f.jsx(fIe,{className:L(kxe,"utils"!==l&&Txe),disabled:!n||"utils"!==l,clear:t,setWarningStates:r}),f.jsx(_xe,{className:L(kxe,"uploader"!==l&&Txe),handleClose:()=>s(!1)}),f.jsx(Zre,{className:L(kxe,"playback"!==l&&Txe),disabled:!n||"playback"!==l,clear:t,setWarningStates:r}),f.jsxs("div",{className:Lxe,children:["Warnings:"," ",Object.entries(o).filter((([e,t])=>t)).map((([e])=>`"${e}"`)).join(", ")]})]}),c)]})})),yIe=b.memo(i.memo((()=>Cxe()?f.jsx(bIe,{}):null))),wIe={workspacePopoverZIndex:"18",popoverZIndex:"14",paywallZIndex:"1001",paywallBgZIndex:"1000",loading:"AiLoading-module_loading_BDJwb",lightLoading:"AiLoading-module_lightLoading_hTLns","fade-in":"AiLoading-module_fade-in_A3KeB",loader:"AiLoading-module_loader_oGlOs",spin:"AiLoading-module_spin_iprv4",loaderRow:"AiLoading-module_loaderRow_vQSlj",loadingText:"AiLoading-module_loadingText_S5zoQ",progressWrapper:"AiLoading-module_progressWrapper_xdnnF",loadingPrompt:"AiLoading-module_loadingPrompt_JxI5H",clickableImageContainer:"AiLoading-module_clickableImageContainer_RISyY",imageContainer:"AiLoading-module_imageContainer_pWxZU",loadingImage:"AiLoading-module_loadingImage_IeSLz",playButton:"AiLoading-module_playButton_-CxRN",playContainer:"AiLoading-module_playContainer_aMOPz",cancelButtons:"AiLoading-module_cancelButtons_7-QFz",cancelButtonsHidden:"AiLoading-module_cancelButtonsHidden_uU8Io",cancelButton:"AiLoading-module_cancelButton_E1Pkd",red:"AiLoading-module_red_AilCC"},_Ie="EstimatedProgressBar-module_container_idPwt",CIe="EstimatedProgressBar-module_ProgressRoot_BmM3i",SIe="EstimatedProgressBar-module_lightProgressRoot_9ctt4",xIe="EstimatedProgressBar-module_ProgressIndicator_GxBO7",IIe=[0,100];const AIe=b.memo((function({jobDuration:e,progressRange:t=IIe,lightTheme:a}){const[n,s]=i.useState(0),[o,r]=t,l=Math.round(o/100*e),d=Math.round(r/100*e),c=i.useMemo((()=>0===e?0:Math.round(n/e*100)),[e,n]);i.useEffect((()=>{const e=setInterval((()=>{n>d||s((e=>Math.max(l,e+1)))}),1e3);return()=>clearInterval(e)}),[d,l,n]);const u=zg(c,o,r),p=i.useMemo((()=>({transform:`translateX(-${100-c}%)`})),[c]);return f.jsx("div",{className:_Ie,children:f.jsx(Rr,{className:a?SIe:CIe,value:u,max:100,children:f.jsx(Nr,{className:xIe,style:p})})})})),kIe=["youtubeTip","mascotTip","originTip","smartCutTip","trimTranscriptTip","autoSubtitlesTip","repurposeStudioTip","dubbingTip","voiceCloningTip","replaceTip","customBRollTip"],TIe={text:"Looking to improve your content? Check out Kapwing's official YouTube channel for more tips and tricks.",imgsrc:"https://cdn-useast1.kapwing.com/static/VoQ-how-to-use-kapwing.webp",alt:"Kapwing YouTube Plug",clickableLink:"https://www.youtube.com/watch?v=ehqwoScTXho"},EIe=()=>{const e=kIe[Math.floor(Math.random()*kIe.length)];return e||"youtubeTip"},LIe=b.memo((e=>{const[t,a]=i.useState(!1),{confirmingClose:n=t,setConfirmingClose:s=a,estimatedJobDuration:o,estimatedProgressRange:r,handleCancel:l,jobDescription:d,loadingMessage:c,currentTab:u,lightTheme:p}=e,m=i.useMemo((()=>(e=>{let t=e;switch(t||(t=EIe()),t){default:return TIe;case"youtubeTip":return{text:"Looking to improve your content? Check out Kapwing's official YouTube channel for more tips and tricks.",imgsrc:"https://cdn-useast1.kapwing.com/static/VoQ-how-to-use-kapwing.webp",alt:"Kapwing YouTube Plug",clickableLink:"https://www.youtube.com/watch?v=ehqwoScTXho"};case"mascotTip":return{text:"Did you know? The two Kapwing mascots are named Kitten and Bobtail, or Kit and Bob for short!",imgsrc:"https://cdn-useast1.kapwing.com/static/y7j-kapwing-mascots-colorful.webp",alt:"Kapwing Mascot Names Tip"};case"originTip":return{text:"Did you know? The name Kapwing is an onomatopoeia that was used in a Calvin and Hobbes comic strip!",imgsrc:"https://cdn-useast1.kapwing.com/static/FtO-kapwing-name-origin.webp",alt:"Kapwing Name Origin Tip"};case"smartCutTip":return{text:"Tool Tip: Use Smart Cut to automatically remove the silences from your videos in just a couple clicks.",imgsrc:"https://cdn-useast1.kapwing.com/static/Zq8-conversions_64b1d687089e172351fbd6d1_conversion_V1.webp",alt:"Kapwing Smart Cut Tip"};case"trimTranscriptTip":return{text:"Tool Tip: Try using Trim with Transcript to edit your project! Simply delete unwanted sections from your videos transcript, and Kapwing will cut it accordingly.",imgsrc:"https://cdn-useast1.kapwing.com/static/hab-conversions_64b1d687089e172351fbd6d1_conversion_V2.webp",alt:"Trim with Transcript Tip"};case"autoSubtitlesTip":return{text:"Tool Tip: Use Auto Subtitles to generate fully customizable animated captions that are automatically synced to your project.",imgsrc:"https://cdn-useast1.kapwing.com/static/RCP-conversions_64b1d687089e172351fbd6d1_conversion_V3.webp",alt:"Auto Subtitles Tip"};case"repurposeStudioTip":return{text:"The Repurpose Studio makes it easy to transform a long video into multiple short-form clips that are already optimized for social media.",imgsrc:"https://cdn-useast1.kapwing.com/static/Y4I-repurpose_studio_small_V1.webp",alt:"Repurpose Studio Tip"};case"dubbingTip":return{text:"You can translate your audio into a different language to broaden the reach of your content! Find Dubbing under the Subtitles tab.",imgsrc:"https://cdn-useast1.kapwing.com/static/FgE-repurpose_studio_small_V2.webp",alt:"Dubbing Tip"};case"voiceCloningTip":return{text:"Did you know? You can now clone your voice with ElevenLabs technology to use it with Text to Speech voiceovers.",imgsrc:"https://cdn-useast1.kapwing.com/static/za2-Frame-1.webp",alt:"Voice Cloning Tip"};case"replaceTip":return{text:"You can quickly swap out assets in your project with stock content or your own uploads. Just select the unwanted asset and click Replace in the right sidebar.",imgsrc:"https://cdn-useast1.kapwing.com/static/S0O-ReplaceTip.webp",alt:"Replace Tip"};case"customBRollTip":return{text:"If you want Kapwing to use your own assets as B-roll, simply upload them before generating your next AI video.",imgsrc:"https://cdn-useast1.kapwing.com/static/xve-CustomBRollTip.webp",alt:"Custom B-Roll Tip"}}})()),[]),g=i.useCallback((()=>{u&&ov("AI Generator Cancelled",{Tab:u}),l()}),[u,l]),h=i.useCallback((()=>{window.open(m.clickableLink,"_blank")}),[m]);return f.jsxs("div",{className:p?wIe.lightLoading:wIe.loading,style:e.containerStyles,children:[f.jsxs("div",{className:wIe.loaderRow,children:[f.jsx("div",{className:wIe.loader}),n?f.jsxs("div",{className:wIe.loadingText,children:["We're almost done ",d,". Are you sure you want to cancel?"]}):f.jsx("div",{className:wIe.loadingText,children:f.jsx("span",{children:c})})]}),f.jsx("div",{className:wIe.progressWrapper,children:f.jsx(AIe,{jobDuration:o,progressRange:r,lightTheme:p})}),f.jsx("div",{className:wIe.loadingPrompt,children:m.text}),m.clickableLink?f.jsxs("div",{className:wIe.clickableImageContainer,onClick:h,children:[f.jsx("img",{src:m.imgsrc,alt:m.alt,className:wIe.loadingImage}),f.jsx("div",{className:wIe.playContainer,children:f.jsx("div",{className:wIe.playButton})})]}):f.jsx("div",{className:wIe.imageContainer,children:f.jsx("img",{src:m.imgsrc,alt:m.alt,className:wIe.loadingImage})}),f.jsxs("div",{className:n?wIe.cancelButtons:wIe.cancelButtonsHidden,children:[f.jsx("div",{className:[wIe.cancelButton,wIe.red].join(" "),onClick:g,children:"Yes, cancel"}),f.jsx("div",{className:wIe.cancelButton,onClick:()=>s(!1),children:"No, continue"})]}),f.jsx("div",{className:n?wIe.cancelButtonsHidden:wIe.cancelButtons,children:f.jsx("div",{className:wIe.cancelButton,onClick:()=>s(!0),children:"Cancel"})})]})})),jIe="AiOverlay-module_background_cNayY",RIe="AiOverlay-module_wrapper_s3-5Y",NIe="AiOverlay-module_modal_iGXyE",MIe="AiOverlay-module_loadingWrapper_yj88h",PIe="AiOverlay-module_close_-kSb5",FIe=e=>i.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 31 31",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},i.createElement("path",{d:"M24.7178 1.09273C24.8471 0.704768 25.395 0.704768 25.5243 1.09273L26.2826 3.36993C26.4495 3.87052 26.7307 4.32535 27.1039 4.69837C27.4772 5.0714 27.9322 5.35236 28.4328 5.51899L30.7089 6.27728C31.0968 6.4066 31.0968 6.95444 30.7089 7.08376L28.4317 7.84205C27.9311 8.00896 27.4762 8.29017 27.1032 8.66339C26.7302 9.03662 26.4492 9.49161 26.2826 9.99228L25.5243 12.2683C25.4964 12.3533 25.4424 12.4272 25.37 12.4797C25.2976 12.5321 25.2105 12.5604 25.1211 12.5604C25.0317 12.5604 24.9445 12.5321 24.8721 12.4797C24.7997 12.4272 24.7457 12.3533 24.7178 12.2683L23.9595 9.99111C23.7928 9.49065 23.5117 9.0359 23.1387 8.66288C22.7657 8.28987 22.3109 8.00884 21.8105 7.84205L19.5333 7.08376C19.4483 7.05588 19.3743 7.00188 19.3219 6.92947C19.2694 6.85706 19.2412 6.76993 19.2412 6.68052C19.2412 6.59111 19.2694 6.50398 19.3219 6.43157C19.3743 6.35916 19.4483 6.30516 19.5333 6.27728L21.8105 5.51899C22.3109 5.3522 22.7657 5.07117 23.1387 4.69816C23.5117 4.32514 23.7928 3.87039 23.9595 3.36993L24.7178 1.09273Z",fill:"#A0A0A0"}),i.createElement("mask",{id:"mask0_301_6983",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:0,y:4,width:28,height:27},i.createElement("path",{d:"M0 4.00854H16.47V28.5948H0V4.00854Z",fill:"#D9D9D9"}),i.createElement("path",{d:"M12.8271 15.2324H27.7927V30.1979H12.8271V15.2324Z",fill:"#D9D9D9"})),i.createElement("g",{mask:"url(#mask0_301_6983)"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.6167 8.28417H7.20546C5.49994 8.28417 4.11734 9.71995 4.11734 11.4911V23.2497C4.11734 25.0208 5.49994 26.4566 7.20546 26.4566H21.6167C23.3222 26.4566 24.7048 25.0208 24.7048 23.2497V11.4911C24.7048 9.71995 23.3222 8.28417 21.6167 8.28417ZM7.20546 6.14624C4.36293 6.14624 2.05859 8.5392 2.05859 11.4911V23.2497C2.05859 26.2016 4.36293 28.5945 7.20546 28.5945H21.6167C24.4592 28.5945 26.7636 26.2016 26.7636 23.2497V11.4911C26.7636 8.5392 24.4592 6.14624 21.6167 6.14624H7.20546Z",fill:"#A0A0A0"})),i.createElement("path",{d:"M18.1188 16.7226C18.6176 17.0106 18.6176 17.7307 18.1188 18.0187L13.1481 20.8885C12.6493 21.1765 12.0257 20.8165 12.0257 20.2405L12.0257 14.5008C12.0257 13.9248 12.6493 13.5648 13.1481 13.8528L18.1188 16.7226Z",fill:"#A0A0A0"})),DIe={workspacePopoverZIndex:"18",popoverZIndex:"14",paywallZIndex:"1001",paywallBgZIndex:"1000",container:"InputBar-module_container_cHYn7",input:"InputBar-module_input_-gVwS",icon:"InputBar-module_icon_mvRzK",button:"InputBar-module_button_mb1kR",title:"InputBar-module_title_o5VhD",beta:"InputBar-module_beta_CIrnq",dropdown:"InputBar-module_dropdown_FmgQl",collapsed:"InputBar-module_collapsed_BXMv5",option:"InputBar-module_option_ycZug",selected:"InputBar-module_selected_xuwu4",dropUpContainer:"InputBar-module_dropUpContainer_1O8wj",dropUpItem:"InputBar-module_dropUpItem_JZAT2",chevron:"InputBar-module_chevron_svmqm",dropUpItemSelected:"InputBar-module_dropUpItemSelected_beTHP",query:"InputBar-module_query_0W8QY",returnIcon:"InputBar-module_returnIcon_WEKUN",itemIcon:"InputBar-module_itemIcon_cuiFf"},OIe=[{key:"aiVideoGenerator",label:"Create a social media video about",placeholder:"Create a video social media about...",icon:f.jsx(Gt,{className:DIe.itemIcon}),showTopicPreview:!0,tab:hR.SocialVideoFromTopic},{key:"aiSceneGenerator",label:"Create an imaginary scene",placeholder:"Create an imaginary scene...",icon:f.jsx(FIe,{className:DIe.itemIcon}),showTopicPreview:!0,tab:hR.Scene},{key:"aiImageGenerator",label:"Create an image about",placeholder:"Create an image about...",icon:f.jsx(Yt,{className:DIe.itemIcon}),showTopicPreview:!0,tab:hR.Image},{key:"aiScriptGenerator",label:"Create a video script about",placeholder:"Create a video script about...",icon:f.jsx(Kt,{className:DIe.itemIcon}),showTopicPreview:!0,tab:hR.SocialVideoFromTopic},{key:"aiScriptToVideoGenerator",label:"Script to Video",icon:f.jsx(Xt,{className:DIe.itemIcon}),showTopicPreview:!1,tab:hR.SocialVideoFromScript},{key:"aiDocumentToVideo",label:"Document to Video",icon:f.jsx(Zt,{className:DIe.itemIcon}),showTopicPreview:!1,tab:hR.SocialVideoFromTopic},{key:"aiArticleToVideo",label:"Article to Video",icon:f.jsx(qt,{className:DIe.itemIcon}),showTopicPreview:!1,tab:hR.SocialVideoFromURL}],UIe=e=>{let t=OIe.find((t=>t.key===e));return t||(t=OIe[0]),t},BIe="AiGenerate-module_container_aiQ9z",WIe="DeprecatedGenericButton-module_disabled_vostI",VIe="DeprecatedGenericButton-module_genericButton_q6gHf",HIe="DeprecatedGenericButton-module_genericButtonIcon_cMgV4",zIe="DeprecatedGenericButton-module_linkWrapper_47lDi",GIe=b.memo((({icon:e,buttonText:t="",className:a="",onClick:n=(()=>{}),testId:s,disabled:o=!1,href:i})=>i?f.jsx("a",{className:zIe,href:i,target:"_blank",rel:"noreferrer",children:f.jsxs("div",{className:`${VIe} ${a}`,onClick:n,"data-testid":s,"data-cy":s,children:[t,f.jsx("div",{className:HIe,children:e})]})}):f.jsxs("div",{className:`${VIe} ${a} ${o?WIe:""}`,onClick:n,"data-testid":s,"data-cy":s,children:[t,e&&f.jsx("div",{className:HIe,children:e})]}))),YIe="DeprecatedUpsellButton-module_upsellButton_YHh7Z",KIe="DeprecatedUpsellButton-module_darkUpsellButton_MLVjW",XIe="DeprecatedUpsellButton-module_lightSparkle_Mf-Rp",ZIe=({limitOverrides:e}={})=>{const t=cg(),a=rse(),{openEnterpriseTypeform:n}=hC(),s=i.useCallback(((e,t,a,s,o)=>{const i=!!Vd[e].tier.enterprise;switch(e){case Bd.CLONED_VOICES:return[`You have reached the maximum number of ${t} ${a}s.\n        To add a new voice, remove a clone from your`,{text:"Brand Kit,",href:"/brandkit"},"or",{text:"Contact Sales",href:"",onClick:n},"about upgrading to the Enterprise Plan"];case Bd.LIP_SYNC:return[`You have reached the maximum number of ${t} ${a}s.`,{text:"Contact Sales",href:"",onClick:n},`about adding more ${t} ${a}s`];default:return[s?`You dont have enough ${t} ${a}s for this month. Youll need to upgrade to the Enterprise Plan for ${i?"more":"unrestricted"} usage. See your `:`You dont have enough ${t} ${a}s. Youll need to upgrade to the Enterprise Plan for ${i?"more":"unrestricted"} usage. See your `,{text:` ${s?"monthly":""} usage limits here.`,href:`/team/${o._id}/billing`}]}}),[n]);return i.useCallback((function(n,o){return(...i)=>{var r;const{blocked:l,usageExceededCategories:d}=cP({limitOverrides:e,projectedUsage:o}),c=d[0];if(l&&ov("Enterprise packaging usage blocked",{"Usage Category":c}),l&&zw(t.type)){const{dispatch:e}=Mu(),a=rg();if(!a)return;const{name:n,unit:o}=Vd[c],i=(null==(r=Vd[c].tier[t.type])?void 0:r.resetPeriod)===Wd.MONTHLY,l=s(c,n,o,i,a);e(db({type:"error",description:l}))}else{if(!l||t.type!==Id.Enterprise)return a((()=>n(...i)),{action:c&&Vd[c].paywallModalAction||Dd.LIMITS_WARNING,if:l})();{const{dispatch:e}=Mu(),t={text:"billing settings",href:`/team/${rg()._id}/billing`};c===Bd.TTS?e(db({description:["You've reached your workspace's text to speech limit for this month. ","To generate more text to speech, enable overages in ",t,"."],type:"warning"})):c===Bd.CLONED_VOICES?e(db({description:["You've reached your workspace's voice clone limit for this month. ","To generate more voice clones, enable overages in ",t,"."],type:"warning"})):e(db({description:["You've reached your workspace's limit for this month. ","To upgrade to more usage, enable overages in ",t,"."],type:"warning"}))}}}}),[e,t.type,a,s])},qIe=b.memo((({action:e,onPaywallSuccess:t=(()=>{}),hasIcon:a=!0,buttonText:n="Upgrade",className:s="",testId:o="upsell",darkStyle:r,paywallOptions:l,enforcePlanLimitsUsage:d,onClick:c=(()=>{})})=>{const u=Bu(),p=rse(),m=P(),g=lg(),h=Du((e=>Nb(e))),v=ZIe(),b=i.useCallback((a=>{c(),h?"Reactivate"===n?m(`/team/${g._id}/billing`):d?v(p(t,{action:e,teamId:g._id,...l}),d)():p(t,{action:e,teamId:g._id,...l})():u({type:"SHOW_SIGN_IN"}),a.stopPropagation()}),[c,h,u,n,d,m,g._id,v,p,t,e,l]),y=i.useMemo((()=>f.jsx(_se,{className:`${r?XIe:null}`})),[r]);return f.jsx(GIe,{className:`${YIe} ${s} ${r?KIe:""}`,buttonText:n,icon:a?y:null,onClick:b,testId:`${o}-button`})})),JIe="UpsellWarningBlock-module_container_CmgBd",$Ie="UpsellWarningBlock-module_upsellWarningBlockContainer_RoitO",QIe="UpsellWarningBlock-module_warning_dn0hH",eAe="UpsellWarningBlock-module_iconWrapper_2fWs8",tAe="UpsellWarningBlock-module_closeIcon_cPCNm",aAe="UpsellWarningBlock-module_button_yB6ST",nAe=()=>{},sAe=b.memo((({action:e,onPaywallSuccess:t=nAe,warning:a=null,buttonText:n,buttonHasIcon:s=!0,className:o="",buttonClassName:i="",paywallOptions:r,enforcePlanLimitsUsage:l,onClose:d})=>f.jsx("div",{className:JIe,children:f.jsxs("div",{className:`${$Ie} ${o}`,"data-cy":"upsell-warning-block",children:[a&&f.jsxs("div",{className:QIe,children:[f.jsx("div",{className:eAe,children:f.jsx(Jt,{})}),a,d&&f.jsx("div",{className:tAe,onClick:d,children:f.jsx(R,{})})]}),n&&f.jsx(qIe,{className:`${aAe} ${i}`,action:e,onPaywallSuccess:t,buttonText:n,hasIcon:s,paywallOptions:r,enforcePlanLimitsUsage:l})]})}))),oAe="LimitUpsellButton-module_warningBlock_NpOV7",iAe="LimitUpsellButton-module_upsellWarningGray_VG6wH",rAe="LimitUpsellButton-module_upsellButtonGray_3NTQN",lAe="LimitUpsellButton-module_upsellWarningOrange_y5hvF",dAe="LimitUpsellButton-module_upsellButtonOrange_VW1qr";function cAe({estimatedUsageByCategory:e,userActivityRelatedToLimit:t="Using this feature",paywallOptions:a={}}){var n,s,o;const r=lg(),l=null==r?void 0:r.planTier,{openEnterpriseTypeform:d}=hC(),c=QM(r),u=F(),{limitOverrides:p}=wD(),m=u.pathname.includes("/repurpose"),g=Du(Nb),h=rP({limitOverrides:m?p:void 0}),v=Object.keys(e??{}),b=v.find((e=>{var t;return null==(t=h[e])?void 0:t.hasConsumedLimit})),y=v.find((e=>{var t;return null==(t=h[e])?void 0:t.is90PercentConsumed})),w=v.find((t=>{var a;const n=null==(a=h[t])?void 0:a.remainingUsage,s=e[t];return void 0!==n&&void 0!==s&&n<s}))||b||y||v[0]||Bd.TRANSCRIBE,_=e[w]??0,C=null==(n=h[w])?void 0:n.remainingUsage,S=null==(s=h[w])?void 0:s.hasConsumedLimit,x=null==(o=h[w])?void 0:o.is90PercentConsumed,I=Vd[w],A=!!I.tier[l],k=I.paywallModalAction,T=C&&_<=C,E=Math.max(Math.floor((C??0)-_),0),L=i.useMemo((()=>f.jsxs(f.Fragment,{children:[f.jsx("b",{children:_.toFixed(2).replace(/\.?0+$/,"")})," ",I.name," ",ec(I.unit,`${I.unit}s`,_)]})),[_,I.name,I.unit]),j=i.useMemo((()=>{const e=Math.floor(C??0);return f.jsxs(f.Fragment,{children:[f.jsx("b",{children:null==C?void 0:C.toFixed(2).replace(/\.?0+$/,"")})," ",ec(I.unit,`${I.unit}s`,e)]})}),[C,I.unit]),R=i.useMemo((()=>f.jsxs(f.Fragment,{children:[f.jsx("b",{children:E})," ",ec(I.unit,`${I.unit}s`,E)]})),[E,I.unit]),N=i.useMemo((()=>{const e={...a};let n,s,o,i,r;return e.extraAmplitudeEventProperties={...e.extraAmplitudeEventProperties,"Limit Exceeded":I.name},l===Id.Free&&(s="Upgrade",!T||S?(o=iAe,i=rAe,n=f.jsxs("div",{children:[t," costs ",L,", but your workspace only has"," ",j," remaining."]})):x?(o=lAe,i=dAe,n=f.jsxs("div",{children:[t," costs ",L,". After this usage, your workspace will have"," ",R," remaining."]})):n=f.jsxs("div",{children:[t," costs ",L,". After this usage, your workspace will have"," ",R," remaining."]})),l===Id.Pro&&(!T||S?(o=iAe,i=rAe,s="Upgrade",n=f.jsxs("div",{children:[t," costs ",L,", but your workspace only has"," ",j," remaining."]})):x&&(s="Upgrade",o=lAe,i=dAe,n=f.jsxs("div",{children:[t," costs ",L,". After this usage, your workspace will have"," ",R," remaining."]}))),l===Id.Business&&(!T||S?(o=iAe,i=rAe,s="Contact Sales",r=d,n=f.jsxs("div",{children:[t," costs ",L,", but your workspace only has"," ",j," remaining. To upgrade to more usage, get in touch with us."]})):x&&(s="Contact Sales",r=d,o=lAe,i=dAe,n=f.jsxs("div",{children:[t," costs ",L,". After this usage, your workspace will have"," ",R," remaining. To upgrade to more usage, get in touch with us."]}))),l!==Id.Enterprise||c||(!T||S?(o=iAe,i=rAe,s="Visit settings",r=nR,n=f.jsxs("div",{children:[t," costs ",L,", but your workspace only has"," ",j," remaining. To enable overages, visit your workspace settings."]})):x&&(s="Visit settings",r=nR,o=lAe,i=dAe,n=f.jsxs("div",{children:[t," costs ",L,". After this usage, your workspace will have"," ",R," remaining. To enable overages, visit your workspace settings."]}))),{warning:n,buttonText:s,className:o,buttonClassName:i,onPaywallSuccess:r,paywallOptions:e}}),[a,I.name,l,c,T,S,x,t,L,j,R,d]);return g&&A&&N.warning?0===v.length?null:f.jsx("div",{className:oAe,children:f.jsx(sAe,{action:k||Dd.LIMITS_WARNING,buttonHasIcon:l===Id.Free,...N})}):null}class uAe extends Error{constructor(e){super(e),this.name="SafetyError"}}const pAe=async e=>{var t;const a=await Zf(`/api/v3/generate/images?prompt=${e}`,{body:{teamId:null==(t=rg())?void 0:t._id}}),n=await async function(e,{secondsToTimeout:t}){const a=performance.now();for(;performance.now()-a<1e3*t;){const t=await Kf(`/api/v3/generate/images/${e}`);if("pending"!==t.job.status)return t.job;await new Promise((e=>setTimeout(e,3e3)))}return null}(a.id,{secondsToTimeout:120});if(!n)throw new Error("Generating your images is taking longer than expected. Please try again later.");if("error"===n.status)throw new Error("An error occurred while generating your images.");return n.images};const mAe=e=>i.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 264 264",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},i.createElement("mask",{id:"path-1-inside-1_352_12932",fill:"white"},i.createElement("path",{d:"M98.001 195H164.001V249C164.001 257.284 157.285 264 149.001 264H113.001C104.717 264 98.001 257.284 98.001 249V195Z"})),i.createElement("path",{d:"M98.001 195H164.001V249C164.001 257.284 157.285 264 149.001 264H113.001C104.717 264 98.001 257.284 98.001 249V195Z",stroke:"#F54A87",strokeWidth:66,mask:"url(#path-1-inside-1_352_12932)"}),i.createElement("circle",{cx:131.999,cy:132,r:56.4211,stroke:"#FFC700",strokeWidth:40}),i.createElement("rect",{x:118.107,width:27.7895,height:41.6842,rx:13.8947,fill:"#18E1D6"}),i.createElement("rect",{x:20.8428,y:48.6315,width:27.7895,height:41.6842,rx:13.8947,transform:"rotate(-45 20.8428 48.6315)",fill:"#18E1D6"}),i.createElement("rect",{x:223.999,y:28.9813,width:27.7895,height:41.6842,rx:13.8947,transform:"rotate(45 223.999 28.9813)",fill:"#18E1D6"}),i.createElement("rect",{x:264,y:125.053,width:27.7895,height:41.6842,rx:13.8947,transform:"rotate(90 264 125.053)",fill:"#18E1D6"}),i.createElement("rect",{x:41.6841,y:125.053,width:27.7895,height:41.6842,rx:13.8947,transform:"rotate(90 41.6841 125.053)",fill:"#18E1D6"})),gAe="AiOverlayLayouts-module_mainContainer_jXHb8",hAe="AiOverlayLayouts-module_previewAndNextContainer_Bv20j",vAe="AiOverlayLayouts-module_previewContainer_3b0tW",fAe="AiOverlayLayouts-module_previewTopText_WpHIs",bAe="AiOverlayLayouts-module_header_WESfj",yAe="AiOverlayLayouts-module_headerIcon_CC383",wAe="AiOverlayLayouts-module_headerText_IH6F-",_Ae="AiOverlayLayouts-module_toggleSpace_aJXhb",CAe="AiOverlayLayouts-module_controls_4I3ZJ",SAe="AiOverlayLayouts-module_fullWidthAlignCenter_lFH6y",xAe="AiOverlayLayouts-module_stickyFooter_QhjBD",IAe="AiOverlayLayouts-module_nextButtonContainer_EuIC6",AAe="AiOverlayLayouts-module_trigger_ShaEj",kAe="AiOverlayLayouts-module_settingsOverlay_kcKAK",TAe="AiOverlayLayouts-module_closeButton_aXhKy",EAe=(e,t)=>e.scriptChat.conversationsById[t],LAe=e=>{const t=e.scriptChat.currentConversationHistoryIndex;if(void 0===t)return;const a=e.scriptChat.conversationHistory[t];return a?EAe(e,a):void 0},jAe=(e,t)=>e.scriptChat.userMessagesById[t],RAe=(e,t)=>e.scriptChat.scriptsById[t],NAe=e=>{const t=e.scriptChat.currentConversationHistoryIndex;if(void 0===t)return!1;return!(t===e.scriptChat.conversationHistory.length-1)},MAe=e=>{const t=e.scriptChat.currentConversationHistoryIndex;if(void 0===t)return!1;return!(0===t)};function PAe(e){return"success"!==e.response.status?null:e.response.scriptId&&(e.response.task===Nte.EditScript||e.response.task===Nte.GenerateScript)?e.response.scriptId:null}const FAe=u(LAe,(e=>e.scriptChat.userMessagesById),(e=>e.scriptChat.scriptsById),((e,t,a)=>{if(e)for(let n=e.userMessages.length-1;n>=0;n--){const s=e.userMessages[n];if(!s)continue;const o=t[s];if(!o)continue;const i=PAe(o);if(i)return a[i]}})),DAe=u((e=>e.scriptChat),(e=>{for(let t=e.currentConversationHistoryIndex??0;t>=0;t--){const a=e.conversationHistory[t];if(!a)continue;const n=e.conversationsById[a];if(n)for(let t=n.userMessages.length-1;t>=0;t--){const a=n.userMessages[t];if(!a)continue;const s=e.userMessagesById[a];if(!s)continue;const o=PAe(s);if(o)return e.scriptsById[o]}}})),OAe=e=>{const t=LAe(e);if(!t)return;const a=t.userMessages[t.userMessages.length-1];return a?jAe(e,a):void 0},UAe="ScriptChatHistoryButtons-module_scriptChatConversationHistoryButtonsContainer_M-zWQ",BAe="ScriptChatHistoryButtons-module_scriptChatConversationHistoryButton_oUNq0",WAe="ScriptChatHistoryButtons-module_isDisabled_csGKA",VAe=()=>{const e=Bu(),t=Du(FR),a=Du((e=>e.scriptChat.step)),n=Du(MAe),s=Du(NAe);return DR(t)?"script-chat"!==a?null:f.jsxs("div",{className:UAe,children:[f.jsx("button",{className:L(BAe,{[WAe]:!n}),onClick:()=>{n&&e(Dte.goToPreviousConversation())},children:f.jsx($t,{})}),f.jsx("button",{className:L(BAe,{[WAe]:!s}),onClick:()=>{s&&e(Dte.goToNextConversation())},children:f.jsx(Qt,{})})]}):null},HAe="AiModalTabs-module_row_7JwC2",zAe="AiModalTabs-module_subTabContainer_Mu7P7",GAe="AiModalTabs-module_subTabButton_8ALBb",YAe="AiModalTabs-module_subTabButtonSelected_OKgc8",KAe="AiModalTabs-module_subTabText_EbXZ8",XAe="AiModalTabs-module_subTabTitle_OUyp6",ZAe="AiModalTabs-module_subTabDescription_2zIYk",qAe="AiModalTabs-module_subTabIcon_Q61hy",JAe=()=>{const e=Du(FR),t=Bu();function a(e){return f.jsxs("button",{className:L(GAe,{[YAe]:e.isSelected}),onClick:()=>{return a=e.tab,void t(Uj({selectedTab:a}));var a},children:[f.jsx("div",{children:e.icon}),f.jsxs("div",{className:KAe,children:[f.jsx("div",{className:XAe,children:e.title}),f.jsx("div",{className:ZAe,children:e.description})]})]})}return f.jsx("div",{className:HAe,"data-cy":"ai-overlay-tabs",children:f.jsxs("div",{className:zAe,children:[a({tab:hR.SocialVideoFromTopic,isSelected:e===hR.SocialVideoFromTopic||e===hR.SocialVideoFromScript||e===hR.SocialVideoFromURL,title:"Video Project",description:"Montage of B-roll with a voice over and subtitles",icon:f.jsx(ea,{className:qAe,size:24})}),a({tab:hR.Scene,isSelected:e===hR.Scene,title:"Scene",description:"AI generated footage of a three second scene",icon:f.jsx(ta,{className:qAe,size:24})}),a({tab:hR.Image,isSelected:e===hR.Image,title:"Image",description:"AI generated static photos or illustrations",icon:f.jsx(Yt,{className:qAe,size:24})})]})})},$Ae=({children:e})=>{const t=Du(FR),a=Du((e=>e.scriptChat.step)),n=DR(t),s=n&&"generate-script"!==a;return f.jsxs("div",{className:gAe,children:[f.jsxs("div",{className:bAe,children:[f.jsxs("div",{className:wAe,children:[f.jsx(mAe,{className:yAe})," Kapwing AI"]}),f.jsx(VAe,{})]}),f.jsxs("div",{className:L(CAe,_Ae,{[SAe]:n&&"create-video"!==a}),style:{width:"100%"},children:[!s&&f.jsx(JAe,{}),f.jsx(f.Fragment,{children:e})]})]})},QAe=({children:e,topText:t})=>{const a=Bg();return f.jsxs("div",{className:hAe,children:[!a&&f.jsx("div",{className:fAe,children:t}),f.jsx(f.Fragment,{children:e})]})},eke=({supportsMobile:e,children:t})=>Bg()&&!e?null:f.jsx("div",{className:vAe,children:f.jsx(f.Fragment,{children:t})}),tke=({children:e})=>{const t=Bg(),a=f.jsx("div",{className:IAe,children:e});return t?f.jsx("div",{className:xAe,children:a}):a},ake=({open:e,setOpen:t,onClose:a,trigger:n,content:s,boundaryElement:o,overrideOverlayWrapper:i})=>{const{open:r}=Du((e=>e.uploadOverlay),Ou);return f.jsxs(hr,{onOpenChange:r?void 0:t,open:e,children:[f.jsx(vr,{className:AAe,children:n}),f.jsx(br,{side:"bottom",avoidCollisions:!0,collisionBoundary:o,children:i?f.jsx("div",{children:s}):f.jsxs("div",{className:kAe,children:[f.jsx("div",{className:TAe,onClick:a,children:f.jsx(aa,{})}),f.jsx("div",{children:s})]})})]})};async function nke(e){try{await c_({[Bd.AI_GENERATE]:1,[e]:1})}catch(b9e){console.error(b9e)}}const ske="LandingPageTooltipAnchor-module_popoverContent_aRY8q",oke="LandingPageTooltipAnchor-module_toolTipContent_vvpm7",ike="LandingPageTooltipAnchor-module_large_u5ZNt",rke="LandingPageTooltipAnchor-module_arrow_KmwR7",lke="LandingPageTooltipAnchor-module_headerText_Ld2Mi",dke="LandingPageTooltipAnchor-module_iconWrapper_Tv25j",cke="LandingPageTooltipAnchor-module_subtextContainer_Pl2kw",uke="LandingPageTooltipAnchor-module_headerContainer_xh7Ju",pke="LandingPageTooltipAnchor-module_exit_qsJue";let mke={mounted:[],unmounted:[]},gke=null;const hke=({mounted:e,unmounted:t})=>{const{dispatch:a}=Mu();mke.mounted=mke.mounted.filter((e=>!t.includes(e))),mke.unmounted=mke.unmounted.filter((t=>!e.includes(t))),mke.mounted.push(...e),mke.unmounted.push(...t),gke||(gke=setTimeout((()=>{a(mte(mke)),mke={mounted:[],unmounted:[]},gke=null})))},vke=e=>{const t=Object.values(dZ).find((t=>t===e.toolTip));if(!t)return null;const a=tq[t].rules.filter((t=>e.mountedTooltipAnchorIds.has(t.tooltipAnchorId)&&(void 0===t.showWhen||t.showWhen(e))));if(!a[0])return null;return a.reduce(((e,t)=>e.priority>t.priority?e:t),a[0])},fke=b.memo((({id:e,align:t="start",children:a,portal:n,position:s="top",sideOffset:o=2,updatePositionStrategy:r="optimized"})=>{const{isOpen:l}=Ome(),d=i.useRef(!1),c=i.useRef(null),u=Bg();let p=s;!u||"left"!==s&&"right"!==s||(p="top");const m=i.useCallback((e=>{dq(""),e.stopPropagation()}),[]),g=(e=>{i.useEffect((function(){return hke({mounted:[e],unmounted:[]}),()=>{hke({mounted:[],unmounted:[e]})}}),[e]);const t=Du(vke);return(null==t?void 0:t.tooltipAnchorId)!==e?null:t})(e),h=!!g&&!l;i.useLayoutEffect((function(){const e=c.current;if(!e)return;const t=setInterval((()=>{if(d.current)return clearInterval(t),void n.disconnect();e.scrollIntoView({block:u?"nearest":"start",inline:u?"center":void 0,behavior:"smooth"})}),250);let a=0;const n=new IntersectionObserver((e=>{var t;a++;const n=null==(t=e[0])?void 0:t.intersectionRatio;n&&(1===a&&1===n||n>.01||a>10)&&(d.current=!0)}),{threshold:[.01]});return n.observe(e),()=>{n.disconnect(),clearInterval(t)}}),[c,u,h]);const v=f.jsx(f.Fragment,{children:a});if(!h)return v;const{subtext:y,header:w,large:_,isTerminal:C}=g,S=n?fr:b.Fragment;return f.jsxs(hr,{open:!0,children:[f.jsx(vr,{asChild:!0,ref:c,onClick:C?m:void 0,children:a}),f.jsx(S,{children:f.jsxs(br,{side:p,align:t,alignOffset:-40,arrowPadding:20,collisionPadding:12,sideOffset:o,className:ske,updatePositionStrategy:r,style:{zIndex:1e3},children:[f.jsxs("div",{className:`${oke} ${_?ike:""}`,"data-cy":`${g.tooltipAnchorId}-tool-tip-container`,children:[f.jsxs("div",{className:uke,children:[w&&f.jsx("div",{className:lke,children:w}),f.jsx(Mr,{asChild:!0,onClick:m,children:f.jsx("span",{className:pke,"data-cy":`${g.tooltipAnchorId}-tool-tip-exit`,children:f.jsx("div",{className:dke,children:f.jsx(R,{})})})})]}),f.jsx("div",{className:cke,children:y})]}),f.jsx(yr,{className:rke,width:14,height:7})]})})]})})),bke=(e,t)=>{const a=i.useCallback((t=>{"Enter"!==t.key||t.shiftKey||e()}),[e]);i.useEffect((()=>{if(!t)return document.addEventListener("keydown",a),()=>{document.removeEventListener("keydown",a)}}),[t,a])},yke="GenerateScript-module_generateScriptContainer_4NEUy",wke="GenerateScript-module_tabList_WCS-O",_ke="GenerateScript-module_tabTrigger_slZV9",Cke="GenerateScript-module_activeTrigger_llMzA",Ske="GenerateScript-module_promptSettingsContainer_Wz9Ew",xke="GenerateScript-module_tabsRoot_hXsvc",Ike="GenerateScript-module_tabContent_aNWxs",Ake="GenerateScript-module_promptInputRow_cFXyp",kke="GenerateScript-module_promptInputTitle_gybgc",Tke="GenerateScript-module_promptTextAreaWrapper_OToPz",Eke="GenerateScript-module_promptActionContainer_Tfct-",Lke="GenerateScript-module_promptHistoryButton_a2pA5",jke="GenerateScript-module_promptTryASampleButton_Jsvtg",Rke="GenerateScript-module_customTab_CH6G2",Nke="GenerateScript-module_promptInput_HmoTj",Mke="GenerateScript-module_urlTab_bx8u9",Pke="GenerateScript-module_loadingPromptInput_0172R",Fke="GenerateScript-module_topicTab_UgW98",Dke="GenerateScript-module_genericPromptInput_37rXm",Oke="GenerateScript-module_pasteLinkForm_ZK6SN",Uke="CreateVisualPromptGuide-module_promptGuide_oOGEz",Bke="CreateVisualPromptGuide-module_promptGuideDescription_roWVP",Wke="CreateVisualPromptGuide-module_promptGuideFormula_B8t4U",Vke="CreateVisualPromptGuide-module_promptGuideColumn_vOif1",Hke="CreateVisualPromptGuide-module_promptGuideVariable_J0duC",zke="CreateVisualPromptGuide-module_promptGuideExample_cJST0",Gke="CreateVisualPromptGuide-module_showForSmallContainer_xWymH",Yke="CreateVisualPromptGuide-module_hideForSmallContainer_-IXnT",Kke="CreateVisualPromptGuide-module_showForSmallestScreens_5xtjN",Xke="CreateVisualPromptGuide-module_hideForSmallestScreens_MVCI7",Zke=[{name:"Style",examples:["cinematic","anime","3d render"]},{name:"Camera Motion",examples:["aerial drone shot","tracking shot","camera push in"],additionalStyle:Yke},{name:"Character/Object",examples:[f.jsxs(f.Fragment,{children:[f.jsx("span",{className:Yke,children:" of a ginger cat "}),f.jsx("span",{className:Gke,children:"ginger cat "})]}),"of a pirate captain","of a perfume bottle"]},{name:"Verb",examples:["watching","performing","sitting"]},{name:"Surroundings",examples:["a beautiful sunset","at a music festival","on a log in a forest"],last:!0}],qke=Zke.filter((e=>"Camera Motion"!==e.name)),Jke=Zke,$ke=({type:e})=>{const t="image"===e?qke:Jke;return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:`${Uke} ${Xke}`,children:[f.jsx("div",{className:Bke,children:"For best results, structure your prompt using this formula:"}),f.jsx("div",{className:Wke,children:t.map((({name:e,examples:t,last:a,additionalStyle:n})=>f.jsxs(b.Fragment,{children:[f.jsxs("div",{className:`${Vke} ${n}`,children:[f.jsx("div",{className:Hke,children:e}),t.map(((e,t)=>f.jsx("div",{className:`${zke} ${t>0&&Yke}`,children:e},String(e))))]}),!a&&f.jsx("div",{className:`${Vke} ${n}`,children:f.jsx("div",{className:Hke,children:"+"})})]},e)))})]}),f.jsx("div",{className:`${Uke} ${Kke}`,children:f.jsxs("div",{className:Bke,children:["For best results, structure your prompt using this formula:"," ",t.map((({name:e,last:t})=>`${e}${t?"":" + "}`))]})})]})},Qke="tabStyles-module_promptRow_ZyZtH",eTe="tabStyles-module_charCount_WnI0M",tTe="tabStyles-module_row_UZQML",aTe="tabStyles-module_pastPromptPopoverAnchor_zOvGA",nTe="tabStyles-module_pastPromptPopoverWrapper_puLQe",sTe="tabStyles-module_label_HX5aH",oTe="tabStyles-module_textAreaWrapper_Ocgxw",iTe="tabStyles-module_actionsContainer_-J3DZ",rTe="tabStyles-module_textarea_Jm4sS",lTe="HistoryButton-module_historyButton_ybiEk",dTe="HistoryButton-module_historyButtonDisabled_rcZfV",cTe=(e,t)=>t in e?String(e[t]):"",uTe=b.memo((({className:e,setPastPrompts:t,setShowPastPrompts:a,loading:n,...s})=>{const{pastPrompts:o}=(({tab:e,requirePastJobsToMatchTab:t,promptKey:a,type:n,prompt:s})=>{const[o,r]=i.useState([]),[l,d]=i.useState(!0),[c,u]=i.useState(),p=Du(Nb);i.useEffect((function(){(async()=>{try{if(!p)return void d(!1);const s=await Kf(`/api/v1/ai/pastJobs/${n}`,{params:t?{tab:e}:{}}),{pastJobs:o}=s,i=o.filter(((e,t,n)=>n.findIndex((t=>cTe(t,a)===cTe(e,a)))===t));r(i),d(!1)}catch(b9e){u(b9e.message??"There was an error fetching past prompts"),d(!1)}})()}),[p,a,t,e,n]);const m=i.useMemo((()=>(o.length?na.go(s,o,{key:String(a),limit:10,all:!0}):[]).map((e=>e)).filter(vA)),[o,s,a]);return i.useMemo((()=>({pastPrompts:m,loading:l,error:c})),[c,l,m])})(s);i.useEffect((function(){o&&t(o)}),[o,t]);const r=!o.length||n;return f.jsx(Hw,{message:r?"No Matching Past Prompts":"View Past Prompts",style:{zIndex:15},children:f.jsx("button",{className:L(e||lTe,{[dTe]:r}),onClick:e=>{r||(e.preventDefault(),a((e=>!e)))},children:f.jsx(sa,{})})})}));const pTe="PastPromptDropDown-module_pastPrompt_W8O8f",mTe="PastPromptDropDown-module_selectedPastPrompt_ZJxrL",gTe="PastPromptDropDown-module_delete_RQoK4",hTe="PastPromptDropDown-module_icon_9HYAp",vTe="PastPromptDropDown-module_left_lwM-M",fTe="PastPromptDropDown-module_title_0NmPy",bTe="PastPromptDropDown-module_dropDown_aqvao",yTe="PastPromptDropDown-module_pastPromptText_2O73l",wTe="PastPromptDropDown-module_topBar_QJwCW",_Te="PastPromptDropDown-module_exitButton_c8bhF";const CTe=({isSelected:e,prompt:t,deletePastPrompt:a,promptKey:n,selectPrompt:s,style:o})=>f.jsxs("div",{className:L({[mTe]:e,[pTe]:!e}),onClick:()=>{s(t.obj)},style:{...o,height:40},children:[f.jsxs("div",{className:vTe,children:[f.jsx(ra,{className:hTe}),f.jsx("div",{className:yTe,children:t.score===-1/0?cTe(t.obj,n):na.highlight(t,(e=>f.jsx("b",{children:e})))})]}),f.jsx("div",{className:gTe,onClick:e=>{e.stopPropagation(),a(t)},children:f.jsx(oa,{})})]},cTe(t.obj,n)),STe=b.memo((function({setPromptFromPastJob:e,promptKey:t,setShowing:a,inputRef:n,tab:s,type:o,pastPrompts:r,setPastPrompts:l}){const[d,u]=i.useState(-1),{setContainer:p,containerRect:m}=(()=>{const[e,t]=i.useState(null),[a,n]=i.useState(null);return i.useEffect((()=>{if(!e)return;const t=new at.ResizeSensor(e,c.throttle((()=>{const t=e.getBoundingClientRect();n(t)}),120));return()=>t.detach()}),[e]),{containerRect:a,setContainer:t,container:e}})(),{height:g}=function(){const[e,t]=i.useState({width:window.innerWidth,height:window.innerHeight});return i.useEffect((()=>{function e(){t({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),e}(),h=i.useMemo((()=>{if(!m)return;const e=g-((null==m?void 0:m.top)??0)-30-30,t=40*r.length;return Math.min(t,e)}),[m,g,r.length]),v=i.useCallback((t=>{ov("Selected Past Prompt",{type:o,tab:s}),e(t),a(!1)}),[e,a,s,o]),b=i.useCallback((e=>{Yf("/api/v1/ai/jobs",{body:{jobId:String(e.obj._id)}}),l((t=>t.filter((({obj:t})=>String(t._id)!==String(e.obj._id)))))}),[l]),y=tY((function(e){var t;const s=null==(t=n.current)?void 0:t.getBoundingClientRect(),o=m&&m.left<=e.clientX&&e.clientX<=m.right&&m.top<=e.clientY&&e.clientY<=m.bottom,i=s&&s.left<=e.clientX&&e.clientX<=s.right&&s.top<=e.clientY&&e.clientY<=s.bottom;o||i||a(!1)})),w=tY((function(e){if("ArrowUp"===e.key&&(e.preventDefault(),u((e=>-1===e?r.length-1:e-1))),"ArrowDown"===e.key&&(e.preventDefault(),u((e=>e===r.length-1?-1:e+1))),"Enter"===e.key){const t=r[d];if(t){e.preventDefault(),v(t.obj);const a=document.activeElement;(a instanceof HTMLTextAreaElement||a instanceof HTMLInputElement)&&a.blur()}}}));return i.useEffect((function(){return document.addEventListener("click",y),document.addEventListener("keydown",w),()=>{document.removeEventListener("click",y),document.removeEventListener("keydown",w)}}),[y,w]),r.length?f.jsx("div",{className:bTe,ref:p,children:!!h&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:wTe,style:{height:30},children:[f.jsx("div",{className:fTe,children:"Past prompts"}),f.jsx("div",{className:_Te,onClick:()=>a(!1),children:f.jsx(oa,{})})]}),f.jsx(ia,{itemData:r,height:h,width:"100%",itemSize:40,itemCount:r.length,children:e=>f.jsx(CTe,{prompt:e.data[e.index],isSelected:e.index===d,promptKey:t,selectPrompt:v,deletePastPrompt:b,...e})})]})}):null})),xTe="SamplePrompts-module_sampleButton_h62eV",ITe=b.memo((function({samplePrompts:e,setPrompt:t,className:a}){const[n,s]=i.useState(Math.floor(Math.random()*((null==e?void 0:e.length)||0)));return(null==e?void 0:e.length)?f.jsx("div",{className:a||xTe,onClick:function(){if(!(null==e?void 0:e.length))return;const a=e[n];s((n+1)%e.length),a&&t(a)},children:"Try a sample!"}):null})),ATe=b.forwardRef((({value:e,placeholder:t,tab:a,promptKey:n,aiJobType:s,setPrompt:o,setPromptFromPastJob:r,title:l,maxCharLength:d,samplePrompts:c,disabled:u,requirePastJobsToMatchTab:p,disablePastPrompt:m,rows:g,rowClass:h,className:v,historyButtonClass:b,textWrapperClass:y,titleClass:w,tryASampleButtonClass:_,actionContainerClass:C},S)=>{const x=i.useRef(null),[I,A]=i.useState([]),[k,T]=i.useState(!1),E=Bg(),{containerRef:L,containerDimensions:j}=use(),R=i.useCallback((()=>{if(x.current&&x.current!==document.activeElement){const e=x.current,t=e.value.length;e.focus(),e.selectionStart=t,e.selectionEnd=t}}),[x]);i.useEffect((()=>{E||R()}),[R,E]);const N=!m&&!!r&&!!s,M=!!(null==c?void 0:c.length),P=N||M,F=la([L,S]);return f.jsx(hr,{open:k,onOpenChange:()=>{},children:f.jsxs("div",{className:h||tTe,ref:F,children:[f.jsxs("div",{className:Qke,children:[l&&f.jsx("div",{className:w||sTe,children:l}),d?f.jsxs("div",{className:eTe,style:e.length>d?{color:"red"}:{},children:[e.length,"/",d]}):null]}),f.jsxs("div",{className:y||oTe,children:[f.jsx("textarea",{ref:x,"data-cy":"ai-input",className:v||rTe,placeholder:t,value:e,onChange:e=>o(e.target.value),rows:g,disabled:u,dir:"auto"}),P&&f.jsxs("div",{className:C||iTe,children:[N&&f.jsx(vr,{asChild:!0,children:f.jsx(uTe,{className:b,setPastPrompts:A,setShowPastPrompts:T,tab:a,type:s,promptKey:n,requirePastJobsToMatchTab:p,prompt:e,loading:!j})}),M&&f.jsx(ITe,{setPrompt:o,samplePrompts:c,className:_})]}),f.jsx(Pr,{asChild:!0,children:f.jsx("div",{className:aTe})})]}),N&&r&&f.jsx(fr,{container:B_(),children:f.jsx(br,{className:nTe,style:{width:null==j?void 0:j.width},side:"bottom",avoidCollisions:!1,children:f.jsx(STe,{type:s,tab:a,requirePastJobsToMatchTab:p,setPromptFromPastJob:r,promptKey:n,inputRef:x,focusOnInput:R,setShowing:T,pastPrompts:I,setPastPrompts:A})})})]})})})),kTe=e=>{const t=e/60;return Math.ceil(150*t)},TTe=[{seconds:15,label:"15s",wordCount:kTe(15)},{seconds:30,label:"30s",wordCount:kTe(30)},{label:"1m",seconds:60,wordCount:kTe(60)},{label:"2m",seconds:120,wordCount:kTe(120)},{label:"3m",seconds:180,wordCount:kTe(180)},{label:"5m",seconds:300,wordCount:kTe(300)}],ETe=e=>e.trim().split(/\s+/).filter((e=>e.length>0)).length,LTe="ScriptWordCount-module_wordCount_Jk4ZW",jTe="ScriptWordCount-module_overLimit_QZBq7",RTe=({content:e,maxWordCount:t})=>{const a=ETe(e),n=a>t;return f.jsxs("div",{className:L(LTe,{[jTe]:n}),children:[a,"/",t]})},NTe="GenerateImagesControls-module_wrapper_yX21m",MTe="GenerateImagesControls-module_actionContainer_InGf9",PTe="GenerateImagesControls-module_container_8wS4A",FTe="GenerateImagesControls-module_wordCountContainer_O1BRw",DTe=[{label:"Lake Sunset",query:"Ultrawide, Lake of Annecy with golden ratio style, 4K, foreground is prairie, light is golden hour, sky with red clouds, ultrarealistic",urls:["https://cdn-useast1.kapwing.com/static/LJd-lake_1.webp","https://cdn-useast1.kapwing.com/static/3LQ-lake_8.webp","https://cdn-useast1.kapwing.com/static/WGZ-lake_7.webp","https://cdn-useast1.kapwing.com/static/SeA-lake_6.webp","https://cdn-useast1.kapwing.com/static/Ad_-lake_5.webp","https://cdn-useast1.kapwing.com/static/1Ij-lake_4.webp","https://cdn-useast1.kapwing.com/static/vQF-lake_3.webp","https://cdn-useast1.kapwing.com/static/db7-lake_2.webp"]},{label:"Race Car",query:"Synthwave halloween formula 1 car racing on a night road in Singapore",urls:["https://cdn-useast1.kapwing.com/static/uoF-car_1.webp","https://cdn-useast1.kapwing.com/static/7zj-car_8.webp","https://cdn-useast1.kapwing.com/static/ETd-car_7.webp","https://cdn-useast1.kapwing.com/static/P4s-car_6.webp","https://cdn-useast1.kapwing.com/static/HrM-car_5.webp","https://cdn-useast1.kapwing.com/static/nik-car_4.webp","https://cdn-useast1.kapwing.com/static/rf4-car_3.webp","https://cdn-useast1.kapwing.com/static/tBQ-car_2.webp"]},{label:"Modern Home",query:"Hyper realistic photo of a high end futuristic single-level house where walls are made of windows, light coming through the window, mid century modern style, cinematic lighting",urls:["https://cdn-useast1.kapwing.com/static/AnI-house_1.webp","https://cdn-useast1.kapwing.com/static/Mke-house_8.webp","https://cdn-useast1.kapwing.com/static/L59-house_7.webp","https://cdn-useast1.kapwing.com/static/P_l-house_6.webp","https://cdn-useast1.kapwing.com/static/5c5-house_5.webp","https://cdn-useast1.kapwing.com/static/yZB-house_4.webp","https://cdn-useast1.kapwing.com/static/mbh-house_3.webp","https://cdn-useast1.kapwing.com/static/yQF-house_2.webp"]}],OTe=["https://cdn-useast1.kapwing.com/static/6uU-moon1.webp","https://cdn-useast1.kapwing.com/static/xsm-moon2.webp","https://cdn-useast1.kapwing.com/static/gSw-moon3.webp","https://cdn-useast1.kapwing.com/static/Dmi-moon4.webp"],UTe=({buttonLoading:e,handleGeneration:t,enforceSignIn:a,setUsingPastPrompt:n})=>{var s;const o=ZIe(),r=Bu(),l=Bg(),[d,u]=i.useState(Math.floor(Math.random()*((null==(s=DTe[0])?void 0:s.urls.length)??0))),{topic:p}=Du((e=>({topic:e.studioLocal.ai.imageGeneratorPrompt||""})),Ou),m=rse(),g=i.useCallback((e=>{if("generate-image"!==e.type)return;const t=e.prompt;r(Uj({imageGeneratorPrompt:t})),n(!0)}),[r,n]),h=m((()=>t()),{action:Dd.GENERATE_IMAGES}),v=o((()=>{const e=DTe.find((e=>e.query===p));if(e){const{urls:t}=e,a=c.chunk(t,4);u(d+1);const n=a[d%a.length];r(Uj({imageGeneratorResults:n}))}else h()}),{[Bd.AI_GENERATE]:1}),b=e||!p||p.length>1e3;bke(a(v),b);const y=i.useCallback((e=>{r(Uj({imageGeneratorPrompt:e}))}),[r]);return f.jsx("div",{className:NTe,style:{overflowY:"scroll"},children:f.jsxs("div",{className:PTe,children:[l&&f.jsx($ke,{type:"image"}),f.jsx(fke,{id:cZ.AiGenerateImageInput,children:f.jsx(ATe,{tab:hR.Image,className:Dke,tryASampleButtonClass:jke,historyButtonClass:Lke,rows:4,placeholder:"Generate an image of...",value:p,setPrompt:y,aiJobType:"generate-image",setPromptFromPastJob:g,promptKey:"prompt",actionContainerClass:MTe,samplePrompts:DTe.map((({query:e})=>e))})}),f.jsx("div",{className:FTe,children:f.jsx(RTe,{content:p,maxWordCount:1e3})}),!l&&f.jsx($ke,{type:"image"})]})})},BTe="ScrollArea-module_scrollBar_7Qket",WTe="ScrollArea-module_scrollThumb_yVmWd",VTe="ScrollArea-module_viewport_U2oCD",HTe=({children:e,className:t,orientation:a="vertical"})=>f.jsxs(Fr,{className:t,children:[f.jsx(Dr,{className:VTe,children:e}),f.jsx(Or,{orientation:a,className:BTe,forceMount:!0,children:f.jsx(Ur,{className:WTe})}),f.jsx(Br,{})]}),zTe="GenerateImagesSubmit-module_generateButton_sMvjI",GTe="GenerateImagesSubmit-module_disabled_a8AKF",YTe="GenerateImagesSubmit-module_darkLoader_VZEGa",KTe="GenerateImagesSubmit-module_scrollArea_8FrgX",XTe="GenerateImagesSubmit-module_sparkle_Ne0yZ",ZTe="GenerateImagesSubmit-module_imagesWrapper_P-zeE",qTe="GenerateImagesSubmit-module_imagesContainer_Ins7-",JTe="GenerateImagesSubmit-module_instructions_XzTrm",$Te="GenerateImagesSubmit-module_loadingInstructionsText_knjJ7",QTe="GenerateImagesSubmit-module_loadingImageContainer_Nqvjz",eEe="GenerateImagesSubmit-module_loadingImage_78C0I",tEe="GenerateImagesSubmit-module_imageContainer_q1QGk",aEe="GenerateImagesSubmit-module_image_LqGBu",nEe="GenerateImagesSubmit-module_clickableImage_2r-UT",sEe="GenerateImagesSubmit-module_resultsWrapper_mlsiD",oEe="GenerateImagesSubmit-module_sparkleButton_DK1LP",iEe=({buttonLoading:e,enforceSignIn:t,handleGeneration:a,onClose:n,usingPastPrompt:s})=>{var o;const r=Bu(),l=Bg(),[d,u]=i.useState(Math.floor(Math.random()*((null==(o=DTe[0])?void 0:o.urls.length)??0))),{topic:p,generatedImages:m}=Du((e=>({topic:e.studioLocal.ai.imageGeneratorPrompt||"",generatedImages:e.studioLocal.ai.imageGeneratorResults})),Ou),[g,h]=i.useState(!1),v=rse(),b=gg(Fd.GENERATE_IMAGES),y=v((()=>a()),{action:Dd.GENERATE_IMAGES}),w=()=>{const e=DTe.find((e=>e.query===p));if(e){const{urls:t}=e,a=c.chunk(t,4);u(d+1);const n=a[d%a.length];r(Uj({imageGeneratorResults:n}))}else y()},{blocked:_}=cP({projectedUsage:{[Bd.AI_GENERATE]:1}}),C=_||e||!p||p.length>1e3;bke(t(w),C);const S=DTe.some((e=>e.query===p)),x=!b&&!S;let I=[],A=!0;m?I=m:l||(I=OTe,A=!1);const k=()=>e?f.jsx("div",{className:ZTe,children:f.jsx("div",{className:qTe,children:new Array(4).fill(null).map(((e,t)=>f.jsx("div",{className:QTe,children:f.jsx("div",{className:eEe})},t)))})}):f.jsx("div",{className:ZTe,children:f.jsxs("div",{className:qTe,children:[m&&f.jsx("div",{className:JTe,children:g?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:YTe}),f.jsx("div",{className:$Te,children:"Adding image to project..."})]}):f.jsx("div",{className:$Te,children:"Click on an image to add it to your Kapwing project."})}),I.map((e=>f.jsx("div",{className:tEe,onClick:()=>{A&&(async e=>{h(!0);const t={height:1024,width:1024,name:p};await oie({url:e,options:{layerProperties:t}}),r(vz({usedGenerateImage:!0,usedGenerateImagePastPrompt:s})),h(!1),n()})(e)},children:f.jsx("img",{src:e,className:L(aEe,{[nEe]:A}),alt:p})},e)))]})});function T(){return f.jsx(f.Fragment,{children:f.jsxs(QAe,{topText:"This is just a preview of what your AI image results may look like. Click Generate to start the creation process.",children:[f.jsx(eke,{supportsMobile:!0,children:f.jsx("div",{className:sEe,children:k()})}),f.jsx(tke,{children:f.jsxs("button",{type:"button",className:L(zTe,{[oEe]:x,[GTe]:C}),disabled:C,onClick:t(w),children:[f.jsx("span",{children:e?"Generating Images...":"Generate Images"}),f.jsx("span",{children:x?f.jsx(_se,{className:XTe}):null})]})})]})})}return l?T():f.jsx(HTe,{className:KTe,children:T()})},rEe=({enforceSignIn:e,onClose:t,setCancelFn:a})=>{const[n,s]=i.useState(!1),[o,r]=i.useState(!1),l=i.useCallback((async()=>{const{dispatch:e,state:t}=Mu(),s=t.studioLocal.ai.imageGeneratorPrompt||"";r(!0);try{ov("Started Image Generator",{Topic:s,"Used Past Prompt":n});const t=new vre;a((()=>{t.cancel(),e(Uj({imageGeneratorPrompt:""}))}));const o=await pAe(s);if(nke("generatedImages"),t.cancelled)return void r(!1);o.length?e(Uj({imageGeneratorResults:o.map((e=>e.url))})):e(db({type:"warning",description:"Unable to generate image."}))}catch(b9e){if(b9e instanceof uAe)e(db({type:"warning",description:b9e.message}));else{const{message:e}=ub(b9e);ov("Image Generator Failed",{Error:e}),cb({description:"Received an unexpected Dall-E response.",error:b9e})}}r(!1)}),[n,a]);return f.jsxs(f.Fragment,{children:[f.jsxs($Ae,{children:[f.jsx(cAe,{estimatedUsageByCategory:{[Bd.AI_GENERATE]:1}}),f.jsx(UTe,{buttonLoading:o,enforceSignIn:e,handleGeneration:l,setUsingPastPrompt:s})]}),f.jsx(iEe,{buttonLoading:o,enforceSignIn:e,handleGeneration:l,onClose:t,usingPastPrompt:n})]})},lEe=[{key:"1:1",className:"oneOne"},{key:"9:16",className:"nineSixteen"},{key:"16:9",className:"sixteenNine"},{key:"4:5",className:"fourFive"},{key:"5:4",className:"fiveFour"}],dEe={"1:1":1,"9:16":9/16,"16:9":16/9,"4:5":.8,"5:4":5/4};let cEe={},uEe=!1;const pEe=async()=>{if(uEe)return cEe;try{const e=(await EC((()=>import("./PRELOADED_ASSETS-SXnE3jcV.js")),__vite__mapDeps([2,0,1]))).PRELOADED_ASSETS;cEe=JSON.parse(e)}catch(b9e){console.error("Error loading preloaded assets",b9e)}return uEe=!0,cEe},mEe={subtitles:"Subtitles",audio:"Audio",repurpose:"Repurpose","text-to-speech":"Text to Speech",reverse:"Reverse","green-screen":"Green Screen","remove-background":"Remove Video Background","remove-image-background":"Remove Image Background","smart-cut":"Smart Cut","add-audio":"Audio",waveform:"Waveform",default:"Sample Video",interview:"Interview",screenshare:"Screenshare"};const gEe=async e=>{const{url:t,layerProperties:a,assetMediaInfo:n}=e,{asset:s,cmlFile:o}=await v2(t);_9(s,o);const i=g();Mu().dispatch(Dp({assetId:s._id,mediaCacheId:i}));const r=s.status===td.uploaded,l=await R4(s,i,{...a,asset_id:s._id,source:r?"upload":"pastedLink",uploadPending:!r},n);return l&&o&&(l.cmlFileId=o._id),l},hEe=async e=>{const t=(await pEe())[e.assetId];return(null==t?void 0:t.url)&&!ac(t.url)?(async(e,t)=>{const{state:a,dispatch:n}=Mu();a.assets.byId[e._id]||n(YE([e]));const s=await Y9(e,{...t,asset_id:e._id});if(s){try{const t=a.studio._id;Xf("/api/v1/assets/addAssetForUserVideo",{body:{assetId:e._id,videoId:t,fileName:e.name}}).then((e=>{if(e.cmlFile){const{thisProjectCMLFiles:o}=a.studio,i=e.cmlFile,r={cmlFileId:i._id};n(QA({[s.id]:r},"addLayerFromExternalAsset",!1)),n(VH([i])),n(WH([i._id])),!(null==o?void 0:o[i._id])&&t&&n(g9(i,t)),i.duplicate&&n(YH({id:i._id,modified:new Date(i.modified)}))}}))}catch(b9e){console.error("Error adding asset to video",b9e)}return s}})(t,e.layerProperties):gEe(e)},vEe=async(e,t)=>{const{dispatch:a}=Mu();if("text-to-speech"===e){const n=await(async()=>[await gEe(kR),await gEe(TR)])();if(!n)return;return await Promise.all(n.map((e=>{e&&(t?t(e):F4(e,{selectLayerInCreator:!0}))}))),n[0]&&a(ck({id:n[0].id,type:"layer"})),a(m0({tabId:"text-to-speech",tabContainerId:"media-sidebar"})),void(await jK(mEe[e]))}const n=function(e){if(window.Cypress)return AR;switch(e){case"audio":return yR;case"smart-cut":return wR;case"repurpose":return CR;case"reverse":return _R;case"remove-background":return SR;case"remove-image-background":return xR;case"green-screen":return IR;default:return bR}}(e),s=await hEe(n);if(!s)return void pb({description:"There was an error with adding the sample. Please try again.",sentryMessage:"Sample Create Layer Error"});t?t(s):F4(s,{selectLayerInCreator:!0});return jK(mEe[e]||"Sample Project"),"repurpose"===e&&a(ck(null)),s},fEe=()=>{const e=Bu(),t=Du((e=>e.studioLocal.initialProjectLoadAt)),a=i.useRef(null),n=i.useRef(null);return i.useEffect((function(){if(!t)return;if(!a.current)return;if(!n.current)return;const s=n.current;jK(mEe[s]||"Sample Project"),e(ck({id:a.current,type:"layer"})),a.current=null,n.current=null}),[t,e]),i.useMemo((()=>async e=>{const t=await vEe(e);"repurpose"!==e&&(a.current=(null==t?void 0:t.id)||null),n.current=e}),[])};var bEe=(e=>(e.TikTok="TikTok",e.Youtube="YouTube",e.Reels="Reels",e.Shorts="Shorts",e))(bEe||{});const yEe={workspacePopoverZIndex:"18",popoverZIndex:"14",paywallZIndex:"1001",paywallBgZIndex:"1000",wrapper:"SizeOptions-module_wrapper_GIOkA",controls:"SizeOptions-module_controls_u4k-4",fullWidthAlignCenter:"SizeOptions-module_fullWidthAlignCenter_SpN9t",controlsSmall:"SizeOptions-module_controlsSmall_T0kD4",promptRow:"SizeOptions-module_promptRow_pbgb9",charCount:"SizeOptions-module_charCount_1-QKh",row:"SizeOptions-module_row_3BStD",width65:"SizeOptions-module_width65_sRlaE",pastPromptPopoverAnchor:"SizeOptions-module_pastPromptPopoverAnchor_9Yxj9",pastPromptPopoverWrapper:"SizeOptions-module_pastPromptPopoverWrapper_JKZDT",label:"SizeOptions-module_label_9N9L3",descriptionLabel:"SizeOptions-module_descriptionLabel_-582R",input:"SizeOptions-module_input_qZP3J",textAreaWrapper:"SizeOptions-module_textAreaWrapper_2lYto",actionsContainer:"SizeOptions-module_actionsContainer_w-1-t",textarea:"SizeOptions-module_textarea_LWG3z",previewWrapper:"SizeOptions-module_previewWrapper_zVmyr",previewHint:"SizeOptions-module_previewHint_F-4Gb",previewContainer:"SizeOptions-module_previewContainer_qSaFF",preview:"SizeOptions-module_preview_kgytN",previewBlur:"SizeOptions-module_previewBlur_1qGtg",previewText:"SizeOptions-module_previewText_dj1rq",generateContainer:"SizeOptions-module_generateContainer_Uw5v4",generateButton:"SizeOptions-module_generateButton_ZT01l",disabled:"SizeOptions-module_disabled_tavKT",loader:"SizeOptions-module_loader_tgxOB",spin:"SizeOptions-module_spin_mZ45G",darkLoader:"SizeOptions-module_darkLoader_L-IR8",resultsContainer:"SizeOptions-module_resultsContainer_-Fbca",emptyState:"SizeOptions-module_emptyState_GyJT-",upsellContainer:"SizeOptions-module_upsellContainer_nGPAb",examplesWrapper:"SizeOptions-module_examplesWrapper_ksXHP",example:"SizeOptions-module_example_B8sAg",oneOne:"SizeOptions-module_oneOne_JRYPX",nineSixteen:"SizeOptions-module_nineSixteen_uAe23",sixteenNine:"SizeOptions-module_sixteenNine_8gczj",fourFive:"SizeOptions-module_fourFive_m2OIj",fiveFour:"SizeOptions-module_fiveFour_y36Du",home:"SizeOptions-module_home_lw3kx",homeHowBackgroundWhite:"SizeOptions-module_homeHowBackgroundWhite_hk9hK",largeButton:"SizeOptions-module_largeButton_yv7zM",sectionContent:"SizeOptions-module_sectionContent_YKjIF",sectionHeader:"SizeOptions-module_sectionHeader_L58-p",spacer:"SizeOptions-module_spacer_Yp3Ya",chevron:"SizeOptions-module_chevron_mc-5C",splashText:"SizeOptions-module_splashText_7BzPy",splashSubtext:"SizeOptions-module_splashSubtext_6F5c9",aboutSection:"SizeOptions-module_aboutSection_otSGk",mobile:"SizeOptions-module_mobile_17MF5",desktop:"SizeOptions-module_desktop_h5NJD",screenReaderOnlyLabel:"SizeOptions-module_screenReaderOnlyLabel_oacu0",disabledWithPointerEvents:"SizeOptions-module_disabledWithPointerEvents_nwiW5",noScrollBar:"SizeOptions-module_noScrollBar_kzoSk",textOverflowEllipsis:"SizeOptions-module_textOverflowEllipsis_ddKlK",disableTextHighlight:"SizeOptions-module_disableTextHighlight_aeQdf",genericButtonBlue:"SizeOptions-module_genericButtonBlue_HxdRt",mainContainer:"SizeOptions-module_mainContainer_6LcpG",previewAndNextContainer:"SizeOptions-module_previewAndNextContainer_GhG6R",previewTopText:"SizeOptions-module_previewTopText_LKh2d",header:"SizeOptions-module_header_raF4G",headerIcon:"SizeOptions-module_headerIcon_yaq6H",headerText:"SizeOptions-module_headerText_OM9Yp",toggleSpace:"SizeOptions-module_toggleSpace_Eel27",stickyFooter:"SizeOptions-module_stickyFooter_gxvlB",nextButtonContainer:"SizeOptions-module_nextButtonContainer_dDUBD",trigger:"SizeOptions-module_trigger_P5DaS",settingsOverlay:"SizeOptions-module_settingsOverlay_X4Y5U",closeButton:"SizeOptions-module_closeButton_YNul5",container:"SizeOptions-module_container_7IQlY",mobileContainer:"SizeOptions-module_mobileContainer_ayEY3",mobileSettingsContainer:"SizeOptions-module_mobileSettingsContainer_5LZW3",goBack:"SizeOptions-module_goBack_hNFpf",mobileVoiceContainer:"SizeOptions-module_mobileVoiceContainer_j-j6h",mainRow:"SizeOptions-module_mainRow_tcPvT",scriptContainer:"SizeOptions-module_scriptContainer_CSy31",script:"SizeOptions-module_script_c2phv",scriptLabel:"SizeOptions-module_scriptLabel_3wBgf",bottomRow:"SizeOptions-module_bottomRow_bRYja",createVideoButton:"SizeOptions-module_createVideoButton_1d-Y4",mobilePreviewContainer:"SizeOptions-module_mobilePreviewContainer_HHp0d",controlsContainer:"SizeOptions-module_controlsContainer_DgcZ9",settingCol:"SizeOptions-module_settingCol_8bI4i",settingTitle:"SizeOptions-module_settingTitle_HKoSg",settingsButton:"SizeOptions-module_settingsButton_PlmNg",settingBox:"SizeOptions-module_settingBox_93ha0",customBRollPreview:"SizeOptions-module_customBRollPreview_GAZN5",customBRollImage:"SizeOptions-module_customBRollImage_YrXzv",bRollIcon:"SizeOptions-module_bRollIcon_IqMGf",voiceIcon:"SizeOptions-module_voiceIcon_H2uSp",voiceOverlay:"SizeOptions-module_voiceOverlay_-3QOY",personaOverlay:"SizeOptions-module_personaOverlay_cQTrX",personaImageBounds:"SizeOptions-module_personaImageBounds_o1GyT",personaImage:"SizeOptions-module_personaImage_9zpEv",settingLabel:"SizeOptions-module_settingLabel_Ppr8A",sizeWrapper:"SizeOptions-module_sizeWrapper_xvMS0",mobileSizeWrapper:"SizeOptions-module_mobileSizeWrapper_23Ryl",sizeContainer:"SizeOptions-module_sizeContainer_RSY6q",mobilePreviewBackground:"SizeOptions-module_mobilePreviewBackground_D6YYD",sizePreviewBackground:"SizeOptions-module_sizePreviewBackground_j01KX",optionLabel:"SizeOptions-module_optionLabel_hsTT1",sizePreview:"SizeOptions-module_sizePreview_lf6Jv",active:"SizeOptions-module_active_L3E13"},wEe=[lEe[1],lEe[0],lEe[2],lEe[3],lEe[4]],_Ee=lEe[1];function CEe(){const{state:e}=Mu(),{ratio:t}=e.studio;if(!e.studio.width||!e.studio.height)return _Ee;const a=(e=>{const[t,a]=e.split(":").map(Number);return t&&a?t/a:dEe[_Ee.key]})(t);return[...lEe].sort(((e,t)=>{const n=dEe[e.key],s=dEe[t.key];return Math.abs(n-a)-Math.abs(s-a)}))[0]||_Ee}function SEe(e){switch(e.key){case"9:16":return bEe.TikTok;case"1:1":return bEe.Reels;default:return bEe.Youtube}}function xEe({size:e,isSelected:t,setSelectedSize:a,setSelectedPlatform:n,mobile:s,onSelect:o}){const{key:r,className:l}=e,d=i.useCallback((()=>{a(e),n&&n(SEe(e)),null==o||o()}),[o,n,a,e]);return f.jsxs("div",{className:L(yEe.sizeContainer,{[yEe.mobilePreviewBackground]:s}),onClick:d,children:[f.jsx("div",{className:L(yEe.sizePreviewBackground,{[yEe.active]:t}),children:f.jsx("div",{className:L(yEe[l],yEe.sizePreview)})}),f.jsx("div",{className:yEe.optionLabel,children:r})]})}const IEe=b.memo((function({setSelectedSize:e,selectedSize:t,setSelectedPlatform:a,onSelect:n}){const s=Bg();return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:yEe.label,children:"Aspect Ratio"}),f.jsx("div",{className:yEe.descriptionLabel,children:"The size format for your project. This can be edited later."}),f.jsx("div",{className:L(yEe.sizeWrapper,{[yEe.mobileSizeWrapper]:s}),children:wEe.map((o=>f.jsx(xEe,{size:o,isSelected:t.key===o.key,setSelectedSize:e,setSelectedPlatform:a,mobile:s,onSelect:n},o.key)))})]})})),AEe="AiModalSelect-module_selectContent_FJMrz",kEe="AiModalSelect-module_selectTrigger_99oei",TEe="AiModalSelect-module_selectItem_rRg3E",EEe="AiModalSelect-module_selectTriggerIcon_b2ZGE";function LEe({items:e,onChange:t,value:a}){return f.jsxs(Ir,{value:a,onValueChange:t,children:[f.jsxs(Ar,{className:kEe,children:[f.jsx(kr,{}),f.jsx("div",{className:EEe,children:f.jsx(da,{})})]}),f.jsx(Er,{container:B_(),children:f.jsx(Lr,{className:AEe,children:f.jsx(jr,{children:e.map((e=>f.jsx(Sr,{value:e.value,className:TEe,children:f.jsx(xr,{children:e.label})},e.value)))})})})]})}var jEe=(e=>(e.bRollOnly="bRollOnly",e.bRollWithPersonaOverlay="bRollWithPersonaOverlay",e.personaWithBRollOverlay="personaWithBRollOverlay",e))(jEe||{}),REe=(e=>(e.bRollOnly="B-Roll only",e.bRollWithPersonaOverlay="Persona overlays",e.personaWithBRollOverlay="Persona with B-Roll overlay",e))(REe||{});const NEe=Object.keys(jEe).filter((e=>"personaWithBRollOverlay"!==e));window.elementPoolById={},window.elementPoolPlayerById={};const MEe=b.memo((({children:e,id:t,getEPTime:a,setEPTime:n,selectElementPoolLayers:s,selectPossibleReferenceLayers:o})=>{const{setIsBuffering:r}=bce(),[{elementPool:l,elementPoolPlayer:d},u]=i.useState({}),p=i.useRef({setIsBuffering:r,getEPTime:a,setEPTime:n});i.useEffect((()=>{p.current.setIsBuffering=r,p.current.setEPTime=n,p.current.getEPTime=a}),[a,n,r]),i.useLayoutEffect((()=>{const e=new Qre({id:t});window.elementPoolById||(window.elementPoolById={});const a=new fre({elementPool:e,fns:p});return window.elementPoolById[t]=e,window.elementPoolPlayerById[t]=a,u({elementPool:e,elementPoolPlayer:a}),()=>{a.pause(),e.destroyDomPool(),delete window.elementPoolById[t],delete window.elementPoolPlayerById[t],u({})}}),[t]);const{globalPlaybackRate:m}=Du((e=>({globalPlaybackRate:e.studioLocal.playbackRate})),Ou),g=Du((e=>{var a;return null==(a=e.elementPool.byElementPoolId[t])?void 0:a.paused}),c.isEqual),h=Du(o,c.isEqual),v=Bu(),b=Du(s,c.isEqual);i.useLayoutEffect((()=>{l&&d&&l.regenerateDomPool(b)}),[d,l,b]),i.useLayoutEffect((()=>{g&&d&&d.pause()}),[g,d]),i.useLayoutEffect((function(){var e;"number"!=typeof(null==(e=Mu().state.elementPool.byElementPoolId[t])?void 0:e.userManualSeekTime)&&g&&(null==d||d.seek(a()))}),[t,g,a,d,b]),i.useLayoutEffect((()=>{const e=()=>{null==d||d.seek(0)};return document.addEventListener("studioLooped",e),()=>{document.removeEventListener("studioLooped",e)}}),[d]);const y=Du((e=>{var a;return null==(a=e.elementPool.byElementPoolId[t])?void 0:a.userManualSeekTime}));i.useLayoutEffect((()=>{!async function(){if("number"!=typeof y)return;const e="number"==typeof y?y:a();await(null==d?void 0:d.seek(e,!g)),setTimeout((()=>{((e,t)=>{var a;const{state:n,dispatch:s}=Mu();(null==(a=n.elementPool.byElementPoolId[t])?void 0:a.userManualSeekTime)===e&&s(iB({elementPoolId:t,time:null}))})(e,t)}),0)}()}),[y,v,g,t,a,d]),i.useLayoutEffect((function(){if(g)return()=>{};let e;return function t(){null==d||d.playOrPreseekElementsWhileStudioIsPlaying(h,m),e=setTimeout(t,33.333333333333336)}(),()=>{clearTimeout(e)}}),[g,h,m,d]);const w=i.useMemo((()=>({elementPool:l??null,getEPTime:a,setEPTime:n,selectElementPoolLayers:s,selectPossibleReferenceLayers:o})),[l,a,n,s,o]);return f.jsx(JG.Provider,{value:w,children:e})})),PEe=b.memo((({children:e,id:t,getEPTime:a=dY,setEPTime:n=cY,selectElementPoolLayers:s=xre,selectPossibleReferenceLayers:o=kre,selectCanvasElementPoolLayers:r=Jie})=>{const[l,d]=i.useState(!1),c=i.useMemo((()=>({isBuffering:l,setIsBuffering:d})),[l,d]);return f.jsx(fce.Provider,{value:c,children:f.jsx(MEe,{id:t,getEPTime:a,setEPTime:n,selectElementPoolLayers:s,selectPossibleReferenceLayers:o,children:f.jsx(ale,{id:t,selectElementPoolLayers:s,selectCanvasElementPoolLayers:r,children:e})})})})),FEe="Preview-module_preview_pSulq",DEe="Preview-module_container_b6Z-G",OEe="Preview-module_text_PRxSF",UEe=[];function BEe({selectedSize:e,selectedPreset:t,selectedPersonaId:a,backgroundUrl:n,visualFormat:s=jEe.bRollOnly,sizeRatioByHeight:o=!1}){const[r,l]=i.useState(!1);let d={width:"80%",aspectRatio:"1/1"},c=1,u=1,p=70;switch(e.key){case"9:16":u=9,c=16,d=o?{height:"100%",aspectRatio:"9/16"}:{width:"55%",aspectRatio:"9/16"},p=70;break;case"16:9":u=16,c=9,d={width:"100%",aspectRatio:"16/9"},p=60;break;case"4:5":u=4,c=5,d=o?{height:"100%",aspectRatio:"4/5"}:{width:"80%",aspectRatio:"4/5"},p=70;break;case"5:4":u=5,c=4,d=o?{height:"100%",aspectRatio:"5/4"}:{width:"100%",aspectRatio:"5/4"},p=60}const m=s===jEe.bRollWithPersonaOverlay?100-p+"%":`${p}%`,[g,h]=i.useState(0),v=i.useId(),{personaVideoAsset:b,selectedPersona:y}=Du((e=>{const t=a?AA(a,e):void 0,n=kA((null==t?void 0:t.personaId)||"");return{selectedPersona:t,personaVideoAsset:e.assets.byId[n||""]}}),Ou),w=`${a}-${v}`,_=i.useMemo((()=>{if(!y||!b)return null;const e={type:Nc.Persona,id:`persona-${v}-${y.personaId}`,name:"Persona Preview",startTime:0,endTime:3,duration:(null==b?void 0:b.duration)||3,videoDelay:0,personaId:y.personaId,video_asset_id:b._id,isPersona:!0,depth:"a1",volume:0,isMuted:!0,audio_asset_id:"doesnt-matter",position:{x:"0%",y:"0%",width:"100%",height:"100%"}};if(s===jEe.bRollOnly)return null;s===jEe.bRollWithPersonaOverlay&&(e.position=Kue("bottomCorner",{canvasWidth:u,canvasHeight:c},(null==b?void 0:b.dimensions)||{height:c,width:u}),e.removeBg=!0);return jp(e)}),[v,b,c,u,y,s]),C=i.useMemo((()=>{const e={type:Nc.Image,id:"bg-image",name:"Background Image",startTime:0,endTime:3,position:{x:"-0.5%",y:"-0.5%",width:"101%",height:"101%"},url:n};return s===jEe.personaWithBRollOverlay?(e.position=Kue("topCorner",{canvasWidth:u,canvasHeight:c},(null==b?void 0:b.dimensions)||{height:c,width:u}),e.depth="a3"):e.depth="a0",_?[e,_].sort(((e,t)=>e.depth.localeCompare(t.depth))):[e]}),[n,null==b?void 0:b.dimensions,c,u,_,s]),S=i.useMemo((()=>_?Sre({dragOverride:void 0,layer:_,mediaCacheId:Vp(_),sceneDuration:_.duration||(null==b?void 0:b.duration)||3}):[]),[null==b?void 0:b.duration,_]);return i.useEffect((function(){const{dispatch:e}=Mu();e(rB.setPaused({elementPoolId:w,paused:!0}))}),[w]),f.jsxs("div",{className:DEe,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[f.jsx("div",{className:FEe,style:{...d},children:f.jsx(PEe,{id:w,getEPTime:()=>g,setEPTime:h,selectCanvasElementPoolLayers:()=>S,selectElementPoolLayers:()=>UEe,selectPossibleReferenceLayers:()=>UEe,children:f.jsx(QG.Provider,{value:g,children:f.jsx($ge,{layers:C,useLayerUrls:!0,ratio:{height:c,width:u},background:"white",canvasBlur:!1})})})}),t&&f.jsx("div",{className:OEe,style:{position:"absolute",top:m},children:f.jsx(hoe,{preset:t,animate:r,width:100,height:100})})]})}const WEe="GenerateScene-module_generateContainer_WCmcG",VEe="GenerateScene-module_generateButton_UVjnL",HEe="GenerateScene-module_disabled_XyHRW",zEe="GenerateScene-module_settingsRow_s-piI",GEe="GenerateScene-module_sparkle_NHAG3",YEe="GenerateScene-module_sparkleButton_-IWst",KEe="GenerateScriptCharacterCount-module_characterCount_1ov9a",XEe="GenerateScriptCharacterCount-module_overLimit_Izlld",ZEe=({characterCount:e,maxCharacterCount:t})=>{const a=e>t;return f.jsxs("div",{className:L(KEe,{[XEe]:a}),children:[e,"/",t]})},qEe={"Pixel art video of a girl wearing headphones and bobbing her head as she reads a book in front of an open window, outside the window is a cityscape":{"4:5":{assetId:"66ce691fbba595ae20cdbfbb",url:"https://cdn-useast1.kapwing.com/static/FCp-Pixel-art,-girl-wears-headphones-and-bobs-her-head-as-she-reads-a-book-in-front-of-an-open-window,-outside-the-window-is-a-cityscape.mp4",layerProperties:{mime:"video.mp4",type:"video",isSample:!0}},"16:9":{assetId:"66ce6916bba595ae20cdbfa1",url:"https://cdn-useast1.kapwing.com/static/PPd-Pixel-art,-girl-wears-headphones-and-bobs-her-head-as-she-reads-a-book-in-front-of-an-open-window,-outside-the-window-is-a-cityscape.mp4",layerProperties:{mime:"video.mp4",type:"video",isSample:!0}},"5:4":{assetId:"66ce691fbba595ae20cdbfba",url:"https://cdn-useast1.kapwing.com/static/tro-Pixel-art,-girl-wears-headphones-and-bobs-her-head-as-she-reads-a-book-in-front-of-an-open-window,-outside-the-window-is-a-cityscape.mp4",layerProperties:{mime:"video.mp4",type:"video",isSample:!0}},"1:1":{assetId:"66ce6910bba595ae20cdbf95",url:"https://cdn-useast1.kapwing.com/static/ea8-Pixel-art,-girl-wears-headphones-and-bobs-her-head-as-she-reads-a-book-in-front-of-an-open-window,-outside-the-window-is-a-cityscape.mp4",layerProperties:{mime:"video.mp4",type:"video",isSample:!0}},"9:16":{assetId:"66ce69f5bba595ae20cdbfda",url:"https://cdn-useast1.kapwing.com/static/S8S-Pixel-art,-girl-wears-headphones-and-bobs-her-head-as-she-reads-a-book-in-front-of-an-open-window,-outside-the-window-is-a-cityscape.mp4",layerProperties:{mime:"video.mp4",type:"video",isSample:!0}}},"psychedelic style, dolly in shot of a toad":{"9:16":{assetId:"66ce6c35bba595ae20cdc0b3",url:"https://cdn-useast1.kapwing.com/static/yc8-psychedelic-style,-dolly-in,-toad.mp4",layerProperties:{mime:"video.mp4",type:"video",isSample:!0}},"1:1":{assetId:"66ce6c49bba595ae20cdc0c7",url:"https://cdn-useast1.kapwing.com/static/aIW-psychedelic-style,-dolly-in,-toad.mp4",layerProperties:{mime:"video.mp4",type:"video",isSample:!0}},"16:9":{assetId:"66ce6c4fbba595ae20cdc0d1",url:"https://cdn-useast1.kapwing.com/static/iDM-psychedelic-style,-dolly-in,-toad.mp4",layerProperties:{mime:"video.mp4",type:"video",isSample:!0}},"4:5":{assetId:"66ce6c56bba595ae20cdc0e1",url:"https://cdn-useast1.kapwing.com/static/ncL-psychedelic-style,-dolly-in,-toad.mp4",layerProperties:{mime:"video.mp4",type:"video",isSample:!0}},"5:4":{assetId:"66ce6c57bba595ae20cdc0e4",url:"https://cdn-useast1.kapwing.com/static/kA3-psychedelic-style,-dolly-in,-toad.mp4",layerProperties:{mime:"video.mp4",type:"video",isSample:!0}}},"anime style video of a ginger cat watching a beautiful sunset":{"9:16":{assetId:"66ce6b98bba595ae20cdc05f",url:"https://cdn-useast1.kapwing.com/static/82e-anime-style,-a-ginger-cat,-beautiful-sky-sunset.mp4",layerProperties:{mime:"video.mp4",type:"video",isSample:!0}},"1:1":{assetId:"66ce6b9ebba595ae20cdc069",url:"https://cdn-useast1.kapwing.com/static/15E-anime-style,-a-ginger-cat,-beautiful-sky-sunset.mp4",layerProperties:{mime:"video.mp4",type:"video",isSample:!0}},"16:9":{assetId:"66ce6ba1bba595ae20cdc070",url:"https://cdn-useast1.kapwing.com/static/7hb-anime-style,-a-ginger-cat,-beautiful-sky-sunset.mp4",layerProperties:{mime:"video.mp4",type:"video",isSample:!0}},"4:5":{assetId:"66ce6ba9bba595ae20cdc07d",url:"https://cdn-useast1.kapwing.com/static/wya-anime-style,-a-ginger-cat,-beautiful-sky-sunset.mp4",layerProperties:{mime:"video.mp4",type:"video",isSample:!0}},"5:4":{assetId:"66ce6badbba595ae20cdc087",url:"https://cdn-useast1.kapwing.com/static/iMX-anime-style,-a-ginger-cat,-beautiful-sky-sunset.mp4",layerProperties:{mime:"video.mp4",type:"video",isSample:!0}}},"Tilt lens aerial view video of a herd of buffalo running through Times Square":{"9:16":{assetId:"66ce6ae6bba595ae20cdc007",url:"https://cdn-useast1.kapwing.com/static/Yi1-Tilt-lens,-aerial-view,-herd-of-buffalo-runs-through-Times-Square.mp4",layerProperties:{mime:"video.mp4",type:"video",isSample:!0}},"1:1":{assetId:"66ce6aefbba595ae20cdc01e",url:"https://cdn-useast1.kapwing.com/static/cgY-Tilt-lens,-aerial-view,-herd-of-buffalo-runs-through-Times-Square.mp4",layerProperties:{mime:"video.mp4",type:"video",isSample:!0}},"16:9":{assetId:"66ce6aefbba595ae20cdc01f",url:"https://cdn-useast1.kapwing.com/static/V4h-Tilt-lens,-aerial-view,-herd-of-buffalo-runs-through-Times-Square.mp4",layerProperties:{mime:"video.mp4",type:"video",isSample:!0}},"4:5":{assetId:"66ce6af7bba595ae20cdc032",url:"https://cdn-useast1.kapwing.com/static/aIJ-Tilt-lens,-aerial-view,-herd-of-buffalo-runs-through-Times-Square.mp4",layerProperties:{mime:"video.mp4",type:"video",isSample:!0}},"5:4":{assetId:"66ce6af7bba595ae20cdc033",url:"https://cdn-useast1.kapwing.com/static/Vz3-Tilt-lens,-aerial-view,-herd-of-buffalo-runs-through-Times-Square.mp4",layerProperties:{mime:"video.mp4",type:"video",isSample:!0}}}},JEe=Object.keys(qEe);Object.values(qEe).reduce(((e,t)=>[...e,...Object.values(t).map((e=>({assetId:e.assetId})))]),[]);const $Ee={"4:5":`${Vl}/static/fPf-4x5.mp4`,"1:1":`${Vl}/static/C7M-1x1.mp4`,"5:4":`${Vl}/static/u6T-5X4.mp4`,"16:9":`${Vl}/static/Sqh-16x9.mp4`,"9:16":`${Vl}/static/Ys0-9_x_16.mp4`};async function QEe(e){const t=1024;let a,n;const s=dEe[e.size.key];s>=1?(a=t,n=Math.round(t/s)):(n=t,a=Math.round(t*s));const o={width:a,height:n},i=await(async e=>{const{prompt:t,size:a}=e,{asset:n}=await v2($Ee[a.key],{skipCML:!0}),{dispatch:s}=Mu();s(YE([n]));const o=g();s(Dp({assetId:n._id,mediaCacheId:o}));const i=await R4(n,o,{name:t,asset_id:n._id,source:"generateScene",uploadPending:!1});if(!i)throw new Error("Failed to create preview layer");return i.hasAudio=!1,i})(e);if(!i)throw new Error("Failed to create preview layer");fJ({...i,type:Nc.Video,pendingAIJobs:[{id:String(e._id),type:"generate-scene"}],...o},{undoable:!0})}const eLe=({setUsingPastPrompt:e,selectedSize:t,setSelectedSize:a})=>{const n=Bu(),s=Bg(),{topic:o}=Du((e=>({topic:e.studioLocal.ai.sceneGeneratorPrompt||""})),Ou),r=Ju(Ru.SCENE_GENERATOR_OUTAGE),l=i.useCallback((t=>{if("generate-scene"!==t.type)return;const a=t.prompt;n(Uj({sceneGeneratorPrompt:a})),e(!0)}),[n,e]),d=i.useCallback((e=>{r?mb({description:"Scene generation is currently unavailable. Please try again later."}):n(Uj({sceneGeneratorPrompt:e}))}),[n,r]);return f.jsxs(f.Fragment,{children:[s&&f.jsx($ke,{type:"video"}),f.jsx(cAe,{estimatedUsageByCategory:{[Bd.AI_GENERATE]:1}}),f.jsx(ATe,{tab:hR.Scene,className:Dke,tryASampleButtonClass:jke,historyButtonClass:Lke,rows:4,placeholder:"Generate a 5 second scene about...",value:o,setPrompt:d,aiJobType:"generate-scene",setPromptFromPastJob:l,promptKey:"prompt",samplePrompts:[...JEe]}),f.jsxs("div",{className:zEe,children:[f.jsx(ZEe,{characterCount:o.length,maxCharacterCount:1e3}),f.jsx(LEe,{value:t.key,onChange:e=>a(lEe.find((({key:t})=>t===e))),items:lEe.map((({key:e})=>({label:e,value:e})))})]}),!s&&f.jsx($ke,{type:"video"})]})},tLe=({enforceSignIn:e,setCancelFn:t,selectedSize:a,usingPastPrompt:n,onClose:s})=>{const{topic:o}=Du((e=>({topic:e.studioLocal.ai.sceneGeneratorPrompt||""})),Ou),[r,l]=i.useState(!1),d=ZIe(),c=Bu(),u=rse(),p=gg(Fd.GENERATE_SCENE),m=Ju(Ru.SCENE_GENERATOR_OUTAGE),g=Ju(Ru.PIKA_SCENE_GENERATION),h=i.useCallback((async()=>{l(!0);try{const e=new vre;t((()=>{e.cancel(),c(Uj({sceneGeneratorPrompt:""}))}));const i=await(async(e,t,a)=>{var n;const s={teamId:null==(n=rg())?void 0:n._id,size:t,usePika:a,prompt:e},o=await Zf("/api/v3/generate/scene",{body:s}),{job:i}=o;return i})(o,a,!!g);if(e.cancelled)return;ov("Started Scene Generator",{Prompt:o,"Used Past Prompt":n,Size:a.key,jobId:String(i._id),"Is Sample":!1}),await QEe(i),c(vz({usedGenerateScene:!0,usedGenerateImagePastPrompt:n})),nke("generateScene"),c(Uj({sceneGeneratorPrompt:""})),s()}catch(b9e){const{message:t}=ub(b9e);ov("Scene Generator Failed",{jobId:"N/A","Point of failure":"Starting Job",Error:t,"Is Sample":!1}),cb({description:"Received an unexpected response.",error:b9e})}l(!1)}),[t,o,a,g,n,c,s]),v=u((()=>h()),{action:Dd.GENERATE_SCENE}),b=d((()=>{var e;const t=null==(e=qEe[o])?void 0:e[a.key];t?(async(e,t)=>{l(!0),ov("Started Scene Generator",{Prompt:t,"Used Past Prompt":!1,Size:a.key,"Is Sample":!0,jobId:"N/A"});try{const n=await hEe(e);n&&fJ(n,{undoable:!0}),c(Uj({sceneGeneratorPrompt:""})),s(),ov("Scene Generator Success",{Prompt:t,jobId:"N/A",Size:a.key,"Is Sample":!0})}catch(b9e){const{message:t}=ub(b9e);ov("Scene Generator Failed",{jobId:"N/A","Point of failure":"Adding Sample Layer",Error:t,"Is Sample":!0}),cb({description:"Received an unexpected response.",error:b9e})}finally{l(!1)}})(t,o):v()}),{[Bd.AI_GENERATE]:1}),{blocked:y}=uP({projectedUsage:{[Bd.AI_GENERATE]:1}}),w=o.length>1e3,_=y||r||!o||w;bke(e(b),_);const C=!p&&!!!qEe[o];return f.jsx(f.Fragment,{children:f.jsxs(QAe,{topText:"This is just a preview of the style of your video. Click Generate to start the creation process.",children:[f.jsx(eke,{supportsMobile:!0,children:f.jsx(BEe,{selectedSize:a,backgroundUrl:"https://cdn-useast1.kapwing.com/static/T-a-1x1_bear_V1.webp"})}),f.jsx(tke,{children:f.jsx("div",{className:WEe,children:f.jsxs("button",{type:"button",className:L({[VEe]:!0,[YEe]:C,[HEe]:_||y||m}),disabled:_||y||m,onClick:e(b),children:[f.jsx("span",{children:r?"Generating Scene...":"Generate Scene"}),f.jsx("span",{children:C?f.jsx(_se,{className:GEe}):null})]})})})]})})},aLe=({enforceSignIn:e,onClose:t,setCancelFn:a})=>{const[n,s]=i.useState(CEe()),[o,r]=i.useState(!1);return f.jsxs(f.Fragment,{children:[f.jsx($Ae,{children:f.jsx(eLe,{selectedSize:n,setSelectedSize:s,setUsingPastPrompt:r})}),f.jsx(tLe,{setCancelFn:a,onClose:t,enforceSignIn:e,selectedSize:n,usingPastPrompt:o})]})},nLe="OGPreview-module_wrapper_wmRFC",sLe="OGPreview-module_container_JCZK2",oLe="OGPreview-module_image_m6RzA",iLe="OGPreview-module_text_j9PGa",rLe="OGPreview-module_title_0AJp8",lLe="OGPreview-module_description_JMzIF",dLe="OGPreview-module_url_GQyoa",cLe="OGPreview-module_close_Ev4Ve",uLe=(e,t)=>{if(!e)return;const{ogUrl:a,ogImage:n}=e,s={...e};try{const e=new URL(t).hostname;if(a&&!a.startsWith("http")){let t=a;t=a.startsWith("/")?`https://${e}${a}`:`https://${e}/${a}`,s.ogUrl=t}const o=[];if(n&&n.length>0)for(const t of n)t.url&&!t.url.startsWith("http")&&(t.url.startsWith("/")?t.url=`https://${e}${t.url}`:t.url=`https://${e}/${t.url}`),o.push(t)}catch(b9e){return s}return s},pLe=({str:e,maxLen:t,separator:a=" "})=>e?e.length<=t?e:`${e.substr(0,e.lastIndexOf(a,t))}...`:"",mLe=b.memo((({fallbackUrl:e,handleReset:t,ogTags:a,wrapperStyle:n})=>{var s;const{ogUrl:o,ogTitle:r,ogDescription:l,ogImage:d}=uLe(a,e)||{},c=null==(s=null==d?void 0:d[0])?void 0:s.url,u=pLe({str:r,maxLen:90}),p=pLe({str:l,maxLen:150});let m=e;try{m=new URL(o||e).hostname.replace("www.","")}catch(b9e){}const[g,h]=i.useState(!1);return f.jsxs("div",{className:nLe,style:n,children:[f.jsx("div",{className:cLe,onClick:t,children:f.jsx(R,{})}),f.jsxs("a",{href:o||e,target:"_blank",rel:"noopener noreferrer",className:sLe,children:[c&&!g&&f.jsx("img",{src:c,alt:r,className:oLe,onError:e=>{console.error("Image failed to load",e),h(!0)}}),f.jsxs("div",{className:iLe,children:[m&&f.jsx("div",{className:dLe,children:m}),u&&f.jsx("div",{className:rLe,children:u}),f.jsx("div",{className:lLe,children:p||e})]})]})]})})),gLe="GenerateScriptSettings-module_generateScriptSettingsContainer_Yp-Vt",hLe=()=>{const e=Bu(),t=Du((e=>e.scriptChat.generateScriptTone)),a=Du((e=>e.scriptChat.generateScriptDuration));return f.jsxs("div",{className:gLe,children:[f.jsx(fLe,{tone:t,setTone:t=>{e(Dte.setGenerateScriptTone(t))}}),f.jsx(vLe,{duration:a,setDuration:t=>{e(Dte.setGenerateScriptDuration(t))}})]})},vLe=({duration:e,setDuration:t})=>{const a=i.useMemo((()=>{var t;return(null==(t=TTe.find((({seconds:t})=>t===e)))?void 0:t.label)??"30s"}),[e]),n=i.useCallback((e=>{var a;t((null==(a=TTe.find((({label:t})=>t===e)))?void 0:a.seconds)??30)}),[t]);return f.jsx(LEe,{value:a,onChange:n,items:TTe.map((({label:e})=>({label:e,value:e})))})},fLe=({tone:e,setTone:t})=>f.jsx(LEe,{value:e,onChange:t,items:Rte.map((e=>({label:e,value:e})))}),bLe=["The response took too long to generate. Please try again."],yLe=["practical tips for reducing waste and living more sustainably in everyday life","the effects a week-long social media detox has on mental health","how climate change is causing extreme weather patterns around the globe"],wLe=["https://thewoksoflife.com/ma-po-tofu-real-deal/"],_Le="Reducing waste can be simple. Start by using reusable bags and bottles, composting food scraps, and buying in bulk. Opt for second-hand items and choose products with minimal packaging. Small changes can lead to a big impact on sustainability!",CLe="Reducing waste can be simple and fun! Start by using reusable bags and bottles to cut down on single-use plastics. Composting food scraps not only reduces waste but enriches the soil. Buying in bulk helps minimize packaging waste. Dont forget to check out thrift stores for second-hand items, which are often unique and eco-friendly. Choose products with minimal packaging whenever possible. Remember, small changes in daily habits can lead to a big impact on sustainability and the environment!",SLe="Reducing waste can be simple and even enjoyable! Start by using reusable bags and bottles to cut down on single-use plastics. This small change can significantly reduce the amount of plastic waste generated daily. Composting food scraps not only helps reduce landfill waste but also enriches the soil, making it a win-win for gardening enthusiasts. Buying in bulk is another great way to minimize packaging waste and save money. Look for local bulk stores or farmers markets where you can find fresh produce and grains without excessive packaging. Dont forget to explore thrift stores for second-hand items; they often have unique finds that are both eco-friendly and budget-friendly. When shopping, choose products with minimal packaging and avoid items with excessive plastic. Remember, small changes in daily habits can lead to a big impact on sustainability and the environment. Every effort counts, and together, these actions can create a healthier planet for future generations!",xLe="Reducing waste can be simple and even enjoyable! It all starts with small, everyday choices that can lead to a significant impact on the environment. One of the easiest ways to begin is by using reusable bags and bottles. By making the switch from single-use plastics to durable alternatives, individuals can drastically cut down on the amount of plastic waste generated daily. Another effective strategy is composting food scraps. Not only does composting help reduce landfill waste, but it also enriches the soil, making it a fantastic option for gardening enthusiasts. Composting can be done in small apartments or homes, and its a great way to give back to the earth while minimizing waste. Buying in bulk is another excellent way to minimize packaging waste and save money. Seek out local bulk stores or farmers markets where fresh produce, grains, and other essentials can be found without excessive packaging. This not only reduces waste but also supports local armers and businesses. Exploring thrift stores for second-hand items is a fun and eco-friendly way to shop. Thrift stores often have unique finds that are both budget-friendly and sustainable. Plus, purchasing second-hand items helps extend the life of products and reduces the demand for new goods. When shopping, always choose products with minimal packaging and avoid items that come with excessive plastic. Opt for brands that prioritize sustainability and eco-friendly practices. Remember, small changes in daily habits can lead to a big impact on sustainability and the environment. Every effort counts, and together, these actions can create a healthier planet for future generations. By making conscious choices, individuals can inspire others to join the movement toward a more sustainable lifestyle. Every step taken is a step toward a greener future!",ILe="Reducing waste can be simple and even enjoyable! It all starts with small, everyday choices that can lead to a significant impact on the environment. One of the easiest ways to begin is by using reusable bags and bottles. By making the switch from single-use plastics to durable alternatives, individuals can drastically cut down on the amount of plastic waste generated daily. Each reusable bag can replace dozens of plastic bags over its lifetime, and reusable bottles can save countless single-use bottles from landfills. Another effective strategy is composting food scraps. Not only does composting help reduce landfill waste, but it also enriches the soil, making it a fantastic option for gardening enthusiasts. Composting can be done in small apartments or homes, and its a great way to give back to the earth while minimizing waste. Setting up a compost bin is easy, and many communities offer composting programs to help get started. Buying in bulk is another excellent way to minimize packaging waste and save money. Seek out local bulk stores or farmers markets where fresh produce, grains, and other essentials can be found without excessive packaging. This not only reduces waste but also supports local farmers and businesses. Bringing your own containers to fill with grains, nuts, or spices can significantly cut down on plastic use and is often more economical. Exploring thrift stores for second-hand items is a fun and eco-friendly way to shop. Thrift stores often have unique finds that are both budget-friendly and sustainable. Purchasing second-hand items helps extend the life of products and reduces the demand for new goods. Plus, its a treasure hunt every time you go shopping! When shopping, always choose products with minimal packaging and avoid items that come with excessive plastic. Opt for brands that prioritize sustainability and eco-friendly practices. Many companies now offer products in compostable or recyclable packaging, making it easier to make environmentally conscious choices. Another practical tip is to reduce food waste at home. Planning meals ahead of time, using leftovers creatively, and storing food properly can help minimize waste. Keeping a list of whats in the fridge can prevent food from going bad and being thrown away. Engaging with the community can amplify these efforts. Joining local clean-up events, participating in sustainability workshops, or simply sharing tips with friends can create a ripple effect, inspiring others to adopt sustainable practices. Remember, small changes in daily habits can lead to a big impact on sustainability and the environment. Every effort counts, and together, these actions can create a healthier planet for future generations. By making conscious choices, individuals can inspire others to join the movement toward a more sustainable lifestyle. Every step taken is a step toward a greener future, and every choice matters!",ALe="Reducing waste can be simple and even enjoyable! It all starts with small, everyday choices that can lead to a significant impact on the environment. One of the easiest ways to begin is by using reusable bags and bottles. By making the switch from single-use plastics to durable alternatives, individuals can drastically cut down on the amount of plastic waste generated daily. Each reusable bag can replace dozens of plastic bags over its lifetime, and reusable bottles can save countless single-use bottles from landfills. This small change not only benefits the environment but also encourages a lifestyle that values sustainability. Another effective strategy is composting food scraps. Not only does composting help reduce landfill waste, but it also enriches the soil, making it a fantastic option for gardening enthusiasts. Composting can be done in small apartments or homes, and its a great way to give back to the earth while minimizing waste. Setting up a compost bin is easy, and many communities offer composting programs to help get started. Composting not only diverts organic waste from landfills but also creates nutrient-rich soil that can be used in gardens or potted plants, promoting a cycle of sustainability. Buying in bulk is another excellent way to minimize packaging waste and save money. Seek out local bulk stores or farmers markets where fresh produce, grains, and other essentials can be found without excessive packaging. This not only reduces waste but also supports local farmers and businesses. Bringing your own containers to fill with grains, nuts, or spices can significantly cut down on plastic use and is often more economical. Many bulk stores also offer discounts for bringing your own containers, making it a win-win situation for both the wallet and the planet. Exploring thrift stores for second-hand items is a fun and eco-friendly way to shop. Thrift stores often have unique finds that are both budget-friendly and sustainable. Purchasing second-hand items helps extend the life of products and reduces the demand for new goods. Plus, its a treasure hunt every time you go shopping! From clothing to furniture, second-hand shopping not only saves money but also reduces the carbon footprint associated with manufacturing new products. When shopping, always choose products with minimal packaging and avoid items that come with excessive plastic. Opt for brands that prioritize sustainability and eco-friendly practices. Many companies now offer products in compostable or recyclable packaging, making it easier to make environmentally conscious choices. Reading labels and researching brands can help consumers make informed decisions that align with their values. Another practical tip is to reduce food waste at home. Planning meals ahead of time, using leftovers creatively, and storing food properly can help minimize waste. Keeping a list of whats in the fridge can prevent food from going bad and being thrown away. Meal prepping can also save time during busy weeks, ensuring that food is consumed before it spoils. Additionally, getting creative with leftovers can lead to delicious new meals, reducing the temptation to throw away perfectly good food. Engaging with the community can amplify these efforts. Joining local clean-up events, participating in sustainability workshops, or simply sharing tips with friends can create a ripple effect, inspiring others to adopt sustainable practices. Community gardens are another fantastic way to get involved, allowing individuals to grow their own food while fostering a sense of community and collaboration. Educating oneself and others about sustainability is crucial. Hosting workshops or discussions about waste reduction and sustainable living can empower individuals to make changes in their own lives. Sharing resources, such as books, documentaries, or online courses, can help spread awareness and encourage more people to join the movement. Another impactful change is to consider transportation choices. Opting for public transportation, biking, or walking instead of driving can significantly reduce carbon emissions. Carpooling with friends or colleagues not only cuts down on fuel consumption but also fosters social connections. For those who need to drive, maintaining vehicles and driving efficiently can also help reduce environmental impact. Incorporating sustainable practices into daily routines can extend beyond shopping and food. Simple actions like turning off lights when leaving a room, using energy-efficient appliances, and conserving water can contribute to a more sustainable lifestyle. Small changes in energy consumption can lead to lower utility bills and a reduced carbon footprint. Remember, small changes in daily habits can lead to a big impact on sustainability and the environment. Every effort counts, and together, these actions can create a healthier planet for future generations. By making conscious choices, individuals can inspire others to join the movement toward a more sustainable lifestyle. Every step taken is a step toward a greener future, and every choice matters! Sustainability is not just a trend; its a necessary shift in how society functions. By embracing these practical tips and encouraging others to do the same, individuals can contribute to a larger movement that prioritizes the health of the planet. Together, a collective effort can lead to lasting change, ensuring a better world for generations to come.",kLe="A week-long social media detox can work wonders for mental health. Users often report reduced anxiety, improved mood, and better sleep. Disconnecting allows for more real-life connections, creativity, and a refreshing perspective on life beyond the screen.",TLe="A week-long social media detox can have incredible effects on mental health. Many users report feeling less anxious and more present in their daily lives. With fewer distractions, creativity often flourishes, leading to new hobbies and interests. Improved sleep patterns are also common, as scrolling late into the night is eliminated. Plus, taking a break fosters real-life connections, allowing for deeper conversations and shared experiences. Overall, stepping away from social media can lead to a refreshing perspective on life.",ELe="A week-long social media detox can have transformative effects on mental health. Many users report a significant reduction in anxiety levels, feeling lighter and more at ease without the constant barrage of notifications and comparisons. This break from social media allows individuals to reconnect with themselves, leading to improved self-esteem and a more positive self-image. With fewer distractions, creativity often flourishes, opening doors to new hobbies, interests, and passions that may have been overlooked. Improved sleep patterns are another benefit, as scrolling late into the night is eliminated, leading to more restful nights and energized mornings. Moreover, taking a break fosters real-life connections, allowing for deeper conversations and shared experiences with friends and family. This reconnection with the physical world can lead to a renewed appreciation for everyday moments. Overall, stepping away from social media for just a week can provide a refreshing perspective on life, enhancing overall well-being and happiness.",LLe="A week-long social media detox can have transformative effects on mental health that many individuals may not realize until they try it. Users often report a significant reduction in anxiety levels, feeling lighter and more at ease without the constant barrage of notifications, likes, and comparisons. This break from social media allows individuals to reconnect with themselves, leading to improved self-esteem and a more positive self-image. During this detox, people frequently discover how much time they were spending scrolling through feeds, which can be staggering. With fewer distractions, creativity often flourishes, opening doors to new hobbies, interests, and passions that may have been overlooked in the digital noise. Whether its picking up a paintbrush, diving into a good book, or exploring nature, the opportunities for personal growth are endless when the screen is turned off. Improved sleep patterns are another significant benefit of a social media detox. Scrolling late into the night is eliminated, leading to more restful nights and energized mornings. Many individuals find that they wake up feeling refreshed and ready to tackle the day, rather than groggy and overwhelmed. Moreover, taking a break fosters real-life connections, allowing for deeper conversations and shared experiences with friends and family. This reconnection with the physical world can lead to a renewed appreciation for everyday moments, from enjoying a meal together to engaging in meaningful discussions. Overall, stepping away from social media for just a week can provide a refreshing perspective on life. It encourages mindfulness, enhances overall well-being, and allows individuals to focus on what truly matters. The mental clarity gained during this time can lead to lasting positive changes, making it a worthwhile experiment for anyone seeking balance in their digital lives.",jLe="A week-long social media detox can have transformative effects on mental health that many individuals may not realize until they try it. In todays hyper-connected world, social media platforms often dominate daily routines, leading to a constant barrage of notifications, likes, and comparisons. This relentless cycle can contribute to heightened anxiety levels, feelings of inadequacy, and even depression. However, taking a break from these platforms allows individuals to step back and reassess their relationship with technology. Users often report a significant reduction in anxiety after disconnecting. Without the pressure to curate a perfect online persona or the fear of missing out, many feel lighter and more at ease. This break from social media provides an opportunity to reconnect with oneself, leading to improved self-esteem and a more positive self-image. Individuals can focus on their strengths and passions without the noise of online validation. During this detox, people frequently discover how much time they were spending scrolling through feeds, which can be staggering. Research shows that the average person spends over two hours a day on social media. Thats over 14 hours a week! With this newfound time, creativity often flourishes, opening doors to new hobbies, interests, and passions that may have been overlooked in the digital noise. Whether its picking up a paintbrush, diving into a good book, or exploring nature, the opportunities for personal growth are endless when the screen is turned off. Improved sleep patterns are another significant benefit of a social media detox. Scrolling late into the night is eliminated, leading to more restful nights and energized mornings. Many individuals find that they wake up feeling refreshed and ready to tackle the day, rather than groggy and overwhelmed. The absence of blue light from screens before bedtime can also contribute to better sleep quality, allowing for deeper rest and recovery. Moreover, taking a break fosters real-life connections, allowing for deeper conversations and shared experiences with friends and family. This reconnection with the physical world can lead to a renewed appreciation for everyday moments, from enjoying a meal together to engaging in meaningful discussions. Individuals often find that they are more present and engaged when they are not distracted by their phones. Overall, stepping away from social media for just a week can provide a refreshing perspective on life. It encourages mindfulness, enhances overall well-being, and allows individuals to focus on what truly matters. The mental clarity gained during this time can lead to lasting positive changes, making it a worthwhile experiment for anyone seeking balance in their digital lives. By prioritizing mental health and well-being, individuals can cultivate a healthier relationship with technology, ultimately leading to a more fulfilling and enriched life.",RLe="A week-long social media detox can have transformative effects on mental health that many individuals may not realize until they try it. In todays hyper-connected world, social media platforms often dominate daily routines, leading to a constant barrage of notifications, likes, and comparisons. This relentless cycle can contribute to heightened anxiety levels, feelings of inadequacy, and even depression. However, taking a break from these platforms allows individuals to step back and reassess their relationship with technology and its impact on their lives. Users often report a significant reduction in anxiety after disconnecting. Without the pressure to curate a perfect online persona or the fear of missing out, many feel lighter and more at ease. This break from social media provides an opportunity to reconnect with oneself, leading to improved self-esteem and a more positive self-image. Individuals can focus on their strengths and passions without the noise of online validation. This newfound sense of self can be liberating, allowing for personal growth that might have been stifled by the constant comparisons to others. During this detox, people frequently discover just how much time they were spending scrolling through feeds, which can be staggering. Research shows that the average person spends over two hours a day on social media. Thats over 14 hours a week! Imagine what could be accomplished with that time. With this newfound time, creativity often flourishes, opening doors to new hobbies, interests, and passions that may have been overlooked in the digital noise. Whether its picking up a paintbrush, diving into a good book, or exploring nature, the opportunities for personal growth are endless when the screen is turned off. Many individuals find that they can finally pursue activities theyve always wanted to try but never had the time for. This could mean learning to play a musical instrument, starting a garden, or even taking up a new sport. Engaging in these activities not only enhances creativity but also fosters a sense of accomplishment and fulfillment that social media often fails to provide. Improved sleep patterns are another significant benefit of a social media detox. Scrolling late into the night is eliminated, leading to more restful nights and energized mornings. Many individuals find that they wake up feeling refreshed and ready to tackle the day, rather than groggy and overwhelmed. The absence of blue light from screens before bedtime can also contribute to better sleep quality, allowing for deeper rest and recovery. Quality sleep is essential for mental health, as it helps regulate mood and cognitive function. Moreover, taking a break fosters real-life connections, allowing for deeper conversations and shared experiences with friends and family. This reconnection with the physical world can lead to a renewed appreciation for everyday moments, from enjoying a meal together to engaging in meaningful discussions. Individuals often find that they are more present and engaged when they are not distracted by their phones. This can strengthen relationships and create lasting memories that are far more valuable than any online interaction. During a social media detox, individuals may also find themselves reflecting on their values and priorities. Without the constant influence of social media, it becomes easier to identify what truly matters in life. This can lead to a greater sense of purpose and direction, as individuals align their actions with their core beliefs. The clarity gained during this time can be profound, prompting people to make positive changes in various aspects of their lives, from career choices to personal relationships. Additionally, a week-long break from social media can serve as an opportunity for mindfulness and self-discovery. Many individuals use this time to practice meditation, journaling, or simply spending time in nature. These activities can enhance self-awareness and promote emotional well-being. Mindfulness practices have been shown to reduce stress, improve focus, and increase overall happiness. Overall, stepping away from social media for just a week can provide a refreshing perspective on life. It encourages mindfulness, enhances overall well-being, and allows individuals to focus on what truly matters. The mental clarity gained during this time can lead to lasting positive changes, making it a worthwhile experiment for anyone seeking balance in their digital lives. By prioritizing mental health and well-being, individuals can cultivate a healthier relationship with technology, ultimately leading to a more fulfilling and enriched life. The benefits of a social media detox extend beyond just the week; many find that they carry these lessons forward, making conscious choices about their social media use in the future. This newfound balance can lead to a more satisfying and meaningful life, where individuals feel empowered to engage with the world around them rather than being consumed by the digital realm. In conclusion, a week-long social media detox is not just a break; its an opportunity for growth, connection, and self-discovery. Embracing this challenge can lead to profound changes in mental health and overall quality of life, making it a valuable experience for anyone willing to take the plunge.",NLe="Climate change is shaking things up worldwide. From scorching heatwaves to intense storms, the planet's warming is pushing weather patterns to extremes. This means more floods, droughts, and unpredictable seasons, impacting lives and ecosystems everywhere.",MLe="Climate change is shaking things up worldwide in a big way. As the planet warms, weather patterns are going to extremes. Expect scorching heatwaves, intense storms, and unpredictable seasons. Floods and droughts are becoming more common, impacting agriculture, wildlife, and communities everywhere. These changes are not just temporary; theyre reshaping our climate for the long haul. Its crucial to understand these shifts and take action to protect the planet and ensure a sustainable future for generations to come.",PLe="Climate change is shaking things up worldwide in a big way, and the effects are becoming impossible to ignore. As the planet continues to warm, weather patterns are swinging to extremes. Expect scorching heatwaves that make summers unbearable and intense storms that wreak havoc on communities. Unpredictable seasons are becoming the norm, leading to confusion in agriculture and affecting food supply chains. Floods and droughts are becoming more frequent, impacting ecosystems and wildlife, while also threatening the livelihoods of millions. These changes are not just temporary; theyre reshaping our climate for the long haul. Its crucial to understand these shifts and their implications. Communities must prepare for these extreme weather events and adapt to a new reality. Taking action to reduce carbon emissions and promote sustainable practices is essential for protecting the planet. By working together, everyone can help ensure a healthier environment and a sustainable future for generations to come, making a real difference.",FLe="Climate change is shaking things up worldwide in a big way, and the effects are becoming impossible to ignore. As the planet continues to warm, weather patterns are swinging to extremes, creating a new normal that many are unprepared for. Expect scorching heatwaves that make summers unbearable, with record-breaking temperatures becoming more common. These heatwaves not only affect human health but also put immense stress on energy grids and water supplies. Intense storms are also on the rise, leading to devastating hurricanes and heavy rainfall that wreak havoc on communities. Flooding has become a frequent threat, displacing families and damaging infrastructure. On the flip side, droughts are becoming more prevalent, affecting agriculture and leading to food shortages. Farmers are struggling to adapt to these unpredictable seasons, which can result in crop failures and economic instability. These changes are not just temporary; theyre reshaping our climate for the long haul. Its crucial to understand these shifts and their implications for both people and the planet. Communities must prepare for these extreme weather events and adapt to a new reality. This includes investing in resilient infrastructure, improving emergency response systems, and educating the public about climate risks. Taking action to reduce carbon emissions and promote sustainable practices is essential for protecting the planet. Transitioning to renewable energy sources, enhancing energy efficiency, and supporting conservation efforts can make a significant difference. By working together, everyone can help ensure a healthier environment and a sustainable future for generations to come. Its time to recognize that climate change is not just an environmental issue; its a challenge that affects every aspect of life, and collective action is the key to overcoming it.",DLe="Climate change is shaking things up worldwide in a big way, and the effects are becoming impossible to ignore. As the planet continues to warm, weather patterns are swinging to extremes, creating a new normal that many are unprepared for. Expect scorching heatwaves that make summers unbearable, with record-breaking temperatures becoming more common. These heatwaves not only affect human health but also put immense stress on energy grids and water supplies. In many regions, people are struggling to stay cool, and the risk of heat-related illnesses is on the rise. Intense storms are also on the rise, leading to devastating hurricanes and heavy rainfall that wreak havoc on communities. Flooding has become a frequent threat, displacing families and damaging infrastructure. Coastal cities are particularly vulnerable, facing rising sea levels and increased storm surges. On the flip side, droughts are becoming more prevalent, affecting agriculture and leading to food shortages. Farmers are struggling to adapt to these unpredictable seasons, which can result in crop failures and economic instability. The agricultural sector is feeling the pressure, with some regions experiencing reduced yields and increased costs. These changes are not just temporary; theyre reshaping our climate for the long haul. Its crucial to understand these shifts and their implications for both people and the planet. Communities must prepare for these extreme weather events and adapt to a new reality. This includes investing in resilient infrastructure, improving emergency response systems, and educating the public about climate risks. Local governments and organizations are working to create plans that can help mitigate the impacts of extreme weather, but more needs to be done. Taking action to reduce carbon emissions and promote sustainable practices is essential for protecting the planet. Transitioning to renewable energy sources, enhancing energy efficiency, and supporting conservation efforts can make a significant difference. Individuals can also play a role by making conscious choices in their daily lives, such as reducing waste, using public transportation, and supporting eco-friendly products. By working together, everyone can help ensure a healthier environment and a sustainable future for generations to come. Its time to recognize that climate change is not just an environmental issue; its a challenge that affects every aspect of life, from health and safety to economic stability. Collective action is the key to overcoming it. Engaging in community initiatives, advocating for policy changes, and raising awareness about climate issues can empower individuals to make a difference. The fight against climate change requires a united front, and every effort counts. The future of the planet depends on the actions taken today, and its crucial to act decisively and collaboratively to create a more sustainable world for everyone.",OLe="Climate change is shaking things up worldwide in a big way, and the effects are becoming impossible to ignore. As the planet continues to warm, weather patterns are swinging to extremes, creating a new normal that many are unprepared for. Expect scorching heatwaves that make summers unbearable, with record-breaking temperatures becoming more common. These heatwaves not only affect human health but also put immense stress on energy grids and water supplies. In many regions, people are struggling to stay cool, and the risk of heat-related illnesses is on the rise. Vulnerable populations, such as the elderly and those with pre-existing health conditions, face the greatest risks, making it essential to address these challenges head-on. Intense storms are also on the rise, leading to devastating hurricanes, tornadoes, and heavy rainfall that wreak havoc on communities. Flooding has become a frequent threat, displacing families and damaging infrastructure. Coastal cities are particularly vulnerable, facing rising sea levels and increased storm surges. The economic impact of these disasters can be staggering, with billions of dollars spent on recovery efforts and rebuilding. On the flip side, droughts are becoming more prevalent, affecting agriculture and leading to food shortages. Farmers are struggling to adapt to these unpredictable seasons, which can result in crop failures and economic instability. The agricultural sector is feeling the pressure, with some regions experiencing reduced yields and increased costs. This not only threatens food security but also impacts livelihoods, as many communities rely on agriculture for their economic stability. These changes are not just temporary; theyre reshaping our climate for the long haul. Its crucial to understand these shifts and their implications for both people and the planet. Communities must prepare for these extreme weather events and adapt to a new reality. This includes investing in resilient infrastructure, improving emergency response systems, and educating the public about climate risks. Local governments and organizations are working to create plans that can help mitigate the impacts of extreme weather, but more needs to be done. Taking action to reduce carbon emissions and promote sustainable practices is essential for protecting the planet. Transitioning to renewable energy sources, enhancing energy efficiency, and supporting conservation efforts can make a significant difference. Individuals can also play a role by making conscious choices in their daily lives, such as reducing waste, using public transportation, and supporting eco-friendly products. Simple actions, like recycling, conserving water, and reducing energy consumption, can collectively lead to substantial changes. By working together, everyone can help ensure a healthier environment and a sustainable future for generations to come. Its time to recognize that climate change is not just an environmental issue; its a challenge that affects every aspect of life, from health and safety to economic stability. Collective action is the key to overcoming it. Engaging in community initiatives, advocating for policy changes, and raising awareness about climate issues can empower individuals to make a difference. The fight against climate change requires a united front, and every effort counts. Schools and educational institutions can play a vital role in teaching future generations about the importance of sustainability and environmental stewardship. By incorporating climate education into curricula, young people can be equipped with the knowledge and skills needed to address these pressing challenges. Moreover, businesses have a significant part to play in this fight. Companies can adopt sustainable practices, reduce their carbon footprints, and invest in green technologies. Consumers are increasingly demanding eco-friendly products, pushing businesses to innovate and prioritize sustainability. This shift in consumer behavior can drive change across industries, leading to a more sustainable economy. Governments also have a crucial role in implementing policies that promote sustainability and reduce greenhouse gas emissions. By investing in renewable energy infrastructure, enhancing public transportation systems, and enforcing stricter regulations on pollution, governments can create a framework that encourages sustainable practices. International cooperation is equally important, as climate change knows no borders. Countries must work together to share resources, knowledge, and technology to combat this global crisis effectively. The future of the planet depends on the actions taken today, and its crucial to act decisively and collaboratively to create a more sustainable world for everyone. Climate change is a complex issue that requires multifaceted solutions, and addressing it will take time, effort, and commitment from all sectors of society. In conclusion, the impacts of climate change are already being felt across the globe, and the urgency to act has never been greater. By understanding the challenges posed by extreme weather patterns and taking proactive steps to mitigate their effects, communities can build resilience and adapt to a changing climate. Together, through education, innovation, and collective action, a sustainable future can be achieved, ensuring a healthier planet for generations to come.",ULe={"practical tips for reducing waste and living more sustainably in everyday life":{15:_Le,30:CLe,60:SLe,120:xLe,180:ILe,300:ALe},"the effects a week-long social media detox has on mental health":{15:kLe,30:TLe,60:ELe,120:LLe,180:jLe,300:RLe},"how climate change is causing extreme weather patterns around the globe":{15:NLe,30:MLe,60:PLe,120:FLe,180:DLe,300:OLe}},BLe={[_Le]:"6764c790f2dbccd4f6c4a2b2",[CLe]:"6764c7a3f2dbccd4f6c4a2ba",[SLe]:"6764c7b4f2dbccd4f6c4a2c2",[xLe]:"6764c7c9f2dbccd4f6c4a2cb",[ILe]:"6764c7e1f2dbccd4f6c4a2d2",[ALe]:"6764c7fdf2dbccd4f6c4a2db",[kLe]:"6764c83af2dbccd4f6c4a2e7",[TLe]:"6764c858f2dbccd4f6c4a2f5",[ELe]:"6764c873f2dbccd4f6c4a2fe",[LLe]:"6764c893f2dbccd4f6c4a308",[jLe]:"6764c8b9f2dbccd4f6c4a311",[RLe]:"6764c8ebf2dbccd4f6c4a31f",[NLe]:"6764c2c9f03e0a7fd13a2208",[MLe]:"6764c593f03e0a7fd13a221b",[PLe]:"6764c5f0f03e0a7fd13a2225",[FLe]:"6764c667cc57af7de7b091dd",[DLe]:"6764c69acc57af7de7b091e5",[OLe]:"6764c6c5cc57af7de7b091ef"};async function WLe(e){return Xf("/api/v1/ai/script-chat/poll-completion",{body:e})}const VLe=({userMessage:e,conversationId:t,task:a})=>{var n;const{state:s,dispatch:o}=Mu(),i={id:tA(12),...e,createdAt:new Date,response:e.response??{status:"generating",task:a}},r=t??(null==(n=LAe(s))?void 0:n.id);if(!r)throw new Error("Could not find conversation");return o(Dte.addUserMessage({userMessage:i,conversationId:r})),i},HLe=({historyIndex:e}={})=>{const{dispatch:t,state:a}=Mu(),n=a.scriptChat.conversationHistory;if(void 0!==e&&n.length>1){const a=e+1,s=n.length;a<s&&t(Dte.bulkDeleteConversations({startConversationHistoryIndex:a,endConversationHistoryIndex:s}))}const s={id:tA(12),userMessages:[],historyIndex:void 0===e?a.scriptChat.conversationHistory.length:e+1};return t(Dte.addConversation(s)),s},zLe=e=>{const{dispatch:t}=Mu(),a={id:tA(12),...e};return t(Dte.addScript(a)),a},GLe=e=>!e||!e.trim(),YLe=e=>e.reduce(((e,t)=>e+t.content.length),0),KLe=e=>{const{state:t}=Mu(),a=e.userMessages.flatMap((e=>{const a=jAe(t,e);if(a&&"generating"!==a.response.status&&"error"!==a.response.status)return a.response.rawMessages})).filter(vA),n=a.filter((e=>"system"===e.role)),s=a.filter((e=>"system"!==e.role)),o=1e5-YLe(n);let i=YLe(s);const r=s.length;for(let l=0;l<r;l++)i>o&&(s.splice(0,1),l++),i=YLe(s);return[...n,...s]};async function XLe(e,t){const a=await async function(e){return Xf("/api/v1/ai/script-chat/edit",{body:e})}(e);if("error"===a.status)throw new Error(a.error);if("success"===a.status)return{script:a.result.script,rawMessages:a.result.rawMessages,responseMessage:a.result.responseMessage};const n=await Zm({retreive:()=>WLe({completionId:a.scriptChatCompletionID}),validate:e=>"success"===e.status,name:"Script completion",options:{backoffFactor:1.2,initialTimeout:2e3,maxTime:1e5},cancelSource:t});if("cancelled"===n.result)return null;const s=n.resource.completion;if("edit-script"===s.type)return{script:s.result.script,rawMessages:s.result.rawMessages,responseMessage:s.result.responseMessage};throw"error"===s.type?new Error(s.error):new Error("Unexpected completion type")}const ZLe=async({assumeNewScript:e=!1,message:t,script:a,customMessageLabel:n,currentConversation:s,setCancelFn:o})=>{ov("Script Chat - Sent Follow Up Prompt",{Prompt:t,"Prompt Type":Nte.EditScript});const{dispatch:i}=Mu();let r=null,d=null;try{e&&(r=HLe({historyIndex:s.historyIndex}),i(Dte.setCurrentConversation(r.id)),d=VLe({conversationId:r.id,userMessage:{message:n??t,referenceScriptId:null==a?void 0:a.id},task:Nte.EditScript}));const l=new vre;o((()=>l.cancel()));const c=await XLe({conversation:KLe(s),request:t},l);if(!c)return;let u;if(c.script){u=zLe({content:c.script,articleText:a.articleText,research:a.research,sources:a.sources,articleURL:a.articleURL,topics:a.topics,isCustomScript:!1}).id}let p;if(!!u)r||(r=HLe({historyIndex:s.historyIndex})),i(Dte.setCurrentConversation(r.id)),d||(d=VLe({conversationId:r.id,userMessage:{message:n??t,referenceScriptId:null==a?void 0:a.id},task:Nte.EditScript})),p=d.id;else{const e=r??s;d||(d=VLe({conversationId:e.id,userMessage:{message:n??t,referenceScriptId:null==a?void 0:a.id},task:Nte.EditScript})),p=d.id}const m=jAe(Mu().state,p);if("generating"!==(null==m?void 0:m.response.status)&&"error"===(null==m?void 0:m.response.status))return;i(Dte.addLLMResponse({userMessageId:p,response:{status:"success",task:Nte.EditScript,scriptId:u,responseMessage:c.responseMessage,rawMessages:c.rawMessages}}))}catch(c){cb({description:"Failed to update script",error:c}),d&&i(Dte.removeUserMessage({conversationId:r?r.id:s.id,userMessageId:d.id})),i(Dte.setCurrentConversation(s.id)),l(c,{tags:{feature:Tu.scriptChat}})}},qLe=e=>`Generate a video script about ${e}`,JLe=e=>`Generate a video script from: ${e}`,$Le=({url:e,tone:t,duration:a})=>{const{state:n}=Mu(),s=n.scriptChat.conversationHistory.find((s=>{const o=n.scriptChat.conversationsById[s];if(o)return o.userMessages.some((s=>{const o=n.scriptChat.userMessagesById[s];if(o)return o.message===JLe(e)&&"success"===o.response.status&&o.response.task===Nte.GenerateScript&&o.response.tone===t&&o.response.duration===a}))}));return n.scriptChat.conversationsById[s??""]},QLe=e=>`Re-write this script to focus more on this topic: ${e}`,eje=e=>`Re-write this script to be ${e.wordCount} words long`,tje=e=>`\n  Add the following information to the provided script in the appropriate section:\n  \n  ***\n  ${e}\n  ***\n  `,aje=()=>{const{state:e}=Mu(),{scriptChat:t}=e;return t.generateScriptArticleURL&&t.generateScriptArticleURL?"article":t.generateScriptTopicPrompt?"topic":t.generateScriptCustomScript?"script":void 0},nje=[...yLe,...wLe],sje=()=>{const{state:e}=Mu(),t=LAe(e);if(!t)return;let a;for(const n of t.userMessages){const t=jAe(e,n);if(!t)return;const s=nje.find((e=>t.message.includes(e)));if(s){a=s;break}}return a},oje=["Verifying you are human. This may take a few seconds."];const ije=(e,t)=>{try{const a=[],n=new URL(t).hostname;for(const t of e){const{imgUrl:e}=t;n&&e&&!e.startsWith("http")&&(t.imgUrl.startsWith("/")?t.imgUrl=`https://${n}${e}`:t.imgUrl=`https://${n}/${e}`),a.push(t)}return a}catch(b9e){return e}},rje=async e=>{try{const t=(await Kf("/api/v2/ai/article-info",{params:{articleUrl:e}})).article;if(t&&t.ogFetched){const a=uLe(t.articleOg,e);if(t.articleInfo){const n=((e,t)=>{const{images:a}=e;return{...e,images:ije(a,t)}})(t.articleInfo,e);return{...t,articleOg:a,articleInfo:n}}return{...t,articleOg:a}}}catch(b9e){console.error(b9e),l(b9e,{extra:{jobId:e,feature:Tu.articleToVideo}})}},lje=["youtube.com","instagram.com","twitter.com","tiktok.com","aliexpress.us","youtu.be"],dje=async({url:e,onExtractionValidationError:t,onExtractionError:a,onExtractionStart:n,onExtractionSuccess:s})=>{var o;try{if(!jI(e))return void t(`Please paste a valid URL. You entered "${e}".`);if(lje.some((t=>e.includes(t))))return void t("Kapwing does not support this website. Please enter a URL of an article or blogpost");null==n||n(e);const a=e=>{const a=e.articleText??"",n=function(e){return oje.some((t=>e.includes(t)))?"captcha":e.length<250?"too-short":null}(a);n?t("We were unable to extract the text from this article. Please try another link."):s(a,e.articleOg??{})},i=await rje(e);if(i&&i.ogFetched&&i.textFetched)return void a(i);const r=await Xf("/api/v2/ai/article-info",{body:{teamId:null==(o=rg())?void 0:o._id,url:e}});if(!r.succeeded)throw console.error(r.message),new Error(r.message);const l=r.id,d=await(async(e,t)=>{let a=0;for(;;){const n=await rje(t);if(n)return n;if(a+=1,a>150)throw pb({description:"Fetching the article is taking longer than expected. Please try again later.",sentryMessage:"ArticleInfo - timeout",extra:{jobId:e,url:t}}),new Error("Getting a response is taking longer than expected. Please try again later.");await new Promise((e=>setTimeout(e,2e3)))}})(l,e);if(!(d&&d.ogFetched&&d.textFetched))throw new Error("Couldn't get article info");a(d)}catch(b9e){a(b9e)}},cje=async e=>{const{dispatch:t}=Mu(),a=e=>{t(Dte.setGenerateScriptArticleURL(e))},n=e=>{t(Dte.setGenerateScriptArticleInfoLoading(e))};function s(){a(""),n(!1),t(Dte.clearGenerateScriptArticleInput()),t(Dte.clearGenerateScriptCustomScriptInput()),t(Dte.clearGenerateScriptTopicPromptInput()),t(Dte.clearConversationHistory())}await dje({url:e,onExtractionStart:()=>{a(e),n(!0)},onExtractionValidationError:e=>{s(),t(db({type:"warning",description:e}))},onExtractionError:t=>{s(),cb({description:"Couldn't fetch that page, please try a different link.",error:t}),ov("Script Chat - Article Extraction Failure",{Reason:String(t),"Article URL":e})},onExtractionSuccess:(a,n)=>{((e,a)=>{t(Dte.setGenerateScriptArticleInfo({articleText:e,ogTags:a}))})(a,n),ov("Script Chat - Article Extraction Success",{"Article URL":e})}}),n(!1)},uje=async({cancellationSource:e,topic:t,articleInfo:a,duration:n,tone:s})=>{let o,i;if(t){if(o="topic",yLe.includes(t)){const e=ULe[t];if(e){const r=e[n];return ov("Script Chat - Generated Script",{Sample:i,"Topic To Video Prompt":t,"Article URL":null==a?void 0:a.url,"Generation Type":o,"Input Duration seconds":n,Tone:s,"Script Generation Time":0}),{script:r,rawMessages:[Mte(r)],sources:[],research:void 0}}i=t}}else{if(!a)throw new Error("Topic or article info must be provided");o="article",i=wLe.includes(a.url)?a.url:void 0}const r=Date.now(),l=await async function(e){if(!e.topic&&!e.articleInfo)throw new Error("No topic or article info provided");return Xf("/api/v1/ai/script-chat/generate-script",{body:e})}({duration:n,tone:s,topic:t,articleInfo:a});if("error"===l.status)throw ov("Script Chat - Generate Script Error",{"Generation Type":o,Error:"API Request Error","Error Message":l.error}),new Error(l.error);if("success"===l.status){const e=Date.now();return ov("Script Chat - Generated Script",{Sample:i,"Topic To Video Prompt":t,"Article URL":null==a?void 0:a.url,"Generation Type":o,"Input Duration seconds":n,Tone:s,"Script Generation Time":(e-r)/1e3}),{script:l.result.script,sources:l.result.sources,rawMessages:l.result.rawMessages,research:l.result.research}}const d=await Zm({retreive:()=>WLe({completionId:l.scriptChatCompletionID}),validate:e=>"success"===e.status,name:"Script completion",options:{backoffFactor:1.2,initialTimeout:2e3,maxTime:1e5},cancelSource:e});if("cancelled"===d.result)return;const c=d.resource.completion;if("generate-script"===c.type){const e=Date.now();return ov("Script Chat - Generated Script",{Sample:i,"Topic To Video Prompt":t,"Article URL":null==a?void 0:a.url,"Generation Type":o,"Input Duration seconds":n,Tone:s,"Script Generation Time":(e-r)/1e3}),{script:c.result.script,sources:c.result.sources,rawMessages:c.result.rawMessages,research:c.result.research}}if("error"===c.type)throw ov("Script Chat - Generate Script Error",{"Generation Type":o,Error:"Completion Error","Error Message":c.error}),new Error(c.error)},pje=async e=>{const{dispatch:t,state:a}=Mu(),n=a.scriptChat.generateScriptTopicPrompt,s=a.scriptChat.generateScriptDuration,o=a.scriptChat.generateScriptTone,i=(({prompt:e,tone:t,duration:a})=>{const{state:n}=Mu(),s=n.scriptChat.conversationHistory.find((s=>{const o=n.scriptChat.conversationsById[s];if(o)return o.userMessages.some((s=>{const o=n.scriptChat.userMessagesById[s];if(o)return o.message===qLe(e)&&"success"===o.response.status&&o.response.task===Nte.GenerateScript&&o.response.tone===t&&o.response.duration===a}))}));return n.scriptChat.conversationsById[s??""]})({prompt:n,tone:o,duration:s});if(i)return t(Dte.setCurrentConversation(i.id)),void t(Dte.setStep("script-chat"));t(Dte.clearGenerateScriptArticleInput()),t(Dte.clearGenerateScriptCustomScriptInput()),t(Dte.clearConversationHistory());const r=HLe(),l=VLe({userMessage:{message:qLe(n)},conversationId:r.id,task:Nte.GenerateScript});t(Dte.setCurrentConversation(r.id));try{t(Dte.setStep("script-chat"));const a=await uje({cancellationSource:e,duration:s,topic:n,tone:o});if(!a)return;const i=zLe({content:a.script,sources:a.sources,research:a.research,articleText:void 0,articleURL:void 0,topics:void 0,isCustomScript:!1,isSampleScript:yLe.includes(n)});t(Dte.addLLMResponse({userMessageId:l.id,response:{status:"success",task:Nte.GenerateScript,scriptId:i.id,sources:a.sources,tone:o,duration:s,rawMessages:a.rawMessages}}))}catch(b9e){cb({description:"Failed to generate script",error:b9e}),t(Dte.addLLMResponse({userMessageId:l.id,response:{status:"error",error:b9e.message}}))}},mje=()=>{const{dispatch:e,state:t}=Mu(),a=t.scriptChat.generateScriptCustomScript,n=(e=>{const{state:t}=Mu(),a=t.scriptChat.conversationHistory.find((a=>{const n=t.scriptChat.conversationsById[a];if(n)return n.userMessages.some((a=>{const n=t.scriptChat.userMessagesById[a];if(!n)return;if("Your script"!==n.message)return;if("success"!==n.response.status)return;if(n.response.task!==Nte.EditScript)return;if(!n.response.scriptId)return;const s=t.scriptChat.scriptsById[n.response.scriptId];return s?s.content===e:void 0}))}));return t.scriptChat.conversationsById[a??""]})(a);if(n)return e(Dte.setCurrentConversation(n.id)),void e(Dte.setStep("create-video"));e(Dte.clearGenerateScriptArticleInput()),e(Dte.clearGenerateScriptTopicPromptInput()),e(Dte.clearConversationHistory());const s=zLe({content:a,sources:[],articleText:void 0,articleURL:void 0,research:void 0,topics:void 0,isCustomScript:!0}),o=HLe();VLe({conversationId:o.id,userMessage:{message:"Your script",response:{status:"success",task:Nte.GenerateScript,scriptId:s.id,sources:[],rawMessages:[Mte(a)]}},task:Nte.GenerateScript}),e(Dte.setCurrentConversation(o.id)),e(Dte.setStep("create-video")),ov("Script Chat - Finalized Script",{type:"custom"})},gje=()=>{const e=Bu(),t=Du(FR),a=i.useCallback((t=>{e(Uj({selectedTab:t}))}),[e]);return f.jsx("div",{className:yke,children:f.jsxs(Wr,{value:t,onValueChange:a,className:xke,children:[f.jsxs(Vr,{className:L(wke),children:[f.jsx(Hr,{value:hR.SocialVideoFromTopic,className:L(_ke,{[Cke]:t===hR.SocialVideoFromTopic}),children:"USE A PROMPT"}),f.jsx(Hr,{value:hR.SocialVideoFromURL,className:L(_ke,{[Cke]:t===hR.SocialVideoFromURL}),children:"USE AN ARTICLE URL"}),f.jsx(Hr,{value:hR.SocialVideoFromScript,className:L(_ke,{[Cke]:t===hR.SocialVideoFromScript}),children:"USE MY OWN SCRIPT"})]}),f.jsx(zr,{value:hR.SocialVideoFromTopic,className:Ike,children:f.jsx(hje,{})}),f.jsx(zr,{value:hR.SocialVideoFromURL,className:Ike,children:f.jsx(vje,{})}),f.jsx(zr,{value:hR.SocialVideoFromScript,className:Ike,children:f.jsx(fje,{})})]})})},hje=()=>{const e=Bu(),t=Du((e=>e.scriptChat.generateScriptTopicPrompt));return f.jsx(f.Fragment,{children:f.jsxs("div",{className:Fke,children:[f.jsx(fke,{id:cZ.AiGenerateScriptInput,position:"bottom",align:"start",children:f.jsx(ATe,{placeholder:"Generate a script about...",value:t,tab:hR.SocialVideoFromTopic,setPrompt:t=>{e(Dte.setGenerateScriptTopicPrompt(t))},promptKey:"topic",rowClass:Ake,titleClass:kke,className:Nke,historyButtonClass:Lke,tryASampleButtonClass:jke,actionContainerClass:Eke,textWrapperClass:Tke,samplePrompts:yLe})}),f.jsxs("div",{className:Ske,style:{justifyContent:"space-between"},children:[f.jsx(RTe,{content:t,maxWordCount:1e3}),f.jsx(hLe,{})]})]})})},vje=()=>{const e=Bu(),t=Du((e=>e.scriptChat.generateScriptArticleInfoLoading)),a=Du((e=>e.scriptChat.generateScriptDuration)),n=Du((e=>e.scriptChat.generateScriptTone)),s=Du((e=>e.scriptChat.generateScriptArticleInfo)),o=Du((e=>e.scriptChat.generateScriptArticleURL)),i=async t=>{const s=$Le({url:t,tone:n,duration:a});if(s)return e(Dte.setCurrentConversation(s.id)),void e(Dte.setStep("script-chat"));e(Dte.clearGenerateScriptCustomScriptInput()),e(Dte.clearGenerateScriptTopicPromptInput()),e(Dte.clearConversationHistory());try{await cje(t)}catch(b9e){cb({description:"Failed to extract article",error:b9e})}};return f.jsxs("div",{className:Mke,children:[s?f.jsx(mLe,{ogTags:s.ogTags,fallbackUrl:o,handleReset:()=>{var t;t="",e(Dte.setGenerateScriptArticleURL(t)),e(Dte.clearGenerateScriptArticleInput())},wrapperStyle:{maxWidth:"100%",marginTop:0}}):f.jsxs("form",{onSubmit:e=>{e.preventDefault()},className:Oke,children:[f.jsx(fke,{id:cZ.AiPasteArticleUrlInput,position:"bottom",align:"start",children:f.jsx(ATe,{placeholder:"Generate a script about...",value:o,tab:hR.SocialVideoFromURL,setPrompt:i,promptKey:"url",rowClass:Ake,titleClass:kke,className:t?Pke:Nke,historyButtonClass:Lke,tryASampleButtonClass:jke,actionContainerClass:Eke,disablePastPrompt:!0,disabled:t,textWrapperClass:Tke,samplePrompts:wLe})}),t&&f.jsx(iye,{style:{position:"absolute",bottom:0,left:0,width:48,height:64,margin:0,padding:0}})]}),f.jsx("div",{className:Ske,style:{justifyContent:"flex-end"},children:f.jsx(hLe,{})})]})},fje=()=>{const e=Bu(),t=Du((e=>e.scriptChat.generateScriptCustomScript));return f.jsx(f.Fragment,{children:f.jsxs("div",{className:Rke,children:[f.jsx(fke,{id:cZ.AiPasteExistingScriptInput,position:"bottom",align:"start",children:f.jsx(ATe,{setPrompt:t=>{e(Dte.setGenerateScriptCustomScript(t))},value:t,promptKey:"script",tab:hR.SocialVideoFromScript,placeholder:"Paste your existing script here. For best results, use a script with at least 500 characters.",rowClass:Ake,className:Nke,titleClass:kke,historyButtonClass:Lke,actionContainerClass:Eke,textWrapperClass:Tke})}),f.jsx("div",{className:Ske,children:f.jsx(RTe,{content:t,maxWordCount:1e3})})]})})},bje={workspacePopoverZIndex:"18",popoverZIndex:"14",paywallZIndex:"1001",paywallBgZIndex:"1000",genericButton:"GenericButton-module_genericButton_TjDGw",contentWrapper:"GenericButton-module_contentWrapper_aVrfE",loading:"GenericButton-module_loading_PE513",danger:"GenericButton-module_danger_EN2qD",loadingSpinner:"GenericButton-module_loadingSpinner_f-oOC",secondary:"GenericButton-module_secondary_pVy-x",upgrade:"GenericButton-module_upgrade_yeOFF",primary:"GenericButton-module_primary_exz8Z",spin:"GenericButton-module_spin_6hR5e",full:"GenericButton-module_full_nHKKX","full--thin":"GenericButton-module_full--thin_CfnoE",small:"GenericButton-module_small_Prd7q","wrap-content":"GenericButton-module_wrap-content_YKFdK",icon:"GenericButton-module_icon_bOHVl"},yje=({onClick:e,label:t,icon:a,classNames:n,color:s="primary",width:o="full",disabled:i=!1,isLoading:r=!1,loadingLabel:l=t,iconPosition:d="left",disabledReason:c="",tooltipPosition:u="top",cypressTestLabel:p="common-generic-button",dataTestId:m="common-generic-button"})=>{const g=L(bje.genericButton,bje[s],bje[o]);return f.jsx(Hw,{side:u,disabled:!i||r||!c,message:c,delayDuration:0,children:f.jsx("button",{type:"button",className:L(g,n),onClick:e,disabled:i||r,"data-cy":p,"data-testid":m,children:f.jsx("div",{className:bje.contentWrapper,children:r?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:bje.loadingSpinner,"data-testid":"loading-spinner"}),f.jsx("span",{children:l})]}):f.jsxs(f.Fragment,{children:["left"===d&&a&&f.jsx("span",{children:a}),f.jsx("span",{children:t}),"right"===d&&a&&f.jsx("span",{children:a})]})})})})},wje="ApplyButton-module_applyButton_05aAQ",_je=({onClick:e,label:t="Apply",width:a="full",isLoading:n=!1,cypressTestLabel:s="common-apply-button",dataTestId:o="common-apply-button",disabled:i=!1,disabledReason:r=""})=>{const l=f.jsxs("span",{className:wje,children:[f.jsx("span",{children:t})," ",!n&&f.jsx(kt,{size:12,"data-testid":"md-chevron-right"})]});return f.jsx(yje,{label:l,onClick:e,width:a,color:"primary",isLoading:n,disabled:i,disabledReason:r,cypressTestLabel:s,dataTestId:o})},Cje=({disabled:e,setCancelFn:t})=>{const{currentConversation:a,customScript:n,loadingArticleInfo:s,pastedUrl:o,prompt:r,tab:l}=Du((e=>({currentConversation:LAe(e),customScript:e.scriptChat.generateScriptCustomScript,loadingArticleInfo:e.scriptChat.generateScriptArticleInfoLoading,pastedUrl:e.scriptChat.generateScriptArticleURL,prompt:e.scriptChat.generateScriptTopicPrompt,tab:FR(e)})),Ou),[d,c]=i.useState(!1),u=ETe(n)>1e3;function p(){if(l===hR.SocialVideoFromTopic){if(GLe(r))return"Please enter a prompt";if(ETe(r)>1e3)return"Please limit your topic to 1000 words"}else if(l===hR.SocialVideoFromScript){if(GLe(n))return"Please enter a script";if(u)return"Please limit your script to 1000 words"}else if(l===hR.SocialVideoFromURL){if(s)return"Please wait for the article to finish loading";if(!o)return"Please paste an article URL"}}const m=!!p(),g=e||m&&!a;async function h(){const{dispatch:e}=Mu();if(m)return void(a&&e(Dte.setStep("script-chat")));const n=new vre;return t((()=>n.cancel())),l===hR.SocialVideoFromTopic?pje(n):l===hR.SocialVideoFromScript?mje():l===hR.SocialVideoFromURL?(async e=>{const{dispatch:t,state:a}=Mu();if(!a.scriptChat.generateScriptArticleInfo)throw new Error("Article info is not available");const n=a.scriptChat.generateScriptArticleURL,s=a.scriptChat.generateScriptArticleInfo.articleText,o=a.scriptChat.generateScriptDuration,i=a.scriptChat.generateScriptTone,r=$Le({url:n,tone:i,duration:o});if(r)return t(Dte.setCurrentConversation(r.id)),void t(Dte.setStep("script-chat"));t(Dte.clearGenerateScriptTopicPromptInput()),t(Dte.clearGenerateScriptCustomScriptInput()),t(Dte.clearConversationHistory());const l=HLe(),d=VLe({userMessage:{message:JLe(n)},conversationId:l.id,task:Nte.GenerateScript});t(Dte.setCurrentConversation(l.id));try{t(Dte.setStep("script-chat"));const a=await uje({cancellationSource:e,duration:o,articleInfo:{text:s,url:n},tone:i});if(!a)return;const r=zLe({content:a.script,sources:a.sources,research:a.research,articleText:s,articleURL:n,topics:void 0,isCustomScript:!1});t(Dte.addLLMResponse({userMessageId:d.id,response:{status:"success",task:Nte.GenerateScript,scriptId:r.id,sources:a.sources,tone:i,duration:o,rawMessages:a.rawMessages}}))}catch(b9e){cb({description:"Failed to generate script",error:b9e}),t(Dte.addLLMResponse({userMessageId:d.id,response:{status:"error",error:b9e.message}}))}})(n):void 0}return f.jsx(Hw,{style:{zIndex:15},message:p()??"",disabled:!g,delayDuration:0,children:f.jsx(_je,{label:d?"Loading...":l===hR.SocialVideoFromTopic?"Generate script from topic":l===hR.SocialVideoFromURL?"Generate script from article":l===hR.SocialVideoFromScript?"Generate video from script":void 0,width:"full",onClick:async()=>{try{c(!0),await h(),c(!1)}catch(e){cb({description:"creating your script",error:e}),c(!1)}},disabled:g,disabledReason:p()})})},Sje="GenerateSocialVideo-module_customScriptLimitContainer_cVKNV",xje=({...e})=>{const{label:t,onClick:a,width:n}=e;return f.jsx(yje,{label:t,onClick:a,width:n,color:"secondary","data-cy":"common-cancel-button","data-testid":"common-cancel-button"})},Ije=(e,t)=>{var a;return null==(a=e.currentUser.user.preferences)?void 0:a[t]},Aje=e=>Du((t=>Ije(t,e)));var kje=(e=>(e.DUBBING="dubbing",e.TEXT_TO_SPEECH="text_to_speech",e.TEXT_TO_SPEECH_REGENERATE="text_to_speech_regenerate",e.FIND_HIGHLIGHTS="find_highlights",e.AI_GENERATOR="ai_generator",e.VOICE_CLONING="voice_cloning",e.CREATE_PERSONA="create_persona",e.ADD_PERSONA="add_persona",e.REGENERATE_PERSONA_TTS="regenerate_persona_tts",e))(kje||{});function Tje(){const{dispatch:e}=Mu();e(lH.setIntent("trim")),e(lH.setShowTranscript(!0)),e(m0({tabContainerId:"media-sidebar",tabId:"Transcript"})),e(Nh(!0))}const Eje=["Upbeat","Lofi","Hopeful","Instrumental","RnB","Calm","Bright","Suspense","Pop","Ambient","Electronic","Background"];function Lje(e){return e.replace(/\[.*?\]/g,"").replaceAll("-\n","-").replaceAll(".\n",". ").replaceAll(". \n",". ").replaceAll("\n\n","\n").replaceAll("\n",". ").replaceAll(". .",". ").replaceAll("?.","?").replaceAll("!.","!").replaceAll(",.",",").replaceAll("-.","-").replaceAll(";.",";").replaceAll(":.",":").replaceAll("  .","").replaceAll(" .","").replaceAll("  "," ").replaceAll("```",'"').trim()}async function jje(e){return Kf(`/api/v1/ai/tts/${e}`)}async function Rje({videoId:e,voiceOption:t,languageOption:a,teamId:n,text:s,personaId:o,requestingFeature:i,cancellationSource:r}){const l=BLe[Lje(s)];if(l&&"English (US)"===a&&"en-US-Polyglot-1"===t.name){const e=await jje(l);if(e.asset){const{dispatch:t}=Mu();t(YE([e.asset]))}return e}if(o&&Gp[o]){const e=Yp[o];if(e){const t=await jje(e);if(t.asset){const{dispatch:e}=Mu();e(YE([t.asset]))}return t}}const{id:d,...c}=await async function({videoId:e,voiceOption:t,languageOption:a,teamId:n,text:s,requestingFeature:o}){const i={videoId:e,voiceOption:t,languageOption:a,teamId:n,text:s,requestingFeature:o,forceNewAssets:!!Pu.forceNewAssets};return await Xf("/api/v1/ai/tts",{body:i})}({videoId:e,voiceOption:t,languageOption:a,teamId:n,text:s,requestingFeature:i});if("_id"in c&&"complete"===c.status&&c.asset){const{dispatch:e}=Mu();return e(YE([c.asset])),c}const u=e=>new Promise((t=>setTimeout(t,e)));await u(4e3);let p=4e3,m=!1;for(;!m;){if(r&&r.cancelled)return"cancelled";const t=await jje(d);if("error"===t.status)return void pb({description:t.error,sentryMessage:"Failed to generate TTS audio",extra:{error:t.error,text:s,videoId:e},tags:{textToSpeechError:t.error}});if("pending"!==t.status){if(m=!0,t.asset){const{dispatch:e}=Mu();e(YE([t.asset]))}return t}await u(1e3),p+=1e3,p>54e4&&pb({description:"Timed out waiting for TTS job to complete",sentryMessage:"Timed out waiting for TTS job to complete",extra:{text:s,videoId:e}})}}const Nje="Filters-module_filterChip_CtaiR",Mje="Filters-module_selected_iUzaG",Pje="Filters-module_filterContainer_O4tKm",Fje=["Transition","Animation","Meme","Win","Gaming","Suspense","Human","Funny","Cartoon","Fail","Animal"],Dje=b.memo((({inMusicTab:e,selectedFilter:t,selectFilter:a})=>{const n=e?Eje:Fje,s=i.useCallback((e=>{e!==t&&a(e)}),[a,t]);return f.jsx("div",{children:f.jsx("div",{className:Pje,children:n.map((e=>f.jsx("div",{className:`${Nje} ${t===e&&Mje}`,"data-cy":"audio-filter-chip",onClick:()=>s(e),children:e},e)))})})})),Oje=e=>{let t=e;e.type===Nc.Video&&(t={...e,type:Nc.Audio,converted_type:"audio"}),D4(t)},Uje=async e=>{const t=F4(e,{selectLayerInCreator:!0});t&&Bje(t)},Bje=e=>{const{dispatch:t}=Mu();r.batch((()=>{"video"===e.type&&uk({[e.id]:{type:Nc.Audio,converted_type:"audio"}},"helpers.ts",!0),t(ck({id:e.id,type:"layer"}))}))},Wje=async({voiceOption:e,text:t,ttsLanguageOption:a,cancellationSource:n,videoId:s,feature:o,personaId:i})=>{const{state:r}=Mu();ov("TTS Endpoint Called",{Voice:e.name,Source:e.elevenLabsId?"Eleven Labs":"Google","Character Count":t.length});const l=r.studio.teamId??r.teams.selectedTeamId,d=await Rje({voiceOption:e,languageOption:a,text:t,videoId:s,teamId:l,requestingFeature:o,cancellationSource:n,personaId:i});if(!d||"cancelled"===d)return;if("complete"!==d.status)return void pb({description:"Text to Speech failed to generate",sentryMessage:"Text to Speech failed to generate",extra:{voiceOption:e,text:t,ttsLanguageOption:a,videoId:s,feature:o,result:d}});const c=r.assets.byId[d.output.assetId.toString()];let u;const{assetId:p,words:m,transcriptionId:g}=d.output,h=P2(p.toString(),w2.tts);u=c||await h;const{dispatch:v}=Mu(),f=a?xm(a):e.languageCode;return v(DE([{assetId:String(p),languageKey:f,status:{assetTranscriptionId:String(g),state:"completed",languageKey:e.languageCode,words:m,job_params:{keep_whole:!0,provider_id:"tts",speaker_labels:!0}}}])),{asset:u,transcription:{_id:g.toString(),words:m}}},Vje=async({language:e,voiceOption:t,text:a,withSubtitles:n,cancellationSource:s,videoId:o,feature:i})=>{const r=Mu().state.studio.teamId??Mu().state.teams.selectedTeamId,l=await Rje({voiceOption:t,languageOption:e,text:a,cancellationSource:s,videoId:o,teamId:r,requestingFeature:i});if(!l||"cancelled"===l)return;if("complete"!==l.status)return;const{assetId:d,assetDuration:c,words:u,transcriptionId:p}=l.output,m={id:fe(12),type:Nc.Audio,name:zje(a,25),asset_id:d.toString(),duration:c,hasAudio:!0,usedProFeatures:["text-to-speech"],volume:1,videoDelay:dY(),startTime:0,endTime:c,ttsSubtitlePreference:n},g=P2(d.toString(),w2.tts),{state:h}=Mu();h.assets.byId[d.toString()]||await g;let v="Google";return t.elevenLabsId&&(v="Eleven Labs"),"isClone"in t&&t.isClone&&(v="Eleven Labs Clone"),ov("Text to Speech Audio Layer",{Language:e,Voice:t.label,WithSubtitles:n,Text:a.slice(0,200),CharCount:a.length,Location:i,Source:v}),{layer:m,transcription:{_id:p.toString(),words:u}}};async function Hje({language:e,text:t,voiceOption:a,withSubtitles:n}){const{dispatch:s}=Mu(),o=await Vje({language:e,voiceOption:a,text:t,withSubtitles:n,videoId:Mu().state.studio._id,feature:kje.TEXT_TO_SPEECH_REGENERATE});if(!o)return;const{layer:i,transcription:r}=o,l=xm(e);return s(DE([{assetId:i.asset_id,languageKey:l,status:{assetTranscriptionId:r._id,state:"completed",languageKey:a.languageCode,words:r.words,job_params:{keep_whole:!0,provider_id:"tts",speaker_labels:!0}}}])),i}const zje=(e,t)=>{if(e.length<=t)return e;const a=e.slice(0,t).split(" ");if(a.length<=1)return a.join(" ");return" "===e[t]?a.join(" "):a.slice(0,-1).join(" ")},Gje=async({searchTerm:e,pageNumber:t})=>({sounds:(await Kf("/api/v1/music/search",{params:{searchTerm:e||"",pageNumber:t}})).map((e=>({title:e.title,source:e.contentUrl,image:e.thumbnailUrl,artist:e.author.name,artistLink:e.author.url,duration:e.metadata.duration,isFree:!0,isSoundEffect:!1,asset:e.asset}))),nextPage:void 0!==t?t+1:0}),Yje=async({searchTerm:e,pageNumber:t})=>({sounds:(await Kf("/api/v1/soundEffects/search",{params:{searchTerm:e||"Sound Effect",pageNumber:t}})).map((e=>({title:e.title,source:e.source,duration:e.metadata.duration,isFree:!0,isSoundEffect:!0,asset:e.asset}))),nextPage:void 0!==t?t+1:0}),Kje=async()=>{const e=M5(j5.SongCategories);if(e&&(new Date).getDay()===new Date(e.lastUpdated).getDay())return new Map(e.data);const t=Eje.map((async e=>({name:e,result:await Gje({searchTerm:e})}))),a=await Promise.all(t),n=new Map;return a.map((e=>{n.set(e.name,[...e.result.sounds])})),N5(j5.SongCategories,{data:Array.from(n),lastUpdated:Date.now()}),n},Xje=async()=>{const e=M5(j5.SFXCategories);if(e&&(new Date).getDay()===new Date(e.lastUpdated).getDay())return new Map(e.data);const t=Fje.map((async e=>({name:e,result:await Yje({searchTerm:e})}))),a=await Promise.all(t),n=new Map;return a.map((e=>{n.set(e.name,[...e.result.sounds])})),N5(j5.SFXCategories,{data:Array.from(n),lastUpdated:Date.now()}),n};function Zje(e){return{label:e.name,name:Tm(e.name),languageCode:"fr-FR",sampleURL:e.previewUrl||"",elevenLabsId:e.voiceId,isClone:!0}}function qje(e,t){var a;const{state:n}=Mu(),s=(null==(a=n.teams.activeBrandkit)?void 0:a.clonedVoices)??[],o=bm(t)&&(null==s?void 0:s.find((t=>e===Tm(t.name))));if(o){return Zje(o)}const i=hm[t],r=i.findIndex((t=>t.name===e));return i[r]||i[0]}function Jje({assetId:e,languageKey:t,translateCode:a,preset:n,resetFramesDirectly:s}){var o,i;const{dispatch:l,state:d}=Mu(),c=zD(e)(d),u=Object.keys((null==(i=null==(o=d.studio.magicSubtitleFramesByAsset)?void 0:o[e])?void 0:i.byId)||{}).length,p=OO({filterEmpty:!1,filterInvalid:!1})(d).length,m=c.languageKey===t;PU.execInUndoBatch((()=>r.batch((()=>{c.enabled&&m||l(Lq(e,{languageKey:t,transcriptionSource:"transcription",translated:!!a,translatedLanguageCode:a,...G2(n)}));(!m||0===u||0===p)&&(s?hue(!0):Qce({type:"SET_MAGIC_SUBTITLE_FRAMES",assetId:e,frames:null})),"dubbing"!==d.toolTip&&rue([])}))))}function $je({assetLanguageCode:e,preferenceLanguageCode:t,browserLanguage:a}){for(const n of[e,t,a,"en"]){if(!n)continue;const e=$p.get(n);if(!e)continue;const t=e.transcriptionVariants.find((e=>e.code===n));if(t)return{code:t.code,label:t.label,en:t.en};if(e.transcriptionVariants.length>0)for(const a of e.transcriptionVariants)if(a.code.includes(n))return{code:a.code,label:a.label,en:a.en};return{code:n,label:e.label,en:e.en}}throw new Error("No language found")}async function Qje({acceptAudio:e=!0,acceptImage:t=!0,acceptVideo:a=!0,additionalAssetParams:n,progressCallback:s,analyticsCallback:o,url:i,doDuplicateHandling:r=!1}){var l,d;if(!i)throw Error("No url to extract");const c=Qx(i);c&&o({platform:c});const u={...n||{}},p=await eI({url:i,analyticsCallback:o,doDuplicateHandling:r}),{mime:m,title:g,hasAudio:h}=p;if(!p.hasUploadedAssetDuplicate&&"tiktok"===c)throw new KC("This TikTok link is not supported. Please try to upload your asset from a different source.");g&&(u.fileName=g);const[v]=(null==(l=(m||"").split(";",2)[0])?void 0:l.split("/",2))||[];let f=!1;switch(v){case"audio":e||(f=!0);break;case"image":t||(f=!0);break;case"video":a||(f=!0)}if(f)throw new Error("Invalid mime type");s&&s("Just a second..."),o({hasAudio:h,stage:Au.AssetCreation}),u.forceNewAssets=!r;const{asset:b,cmlFile:y}=await f2(i,u,p);_9(b,y),((null==y?void 0:y.duplicate)||p.hasUploadedAssetDuplicate)&&(p.url=b.url,o({"Duration (seconds)":b.duration||(null==(d=b.extract_info)?void 0:d.duration)}));const w=function(e){if(!e)return!1;const t=sI(e);return!!CI.includes(t||"")}(p.url);return o({requiresConversion:w}),w&&(p.requireConversion=!0,p.conversion_type=oI(p.url,p.type||""),p.conversion_id=await t2({asset_id:b._id,conversion_type:p.conversion_type,pastedUrl:i,resource:p.url,type:"pastedLink"})),{asset:b,cmlFile:y,extractInfo:p}}const eRe={FETCHING_BROLL:"Fetching B-Roll",TRANSCRIBING_ASSETS:"Transcribing Assets",PROCESSING_VIDEO_CLIPS:"Processing Video Clips",ANALYZING_TRANSCRIPT:"Analyzing Transcript",SEARCHING_FOR_MEDIA:"Searching for Media",ADDING_LAYER_TO_PROJECT:"Adding Layer to Project",ADDING_LAYERS_TO_PROJECT:"Adding Layers to Project"},tRe=e=>{const{dispatch:t}=Mu();t(GU({bRollLoadingMsg:e}))},aRe=()=>{tRe("")};async function nRe(e,t=!1){const a=await Kf("/api/v1/ai/transcript-keywords-v2",{params:{asset_id:e,ignoreNoCache:t}});if(!a||!a.transcriptKeywords)return null;const n=a.transcriptKeywords.keywords.map((t=>{const a=t.currentSearchResult;if(a){return{bRollId:t.bRollId||tA(12),assetId:e,keyword:t.keyword,keywordDescription:t.keywordDescription,overWords:t.overWords,startTime:t.start_time,endTime:t.end_time,currentSearchResult:a,debuggingData:t.debuggingData}}})).filter((e=>void 0!==e));return{id:a.transcriptKeywords._id.toString(),layerData:n,articleUrlResults:a.transcriptKeywords.articleUrlResults}}async function sRe(e){try{return await Kf(`/api/v2/ai/jobs/${e}`)}catch(b9e){return console.error(b9e),null}}const oRe=e=>{e.bRollDebugLog&&e.bRollDebugLog.forEach((e=>{"error"===e.level&&ov("B-Roll debug log error",{Reason:e.message,Context:e.context,"Additional Context":e.additionalContext,...Tv()})}))};async function iRe({asset_id:e,languageCode:t,useEverySentence:a,preferVideo:n,articleUrls:s,videoSearchCollectionId:o,youtubeSearchCollectionId:i,customBRollImageAssetIds:r,cancellationSource:d,bRollDebugLog:c,bRollConfig:u,isValidDefaultGeneration:p}){var m;const g=Mu().state.studio.broll;let h,v,f=!1;if(p||!(null==u?void 0:u.noCache)){try{const t=await nRe(e);if(t){if(t.layerData.length>0)return t;v=t.id}}catch(w){console.error(w)}if(g){const t=g.jobsByAssetId[e];if(t){const e=await sRe(t);"pending"===(null==e?void 0:e.status)&&(f=!0,h=t)}}}if(f||(h=await async function({asset_id:e,languageCode:t,useEverySentence:a,preferVideo:n,articleUrls:s,videoSearchCollectionId:o,youtubeSearchCollectionId:i,customBRollImageAssetIds:r,keywordsId:l,bRollDebugLog:d,bRollConfig:c}){var u;try{const{state:p,dispatch:m}=Mu(),g=TK(p.studio.ratio),h={asset_id:e,teamId:null==(u=rg())?void 0:u._id,languageCode:t,aspectRatioWidth:g.ratioWidth,aspectRatioHeight:g.ratioHeight,useEverySentence:!!a,preferVideo:!!n,articleUrls:s,videoSearchCollectionId:o,youtubeSearchCollectionId:i,customBRollImageAssetIds:r,keywordsId:l,bRollDebugLog:d,bRollConfig:c};tRe(eRe.SEARCHING_FOR_MEDIA);const v=await Xf("/api/v2/ai/b-roll",{body:h});return v.succeeded?(m({type:"UPDATE_BROLL_JOB_RECORD",assetId:e,jobId:v.id}),v.id):(console.error(v.message),null)}catch(b9e){return cb({description:"Failed to generate b-roll. Please try again.",error:b9e}),ov("BRoll - Create Job Failed",{error:String(b9e)}),console.error(b9e),null}}({asset_id:e,languageCode:t,useEverySentence:a,preferVideo:n,articleUrls:s,videoSearchCollectionId:o,youtubeSearchCollectionId:i,customBRollImageAssetIds:r,keywordsId:v,bRollDebugLog:c,bRollConfig:u})),!h)return null;let b=0;const y=54e4*(o||i?2:1)/4e3;for(;;){if(d.cancelled)return null;const t=await sRe(h);if(d.cancelled)return null;if(!t)return null;if(b>y)throw oRe(t),new Error("Getting a response is taking longer than expected. Please try again later.");if("complete"===t.status){oRe(t);const a=await nRe(e,!0);if(!a)throw new Error("Failed to get keywords for broll");return a}if("error"===t.status){l(new Error("BRoll - job error"),{extra:{jobId:h,assetId:e}}),oRe(t);try{const t=await nRe(e);if(t)return t}catch(w){console.error(w)}let a="Failed to generate b-roll";if(t.bRollDebugLog){const e=null==(m=t.bRollDebugLog.filter((e=>"error"===e.level))[0])?void 0:m.message;e&&(a=e)}throw new $v(a,{skipSentry:!0})}b+=1,await new Promise((e=>setTimeout(e,4e3)))}}function rRe({width:e=100,height:t=100,alignment:a,size:n}){const{state:s}=Mu(),{width:o=100,height:i=100}=s.studio;let r,l,d=40,c=40,u=d/100*o,p=c/100*i;e>t?(p=t/e*u,c=p/i*100):(u=e/t*p,d=u/o*100);const m=5*o/100,g=5*i/100;let h=a;var v,f;switch(!h&&n&&(v=dEe[n.key],f=e/t,h=Math.abs(v-f)<=.2?"fill":"center"),h){case"topLeft":r=m,l=g;break;case"topRight":r=o-u-m,l=g;break;case"bottomLeft":r=m,l=i-p-g;break;case"bottomRight":r=o-u-m,l=i-p-g;break;case"fill":r=0,l=0,d=100,c=100;break;default:d=100,c=100,u=o,p=i,e>t?(p=t/e*o,c=p/i*100):(u=e/t*i,d=u/o*100),r=(o-u)/2,l=(i-p)/2}return{x:`${r/o*100}%`,y:`${l/i*100}%`,width:`${d}%`,height:`${c}%`,rotation:0}}const lRe=({data:e,timelineRow:t,alignment:a,size:n})=>{const{currentSearchResult:s}=e,{width:o,height:i}=s,r=rRe({width:o,height:i,alignment:a,size:n}),l={addedLayerFrom:{source:"bRoll",query:e.keyword},bRollId:e.bRollId,bRollParentAssetId:e.assetId,bRollQuery:e.keyword,bRollLayerSource:s.source||"pexels",crop:{x:0,y:0,width:100,height:100},position:r};return t&&(l.timelineRow=t),l},dRe=({baseVideoLayer:e,data:t,timelineRow:a,alignment:n,size:s})=>{if(e.type!==Nc.Video)return[];const o=lRe({data:t,timelineRow:a,alignment:n,size:s}),{timelineRanges:i}=t,r=[];for(const l of i){const a=BC(l.timelineStart),n=BC(l.timelineEnd),s=BC(n-a),i=Math.min(s,e.duration??3),{id:d}=L4(),c={...e,...o,id:d,volume:0,startTime:0,endTime:i,videoDelay:l.timelineStart,hasAudio:!1,name:`${t.keyword} video`};Object.assign(c,vJ(c)),r.push({layer:c,parentLayerId:l.parentLayerId})}return r},cRe=({baseImageLayer:e,data:t,timelineRow:a,alignment:n,size:s})=>{const o=lRe({data:t,timelineRow:a,alignment:n,size:s}),{timelineRanges:i}=t,r=[];for(const l of i){const t=BC(l.timelineStart),a=BC(l.timelineEnd),{id:n}=L4(),s={...e,...o,id:n,type:Nc.Image,startTime:t,endTime:a};Object.assign(s,vJ(s)),r.push({layer:s,parentLayerId:l.parentLayerId})}return r},uRe=async({data:e,timelineRow:t,alignment:a,size:n})=>{const s=await epe({data:e.map((e=>{const{currentSearchResult:t}=e;if(!t)return null;const{type:a}=t;return"video"===a?{forceNoAudio:!0,skipCML:!0,skipStudioAddLayer:!0,video:t.originalSearchResult,layerProperties:{bRollId:e.bRollId},query:""}:{image:t.originalSearchResult,skipCML:!0,skipStudioAddLayer:!0,layerProperties:{bRollId:e.bRollId},query:""}})).filter(vA)}),o=[];for(const i of e){const{bRollId:e}=i,r=s.find((t=>(null==t?void 0:t.bRollId)===e));if(r)if("image"===r.type){const e=cRe({baseImageLayer:r,data:i,alignment:a,timelineRow:t,size:n});o.push(...e)}else{const e=dRe({baseVideoLayer:r,data:i,alignment:a,timelineRow:t,size:n});o.push(...e)}else console.error("No premade layer found for",e)}return o},pRe=(e,t)=>{const{assetId:a,startTime:n,endTime:s}=e,o=[];for(const i of t){if(!tL(i,a))continue;const{startTime:e,endTime:t,videoDelay:r,playbackRate:l}=vp(i);let d=r+n-e,c=r+s-e,u=n,p=s;e>n&&t>=s&&(d=r,u=e),e<=n&&t<s&&(c=r+t-e,p=t),d/=l,c/=l;c-d>=.2&&o.push({timelineStart:d,timelineEnd:c,assetStart:u,assetEnd:p,parentLayerId:i.id})}return o.reduce(((e,t)=>e+(t.timelineEnd-t.timelineStart)),0)<1?{...e,timelineRanges:[]}:(o.sort(((e,t)=>e.timelineStart-t.timelineStart)),{...e,timelineRanges:o})},mRe=[Pc.CrossDissolve,Pc.CrossBlur,"circleopen","crosswarp","directional-easing","directionalwarp","directionalwipe","Dreamy","DreamyZoom","multiply_blend","pixelize","PolkaDotsCurtain","rotate_scale_fade","scale-in","wind","windowblinds","windowslice"],gRe=e=>{const{dispatch:t}=Mu();t(VA({layers:e.map((({layer:e})=>e)),isUndoable:!0}))};function hRe(e){ov("B-Roll Add Images",{...e,...Tv()})}const vRe=PU.withUndoBatchAsync((async e=>{const{state:t}=Mu(),{bRollAlignment:a}=t.bRoll,n=a||"center",{timelineRanges:s}=e;if(tRe(eRe.ADDING_LAYER_TO_PROJECT),0===s.length)return pb({description:"Failed to add image to project",sentryMessage:"BRoll - add image layer invalid times"}),void aRe();const o=await uRe({data:[e],alignment:n,timelineRow:void 0});if(0===o.length)return pb({description:"Failed to add layer to project"}),void aRe();gRe(o),aRe();const{currentSearchResult:i}=e,{source:r="google"}=i;hRe({scriptToVideo:!1,alignment:n,layerCount:1,isAddAll:!1,bingSourceCount:"bing-images"===r?1:0,giphySourceCount:"giphy"===r?1:0,dalleSourceCount:"dall-e"===r?1:0,pexelsImagesSourceCount:"pexels-images"===r?1:0,pexelsSourceCount:"pexels"===r?1:0,pixabayImagesSourceCount:"pixabay-images"===r?1:0,pixabaySourceCount:"pixabay"===r?1:0,customVideoSourceCount:"semantic-search"===r?1:0,youtubeSearchSourceCount:"semantic-search-youtube"===r?1:0,customImageSourceCount:"custom-images"===r?1:0,customArticleSourceCount:"article"===r?1:0})})),fRe=PU.withUndoBatchAsync((async e=>{const{scriptToVideo:t,assetIdSet:a,timelineRow:n,initialVideoDelay:s=0,articleImages:o,alignment:i,size:r,cancellationSource:l,addInBatches:d,reduceLayerGaps:c,bRollLayers:u,entryPoint:p}=e,{dispatch:m,state:g}=Mu(),h=a||new Set(u.map((({assetId:e})=>e))),v=Gx(g).filter((e=>aL(e,h)));tRe(eRe.ADDING_LAYERS_TO_PROJECT);try{const e=new Map,a=u.map((t=>{const a=pRe(t,v);if(0===a.timelineRanges.length)return null;const{currentSearchResult:n}=t,s=n.source;return s&&e.set(s,(e.get(s)||0)+1),a})).filter(vA),g=[];if(d){const e=((e,t)=>{const a=[];for(const n of e){const e=a.find((e=>!e.some((e=>e.currentSearchResult.url===n.currentSearchResult.url))&&e.length<=t));e?e.push(n):a.push([n])}return a})(a,10);for(const t of e){if(null==l?void 0:l.cancelled)return aRe(),[];const e=await uRe({data:t,alignment:i,timelineRow:n,size:r});gRe(e),g.push(...e.map((e=>e.layer)))}}else{const e=await uRe({data:a,alignment:i,size:r,timelineRow:n});gRe(e),g.push(...e.map((e=>e.layer)))}o&&epe({data:o.map((e=>({image:e.originalSearchResult,skipStudioAddLayer:!0,query:""}))).filter(vA)}),g.sort(((e,t)=>bp(e).start-bp(t).start)),c&&m(AK.reduceBrollGaps({layerIds:g.map((e=>e.id)),parentStart:s}));const h=[];for(let t=0;t<g.length-1;t++){const e=g[t],a=g[t+1];"image"===(null==e?void 0:e.type)&&"image"===(null==a?void 0:a.type)&&h.push(e)}const f=(e=>{const t=[];let a=-1;for(let n=0;n<e;n++){const e=Math.floor(Math.random()*mRe.length);e!==a?(t.push(mRe[e]),a=e):n--}return t})(h.length);h.forEach(((e,t)=>{const a=f[t];if(a){const t=rT(a);o$(e.id,"outro",t)}})),g.forEach((e=>{"image"===e.type&&(e=>{const t=.1*Math.random()+.05,a=_T(Mc.MovingZoom);a.movingZoomOptions={endValues:{bottomRight:{x:1-t,y:1-t},topLeft:{x:t,y:t}},startValues:{bottomRight:{x:1,y:1},topLeft:{x:0,y:0}}},$J(e.id,a)})(e)}));const b=new Map;for(const t of g){const e=null==t?void 0:t.bRollId;e&&b.set(e,t)}const y={brolls:{},entryPoint:p};return a.forEach((e=>{const t=b.get(e.bRollId);y.brolls[e.bRollId]={assetId:null==t?void 0:t.asset_id,keyword:e.keyword,source:e.currentSearchResult.source,type:e.currentSearchResult.type}})),m(vz({smartBrollAddAllInfo:y})),aRe(),hRe({scriptToVideo:!!t,alignment:i,layerCount:a.length,isAddAll:!0,bingSourceCount:e.get("bing-images")||0,giphySourceCount:e.get("giphy")||0,dalleSourceCount:e.get("dall-e")||0,pexelsImagesSourceCount:e.get("pexels-images")||0,pexelsSourceCount:e.get("pexels")||0,pixabayImagesSourceCount:e.get("pixabay-images")||0,pixabaySourceCount:e.get("pixabay")||0,customVideoSourceCount:e.get("semantic-search")||0,youtubeSearchSourceCount:e.get("semantic-search-youtube")||0,customArticleSourceCount:e.get("article")||0,customImageSourceCount:e.get("custom-images")||0,...Tv()}),g.map((e=>e.id))}catch(b9e){cb({description:"Failed to add layers to your project",error:b9e})}return aRe(),[]}));async function bRe({extractionJobId:e,bRollDebugLog:t,cancellationSource:a,pollSearchCollectionStart:n,type:s,exitEarlyIfPossible:o}){const i=await Zm({retreive:async()=>await Kf("/api/v1/asset/search/clipExtractionJob",{params:{collectionId:e}}),validate:e=>{if((null==o?void 0:o.shouldExitEarly)&&"pending"===e.status){if(e.assetResults.filter((e=>"completed"===e.status)).length>2)return!0}return"pending"!==e.status},name:`${s} Search Collection Creation`,cancelSource:a,options:{initialTimeout:5e3,maxPollingInterval:1e4,decreaseTimeout:(e,t)=>"completed"!==e.status&&"completed"!==(null==t?void 0:t.status)&&(!!t&&t.message!==e.message),maxTime:9e5}});if("success"===i.result){const a=i.resource;if(a.failures.forEach((a=>{t.push({context:`Error reported from ${s} search collection creation`,additionalContext:"asset id: "+a.assetId+" on extraction job id: "+e,message:a.error,timestamp:Date.now().toString(),level:"error"}),ov("AI Clip Extraction Asset Failure",{"Error Message":a.error,"Failed Stage":a.stage,Type:s,...Tv()})})),"failed"===a.status)throw new Error(a.message);const o=Date.now()-n;return ov("AI Clip Extraction Success",{"duration (seconds)":o,Type:s,"Partial Extraction":"pending"===a.status,...Tv()}),"pending"===a.status&&a.assetResults.forEach((a=>{"pending"===a.status&&t.push({context:"Early youtube search collection completion",additionalContext:`Skipping asset ${a.assetId} Extraction job id: ${e}`,message:"Skipping asset because the 2 other youtube jobs succeeded",timestamp:Date.now().toString(),level:"info"})})),a.collectionId}}async function yRe(e){try{return await Kf(`/api/v2/ai/jobs/${e}`)}catch(b9e){return console.error(b9e),null}}async function wRe(e,t){const a=await async function(e,t){var a;try{const n=await Kf("/api/v1/ai/music-keyword",{params:{keywords:e,passage:t,teamId:null==(a=rg())?void 0:a._id}});return n.succeeded?n.id:(console.error(n.message),null)}catch(b9e){return console.error(b9e),null}}(Eje.toString(),e);if(!a)throw new Error("Failed to initialize music keyword fetch");let n=0;for(;;){if(t.cancelled)return null;const e=await yRe(a);if(t.cancelled)return null;if(!e)return null;if(n>30)throw new Error("Getting a response is taking longer than expected.");if("complete"===e.status)return e.keyword;if("error"===e.status)throw new Error(e.error);n+=1,await new Promise((e=>setTimeout(e,4e3)))}}class _Re{constructor(e){if(a(this,"cancellationSource",new vre),a(this,"options"),a(this,"initialVideoDelay",0),a(this,"musicSource"),this.options=e,this.options.visualFormat||(this.options.visualFormat=jEe.bRollOnly),this.options.visualFormat!==jEe.bRollOnly){this.options.personaId||(this.options.personaId="ericAtTheOffice");const e=AA(this.options.personaId);e?this.options.voice=(e=>{let t={name:"custom voice",elevenLabsId:e,label:"custom voice",isClone:!0,languageCode:"en-US",languageAgnostic:!0};for(const a of Nm)if(a.elevenLabsId===e){t=Mm(a,"en-US");break}return t})(e.elevenLabsVoiceId):(this.options.visualFormat=jEe.bRollOnly,this.options.visualFormat=jEe.bRollOnly)}this.musicSource="default"}cancel(){this.cancellationSource.cancel()}async updateCurrentVideoName(){const e=zje(this.options.script,25);return jK(e)}setInitialVideoDelay(){const{state:e}=Mu(),{duration:t}=rA(e.studio,Gx(e),nA(e.studio));if(this.initialVideoDelay=t,t>0){const e=.001;this.initialVideoDelay+=e}}personaLayerAttributesForVisualFormat(){if(this.options.visualFormat===jEe.bRollOnly)return{};if(!this.options.personaId)return{};const e=Mu().state,t=kA(this.options.personaId),a=e.assets.byId[t||""],{canvasWidth:n,canvasHeight:s}=e.studioSizing.canvasDimensions;return this.options.visualFormat===jEe.bRollWithPersonaOverlay?{removeBg:!0,position:Kue("bottomCorner",{canvasWidth:n,canvasHeight:s},(null==a?void 0:a.dimensions)||{height:s,width:n})}:{position:{x:"0%",y:"0%",width:"100%",height:"100%",rotation:0}}}async createTTSAudioAndSubtitleLayers(){const{dispatch:e,state:t}=Mu();if(this.cancellationSource.cancelled)return null;const a=this.options.visualFormat!==jEe.bRollOnly&&this.options.personaId,n=await Vje({language:this.options.language,voiceOption:this.options.voice,text:this.options.script,withSubtitles:!0,cancellationSource:this.cancellationSource,videoId:t.studio._id,feature:kje.AI_GENERATOR});if(!n)return null;const{layer:s,transcription:o}=n,{asset_id:i,...l}=s,d=a?{...l,type:Nc.Persona,isPersona:!0,personaId:this.options.personaId,timelineRow:0,video_asset_id:kA(this.options.personaId),...this.personaLayerAttributesForVisualFormat(),audio_asset_id:i,videoDelay:this.initialVideoDelay}:{...l,videoDelay:this.initialVideoDelay,usedProFeatures:[],timelineRow:0,asset_id:i};if(this.cancellationSource.cancelled)return null;r.batch((()=>{e(VA({layers:[d],isUndoable:!0})),e(DE([{assetId:i,languageKey:this.options.voice.languageCode,status:{assetTranscriptionId:o._id,state:"completed",languageKey:this.options.voice.languageCode,words:o.words,job_params:{keep_whole:!0,provider_id:"tts",speaker_labels:!0}}}]))}));const c="9:16"===this.options.size.key,u={...this.options.preset,style:{...this.options.preset.style,verticalAlign:"bottom",fontSize:c?32:this.options.preset.style.fontSize},isSafezoneAware:c};i&&Jje({assetId:i,translateCode:void 0,languageKey:this.options.voice.languageCode,preset:u,resetFramesDirectly:!0});return{scriptDuration:l.duration||0,ttsAssetId:i,ttsLayerId:s.id}}async createMusicLayer(e,t,a){const{dispatch:n,state:s}=Mu();let o;if(Nb(s))try{const e=zje(this.options.script,100);o=await wRe(e,this.cancellationSource)}catch(b9e){console.error("Failed to fetch music keyword",b9e)}const i=await async function(e,t){const a=(await Gje({searchTerm:t||""})).sounds,n=a.filter((t=>t.duration>e)).sort((()=>Math.random()-.5))[0];return n||(console.error("Could not find a song that fits the duration"),a.sort(((e,t)=>t.duration-e.duration))[0])}(t,o);if(this.musicSource="default",!i)return void mb({description:"No music found for this script",sentryMessage:"ScriptToVideo: Failed to add music layer",extra:{script:this.options.script}});const r=await oie({url:i.source,options:{skipCML:!0,layerProperties:{duration:i.duration,type:Nc.Audio,startTime:0,endTime:t<i.duration?t:i.duration,videoDelay:e,volume:.1,timelineRow:a,isAIGeneratorMusic:!0},mediaInfo:{hasAudio:!0,type:Nc.Audio},useCustomVideoDelay:e}});if(!(null==r?void 0:r.asset_id)||"audio"!==r.type)return void pb({description:"Failed to add music layer",sentryMessage:"ScriptToVideo: Failed to add music layer",extra:{song:i}});let l=i.duration;for(;l<t;){const e={...r,endTime:t-l>i.duration?i.duration:t-l,videoDelay:l},a=Kpe(e,{dontModifyStartTime:!0});if(!(null==a?void 0:a.asset_id))return void pb({description:"Failed to add second music layer",sentryMessage:"ScriptToVideo: Failed to add music layer",extra:{song:i}});l+=i.duration}uk({},"layers.tsx",!1);const d=this.options.voice.languageCode;n(DE([{assetId:r.asset_id,languageKey:d,status:{state:"pending",languageKey:d,assetDuration:t,assetId:r.asset_id,progress:{conformed:!1,done:!1,downloaded:!1,extracted:!1,speech:0,trimmed:!1},transcriptionId:""}}])),n(DE([{assetId:r.asset_id,languageKey:d,status:{assetTranscriptionId:"",state:"completed",languageKey:d,words:[],job_params:{keep_whole:!0,speaker_labels:!0,provider_id:"music"}}}]))}getMaxTimelineRow(e){const{state:t}=Mu(),a=Object.values(t.studio.allLayers.byId),n=a.find((t=>t.id===e));if(n){const{start:e,end:t}=bp(n),s=a.filter((a=>{const{start:n,end:s}=bp(a);return n>=e&&s<=t}));return Math.max(...s.map((e=>e.timelineRow||0)))}return Math.max(...a.map((e=>e.timelineRow||0)))}handleLayerPositioning(e,t){if(this.options.visualFormat===jEe.bRollOnly)return;const{state:a}=Mu(),n=Gx(a),s=n.find((t=>t.id===e)),o=new Set(t),i=n.filter((e=>o.has(e.id)));if(s&&(this.options.visualFormat===jEe.bRollWithPersonaOverlay?dQ({layer:s}):cQ({layer:s})),this.options.visualFormat===jEe.personaWithBRollOverlay){const{canvasWidth:e,canvasHeight:t}=a.studioSizing.canvasDimensions,n=i.reduce(((a,n)=>{const s=Kue("topCorner",{canvasWidth:e,canvasHeight:t},{width:n.width||e,height:n.height||t});return a[n.id]={position:s,borderRadius:{relative:"5%"}},a}),{});uk(n,"layers.tsx",!1)}}async getYoutubeAssetFromUrl(e){const{asset:t}=await Qje({url:e,acceptAudio:!1,acceptImage:!1,acceptVideo:!0,progressCallback:()=>{},analyticsCallback:()=>{},additionalAssetParams:{skipCML:!0}});return t}async getYoutubeVideos(){const{jobId:e}=await Xf("/api/v1/ai/youtube-videos-from-script",{body:{script:this.options.script}}),t=await Zm({retreive:async()=>{const{job:t}=await Kf(`/api/v1/ai/youtube-videos-from-script/${e}`);return t},validate:e=>"pending"!==e.status,name:"youtube video extraction",options:{maxTime:9e4,backoffFactor:1,initialTimeout:3e3}});if("cancelled"===t.result)return{videos:[],debugLog:[{level:"error",message:`Youtube videos from search job timed out, job id ${e}`,timestamp:(new Date).toISOString(),context:"youtube search"}]};const a=t.resource;if("error"===a.status)return{videos:[],debugLog:[{level:"error",message:`Youtube videos from search job failed, job id ${e}. Message was: ${a.error}`,timestamp:(new Date).toISOString(),context:"youtube search"}]};const{videos:n,debugLog:s}=a;return{videos:n,debugLog:s}}async getAssetsFromYoutubeVideos(e){return{assetIds:(await Promise.allSettled(e.map((async e=>this.getYoutubeAssetFromUrl(e.url))))).filter((e=>"fulfilled"===e.status)).map((e=>e.value._id))}}async initializeMainExtractionJob({assetIds:e,bRollDebugLog:t}){if(e.length>0)try{const a={assetIds:e,bRollConfig:this.options.bRollConfig},n=(await Xf("/api/v1/asset/search/clipExtractionJob",{body:a})).extractionJobId;return t.push({context:"Asset Search Startup",message:`Created search collection with id ${n}`,timestamp:(new Date).toISOString(),level:"info"}),n}catch(b9e){return console.error("Failed to create search collection",b9e),t.push({context:"Failed to create search collection on frontend",message:b9e instanceof Error?b9e.message:String(b9e),timestamp:(new Date).toISOString(),level:"error"}),void ov("AI Clip Create Search Collection Failure",{assetIds:e,Type:"Custom",...Tv()})}}async initializeYoutubeExtractionJob({assetIds:e,bRollDebugLog:t}){if(e.length>0)try{const a={assetIds:e,bRollConfig:this.options.bRollConfig},n=(await Xf("/api/v1/asset/search/clipExtractionJob",{body:a})).extractionJobId;return t.push({context:"Youtube Asset Search Startup",message:`Created search collection with id ${n}`,timestamp:(new Date).toISOString(),level:"info"}),n}catch(b9e){return console.error("Failed to create youtube search collection",b9e),t.push({context:"Failed to create youtube search collection on frontend",message:b9e instanceof Error?b9e.message:String(b9e),timestamp:(new Date).toISOString(),level:"error"}),void ov("AI Clip Create Search Collection Failure",{assetIds:e,Type:"Youtube",...Tv()})}}async generate(){var e,t,a,n,s,o;const i=Date.now(),{dispatch:l}=Mu();this.setInitialVideoDelay(),this.updateCurrentVideoName(),r.batch((()=>{l(yz(md.MP4)),l(sq(this.options.size.key)),l(SK()),l(yK(!0)),l(vz({usedGenerateVideoFromScript:!0,usedGenerateVideoFromScriptPastPrompt:this.options.usingPastPrompt}))})),Nb(Mu().state)&&(async e=>{await Xf("/api/v1/users/updatePreferences/ai",{body:{aiPreferences:e},parseJSON:!1}),await Qf()})({aspectRatio:this.options.size,subtitlePreset:this.options.preset,visualFormat:this.options.visualFormat,personaId:this.options.visualFormat===jEe.bRollWithPersonaOverlay?this.options.personaId:void 0,voice:this.options.visualFormat===jEe.bRollOnly?this.options.voice:void 0}).catch(console.error);const d=[];let c=[];try{if((null==(e=this.options.bRollConfig)?void 0:e.youtubeSearchEnabled)&&!(null==(t=this.options.bRollConfig)?void 0:t.sourceLimitations)){const e=await this.getYoutubeVideos();d.push(...e.debugLog);c=(await this.getAssetsFromYoutubeVideos(e.videos)).assetIds,l(vz({numberCustomBRollYoutubeSearchAssets:c.length}))}}catch(b9e){let t=b9e instanceof Error?b9e.message:String(b9e);b9e instanceof KC&&b9e.debugMessage&&(t=`Extraction error: ${b9e.debugMessage}`),d.push({context:"Failed to extract video from youtube on frontend",message:t,timestamp:(new Date).toISOString(),level:"error"}),console.error(b9e)}if(null==(a=this.cancellationSource)?void 0:a.cancelled)return void aRe();const u=[...this.options.customBRollAssetIds||[]];let p,m;if(u.length>0&&(p=await this.initializeMainExtractionJob({assetIds:u,bRollDebugLog:d}),!p))return;if(c.length>0&&(m=await this.initializeYoutubeExtractionJob({assetIds:c,bRollDebugLog:d})),null==(n=this.cancellationSource)?void 0:n.cancelled)return void aRe();let g=0,h="",v="";const f=Date.now();try{const e=await this.createTTSAudioAndSubtitleLayers();if(!e)return;ov("AI TTS Generation Success",{"duration (seconds)":(Date.now()-f)/1e3,...Tv()});const{scriptDuration:t,ttsAssetId:a}=e;g=t,a&&(h=a),v=e.ttsLayerId,Mu().state.studio.duration>0&&WJ()}catch(b9e){console.error(b9e);const t=(new Error).stack;throw ov("AI TTS Generation Failure",{...Tv(),error:String(b9e)}),pb({description:"Failed to create tts layers",sentryMessage:"ScriptToVideo: failed to create tts layers",extra:{stackTrace:t,error:b9e}}),b9e}if(null==(s=this.cancellationSource)?void 0:s.cancelled)return void aRe();const b=Date.now(),y=this.getMaxTimelineRow(v),w=Date.now();await this.createMusicLayer(this.initialVideoDelay,g,y+1).catch((e=>{throw console.error(e),ov("AI Add Music Failure",{...Tv(),error:String(e)}),e})),ov("AI Add Music Success",{...Tv(),"duration (seconds)":(Date.now()-w)/1e3});const _=Date.now();if(null==(o=this.cancellationSource)?void 0:o.cancelled)return void aRe();const C=Date.now(),S=await(async({transcriptAssetIds:e,articleUrls:t,assetSearchExtractionJobId:a,youtubeSearchExtractionJobId:n,customBRollImageAssetIds:s,languageCode:o,timelineRow:i,initialVideoDelay:r=0,size:l,cancellationSource:d,entryPoint:c,bRollDebugLog:u=[],bRollConfig:p,isValidDefaultGeneration:m})=>{const g=[],h=[],v=Date.now();let f,b;if(a||n){tRe(eRe.PROCESSING_VIDEO_CLIPS);const e={shouldExitEarly:!1},t=(a?bRe({extractionJobId:a,bRollDebugLog:u,cancellationSource:d,pollSearchCollectionStart:v,type:"Custom"}):Promise.resolve(void 0)).catch((e=>{u.push({context:"Polling for search collection creation",additionalContext:"Extraction jobId: "+f,message:e instanceof Error?e.message:"Unknown error",timestamp:Date.now().toString(),trace:e instanceof Error?e.stack:void 0,level:"error"}),console.error("Error polling for search collection creation",e),ov("AI Clip Extraction Failure",{reason:e instanceof Error?e.message:"Unknown error",Type:"Custom",...Tv()})})).finally((()=>{e.shouldExitEarly=!0})),s=n?bRe({extractionJobId:n,bRollDebugLog:u,cancellationSource:d,pollSearchCollectionStart:v,type:"Custom",exitEarlyIfPossible:e}).catch((e=>{u.push({context:"Polling for youtube search collection creation",additionalContext:"Extraction jobId: "+f,message:e instanceof Error?e.message:"Unknown error",timestamp:Date.now().toString(),trace:e instanceof Error?e.stack:void 0,level:"error"}),ov("AI Clip Extraction Failure",{reason:e instanceof Error?e.message:"Unknown error",Type:"Youtube",...Tv()})})):Promise.resolve(void 0);[f,b]=await Promise.all([t,s])}return(null==d?void 0:d.cancelled)?void aRe():(await Promise.all(e.map((async e=>{const a=await iRe({asset_id:e,languageCode:o,useEverySentence:!0,preferVideo:!1,articleUrls:t,videoSearchCollectionId:f,youtubeSearchCollectionId:b,customBRollImageAssetIds:s,cancellationSource:d,bRollDebugLog:u,bRollConfig:p,isValidDefaultGeneration:m});if(a&&(g.push(...a.layerData),a.articleUrlResults)){const e=a.articleUrlResults.articleImages.map((e=>e.image));h.push(...e)}}))),(null==d?void 0:d.cancelled)?void aRe():await fRe({bRollLayers:g,scriptToVideo:!0,timelineRow:i,initialVideoDelay:r,articleImages:h,size:l,cancellationSource:d,addInBatches:!0,reduceLayerGaps:!0,entryPoint:c}))})({transcriptAssetIds:[h],articleUrls:this.options.bRollArticleUrls,assetSearchExtractionJobId:p,youtubeSearchExtractionJobId:m,customBRollImageAssetIds:this.options.customBRollImageAssetIds,languageCode:this.options.voice.languageCode,timelineRow:y+2,initialVideoDelay:this.initialVideoDelay,size:this.options.size,cancellationSource:this.cancellationSource,entryPoint:this.options.smartBrollAddAllEntryPoint,bRollDebugLog:d,bRollConfig:this.options.bRollConfig,isValidDefaultGeneration:this.options.isValidDefaultGeneration});S&&(this.handleLayerPositioning(v,S),this.options.onSuccess&&this.options.onSuccess());const x=Date.now(),I=Date.now();ov("AI Generation Times",{"Subtitle Duration":b-f,"Subtitle Type":this.options.voice.elevenLabsId?"elevenlabs":"google","Music Duration":_-w,"Broll Duration":x-C,"Music Type":this.musicSource,"Total Duration":I-i,...Tv()}),Zu(Ru.BROLL_IN_TRANSCRIPT)&&Tje(),JJ({time:0});const A=this.options.script.length/750,k=g/60;c_({[Bd.TTS]:k||A}),Mu().dispatch(Uj({showPostGenerationTooltip:!0}))}}const CRe="GenerateSocialVideoButton-module_createButtonWrapper_39fuo",SRe="KapwingToggle-module_toggleOff_nTbWN",xRe="KapwingToggle-module_toggleOn_kd4-E",IRe="KapwingToggle-module_disabled_b-vWP",ARe="KapwingToggle-module_sliderOff_I58sa",kRe="KapwingToggle-module_sliderOn_8Ylxu",TRe="KapwingToggle-module_label_BEQKL",ERe="KapwingToggle-module_container_AyH1p",LRe="KapwingToggle-module_grayBg_t2cDj",jRe="KapwingToggle-module_whiteBg_zaFH2",RRe=b.memo((({toggled:e,onClick:t,children:a,theme:n,testId:s,disabled:o,toggleHeight:i})=>{const r=n===h_.Workspace?`${ARe} ${jRe}`:ARe,l=i?{width:i,height:i}:{};return i&&e&&(l.marginLeft=i),f.jsxs("div",{className:ERe,children:[f.jsx("div",{className:TRe,children:a}),f.jsx("div",{className:L({[xRe]:e,[SRe]:!e,[LRe]:!e&&n===h_.Workspace,[IRe]:o}),onClick:o?()=>{}:t,"data-testid":`${s}-kapwing-toggle`,style:i?{width:2*i,height:i}:{},children:f.jsx("div",{className:e?kRe:r,style:l})})]})})),NRe="AudioComponents-module_toolsButton_QvqpI",MRe="AudioComponents-module_toolsIcon_aa6Dk",PRe="AudioComponents-module_toolCompact_X-RC6",FRe="AudioComponents-module_audioPlayerAnimation_VBF5i",DRe="AudioComponents-module_equalizer_bqBT2",ORe="AudioComponents-module_equalizerBar_RHAdO",URe="AudioComponents-module_equalizerBarPaused_ljouu",BRe=e=>{const{state:t}=Mu(),{recordWithOverlay:a,displayCompact:n}=e,{recordSet:s}=t.recordAudio;if(ore())return null;let o=()=>{s?(()=>{const{dispatch:e}=Mu();e(Ete())})():(()=>{const{dispatch:e}=Mu();e(Tte())})()};return a&&(o=()=>{aR("/studio/editor/overlay/record/audio")}),f.jsxs("button",{type:"button",className:`${NRe} ${n&&PRe}`,onClick:o,children:[f.jsx("img",{className:MRe,src:"https://cdn-useast1.kapwing.com/static/Sle-recordButtonIcon.webp",alt:"record button icon"}),"Record"]})},WRe=e=>{const{audioPlaying:t}=e;return t?f.jsx("div",{className:FRe,children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:DRe,viewBox:"0 0 128 128",children:f.jsxs("g",{children:[f.jsx("title",{children:"Audio Equilizer"}),f.jsx("rect",{className:ORe,transform:"translate(0,0)",y:"15"}),f.jsx("rect",{className:ORe,transform:"translate(25,0)",y:"15"}),f.jsx("rect",{className:ORe,transform:"translate(50,0)",y:"15"}),f.jsx("rect",{className:ORe,transform:"translate(75,0)",y:"15"}),f.jsx("rect",{className:ORe,transform:"translate(100,0)",y:"15"})]})})}):f.jsx("div",{className:FRe,children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:DRe,viewBox:"0 0 128 128",children:f.jsxs("g",{children:[f.jsx("title",{children:"Audio Equilizer"}),f.jsx("rect",{className:URe,transform:"translate(0,0)",y:"15"}),f.jsx("rect",{className:URe,transform:"translate(25,0)",y:"15"}),f.jsx("rect",{className:URe,transform:"translate(50,0)",y:"15"}),f.jsx("rect",{className:URe,transform:"translate(75,0)",y:"15"}),f.jsx("rect",{className:URe,transform:"translate(100,0)",y:"15"})]})})})},VRe="UploadDragOverlay-module_dragUploadLabel_iRD-p",HRe="UploadDragOverlay-module_dragUploadLabelHeader_ru4q3",zRe="UploadDragOverlay-module_loading_6BBjk",GRe="UploadDragOverlay-module_loader_g8LyR",YRe="UploadDragOverlay-module_overlayInput_-feWi",KRe={marginRight:10,marginBottom:5},XRe=b.memo((({handleDragUpload:e,uploading:t})=>t?f.jsx("div",{className:"upload-container","data-cy":"upload-container-loading",children:f.jsxs("div",{className:zRe,children:[f.jsx("div",{className:GRe}),f.jsx("span",{children:"Uploading Files"})]})}):f.jsxs("div",{style:{height:"400px"},children:[f.jsx("input",{className:YRe,accept:"image/*,video/mp4,video/*",onChange:t=>e(t.target&&t.target.files),type:"file"}),f.jsx("label",{htmlFor:"uploader-input",className:VRe,children:f.jsx("div",{children:f.jsxs("div",{className:HRe,children:[f.jsx(ca,{size:23,style:KRe}),"Drag here to upload"]})})})]}))),ZRe="OverlayWrapper-module_overlayBackground_uvVCR",qRe="OverlayWrapper-module_overlayContainer_BtDL4",JRe="OverlayWrapper-module_overlayContainerPadding_RYe7Y",$Re="OverlayWrapper-module_exit_rN-YK",QRe="OverlayWrapper-module_overlayContent_JOs09",eNe="OverlayWrapper-module_overlayInput_OM2on";let tNe=class extends i.Component{constructor(){super(...arguments),a(this,"escFunction",(e=>{27===e.keyCode&&this.handleClose()})),a(this,"handleClose",(()=>{const{dragUpload:e,hideDragUploadDialog:t,navigate:a}=this.props;e?t&&t():a(-1)}))}componentDidMount(){document.addEventListener("keydown",this.escFunction,!1)}componentWillUnmount(){document.removeEventListener("keydown",this.escFunction,!1)}getContainerStyle(){return this.props.biggerPadding?JRe:qRe}render(){const{showDragUploadDialog:e,handleDragUpload:t}=this.props;return f.jsxs("div",{children:[f.jsx("div",{className:ZRe,onClick:this.handleClose,"data-cy":"overlay-background"}),e&&t&&f.jsx("input",{className:eNe,accept:"image/*,video/mp4,video/*",onClick:e=>{this.handleClose(),e.preventDefault()},onChange:e=>{t(e.target&&e.target.files)},type:"file",multiple:!0}),f.jsxs("div",{style:this.props.maxWidth?{maxWidth:`${this.props.maxWidth}px`}:void 0,className:this.getContainerStyle(),children:[f.jsx("div",{className:$Re,onClick:this.handleClose,children:f.jsx(R,{})}),f.jsx("div",{className:QRe,children:this.props.children})]})]})}};const aNe=vC(tNe);class nNe extends i.Component{constructor(e){super(e),a(this,"timer"),a(this,"startTimer",(()=>{this.setState({timerOn:!0,timerStart:Date.now()}),this.timer=window.setInterval((()=>{this.setState({timerTime:Date.now()-this.state.timerStart})}),10)})),a(this,"stopTimer",(()=>{this.setState({timerOn:!1}),clearInterval(this.timer)})),a(this,"renderCalculatedTime",(()=>{const{saveAudio:e,showToast:t}=this.props,{timerTime:a}=this.state,n=("0"+Math.floor(a/10)%100).slice(-2),s=("0"+Math.floor(a/1e3)%60).slice(-2),o=("0"+Math.floor(a/6e4)%60).slice(-2);return Number(o)/60==2&&(e(!0),t({description:"You've reached the max time limit (2 hour) on audio.",type:"warning"})),f.jsxs(f.Fragment,{children:[o," : ",s," : ",n]})})),this.state={timerOn:!1,timerStart:0,timerTime:0}}componentDidUpdate(){const{recording:e}=this.props,{timerOn:t}=this.state;e&&!t&&this.startTimer()}componentWillUnmount(){this.stopTimer()}render(){return f.jsx("div",{className:"Stopwatch",children:f.jsxs("div",{className:"Stopwatch-display",children:[this.renderCalculatedTime()," "]})})}}const sNe=r.connect(void 0,(e=>j({showToast:db},e)))(nNe),oNe={workspacePopoverZIndex:"18",popoverZIndex:"14",paywallZIndex:"1001",paywallBgZIndex:"1000",home:"AudioRecorder-module_home_ZpUzM",homeHowBackgroundWhite:"AudioRecorder-module_homeHowBackgroundWhite_ZmuWB",largeButton:"AudioRecorder-module_largeButton_cU2BR",sectionContent:"AudioRecorder-module_sectionContent_mvxuR",sectionHeader:"AudioRecorder-module_sectionHeader_lMF-y",spacer:"AudioRecorder-module_spacer_xYuU-",chevron:"AudioRecorder-module_chevron_cWmDS",splashText:"AudioRecorder-module_splashText_xgeCs",splashSubtext:"AudioRecorder-module_splashSubtext_bZ6sD",aboutSection:"AudioRecorder-module_aboutSection_ZvMxf",mobile:"AudioRecorder-module_mobile_nGWcp",desktop:"AudioRecorder-module_desktop_1BksM",screenReaderOnlyLabel:"AudioRecorder-module_screenReaderOnlyLabel_H1GlW",disabled:"AudioRecorder-module_disabled_5N-si",disabledWithPointerEvents:"AudioRecorder-module_disabledWithPointerEvents_837jC",noScrollBar:"AudioRecorder-module_noScrollBar_y2drx",textOverflowEllipsis:"AudioRecorder-module_textOverflowEllipsis_moqlv",disableTextHighlight:"AudioRecorder-module_disableTextHighlight_HlwNO",genericButtonBlue:"AudioRecorder-module_genericButtonBlue_Ewleu",audio:"AudioRecorder-module_audio_1EhGW",recordControlsContainer:"AudioRecorder-module_recordControlsContainer_T35tR",clear:"AudioRecorder-module_clear_bAfI6",recordAudioButton:"AudioRecorder-module_recordAudioButton_biT4W",stopAudioButton:"AudioRecorder-module_stopAudioButton_hCyRf",disabledStop:"AudioRecorder-module_disabledStop_TvprF",disabledRecord:"AudioRecorder-module_disabledRecord_VDcl4",link:"AudioRecorder-module_link_Xmdtu",backButton:"AudioRecorder-module_backButton_VxHyA",ringContainer:"AudioRecorder-module_ringContainer_XvbAc",circle:"AudioRecorder-module_circle_hsYdv",circleGrey:"AudioRecorder-module_circleGrey_Lydtv",ringring:"AudioRecorder-module_ringring_HGAcQ",pulsate:"AudioRecorder-module_pulsate_btpqx",btn:"AudioRecorder-module_btn_hDuUp",stop:"AudioRecorder-module_stop_Y9HM-",studioRecordControlsContainer:"AudioRecorder-module_studioRecordControlsContainer_DtoHx",recordTopSectionContainer:"AudioRecorder-module_recordTopSectionContainer_POSO6",recordBottomSectionContainer:"AudioRecorder-module_recordBottomSectionContainer_gEntA",recordTextContainer:"AudioRecorder-module_recordTextContainer_JsT3J",recordEquilizerContainer:"AudioRecorder-module_recordEquilizerContainer_rtKc3",recordBottomContainer:"AudioRecorder-module_recordBottomContainer_SoDSW",to_24:"AudioRecorder-module_to_24_5cc-V",to_60:"AudioRecorder-module_to_60_oFwFS",to_100:"AudioRecorder-module_to_100_YCTOB",time:"AudioRecorder-module_time_4PSKA"};class iNe extends b.Component{constructor(e){super(e),a(this,"stream",null),a(this,"mediaRecorder",null),a(this,"chunks",[]),a(this,"stopRecording",(()=>{var e;null==(e=this.mediaRecorder)||e.stop(),this.setState({recording:!1,doneRecording:!0}),this.saveAudio(),this.stopBrowserRecording()})),a(this,"saveAudio",(()=>{const{audios:e}=this.state,t=new Blob(this.chunks,{type:"audio/wav"}),a=window.URL.createObjectURL(t),n=e.concat([a]);this.setState({audios:n}),t.lastModifiedDate=new Date,t.name="browserRecording.wav",this.finishRecording(t)})),a(this,"clearFunction",(()=>{const{unsetRecord:e}=this.props;e()})),a(this,"startOrStopRecording",(e=>{const{recording:t}=this.state,a=document.getElementById("btn"),n=!a.checked;n&&!t&&(a.checked=!0,this.startRecording(e)),!n&&t&&(a.checked=!1,this.stopRecording())})),a(this,"renderStartButton",(()=>{const{recording:e}=this.state;return e?f.jsx("div",{className:[oNe.recordAudioButton,oNe.disabledRecord].join(" "),children:"RECORD"}):f.jsx("div",{onClick:e=>{this.startRecording(e),this.renderStartButton()},className:oNe.recordAudioButton,children:"RECORD"})})),a(this,"renderStopButton",(()=>{const{recording:e}=this.state;return e?f.jsx("div",{onClick:this.stopRecording,className:oNe.stopAudioButton,children:"STOP"}):f.jsx("div",{className:[oNe.stopAudioButton,oNe.disabledStop].join(" "),children:"STOP"})})),a(this,"renderStudioRecordingButton",(()=>f.jsxs("div",{children:[f.jsx("input",{type:"checkbox",className:oNe.btn,id:"btn"}),f.jsx("span",{onClick:e=>this.startOrStopRecording(e)})]}))),a(this,"renderNoAccessMessage",(()=>f.jsxs("div",{className:oNe.recordControlsContainer,children:[f.jsx("div",{onClick:()=>this.clearFunction(),children:f.jsx(ua,{size:"30",className:oNe.clear})}),f.jsx("div",{children:"The browser does not have access to the device's microphone. Enable access and refresh the page in order to record an audio track."}),f.jsxs("div",{className:oNe.backButton,onClick:()=>{this.clearFunction()},children:[" ","Back"]})]}))),a(this,"renderRecordIndicator",(()=>{const{recording:e}=this.state;return e?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:oNe.ringring}),f.jsx("div",{className:oNe.circle})]}):f.jsx("div",{className:oNe.circleGrey})})),a(this,"renderOneoffRecorder",(()=>{const{audios:e,doneRecording:t}=this.state;return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:oNe.recordControlsContainer,children:[f.jsx("div",{onClick:()=>this.clearFunction(),children:f.jsx(ua,{size:"30",className:oNe.clear})}),f.jsx("div",{children:"Add a recorded audio track using your device's microphone. Don't worry you can re-record!"}),t?null:f.jsxs("div",{children:[f.jsx("div",{className:oNe.ringContainer,children:this.renderRecordIndicator()}),f.jsxs("div",{className:oNe.recordControlsContainer,children:[this.renderStartButton(),this.renderStopButton()]})]})]}),f.jsx("div",{className:oNe.recordControlsContainer,children:e.map(((e,t)=>f.jsxs("div",{children:[f.jsx("audio",{controls:!0,src:e,className:oNe.audio}),f.jsxs("div",{children:[f.jsx("div",{className:oNe.recordAudioButton,onClick:()=>this.finishRecording(),children:"Use as Audio Track"}),f.jsx("div",{className:oNe.link,onClick:()=>this.deleteAudio(e),children:"Re-record audio track"})]})]},`audio_${t}`)))})]})})),a(this,"renderStudioRecorder",(()=>{const{recording:e,doneRecording:t}=this.state;return t?null:f.jsxs("div",{className:oNe.studioRecordControlsContainer,children:[this.renderStudioRecordingButton(),f.jsxs("div",{className:oNe.recordTopSectionContainer,children:[f.jsx("div",{className:oNe.recordTextContainer,children:e?"Recording ...":"Start Recording "}),f.jsx("div",{className:oNe.recordEquilizerContainer,children:f.jsx(WRe,{audioPlaying:e})})]}),f.jsx("div",{className:oNe.recordBottomSectionContainer,children:f.jsx("div",{className:oNe.recordTextContainer,children:f.jsx(sNe,{recording:e,saveAudio:this.saveAudio})})})]})})),this.state={recording:!1,audios:[],doneRecording:!1,notAllowed:!1}}componentDidMount(){this.requestAccessToMicrophone()}componentWillUnmount(){this.clearFunction()}async requestAccessToMicrophone(){try{this.stream=await navigator.mediaDevices.getUserMedia({audio:!0}),this.mediaRecorder=new MediaRecorder(this.stream),this.chunks=[],this.mediaRecorder.ondataavailable=e=>{e.data&&e.data.size>0&&this.chunks.push(e.data)}}catch(e){this.setState({notAllowed:!0})}}startRecording(e){e.preventDefault(),this.mediaRecorder&&(this.chunks=[],this.mediaRecorder.start(10),this.setState({recording:!0}))}stopBrowserRecording(){this.stream&&(this.stream.getAudioTracks().forEach((e=>{e.stop()})),this.stream=null)}deleteAudio(e){const t=this.state.audios.filter((t=>t!==e));this.setState({audios:t,doneRecording:!1})}finishRecording(e){const{unsetRecord:t,handleMultiFileUpload:a}=this.props;e&&a([e]),t()}render(){const{notAllowed:e}=this.state;return e?this.renderNoAccessMessage():this.renderStudioRecorder()}}const rNe=r.connect(void 0,(e=>j({setRecord:Tte,unsetRecord:Ete},e)))(iNe),lNe=["https://www.googleapis.com/auth/drive.readonly"];function dNe(e){return{type:"REMOVE_GOOGLE_DRIVE_PENDING_UPLOAD",filename:e,progress:0}}const cNe=({isMediaLibraryUpload:e,handlePremptiveFinish:t,handleFinish:a,replace:n})=>{const s=Bu(),{GOOGLE_DRIVE_API_KEY:o}=Du((e=>({GOOGLE_DRIVE_API_KEY:e.config.GOOGLE_PLUGINS_KEY})),Ou),r=i.useRef(void 0),l=function(e){const{requestAPI:t,state:a}=i.useContext(uve),n="error"===a.loading,s=!n&&("loaded"!==a.loading||"loaded"!==a.apiLoading[e]);return i.useEffect((()=>{t(e)}),[e,t]),{loading:s,error:n}}("picker"),d=l.loading,c=l.error,u=i.useCallback((o=>{(null==o?void 0:o.action)&&"picked"!==o.action||(null==o?void 0:o.docs)&&Array.isArray(o.docs)&&0!==o.docs.length&&o.docs.forEach((async o=>{const i=`https://www.googleapis.com/drive/v3/files/${o.id}?alt=media`;if(!r.current)throw new Error("No access token");const l=`https://google-drive.kapwing.workers.dev?url=${encodeURIComponent(i)}&accessToken=${encodeURIComponent(r.current.accessToken)}`;let d="image";if(o.mimeType.includes("image")||o.mimeType.includes("video"))try{const c=o.mimeType.includes("image"),u=c&&_I.includes(o.mimeType);if(!c||u||n){if(o.mimeType.includes("video")||u||n){d="video";const{name:e="Google Drive Upload",lastEditedUtc:l}=o;s({type:"ADD_GOOGLE_DRIVE_PENDING_UPLOAD",filename:e,progress:0});const c=await fetch(i,{headers:{Authorization:`Bearer ${r.current.accessToken}`}}).then((t=>{const a=t.headers.get("content-encoding"),n=t.headers.get(a?"x-file-size":"content-length");if(null===n)throw Error("Response size header unavailable");const o=parseInt(n,10);let i=0;return new Response(new ReadableStream({start(a){if(!t||!t.body)return;const n=t.body.getReader(),r=()=>{n.read().then((({done:t,value:n})=>{t?a.close():(n&&n.byteLength&&(i+=n.byteLength),s(function(e,t){return{type:"UPDATE_GOOGLE_DRIVE_PENDING_UPLOAD",filename:e,progress:t}}(e,Math.round(i/o*100))),a.enqueue(n),r())})).catch((e=>{console.error(e),a.error(e)}))};r()}}))})).then((e=>e.blob())),u=new File([c],e,{lastModified:l,type:o.mimeType});s(dNe(o.name)),C9([u],{eventHandlers:{handlePreemptiveFinish:t,handleFinish:a},uploadOptions:{analyticsUploadSource:"Google Drive",uploadSourceComponent:"Upload",replace:n,doDuplicateHandling:!0}})}}else{d="image";const t=`https://www.googleapis.com/drive/v3/files/${o.id}?fields=imageMediaMetadata/width,imageMediaMetadata/height`;let a=0,n=0;try{const e=await fetch(t,{headers:{Authorization:`Bearer ${r.current.accessToken}`}}),{imageMediaMetadata:s}=await e.json();({width:a,height:n}=s)}catch(b9e){console.error("Could not fetch image metadata from google drive.")}oie({url:l,options:{layerProperties:{name:o.name,mime:o.mimeType},...a&&n&&{mediaInfo:{type:Nc.Image,height:n,width:a}},pluginId:"google-drive",isMediaLibraryUpload:e}})}ov("Add from Google Drive",{assetType:d,succeeded:!0})}catch(b9e){const{message:t}=ub(b9e);ov("Add from Google Drive",{assetType:d,succeeded:!1,error:t})}else s(db({description:`Failed to import. Could not match mimetype ${o.mimeType}`,type:"warning"}))}))}),[s,e,a,t,n]),p=i.useCallback((()=>{if(!r.current)throw new Error("No access token");const{google:e}=window,t=new e.picker.DocsView(e.picker.ViewId.DOCS_IMAGES_AND_VIDEOS).setIncludeFolders(!0).setParent("root");(new e.picker.PickerBuilder).addView(t).setOAuthToken(r.current.accessToken).setDeveloperKey(o).enableFeature(e.picker.Feature.MULTISELECT_ENABLED).enableFeature(e.picker.Feature.NAV_HIDDEN).setCallback((e=>{u(e)})).build().setVisible(!0)}),[o,u]),m=i.useCallback((async()=>{c?s(db({description:"Failed to load google drive, try reloading the page.",type:"error"})):d?s(db({description:"Loading items in background. Please wait one moment before performing that action.",type:"warning"})):Zhe((async e=>{r.current=e,p(),dR()}),lNe,r.current)}),[p,s,d,c]);return i.useCallback((()=>{m()}),[m])},uNe=["https://www.googleapis.com/auth/photoslibrary"],pNe=()=>Mu().state.googlePhotos.token,mNe=async(e,t,a)=>Zhe((t=>{var a;return a=t,(0,Mu().dispatch)(lte.setToken(a)),e(t)}),t,a||pNe()),gNe=async(e,t=!1)=>{const a=Mu().dispatch;try{return await mNe((async e=>{const{email:t}=await Kf("/api/v1/google/getUserEmail",{params:{accessToken:e.accessToken}}),n=t||"user@kapwing.com";return a(lte.setEmail(n)),n||""}),uNe,e)}catch(n){throw a(lte.setEmail(void 0)),!t&&n instanceof Hf&&cb({description:"Connection failed. You need a valid Google Photos account.",error:n,sendToSentry:!0}),n}},hNe=async()=>{const e=Mu().dispatch,t=pNe();(0,Mu().dispatch)(lte.setToken(void 0)),e(lte.setEmail(void 0)),t&&await Xhe(t)},vNe="GoogleDropdown-module_dropdownTrigger_2R1oQ",fNe="GoogleDropdown-module_dropdownContent_sUwti",bNe="GoogleDropdown-module_dropdownItem_E7DrS",yNe="GoogleDropdown-module_ml_8s8xu";function wNe({...e}){const t=Bg(),a=Bu(),n=cNe(e),s=i.useRef(null),[o,r]=i.useState(),l=i.useCallback((()=>{a(A4.close()),dR(),a(t?yj(Jj.MEDIA_CONTROLS):m0({tabId:rK.media,tabContainerId:"media-sidebar"})),a(Nh(!0)),a(rj("googlePhotos")),gNe()}),[t,a]);i.useEffect((function(){const e=new ResizeObserver((e=>{var t;for(const a of e){const e=a.borderBoxSize&&(null==(t=a.borderBoxSize[0])?void 0:t.inlineSize)||a.contentRect.width;r(e)}}));return s.current&&e.observe(s.current),()=>{e.disconnect()}}),[]);const d=i.useMemo((()=>o?{width:o}:{}),[o]);return f.jsxs(lr,{children:[f.jsxs(dr,{className:vNe,ref:s,children:["Import from Google ",f.jsx(pa,{className:yNe})]}),f.jsxs(ur,{className:fNe,align:"start",children:[f.jsxs(pr,{className:bNe,style:d,onClick:n,children:[f.jsx("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAMAAAAOusbgAAABxVBMVEVHcEwYgDjHjkA0qFNBhvRUilgbgjRChfRAhPNGjv37vAT7vAT7vAMfnFP/rgkzqFM0qFIzqFMyqVL+vgA0qFM0qFP7vAQ0qFMwqlL7vAP7vAQ0qFM0qFP7vATrQjH8uAD7vAP7vAQ0qFLqRTMzp1X5uwcYgDj7vAT8vAQzqFI0qFMYZ9IZac40qFP9vgXpQzb8vAMvqVMXZ9P7vAT7vAMzqFIzp1MyqVM0qFPqQzUzp1L7vQP7vAMaaNj7uwP8vAP8vAMzqFP6vAQcadUZZ9JChfRBhPRodsn7vAPqQjT/vAAYZdPqQjMYZ9IYZ9IzqFLrQzTrQzQYZ9I0qFPpQTTrQzQyfOkWgTfqQzTqQzU0qFPrQzQYZtIYZ9IZZ9IYgThChfVChvTqQzQnhDUagzpBhPS4VWwxfdRMhOibcIte///7hdI0qFP7vARChfQZZ9LqQzUYgDgzplcdcrztVyz6uAUfa9dAg/IxeeYwo08kkUMZgjk6gO4pmknLT1ndSEQmcN3yugZXfdzktglIgu15miEagTcdhz1FjC0ohDSHaaUgiz+ZY5G+rBEfgjajpRd3cLhgkyeNnx21WHHbtAutW3pXkClgN6lpAAAAanRSTlMAvAPt1AEU/LoH/ewkBQclaf4cG7mqPswJoND4/cYTDGH45lxOS7OD8aLYxF5bL/2xDpKq2HRCO5a/LVdpE7uUc9F941PmfP7k7REbcfE/io7T+35M4Clpm0CGLHKo2efzpqi9vabg5NTl7SKApgAABZhJREFUaN7tmvlTU1cYhtOk15YbspJAQgIYCTsh7KssomyKoGJxX7q3M+ektQuLBVtEEGwFpdi/t0lIyN3O+b6be+hMZ/L+au48vifvt5wbbLaSSiqppP9IrnMMuc6SeqexsfEjhtL/dOeMsH1fPXnG1ZMvL54BVmpx/MnnPtt97wxL4rkRsv4bH3ywRWPCyYNRQsgmH3xIKZXDYrneCyQjruUDmgHPnhfJ7WrJcsk67xs+plmF6wQW71LkBExes7l7Wyfg2KRdGHg4mONy8rW/TXPqKRd20PfJqZ6zDO9s5cG0SdRh918qgNcZh713fMql1ZViuP5BohCjpA4LhikdrxDSOuIOJXjdsH+9Vxim1Nkgoo14AkSlTYN8HbxVcqncKSBfoURUDV43yNfONlWTR9zWDbcSjTZ1+dpTG87ky7LlrkWik87y0ZYWbL2k/A49WJsvdbJO1Gwx2KEqQiDLu0fUQDWWvmXJ7yMgeWfLCCxbsmw35qpKav+QGkq2Miu8hKHniiZNGbIwmP0RFrhQUvpSyitW9GFLwShhWs4d9gHTsIUtaMDB5J5Oqb1tJpg6K4stJR8bnLO8f8TmUrnIkvJyDKeV6SK7/1CenEXly3OJy82W1P5bLri4ln2fbzhTUuxSyjfOJvPceCvATS9+B8cAWO5tML3RDkYgMNk8pJBi42b7V+7qwNUFJwimsyYvkOdafDB4uAMGy+Gr5u7C8EGToMs9BpNjE6Z6VgDmEr/NVgGD6ViHiWnYh+B6QzabewJBnsDnK45JlifzyXJMvtAl1bUEcyP92Z3d3iDD5ElkvlyJKAwOeE4+XF6DSPYI7rD9QcRB9+dndiXisMOolSDkRSRr0J//eMU4Il/n3QKmUkZVA4UKqKyGwZgpFVqEudGlUOGBuiZEvuCLheRB9KzAsPKRDkT/agYtuxA9y+FVXX/tE80wuRP6luOIZAX96kOq6EGUFLT4tcLc1rj2oZFemNzL5y5iDIe0T9UhLFPuFmR3IErJo3+uA9G/nLz2VQWP/0iLwYsVqQcuKbmG0ztgw76A4QsdO8Yys6RCiGQ5+oyfnYRLSu51F3d1yPasAOt/PQYfNuNiIfmrEIYHWLHETKlqwyklITbpaAs7IIh8NY8bBWQAnkpRRxcbfBW2LBu9Xu0KIvaOPl4TmMRs2foplUBEuorf9hCDuXcEelVqqH4+uAHROHWvVxGlRAaB3w/dYUQX0dyl+hGlFB0G3kJLHYhdpEadLy+ilLwhaItwX0TcpVSWhwPYqwNf5bOIb1l5l0rAhn1xxFbuRuQrpgx2wvS+w7LciViyFalI/AQqXoZSg/wrJOWoaP8Z0rcf4/Td979AqleCfwC0spZC6t3vPwIyBUZzU6k3SRPgK5f53D828OCZF3zuZ7cV4NFuQQedtcw/7Bu1ilRLfMtmDKdSL//mGq5X1d+1R8IMp/PFO+y7teqVaaGNY3jVHPjVB2a+kjfvaVpOWfctpuGNlEmx85W8oV1xXcttAkopr79Y+Rp6oB+m3dcZhlfNg18yLM/NG4z00TYhyeKW1FCt0WQxLqliDKfz9QLsHYpktwnjpg/byPIQY6Rfe2xQSqkiZWD5Zi1rWXukK6mVVNHSWU5+wV4THwsopdOS0hnmLKkPbwkzrD3sZHKetzNp8rVhBTyjSRZ3WVuw1KQ1JaWaUskH/DVRNZgtcTUldRe4hYwqGueaRfArRb7maqHfQR5amEqclj0PXgcKLduq4bTlN/wmrZ6PV4QkK2f5Qw58G3H/yS1+K2vWuanVd0ndgsfO18J1MQddyNfcPdTfd5W1C0mW4mJRj/ytzd5uqUlrVgI81ybZ2i9viALPfFNv5ufUsumpqaefWNbTqanpMlN/8yJJtuXpzz+1qK+nl20llVRSSSX9f/UvwsmeZl+1QmsAAAAASUVORK5CYII=",alt:""}),"Google Drive"]}),f.jsxs(pr,{style:d,className:bNe,onClick:l,children:[f.jsx("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAMAAAAOusbgAAABOFBMVEVHcExBhfX9vgAzqFM+iPU2qlPtQzZndWGzglzvPTgzp1H7vQPqQjXqQzU0qFJChPTrQzT5uQA3qEw0qVLqQjUzqFNBhfRBhfQ0qFPrQjQzqFJChfT8vAP7vAP7vAM0qFL7vAPqQzU0qFL/uADqQzToRTbqQjX7vQRBhfQ0qFP8vQP7vAQzqVNChfXrQzVChvX8uwQzp1JBhfX6vAVChfTrQjVChfT8vwMzp1JCgvHrQjX6vAMzqVPrQjZAg/VBhfQ0qFP7uwQzqFPqQzT6vAP8vARGhvb7vARBhfRChfTqQjTqQzUzqFNChfVBhvRChvRChfPqQzT7vQRBhfT7vAQ0qVMzqFPrQzX/uwBChfT7uwP7vQTqQzRChfTqQTRBhPTqQzX7uwQzp1M0vPTqQzU0qFP7vARChfRNu1DRAAAAY3RSTlMALwrXCAsZAQIIL3Ys1uDadBsGGNz6UYmMNnf+mkr1YuD7nQeUDkvUXvKPx8OhWzc4OGou9GXVJh8ewF9CQhmwq0FMilTvDfpE+8rzUuMVdd2g15NqWWzwFMNdrantVHLrvOnEf5JAAAAD6klEQVRo3u3ZB1MiMRQH8IALCaACKk2poiJioViwd9TT07Oe5bw2u/H7f4Pjyjh6x+6+l9nlzc34/wD8Jtnk5SUw9pa3WIT7U6lef6D7cGp36N3KeWR2dt0vugqv6H8yNBaZ6ObA9Rfp213gJLCufx37TAP/HPU4Dawff5qggfVCX4QGbn/pCBGsH0eIYP14gQjWhyY4DayP+YlgfSFABH9cFzSw7nIJM4f1FCeCx8aJ4IKfCNZnBRHcFyCCdTK4lwqOUMHvqOCC2m+KoncpVJG/kq2ElrxFgYR1FdUbvb+Qr1PKRL0uw+K2mj6QHTLVuHUT9m5PSbOkq0W3YB69ykrz7K823IF5Ji0tc/Btm7uxqq/y0i6ljHB+H4ey0j6lPa/TlQvkSnmxJ5yt1aF9CUspw508nfbyEprStoPncfThAAzLbw07eALcgUxl4a48WC3awOCe6z4vMdmvOtRliimJS/rWEoauaX61j4Rlwwo+h850ETtgKae8FnenFHSiM3k0LKOmcAF8WxQhvCszwgxeAVetaFoBLhXNasc6uGipzLSUXhMXXjvYvYorlzq7s/AqzVeV4FBndxzRVIaU4ErHecbcmZYelODsv/toBfX4wRsVJVj+UzcWkDe16oUj8KcU9mq6nXcAPu/Fvz4o1Y9X8NBnv8prC69W1OFC325vIOD+vzBiwBccno4ZP/Okkk2PyhOYr7nTYzxHCX5KnKLZweCo8TJqcHgOyQ7UXrOK8NEiEg7myoYT8NOdB7Wm1v4sqJcZUXFHZpYx0/xyTT0nrDTisxZiMV93co2EEjyJGG9n1/C4DIudzq6hqbgfDsHwmolraO8V4MsN8D6aNnENEVeAv0DLui8XM4PZMt5djEMHXCsbpnBrBl+pNWh93jLMYYZe14918Bc2rOCNTWTZugR/4VFLmM094vYSeBM3DWu4VT9CuPMJcO04sYGZ5w5xIm6Ce4CBfjuYHS6CP3A4Dj8dDFtYxKHy4xni9LeHmTYJOx7nES5LAmDWmoSMef4LpvHogcBMA8z2+zqq0YqBYCYO72x21Uwc1+EZMJgxT92qkszXl7lLMGvNmVfPy0MN2UojYMY2PDOdu8q5U/zNCgMz1lqO/92ThCc3WioXOhzMuNA0TyL8u98eWUx4NE3xGomEnUsPFZykgoNUsI8KBpzHLr145IhgPkgE23aZ7n3kGhHMBkeJYLEWo4GZ74YIZs0tIpiffKeBGbuJEcFsuEwEm8isG3J/jAZm11tlGpg1k/00MGO5ZJkGZgM3r0fNuhffyfDosz3NuhnR3Mnlhreme/qTNdbtcF8zWFsb5Kz7EYK95X/JDycnJbfcjvKFAAAAAElFTkSuQmCC",alt:""}),"Google Photos"]})]})]})}const _Ne="MediaLibraryContainerUploadZone-module_screenReaderOnlyLabel_bZO2Q",CNe="MediaLibraryContainerUploadZone-module_container_Bs1vw",SNe="MediaLibraryContainerUploadZone-module_input_BpHaj",xNe="MediaLibraryContainerUploadZone-module_content_VbPym",INe="MediaLibraryContainerUploadZone-module_addIcon_B6HyV",ANe=b.memo((({acceptedFileTypes:e,handleMultiFileUpload:t,isAudio:a=!1,label:n=(a?"Add Audio":"Add Media")})=>{const s=`upload-button-input-${g()}`;return f.jsxs("div",{className:CNe,children:[f.jsx("label",{htmlFor:s,children:f.jsx("span",{className:_Ne,children:"Click to Upload"})}),f.jsxs("div",{className:xNe,children:[f.jsx(ma,{className:INe}),f.jsx("span",{children:n})]}),f.jsx("input",{className:SNe,"data-testid":"media-library-container-upload-input","data-cy":"media-library-container-upload-input",id:s,accept:e,onChange:e=>{var a;return t(null==(a=null==e?void 0:e.target)?void 0:a.files)},type:"file",multiple:!0})]})})),kNe=new Set(["https://www.youtube.com/watch?app=desktop","https://www.png","https://www.youtube.com","https://www.youtube.com/","https://www.youtube.com/watch?reload=9","https://www.google.com/url?sa=t",""]),TNe=/^https:\/\/www.kapwing.com\/(videos|c).*/,ENe=e=>{const t=e.split("/shorts/")[1]||e.split("/live/")[1];return`https://www.youtube.com/watch?v=${null==t?void 0:t.split("?")[0]}`},LNe="PasteLink-module_screenReaderOnlyLabel_8ZkfU",jNe="PasteLink-module_container_ItTaM",RNe="PasteLink-module_input_Hp-EG",NNe="PasteLink-module_lightInput_cfp-r",MNe="PasteLink-module_newTimelineInputMobile_mjkBv",PNe="PasteLink-module_inputContainer_1QXL3",FNe="PasteLink-module_icon_Cgd0h",DNe="PasteLink-module_newTimelineInputDesktop_i-AwY",ONe="PasteLink-module_sparkle_OAyZr",UNe="PasteLink-module_rightPadding_nxryP",BNe=b.memo((({isTimeline:e,lightTheme:t,audioUpload:a,audiogramUpload:n,disallowVideo:s,setProgressText:o,stopUpload:r,audiogramUploadStart:l,isMediaLibraryUpload:d,analyticsUploadSource:c,handlePreemptiveFinish:u,cancellationSource:p,acceptImage:m,className:h,placeholder:v,handleInvalidPastedLink:b,validatePastedLink:y})=>{const[w,_]=i.useState(!1),{videoId:C}=Du((e=>({videoId:e.studio._id})),Ou),S=Bu(),x=Xu().PASTED_LINK_INSTABILITY,I=rse(),A=gg(Fd.PASTED_LINK),{pastedLink:k}=BK(),T=i.useMemo((()=>({didError:!1,stage:Au.PreExtractValidation,pastedUrl:"",uploadSource:c,isMediaLibraryUpload:d})),[c,d]),E=i.useRef(T),j=i.useCallback((e=>{E.current={...E.current,...e}}),[]),R=i.useCallback((()=>{ov("Add from Pasted Link",{...E.current})}),[]),N=i.useCallback((e=>{let t=e.substring(0,Math.min(50,e.length));return e.length>50&&(t+=" ..."),t}),[]),M=i.useCallback((()=>{r(),o(""),E.current=T,null==p||p.reset()}),[p,T,o,r]),P=i.useCallback(((e,t)=>{console.error(t);const a="client-side-error"===t.cause;j({errorMessage:ub(t).message,didError:!a});const n=a?`Sorry, that pasted URL (${N(e)}) didn't work. ${ub(t).message}`:t.message;r(),o(""),a||R(),S(db({description:n,type:"error"}))}),[S,N,R,o,r,j]),F=i.useCallback((e=>{j({stage:Au.PreExtractValidation,pastedUrl:e});const t=e=>({valid:!1,message:e}),a=e=>({valid:!0,link:e}),n=N(e);if(!jI(e))return t(`${n} is not a valid URL`);if(e.includes("www.kapwing.com")&&!TNe.test(e))return t(`${n} is not a valid URL. Try a link to a specific video instead such as https://www.kapwing.com/videos/63503f4177ecc9008b7011a3`);if(kNe.has(e))return t(`${n} is not a valid URL. Try a link to a specific video instead such as https://www.youtube.com/shorts/EwAsLiM3vgs`);const s=function(e){return"mpd"===e.split(".").pop()}(e);return s?t("MPD files are not currently supported. Please try a different file format."):e.includes("instagram.com/reel/")?a(e.replace("/reel/","/p/")):e.includes("youtu.be/")||e.includes("youtube.com/")?a((e=>{let t=e;if((t.includes("/shorts/")||t.includes("/live/"))&&(t=ENe(t)),t.includes("/youtu.be/")){const e=t.split("/")[3];return e?`https://www.youtube.com/watch?v=${e.split("?")[0]}`:t}return t.includes("app=")&&(t=`${t.split("app=")[0]}${t.split("&")[1]}`),t.split("&")[0]})(e)||""):a(e)}),[N,j]),D=i.useCallback((async e=>{const t=(null==x?void 0:x.status)===ju.ON,a=Qx(e),i=(null==x?void 0:x.message)===a;t&&(!x.message||i)&&S(db({description:"We are currently experiencing instability with our third party providers. You may experience issues with links pasted from the given site.",type:"warning"})),j({stage:Au.Extraction}),o(`Fetching ${N(e)} ...`);const{asset:r,cmlFile:l,extractInfo:d}=await Qje({acceptAudio:!s||n||!1,acceptVideo:!s,acceptImage:m,additionalAssetParams:{video_id:C},progressCallback:o,analyticsCallback:j,url:e,doDuplicateHandling:!Pu.forceNewAssets});return{asset:r,cmlFile:l,extractInfo:d}}),[m,n,s,S,N,x,o,j,C]),O=i.useCallback((async(e,t,a)=>{var n;j({stage:Au.LayerCreation});const s=await(async(e,t,a,n)=>{let s;if(a.url)s=await vI(a.url,{name:a.url,type:a.mime},XC.HIGH);else{if(!a.hasUploadedAssetDuplicate||!e.url)throw Error("No url to extract");s=await vI(e.url,{name:e.name,type:e.content_type},XC.HIGH)}const o=s.type;if(!o)throw new $v("Could not identify media type",{extra:{mediaInfo:s,asset:e,extractInfo:a}});let i={};a.height&&a.width&&(i={height:a.height,width:a.width});const r=((null==t?void 0:t.duplicate)||a.hasUploadedAssetDuplicate)&&e.status===td.uploaded?"upload":"pastedLink",l=e.status===td.uploaded,d={...L4(),name:e.name||k4(),asset_id:e._id,conversion_id:e.conversion_id||a.conversion_id,mime:a.mime,requireConversion:a.requireConversion,conversion_type:a.conversion_type,source:r,objectFit:"cover",isMediaLibraryUpload:n,...s,...i,type:o,uploadPending:!l};return Object.assign(d,vJ(d)),Vp(d),t&&(d.cmlFileId=t._id),n||rv(d.type,"paste link"),a.thumbnailUrl&&(d.thumbnailUrl=a.thumbnailUrl),d})(e,t,a,!!d);return s.requireConversion&&s.conversion_type&&s.conversion_type.includes("gif-to")&&(s.type=Nc.Video),(null==(n=e.url)?void 0:n.includes("googlevideo.com/video"))&&(s.assetSource="Youtube"),s}),[d,j]),U=i.useCallback((async({newLayer:e,asset:t,cmlFile:a})=>{j({stage:Au.HandleFinish}),null==u||u(e,{singleFileUpload:!0}),d||c9({assetId:t._id,source:"Pasted Link"}),j({stage:Au.Finish,isDuplicate:!!(null==a?void 0:a.duplicate)}),o(""),R()}),[u,d,R,o,j]),B=i.useCallback((e=>{if(!A){I((()=>{}),{action:Dd.PASTED_LINK})(),e.target.blur()}}),[A,I]),W=i.useCallback((async e=>{if(A)try{if(n&&(null==l||l()),null==p?void 0:p.cancelled)return M();const t=(y||F)(e);if(!t.valid){if(b)return b(e),M();throw new Error(t.message,{cause:"client-side-error"})}if(null==p?void 0:p.cancelled)return M();const{asset:a,cmlFile:s,extractInfo:o}=await D(t.link);if(null==p?void 0:p.cancelled)return M();const i=await O(a,s,o);if(null==p?void 0:p.cancelled)return M();U({newLayer:i,extractInfo:o,cmlFile:s,asset:a})}catch(t){P(e,t)}}),[n,l,null==p?void 0:p.cancelled,O,D,b,M,P,U,A,F,y]);i.useEffect((()=>{k&&W(k)}),[W,k]);const V=i.useMemo((()=>v||(a?"Paste an audio or video URL (e.g. https://www.youtube.com/watch?v=C0DPdy98e4c)":m?"Paste an image or video URL (e.g. https://www.youtube.com/watch?v=C0DPdy98e4c)":"Paste a video URL (e.g. https://www.youtube.com/watch?v=C0DPdy98e4c)")),[m,a,v]),H=i.useMemo((()=>a?"Paste an audio or video URL":m?"Paste an image or video URL":"Paste a video URL"),[m,a]),z=i.useMemo((()=>`upload-link-input-${g()}`),[]),G=i.useCallback((e=>({className:L(RNe,{[NNe]:t,[DNe]:"desktop"===e,[MNe]:"mobile"===e,[UNe]:!A},h),placeholder:"desktop"===e||"non-responsive"===e?V:H,type:"url",onChange:e=>W(e.target.value),value:"",onFocus:e=>{B(e)}})),[h,W,B,A,t,V,H]),Y=i.useCallback((()=>{_(!1)}),[]);return f.jsxs("div",{className:jNe,children:[e?f.jsx(f.Fragment,{children:f.jsxs("div",{className:PNe,children:[f.jsx("input",{...G("desktop"),"data-cy":"pasted-link-input"}),f.jsx("input",{...G("mobile"),"data-cy":"pasted-link-input"}),f.jsx("div",{className:FNe,children:!A&&f.jsx(_se,{className:ONe})})]})}):f.jsxs("label",{htmlFor:z,children:[f.jsx("span",{className:LNe,children:"Paste a URL"}),f.jsxs("div",{children:[f.jsx("input",{id:z,...G("non-responsive"),"data-cy":"pasted-link-input"}),f.jsx("div",{className:FNe,children:!A&&f.jsx(_se,{className:ONe})})]})]}),w&&f.jsx(ene,{hideSignIn:Y})]})})),WNe="Sample-module_sampleButton_IJDto",VNe=b.memo((({audioUpload:e,handleFinish:t,disallowVideo:a,uploadLocation:n,toolTip:s})=>{const[o,r]=i.useState(!1),l=i.useCallback((()=>{let t="default";return e&&(t="audio"),(a||"removeBackground"===n||"remove-image-background"===s)&&(t="remove-image-background"),"convert"!==n&&"subtitles"!==s||(t="subtitles"),t}),[e,a,n,s]),d=i.useCallback((async()=>{r(!0);try{vEe(l(),t)}catch(b9e){cb({description:"Something went wrong when adding the sample. Please try again.",error:b9e}),r(!1)}}),[l,t]);return f.jsx(fke,{id:cZ.AddSample,position:"bottom",align:"center",portal:!0,children:f.jsxs("button",{type:"button",onClick:d,"data-cy":"add-sample",className:L(WNe),disabled:o,children:["Try a sample",o&&f.jsx(v_,{theme:h_.Studio})]})})})),HNe="Upload-module_screenReaderOnlyLabel_kj9db",zNe="Upload-module_container_5Y6cL",GNe="Upload-module_uploadContainer_ysuPP",YNe="Upload-module_uploadOverlayThemeContainer_-XA32",KNe="Upload-module_uploadOverlayThemeContainerTaller_clFYf",XNe="Upload-module_uploadBRollThemeContainer_OTI8U",ZNe="Upload-module_uploadTextContainer_RZUvu",qNe="Upload-module_uploadText_u4z6x",JNe="Upload-module_uploadButton_-tU-f",$Ne="Upload-module_uploadButtonGroup_kZwID",QNe="Upload-module_uploadLabel_PYCHP",eMe="Upload-module_uploadLabelHeader_nHsKv",tMe="Upload-module_uploadLabelSubheader_-9xaG",aMe="Upload-module_uploadIcon_fkOiN",nMe="Upload-module_uploadLabelHeaderMediaLibrary_C-EJA",sMe="Upload-module_uploadLabelSubheaderMediaLibrary_KoPJp",oMe="Upload-module_or_sI3nj",iMe="Upload-module_loading_0jCv4",rMe="Upload-module_loader_mgJKK",lMe="Upload-module_lightThemeDarkText_s7AeG",dMe="Upload-module_pastedLinkAndRecordButtonContainer_rV8Bz",cMe="Upload-module_pastedLinkFlexContainer_LHVQE",uMe="Upload-module_recordButtonContainer_sdyrM",pMe="Upload-module_audioCompactContainer_5jBQi",mMe="Upload-module_audioCompactPasteLink_gUJO1",gMe="Upload-module_audioCompactRecord_jWZCl",hMe="Upload-module_darkButton_IbzWT",vMe="Upload-module_override_ItVTH",fMe="Upload-module_progressText_9L4oO",bMe="UploadFromPhone-module_mr5_hEMFW",yMe="UploadFromPhone-module_sampleButton_7BmgC",wMe="UploadFromPhone-module_overlay_In-3n",_Me="UploadFromPhone-module_content_byBak",CMe="UploadFromPhone-module_instructions_hf4-I",SMe="UploadFromPhone-module_qrHeader_9BtBV",xMe="UploadFromPhone-module_closeQR_bopyd",IMe="UploadFromPhone-module_mobileIcon_Cl5l6",AMe="UploadFromPhone-module_qrCode_QP64M",kMe="UploadFromPhone-module_spinner_ftLj1",TMe=b.memo((({isOpen:e,onClose:t,uploadCode:a})=>{const n="undefined"!=typeof document?document.body:null;if(!n)return null;const s=`${window.location.origin}/upload/${a}`;return N.createPortal(f.jsxs(Gr,{open:e,onOpenChange:t,children:[f.jsx(Yr,{className:wMe}),f.jsxs(Kr,{className:_Me,children:[f.jsxs("div",{className:SMe,children:[f.jsx(ga,{className:xMe,onClick:t}),f.jsx(ha,{className:IMe}),f.jsx("div",{children:"Upload from phone"})]}),a?f.jsx(va,{value:s,size:108,className:AMe}):f.jsx("div",{className:kMe}),f.jsx("div",{className:CMe,children:"Scan this QR code with your phone to upload media to this project."})]})]}),n)})),EMe=b.memo((()=>{const e=Bg(),t=Du((e=>e.studio._id)),[a,n]=i.useState(!1),[s,o]=i.useState(null),[r,l]=i.useState(!1),[d,c]=i.useState(!1),u=Du((e=>e.studioLocal.isProjectFetched)),p=i.useCallback((()=>c(!1)),[]),m=i.useCallback((function(e){const{state:t}=Mu();return Nb(t)?e:()=>(l(!0),null)}),[]),g=i.useCallback((()=>l(!1)),[]);async function h(){if(s)c(!0);else{n(!0),c(!0);try{if(!t)throw new Error("Project not ready yet");const e={videoId:t},a=await Zf("/api/v1/upload-link",{params:e});o(a.uploadCode),ov("Requested Mobile Upload Link")}catch(b9e){c(!1),cb({description:"We couldn't generate a link for you to upload from.",error:b9e})}n(!1)}}return e?null:f.jsxs(f.Fragment,{children:[r&&f.jsx(ene,{hideSignIn:g,onSuccess:h}),f.jsx(TMe,{isOpen:d,onClose:p,uploadCode:s}),f.jsxs("button",{type:"button",onClick:m(h),"data-cy":"mobile-upload",className:yMe,disabled:a||!u,children:[a||!u?f.jsx(fa,{className:bMe}):f.jsx(ha,{className:bMe}),"Upload from phone"]})]})}));function LMe({acceptedFileTypes:e,audioUpload:t,fontUpload:a,handleMultiFileUpload:n,isMediaLibraryUpload:s,multiple:o,uploadLocation:i,uploadOverlayTheme:r,uploadBRollTheme:l=!1,hideSample:d}){const c=b.useRef(null),u=JNe,p=QNe;let m=eMe,h=tMe;s&&(m+=` ${nMe}`,h+=` ${sMe}`);const v=Bg(),y=`upload-button-input-${g()}`;return f.jsx(Hme,{step:zB.Studio_UploadAFile,side:"top",align:"start",sideOffset:8,children:f.jsx(fke,{id:"blank"===i?cZ.Upload:cZ.OtherUpload,portal:!0,updatePositionStrategy:"always",children:f.jsx("div",{className:l?XNe:r?d?KNe:YNe:GNe,"data-cy":"upload-square",children:f.jsxs("label",{htmlFor:y,className:p,children:[f.jsx("span",{className:HNe,children:"Click to Upload"}),f.jsx("input",{"data-cy":"upload-input","data-testid":"upload-input",id:y,ref:c,className:u,accept:e,onChange:e=>{var t;n(null==(t=null==e?void 0:e.target)?void 0:t.files),$X(zB.Studio_UploadAFile),c.current&&(c.current.value="")},type:"file",multiple:o}),f.jsx("div",{className:ZNe,children:f.jsxs("div",{className:qNe,children:[f.jsxs("div",{className:m,children:[(()=>{const e=v?"Press":"Click";return t?`${e} to upload audio`:a?`${e} to upload a .ttf or .otf file`:`${e} to upload`})(),f.jsx(ma,{className:aMe})]}),!l&&f.jsx("div",{className:h,children:"or, drag and drop a file here"})]})})]})})})})}const jMe=()=>{},RMe=b.memo((({addToStoreAfterUpload:e,analyticsUploadSource:t,audioUpload:a,audiogramUpload:n,audiogramUploadStart:s,disallowVideo:o,displayCompact:r=!1,files:l,fontUpload:d,handleCancel:c,handleError:u,handlePreemptiveFinish:p,handleFinish:m,hideDragUploadDialog:g,hideLoadingIndicator:h,hidePastedLink:v,hideSample:b,includeRecordButton:y=!0,isMediaLibraryUpload:w,isMediaLibraryContainer:_,mediaLibraryContainerLabel:C,lightTheme:S,multiple:x,oneOffDragUpload:I,recordMode:A,recordWithOverlay:k,sampleClassNames:T,textClassNames:E,uploadLocation:L,uploadOverlayTheme:j,createWorkspaceAsset:R,createTeamAsset:N,replace:M,doDuplicateHandling:P,convertToAudio:F,popover:D,fromCustomBRoll:O,validatePastedLink:U,handleInvalidPastedLink:B})=>{const[W,V]=i.useState(null),[H,z]=i.useState(""),[G,Y]=i.useState(!1),[K,X]=i.useState(!1),{toolTip:Z,uploadStatuses:q}=Du((e=>({toolTip:e.toolTip,uploadStatuses:e.uploadStatuses})),Ou),J=i.useCallback((async s=>{if(!s)return;Y(!0),d&&X(!0);const{uploadIds:i}=await C9(s,{eventHandlers:{handleCancel:e=>{V((t=>t?t.filter((t=>t!==e)):null)),X(!1),c&&c(e)},handleError:u,handlePreemptiveFinish:p,handleFinish:(e,t)=>{m&&m(e,t),d&&X(!1)}},uploadOptions:{addToStoreAfterUpload:e,analyticsUploadSource:t,audioUpload:a,fontUpload:d,isMediaLibraryUpload:w,uploadLocation:L,uploadSourceComponent:"Upload",createWorkspaceAsset:R,createTeamAsset:N,replace:M,doDuplicateHandling:P,convertToAudio:F},validationOptions:{audioUpload:a,audiogramUpload:n,disallowVideo:o,fontUpload:d}});Y(!1),V(i)}),[d,u,p,e,t,a,w,L,R,N,M,P,F,n,o,c,m]);i.useEffect((()=>{l&&!W&&J(l)}),[l,J,W]);const $=LI({audioUpload:a,audiogramUpload:n,disallowVideo:o,fontUpload:d}),Q=()=>f.jsx(BNe,{audiogramUpload:n,audioUpload:a,disallowVideo:o,handlePreemptiveFinish:p,lightTheme:S,setProgressText:z,stopUpload:ee,audiogramUploadStart:s,isMediaLibraryUpload:w,analyticsUploadSource:t,validatePastedLink:U,handleInvalidPastedLink:B,placeholder:O?"Paste a video, article, or blog post URL (e.g. www.nytimes.com/2023/03/07/learning/learning-with-the-timess-anatomy-of-a-scene.html)":void 0}),ee=()=>{z(""),V(null);for(const e of W||[])k9(e)};if(A)return f.jsx(rNe,{handleMultiFileUpload:J});const te=!!W&&W.some((e=>{var t,a;return(null==q?void 0:q[e])&&(null==(t=null==q?void 0:q[e])?void 0:t.stage)!==KS.done&&(null==(a=null==q?void 0:q[e])?void 0:a.stage)===KS.errored}))||!!H||G||K;if(te&&!h){let e=iMe;S&&(e+=` ${lMe}`),E&&(e+=` ${E}`);let t="";for(const a of W||[]){const e=null==q?void 0:q[a];e&&e.progressText&&(t=e.progressText)}return H&&(t=H),f.jsx("div",{className:"upload-container","data-cy":"upload-container-loading",children:f.jsxs("div",{className:e,children:[f.jsx("div",{className:rMe}),f.jsx("div",{className:fMe,children:w?"":t})]})})}return I?f.jsxs(aNe,{hideDragUploadDialog:g,handleDragUpload:J,showDragUploadDialog:!0,dragUpload:!0,children:[f.jsx("div",{className:"drag-header",children:"Upload video or image"}),f.jsx(XRe,{handleDragUpload:J,uploading:te})]}):n?f.jsxs(f.Fragment,{children:[f.jsx(LMe,{acceptedFileTypes:$,multiple:x,audioUpload:a,handleMultiFileUpload:J,uploadOverlayTheme:j,fontUpload:!1,isMediaLibraryUpload:!1,uploadLocation:L}),f.jsx("div",{className:oMe,children:""}),Q()]}):_?f.jsx(ANe,{acceptedFileTypes:$,isAudio:a||!1,handleMultiFileUpload:J,label:C}):f.jsxs("div",{className:zNe,children:[f.jsx(LMe,{acceptedFileTypes:$,audioUpload:a,fontUpload:d,handleMultiFileUpload:J,isMediaLibraryUpload:w,multiple:x,uploadOverlayTheme:j,uploadBRollTheme:!!O,uploadLocation:L,hideSample:b}),f.jsx("div",{className:oMe,children:""}),!v&&!d&&(a&&!ore()&&y?f.jsxs("div",{className:`${dMe} ${r&&pMe}`,children:[f.jsx("div",{className:`${cMe} ${r&&mMe}`,children:Q()}),f.jsx("div",{className:`${uMe} ${r&&gMe}`,children:f.jsx(BRe,{recordWithOverlay:k,displayCompact:!0})})]}):Q()),!b&&f.jsxs("div",{className:$Ne,children:[f.jsx(wNe,{isMediaLibraryUpload:w,handlePremptiveFinish:p,handleFinish:m,replace:M}),f.jsx(EMe,{}),!w&&f.jsx(VNe,{audioUpload:a,handleFinish:p||jMe,classNames:`${T} ${hMe} ${vMe}`,disallowVideo:o,uploadLocation:L,toolTip:Z,popover:D})]})]})})),NMe="CustomBRoll-module_wrapper_HjoLx",MMe="CustomBRoll-module_label_CQRq2",PMe="CustomBRoll-module_descriptionLabel_4nkdt",FMe="CustomBRoll-module_royaltyFreeOption_qLZVd",DMe="CustomBRoll-module_bRollOnlyOption_6XmyM",OMe="CustomBRoll-module_uploadContainer_aR7u-",UMe="CustomBRoll-module_uploadIcon_dqOh2",BMe="CustomBRoll-module_uploadLabel_KX3w-",WMe="CustomBRoll-module_brollList_Qb5DA",VMe="CustomBRoll-module_uploadButton_tC6w5",HMe="CustomBRoll-module_broll_dxlX-",zMe="CustomBRoll-module_brollImageSection_X1WEt",GMe="CustomBRoll-module_brollImage_-sRss",YMe="CustomBRoll-module_brollName_IP-Wl",KMe="CustomBRoll-module_deleteBRoll_IjUGb",XMe="CustomBRoll-module_closeIcon_q-szb",ZMe="CustomBRoll-module_divider_Rsl5i";function qMe(){const e=Du((e=>e.bRoll.socialVideoCustomBRoll))||[],t=Bu(),a=Aje("aiGeneratorOnlyUseCustomBroll")||!1,n=Aje("aiGeneratorRoyaltyFree")||!1,s=e=>{if(!("video"===e.type&&e.duration&&e.duration>1200)){if(e.asset_id){const a=Mu().state.assets.byId[e.asset_id];if(!a)throw Error("Layer had asset id but no asset");return t($U({newBRollItem:{id:e.id,name:e.name,asset:a}})),t(A4.close()),e}return t($U({newBRollItem:{id:e.id,name:e.name,loading:!0}})),t(A4.close()),e}pb({description:"The video is too long. Custom B-Roll only supports videos that are 20 minutes or shorter."})},o=(e,a)=>{t($U({newBRollItem:{id:e.id,name:e.name,asset:a}})),t(A4.close())},i=e=>{t(A4.close());const a=g();jI(e)?lje.some((t=>e.includes(t)))?pb({description:"Kapwing does not support this website. Please enter a URL of an article or blogpost"}):(t($U({newBRollItem:{id:a,name:e,loading:!0}})),dje({url:e,onExtractionStart:e=>{},onExtractionValidationError:()=>{t(QU({id:a})),pb({description:`The URL: "${e}" is unsupported for this feature, please try a different link.`,sentryMessage:"Link validation for custom bRoll input failed."})},onExtractionError:n=>{t(QU({id:a})),pb({description:`Extracting article info failed for: ${e}`,sentryMessage:"Extracting article info for custom bRoll input failed."})},onExtractionSuccess:(n,s)=>{t($U({newBRollItem:{id:a,name:e,article:{articleUrl:e,articleOgTags:s}}}))}})):pb({description:`Please paste a valid URL. You entered "${e}".`})},r=e=>["youtube","youtu.be","instagram.com","tiktok.com"].some((t=>e.includes(t)))?{valid:!0,link:e}:{valid:!1,message:"Use article extraction flow"},l=e=>{t(A4.open({analyticsUploadSource:"Custom BRoll",mediaLibrary:!0,hideSample:!0,fromCustomBRoll:!0,handlePreemptiveFinish:s,handleFinish:o,handleInvalidPastedLink:i,validatePastedLink:r})),e.stopPropagation()};return f.jsxs("div",{className:NMe,children:[f.jsx("div",{className:MMe,children:"Add Custom B-Roll"}),f.jsx("div",{className:PMe,children:"Kapwing will automatically find relevant B-roll assets for your project, but you can also upload your own assets if you want Kapwing to include them as well. Or, paste a link to an article, blog post, or video, and Kapwing will pull relevant assets from that source."}),0===e.length?f.jsx("div",{className:OMe,children:f.jsx(RMe,{analyticsUploadSource:"Custom BRoll",handlePreemptiveFinish:s,handleFinish:o,validatePastedLink:r,handleInvalidPastedLink:i,uploadOverlayTheme:!0,multiple:!0,uploadLocation:"uploadOverlay",isMediaLibraryUpload:!0,doDuplicateHandling:!0,hideSample:!0,fromCustomBRoll:!0})}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:WMe,children:[f.jsxs("div",{className:VMe,onClick:l,children:[f.jsx(ma,{className:UMe}),f.jsx("div",{className:BMe,children:"Add media or paste a link"})]}),e.map(((e,t)=>f.jsx(JMe,{upload:e},t)))]}),f.jsxs("div",{className:DMe,children:["Only use custom B-roll (no stock content)"," ",f.jsx(RRe,{toggled:a||!1,onClick:()=>{BP({aiGeneratorOnlyUseCustomBroll:!a})}})]})]}),f.jsx("div",{className:ZMe}),f.jsx("div",{className:MMe,children:"Stock content settings"}),f.jsxs("div",{className:FMe,children:["Use royalty-free assets only",f.jsx(RRe,{toggled:n&&!a,onClick:()=>{BP({aiGeneratorRoyaltyFree:!n})},disabled:a})]}),f.jsx("div",{className:PMe,children:"Toggle this on to only use royalty free images and videos with a creative commons license. May result in lower quality output."})]})}function JMe({upload:e}){const[t,a]=i.useState(!1),n=Bu(),{name:s,asset:o,article:r}=e;return f.jsxs("div",{className:HMe,onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:[t&&f.jsx("div",{className:KMe,onClick:()=>n(QU({id:e.id})),children:f.jsx(R,{className:XMe})}),f.jsx("div",{className:zMe,children:(()=>{var e;if(!o&&!r)return f.jsx(iye,{fontSize:20});if(o){const{url:e,content_type:t,pasted_link_thumbnail:a}=o;return t&&t.includes("video")?a?f.jsx("img",{className:GMe,alt:s,src:a}):f.jsx("video",{className:GMe,src:e,muted:!0}):f.jsx("img",{className:GMe,alt:s,src:e})}if(r){const{articleOgTags:t}=r,{ogImage:a}=t;if(a&&(null==(e=a[0])?void 0:e.url))return f.jsx("img",{className:GMe,alt:s,src:a[0].url})}})()}),f.jsx("div",{className:YMe,children:e.name})]})}const $Me="SubtitleStyles-module_label_Dq9-K",QMe="SubtitleStyles-module_descriptionLabel_aEnu6",ePe="SubtitleStyles-module_container_wyguK",tPe="SubtitleStyles-module_list_fda8M";function aPe({preset:e,isSelected:t,setSelectedPreset:a,onSelect:n}){const s=i.useCallback((()=>{a(e),null==n||n()}),[n,e,a]);return f.jsx(foe,{preset:e,isSelected:t,onClickPreset:s,viewOnly:!0})}const nPe=Hy;function sPe({setSelectedPreset:e,selectedPreset:t,onSelect:a}){const n=Bg(),{presets:s,brandkitPresets:o}=Q2(),r=i.useMemo((()=>{const e=[...o,...s].filter((e=>e.presetId!==nPe.presetId));return[nPe,...e]}),[s,o]);return i.useEffect((()=>{setTimeout(ba,1)}),[r]),f.jsxs("div",{className:ePe,children:[f.jsx("span",{className:$Me,children:"Subtitle Style"}),f.jsx("div",{className:QMe,children:"The subtitle styling and animations for your project. This can be edited later."}),f.jsx("div",{className:tPe,children:r.map((s=>f.jsx(ya,{placeholder:f.jsx(Vle,{width:"100px",height:"100px",borderRadius:5}),offset:n?800:200,overflow:!0,children:f.jsx(aPe,{preset:s,isSelected:s.presetId===t.presetId,setSelectedPreset:e,onSelect:a},s.presetId)},s.presetId)))})]})}const oPe=({selectedSize:e,selectedPreset:t,enforceSignIn:a,selectedVoice:n,setCancelFn:s,onClose:o,selectedLanguage:i,selectedVisualFormat:r,selectedPersona:l,setLoading:d,setLoadingTime:c})=>{const u=Ju(Ru.PRIVATE_REPLICATE_DEPLOYMENT_FOR_SEMANTIC_SEARCH),p=Du((e=>(e.bRoll.socialVideoCustomBRoll||[]).some((e=>e.loading)))),m=Bg(),g=Du(FAe),h=null==g?void 0:g.isSampleScript,v=Du((e=>e.studioLocal.ai.bRollConfig)),b=Ju(Ru.BROLL_BING_IMAGES_PUPPETEER),y=Du((e=>e.bRoll.socialVideoCustomBRoll)),{customBRollAssetIds:w,customBRollArticleUrls:_,customBRollImageAssetIds:C}=function(e){const t=[],a=[],n=[];return e.forEach((e=>{e.asset?e.asset.content_type&&e.asset.content_type.includes("video")?t.push(e.asset._id):e.asset.content_type&&e.asset.content_type.includes("image")&&n.push(e.asset._id):e.article&&a.push(e.article.articleUrl)})),{customBRollAssetIds:t,customBRollArticleUrls:a,customBRollImageAssetIds:n}}(y||[]),S=()=>{var a;return h&&e.key===_Ee.key&&t.presetId===nPe.presetId&&"en-US-Polyglot-1"===n.name&&r===jEe.bRollOnly&&l===((null==(a=Object.values(Gp)[0])?void 0:a.personaId)||"")&&0===w.length&&0===C.length&&0===_.length},x=zd((null==g?void 0:g.content)||""),I=Bu(),A=!g||GLe(g.content)||p,k=async()=>{const a=!!w.length||!!C.length||!!_.length,p=!!Ije(Mu().state,"aiGeneratorOnlyUseCustomBroll"),m=!!Ije(Mu().state,"aiGeneratorRoyaltyFree"),h=!!Zu(Ru.BROLL_YOUTUBE_SEARCH),f=m,y=!f&&!p&&h,A=!(!p||!a);if(n.elevenLabsId?c(140):c(70),d(!0),I(vz({numberCustomBRollVideoAssets:w.length,numberCustomBRollImageAssets:C.length,numberCustomBRollArticleUrls:_.length,customBRollOnly:A,usedAIGeneratorAutoYoutubeSearch:y,usedRoyaltyFreeBroll:f})),ov("Started TTS Video Generator",{"Aspect Ratio":e.key,Voice:`${n.label} - ${n.languageCode} - ${n.name}`,"Premium Voice":void 0!==n.elevenLabsId,"Preset ID":t.presetId,"Persona Id":r===jEe.bRollOnly?"None":l,Duration:x,"Used Past Prompt":!1,Source:aje(),Sample:sje(),"Visual Format":REe[r],"Auto YouTube Search Enabled":y,...Tv()}),!g)return;const k=Lje(g.content);try{const d=[..._];let c;g.articleURL&&d.unshift(g.articleURL),A?c="only-custom":f&&(c="only-royalty-free");const p=new _Re({script:k,bRollArticleUrls:d,customBRollAssetIds:w,customBRollImageAssetIds:C,size:e,language:i,voice:n,preset:t,tab:wa.Video,usingPastPrompt:!1,visualFormat:r,personaId:l||void 0,smartBrollAddAllEntryPoint:"script-to-video",bRollConfig:{...v,useBingPuppeteer:b,coverage:A?1:.3,usePrivateReplicateDeployment:!!u,noCache:a||y,sourceLimitations:c,youtubeSearchEnabled:y},onSuccess:o,isValidDefaultGeneration:S()});s((()=>{p.cancel()})),await p.generate()}catch(b9e){const{message:s}=ub(b9e);ov("TTS Video Generator Failed",{"Aspect Ratio":e.key,Voice:`${n.label} - ${n.languageCode} - ${n.name}`,"Premium Voice":void 0!==n.elevenLabsId,"Preset ID":t.presetId,"Persona Id":l||"none",Duration:x,"Used Past Prompt":!1,Source:aje(),Sample:sje(),"Visual Format":REe[r],...Tv(),Error:s}),cb({description:"Failed to generate video.",error:b9e})}d(!1)};return f.jsxs("div",{className:CRe,children:[m&&f.jsx(xje,{onClick:()=>{(null==g?void 0:g.isCustomScript)?I(Dte.setStep("generate-script")):I(Dte.setStep("script-chat"))},width:"small",label:"Back"}),f.jsx(_je,{disabled:A,width:"full",label:"Generate Video",onClick:S()?k:a(k)})]})},iPe="ScriptChat-module_scriptChatWrapper_vRQHc",rPe="ScriptChat-module_scriptChatActionBar_-WlKz",lPe="ScriptChat-module_scriptChatBottomRow_bpzYq",dPe="ScriptChat-module_scriptChatBottomActionBarActionsContainer_-BnQO",cPe="ScriptChat-module_scriptChatBottomActionBarActions_43BJX",uPe="ScriptChatConversation-module_scriptChatConversationList_qFgWQ",pPe="ScriptChatConversation-module_chatConversation_Wh32K",mPe="LLMResponseArea-module_llmResponseContainer_UdQtQ",gPe="LLMResponseArea-module_answerQuestionLLMResponseArea_1Mtiq",hPe="LLMResponseArea-module_errorLLMResponseArea_3nM-5",vPe="LLMResponseArea-module_loadingLLMResponseArea_G38XT",fPe="LLMResponseArea-module_scriptEditorTextArea_A3tz5",bPe=({response:e,maxHeight:t})=>f.jsx("div",{className:mPe,style:{maxHeight:`${t}px`},children:(()=>{if("generating"===e.status)return f.jsx("div",{className:vPe,children:f.jsx(Vle,{borderRadius:8})});if("error"===e.status)return f.jsx("div",{className:hPe,children:(t=e.error,bLe.includes(t)?t:"There was an error generating your response. Please try again.")});var t;if(e.task===Nte.GenerateScript)return f.jsx(yPe,{scriptId:e.scriptId});if(e.scriptId)return f.jsx(yPe,{scriptId:e.scriptId});const a=e.responseMessage||"Request failed, please try again.";return f.jsx("div",{className:gPe,dir:"auto",children:a})})()}),yPe=({scriptId:e})=>{const t=Bu(),a=Du((t=>RAe(t,e)));return a?f.jsx(_a,{value:a.content,onChange:e=>{a&&t(Dte.updateScript({scriptId:a.id,updates:{content:e.target.value}}))},className:fPe}):null},wPe="UserMessage-module_userMessageWrapper_ghlLA",_Pe="UserMessage-module_userMessageContainer_FTH89",CPe="ScriptEstimatedDuration-module_estimatedDuration_vlik6",SPe=({content:e})=>{const t=(e=>{const t=ETe(e);let a;TTe.forEach((e=>{(!a||Math.abs(t-e.wordCount)<Math.abs(t-a.wordCount))&&(a=e)}));const n=TTe[0];return a||n})(e);return f.jsxs("div",{className:L(CPe),children:["Duration: ",f.jsx(f.Fragment,{children:(null==t?void 0:t.label)??"5m+"})]})},xPe="UserMessageTopToolbar-module_userMessageTopToolbarContainer_RO2B1",IPe="UserMessageTopToolbar-module_topToolbarRight_uRpaD",APe="UserMessageTopToolbar-module_userMessageMessage_cz3f-",kPe="UserMessageTopToolbar-module_scriptActionsContainer_THn23",TPe="UserMessageTopToolbar-module_sourceButton_sWFbK",EPe="UserMessageTopToolbar-module_copyScriptButton_mFmJ-",LPe="UserMessageTopToolbar-module_isOpen_smgiD",jPe="UserMessageTopToolbar-module_isDisabled_NG-Hd",RPe="UserMessageTopToolbar-module_sourcesPopoverContent_fwPNb",NPe="UserMessageTopToolbar-module_sourcesPopoverTitle_OXI0W",MPe="UserMessageTopToolbar-module_sourceContainer_uRUfZ",PPe="UserMessageTopToolbar-module_sourceTitle_Vf6Xz",FPe="UserMessageTopToolbar-module_sourceUrl_OvrnZ",DPe="UserMessageTopToolbar-module_sourceDescription_Bs4dr",OPe="UserMessageTopToolbar-module_sourcesPopoverClose_gRJtp",UPe=({userMessage:e})=>{const t="success"!==e.response.status||e.response.task!==Nte.EditScript&&e.response.task!==Nte.GenerateScript?void 0:e.response.scriptId,a=Du((e=>{var a;return t?null==(a=RAe(e,t))?void 0:a.sources:void 0}));return f.jsxs("div",{className:xPe,children:[e.message&&f.jsx(Hw,{message:e.message??"",style:{zIndex:15,maxWidth:500},disabled:!e.message,align:"start",noArrow:!0,children:f.jsx("div",{className:APe,children:e.message??""})}),f.jsxs("div",{className:IPe,children:[t&&f.jsx(BPe,{scriptId:t}),!!(null==a?void 0:a.length)&&f.jsx(VPe,{sources:a})]})]})},BPe=({scriptId:e})=>{const t=Du((t=>RAe(t,e)));return t?f.jsxs("div",{className:kPe,children:[f.jsx(SPe,{content:t.content}),f.jsx(RTe,{content:t.content,maxWordCount:1e3}),f.jsx(WPe,{script:t})]}):null},WPe=({script:e})=>{const t=Bu();return f.jsx(Hw,{message:"Copy Script",style:{zIndex:15},children:f.jsx("button",{className:EPe,onClick:async()=>{if(e)try{navigator.clipboard.writeText(e.content),t(db({type:"success",description:"This script has been copied to your clipboard"}))}catch(a){cb({description:"Failed to copy script",error:a})}},children:f.jsx(Ca,{})})})},VPe=({sources:e})=>{const[t,a]=i.useState(!1),n=e=>{const t=e.replace(/^\[\d+\]\s*/,"");try{return`${new URL(t).hostname}`}catch(b9e){const a=t.match(/^(?:https?:\/\/)?([^/]+)/);return a?a[1]:null}};return f.jsxs(hr,{open:t,onOpenChange:e=>{a(e)},children:[f.jsx(Hw,{message:"View Sources",style:{zIndex:15},children:f.jsx(vr,{asChild:!0,children:f.jsx("button",{className:L(TPe,{[LPe]:t,[jPe]:!(null==e?void 0:e.length)}),children:f.jsx(Sa,{})})})}),f.jsx(fr,{children:f.jsxs(br,{style:{zIndex:15},className:RPe,sideOffset:8,collisionPadding:16,align:"end",children:[f.jsx("div",{className:NPe,children:"Sources"}),(null==e?void 0:e.length)?e.map(((e,t)=>f.jsxs("div",{className:MPe,onClick:()=>Jye({url:e.url}),children:[f.jsx("div",{className:PPe,children:e.title}),f.jsx("a",{className:FPe,href:e.url,target:"_blank",rel:"noreferrer",children:n(e.url)}),f.jsx("div",{className:DPe,children:e.description})]},t))):null,f.jsx(Mr,{className:OPe,children:f.jsx(xa,{})})]})})]})},HPe=({userMessageId:e,maxHeight:t})=>{const a=Du((t=>jAe(t,e)));return a?f.jsx("div",{className:wPe,children:f.jsxs("div",{className:_Pe,children:[f.jsx(UPe,{userMessage:a}),f.jsx(bPe,{response:a.response,maxHeight:t})]})}):null},zPe=({conversationId:e,style:t})=>{const a=Du((t=>EAe(t,e))),n=(null==a?void 0:a.userMessages)??[],[s,o]=i.useState(null),{containerDimensions:r,containerRef:l}=use(),d=()=>{if(null==r?void 0:r.height)return n.length>1?(null==r?void 0:r.height)-125:(null==r?void 0:r.height)-75};return i.useEffect((function(){s&&s.scrollIntoView({behavior:"smooth"})}),[s]),(null==n?void 0:n.length)?f.jsx("div",{className:uPe,style:t,ref:l,children:n.map(((e,t)=>f.jsx("div",{className:pPe,ref:e=>{t===n.length-1&&o(e)},children:f.jsx(HPe,{userMessageId:e,maxHeight:d()})},t)))}):null},GPe="UserMessageBottomToolbar-module_disabled_phP2m",YPe="UserMessageBottomToolbar-module_userMessageBottomToolbar_KASnt",KPe="UserMessageBottomToolbar-module_dropdownMenuContent_ASlXX",XPe="UserMessageBottomToolbar-module_dropdownMenuTrigger_9mKTa",ZPe="UserMessageBottomToolbar-module_addToScriptButton_HkC8c",qPe="UserMessageBottomToolbar-module_dropdownMenuItem_TyE2-",JPe="UserMessageBottomToolbar-module_scriptEditorDropdownMenuTriggerIcon_aNYNr",$Pe="UserMessageBottomToolbar-module_loadingShimmer_5MDJR",QPe=({setCancelFn:e,userMessage:t})=>{const a="success"!==t.response.status||t.response.task!==Nte.EditScript&&t.response.task!==Nte.GenerateScript?void 0:t.response.scriptId,n="generating"===t.response.status,s="success"!==t.response.status||t.response.task!==Nte.EditScript||t.response.scriptId?void 0:t.response.responseMessage;return f.jsxs("div",{className:YPe,children:[f.jsx(eFe,{answer:s,setCancelFn:e}),f.jsx(aFe,{scriptId:a,loading:n,setCancelFn:e}),f.jsx(nFe,{scriptId:a,loading:n,setCancelFn:e}),f.jsx(sFe,{scriptId:a,loading:n,setCancelFn:e})]})},eFe=({answer:e,loading:t,setCancelFn:a})=>e||t?f.jsxs("div",{className:ZPe,onClick:()=>{if(t||!e)return;const{state:n}=Mu(),s=LAe(n),o=FAe(n);o&&s&&ZLe({message:tje(e),script:o,customMessageLabel:`Add this answer to the script: ${e}`,currentConversation:s,assumeNewScript:!0,setCancelFn:a})},children:[f.jsx("div",{className:$Pe,children:t&&f.jsx(Vle,{borderRadius:8})}),f.jsx(f.Fragment,{children:"Add this answer to script"})]}):null,tFe=async({articleText:e,research:t,script:a})=>{try{const n=await async function(e){return Xf("/api/v1/ai/script-chat/generate-topics",{body:e})}({articleText:e,research:t,script:a});if(!n||!n.success)throw new Error("Invalid response");return n.topics}catch(n){console.error(n)}},aFe=({scriptId:e,loading:t,setCancelFn:a})=>{var n,s,o;const r=Bu(),d=Bg(),c=Du((t=>RAe(t,e??""))),[u,p]=i.useState(!(null==(n=null==c?void 0:c.topics)?void 0:n.length)),[m,g]=i.useState(!1),h=!c||!c.content.length||t||m||u,[v,b]=i.useState(!1);i.useEffect((function(){var e;(null==c?void 0:c.content)&&((null==(e=c.topics)?void 0:e.length)||(p(!0),tFe({articleText:c.articleText,script:c.content,research:c.research}).then((e=>{if(!e)return g(!0),void p(!1);r(Dte.updateScript({scriptId:c.id,updates:{topics:e}})),p(!1)})).catch((e=>{g(!0),p(!1),l(e,{tags:{feature:Tu.scriptChat}})}))))}),[r,null==c?void 0:c.articleText,null==c?void 0:c.content,null==(s=null==c?void 0:c.topics)?void 0:s.length,null==c?void 0:c.id,null==c?void 0:c.research]);if(!e&&!t)return null;const y=d?"Focus on":"Focus more on...";return f.jsxs(lr,{open:v,onOpenChange:e=>{h||b(e)},children:[f.jsxs(dr,{className:L(XPe,{[GPe]:h}),onPointerDown:e=>e.preventDefault(),onClick:()=>b((e=>!e)),children:[f.jsx("div",{className:$Pe,children:t&&f.jsx(Vle,{borderRadius:8})}),y,f.jsx("div",{className:JPe,children:f.jsx(da,{})})]}),f.jsx(cr,{container:B_(),children:f.jsx(ur,{className:KPe,align:"start",side:"bottom",sideOffset:4,style:{width:"100%"},children:null==(o=null==c?void 0:c.topics)?void 0:o.map(((e,t)=>f.jsx(pr,{className:qPe,onClick:()=>(e=>{if(h)return;b(!1);const{state:t}=Mu(),n=LAe(t)||HLe();ZLe({message:QLe(e),customMessageLabel:`Focus more on ${e.toLowerCase()}`,script:c,currentConversation:n,assumeNewScript:!0,setCancelFn:a})})(e),children:e},t)))})})]})},nFe=({scriptId:e,loading:t,setCancelFn:a})=>{const n=Bg(),s=Du((t=>RAe(t,e??""))),o=!s||!s.content.length||t,[r,l]=i.useState(!1);if(!e&&!t)return null;const d=n?"Change tone":"Change tone to be...";return f.jsxs(lr,{open:r,onOpenChange:l,children:[f.jsxs(dr,{className:L(XPe,{[GPe]:o}),onPointerDown:e=>e.preventDefault(),onClick:()=>l((e=>!e)),children:[f.jsx("div",{className:$Pe,children:t&&f.jsx(Vle,{borderRadius:8})}),d,f.jsx("div",{className:JPe,children:f.jsx(da,{})})]}),f.jsx(cr,{container:B_(),children:f.jsx(ur,{className:KPe,align:"start",side:"bottom",sideOffset:4,children:Rte.map(((e,t)=>f.jsx(pr,{className:qPe,onClick:()=>(async e=>{if(o)return;l(!1);const{state:t}=Mu(),n=LAe(t)||HLe();var i;ZLe({message:(i=e,`Re-write this script to have a ${i} tone`),customMessageLabel:`Change tone to be ${e.toLowerCase()}`,script:s,currentConversation:n,assumeNewScript:!0,setCancelFn:a})})(e),children:e},t)))})})]})},sFe=({scriptId:e,loading:t,setCancelFn:a})=>{const n=Bg(),s=Du((t=>RAe(t,e??""))),o=!s||!s.content.length||t,[r,l]=i.useState(!1);if(!e&&!t)return null;const d=n?"Change duration":"Change duration to...";return f.jsxs(lr,{open:r,onOpenChange:l,children:[f.jsxs(dr,{className:L(XPe,{[GPe]:o}),onPointerDown:e=>e.preventDefault(),onClick:()=>l((e=>!e)),children:[f.jsx("div",{className:$Pe,children:t&&f.jsx(Vle,{borderRadius:8})}),d,f.jsx("div",{className:JPe,children:f.jsx(da,{})})]}),f.jsx(cr,{container:B_(),children:f.jsx(ur,{className:KPe,align:"start",side:"bottom",sideOffset:4,children:TTe.map(((e,t)=>f.jsx(pr,{className:qPe,onClick:()=>(e=>{if(o)return;l(!1);const{state:t}=Mu(),n=LAe(t)||HLe();ZLe({message:eje(e),customMessageLabel:`Change duration to ${e.label}`,script:s,currentConversation:n,assumeNewScript:!0,setCancelFn:a})})(e),children:e.label},t)))})})]})},oFe="UserMessageInput-module_userMessageInputContainer_-S85u",iFe="UserMessageInput-module_userMessageInputIcon_DbSQU",rFe="UserMessageInput-module_isDisabled_N5a59",lFe="UserMessageInput-module_userMessageTextArea_OGmhL",dFe="UserMessageInput-module_generating_Z6eR5",cFe="UserMessageInput-module_loading_Lc4vs",uFe=({setCancelFn:e})=>{const t=Bu(),a=Hg(),n=Bg(),s=a||n?"Type a follow up prompt or question":"Type a follow up prompt or question (i.e. Can you rewrite the second paragraph to be more engaging?)",o=Du(OAe),r=Du((e=>e.scriptChat.currentMessage)),[l,d]=i.useState(!1),[c,u]=i.useState(null);i.useEffect((function(){"generating"===(null==o?void 0:o.response.status)&&xP(o.createdAt)>=5&&t(Dte.addLLMResponse({userMessageId:o.id,response:{status:"error",error:"The response took too long to generate. Please try again."}}))}),[t,null==o?void 0:o.createdAt,null==o?void 0:o.id,null==o?void 0:o.response.status]);const p=()=>"generating"===(null==o?void 0:o.response.status)||l?"Please wait for your response to finish generating.":GLe(r)?"Please enter a message.":"",m=!!p(),g=async()=>{const{state:a}=Mu(),n=FAe(a);if(!n)return;const s=LAe(a);s&&(m||(d(!0),await ZLe({setCancelFn:e,message:r,script:n,currentConversation:s}),t(Dte.setCurrentMessage("")),c&&(c.style.height="auto"),d(!1)))},h=e=>{e.preventDefault(),g()};return f.jsxs(f.Fragment,{children:[o&&f.jsx(QPe,{userMessage:o,setCancelFn:e}),f.jsx(Xr,{onSubmit:h,autoComplete:"off",children:f.jsxs("div",{className:oFe,children:[l&&f.jsx(iye,{style:{position:"absolute",bottom:0,left:0,width:48,height:50,margin:0,padding:0}}),f.jsx(Zr,{name:"message",asChild:!0,children:f.jsx(qr,{asChild:!0,children:f.jsx("textarea",{placeholder:s,value:r,onChange:e=>{t(Dte.setCurrentMessage(e.target.value)),c&&(c.style.height="auto",c.style.height=`${c.scrollHeight}px`)},className:L(lFe,{[dFe]:"generating"===(null==o?void 0:o.response.status),[cFe]:l}),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||e.metaKey||(e.preventDefault(),h(e))},disabled:l,rows:1,ref:u})})}),f.jsx(Jr,{asChild:!0,children:f.jsx(Hw,{message:p(),disabled:!m,style:{zIndex:15},children:f.jsx("button",{className:L(iFe,{[rFe]:m}),children:f.jsx(Ia,{})})})})]})})]})},pFe=e=>new Promise((t=>setTimeout(t,e))),mFe="margin-top 150ms ease-in, opacity 150ms ease-out",gFe=({cancelFn:e,setCancelFn:t})=>{const a=Bu(),n=Bg(),s=Du(LAe),o=Du(FAe),r=Du(DAe),l=zd((null==o?void 0:o.content)??(null==r?void 0:r.content)??""),d={[Bd.TTS]:l},[c,u]=i.useState(s),[p,m]=i.useState({}),g=i.useCallback((async()=>{m({opacity:0,marginTop:"-5%",transition:mFe}),await pFe(300),m({marginTop:"5%",opacity:0}),await pFe(30),m({opacity:1,marginTop:"0%",transition:mFe})}),[]),h=i.useCallback((async()=>{m({opacity:0,marginTop:"5%",transition:mFe}),await pFe(300),m({marginTop:"-5%",opacity:0}),await pFe(30),m({opacity:1,marginTop:"0%",transition:mFe})}),[]);return i.useEffect((function(){(async()=>{(null==s?void 0:s.id)!==(null==c?void 0:c.id)&&(((null==s?void 0:s.historyIndex)??0)>((null==c?void 0:c.historyIndex)??0)?await g():((null==s?void 0:s.historyIndex)??0)<((null==c?void 0:c.historyIndex)??0)&&await h(),u(s))})()}),[s,null==s?void 0:s.id,o,null==c?void 0:c.historyIndex,null==c?void 0:c.id,g,h]),c?f.jsxs("div",{className:iPe,children:[f.jsx(zPe,{conversationId:c.id,style:p}),n&&f.jsx(cAe,{estimatedUsageByCategory:d,userActivityRelatedToLimit:"This script"}),f.jsx("div",{className:rPe,children:f.jsx(uFe,{setCancelFn:t})}),!n&&f.jsx("div",{className:lPe,children:f.jsx(xje,{onClick:()=>{e(),a(Dte.setStep("generate-script"))},width:"small",label:"Back"})})]}):null},hFe=()=>{const e=Bu(),t=Bg(),a=Du(FAe),n=Du(DAe),s=(null==a?void 0:a.content)??(null==n?void 0:n.content)??"",o=null==a?void 0:a.isSampleScript,i=ETe((null==a?void 0:a.content)??"")>1e3,r=zd(s),l={[Bd.TTS]:r},{blocked:d}=uP({projectedUsage:l}),c=()=>a?i?"Please limit your script to 1000 words.":void 0:"Please wait until your script has finished generating.",u=!!c()||!o&&d;return f.jsxs("div",{className:dPe,children:[!t&&!o&&f.jsx(cAe,{estimatedUsageByCategory:l,userActivityRelatedToLimit:"This script"}),f.jsxs("div",{className:cPe,children:[t&&f.jsx(xje,{onClick:()=>{e(Dte.setStep("generate-script"))},width:"small",label:"Back"}),f.jsx(_je,{label:"Use this script",width:"full",onClick:()=>{e(Dte.setStep("create-video")),ov("Script Chat - Finalized Script",{type:(null==a?void 0:a.articleText)?"article":"topic"})},disabled:u,disabledReason:c()})]})]})},vFe="SidebarHeaderInfo-module_trigger_ndytZ",fFe="SidebarHeaderInfo-module_icon_6gIPo",bFe=[{id:"alice",name:"Alice",profilePicture:"https://cdn-useast1.kapwing.com/static/MwW-Untitled_Project_V2.webp"},{id:"eric",name:"Eric",profilePicture:"https://cdn-useast1.kapwing.com/static/ug4-originalThinkers3_V1.webp"},{id:"glenda",name:"Glenda",profilePicture:"https://cdn-useast1.kapwing.com/static/Wm0-basketball2_V1.webp"},{id:"dave",name:"Dave",profilePicture:"https://cdn-useast1.kapwing.com/static/jav-pasta4_V1.webp"}],yFe=[{topic:"personas",description:"What are AI Personas on Kapwing?"},{topic:"basketball",description:"Team USA at the Olympics"},{topic:"thinkers",description:"Surprising Facts About Original Thinkers"},{topic:"pasta",description:"My Favorite Pasta Recipes"}],wFe=[{id:"alice",topic:"personas",poster:"https://cdn-useast1.kapwing.com/static/0is-Untitled_Project_V1-(1).webp",video:"https://cdn-useast1.kapwing.com/static/tF9-personas1.mp4"},{id:"glenda",topic:"personas",poster:"https://cdn-useast1.kapwing.com/static/-Lp-mknYehXH-image.webp",video:"https://cdn-useast1.kapwing.com/static/OkA-personas2.mp4"},{id:"eric",topic:"personas",poster:"https://cdn-useast1.kapwing.com/static/bvm-pasta3_V1.webp",video:"https://cdn-useast1.kapwing.com/static/Axz-personas3.mp4"},{id:"dave",topic:"personas",poster:"https://cdn-useast1.kapwing.com/static/2eo-personas4_V1.webp",video:"https://cdn-useast1.kapwing.com/static/uhC-personas4.mp4"},{id:"alice",topic:"pasta",poster:"https://cdn-useast1.kapwing.com/static/0is-Untitled_Project_V1-(1).webp",video:"https://cdn-useast1.kapwing.com/static/7b9-pasta1.mp4"},{id:"glenda",topic:"pasta",poster:"https://cdn-useast1.kapwing.com/static/-Lp-mknYehXH-image.webp",video:"https://cdn-useast1.kapwing.com/static/b0T-pasta2.mp4"},{id:"eric",topic:"pasta",poster:"https://cdn-useast1.kapwing.com/static/bvm-pasta3_V1.webp",video:"https://cdn-useast1.kapwing.com/static/XNK-pasta3.mp4"},{id:"dave",topic:"pasta",poster:"https://cdn-useast1.kapwing.com/static/2eo-personas4_V1.webp",video:"https://cdn-useast1.kapwing.com/static/L0B-pasta4.mp4"},{id:"alice",topic:"basketball",poster:"https://cdn-useast1.kapwing.com/static/0is-Untitled_Project_V1-(1).webp",video:"https://cdn-useast1.kapwing.com/static/hBq-basketball1.mp4"},{id:"glenda",topic:"basketball",poster:"https://cdn-useast1.kapwing.com/static/-Lp-mknYehXH-image.webp",video:"https://cdn-useast1.kapwing.com/static/mEl-basketball2.mp4"},{id:"eric",topic:"basketball",poster:"https://cdn-useast1.kapwing.com/static/bvm-pasta3_V1.webp",video:"https://cdn-useast1.kapwing.com/static/uLM-basketball3.mp4"},{id:"dave",topic:"basketball",poster:"https://cdn-useast1.kapwing.com/static/2eo-personas4_V1.webp",video:"https://cdn-useast1.kapwing.com/static/SwJ-basketball4.mp4"},{id:"alice",topic:"thinkers",poster:"https://cdn-useast1.kapwing.com/static/0is-Untitled_Project_V1-(1).webp",video:"https://cdn-useast1.kapwing.com/static/_Ba-originalThinkers1.mp4"},{id:"glenda",topic:"thinkers",poster:"https://cdn-useast1.kapwing.com/static/-Lp-mknYehXH-image.webp",video:"https://cdn-useast1.kapwing.com/static/lua-originalThinkers2.mp4"},{id:"eric",topic:"thinkers",poster:"https://cdn-useast1.kapwing.com/static/bvm-pasta3_V1.webp",video:"https://cdn-useast1.kapwing.com/static/lw1-originalThinkers3.mp4"},{id:"dave",topic:"thinkers",poster:"https://cdn-useast1.kapwing.com/static/2eo-personas4_V1.webp",video:"https://cdn-useast1.kapwing.com/static/62N-originalThinkers4.mp4"}],_Fe="DemoGrid-module_demoGrid_7OvoV",CFe="DemoGrid-module_demoGridLeft_BSKl4",SFe="DemoGrid-module_demoGridRight_4WKBO",xFe="DemoGrid-module_demoPersonas_n9p4e",IFe="DemoGrid-module_demoTopics_JDTWS",AFe="DemoGrid-module_demoVideo_aAvbk",kFe="DemoGrid-module_demoPersonasContainer_mCmN1",TFe="DemoGrid-module_demoPersona_wIHHG",EFe="DemoGrid-module_demoPersonaName_yrZyr",LFe="DemoGrid-module_demoPersonaImage_LkiPA",jFe="DemoGrid-module_demoTopicsContainer_uIm07",RFe="DemoGrid-module_demoTopic_Aaq1s",NFe="DemoGrid-module_demoVideoError_WyOVX",MFe="DemoGrid-module_demoVideoContainer_zXIaZ",PFe="DemoGrid-module_selected_UJAsC",FFe=()=>{const[e,t]=i.useState("alice"),[a,n]=i.useState("personas");return f.jsxs("div",{className:_Fe,children:[f.jsxs("div",{className:CFe,children:[f.jsx("div",{className:xFe,children:f.jsx("div",{className:kFe,children:bFe.map((a=>{let n=TFe;return a.id===e&&(n+=` ${PFe}`),f.jsxs("div",{className:n,onClick:()=>{t(a.id)},children:[f.jsx("img",{src:a.profilePicture,className:LFe,alt:a.name}),f.jsx("div",{className:EFe,children:a.name})]},a.id)}))})}),f.jsx("div",{className:IFe,children:f.jsx("div",{className:jFe,children:yFe.map((e=>{let t=RFe;return e.topic===a&&(t+=` ${PFe}`),f.jsx("div",{className:t,onClick:()=>{n(e.topic)},children:e.description},e.topic)}))})})]}),f.jsx("div",{className:SFe,children:f.jsx("div",{className:AFe,children:(()=>{let t;for(const o of wFe)if(o.id===e&&o.topic===a){t=o;break}if(!t)return f.jsx("div",{className:NFe,children:"No demo video found. Please select a different persona."});const{poster:n,video:s}=t;return f.jsx("div",{className:MFe,children:f.jsx("video",{className:AFe,src:s,poster:n,controls:!0,autoPlay:!0,playsInline:!0})})})()})})]})},DFe="Equalizer-module_container_hkyxK",OFe="Equalizer-module_bar_-L1gz",UFe="Equalizer-module_largeBar_Z4hoS",BFe="Equalizer-module_column_A7-yi",WFe=b.memo((({size:e})=>{let t=OFe;return"large"===e&&(t=UFe),f.jsxs("div",{className:DFe,children:[f.jsx("ol",{className:BFe,children:f.jsx("li",{className:t})}),f.jsx("ol",{className:BFe,children:f.jsx("li",{className:t})}),f.jsx("ol",{className:BFe,children:f.jsx("li",{className:t})}),f.jsx("ol",{className:BFe,children:f.jsx("li",{className:t})}),f.jsx("ol",{className:BFe,children:f.jsx("li",{className:t})})]})})),VFe="PreAndPostPersona-module_previewContainer_GMDwP",HFe="PreAndPostPersona-module_previewColumn_QZuHV",zFe="PreAndPostPersona-module_videoContainer_ZoU5f",GFe="PreAndPostPersona-module_demoVideo_h1JS7",YFe="PreAndPostPersona-module_demoContainer_kGcqQ",KFe="PreAndPostPersona-module_preVideoOverlay_mCYkU",XFe="PreAndPostPersona-module_postVideoOverlay_BpP0I",ZFe="PreAndPostPersona-module_preVideoEqualizer_mC8SU",qFe="PreAndPostPersona-module_postVideoEqualizer_eg79d",JFe="PreAndPostPersona-module_originalText_yLjRv",$Fe="PreAndPostPersona-module_clonedText_uiUDZ",QFe=()=>{const e=i.useRef(null),t=i.useRef(null),[a,n]=i.useState(!1),[s,o]=i.useState(!1);return f.jsxs("div",{className:VFe,children:[f.jsxs("div",{className:HFe,children:[f.jsx("span",{className:JFe,children:"Original Video"}),f.jsxs("div",{className:zFe,onClick:()=>{if(e.current&&t.current){const a=e.current,o=t.current;a.paused?(s&&(a.currentTime=o.currentTime-.1),a.play(),n(!0)):(a.pause(),n(!1))}if(t.current){const e=t.current;e.paused||(e.pause(),o(!1))}},children:[f.jsx("div",{className:YFe,children:f.jsx("video",{src:"https://cdn-useast1.kapwing.com/static/kWs-IMG_8227_MOV_V2.mp4",poster:"https://cdn-useast1.kapwing.com/static/ETS-pizza-demo-poster.webp",controlsList:"nodownload nofullscreen noremoteplayback",className:GFe,ref:e,onEnded:()=>{n(!1)}})}),f.jsx("div",{className:KFe,children:a?f.jsx(Aa,{}):f.jsx(ka,{})}),a?f.jsx("div",{className:ZFe,children:f.jsx(WFe,{size:"large"})}):null]})]}),f.jsxs("div",{className:HFe,children:[f.jsx("span",{className:$Fe,children:"AI Persona"}),f.jsxs("div",{className:zFe,onClick:()=>{if(t.current&&e.current){const n=t.current,s=e.current;n.paused?(a&&(n.currentTime=s.currentTime-.1),n.play(),o(!0)):(n.pause(),o(!1))}if(e.current){const t=e.current;t.paused||(t.pause(),n(!1))}},children:[f.jsx("div",{className:YFe,children:f.jsx("video",{src:"https://cdn-useast1.kapwing.com/static/ueY-pizzaDemo.mp4",poster:"https://cdn-useast1.kapwing.com/static/ETS-pizza-demo-poster.webp",controlsList:"nodownload nofullscreen noremoteplayback",className:GFe,ref:t,onEnded:()=>{o(!1)}})}),f.jsx("div",{className:XFe,children:s?f.jsx(Aa,{}):f.jsx(ka,{})}),s?f.jsx("div",{className:qFe,children:f.jsx(WFe,{})}):null]})]})]})},eDe="PromoOverlay-module_container_IzohG",tDe="PromoOverlay-module_headerRow_neH8n",aDe="PromoOverlay-module_headerRowLeft_DAwxf",nDe="PromoOverlay-module_header_UpVfk",sDe="PromoOverlay-module_content_9IkaU",oDe="PromoOverlay-module_text_bbL0G",iDe="PromoOverlay-module_footer_Zlzhd",rDe="PromoOverlay-module_start_wX3j9",lDe="PromoOverlay-module_tabs_ghMj-",dDe="PromoOverlay-module_tab_SU8yQ",cDe="PromoOverlay-module_active_oMaOs",uDe=({onCancel:e})=>{const t=Bu(),[a,n]=i.useState("demo");return f.jsxs("div",{className:eDe,children:[f.jsx("div",{className:tDe,children:f.jsxs("div",{className:aDe,children:[f.jsx("div",{className:nDe,children:"New in Kapwing: AI Personas"}),f.jsx("div",{className:oDe,children:"AI Personas make creating video as easy as writing a blog post. Check out the introduction video, or try some of the demos below."})]})}),f.jsx("div",{className:lDe,children:["demo","outputs"].map((e=>{let t="Watch the demo";return"outputs"===e&&(t="Inputs and Outputs"),f.jsx("div",{className:`${dDe} ${e===a?cDe:""}`,onClick:()=>{n(e)},children:t},e)}))}),f.jsx("div",{className:sDe,children:"demo"===a?f.jsx(FFe,{}):"outputs"===a?f.jsx(QFe,{}):void 0}),f.jsx("div",{className:iDe,children:f.jsx("button",{className:rDe,onClick:()=>{e(),t(WQ({showCreatePersonaOverlay:!0}))},children:"Create an AI Persona"})})]})},pDe=()=>{const[e,t]=i.useState(!1);return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:vFe,onClick:()=>t(!0),children:f.jsx(Ta,{className:fFe})}),e?f.jsx(Wne,{onClose:()=>{t(!1)},noPadding:!0,mini:!0,width:"1024px",maxWidth:"90dvw",children:f.jsx(uDe,{onCancel:()=>{t(!1)}})}):null]})},mDe=i.createContext({handleClose:()=>{}}),gDe=({handleClose:e,children:t})=>{const a=i.useMemo((()=>({handleClose:e})),[e]);return f.jsx(mDe.Provider,{value:a,children:t})},hDe="Consent-module_wrapper_4Ya2o",vDe="Consent-module_container_6o7No",fDe="Consent-module_headerContainer_-fhe6",bDe="Consent-module_header_CXreY",yDe="Consent-module_description_p6QK8",wDe="Consent-module_content_ABLRX",_De="Consent-module_left_mQNE9",CDe="Consent-module_right_ZQIJw",SDe="Consent-module_column_6GKyj",xDe="Consent-module_columnContent_Xo4y8",IDe="Consent-module_videoContainer_Y1Hxx",ADe="Consent-module_video_L5euB",kDe="Consent-module_button_z0gRi",TDe="Consent-module_form_lJHtr",EDe="Consent-module_label_UmySA",LDe="Consent-module_input_Zfl4S",jDe="Consent-module_checkboxText_QDxx6",RDe="Consent-module_checkRow_eM988",NDe="Consent-module_check_jecx9",MDe="Consent-module_editButtons_ud0xl",PDe="Consent-module_previewDescription_fHfZT",FDe="Consent-module_audio_-e3ug",DDe="Consent-module_playButton_NVr2h",ODe="Consent-module_icon_yYKtr",UDe="Footer-module_footer_WZfUU",BDe="Footer-module_footerLeft_OWh-K",WDe="Footer-module_footerRight_uFbws",VDe="Footer-module_button_puexW",HDe="Footer-module_buttonDisabled_rVvEJ",zDe="Footer-module_icon_OtqpS",GDe="Footer-module_backButton_abA-7",YDe="Footer-module_loader_DPhTA",KDe="StepsIndicator-module_container_72-qm",XDe="StepsIndicator-module_step_-ruKt",ZDe="StepsIndicator-module_disabled_yZyvt",qDe="StepsIndicator-module_selectedStep_FNRZX",JDe=({nextStepDisabled:e})=>{const t=Bu(),a=Du((e=>{var t,a;return null==(a=null==(t=e.studio.personas)?void 0:t.createPersonaOverlay)?void 0:a.selectedTab}))||Lp.Intro,n=Du((e=>Nb(e))),s={[Lp.Intro]:"Introduction",[Lp.Upload]:"Choose Video",[Lp.Voice]:"Choose Voice",[Lp.Consent]:"Consent"},o=e=>{switch(e){case Lp.Intro:return[Lp.Upload];case Lp.Upload:return[Lp.Intro];case Lp.Voice:return[Lp.Intro,Lp.Upload];case Lp.Consent:return[Lp.Intro,Lp.Upload,Lp.Voice];default:return[]}};return n?f.jsx("div",{className:KDe,children:Object.keys(s).map((e=>{const n=s[e];let i=XDe;e===a&&(i+=` ${qDe}`);return o(a).includes(e)||(i+=` ${ZDe}`),f.jsx("div",{className:i,onClick:()=>(e=>{if(o(a).includes(e))return t(WQ({selectedTab:e}))})(e),children:n},n)}))}):null},$De=({nextStepDisabled:e,loading:t,handleNext:a})=>{const n=Bu(),s=Du((e=>Nb(e))),{handleClose:o}=i.useContext(mDe),r=Du((e=>{var t,a;return null==(a=null==(t=e.studio.personas)?void 0:t.createPersonaOverlay)?void 0:a.selectedTab}))||Lp.Intro,l=()=>{if(a)return void a();let e=Lp.Upload;switch(r){case Lp.Intro:break;case Lp.Upload:e=Lp.Voice;break;case Lp.Voice:e=Lp.Consent;break;case Lp.Consent:return}n(WQ({selectedTab:e}))},d=()=>{let e=Lp.Intro;switch(r){case Lp.Intro:break;case Lp.Upload:e=Lp.Intro;break;case Lp.Voice:e=Lp.Upload;break;case Lp.Consent:e=Lp.Voice}n(WQ({selectedTab:e}))};return f.jsxs("div",{className:UDe,children:[f.jsx("div",{className:BDe,children:r===Lp.Intro?f.jsx("div",{className:GDe,onClick:o,children:"Cancel"}):f.jsx("div",{className:GDe,onClick:d,children:"Back"})}),f.jsx(JDe,{nextStepDisabled:!!e}),f.jsx("div",{className:WDe,children:(()=>{let a="Get Started";switch(r){case Lp.Intro:break;case Lp.Upload:a="Next: Choose Voice";break;case Lp.Voice:a="Next: Consent";break;case Lp.Consent:a="Finish and Create"}return e?f.jsxs("div",{className:HDe,children:[f.jsx("span",{children:a})," ",f.jsx(Ea,{className:zDe})]}):t?f.jsxs("div",{className:HDe,children:[f.jsx("span",{children:"Loading ..."})," ",f.jsx("div",{className:YDe})]}):s?f.jsxs("div",{className:VDe,onClick:l,children:[f.jsx("span",{children:a})," ",f.jsx(Ea,{className:zDe})]}):f.jsxs("div",{className:VDe,onClick:()=>n({type:"SHOW_SIGN_IN"}),children:[f.jsx("span",{children:"Sign in to get started"})," ",f.jsx(Ea,{className:zDe})]})})()})]})},QDe=()=>{const e=Bu(),{handleClose:t}=i.useContext(mDe),a=Du(Dm),n=Object.keys(a).length,s=cg(),o=Du((e=>e.currentUser)),[r,l]=i.useState(!1),d=i.useRef(null),[c,u]=i.useState(!1),[p,m]=i.useState(!1),{videoAssetId:g,selectedVoiceItem:h,personaName:v}=Du((e=>{var t,a,n,s,o,i;return{videoAssetId:null==(a=null==(t=e.studio.personas)?void 0:t.createPersonaOverlay)?void 0:a.videoAssetId,selectedVoiceItem:null==(s=null==(n=e.studio.personas)?void 0:n.createPersonaOverlay)?void 0:s.selectedVoiceItem,personaName:null==(i=null==(o=e.studio.personas)?void 0:o.createPersonaOverlay)?void 0:i.personaName}}),Ou),{videoRef:b,setVideoRef:y,streamSource:w}=Dx(g),_=async()=>{var a,n;const{state:s}=Mu(),o=(null==(a=s.teams.activeBrandkit)?void 0:a.teamId)||(null==(n=rg(s))?void 0:n._id);if(g&&h&&v&&o){try{m(!0);const t=await Zf("/api/v2/workflows/init-persona",{body:{assetId:g,teamId:o,elevenLabsVoiceId:h.voiceId,personaName:v}});ov("Create Persona",{Name:v,"Team ID":o,"Asset ID":g,"Voice ID":h.voiceId}),t.newBrandkit&&(e(Ib(t.newBrandkit)),e(m0({tabContainerId:"personas",tabId:"brandkit"})))}catch(b9e){cb({description:"Something went wrong while creating your persona. Please try again later.",error:b9e}),m(!1)}e(WQ({selectedTab:Lp.Intro,videoAssetId:void 0,selectedVoiceItem:void 0,personaName:""})),t()}};if(!h)return f.jsx("div",{className:hDe,children:f.jsxs("div",{className:vDe,children:[f.jsx("div",{className:wDe,children:f.jsxs("div",{className:_De,children:[f.jsx("div",{className:fDe,children:f.jsx("div",{className:bDe,children:"Review and Finalize"})}),f.jsx("div",{className:yDe,children:"An error occured while reviewing your persona. Please try again with a different voice and video."})]})}),f.jsx($De,{nextStepDisabled:!0})]})});const{audioPreview:C}=h,S=()=>{var e,t;b&&(c?(b.pause(),null==(e=d.current)||e.pause()):(b.play(),null==(t=d.current)||t.play()),u(!c))},x=()=>{null==b||b.pause()},I=()=>{b&&(b.pause(),b.currentTime=0,u(!1))},A=()=>{e(WQ({selectedTab:Lp.Upload}))},k=t=>{e(WQ({personaName:t.target.value}))};return f.jsx("div",{className:hDe,children:f.jsxs("div",{className:vDe,children:[f.jsxs("div",{className:wDe,children:[f.jsxs("div",{className:_De,children:[f.jsx("div",{className:fDe,children:f.jsx("div",{className:bDe,children:"Review and Finalize"})}),f.jsx("div",{className:yDe,children:"Give your persona a name so that you and your team can easily reuse the same persona. Review the guidelines before finalizing."}),f.jsxs("form",{className:TDe,autoComplete:"off",children:[f.jsx("label",{htmlFor:"name",className:EDe,children:"Persona Name"}),f.jsx("input",{className:LDe,id:"name",placeholder:"Enter a name for your persona",value:v,onChange:k,autoComplete:"off","aria-autocomplete":"none"})]}),f.jsxs("div",{className:RDe,children:[f.jsx("div",{className:NDe,onClick:()=>l(!r),children:r?f.jsx(La,{}):f.jsx(ja,{})}),f.jsx("div",{className:jDe,onClick:()=>l(!r),children:"I confirm that I have explicit permission to create this persona. I confirm that I will not use this persona for abusive purposes such as fraud, discrimination, hate speech or for any form of online abuse."})]})]}),f.jsxs("div",{className:CDe,children:[w?f.jsx("div",{className:SDe,children:f.jsx("div",{className:xDe,children:f.jsxs("div",{className:IDe,children:[c?f.jsx("div",{className:DDe,children:f.jsx(Aa,{className:ODe})}):f.jsx("div",{className:DDe,children:f.jsx(ka,{className:ODe})}),f.jsx("video",{muted:!0,className:ADe,loop:!0,ref:y,autoPlay:!0,playsInline:!0,onClick:S}),f.jsx("audio",{ref:d,autoPlay:!0,src:C,className:FDe,onPlay:()=>u(!0),onPause:x,onEnded:I})]})})}):f.jsx("div",{className:SDe,children:f.jsxs("div",{className:xDe,children:[f.jsx("div",{className:IDe}),f.jsx("button",{className:kDe,onClick:A,children:"Choose a different video"})]})}),f.jsx("div",{className:PDe,children:"This is an unsynced preview of your Persona. Create your persona, then use it to create video about any topic."}),f.jsxs("div",{className:MDe,children:[f.jsx("button",{className:kDe,onClick:A,children:"Edit video"}),f.jsx("button",{className:kDe,onClick:()=>{e(WQ({selectedTab:Lp.Voice}))},children:"Edit voice"})]})]})]}),f.jsx($De,{handleNext:async()=>{var e;if(!g)return pb({description:"No video selected. Please try a different video to continue."});if(!h)return pb({description:"No voice selected. Please try a different voice to continue."});if(!v)return pb({description:"Please enter a name for your persona to continue."});if(!r)return pb({description:"Please check the box to confirm that you have explicit permission to create this persona."});if(!qm(o))return pb({description:"You must be signed in to create an AI Persona. Please sign in and try again."});if(!(null==(e=rg())?void 0:e._id))return pb({description:"No team workspace found. Please sign in and try again later."});if(n>=5){if(s.isFree)return pb({description:"You can't create more than 5 AI personas at a time. Please upgrade to create more personas, or delete an existing AI Persona and try again."});if(n>=10&&!s.is(Id.Enterprise))return pb({description:"You can't create more than 10 AI personas at a time. Please first delete an existing AI Persona and try again."})}await _()},loading:p})]})})},eOe="Intro-module_wrapper_OQDqk",tOe="Intro-module_container_9kkcb",aOe="Intro-module_headerContainer_5uIpA",nOe="Intro-module_header_4b5tf",sOe="Intro-module_description_QejA1",oOe="Intro-module_videoContainer_b0XnY",iOe="Intro-module_video_6VeW7",rOe="Intro-module_tabSelector_qUFW2",lOe="Intro-module_tabRight_oK5K1",dOe="Intro-module_tabMiddle_kTgOe",cOe="Intro-module_selected_nEn2h",uOe=()=>{const[e,t]=i.useState("outputs");return f.jsx("div",{className:eOe,children:f.jsxs("div",{className:tOe,children:[f.jsx("div",{className:aOe,children:f.jsx("div",{className:nOe,children:"Create a Brand Persona"})}),f.jsx("div",{className:sOe,children:"Learn how to make a custom Brand Persona in just a few clicks. Use your own video and pair it with a voice clone to start making videos as easily as writing a post."}),f.jsxs("div",{className:rOe,children:[f.jsx("div",{className:"outputs"===e?`${dOe} ${cOe}`:dOe,onClick:()=>{t("outputs")},children:"Creating an AI Persona"}),f.jsx("div",{className:"demo"===e?`${lOe} ${cOe}`:lOe,onClick:()=>{t("demo")},children:"AI Personas in Action"})]}),"watch"===e?f.jsx("div",{className:oOe,children:f.jsx("video",{src:"https://cdn-useast1.kapwing.com/removeBg/Qfa-eric_vest_isolated_V1.mp4",poster:"https://cdn-useast1.kapwing.com/static/vvY-personas-thumbnail.webp",controls:!0,className:iOe})}):"demo"===e?f.jsx("div",{className:oOe,children:f.jsx(FFe,{})}):"outputs"===e?f.jsx("div",{className:oOe,children:f.jsx(QFe,{})}):void 0,f.jsx($De,{})]})})},pOe="DragUploadDropzone-module_overlayContainer_M-v0q",mOe="DragUploadDropzone-module_dragActive_YHPvI",gOe="DragUploadDropzone-module_overlayBackground_d64eN",hOe="DragUploadDropzone-module_borderless_HuCgN",vOe="DragUploadDropzone-module_overlayContent_RKXg9",fOe="DragUploadDropzone-module_active_NkPIy",bOe="DragUploadDropzone-module_loading_rr2B2",yOe="DragUploadDropzone-module_loader_6J9F0",wOe="DragUploadDropzone-module_invisible_6BjW4",_Oe=["UploadDragOverlay","Timeline","StudioRight"],COe=["AssetMonitor","FreezeFrame","ImageOptimizationMonitor","MagicFill","MediaSidebarOverlay","RemoveBackground","StudioRight","StudioUploadContainer","Timeline","UploadDragOverlay"],SOe=b.memo((({children:e,dragContainerClass:t,doAudioUpload:a=!1,customAddUploads:n,forMainCanvas:s,forMainStudio:o,invisible:r,onEnter:l,overlayContainerClass:d,uploadSource:c,uploadTarget:u})=>{const p=!_Oe.includes(c),m=COe.includes(c),[g,h]=i.useState([]),[v,b]=i.useState(!1),y=Bu(),{studioDragDropActive:w,mainStudioDragDropDisabled:_}=Du((e=>({studioDragDropActive:e.studioLocal.studioDragDropActive,mainStudioDragDropDisabled:e.studioLocal.mainStudioDragDropDisabled})),Ou),C=Du((e=>e.uploadStatuses)),{mediaSidebarSelectedTab:S,selectedTab:x}=Du((e=>({mediaSidebarSelectedTab:e.studioLocal.mediaSidebarSelectedTab,selectedTab:e.selectedTabs["media-sidebar"]})),Ou),I=i.useRef(x);i.useEffect((()=>{if(s&&g.length&&C){const e=g.filter((e=>{const t=C[e];return!t||t.stage<KS.inProgress}));g.length!==e.length&&h(e)}}),[s,C,g]);const A=i.useCallback((e=>!(!np(e)&&!ep(e))&&(e.duration&&e.duration>10&&e.hasAudio)),[]),k=i.useCallback((()=>{if(Mu().state.selectedTabs["media-sidebar"]!==I.current)return;aR("/studio/editor/transcript"),y(m0({tabId:rK.transcript,tabContainerId:"media-sidebar"}))}),[y]),T=i.useCallback((async e=>{e.preventDefault();const{files:t}=e.dataTransfer;if(n)return n(t),b(!1),void y(ej(!1));I.current=x;const o=a?Oje:D4,i=a?Uje:F4,r=m||a,{uploadIds:l,processedFilesAndLayers:d}=await C9(t,{eventHandlers:{...r&&{handleFinish:o,handlePreemptiveFinish:i},handleCancel:e=>{h((t=>t.filter((t=>t!==e))))}},uploadOptions:{analyticsUploadSource:"sidebar"===u?"Drag and drop - Media sidebar":"Drag and drop - Canvas",dragUpload:!0,uploadSourceComponent:c,isMediaLibraryUpload:p,doDuplicateHandling:!0,convertToAudio:a,addLayersToSameTimelineRow:!0}});s&&h([...g,...l]);!("MediaSidebarOverlay"===c)&&(null==d?void 0:d.some((e=>e.layer&&A(e.layer))))&&k(),"sidebar"===u&&"thisProject"!==S&&y(rj("thisProject")),b(!1),y(ej(!1))}),[n,y,a,s,k,p,A,S,x,m,c,u,g]),E=`${gOe} ${d||""} ${v?fOe:""}`,L=a?"as audio":`to the ${"canvas"===u?"canvas":"project"}`;return o&&_?f.jsx("div",{className:`${pOe} ${t}`,children:e}):f.jsxs("div",{className:`${pOe} ${t} ${w?mOe:""}`,"data-cy":"drag-upload-dropzone-container",onDragEnter:e=>{e.preventDefault(),l&&l(),b(!0),y(ej(!0))},onDragLeave:e=>{e.preventDefault(),b(!1)},onDragOver:e=>{Wg(e)&&(e.preventDefault(),e.stopPropagation())},children:[s&&g.length>0&&f.jsx("div",{className:`${E} ${hOe}`,children:f.jsx("div",{className:vOe,children:f.jsxs("div",{className:bOe,children:[f.jsx("div",{className:yOe}),f.jsx("span",{children:"Uploading Files"})]})})}),e,w&&f.jsx("div",{"data-cy":"drag-upload-dropzone",className:`${E} ${r&&wOe}`,onDrop:T,children:!r&&f.jsxs("div",{className:vOe,children:[f.jsx(ca,{size:30}),f.jsx("p",{children:"Drop here to add"}),f.jsx("p",{children:L})]})})]})})),xOe="AssetPreview-module_previewContainer_m-Rhp",IOe="AssetPreview-module_button_3nHnR",AOe="AssetPreview-module_videoContainer_YS-3-",kOe="AssetPreview-module_video_YGVsS",TOe="AssetPreview-module_check_G-wzE",EOe="AssetPreview-module_checkText_iKZ6E",LOe="AssetPreview-module_buttonContainer_PeAJW",jOe=({setUploadedLayer:e})=>{const t=Bu(),a=Du((e=>{var t,a;return null==(a=null==(t=e.studio.personas)?void 0:t.createPersonaOverlay)?void 0:a.videoAssetId})),{setVideoRef:n,streamSource:s}=Dx(a);return s?f.jsxs("div",{className:xOe,children:[f.jsx("div",{className:AOe,children:f.jsx("video",{ref:n,className:kOe,controls:!0,autoPlay:!0,playsInline:!0})}),f.jsxs("div",{className:TOe,children:[f.jsx("div",{className:EOe,children:"Double check! Your recording should be uncut and high quality. There should be a single speaker talking and looking directly towards the camera."}),f.jsx("div",{className:LOe,children:f.jsx("button",{className:IOe,onClick:()=>{e(null),t(WQ({videoAssetId:void 0}))},children:"Use a different video"})})]})]}):null},ROe="GenericBlock-module_genericContainer_Zvwj1",NOe="GenericBlock-module_horizontalContainer_vULM2",MOe="GenericBlock-module_content_Lt1QU",POe="GenericBlock-module_buttonWrapper_-744O",FOe="GenericBlock-module_img_Zrj0U",DOe="GenericBlock-module_genericBlockContainer_QAotx",OOe="GenericBlock-module_hasImg_ZfqAo",UOe="GenericBlock-module_contentContainer_9oZFT",BOe="GenericBlock-module_heading_o3JvC",WOe="GenericBlock-module_withClose_nlp1o",VOe="GenericBlock-module_body_tWi7M",HOe="GenericBlock-module_close_f2etI",zOe=b.memo((({body:e,heading:t,button:a,img:n,className:s="",headingClassName:o="",bodyClassName:i="",testId:r="",horizontal:l=!1,onDismiss:d})=>l?f.jsxs("div",{className:`${ROe} ${NOe} ${n?OOe:""} ${s}`,"data-cy":r,children:[n&&f.jsx("img",{src:n.imgSrc,alt:n.imgAlt,className:`${FOe} ${n.className}`}),f.jsxs("div",{className:MOe,children:[t&&f.jsx("div",{className:`${BOe} ${o}`,children:t}),e&&f.jsx("div",{className:`${VOe} ${i}`,children:e})]}),f.jsx("div",{className:POe,children:a})]}):f.jsxs("div",{className:`${ROe} ${DOe} ${n?OOe:""} ${s}`,"data-cy":r,"data-testid":r,children:[f.jsxs("div",{className:UOe,children:[n&&f.jsx("img",{src:n.imgSrc,alt:n.imgAlt,className:`${FOe} ${n.className}`}),f.jsxs("div",{className:MOe,children:[t&&f.jsxs("div",{className:`${BOe} ${void 0!==d?WOe:""} ${o}`,children:[t,d&&f.jsx("div",{className:HOe,onClick:d,"data-cy":`${r} close`,"data-testid":`${r} close`,children:f.jsx(R,{})})]}),e&&f.jsx("div",{className:`${VOe} ${i}`,children:e})]})]}),a]}))),GOe="UpsellBlock-module_upsellBlock_N7pFk",YOe="UpsellBlock-module_horizontalWrapper_C-ZK4",KOe="UpsellBlock-module_button_wPBzb",XOe="UpsellBlock-module_wrapper_5nhFF",ZOe="UpsellBlock-module_topLeftImg_fD9pI",qOe=b.memo((e=>{const{img:t,upsellBlockHeading:a,upsellBlockBody:n,buttonText:s}=$d(e.action),o=e.topLeftImg?ZOe:e.imgClassName,r=i.useMemo((()=>e.buttonText||s?f.jsx(qIe,{className:KOe,onPaywallSuccess:e.onPaywallSuccess,action:e.action,buttonText:e.buttonText||s,testId:e.testId,onClick:e.onButtonClick}):null),[s,e.action,e.buttonText,e.onButtonClick,e.onPaywallSuccess,e.testId]),l=i.useMemo((()=>({...t,className:o,imgSrc:e.imgSrc||t.imgSrc})),[t,o,e.imgSrc]);return f.jsx("div",{className:XOe,children:f.jsx(zOe,{className:`${GOe} ${e.horizontal?YOe:""}`,img:e.noImg?null:l,heading:a,body:`Upgrade ${n}`,horizontal:e.horizontal,button:r,testId:e.testId})})})),JOe=new Map;async function $Oe(e,t,a=25,n,s,o){const i={pageSize:a.toString()};t&&(i.lastId=t),n&&(i.search=n);const r=Object.entries(i).map((([e,t])=>`${e}=${t}`)).join("&"),l=`${e}?${r}`,d=JOe.get(l);if(d)return d;const c=(async()=>{try{const t=await Kf(e,{params:i,signal:o}),{data:r,meta:d}=t;return s&&s.addFromResponse(t,n||""),{data:r,next:d.hasNextPage?$Oe.bind(null,e,d.nextCursor,a,n,s,o):void 0}}finally{JOe.delete(l)}})();return JOe.set(l,c),c}const QOe=e=>e.CMLFiles.myMediaIds,eUe=u((e=>e.studio.thisProjectCMLFiles),(e=>Object.keys(e||{}))),tUe=u((e=>e.teams.activeBrandkit),(e=>{const{personas:t}=e||{};if(!t)return(null==e?void 0:e.cmlIds)||[];return((null==e?void 0:e.cmlIds)||[]).filter((e=>{for(const a of Object.values(t))if(a.cmlFile===e)return!1;return!0}))})),aUe="EllipsesAnimation-module_ellipsisAnim_qmbjS",nUe=b.memo((()=>f.jsxs("span",{className:aUe,children:[f.jsx("span",{children:"."}),f.jsx("span",{children:"."}),f.jsx("span",{children:"."})]}))),sUe="BrandkitInfoModal-module_background_RIS0e",oUe="BrandkitInfoModal-module_brandkitInfoModal_6bV0Y",iUe="BrandkitInfoModal-module_iconCloseWrapper_TdJIL",rUe="BrandkitInfoModal-module_actionsContainerTop_vaeS9",lUe="BrandkitInfoModal-module_upsellBanner_fevME",dUe="BrandkitInfoModal-module_override_6xS71",cUe="BrandkitInfoModal-module_head_I6vno",uUe="BrandkitInfoModal-module_body_EEMBW",pUe="BrandkitInfoModal-module_img_syKgv",mUe="BrandkitInfoModal-module_button_pFK3e",gUe=b.memo((({onClose:e})=>{const t=gg(Fd.BRANDKIT);return N.createPortal(f.jsx("div",{className:sUe,onClick:e,children:f.jsxs("div",{className:oUe,children:[f.jsxs("div",{className:rUe,children:[f.jsx("div",{className:cUe,children:"Stay consistent with Brand Kit"}),f.jsx("div",{className:iUe,children:f.jsx(R,{})})]}),!t&&f.jsx("div",{className:`${lUe} ${dUe}`,children:f.jsx(qOe,{action:Dd.BRANDKIT,horizontal:!0,noImg:!0})}),f.jsx("div",{className:uUe,children:"Build your Brand Kit for yourself and your team to easily access your brand assets like logos, colors, fonts, and more."}),f.jsx("img",{src:"https://cdn-useast1.kapwing.com/static/aZM-brand-kit-extended-w-templates_1.webp",alt:"brand kit",className:pUe}),f.jsxs("div",{className:uUe,children:[f.jsx("span",{children:!t&&"Upgrade to set up your own Brand Kit. "}),"Create brand templates for you and your team to make your branding consistent across any platform and any format."]}),f.jsx("div",{className:mUe,onClick:e,children:"Got It"})]})}),B_())})),hUe="Upload-module_screenReaderOnlyLabel_AANuC",vUe="Upload-module_uploadContainer_cjHEM",fUe="Upload-module_uploadTextContainer_q-AMj",bUe="Upload-module_uploadButton_DwF-n",yUe="Upload-module_uploadLabel_mlsCH",wUe="Upload-module_uploadLabelLight_VMOWR",_Ue="Upload-module_uploadLabelHeader_7dAoo",CUe="Upload-module_darkHeader_9O8jJ",SUe="Upload-module_uploadLabelSubheader_4Soh2",xUe="Upload-module_uploadIcon_LVlgn",IUe=b.memo((({handleMultiFileUpload:e,multiple:t,acceptedFileTypes:a,uploadText:n="Click to Upload",uploadSubtext:s="or, drag and drop a file here",theme:o=h_.Workspace})=>{const r=`upload-button-input-${g()}`,l=i.useCallback((t=>{var a;e(null==(a=null==t?void 0:t.target)?void 0:a.files)}),[e]);return f.jsx("div",{className:vUe,children:f.jsxs("label",{htmlFor:r,className:o===h_.Workspace?wUe:yUe,children:[f.jsx("span",{className:hUe,children:n}),f.jsx("input",{"data-cy":"upload-input","data-testid":"upload-input",id:r,className:bUe,accept:a,onChange:l,type:"file",multiple:t}),f.jsx("div",{className:fUe,children:f.jsxs("div",{className:o===h_.Workspace?CUe:_Ue,children:[f.jsxs("div",{className:_Ue,children:[n,f.jsx(Ra,{className:xUe})]}),f.jsx("div",{className:SUe,children:s})]})})]})})})),AUe={workspacePopoverZIndex:"18",popoverZIndex:"14",paywallZIndex:"1001",paywallBgZIndex:"1000",home:"BrandkitEditor-module_home_RJs3s",homeHowBackgroundWhite:"BrandkitEditor-module_homeHowBackgroundWhite_uWHj-",largeButton:"BrandkitEditor-module_largeButton_Lnsmr",sectionContent:"BrandkitEditor-module_sectionContent_JEawO",sectionHeader:"BrandkitEditor-module_sectionHeader_fPJLj",spacer:"BrandkitEditor-module_spacer_zf7-1",chevron:"BrandkitEditor-module_chevron_ITrVh",splashText:"BrandkitEditor-module_splashText_1zqgr",splashSubtext:"BrandkitEditor-module_splashSubtext_EaBhP",aboutSection:"BrandkitEditor-module_aboutSection_CAQZW",mobile:"BrandkitEditor-module_mobile_nHowz",desktop:"BrandkitEditor-module_desktop_CpPra",screenReaderOnlyLabel:"BrandkitEditor-module_screenReaderOnlyLabel_yBPNx",disabled:"BrandkitEditor-module_disabled_vhD9M",disabledWithPointerEvents:"BrandkitEditor-module_disabledWithPointerEvents_1ZTEY",noScrollBar:"BrandkitEditor-module_noScrollBar_btrMv",textOverflowEllipsis:"BrandkitEditor-module_textOverflowEllipsis_Al-um",disableTextHighlight:"BrandkitEditor-module_disableTextHighlight_2Fb95",genericButtonBlue:"BrandkitEditor-module_genericButtonBlue_Y-alb",tooltip:"BrandkitEditor-module_tooltip_3G0DE",tooltipBubble:"BrandkitEditor-module_tooltipBubble_K2qRm",tooltipTextBottomAlignRight:"BrandkitEditor-module_tooltipTextBottomAlignRight_OfhJC",tooltipTextBottomAlignLeft:"BrandkitEditor-module_tooltipTextBottomAlignLeft_ovORr",tooltipTextSlightTop:"BrandkitEditor-module_tooltipTextSlightTop_wyswh",tooltipTextTop:"BrandkitEditor-module_tooltipTextTop_iGZyD",keyboardShortcut:"BrandkitEditor-module_keyboardShortcut_jWJ2A",keyboardShortcutWithOutline:"BrandkitEditor-module_keyboardShortcutWithOutline_uRNYX",mainContainer:"BrandkitEditor-module_mainContainer_N6X81",mainTitle:"BrandkitEditor-module_mainTitle_5UTLQ",sectionTitle:"BrandkitEditor-module_sectionTitle_aAuII",sectionDescription:"BrandkitEditor-module_sectionDescription_YTr8g",infoIcon:"BrandkitEditor-module_infoIcon_Ki-gV",mobileOnlyEditButton:"BrandkitEditor-module_mobileOnlyEditButton_8ZYyP",chevronContainer:"BrandkitEditor-module_chevronContainer_ZHKVM",blockContainer:"BrandkitEditor-module_blockContainer_oEaOK",largeBlock:"BrandkitEditor-module_largeBlock_F0mi-",fontContainer:"BrandkitEditor-module_fontContainer_OsJ5c",imageContainer:"BrandkitEditor-module_imageContainer_HVF5R",smallBlock:"BrandkitEditor-module_smallBlock_bCxb7",smallBlockWithBorder:"BrandkitEditor-module_smallBlockWithBorder_1UwRb",midSizeBlockContainer:"BrandkitEditor-module_midSizeBlockContainer_Kr-7D",voiceNames:"BrandkitEditor-module_voiceNames_y9GWb",darkModeVoiceNames:"BrandkitEditor-module_darkModeVoiceNames_-RW4m",voiceBlock:"BrandkitEditor-module_voiceBlock_6Oc1D",darkModeVoiceBlock:"BrandkitEditor-module_darkModeVoiceBlock_SVGYC",voiceIcon:"BrandkitEditor-module_voiceIcon_Ve8jb",darkModeVoiceIcon:"BrandkitEditor-module_darkModeVoiceIcon_kuF93",midSizeBlock:"BrandkitEditor-module_midSizeBlock_8hcHE",textStyle:"BrandkitEditor-module_textStyle_ActrV",proSparkle:"BrandkitEditor-module_proSparkle_xLmie",addButton:"BrandkitEditor-module_addButton_MrHqq",icon:"BrandkitEditor-module_icon_36Oj0",deleteButton:"BrandkitEditor-module_deleteButton_NVtvD",imageInnerContainer:"BrandkitEditor-module_imageInnerContainer_i7GpV",fontHeading:"BrandkitEditor-module_fontHeading_3blJA",fontPlaceholder:"BrandkitEditor-module_fontPlaceholder_a2luU",uploadContainer:"BrandkitEditor-module_uploadContainer_Vnnwk",uploadMediaContainer:"BrandkitEditor-module_uploadMediaContainer_J80Wu",uploadFontContainer:"BrandkitEditor-module_uploadFontContainer_JOiLp",fontLoadingContainer:"BrandkitEditor-module_fontLoadingContainer_jRAWB",header:"BrandkitEditor-module_header_3Wsmy",headerLeft:"BrandkitEditor-module_headerLeft_FCkt-",timestamp:"BrandkitEditor-module_timestamp_k6zNW",assetNameInput:"BrandkitEditor-module_assetNameInput_S2FH-",displayAssetName:"BrandkitEditor-module_displayAssetName_A9KAy",invisibleSpan:"BrandkitEditor-module_invisibleSpan_g8108",assetBlockWrapper:"BrandkitEditor-module_assetBlockWrapper_pTGan",colorHexCodeText:"BrandkitEditor-module_colorHexCodeText_-KKN0",createText:"BrandkitEditor-module_createText_wl487",loadingWrapper:"BrandkitEditor-module_loadingWrapper_1kqwS",brandkitUpsellBanner:"BrandkitEditor-module_brandkitUpsellBanner_Y3azf",preview:"BrandkitEditor-module_preview_0Aovk",glossaryButton:"BrandkitEditor-module_glossaryButton_N7yL5"},kUe="FontSelectOverlay-module_header_FQ-op",TUe="FontSelectOverlay-module_headerLeft_-KN0g",EUe="FontSelectOverlay-module_headerButton_AWGEv",LUe="FontSelectOverlay-module_selected_Jm7LU",jUe="FontSelectOverlay-module_contentContainer_-B3oc",RUe=b.memo((({acceptedFileTypes:e,handleMultiFileUpload:t,multiple:a,unsetCancelModal:n,className:s})=>{const o=i.useCallback((e=>{t(e.dataTransfer.files),e.preventDefault(),e.stopPropagation()}),[t]),r=i.useCallback((e=>{e.preventDefault(),e.stopPropagation()}),[]),l=i.useCallback((e=>{e.preventDefault(),e.stopPropagation()}),[]);return f.jsx(rC,{usePortal:!0,unsetCancelModal:n,className:s,onDrop:o,onDragOver:r,onDragEnter:l,children:f.jsxs("div",{onDragOver:r,onDragEnter:l,onDrop:o,children:[f.jsx("div",{className:AUe.header,children:f.jsx("div",{className:AUe.headerLeft,children:f.jsx("div",{className:`${EUe} ${LUe}`,children:"Upload"})})}),f.jsx("div",{className:AUe.uploadMediaContainer,children:f.jsx(IUe,{acceptedFileTypes:e,handleMultiFileUpload:t,multiple:a})})]})})})),NUe=e=>i.createElement("svg",{width:22,height:18,viewBox:"0 0 22 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},i.createElement("path",{d:"M9.27038 13.0048C8.93762 13.2187 8.5 12.9797 8.5 12.5842V5.41583C8.5 5.02025 8.93762 4.78133 9.27038 4.99524L14.8457 8.57941C15.1519 8.77623 15.1519 9.22377 14.8457 9.42059L9.27038 13.0048Z",fill:"white"}),i.createElement("path",{d:"M17 1.5H19.5C20.0523 1.5 20.5 1.94772 20.5 2.5V5",stroke:"white",strokeWidth:2,strokeLinecap:"round"}),i.createElement("path",{d:"M5 1.5H2.5C1.94772 1.5 1.5 1.94772 1.5 2.5V5",stroke:"white",strokeWidth:2,strokeLinecap:"round"}),i.createElement("path",{d:"M17 16.5H19.5C20.0523 16.5 20.5 16.0523 20.5 15.5V13",stroke:"white",strokeWidth:2,strokeLinecap:"round"}),i.createElement("path",{d:"M5 16.5H2.5C1.94772 16.5 1.5 16.0523 1.5 15.5V13",stroke:"white",strokeWidth:2,strokeLinecap:"round"})),MUe="BrandkitPrepopulatedTooltip-module_tooltipContent_GuVRK",PUe="BrandkitPrepopulatedTooltip-module_bold_lzQz0",FUe=({getUpsellDateShown:e,setUpsellShown:t})=>{const{state:a}=Mu(),n=Nb(a),s=a.teams.activeBrandkit,o=a.studioTour.isOpen;if(!n||!s||!s.isPrepopulated||o)return!1;return!e(HCe.BrandkitPrepopulated)&&(t(HCe.BrandkitPrepopulated),!0)},DUe=b.memo((({children:e,handleCloseTooltip:t,showTooltip:a})=>{const{mediaBarWidth:n}=Du((e=>({mediaBarWidth:e.studioLocal.mediaBarWidth})),Ou),s=lg(),o=Bg(),r=i.useMemo((()=>f.jsxs("div",{className:MUe,children:[f.jsxs("div",{children:["We found these brand assets from"," ",f.jsx("span",{className:PUe,children:s.emailDomain??"your team"})," ","for you. You can find and edit them in the My Media Tab."]}),f.jsx("img",{src:"https://cdn-useast1.kapwing.com/static/zhL-32XrJTqf-image.webp",alt:"brandkit prepopulated tooltip"})]})),[s.emailDomain]);return a&&!o?f.jsx(Ame,{header:"Get Started with Brand Kit",content:r,open:a,onClose:t,sideOffset:n-210,withRainbowBorder:!1,children:e}):f.jsx(f.Fragment,{children:e})})),OUe="CMLFileNamePopover-module_filenameToolTipContainer_uXAA-",UUe="CMLFileNamePopover-module_filenameOutline_Wha4S",BUe=e=>`cml-filename-popover-input-${e}`;function WUe(e){return Math.min(Math.max(5,e.length+2),50)}async function VUe({assetId:e,brandkitItem:t,cmlFileId:a,newFileName:n}){try{const{dispatch:o}=Mu();if(await JH(a,n),void 0!==e){let i;try{await JH(a,n),"true"===t&&(await C2(e,{name:n}),o(KE({assetId:e,update:{name:n}}))),o(KH({id:a,newFileName:n})),i=!0}catch(s){cb({description:"Error updating media name",error:s}),i=!1}ov("Rename My Media",{isBrandkitItem:t,isSuccessful:i})}}catch(s){cb({description:"Error updating media name",error:s})}}const HUe=b.forwardRef((({assetId:e,brandkitItem:t,cmlFileId:a,filename:n,onClose:s,onFocus:o},r)=>{const l=Bu(),[d,c]=i.useState(""),u=i.useRef("");u.current=d;const[p,m]=i.useState(!1),[g,h]=i.useState(5),v=D2(),[b,y]=i.useState(!1);async function w(){if(v.current)if("true"===t&&void 0!==e&&void 0!==n&&a)try{const t=await y2(e),s=void 0===t.name?n:t.name;l(KH({id:a,newFileName:s})),l(KE({assetId:e,update:{name:s}})),c(s)}catch{c(n)}else void 0!==n&&c(n)}i.useEffect((function(){return()=>{const s=u.current;p&&u.current!==n&&VUe({assetId:e,brandkitItem:t,cmlFileId:a,newFileName:s})}}),[e,t,a,n,p]);const _=async e=>{e.stopPropagation(),p||(n&&a&&(m(!0),c(n),h(WUe(n))),w())};const C=p?d:n;return f.jsx("div",{ref:r,className:OUe,onMouseEnter:()=>{if(p&&void 0!==a&&d!==n)return c(d),void h(WUe(d));n&&a&&h(WUe(n)),w()},children:f.jsx("form",{onSubmit:async function(o){o.preventDefault(),d!==n&&(y(!0),await VUe({assetId:e,brandkitItem:t,cmlFileId:a,newFileName:d})),v.current&&(m(!1),y(!1),s())},onFocus:o,children:f.jsx("input",{id:BUe(a),type:"text",size:g,value:b?"Loading ...":C,onChange:e=>{m(!0);const t=e.target.value.replaceAll("[^a-zA-Z0-9\\.\\-]","_");c(t),h(WUe(t))},className:UUe,onClick:_,onMouseDown:_,maxLength:50,autoComplete:"off"})})})})),zUe={workspacePopoverZIndex:"18",popoverZIndex:"14",paywallZIndex:"1001",paywallBgZIndex:"1000",home:"CloudMediaLibraryTile-module_home_jLHU8",homeHowBackgroundWhite:"CloudMediaLibraryTile-module_homeHowBackgroundWhite_xNwUL",largeButton:"CloudMediaLibraryTile-module_largeButton_EE-Kv",sectionContent:"CloudMediaLibraryTile-module_sectionContent_C19PQ",sectionHeader:"CloudMediaLibraryTile-module_sectionHeader_54ddT",spacer:"CloudMediaLibraryTile-module_spacer_F-ZvT",chevron:"CloudMediaLibraryTile-module_chevron_WwAwa",splashText:"CloudMediaLibraryTile-module_splashText_rSCDV",splashSubtext:"CloudMediaLibraryTile-module_splashSubtext_ISa1f",aboutSection:"CloudMediaLibraryTile-module_aboutSection_oaGO9",mobile:"CloudMediaLibraryTile-module_mobile_b1DnX",desktop:"CloudMediaLibraryTile-module_desktop_lHKlW",screenReaderOnlyLabel:"CloudMediaLibraryTile-module_screenReaderOnlyLabel_RUSy0",disabled:"CloudMediaLibraryTile-module_disabled_-VTgE",disabledWithPointerEvents:"CloudMediaLibraryTile-module_disabledWithPointerEvents_ZkPSI",noScrollBar:"CloudMediaLibraryTile-module_noScrollBar_NasFv",textOverflowEllipsis:"CloudMediaLibraryTile-module_textOverflowEllipsis_fn5qi",disableTextHighlight:"CloudMediaLibraryTile-module_disableTextHighlight_H1Xy7",genericButtonBlue:"CloudMediaLibraryTile-module_genericButtonBlue_8svDe",container:"CloudMediaLibraryTile-module_container_IPtK-",premiumAssetSparkleContainer:"CloudMediaLibraryTile-module_premiumAssetSparkleContainer_R156X",premiumAssetSparkleText:"CloudMediaLibraryTile-module_premiumAssetSparkleText_BptAr",imageContainer:"CloudMediaLibraryTile-module_imageContainer_0XYat",brandkitItem:"CloudMediaLibraryTile-module_brandkitItem_KXHOD",draggableTile:"CloudMediaLibraryTile-module_draggableTile_Wve8M",img:"CloudMediaLibraryTile-module_img_UgB78",scrubCursorContainer:"CloudMediaLibraryTile-module_scrubCursorContainer_MfG6O",scrubCursor:"CloudMediaLibraryTile-module_scrubCursor_WHhY9",videoDuration:"CloudMediaLibraryTile-module_videoDuration_BJVI-",text:"CloudMediaLibraryTile-module_text_CZahY",fileIcon:"CloudMediaLibraryTile-module_fileIcon_Djl2X",fileName:"CloudMediaLibraryTile-module_fileName_ZW8is",actionIcon:"CloudMediaLibraryTile-module_actionIcon_W0aRl",previewIcon:"CloudMediaLibraryTile-module_previewIcon_YKWvU",trashIcon:"CloudMediaLibraryTile-module_trashIcon_6Qnst",plusIcon:"CloudMediaLibraryTile-module_plusIcon_sWbwC",noIconBackground:"CloudMediaLibraryTile-module_noIconBackground_keI-A",uploading:"CloudMediaLibraryTile-module_uploading_akpS6",uploadingContent:"CloudMediaLibraryTile-module_uploadingContent_Y4-dR",uploadingRemoteContent:"CloudMediaLibraryTile-module_uploadingRemoteContent_VF67D",uploadingLocalContent:"CloudMediaLibraryTile-module_uploadingLocalContent_4H41d",progress:"CloudMediaLibraryTile-module_progress_ZrN3J",timestamp:"CloudMediaLibraryTile-module_timestamp_HTJo7",loadingIconTile:"CloudMediaLibraryTile-module_loadingIconTile_7u-Wd",loadingIconContainer:"CloudMediaLibraryTile-module_loadingIconContainer_QFm2p",addContainer:"CloudMediaLibraryTile-module_addContainer_xLU6F",loadingIcon:"CloudMediaLibraryTile-module_loadingIcon_sgfkX",spin:"CloudMediaLibraryTile-module_spin_grMOz",sectionLabel:"CloudMediaLibraryTile-module_sectionLabel_rpobV",brandkitNoItems:"CloudMediaLibraryTile-module_brandkitNoItems_-AZRm",infoIcon:"CloudMediaLibraryTile-module_infoIcon_eRxbY",brandkitBackground:"CloudMediaLibraryTile-module_brandkitBackground_ya7hm",addYourOwnSection:"CloudMediaLibraryTile-module_addYourOwnSection_gx8wv",brandkitEmptyContainer:"CloudMediaLibraryTile-module_brandkitEmptyContainer_hXWYt",uploadToBrandkit:"CloudMediaLibraryTile-module_uploadToBrandkit_rsIx3",isNotEmpty:"CloudMediaLibraryTile-module_isNotEmpty_pHdCT",addButton:"CloudMediaLibraryTile-module_addButton_t4iIQ",addIcon:"CloudMediaLibraryTile-module_addIcon_Ww3CK",uploadOverlayContainer:"CloudMediaLibraryTile-module_uploadOverlayContainer_S7mPY",override:"CloudMediaLibraryTile-module_override_vPI59"},GUe=()=>{},YUe=(e,t,a,n)=>{const s=0===e,o=e===a-1,i=e===t-a,r=e===t-1,l=e<a,d=e>=t-a,c=e%a==0,u=e%a==a-1;return{...n,top:parseFloat(`${null==n?void 0:n.top}`)-5,height:parseFloat(`${null==n?void 0:n.height}`)+1,width:parseFloat(`${null==n?void 0:n.width}`)+1,borderWidth:"1px",borderRadius:`${s?10:0}px ${o?10:0}px ${r?10:0}px ${i?10:0}px`,borderStyle:`${l?"solid":"none"} ${u?"solid":"none"} ${d?"solid":"none"} ${c?"solid":"none"}`}},KUe=e=>{e.stopPropagation(),e.preventDefault(),Mu().dispatch(A4.open({mediaLibrary:!0}))},XUe=e=>{try{const t=new Date(1e3*e).toISOString(),a=t.substr(14,5),n=t.substr(11,8);return e>=3600?n:a}catch(b9e){return console.error(b9e),""}},ZUe=e=>"video"===e?f.jsx(Da,{className:zUe.fileIcon}):"audio"===e?f.jsx(Oa,{className:zUe.fileIcon}):"image"===e?f.jsx(Ua,{className:zUe.fileIcon}):null;function qUe(e){e.preventDefault()}const JUe=b.memo((({style:e,data:{allowDnd:t,filter:a,item:n,location:s,brandkitItem:o=!1,filenameHoveredId:r,setFilenameHoveredId:l,showBrandkitPrepopulatedTooltip:d,handleCloseBrandkitPrepopulatedTooltip:c,hideRename:u,hideDelete:p,hideTrim:m,onAdd:g}})=>{var h;const v=gg(Fd.BRANDKIT),b=gg(Fd.PREMIUM_ASSETS),y=rse(),{asset:w,conversionInProgress:_,duration:C,fileIsBeingUsed:S,fileName:x,isAdding:I,mediaCacheId:A,timelineLayer:k,uploadingLayer:T,selectedTeamId:E,videoId:j}=Du((e=>{var t,s,o,i,r,l,d;const c="CMLFile"===n.type?e.assets.byId[n.cmlFile.asset_id]:null,u="CMLFile"===n.type&&e.studioLocal.isAdding[n.cmlFile.asset_id],p="CMLFile"===n.type&&"number"==typeof(null==(s=null==(t=n.uploadStatus)?void 0:t.conversionProgress)?void 0:s.uploading_converted)&&(null==(i=null==(o=n.uploadStatus)?void 0:o.conversionProgress)?void 0:i.uploading_converted)<100,m=function(e,t){for(const a of e)if("CMLFile"===t.type){if(t.cmlFile._id===a.cmlFileId)return a}else if(t.uploadId===a.uploadId)return a;return null}(Gx(e),n);let g=null;"CMLFile"===n.type?g=e.mediaCache.assetIdToMediaCacheId[n.cmlFile.asset_id]:n.uploadManager&&(g=Hp(n.uploadManager.layer));const h="CMLFile"===n.type?null==(l=null==(r=n.uploadStatus)?void 0:r.uploadManager)?void 0:l.layer:null==(d=n.uploadManager)?void 0:d.layer,v=$E({asset:c,timelineLayer:"thisProject"===a?m:null,uploadingLayer:h,fallback:"UploadingLayer"===n.type?n.uploadFileName:null,cmlFile:"CMLFile"===n.type?n.cmlFile:null}),f=QE({asset:c,uploadingLayer:h}),{selectedTeamId:b}=e.teams,{_id:y}=e.studio;return{asset:c,conversionInProgress:p,duration:f,fileIsBeingUsed:!!m,fileName:v,isAdding:u,mediaCacheId:g,timelineLayer:m,uploadingLayer:h,selectedTeamId:b,videoId:y}}),Ou),[R,N]=i.useState("hidden"),M=e=>{u||N(e)},[P,F]=i.useState(0),[D,O]=i.useState(!1),[U,B]=i.useState(.5),[W,V]=i.useState(!1),[H,z]=i.useState(!1),[G,Y]=i.useState(!0),[K,X]=i.useState(""),Z=i.useRef(null),q=Bu(),J=kE(A),$=Bg(),Q=!!(w&&w.metadata_stage&&w.thumbnails&&w.thumbnails.length>1),ee="premium-assets"===(null==w?void 0:w.usedProFeature),te=Du((e=>fS({asset:w,framePercentage:U,idbAsset:J,timelineLayer:k,state:e}))),ae=(()=>{if("string"!=typeof te)return te;if(!K)return te;try{const e=new URL(te);return`${K}${e.pathname}`}catch(b9e){return te}})();let ne=null;if(T)ne=T.type;else if(w){const e=E2(w);e&&(ne=e)}const se=function(e,t){return e?!(!t||t.conversion_id||t.conversion_type===e.conversion_type)||!e.conversion_id&&!e.conversion_type:!!(e||(null==t?void 0:t.bucket_name)&&t.blob_name)&&!(null==t?void 0:t.conversion_id)}(T,w);let oe=null;t&&!$&&se&&("CMLFile"===n.type&&w&&(oe={type:$S.CML_FILE,asset:w,cmlFile:n.cmlFile,thumbnailUrl:ae,brandkitItem:o}),"UploadingLayer"===n.type&&n.uploadManager&&(oe={type:$S.UPLOADING_LAYER,layer:n.uploadManager.layer,uploadId:n.uploadId}));const[{isDragging:ie},re,le]=Na({type:$S.CML_FILE,item:()=>oe,collect:e=>({isDragging:e.isDragging()}),end:()=>{}});i.useEffect((()=>{ie&&V(!0)}),[ie]),i.useEffect((()=>{le(Ma())}),[le]),i.useEffect((()=>{Y(!0)}),[null==w?void 0:w._id]),i.useEffect((function(){const e="hidden"!==R;"CMLFile"===n.type&&(e&&!r?l(n.cmlFile._id):e||r!==n.cmlFile._id||l(null))}),[r,R,n,l]);const de=i.useCallback((()=>{z(!1)}),[]),ce=i.useCallback((e=>{var t;const a=null==(t=e.target)?void 0:t.id;"CMLFile"===n.type&&a===BUe(n.cmlFile._id)&&e.preventDefault()}),[n]);async function ue(){if(g)return g(n);try{let e=null;if(o&&j&&((async e=>{const{state:t}=Mu(),{status:a,interval:n}=await X3(),s=rg(t);s&&ov("Add Brandkit Media to Project",{"Current Plan":s.planTier,"Subscription Status":a,"Monthly/Annual":n,"Team ID":s._id,"Number of Workspace Members":s.users.length,"Video ID":e,"Brand Kit Pre-Populated":qg()})})(j),d&&c()),"CMLFile"===n.type)if(w){const t=await G9({cmlFile:n.cmlFile,asset:w});t&&(e=t.type)}else console.error("Cannot add CML file with no asset");else{if(!n.uploadManager)return void console.error("CMLTile missing upload manager");const t=await sle({manager:n.uploadManager,properties:{addedFromMediaLibrary:!0}});t&&(e=t.type,Fm(t)&&c9({uploadId:t.uploadId??void 0,assetId:t.asset_id,source:"Media Library"}))}e&&rv(e,"media library"),"overlay"===s&&dR()}catch(e){console.error(e)}}async function pe(){if("myMedia"===a){if("UploadingLayer"===n.type)return;return o?(m2("remove","media"),await Yf(`/api/v1/cloudMediaLibrary/teamLink/${n.cmlFile._id}/${E}`),void q(Ib((e=>({...e,cmlIds:[...e.cmlIds].filter((e=>e!==n.cmlFile._id))}))))):void UH(n.cmlFile._id)}S?"CMLFile"===n.type?q(zH({type:"CMLFile",id:n.cmlFile._id})):q(zH({type:"uploadId",id:n.uploadId})):"CMLFile"===n.type?ole(n.cmlFile):ile(n.uploadId)}let me=null;if(ne===Nc.Video&&!(w&&w.conversion_id)&&"CMLFile"===n.type){let e=null;w&&(e=async()=>{let e;if(!w.url){const t=await y2(w._id);q(YE([t])),e=t.url}const t=e||w.url;t?jne({type:"media-library",source:"remote",asset_id:w._id,url:t,previewType:XS.trim,cmlFile:n.cmlFile}):q(db({description:"Couldn't fetch asset to trim",type:"error"}))}),e&&(me=t=>{ov("Media library trim clicked"),t.preventDefault(),t.stopPropagation(),e()})}let ge=!1,he=null,ve=null,fe=100;const be=(null==w?void 0:w.blob_name)&&(null==w?void 0:w.bucket_name);"UploadingLayer"===n.type?(he=n.progressPrefix,ve=100===n.uploadProgress||null===n.uploadProgress?null:`${n.uploadProgress}%`,fe=n.uploadProgress||0,ge=!0):(null==(h=n.uploadStatus)?void 0:h.stage)&&n.uploadStatus.stage!==KS.errored&&n.uploadStatus.stage!==KS.done?(he="",ve="",fe=n.uploadStatus.progress||100,ge=!0):T||be||(he="",ve="",fe=0,ge=!0);const ye=ee&&!b,we=p?null:f.jsxs("div",{onClick:e=>{e.stopPropagation(),!o||v?z(!0):y((()=>null),{action:Dd.BRANDKIT})(),o||pe()},className:zUe.trashIcon,"data-cy":"media-library-item-delete",children:[f.jsx("span",{className:uh.tooltipTextSlightTop,children:"Delete"}),f.jsx(Ba,{})]}),_e=!$&&me&&!m&&se?f.jsxs("div",{className:zUe.previewIcon,onClick:y(me,{if:o&&!v,action:Dd.BRANDKIT}),"data-cy":"trim-preview-btn",children:[f.jsx("span",{className:uh.tooltipTextSlightTop,children:"Preview"}),f.jsx(NUe,{})]}):null;return f.jsxs(f.Fragment,{children:[H&&o&&f.jsx(Dbe,{delete:pe,hideDelete:de,description:Fbe("media",{extraText:"It will be removed from your Brand Kit and no longer appear in the Brand Kit tab of your workspace or in the Editor."}),headerTitle:"Delete Media",theme:"dark"}),f.jsxs("div",{style:e,className:zUe.container,"data-cy":"media-library-item",onMouseEnter:()=>{O(!0)},onMouseLeave:()=>{O(!1)},children:[f.jsxs("div",{ref:e=>{re(e),Z.current=e},className:L({[zUe.imageContainer]:!0,[zUe.brandkitItem]:o,[zUe.draggableTile]:t}),onMouseMove:C?async e=>{if(!Z.current)return;if(ie)return;const t=Z.current.getBoundingClientRect(),a=e.clientX-t.left-3;F(a);const n=Z.current.clientWidth,s=Math.min(1,Math.max(0,a/n));B(s)}:GUe,onMouseDown:()=>V(!1),onClick:e=>{W||se&&(I||(e.stopPropagation(),!o||v?ue():y((()=>null),{action:Dd.BRANDKIT})()))},style:{cursor:oe?"grab":"pointer",backgroundImage:"url('https://cdn-useast1.kapwing.com/static/zCj-dark-mode-grid.webp')"},"data-testid":"cml-tile-image-container",children:[_?f.jsx(Hw,{message:"Converting to a lower resolution video for quicker editing and playback.\nThe highest quality version will be used during export.",delayDuration:0,children:f.jsx("div",{className:zUe.loadingIconContainer,"data-cy":"upload-converting",children:f.jsx(Ise,{className:zUe.loadingIcon})})}):null,D&&!ie&&f.jsxs(f.Fragment,{children:[we,_e]}),C&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:zUe.timestamp,children:`${XUe(C)}`}),I?f.jsx("div",{className:zUe.loadingIconTile,children:f.jsx(Ise,{className:zUe.loadingIcon})}):null]}),Q&&f.jsx("div",{className:zUe.scrubCursorContainer,children:f.jsx("div",{className:zUe.scrubCursor,style:{marginLeft:`${P}px`,display:D&&!ie?"block":"none",width:3}})}),ae?f.jsx("img",{draggable:"false",className:zUe.img,src:G?fd:ae,onError:e=>{if(K)return;const t=e.target,{src:a}=t;if(a.startsWith(Vl)){const e=a.replace(Vl,"https://cdn.kapwing.com");return t.src=e,void X("https://cdn.kapwing.com")}if(a.startsWith("https://cdn.kapwing.com")){const e=a.replace("https://cdn.kapwing.com",Vl);t.src=e,X(Vl)}},alt:"File preview",onLoad:()=>Y(!1)}):f.jsx("div",{className:zUe.noIconBackground}),ge&&f.jsxs("div",{className:zUe.uploading,"data-cy":"upload-status","data-testid":"upload-status",children:[f.jsx("div",{className:"UploadingLayer"===n.type&&n.remoteUpload?zUe.uploadingRemoteContent:zUe.uploadingLocalContent,children:f.jsxs("span",{"data-cy":"cloud-media-upload-status-text",children:[f.jsx("span",{children:he}),f.jsx(nUe,{}),f.jsx("span",{children:ve})]})}),f.jsx("div",{className:zUe.progress,style:{background:`linear-gradient(to right, #0083e2 ${fe}%, rgba(134, 138, 153, 0.4) ${fe}%)`}})]})]}),f.jsx(hr,{open:!("hidden"===R||$||r&&"CMLFile"===n.type&&r!==n.cmlFile._id),onOpenChange:e=>M(e?"active":"hidden"),children:f.jsxs("div",{className:zUe.text,onMouseEnter:()=>M((e=>"active"===e?"active":"hover")),onMouseLeave:()=>{M((e=>"active"!==e?"hidden":e))},children:[ZUe(ne),f.jsx(vr,{asChild:!0,children:f.jsx("div",{className:zUe.fileName,translate:"no",children:x})}),"UploadingLayer"!==n.type&&f.jsx(fr,{children:f.jsx(br,{asChild:!0,avoidCollisions:!1,side:"top",sideOffset:-20,align:"start",onInteractOutside:ce,onOpenAutoFocus:qUe,children:f.jsx(HUe,{filename:x||"",cmlFileId:n.cmlFile._id,brandkitItem:String(o),assetId:n.cmlFile.asset_id,onClose:()=>M("hidden"),onFocus:()=>M("active")})})})]})}),D&&!ie&&se&&!ye&&f.jsxs("div",{onMouseDown:e=>{I||(V(!1),e.preventDefault(),e.stopPropagation(),y(ue,{if:o&&!v,action:Dd.BRANDKIT})())},className:zUe.plusIcon,"data-cy":"add-media-item","data-testid":"cml-add-icon",children:[f.jsx("span",{className:uh.tooltipTextBottomAlignRight,children:"Add to Project"}),I?null:f.jsx(Pa,{})]}),!ie&&ye&&f.jsxs("div",{onMouseDown:e=>{V(!1),e.preventDefault(),e.stopPropagation(),y((()=>{}),{if:!b,action:Dd.PREMIUM_ASSETS})()},className:zUe.premiumAssetSparkleContainer,children:[f.jsx(_se,{})," ",f.jsx("span",{className:zUe.premiumAssetSparkleText,children:"PRO"})]})]})]})})),$Ue=b.memo((({analyticsUploadSource:e,handlePreemptiveFinish:t,shouldOpenOverlay:a,style:n,UploadCellLabel:s})=>f.jsx("div",{style:n,className:zUe.container,children:f.jsx("div",{className:zUe.addContainer,onClick:a?KUe:GUe,children:f.jsx(RMe,{analyticsUploadSource:e,handlePreemptiveFinish:t,handleFinish:D4,multiple:!0,uploadLocation:"uploadOverlay",isMediaLibraryUpload:!0,isMediaLibraryContainer:!0,mediaLibraryContainerLabel:s,doDuplicateHandling:!0})})}))),QUe=b.memo((({style:e,isEmpty:t})=>{const a=gg(Fd.BRANDKIT),n=rse(),[s,o]=i.useState(!1),r=i.useCallback((e=>{e&&(C9(e,{uploadOptions:{analyticsUploadSource:"Team brand kit",uploadSourceComponent:"BrandkitUpload",createTeamAsset:!0},validationOptions:{}}),m2("add","media"),o(!1))}),[]),l=i.useCallback((()=>{o(!1)}),[]);return f.jsxs("div",{style:t?{}:e,className:`${zUe.container} ${zUe.uploadToBrandkit} ${t?"":zUe.isNotEmpty}`,children:[f.jsxs("div",{className:`${zUe.addButton} ${zUe.addContainer}`,onClick:()=>{a?o(!0):n((()=>{}),{action:Dd.BRANDKIT})()},children:[f.jsx(Fa,{className:zUe.addIcon}),f.jsx("span",{children:t?"Add media to your Brand Kit":"Add media"})]}),s&&f.jsx(RUe,{acceptedFileTypes:LI(),handleMultiFileUpload:r,unsetCancelModal:l,multiple:!0,dark:!0,className:`${zUe.uploadOverlayContainer} ${zUe.override}`})]})})),eBe=e=>{const t=Math.ceil(e.userBrandkitItems.length/e.columnCount);return"thisProject"===e.filter?0:t*e.columnCount};function tBe({rowIndex:e,columnIndex:t,data:a}){const n=a;let s=e*n.columnCount+t;if("thisProject"===n.filter){if(0===s)return{item:"upload",itemNdx:-1};s-=1}const o=eBe(n);return{item:s<o?n.userBrandkitItems[s]:n.cmlItems[s-o],itemNdx:s}}const aBe=b.memo((e=>{const{data:t,style:a,...n}=e,{handleCloseBrandkitPrepopulatedTooltip:s,showBrandkitPrepopulatedTooltip:o,userBrandkitItems:r}=t,l=eBe(t),d=gg(Fd.BRANDKIT),[c,u]=i.useState(!1),p=r.length>0,m=i.useCallback((()=>{u(!1)}),[]),g={...a,top:`${parseFloat(e.style.top)+14+("myMedia"===t.filter&&p?26:0)}px`},h=i.useMemo((()=>({...a,top:`${parseFloat(e.style.top)+43}px`,padding:0,width:g.width?parseFloat(g.width)-16:a.width,height:105,left:"8px"})),[g.width,e.style.top,a]),{item:v,itemNdx:b}=tBe({rowIndex:n.rowIndex,columnIndex:n.columnIndex,data:t});if("upload"===v)return f.jsx($Ue,{...e,analyticsUploadSource:t.analyticsUploadSource,handlePreemptiveFinish:t.handlePreemptiveFinish,shouldOpenOverlay:"sidebar"===t.location,style:g});let y=null;if(v){const{cmlItems:a,...i}=t;if("BrandkitUpload"===v.type)y=f.jsxs(f.Fragment,{children:[!p&&f.jsxs("div",{className:`${zUe.sectionLabel} ${zUe.brandkitNoItems}`,children:["Brand Kit ",!d&&f.jsx(_se,{}),f.jsx("div",{className:zUe.infoIcon,onClick:()=>{u(!0)},children:f.jsx(Wa,{})})]}),f.jsx(QUe,{isEmpty:!p,...e,style:h})]});else{const e={data:{item:v,...i,brandkitItem:b<l,handleCloseBrandkitPrepopulatedTooltip:s,showBrandkitPrepopulatedTooltip:o},style:g,...n};y=f.jsx(JUe,{...e})}}const w=0===b;return f.jsxs(f.Fragment,{children:[c&&f.jsx(gUe,{onClose:m}),b<l&&p&&"myMedia"===t.filter&&f.jsx("div",{style:YUe(b,l,t.columnCount,g),className:zUe.brandkitBackground,children:w&&f.jsx(DUe,{handleCloseTooltip:s,showTooltip:o,children:f.jsxs("div",{style:{top:"-21px"},className:zUe.sectionLabel,children:["Brand Kit ",!d&&f.jsx(_se,{}),f.jsx("div",{className:zUe.infoIcon,onClick:()=>{u(!0)},children:f.jsx(Wa,{})})]})})}),y]})}));function nBe(e){return e.filter((e=>void 0!==e&&"CMLFile"===e.type))}function sBe(e){return e.filter((e=>void 0!==e&&"UploadingLayer"===e.type))}function oBe(e,t){const a=new Date(e.cmlFile.modified),n=new Date(t.cmlFile.modified);return a<n?-1:1}const iBe=(e,t,a,n)=>{const[s,o]=(e=>{const t=nBe(e.cmlItems),a=sBe(e.cmlItems),n=[];for(let s=0;s<e.brandkitItems.length;s+=1){const t=e.brandkitItems[s];void 0!==t&&"CMLFile"===t.type&&n.push(t)}return t.sort(oBe),n.sort(oBe),[[...a,...t],n]})(e),i=nBe(s),r=o,l=sBe(s),d=new RegExp(t,"i"),c=e=>(d.test(String(e.cmlFile.fileName))||d.test(((e,t)=>{const a=t[e];return void 0===a?"":a.name?a.name:a.blob_name?a.blob_name:""})(e.cmlFile.asset_id,a)))&&n(e),u=i.filter(c),p=r.filter(c),m=e=>d.test(String(e.uploadFileName))&&n(e),g=[...l.filter(m),...u];g.reverse();const h=e.userBrandkitItems.filter((e=>!!e)).filter((e=>"CMLFile"===e.type?c(e):"UploadingLayer"!==e.type||m(e)));return{...e,cmlItems:g,brandkitItems:p,userBrandkitItems:h}};function rBe(e,t,a="mousedown"){const n="mousedown"===a?"pointerdown":"pointerup";i.useEffect((()=>{const a=a=>{const n=a.target;e.current&&e.current!==n&&(e.current.contains(n)||n.isConnected&&t(a))};return document.addEventListener(n,a),()=>{document.removeEventListener(n,a)}}),[e,t,n])}const lBe="SearchBar-module_goButton_f6sEu",dBe="SearchBar-module_input_5tJxn",cBe="SearchBar-module_searchForm_HFyWe",uBe="SearchBar-module_searchBar_Jdl2K",pBe="SearchBar-module_searchIcon_XxEi-",mBe="SearchBar-module_end_JbvHY",gBe=b.memo((({handleClose:e,query:t,searchHandler:a,setQuery:n,onFocus:s,disabled:o,location:r})=>{const l=i.useRef(null);rBe(l,(()=>{var e;return null==(e=document.getElementById("searchBar"))?void 0:e.blur()}));let d={};return"sidebar"===r&&(d={padding:"15px 10px 0px 10px"}),f.jsx(f.Fragment,{children:f.jsxs("form",{onSubmit:a,className:cBe,style:d,children:[f.jsxs("div",{className:uBe,children:[f.jsx(Va,{className:pBe}),f.jsx("input",{ref:l,id:"searchBar","data-cy":"sidebar-search-field",className:dBe,placeholder:"Search...",type:"text",value:t,onChange:e=>n(e.target.value),onFocus:()=>null==s?void 0:s()}),t&&f.jsx(R,{className:`${pBe} ${mBe}`,onClick:e})]}),f.jsx("button",{type:"submit",disabled:o,className:lBe,"data-cy":"sidebar-search-button",children:"Search"})]})})})),hBe="CMLRemoveOverlay-module_header_5R4cF",vBe="CMLRemoveOverlay-module_description_22bxa",fBe="CMLRemoveOverlay-module_buttonsContainer_P9US-",bBe="CMLRemoveOverlay-module_primaryButton_5hDsB",yBe="CMLRemoveOverlay-module_secondaryAction_HbuC3",wBe=b.memo((({prompt:e,validBrandkit:t})=>{switch(e.type){case"CMLFile":case"uploadId":return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:hBe,children:"Delete Media From Project?"}),f.jsxs("div",{className:vBe,children:["This file is being used in your project. Delete it anyways?",f.jsx("br",{}),f.jsx("br",{}),f.jsx("b",{children:"WARNING:"})," This action will remove all layers that use this file."]})]});case"removeAllMyMedia":return t?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:hBe,children:"Remove all files from My Media?"}),f.jsxs("div",{className:vBe,children:["This will remove every file, except files in Brand Media section, from your ",f.jsx("b",{children:"My Media"})," tab. Files used in this project will still be available in your ",f.jsx("b",{children:"This Project"})," tab."]})]}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:hBe,children:"Remove all files from My Media?"}),f.jsxs("div",{className:vBe,children:["This will remove every file from your ",f.jsx("b",{children:"My Media"})," tab. Files used in this project will still be available in the"," ",f.jsx("b",{children:"This Project"})," tab."]})]});case"removeAllThisProject":return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:hBe,children:"Remove all files from This Project?"}),f.jsxs("div",{className:vBe,children:["This will remove every file from your ",f.jsx("b",{children:"This Project"})," tab.",f.jsx("br",{}),f.jsx("br",{}),f.jsx("b",{children:"WARNING:"})," If the files are used in the timeline those layers will be removed."]})]});default:return null}})),_Be=b.memo((()=>{const e=Du((e=>{const t=e.CMLFiles.promptRemoveFiles;if(!t)return null;if("CMLFile"===t.type){const a=e.CMLFiles.byId[t.id];return a?{...t,cmlFile:a}:null}return t}),Ou),t=Bu(),a=Du(zj),n=i.useCallback((()=>{t(GH())}),[t]);if(!e)return null;return f.jsxs(Wne,{onClose:n,children:[f.jsx(wBe,{prompt:e,validBrandkit:a}),f.jsxs("div",{className:fBe,children:[f.jsx("div",{className:yBe,"data-cy":"delete-media-cancel",onClick:n,children:"Cancel"}),f.jsx("div",{className:bBe,onClick:()=>{switch(e.type){case"CMLFile":ole(e.cmlFile);break;case"removeAllMyMedia":(async()=>{const{state:e,dispatch:t}=Mu();if("pending"!==e.CMLFiles.removeAllMyMediaFetchStatus)try{t(BH.actions.removeAllMyMediaUpdate("pending")),await Yf("/api/v1/cloudMediaLibrary/myMedia"),t(BH.actions.removeAllMyMediaUpdate("fulfilled"))}catch(a){console.error(a),t(BH.actions.removeAllMyMediaUpdate("rejected"))}})();break;case"removeAllThisProject":r.batch((()=>{const{dispatch:e,state:{CMLFiles:{byId:t},studio:{_id:a,thisProjectCMLFiles:n},uploadStatuses:s={}}}=Mu();if(!n)return;const o=Object.values(n).map((e=>e.cmlFileId)),i=new Set(o),r=cJ().filter((e=>e.cmlFileId&&i.has(e.cmlFileId))).map((e=>e.id));jJ({layerIds:r}),Object.values(n).forEach((({cmlFileId:n})=>{const s=t[n];s&&e(h9(s._id,a))})),Object.entries(s).forEach((([e,t])=>{t.stage!==KS.done&&k9(e)}))}));break;case"uploadId":ile(e.id)}t(GH())},"data-cy":"delete-media-confirm",children:"Delete"})]})]})})),CBe="CloudMediaLibrary-module_gridContainer_TZs1o",SBe="CloudMediaLibrary-module_noGridContainer_0hNPl",xBe="CloudMediaLibrary-module_noMediaUploadContainer_95mwn",IBe="CloudMediaLibrary-module_noMediaDescription_D91bK",ABe="CloudMediaLibrary-module_grid_EKZTi",kBe="CloudMediaLibrary-module_signInButtonContainer_pbA-M",TBe="CloudMediaLibrary-module_signInButton_yHw5R",EBe="CloudMediaLibrary-module_upsellBlock_-An9e",LBe="CloudMediaLibrary-module_noSearchResultsContainer_ENP0-",jBe="CloudMediaLibrary-module_loadingContainer_A-uu6",RBe="CloudMediaLibrary-module_loader_OOkPR";s.extend(Ha),s.extend(za),s.extend(Ga);const NBe=e=>{const{hour:t,min:a,sec:n,millisec:s}=e;return 3600*t+60*a+n+s/1e3},MBe=3600,PBe=.001,FBe=e=>{let t=Math.round(1e3*e);const a=t%1e3;t-=a;const n=t%6e4/1e3;t-=1e3*n;const s=t%36e5/6e4;t-=6e4*s;return{hour:t/36e5,min:s,sec:n,millisec:a}},DBe=e=>{for(;e.millisec>=1e3;)e.millisec-=1e3,e.sec+=1;for(;e.millisec<0;)e.millisec+=1e3,e.sec-=1;for(;e.sec>=60;)e.sec-=60,e.min+=1;for(;e.sec<0;)e.sec+=60,e.min-=1;for(;e.min>=60;)e.min-=60,e.hour+=1;for(;e.min<0;)e.min+=60,e.hour-=1;return e},OBe=e=>{const t=s.duration(e,"s");return{hour:t.hours(),min:t.minutes(),sec:t.seconds(),millisec:Math.floor(t.milliseconds())}},UBe=e=>s.duration({hours:e.hour,minutes:e.min,seconds:e.sec,milliseconds:e.millisec}).asSeconds(),BBe=e=>{const t=s.duration(e||0,"seconds");return t.asHours()<1?`${Math.floor(t.asMinutes())}:${t.seconds().toString().padStart(2,"0")}`:`${Math.floor(t.asHours())}:${t.minutes().toString().padStart(2,"0")}:${t.seconds().toString().padStart(2,"0")}`};class WBe{constructor(){a(this,"unsubscribe",null),a(this,"assetFetchingSet",new Set),a(this,"cmlFileFetchingSet",new Set),a(this,"amountListening",0),a(this,"pendingConversionsMontiored",new Set),a(this,"onChangeInProgress",!1),a(this,"onChange",c.throttle((async()=>{if(!this.onChangeInProgress)try{this.onChangeInProgress=!0;const{state:e}=Mu(),t=new Set(Object.values(e.studio.allLayers.byId).map((e=>e.asset_id))),a=eUe(e),n=tUe(e),s=c.uniq([...n,...a]),o=new Set,i=new Set;s.forEach((a=>{const n=e.CMLFiles.byId[a];if(!n)return void(this.cmlFileFetchingSet.has(a)||(i.add(a),this.cmlFileFetchingSet.add(a)));const s=e.assets.byId[n.asset_id],r=(null==s?void 0:s.blob_name)&&(null==s?void 0:s.bucket_name),l=!(null==s?void 0:s.created)||new Date(null==s?void 0:s.created).getTime()>Date.now()-108e5,d=!s,c=s&&s.metadata_init_started_at?Date.now()-new Date(s.metadata_init_started_at).getTime():null,u=null!==c&&c<36e5,p=s&&!s.metadata_init_failed&&s.metadata_init_in_progess&&s.metadata_init_started_at&&u,m=s&&!r&&l&&!t.has(s._id)&&s.status!==td.failed&&!this.assetFetchingSet.has(n.asset_id);(d||p||m)&&(o.add(n.asset_id),this.assetFetchingSet.add(n.asset_id))}));const r=[];o.size&&r.push(this.fetchAssets(o)),i.size&&r.push(this.fetchCMLFiles(i)),r.length&&await Promise.all(r),this.monitorThisProjectPendingConversions()}catch(e){console.error(e)}finally{this.onChangeInProgress=!1}}),3e3)),a(this,"fetchAssets",(async e=>{try{const{dispatch:t}=Mu(),a=await _2([...e],w2.cmlFetcher);t(YE(a));for(const e of a)this.assetFetchingSet.delete(e._id)}catch(t){console.error(t)}})),a(this,"fetchCMLFiles",(async e=>{try{const{dispatch:t}=Mu(),a=await async function(e){return await Xf("/api/v1/cloudMediaLibrary/getFilesAndAssets",{body:{cmlFileIds:e}})}(Array.from(e)),n=[],s=[];a.cmlAssetPairs.forEach((e=>{const{asset:t,cmlFile:a}=e;if(!t)return console.error("Failed to fetch asset",t,a),void l(new Error("Failed to fetch asset from CML file"),{extra:{assetId:null==a?void 0:a.asset_id,cmlFileId:null==a?void 0:a._id}});s.push(t),n.push(a),this.cmlFileFetchingSet.delete(a._id)})),t(YE(s)),t(VH(n))}catch(t){console.error(t)}})),a(this,"monitorThisProjectPendingConversions",(async()=>{const{dispatch:e,state:t}=Mu(),a=Object.keys(t.studio.thisProjectCMLFiles||{}).map((e=>t.CMLFiles.byId[e])).filter((e=>!!e)),n=a.map((e=>t.assets.byId[e.asset_id])).filter((e=>!!e)).filter((e=>!!(null==e?void 0:e.conversion_id)));let s=[];for(const o of n){if(this.pendingConversionsMontiored.has(o._id))continue;const t=a.find((e=>e.asset_id===o._id));this.pendingConversionsMontiored.add(o._id),0===s.length&&(s=await vE());if(s.find((e=>e.conversion_id===o.conversion_id)))return void this.pendingConversionsMontiored.add(o._id);const n=O.v4(),i=O.v4();fE(o.conversion_id,n,o.blob_name||"",i,t._id).then((()=>{e(b9.addUploadStatus({id:i,fileName:o.blob_name||""})),e(HH({cmlFileId:t._id,uploadId:i}))})).catch((()=>{this.pendingConversionsMontiored.delete(o._id)}))}}))}listen(){0===this.amountListening&&this.start(),this.amountListening+=1;return()=>{this.amountListening-=1,0===this.amountListening&&this.stop()}}forceUpdate(){this.onChange()}start(){const{subscribe:e}=Mu();this.unsubscribe=e(this.onChange)}stop(){this.unsubscribe&&this.unsubscribe()}}let VBe;const HBe=()=>(VBe||(VBe=new WBe),VBe),zBe={small:120,large:150},GBe=[],YBe=()=>{},KBe=e=>{e.stopPropagation(),e.preventDefault(),Mu().dispatch(A4.open({mediaLibrary:!0}))};let XBe=!1;const ZBe=u(Gx,(e=>e.uploadStatuses),((e,t)=>e.filter((e=>"pastedLink"!==e.source&&(!1!==e.uploadPending&&(!e.uploadConfirmed&&(t&&e.uploadId&&!(e.uploadId in t)))))))),qBe=u(QOe,eUe,((e,t)=>t),((e,t,a)=>"myMedia"===a?e:t)),JBe=u(tUe,zj,(e=>e.uploadStatuses),(e=>e.CMLFiles.byId),(e=>e.CMLFiles.toUploadId),((e,t,a={},n,s)=>{if(!t)return[];const o=new Set;return e.map((e=>{const t=n[e];if(!t)return null;const i=s[e];i&&o.add(i);const r=i&&a[i]||null;return(null==r?void 0:r.teamId)&&(null==r?void 0:r.conversionProgress)?null:{type:"CMLFile",addedTime:new Date(t.created).getTime(),cmlFile:t,uploadStatus:r}})).filter(vA).sort(((e,t)=>t.addedTime-e.addedTime))})),$Be=e=>{const{item:t}=tBe(e);return t?"string"==typeof t?t:"CMLFile"===t.type?t.cmlFile._id:"BrandkitUpload"===t.type?t.type:t.uploadId:`${e.columnIndex}_${e.rowIndex}`},QBe=e=>{const{state:{currentUser:{user:{_id:t}}}}=Mu();return e.uploaderId===t?(XBe||(XBe=!0,ov("Loaded project with broken upload")),"Upload Failed: Delete file and try again"):"Upload by another user in progress"},eWe=i.createContext({query:"",setQuery:()=>{}});function tWe({children:e}){const[t,a]=i.useState("");return f.jsx(eWe.Provider,{value:{query:t,setQuery:a},children:e})}const aWe=()=>!0,nWe=[],sWe=({allowDnd:e=!1,analyticsUploadSource:t,filter:a,handlePreemptiveFinish:n,location:s,tileSize:o,parentContainerDimensions:r,hideRename:l=!1,hideDelete:d=!1,hideTrim:c=!1,onAdd:p,hideBrandKit:m=!1,hideAudio:g=!1,hideCMLItems:h=!1,hideSearch:v=!1})=>{var b;const[y,w]=i.useState(null),_=i.useMemo((()=>u(qBe,(e=>e.uploadStatuses),(e=>e.CMLFiles.byId),(e=>e.CMLFiles.toUploadId),ZBe,((e,t)=>t),((e,t={},a,n,s,o)=>{const i=new Set,r=[],l=new Set,d=Array.from(e,(e=>{const s=a[e];if(!s)return null;const{asset_id:o}=s;if(l.has(o))return null;l.add(o);const r=n[e];r&&i.add(r);const d=r&&t[r]||null;return{type:"CMLFile",addedTime:new Date(s.modified).getTime(),cmlFile:s,uploadStatus:d}})).filter(vA);if(r.push(...d),"thisProject"===o){const e=Object.values(t).map((e=>{if(!e.uploadManager||e.fontUpload||e.teamId)return null;const t=e.id;if(!t)return null;if(i.has(t))return null;if(e.stage>=KS.assetCreated)return null;if(e.stage===KS.errored)return null;const a=B4(e),n=a&&a.split(" ... ")[0]||"";return{type:"UploadingLayer",addedTime:e.beganAtTimestamp,remoteUpload:!1,uploadFileName:e.fileName,uploadManager:e.uploadManager,progressPrefix:n,uploadId:t,uploadProgress:e.progress||0}})).filter(vA);r.push(...e);const a=s.map((e=>e.uploadId?{type:"UploadingLayer",addedTime:Date.now(),remoteUpload:!0,uploadFileName:e.name||"Remote Asset",uploadManager:void 0,progressPrefix:QBe(e),uploadId:e.uploadId,uploadProgress:null}:null)).filter(vA);r.push(...a)}return r.sort(((e,t)=>"UploadingLayer"===e.type&&"UploadingLayer"===t.type?t.addedTime-e.addedTime:"UploadingLayer"===e.type?-1:"UploadingLayer"===t.type?1:t.cmlFile._id.localeCompare(e.cmlFile._id)))}))),[]),{assets:C,brandkitItems:S,cmlItems:x,userIsSignedIn:I}=Du((e=>({assets:e.assets.byId,brandkitItems:"myMedia"===a?JBe(e):nWe,cmlItems:_(e,a),userIsSignedIn:Nb(e)})),Ou),A=Bu(),k=gg(Fd.UNLIMITED_UPLOAD_SIZE_LIMIT);i.useEffect((()=>{const e=HBe().listen();return()=>e()}),[]);const{containerDimensions:T,containerRef:E}=use(),L=use(),j=T||{width:200,height:200},R=Math.max(Math.floor(j.width/zBe[o]),1),N=j.width/R,{query:M,setQuery:P}=i.useContext(eWe),{getUpsellDateShown:F,setUpsellShown:D}=zCe(),O=FUe({getUpsellDateShown:F,setUpsellShown:D}),[U,B]=i.useState(O),W=i.useCallback((()=>{B(!1),Qf()}),[]),V=S.filter((e=>{var t;return!Zg((null==(t=null==e?void 0:e.cmlFile)?void 0:t.asset_id)??"")})),H=V.length>0&&!m;"myMedia"===a&&H&&!(""!==M)&&V.unshift({type:"BrandkitUpload"});const z=Math.ceil(V.length/R),G={allowDnd:e,analyticsUploadSource:t,columnCount:R,cmlItems:h?GBe:x,hideRename:l,hideDelete:d,hideTrim:c,brandkitItems:H?V:GBe,userBrandkitItems:H?V:GBe,filter:a,filenameHoveredId:y,setFilenameHoveredId:w,handlePreemptiveFinish:n,location:s,size:o,showBrandkitPrepopulatedTooltip:U,handleCloseBrandkitPrepopulatedTooltip:W,onAdd:p},Y=new Set(V.map((e=>"CMLFile"===e.type?e.cmlFile._id:null))),K=tf.getDocumentIds(M),X=[];"myMedia"===a&&X.push((e=>"thisProject"===a||("CMLFile"!==e.type||(!!Y.has(e.cmlFile._id)||K.includes(e.cmlFile._id))))),g&&X.push((e=>{if("BrandkitUpload"===e.type)return!0;if("CMLFile"===e.type){const{cmlFile:t}=e,a=C[t.asset_id];return!a||(!a.content_type||!a.content_type.includes("audio"))}const{uploadManager:t}=e;return!t||"audio"!==t.layer.type}));const Z=X.reduce(((e,t)=>a=>e(a)&&t(a)),aWe),[q,J]=i.useState(""),$=((e,t,a,n,s)=>iBe(e,a?t:"",n,s))(G,M,"myMedia"===a,C,Z),Q=$.cmlItems.length+("thisProject"===a?1:0),ee=z+Math.ceil(Q/R),te=i.useCallback((e=>{J(e.replace(String.fromCharCode(92),"")),""===e&&P("")}),[P]),ae=i.useCallback((()=>{te("")}),[te]),ne=i.useCallback((e=>{e.preventDefault(),ov("Search in My Media",{query:q}),P(q)}),[q,P]),se=function(e,t){const[a,n]=i.useState(!1);return i.useEffect((()=>{const a=()=>{n(e.hasCachedResults(t))};return a(),e.subscribe(a),()=>{e.unsubscribe(a)}}),[e,t]),a}(tf,M),oe=!se;if("thisProject"===a&&!x.length){const e="sidebar"===s;return f.jsxs(f.Fragment,{children:[!k&&f.jsx("div",{className:EBe,children:f.jsx(qOe,{action:Dd.STUDIO_MEDIA_SIDEBAR,topLeftImg:!0,testId:"cloud-media-library-upsell-block"})}),f.jsxs("div",{className:SBe,children:[f.jsx("div",{className:xBe,onClick:e?KBe:YBe,children:f.jsx(RMe,{analyticsUploadSource:t,handlePreemptiveFinish:n,handleFinish:D4,multiple:!0,uploadLocation:"uploadOverlay",isMediaLibraryUpload:!0,isMediaLibraryContainer:!0,doDuplicateHandling:!0})}),f.jsx("div",{className:IBe,children:"Get started by uploading content to This Project. You can access content used in other projects with the My Media tab."})]})]})}if(!(oe||"myMedia"!==a||I&&(x.length||S.length)))return f.jsxs("div",{className:SBe,children:[!k&&f.jsx("div",{className:EBe,children:f.jsx(qOe,{action:Dd.STUDIO_MEDIA_SIDEBAR,topLeftImg:!0,testId:"cloud-media-library-upsell-block"})}),f.jsx("div",{className:IBe,children:"Recently used Media will appear in this tab and can be used across Projects."}),!I&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:IBe,children:"Sign in to Kapwing to get started."}),f.jsx("div",{className:kBe,children:f.jsx("button",{className:TBe,onClick:()=>A({type:"SHOW_SIGN_IN"}),type:"button",children:"Sign In"})})]})]});let ie=j.height;return(null==r?void 0:r.height)&&(ie=r.height,(null==(b=L.containerDimensions)?void 0:b.height)&&(ie-=L.containerDimensions.height)),f.jsxs(f.Fragment,{children:[f.jsx(_Be,{}),f.jsxs("div",{ref:L.containerRef,children:[!k&&"thisProject"===a&&f.jsx("div",{className:EBe,children:f.jsx(qOe,{action:Dd.STUDIO_MEDIA_SIDEBAR,topLeftImg:!0,testId:"cloud-media-library-upsell-block"})}),"myMedia"===a&&!v&&f.jsx(gBe,{handleClose:ae,query:q,setQuery:te,searchHandler:ne,location:s})]}),0!==$.cmlItems.length||0!==$.brandkitItems.length||0===M.length||oe?f.jsx("div",{className:CBe,ref:E,children:f.jsx(Ya,{height:ie,width:j.width,columnCount:R,rowCount:ee,columnWidth:N-6,rowHeight:140,overscanColumnCount:0,overscanRowCount:2,className:ABe,innerElementType:rWe,itemData:$,itemKey:$Be,outerElementType:"myMedia"===a?oWe:void 0,children:aBe})}):f.jsx("h5",{className:LBe,children:"No results are returned"})]})},oWe=b.forwardRef((({children:e,...t},a)=>{const[n,s]=i.useState(null),{query:o}=i.useContext(eWe);return f.jsxs("div",{ref:e=>{s(e),a&&("function"==typeof a?a(e):a.current=e)},...t,children:[e,f.jsx(iWe,{outerContainerRef:n,query:o})]})})),iWe=({outerContainerRef:e,query:t})=>{const{attachToRef:a,isLoading:n}=function({url:e,onFetch:t,root:a,lastId:n,pageSize:s=25,search:o,cache:r}){const l=i.useRef((()=>{const t=null==r?void 0:r.getLastId(o||"");return $Oe(e,t||n,s,o,r)})),[d,c]=i.useState(!1),[u,p]=i.useState(o),m=i.useRef(null),g=i.useRef(void 0),h=i.useCallback((()=>{var e;l.current&&(c(!0),null==(e=l.current)||e.call(l).then((({data:e,next:a})=>{t(e),l.current=a})).finally((()=>{c(!1)})))}),[t]);i.useEffect((function(){o!==u&&(m.current&&m.current.abort(),m.current=new AbortController,p(o),l.current=()=>{var t;const a=null==r?void 0:r.getLastId(o||"");return $Oe(e,a||n,s,o,r,null==(t=m.current)?void 0:t.signal)},h())}),[o,e,n,s,r,u,h]);const v=e=>{const t=new IntersectionObserver((e=>{const[t]=e;(null==t?void 0:t.isIntersecting)&&h()}),{root:a,rootMargin:"100px"}),n=(a||e.parentElement||document.body).getBoundingClientRect(),s=e.getBoundingClientRect(),o=n.top-100,i=n.bottom+100;s.top<i&&s.bottom>o&&h(),t.observe(e),g.current=()=>{t.disconnect()}},f=()=>{var e;null==(e=g.current)||e.call(g)};return{attachToRef:e=>{e?v(e):f()},disconnect:f,connect:v,isLoading:d}}({url:"/api/v1/cloudMediaLibrary/files",onFetch:e=>{const{dispatch:t}=Mu();t(VH(e.files)),t(YE(e.assets)),t(WH(e.files.map((e=>e._id))))},root:e,lastId:null,pageSize:50,search:t,cache:tf});return f.jsx("div",{id:"cml-scroll-loader",style:{minHeight:100,width:"100%",height:"fit-content"},ref:a,children:n&&f.jsxs("div",{className:jBe,"data-testid":"loading-container","data-cy":"loading-cloud-media-library",children:[f.jsx("div",{className:RBe}),f.jsx("span",{children:" Loading Media Library"})]})})},rWe=b.forwardRef((({style:e,...t},a)=>{const n=parseFloat(e.height);return f.jsx("div",{ref:a,style:{...e,height:`${n>0?n+14+60:0}px`},...t})}));function lWe(e){return f.jsx(tWe,{children:f.jsx(sWe,{...e})})}const dWe=()=>{const e=Bu(),t=async t=>{const a=F4(t,{skipStudioAddLayer:!0});e(WQ({videoAssetId:a.asset_id}))},a=async t=>{const{type:a}=t;try{if("CMLFile"===a){const{cmlFile:a}=t,{asset_id:n}=a,s=Mu().state.assets.byId[n];if(!s)throw new Error("Asset not found, please try a different file.");const{content_type:o}=s;if(!o)throw new Error("No content type found for the file.");if(!o.includes("video"))throw new Error("Please choose a video file to use for your persona.");const{duration:i}=s;if(i&&i>900)throw new Error("Please choose a video that is less than 15 minutes long.");if(i&&i<5)throw new Error("Your Persona video must be at least 5 seconds long. The ideal length for a persona video is 1-2 minutes.");if(!s.url||ac(s.url)){const t=await y2(s._id,"addFromPersonas");e(YE([t]))}e(WQ({videoAssetId:n}))}}catch(n){let e="An error occurred while adding the file. Try a different file.";n instanceof Error&&n.message&&(e=n.message),pb({description:e})}};return(()=>{const e=window.innerHeight-300;return f.jsx(lWe,{analyticsUploadSource:"Persona upload",handlePreemptiveFinish:t,filter:"myMedia",tileSize:"large",location:"personas",parentContainerDimensions:{width:800,height:e},hideTrim:!0,onAdd:a,hideBrandKit:!0})})()},cWe="PersonaUploader-module_uploadContainer_BUPz1";function uWe({files:e,onFinish:t,discardedUploadLayerIds:a}){const n=Bu();return f.jsx("div",{className:cWe,children:f.jsx(RMe,{handleFinish:async e=>{if(!a.current.has(e.id))try{const{asset_id:a=""}=e,s=Mu().state.assets.byId[a];if(!s)throw new Error("Asset not found, please try a different file.");const{content_type:o}=s;if(!o)throw new Error("No content type found for the file.");if(!o.includes("video"))throw new Error("Please choose a video file to use for your persona.");const{duration:i}=s;if(i&&i>900)throw new Error("Please choose a video that is less than 15 minutes long.");if(i&&i<5)throw new Error("Your Persona video must be at least 5 seconds long. The ideal length for a persona video is 1-2 minutes.");if(!s.url||ac(s.url)){const e=await y2(s._id,"addFromPersonas");n(YE([e]))}n(WQ({videoAssetId:a}));const r=D4(e);t(r),n(WQ({videoAssetId:r.asset_id}))}catch(s){let e="An error occurred while adding the file. Try a different file.";s instanceof Error&&s.message&&(e=s.message),pb({description:e})}},handlePreemptiveFinish:e=>{if(!e.uploadId&&!e.asset_id)return;try{const{type:t}=e;if(!t)throw new Error("No content type found for the file.");if(t!==Nc.Video)throw new Error("Please choose a video file to use for your persona.");const{duration:a}=e;if(a&&a>900)throw new Error("Please choose a video that is less than 15 minutes long.");if(a&&a<5)throw new Error("Your Persona video must be at least 5 seconds long. The ideal length for a persona video is 1-2 minutes.")}catch(s){let t="An error occurred while adding the file. Try a different file.";return s instanceof Error&&s.message&&(t=s.message),pb({description:t}),e.uploadId&&k9(e.uploadId),void a.current.add(e.id)}const n=F4(e,{skipStudioAddLayer:!0});t(n)},analyticsUploadSource:"Persona upload",doDuplicateHandling:!1,addToStoreAfterUpload:!0,hideSample:!0,files:e,multiple:!1})})}const pWe="UploadPersona-module_wrapper_W8Qr4",mWe="UploadPersona-module_container_Gu2a4",gWe="UploadPersona-module_headerContainer_-cH6B",hWe="UploadPersona-module_header_lI3SH",vWe="UploadPersona-module_content_NCbn7",fWe="UploadPersona-module_contentLeft_2ckdD",bWe="UploadPersona-module_contentRight_daAsC",yWe="UploadPersona-module_tabs_VhYal",wWe="UploadPersona-module_tab_YjUyP",_We="UploadPersona-module_activeTab_cmzjn",CWe="UploadPersona-module_examples_UOBKi",SWe="UploadPersona-module_exampleVideo_Rgs73",xWe="UploadPersona-module_uploadContainer_oZ4Du",IWe="UploadPersona-module_previewContainer_x8rMW",AWe="UploadPersona-module_previewHeader_F5TXt",kWe="UploadPersona-module_button_zh4JP",TWe="UploadPersona-module_videoContainer_hMVnL",EWe="UploadPersona-module_video_jcB1v",LWe="UploadPersona-module_hidden_gyIr-",jWe="UploadPersona-module_previewButtons_H0tYp";function RWe({selectedLayer:e}){const t=Du((e=>e.uploadStatuses)),{uploadId:a}=e;let n="";if(t&&a&&t[a]){const e=t[a],{progressText:s,progress:o}=e;s&&(n=e.progressText||""),100===o&&(n="")}return n?f.jsx("div",{className:AWe,children:n}):f.jsx("div",{})}function NWe({setUploadedLayer:e,uploadedLayer:t,discardedUploadLayerIds:a}){const n=Bu(),s=kE(t?Hp(t):null);let o="";if(t&&(o=pS(t)||""),s&&!o){const[e,t]=TE(s);t&&(o=URL.createObjectURL(t))}const i=()=>{t&&a.current.add(t.id),e(null),n(WQ({videoAssetId:void 0}))},r=()=>t?f.jsxs("div",{className:IWe,children:[f.jsx("div",{className:TWe,children:o&&f.jsx("video",{src:o,className:EWe,controls:!0,autoPlay:!0,playsInline:!0})}),f.jsxs("div",{className:jWe,children:[f.jsx(RWe,{selectedLayer:t}),f.jsx("button",{className:kWe,onClick:i,children:"Use a different video"})]})]}):null;return t?r():f.jsxs("div",{children:[t&&r(),f.jsx("div",{className:L(xWe,{[LWe]:t}),children:f.jsx(uWe,{onFinish:e,discardedUploadLayerIds:a})})]})}const MWe=()=>{const e=Du((e=>{var t,a;return null==(a=null==(t=e.studio.personas)?void 0:t.createPersonaOverlay)?void 0:a.videoAssetId})),t=e?"media":"upload",[a,n]=i.useState(t),[s,o]=i.useState(null),[r,l]=i.useState(),d=i.useRef(new Set),c=()=>{if(e)return f.jsx(jOe,{setUploadedLayer:o});switch(a){case"upload":return f.jsx(NWe,{setUploadedLayer:o,uploadedLayer:s,discardedUploadLayerIds:d});case"media":return f.jsx(dWe,{})}};return f.jsx(SOe,{uploadSource:"UploadPersona",uploadTarget:"sidebar",customAddUploads:e=>{if(e.length>1)return void pb({description:"Please upload a single video file."});l(e),n("upload");const{dispatch:t}=Mu();t(WQ({videoAssetId:void 0}))},children:f.jsxs("div",{className:pWe,children:[f.jsx("div",{className:mWe,children:f.jsxs(f.Fragment,{children:[f.jsx("div",{className:gWe,children:f.jsx("div",{className:hWe,children:"Create a Brand Persona: Choose a video"})}),f.jsxs("div",{className:vWe,children:[f.jsxs("div",{className:fWe,children:[e?null:f.jsxs("div",{className:yWe,children:[f.jsx("div",{className:`${wWe} ${"upload"===a?_We:""}`,onClick:()=>n("upload"),children:"Upload a New Video"}),f.jsx("div",{className:`${wWe} ${"media"===a?_We:""}`,onClick:()=>n("media"),children:"Choose from Recent Uploads"})]}),c()]}),f.jsxs("div",{className:bWe,children:[f.jsxs("p",{children:[f.jsx("strong",{children:"Instructions:"})," Upload a 15 second - 2 minute long video of you talking about anything. For best results, make sure your footage adheres to the following tips:"]}),f.jsxs("p",{children:[f.jsx("strong",{children:"1. Upload a single, uncut take recorded with a high quality phone or camera."})," ","Dont use any footage thats already stitched together or edited."]}),f.jsxs("div",{className:CWe,children:[f.jsx("video",{className:SWe,autoPlay:!0,playsInline:!0,loop:!0,muted:!0,src:"https://cdn-useast1.kapwing.com/static/IN1-Uncut_V18.mp4",poster:"https://cdn-useast1.kapwing.com/static/dSI-Uncut_V18_V1.webp"}),f.jsx("video",{className:SWe,autoPlay:!0,playsInline:!0,loop:!0,muted:!0,src:"https://cdn-useast1.kapwing.com/static/Wbf-Uncut_V17.mp4",poster:"https://cdn-useast1.kapwing.com/static/2N3-Uncut_V17_V1.webp"})]}),f.jsxs("p",{children:[f.jsx("strong",{children:"2. Position yourself 3-4 feet from the camera."})," ","For best results, avoid using a video thats overly cropped or zoomed in."]}),f.jsxs("div",{className:CWe,children:[f.jsx("video",{className:SWe,autoPlay:!0,playsInline:!0,loop:!0,muted:!0,src:"https://cdn-useast1.kapwing.com/static/3Rf-9_V7.mp4",poster:"https://cdn-useast1.kapwing.com/static/ZaU-9_V9_V1-(1).webp"}),f.jsx("video",{className:SWe,autoPlay:!0,playsInline:!0,loop:!0,muted:!0,src:"https://cdn-useast1.kapwing.com/static/r2W-9_V9.mp4",poster:"https://cdn-useast1.kapwing.com/static/a7D-9_V9_V1.webp"})]}),f.jsxs("p",{children:[f.jsx("strong",{children:"3. Make sure youre the only person in the video."})," ","Our technology wont work if there are multiple subjects in the frame."]}),f.jsxs("div",{className:CWe,children:[f.jsx("video",{className:SWe,autoPlay:!0,playsInline:!0,loop:!0,muted:!0,src:"https://cdn-useast1.kapwing.com/static/Y10-Untitled_Project_V4.mp4",poster:"https://cdn-useast1.kapwing.com/static/oJv-Untitled_Project_V4_V1.webp"}),f.jsx("video",{className:SWe,autoPlay:!0,playsInline:!0,loop:!0,muted:!0,src:"https://cdn-useast1.kapwing.com/static/4QZ-Untitled_Project_V5.mp4",poster:"https://cdn-useast1.kapwing.com/static/uOD-Untitled_Project_V2-(1).webp"})]}),f.jsxs("p",{children:[f.jsx("strong",{children:"4. Look directly into the camera."})," If you're not making eye contact with the camera the entire video, your results may not look as natural."]}),f.jsxs("div",{className:CWe,children:[f.jsx("video",{className:SWe,autoPlay:!0,playsInline:!0,loop:!0,muted:!0,src:"https://cdn-useast1.kapwing.com/static/21N-Looking_away_V7.mp4",poster:"https://cdn-useast1.kapwing.com/static/GON-Untitled_Project_V1-(2).webp"}),f.jsx("video",{className:SWe,autoPlay:!0,playsInline:!0,loop:!0,muted:!0,src:"https://cdn-useast1.kapwing.com/static/A9v-Looking_away_V6.mp4",poster:"https://cdn-useast1.kapwing.com/static/rrp-Untitled_Project_V1-(3).webp"})]}),f.jsxs("p",{children:[f.jsx("strong",{children:"5. Keep your movements subtle and natural."})," You can use small, generic hand gestures, but we don't recommend specific movements pointing or counting."]}),f.jsxs("div",{className:CWe,children:[f.jsx("video",{className:SWe,autoPlay:!0,playsInline:!0,loop:!0,muted:!0,src:"https://cdn-useast1.kapwing.com/static/wUI-Untitled_Project_V4-(1).mp4",poster:"https://cdn-useast1.kapwing.com/static/nqN-Untitled_Project_V1-(5).webp"}),f.jsx("video",{className:SWe,autoPlay:!0,playsInline:!0,loop:!0,muted:!0,src:"https://cdn-useast1.kapwing.com/static/yRi-Untitled_Project_V1-(5).mp4",poster:"https://cdn-useast1.kapwing.com/static/u5i-Untitled_Project_V1-(4).webp"})]}),f.jsx("p",{children:"Once you make your AI Persona, you and your teammates will be able to use it to create social media-ready videos from scratch in seconds. Lets get started!"})]})]}),f.jsx($De,{nextStepDisabled:!e})]})}),f.jsx("div",{className:LWe,children:f.jsx(uWe,{onFinish:o,files:r,discardedUploadLayerIds:d})})]})})},PWe="/api/v2/split-vocals",FWe=async e=>{try{const t=await Kf(`${PWe}/split-vocals-job/${e}`);if(t.splitVocalsJob)return t.splitVocalsJob}catch(b9e){console.error(b9e)}return null},DWe=async e=>{try{const t=`${PWe}/split-vocals-job/by-asset-id/${e}`,a=await Kf(t);if(a.splitVocalsJob)return a.splitVocalsJob}catch(b9e){console.error(b9e)}return null},OWe=async({asset_id:e,teamId:t,videoId:a})=>{try{const n=await Xf(`${PWe}/split-vocals-job`,{body:{asset_id:e,teamId:t,videoId:a}});if(n.split_vocals_job_id)return n.split_vocals_job_id}catch(b9e){console.error(b9e),pb({description:"Extracting background audio failed to start. Please try again.",sentryMessage:"Split Vocals: failed to start split_vocals job",extra:{asset_id:e,videoId:a}})}return null};async function UWe(e){return Yf(`${PWe}/split-vocals-job/${e}`)}const BWe="VoiceCloningOverlay-module_wrapper_5WiDm",WWe="VoiceCloningOverlay-module_input_lLJre",VWe="VoiceCloningOverlay-module_lightInput_rUnZk",HWe="VoiceCloningOverlay-module_previewContainer_UOaaa",zWe="VoiceCloningOverlay-module_background_tTRma",GWe="VoiceCloningOverlay-module_modal_4vPba",YWe="VoiceCloningOverlay-module_previewModal_nWPNR",KWe="VoiceCloningOverlay-module_lightModal_tWaR-",XWe="VoiceCloningOverlay-module_loadingWrapper_QPP6E",ZWe="VoiceCloningOverlay-module_recordModal_-dq6S",qWe="VoiceCloningOverlay-module_lightRecordModal_b5lX-",JWe="VoiceCloningOverlay-module_form_ZO2OW",$We="VoiceCloningOverlay-module_container_wc41w",QWe="VoiceCloningOverlay-module_contentContainer_kH5od",eVe="VoiceCloningOverlay-module_header_yTWb4",tVe="VoiceCloningOverlay-module_headerText_uDicw",aVe="VoiceCloningOverlay-module_lightHeaderText_4xDVx",nVe="VoiceCloningOverlay-module_text_r6kgQ",sVe="VoiceCloningOverlay-module_lightText_6Y-W2",oVe="VoiceCloningOverlay-module_checkboxText_nbXkz",iVe="VoiceCloningOverlay-module_sectionTitle_vpjnO",rVe="VoiceCloningOverlay-module_lightSectionTitle_VDkX8",lVe="VoiceCloningOverlay-module_upload_gEgz8",dVe="VoiceCloningOverlay-module_lightUpload_yNuCk",cVe="VoiceCloningOverlay-module_uploadIconRow_cXUT9",uVe="VoiceCloningOverlay-module_lightUploadIconRow_Qx0eA",pVe="VoiceCloningOverlay-module_uploadText_7mZj5",mVe="VoiceCloningOverlay-module_lightUploadText_apZoM",gVe="VoiceCloningOverlay-module_record_vvsxJ",hVe="VoiceCloningOverlay-module_lightRecord_iOyIu",vVe="VoiceCloningOverlay-module_fileInput_bwVow",fVe="VoiceCloningOverlay-module_close_Pdon-",bVe="VoiceCloningOverlay-module_lightClose_4L-S2",yVe="VoiceCloningOverlay-module_filesContainer_l87Zc",wVe="VoiceCloningOverlay-module_fileItem_z-EKC",_Ve="VoiceCloningOverlay-module_lightFileItem_YrOWY",CVe="VoiceCloningOverlay-module_uploadCompleteText_EYL7Z",SVe="VoiceCloningOverlay-module_lightUploadCompleteText_NWUkw",xVe="VoiceCloningOverlay-module_checkIcon_-DmOw",IVe="VoiceCloningOverlay-module_fileDelete_nSmAX",AVe="VoiceCloningOverlay-module_lightFileDelete_zG2gT",kVe="VoiceCloningOverlay-module_bottomContainer_EnJEx",TVe="VoiceCloningOverlay-module_checkRow_0hv8b",EVe="VoiceCloningOverlay-module_check_vXXKm",LVe="VoiceCloningOverlay-module_lightCheck_cYRl9",jVe="VoiceCloningOverlay-module_cloneSubmit_ChBAE",RVe="VoiceCloningOverlay-module_originalText_zSo4l",NVe="VoiceCloningOverlay-module_clonedText_dMB80",MVe="VoiceCloningOverlay-module_previewColumn_iWMeS",PVe="VoiceCloningOverlay-module_videoContainer_5j17x",FVe="VoiceCloningOverlay-module_demoVideo_CI3gZ",DVe="VoiceCloningOverlay-module_demoWaveform_z4wTc",OVe="VoiceCloningOverlay-module_demoContainer_TV9M0",UVe="VoiceCloningOverlay-module_preVideoOverlay_khY8L",BVe="VoiceCloningOverlay-module_postVideoOverlay_HBsED",WVe="VoiceCloningOverlay-module_preVideoEqualizer_XJIoD",VVe="VoiceCloningOverlay-module_postVideoEqualizer_yRmwb",HVe="VoiceCloningOverlay-module_previewBottomContainer_lPIi8",zVe="VoiceCloningOverlay-module_previewBack_mx-ef",GVe="VoiceCloningOverlay-module_previewUpgrade_vo21Y",YVe="DeviceSelectionDropdown-module_container_eQ7lN",KVe="DeviceSelectionDropdown-module_iconContainer_JaSLD",XVe="DeviceSelectionDropdown-module_icon_O4oDu",ZVe="DeviceSelectionDropdown-module_select_9I4mw",qVe=b.memo((({isDeviceToggled:e,devices:t,setSelectedDevice:a,selectedDevice:n,icon:s,lightTheme:o})=>{const r=i.useCallback((e=>{e&&a(e)}),[a]);return f.jsxs("div",{className:YVe,children:[f.jsx("div",{className:KVe,style:{opacity:e?"1.0":"0.4"},children:f.jsx("img",{className:XVe,src:s,alt:"record icon"})}),f.jsx("div",{className:ZVe,children:f.jsx(Ka,{onChange:r,isSearchable:!1,value:n,isDisabled:!e,options:t,placeholder:"",menuPortalTarget:document.body,styles:{control:(e,t)=>({...e,background:o?"white":"#202020",minHeight:"30px",height:"30px",border:o?"1px solid #404040":"none",cursor:"pointer",opacity:t.isDisabled?"0.4":"1.0"}),menuPortal:e=>({...e,zIndex:9999}),valueContainer:e=>({...e,height:"30px",padding:"0 6px"}),singleValue:e=>({...e,fontFamily:"Open Sans",fontStyle:"normal",fontWeight:"normal",fontSize:"12px",color:o?"#202020":"white"}),indicatorsContainer:e=>({...e,height:"30px"}),indicatorSeparator:()=>({display:"none"}),menu:e=>({...e,backgroundColor:o?"white":"#202020"}),menuList:e=>({...e,zIndex:1e3}),option:(e,{isFocused:t})=>({...e,fontFamily:"Open Sans",fontStyle:"normal",fontWeight:"normal",fontSize:"12px",color:o?"#202020":"white",backgroundColor:t?"#0083e2":""})}})})]})}));let JVe,$Ve;async function QVe(e,t,a,n){let s,o;ov("Finished Recording",{"Recording Duration":n});try{const e=await t.getInternalRecorder();if(s=await new Promise((t=>e.stop(t))),b_()&&(s=await Xa(s,n)),!s||!s.size)throw new Error("Screen recording failed. Please try again.")}catch(b9e){return void console.error(b9e)}e.getTracks().forEach((e=>e.stop())),t.reset(),o="screen"===a||"screen-video"===a||"video"===a?"video/webm":"audio/webm";const i=new File([s],`${a}-recording.webm`,{type:o});return i.recordType=a,i}function eHe(e){const t=e.getTracks().some((e=>"video"===e.kind)),a=function(e,t){if("audio"===t)return new $Ve(e,{type:"audio",mimeType:"audio/webm",disableLogs:!1,timeSlice:3e4,recorderType:JVe});return new $Ve(e,{videoBitsPerSecond:tHe(e),type:"video",mimeType:"video/webm",disableLogs:!1,timeSlice:3e4,recorderType:JVe})}(e,t?"video":"audio");return a.startRecording(),a}function tHe(e){const t=e.getVideoTracks()[0];if(null==t)return;const a=t.getSettings();if("number"!=typeof a.width||"number"!=typeof a.height)return 8e6;const n=a.width>a.height?a.height:a.width;return"number"!=typeof a.frameRate||a.frameRate<=30?n<=360?1e6:n<=480?25e5:n<=720?5e6:8e6:n<=360?15e5:n<=480?4e6:n<=720?75e5:12e6}async function aHe(e){let t;try{t=navigator.mediaDevices.getDisplayMedia?await navigator.mediaDevices.getDisplayMedia({video:{cursor:"always",frameRate:24},audio:e}):await navigator.getDisplayMedia({video:{cursor:"always",frameRate:24},audio:e})}catch(a){if(a instanceof Error&&"NotAllowedError"===a.name)return"permissionError"}return t}async function nHe(e,t,a){let n;try{n=await navigator.mediaDevices.getUserMedia({video:{deviceId:t},audio:!!e&&{deviceId:a}})}catch(s){if(s instanceof Error&&"NotAllowedError"===s.name)return"permissionError"}return n}async function sHe(e){let t;try{t=await navigator.mediaDevices.getUserMedia({audio:{deviceId:e}})}catch{}return t}function oHe(){let e=!1,t=!1,a=!1;return S_()||__()||(navigator.mediaDevices&&"getUserMedia"in navigator.mediaDevices&&(e=!0,t=!0),(navigator.mediaDevices&&"getDisplayMedia"in navigator.mediaDevices||"getDisplayMedia"in navigator)&&(a=!0)),{supportsAudio:e,supportsVideo:t,supportsScreenRecord:a}}"undefined"!=typeof window&&EC((()=>import("./vendor-tYOXRCg-.js").then((e=>e.R))),__vite__mapDeps([0,1])).then((e=>{$Ve=e.RecordRTCPromisesHandler,JVe=e.MediaStreamRecorder}));const iHe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAABACAYAAABcIPRGAAAACXBIWXMAACxLAAAsSwGlPZapAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKISURBVHgB7ZrRUeMwEIbXzL0fVHC+Co4Ozh2QDshVcKGCpAPoINcBuQoMFQAV2B04VPCzGjnAgKSVJQX5Qd/MjmciWdpfWiu2VkSFvFR0BACc8qVmO2fbj/ZYVdWe5gw73rC1bAPM3Ko6NDfUiI+O+7Jlq2kOKEfYOkynyy5iHPkO4XTQz0s2AdeI55oiCF6FoKe/ozScha5QJxTOgtKxokBiBFxQOn5TIDEhNPAl1QO45xA6owBiBIASwgKCfIkJoVlQBOSmCMhNEZCbIiA3RUBuioDcFAG5KQJyUwTk5tu4v9MYyu74M7WnGeDyURUuLTtmS6HRAekYhL5sPl6oEOot90lbJin3+h+Fcpsvzy4BNbn5T+l4Espry+/7kzHOTaP5i9zsKB1SW0Zf2Hc9c7AnJ5xhhGlJDRu3Qh+nlvtaVX5YRu8t9y/JzR+KexbUvVdCHdsm8lvYQee2rCpdwL5C+CDucMM+y83Hig9eFc2dLDAtUzNMaNdEZ6q88q5s7kzlyv5BdnwDz7SSY1AuD3Wqd5VVo8pZU+M3/MRLsfoqhHR+uGH7Pv78THqt3/lmYridNV82hqKe2/hpu2nlGL1L+iK4r7/BfsC9NB5dhOrD0b8cztCx7HrPCc5nefTtGnnlU+3b0AJutkiYpIb+s9oKfU6bfejVwkWHyJAaHV9DfrPdUAgeIg5CtmznE9ptPB0XnRcTa2MDa/KjJ71cPtHnt9ya7QfpVwPf7OYVL5k3FIsaXcSdiZhKh9THcuD3T5sCdaboeAdAoGejRXpafOVhKOgHMcWMtDGOR5+Zw9uOgTL15SStRj2p3QT9DbKb3Tk6uL8PlpSYsjOXmyIgN0VAboqA3LwAYEgiVSwvXnwAAAAASUVORK5CYII=",rHe="Permissions-module_header_FDXfd",lHe="Permissions-module_description_jj0tE",dHe="Permissions-module_primaryButton_1bD4j",cHe="Permissions-module_iconContainer_HMLeI",uHe="Permissions-module_icon_HxxNQ",pHe=b.memo((({title:e,description:t,renderDescription:a,handleClose:n=(()=>dR())})=>f.jsx(Wne,{goBackToEditor:!0,children:f.jsxs("div",{children:[f.jsx("div",{className:rHe,children:e}),f.jsx("div",{className:lHe,children:t}),a&&f.jsx("div",{className:lHe,children:a()}),f.jsx("div",{onClick:n,className:dHe,children:"Close"})]})}))),mHe=({handleClose:e})=>f.jsx(pHe,{title:"Media Device Access Denied",description:"The browser does not have access to your media device. Enable access and try recording again.",handleClose:e}),gHe=b.memo((()=>f.jsx("div",{className:cHe,children:f.jsx(Za,{className:uHe})}))),hHe=()=>{const e=i.useCallback((()=>f.jsxs("div",{children:["Kapwing does not have access to the clipboard. This can be set by clicking the lock icon ",f.jsx(gHe,{})," next to the URL in the address bar. Enable access and try pasting again."]})),[]),t=i.useCallback((()=>{dR()}),[]);return f.jsx(pHe,{title:"Clipboard Access Denied",renderDescription:e,handleClose:t})},vHe="CountDownTimer-module_countDownTimer_-LC32",fHe="CountDownTimer-module_lightCountDownTimer_EwyqK",bHe="CountDownTimer-module_alertUser_QnleP",yHe="CountDownTimer-module_flash_2XM2E",wHe={label:"Custom",value:null},_He=[wHe,{label:"1:1",value:1,tooltip:"Profile Photos / Memes"},{label:"16:9",value:16/9,tooltip:"YouTube"},{label:"9:16",value:9/16,tooltip:"TikTok / Instagram Story"},{label:"21:9",value:21/9,tooltip:"Linkedin Landscape"},{label:"9:21",value:9/21,tooltip:"Linkedin Mobile"},{label:"4:5",value:.8,tooltip:"Instragram Posts"},{label:"820:312",value:820/312,tooltip:"Facebook Cover Photo"}],CHe={label:"1:1",value:1,tooltip:"Instagram Post Square"},SHe={label:"4:5",value:.8,tooltip:"Instagram Post Portrait"},xHe={label:"16:9",value:16/9,tooltip:"YouTube"},IHe={label:"9:16",value:9/16,tooltip:"TikTok, Reels, Shorts"},AHe=["overlay/record/video","overlay/record/audio","overlay/record/screen"],kHe=i.createContext(void 0),THe=b.memo((({children:e})=>{const t=Bu(),[a,n]=i.useState(void 0),s=i.useRef(null),[o,r]=i.useState(void 0),l=i.useRef(null),[d,c]=i.useState(!1),[u,p]=i.useState([]),[m,g]=i.useState(void 0),[h,v]=i.useState(!1),[b,y]=i.useState([]),[w,_]=i.useState(void 0),[C,S]=i.useState(void 0),[x,I]=i.useState(),[A,k]=i.useState(void 0),T=i.useCallback(((e,t)=>{v(e),e&&("function"!=typeof e||e(h))&&ov("Teleprompter Opened",t?{"Opened From":t}:void 0)}),[h]),{pathname:E}=F(),L=i.useCallback(((e,t)=>{const{value:a}=t;if(!(a&&e.width&&e.height))return e;const n=a/(e.width/e.height);let s=100,o=100,i=0,r=0;n>1?(o/=n,r=(100-o)/2):(s*=n,i=(100-s)/2);const l={x:i,y:r,width:s,height:o},{state:d}=Mu(),{canvasX:c,canvasY:u}=d.studioSizing;let p={x:"0%",y:"0%",width:"100%",height:"100%",rotation:0};if(c&&u&&e.width&&e.height){const t={...e,width:e.width*(s/100),height:e.height*(o/100)};p={...p,...JR(t)}}return{...e,crop:l,position:p}}),[]),j=i.useCallback(((e=wHe)=>(a,n)=>{const s=F4(a.type===Nc.Video?L(a,e):a,{selectLayerInCreator:!0});dR(),function(e){var t,a;const{state:n,dispatch:s}=Mu(),{byId:o}=n.studio.allLayers,i=null==(t=n.studioLocal.awaitingRecordings)?void 0:t.screen,r=null==(a=n.studioLocal.awaitingRecordings)?void 0:a.video;if("recordType"in e)switch(e.recordType){case"screen-audio":case"screen-video":"string"==typeof i&&LHe(o,e,i),s(mj({video:e.id}));break;case"screen":"string"==typeof r&&LHe(o,e,r),s(mj({screen:e.id}))}}(s);const o=Mu().state.studio.allLayers.byId[s.id];o&&"recordType"in o&&("screen-video"===o.recordType&&(Vj(a.id,{positionTemp:null}),t(zA(o.id,"3%","67%","30%","30%")),rQ({layer:o})),"screen"===o.recordType&&(null==n?void 0:n.recordScreenAndCameraUpload)&&lQ({layer:o}))}),[L,t]),R=i.useCallback((()=>{var e;null==(e=s.current)||e.destroy(),s.current=null,n((e=>{null==e||e.getTracks().forEach((e=>e.stop()))}))}),[]),N=i.useCallback((()=>{var e;null==(e=l.current)||e.destroy(),l.current=null,r((e=>{null==e||e.getTracks().forEach((e=>e.stop()))}))}),[]);i.useEffect((()=>()=>{null==a||a.getTracks().forEach((e=>e.stop()))}),[a]),i.useEffect((()=>()=>{null==o||o.getTracks().forEach((e=>e.stop()))}),[o]);const M=i.useCallback((e=>{I(Date.now()),void 0!==e&&k((()=>e)),n((e=>(e&&(s.current=eHe(e),c(!0)),e)))}),[]),P=i.useCallback((()=>{I(Date.now()),r((e=>(e&&(l.current=eHe(e),c(!0)),e)))}),[]),D=i.useCallback((()=>{P(),M()}),[P,M]),O=i.useRef(!1),U=tY((async e=>{const n=[];if(!O.current){O.current=!0;try{const i=Date.now()-(x??0);if(I(void 0),s.current&&a){const e=a.getTracks().some((e=>"video"===e.kind));let t,r;o&&l.current?(t=e?"screen-video":"screen-audio",r="Record screen"):e?(r="Record video",t="video"):(r="Record audio",t="audio"),n.push(QVe(a,s.current,t,i).then((e=>({file:e,analyticsUploadSource:r}))).finally((()=>R())))}l.current&&o&&n.push(QVe(o,l.current,"screen",i).then((e=>({file:e,analyticsUploadSource:"Record screen"}))).finally((()=>N())));const r=(await Promise.all(n)).filter((({file:e})=>e)).map((({file:e,analyticsUploadSource:t})=>({file:e,analyticsUploadSource:t})));c(!1);const d=r.map((({file:e})=>e));if(A){if(d&&d[0]){if(i<6e4)return void t(db({description:"Record for least a minute for better results.",type:"warning"}));A(d[0])}else console.error("audio file was invalid");return}const u=r.map((({analyticsUploadSource:e})=>e)),p=!!d.find((e=>"screen-video"===e.recordType));return t(mj({screen:void 0,video:void 0})),await C9(d,{eventHandlers:{handlePreemptiveFinish:j(e),handleFinish:D4},uploadOptions:{addAtSeeker:!0,analyticsUploadSource:u[0],analyticsUploadSources:u,uploadSourceComponent:"RecordContext",multiRowUploadForRecording:!0,recordScreenAndCameraUpload:p}})}finally{O.current=!1}}})),B=i.useCallback((async()=>{const e=await async function(){try{const e=(await navigator.mediaDevices.enumerateDevices()).filter((e=>"default"!==e.deviceId)).filter((e=>""!==e.deviceId));return{videoInputDevices:e.filter((e=>"videoinput"===e.kind)),audioInputDevices:e.filter((e=>"audioinput"===e.kind))}}catch(b9e){return{videoInputDevices:[],audioInputDevices:[]}}}();return p(e.videoInputDevices),y(e.audioInputDevices),e}),[]);i.useEffect((()=>{!m&&u.length>0&&g(u[0])}),[m,u]),i.useEffect((()=>{!w&&b.length>0&&_(b[0])}),[w,b]),i.useEffect((()=>{if(o&&d){const e=o.getVideoTracks()[0];e&&(e.onended=e=>U())}}),[o,d,U]),i.useEffect((()=>{AHe.some((e=>E.includes(e)))||d||(R(),N())}),[N,R,E,d]),i.useEffect((()=>()=>{N(),R()}),[N,R]);const W=i.useMemo((()=>({videoAudioStream:a,isRecording:d,micDevices:b,selectedMic:w,setSelectedMic:_,cameraDevices:u,selectedCamera:m,setSelectedCamera:g,setVideoAudioStream:n,setScreenStream:r,pollDevices:B,saveRecordings:U,recordScreen:P,recordVideo:M,record:D,startTime:x,teleprompterText:C,setTeleprompterText:S,teleprompterOpen:h,setTeleprompterOpen:T})),[a,d,b,w,u,m,B,U,P,M,D,x,C,h,T]);return f.jsx(kHe.Provider,{value:W,children:e})}));function EHe(){const e=i.useContext(kHe);if(!e)throw new Error("useRecord must be used within a RecordProvider");return zne((()=>{e.pollDevices()})),e}function LHe(e,t,a){const n=e[t.id],s=e[a];if(!n||!s)return;const o=(null==n?void 0:n.duration)??0,i=(null==s?void 0:s.duration)??0,r=Math.min(o,i),{dispatch:l}=Mu();if(o>r){const e=r-o;l(AK.trimLayerEnd({layerId:n.id,offset:e}))}if(i>r){const e=r-i;l(AK.trimLayerEnd({layerId:s.id,offset:e}))}}const jHe=15,RHe=b.memo((({maxRecordDuration:e,lightTheme:t})=>{const{startTime:a,isRecording:n,saveRecordings:s}=EHe(),o=e||9e5,[r,l]=i.useState((()=>a?MHe(a,o):o));i.useEffect((()=>{let e;if(n&&a){let t=!1;e=setInterval((()=>{l((()=>{const e=MHe(a,o);return e<=0&&!t&&(t=!0,s()),e}))}),1e3)}return()=>{e&&clearInterval(e)}}),[n,o,s,a]);let d=t?fHe:vHe;return r<=6e4&&(d+=` ${bHe}`,r<=15e3&&(d+=` ${yHe}`)),f.jsx("b",{className:d,children:NHe(Math.round(r/1e3))})})),NHe=e=>{const t=Math.floor(e/60),a=Math.round(e-60*t);return`${t.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`};function MHe(e,t){const a=Date.now()-e;return zg(t-a,0,t)}const PHe="RecordButton-module_container_AMeQm",FHe="RecordButton-module_buttonContainer_qK51q",DHe="RecordButton-module_lightButtonContainer_dLwZc",OHe="RecordButton-module_recordCircle_h3Yox",UHe="RecordButton-module_animate_YulOk",BHe="RecordButton-module_recordingMetadata_QVdL4",WHe="RecordButton-module_lightRecordingMetadata_49fdG",VHe="RecordButton-module_equalizer_xr51f",HHe=b.memo((({onClick:e,isRecording:t,maxRecordDuration:a,lightTheme:n})=>{const[s,o]=i.useState("NOT_STARTED");i.useEffect((()=>{"NOT_STARTED"===s&&t?o("IN_PROGRESS"):"IN_PROGRESS"!==s||t||o("DONE")}),[t,s]);const r="IN_PROGRESS"===s;return f.jsxs("div",{className:PHe,children:[f.jsx("div",{className:n?DHe:FHe,onClick:e,children:f.jsx("span",{className:L(r&&[OHe,UHe],!r&&[OHe])})}),f.jsxs("div",{className:n?WHe:BHe,children:[f.jsx("span",{children:(()=>{switch(s){case"NOT_STARTED":return"Start Recording";case"IN_PROGRESS":return"Recording...";case"DONE":return"Recording Stopped"}return""})()}),f.jsx(RHe,{maxRecordDuration:a,lightTheme:n})]}),f.jsx("div",{className:VHe,children:f.jsx(WRe,{audioPlaying:"IN_PROGRESS"===s})})]})})),zHe="VoiceCloningRecordOverlay-module_container_xS-2w",GHe="VoiceCloningRecordOverlay-module_lightContainer_kcrZ2",YHe="VoiceCloningRecordOverlay-module_headerText_XqTnP",KHe="VoiceCloningRecordOverlay-module_lightHeaderText_y9RXm",XHe="VoiceCloningRecordOverlay-module_footerControls_kVGoG",ZHe="VoiceCloningRecordOverlay-module_recordSection_uy2YH",qHe="VoiceCloningRecordOverlay-module_subheader_LdrMK",JHe="VoiceCloningRecordOverlay-module_lightSubheader_v-9lR",$He="VoiceCloningRecordOverlay-module_scriptContainer_R-Vzz",QHe="VoiceCloningRecordOverlay-module_lightScriptContainer_8I05H",eze="VoiceCloningRecordOverlay-module_toggleScript_CQ4gx",tze="VoiceCloningRecordOverlay-module_icon_-0Spn",aze="VoiceCloningRecordOverlay-module_scriptHeader_3BZl5",nze="VoiceCloningRecordOverlay-module_script_ToDtd",sze="VoiceCloningRecordOverlay-module_lightScript_eCCR1",oze=b.memo((({handleClose:e,addFiles:t,lightTheme:a})=>{const{setVideoAudioStream:n,recordVideo:s,saveRecordings:o,isRecording:r,micDevices:l,setSelectedMic:d,selectedMic:c}=EHe(),[u,p]=i.useState(!0),[m,g]=i.useState(!1);i.useEffect((function(){(async()=>{const e=await sHe(null==c?void 0:c.deviceId);e?n(e):g(!0)})()}),[n,c]);const h=i.useCallback((e=>{t([e])}),[t]),v=i.useCallback((async()=>{r?(await o(),e()):s(h)}),[h,e,r,s,o]);return f.jsxs(f.Fragment,{children:[m&&mHe({handleClose:()=>{g(!1)}}),f.jsxs("div",{className:a?GHe:zHe,children:[f.jsx("div",{className:a?KHe:YHe,children:"Record Voice Cloning Sample"}),f.jsxs("div",{className:a?JHe:qHe,children:["You can record ",f.jsx("b",{children:"1-3 minutes"})," per audio sample. Make sure to record your sample in a quiet space. Click the red button below to start recording audio for your custom voice clone."]}),f.jsxs("div",{className:a?QHe:$He,children:[f.jsxs("div",{className:aze,children:["Sample script",u?f.jsxs("div",{className:eze,onClick:()=>p(!1),children:["Show script",f.jsx("div",{className:tze,children:f.jsx(pa,{})})]}):f.jsxs("div",{className:eze,onClick:()=>p(!0),children:["Hide script",f.jsx("div",{className:tze,children:f.jsx(qa,{})})]})]}),!u&&f.jsxs(f.Fragment,{children:[f.jsx("p",{className:a?sze:nze,children:"This is a recording of what my voice sounds like. Text-to-speech voiceovers are a powerful tool for content creators in various fields. They can enhance your podcasts, elevate your webinars, and enrich educational videos."}),f.jsx("p",{className:a?sze:nze,children:"But what if you could take it a step further and make your content truly unique? That's where cloned voices come in."}),f.jsx("p",{className:a?sze:nze,children:"Imagine having your very own personalized touch to everything you create. With a cloned voice, you can infuse your content with your identity and style, making it stand out in the crowded world of digital media."}),f.jsx("p",{className:a?sze:nze,children:"Save time and money by creating a clone of your voice. With this tool you can enter a script and create a voiceover in seconds without having to hire a voice actor or use expensive recording equipment."}),f.jsx("p",{className:a?sze:nze,children:"Your voice clone can also come in handy if you need to correct a mistake in a piece of content that you have already recorded. Simply type out what you meant to say and generate those words with your clone."}),f.jsx("p",{className:a?sze:nze,children:"What's even more remarkable is the ability to break language barriers. Cloned voices make it possible for your content to be dubbed into countless languages, expanding your reach and connecting with global audiences."}),f.jsx("p",{className:a?sze:nze,children:"Read this script over once more to record 2-3 minutes of content for your voice clone."})]})]}),f.jsxs("div",{className:XHe,children:[f.jsx("div",{className:ZHe,children:f.jsx(HHe,{onClick:v,isRecording:r,maxRecordDuration:18e4,lightTheme:a})}),f.jsx(qVe,{isDeviceToggled:!r,devices:l,setSelectedDevice:d,selectedDevice:c,icon:iHe,lightTheme:a})]})]})]})})),ize=async e=>{const{dispatch:t}=Mu();try{const t=await Qw({files:[{file:e}]}),{upload_uri:a}=t.uris[0];return await((e,t)=>new Promise(((a,n)=>{const s=new XMLHttpRequest;s.open("PUT",e,!0),s.onload=()=>{const s=new URL(e).searchParams.get("name");if(!s)return n();h2({bucket:Bl,name:s||t.name,blob_name:s,size:t.size},{skipSigning:!0,skipCML:!0}).then((({asset:e})=>{a(e)})).catch((e=>{n(e)}))},s.setRequestHeader("Content-Type",t.type),s.send(t),s.onerror=()=>{n(new Error("Upload to GCS failed"))}})))(a,e)}catch(a){t(db({description:a.message,type:"error"}))}};function rze({setCurrentVoice:e,lightTheme:t,onClose:a}){const n=fve(),[s,o]=i.useState(""),[r,l]=i.useState([]),[d,c]=i.useState(!1),[u,p]=i.useState(!1),[m,g]=i.useState(!1),[h,v]=i.useState("Cloning voice"),[b,y]=i.useState(!0),[w,_]=i.useState([0,100]),C=Bu(),S=i.useRef(new vre),x=Du((e=>e.studio._id)),I=cg(),{blocked:A}=uP({projectedUsage:{[Bd.CLONED_VOICES]:1}}),{activeBrandkit:k,selectedTeamId:T}=Du((e=>({activeBrandkit:e.teams.activeBrandkit,selectedTeamId:e.teams.selectedTeamId})),Ou),E=i.useCallback((e=>{0===r.length?l(e):l([...r,...e])}),[r]),L=i.useCallback((e=>{if(e.length>3-r.length)C(db({description:"Upload up to 3 samples.",type:"warning"}));else{const t=Array.from(e).filter((e=>{if(nS(e.type)||tS(e.type)){if(e&&e.size<=2e8)return!0;C(db({description:"Uploaded file is too large.",type:"error"}))}else C(db({description:`Invalid file type ${e.type}, upload video or audio.`,type:"error"}));return!1}));E(t)}}),[E,C,r.length]),j=i.useCallback((e=>{const t=e.target;t&&t.files&&t.files.length>0&&L(t.files)}),[L]),N=ZIe(),M=i.useCallback((async()=>{if(!k)return;g(!0),S.current.reset(),ov("Voice Cloning Started",{numFiles:r.length}),v("Uploading files"),_([0,30]);const t=await Promise.all(r.map(ize));if(t.some((e=>!e)))return pb({description:"Failed to upload sample files",sentryMessage:"Voice Cloning: failed to upload sample files"}),void g(!1);const n=t;console.debug("uploaded assets",n);let i=n.map((e=>e._id));const d=[];if(b){v("Splitting vocals"),_([30,60]);const e=await Promise.all(n.map((e=>(async({asset_id:e,videoId:t,teamId:a,cancellationSource:n})=>{const s=await DWe(e);if("success"===(null==s?void 0:s.status))return s;const o=await OWe({asset_id:e,videoId:t,teamId:a});if(!o)return pb({description:"Error starting split vocals. Please try again.",sentryMessage:"Split Vocals: timed out",extra:{asset_id:e}}),n.cancel(),null;let i=0;for(;!n.cancelled;){if(i>1e3)return pb({description:"Split vocals timed out. Please try again.",sentryMessage:"Split Vocals: timed out",extra:{asset_id:e}}),n.cancel(),null;const t=await FWe(o);if(t)switch(t.status){case"success":return Mu().dispatch(db({description:"Split Vocals complete.",type:"success"})),t;case"error":return pb({description:"There was an error processing your video. Please try again."}),null;case"queued":if(i>20)return pb({description:"Extracting background audio failed to start."}),null}i+=1,await new Promise((e=>setTimeout(e,3e3)))}return null})({asset_id:e._id,videoId:x,teamId:T,cancellationSource:S.current}))));if(S.current.cancelled)return;if(e.some((e=>!e||"success"!==e.status)))return pb({description:"Failed to split vocals",sentryMessage:"Voice Cloning: failed to split vocals"}),void g(!1);const t=e;console.debug("splitVocalsJobs",t),i=t.map((e=>{var t;return null==(t=e.result)?void 0:t.vocals_asset_id})).filter(vA),d.push(...t.map((e=>e._id)))}v("Cloning voice"),_([60,80]);try{const t=await hb({assetIds:i,removeBackgroundNoiseWithElevenLabs:!b,cancellationSource:S.current,teamId:T});if(S.current.cancelled)return;if(!t||"cancelled"===t)return void g(!1);if("complete"!==t.status)return pb({description:"Failed to clone voice",sentryMessage:"Voice Cloning: failed to clone voice"}),void g(!1);const n={label:s,name:Tm(s),languageCode:"en-US",elevenLabsId:t.voiceId};v("Generating voice preview"),_([80,100]);const r=await(async({voiceOption:e,text:t,ttsLanguageOption:a,cancellationSource:n,feature:s})=>{const o=await Wje({voiceOption:e,text:t,ttsLanguageOption:a,cancellationSource:n,videoId:Mu().state.studio._id,feature:s});if(!o)return;const{asset:i}=o;return i})({voiceOption:n,text:"Automatically turn your text into speech with an ai-generated voice.",ttsLanguageOption:null,feature:kje.VOICE_CLONING});if(r||cb({description:"Voice preview failed to generate",error:new Error("Cloned voice preview failed to generate")}),S.current.cancelled)return;const c=k.clonedVoices?[...k.clonedVoices,{name:s,voiceId:t.voiceId,assetId:r?r._id:void 0,previewUrl:r?r.url:void 0}]:[{name:s,voiceId:t.voiceId,assetId:r?r._id:void 0,previewUrl:r?r.url:void 0}],u={...k,clonedVoices:c};C(Ib(u)),jb(T,{brandkit:u}),ov("Voice Cloning Finished",{voiceId:t.voiceId}),c_({TTSVoiceClones:1}),l([]),o(""),p(!1),e&&e(n),await Promise.all(d.map(UWe)),a()}catch(c){console.error(c),cb({description:"Failed to clone voice.",error:c})}finally{g(!1)}}),[k,C,a,b,r,T,e,x,s]),P=i.useCallback((()=>{c(!0)}),[]),F=i.useCallback((()=>{d?c(!1):a()}),[a,d]),D=i.useCallback((()=>{S.current.cancel(),g(!1)}),[]);if(d)return f.jsxs("div",{className:BWe,children:[f.jsx("div",{className:zWe,onClick:F}),f.jsxs("div",{className:t?qWe:ZWe,children:[f.jsx("div",{className:t?bVe:fVe,onClick:F,children:f.jsx(R,{})}),f.jsx(oze,{handleClose:F,addFiles:E,lightTheme:t})]})]});if(m)return f.jsx(Wne,{onClose:D,noPadding:!0,hideClose:!0,children:f.jsx("div",{className:XWe,children:f.jsx(LIe,{handleCancel:D,estimatedJobDuration:60,estimatedProgressRange:w,loadingMessage:`${h} ... please wait. This may take a moment.`,jobDescription:"cloning your voice",lightTheme:t})})});const O=I.type!==Id.Enterprise&&I.type!==Id.Business;return A&&O?f.jsx(lze,{onClose:F,lightTheme:t}):f.jsx(f.Fragment,{children:f.jsxs("div",{className:BWe,children:[f.jsx("div",{className:zWe,onClick:F}),f.jsxs("div",{className:t?KWe:GWe,children:[f.jsx("div",{className:t?bVe:fVe,onClick:F,children:f.jsx(R,{})}),f.jsx("form",{className:JWe,onSubmit:e=>(e.preventDefault(),N(M,{[Bd.CLONED_VOICES]:1})(e)),children:f.jsxs("div",{className:$We,children:[f.jsxs("div",{className:QWe,children:[f.jsxs("div",{className:eVe,children:[f.jsx("div",{className:t?aVe:tVe,children:"Add Voice"}),f.jsx("p",{className:t?sVe:nVe,children:"Clone your voice on Kapwing to use it with Text to Speech voiceovers. Your voice will be saved to your Brand Kit and accessible to everyone in your team workspace. Voice cloning on Kapwing is powered by multiple sources, including Eleven Labs and VoiceCraft."})]}),f.jsx("div",{className:t?rVe:iVe,children:"Voice Name"}),f.jsx("input",{className:t?VWe:WWe,placeholder:"Type the name of your voice here",type:"text",autoComplete:"off",value:s,onKeyDown:e=>{s||" "!==e.key||e.preventDefault()},onChange:e=>{o(e.target.value)}}),f.jsx("div",{className:t?rVe:iVe,children:`Audio Samples (${r.length}/3)`}),f.jsxs("p",{className:t?sVe:nVe,children:["Upload or record up to 3 video or audio samples of your voice or a voice you have permission to clone.\n                   Each file must be 200MB or smaller."," ",f.jsx("b",{children:"For best results, please upload or record 1-5 minutes of sample material."})]}),f.jsx(SOe,{doAudioUpload:!0,customAddUploads:L,invisible:!0,uploadSource:"UploadDragOverlay",uploadTarget:"canvas",children:f.jsxs("label",{className:t?dVe:lVe,children:[f.jsx("input",{className:vVe,id:"file",type:"file",accept:"audio/*, video/*",multiple:!0,onChange:j,onClick:e=>{e.target.value=""}}),f.jsxs("div",{className:t?uVe:cVe,children:["Upload Audio Sample",f.jsx(ma,{})]}),f.jsx("div",{className:t?mVe:pVe,children:"Click to upload files from your device"})]})}),f.jsx("div",{className:t?hVe:gVe,onClick:P,children:f.jsxs("div",{className:t?uVe:cVe,children:["Record Sample",f.jsx(Ja,{})]})}),f.jsx("div",{className:yVe,children:r.map(((e,a)=>f.jsxs("div",{className:t?_Ve:wVe,children:[f.jsx("div",{className:t?AVe:IVe,onClick:()=>(e=>{const t=r;t.splice(e,1),l([...t])})(a),children:f.jsx(R,{})}),e.name,f.jsxs("div",{className:t?SVe:CVe,children:["Upload Complete",f.jsx("span",{className:xVe,children:f.jsx(Ut,{})})]})]},e.name)))})]}),f.jsxs("div",{className:kVe,children:[f.jsxs("div",{className:TVe,children:[f.jsx("div",{className:t?LVe:EVe,onClick:()=>p(!u),children:u?f.jsx(La,{}):f.jsx(ja,{})}),f.jsxs("div",{className:`${t?sVe:nVe} ${oVe}`,onClick:()=>p(!u),children:["I confirm that I am the owner of this voice or have explicit permission to clone this voice. I confirm that I will not use this voice clone for abusive purposes such as fraud, discrimination, hate speech or for any form of online abuse. I confirm that I have reviewed the information outlined in this",f.jsx("a",{href:"https://elevenlabs.io/safety",target:"_blank",rel:"noopener noreferrer",children:" Voice Cloning Guide"}),"."]})]}),n&&f.jsx("div",{children:f.jsx(RRe,{toggled:!b,onClick:()=>y(!b),children:f.jsx("div",{style:{display:"flex",flex:1,marginRight:10,justifyContent:"flex-end"},children:"(Admin only) Use eleven labs to remove background noise"})})}),f.jsx("button",{className:jVe,type:"submit",disabled:0===s.length||0===s.trim().length||0===r.length||!u,children:"Clone"})]})]})})]})]})})}function lze({lightTheme:e,onClose:t}){const a=Bg(),n=i.useRef(null),s=i.useRef(new Audio("https://cdn-useast1.kapwing.com/static/Rtf-Katherine_Voice_Clone_Preview_V1.mp3")),[o,r]=i.useState(!1),[l,d]=i.useState(!1);i.useEffect((function(){s.current.onended=function(){d(!1)}}),[]);return f.jsx(f.Fragment,{children:f.jsxs("div",{className:BWe,children:[f.jsx("div",{className:zWe,onClick:t}),f.jsxs("div",{className:e?KWe:YWe,children:[f.jsx("div",{className:e?bVe:fVe,onClick:t,children:f.jsx(R,{})}),f.jsxs("div",{className:$We,children:[f.jsxs("div",{className:eVe,children:[f.jsx("div",{className:e?aVe:tVe,children:"Voice Cloning"}),f.jsx("p",{className:e?sVe:nVe,children:"Upgrade to create custom Text to Speech voices in Kapwing. Just upload a sample of your voice or a voice you have permission to clone, and your custom voice will be saved to your workspace Brand Kit."})]}),f.jsxs("div",{className:HWe,children:[f.jsxs("div",{className:MVe,children:[f.jsx("span",{className:RVe,children:"Original Video"}),f.jsxs("div",{className:PVe,onClick:()=>{if(n.current){const e=n.current;e.paused?(e.currentTime=0,e.play(),r(!0)):(e.pause(),r(!1))}s.current.paused||(s.current.pause(),d(!1))},children:[f.jsx("div",{className:OVe,children:f.jsx("video",{src:"https://cdn-useast1.kapwing.com/static/96H-IMG_2764_V2.mp4",poster:"https://cdn-useast1.kapwing.com/static/yJu-Screenshot-2024-01-10-at-3.07.59-PM.webp",controlsList:"nodownload nofullscreen noremoteplayback",className:FVe,ref:n,onEnded:()=>{r(!1)}})}),f.jsx("div",{className:UVe,children:o?f.jsx(Aa,{}):f.jsx(ka,{})}),o?f.jsx("div",{className:WVe,children:f.jsx(WFe,{size:"large"})}):null]})]}),f.jsxs("div",{className:MVe,style:a?{marginTop:"15px"}:{},children:[f.jsx("span",{className:NVe,children:"Cloned Voice"}),f.jsxs("div",{className:PVe,onClick:()=>{if(n.current){const e=n.current;l?(s.current.pause(),d(!1)):(s.current.currentTime=0,s.current.play(),d(!0)),e.paused||(e.pause(),r(!1))}},children:[f.jsx("div",{className:OVe,children:f.jsx("img",{className:DVe,alt:"waveform icon",src:"https://cdn-useast1.kapwing.com/static/eU1-Lower.webp"})}),f.jsx("div",{className:BVe,children:l?f.jsx(Aa,{}):f.jsx(ka,{})}),l?f.jsx("div",{className:VVe,children:f.jsx(WFe,{})}):null]})]})]}),f.jsxs("div",{className:HVe,children:[f.jsx("div",{className:zVe,onClick:t,children:"Back to project"}),f.jsxs("div",{className:GVe,onClick:()=>{lse((()=>null),{action:Dd.CLONED_VOICES,overrideRecommendedUpgrade:Id.Business})()},children:["Upgrade to use Voice Cloning",f.jsx(_se,{})]})]})]})]})]})})}const dze="ChooseVoice-module_wrapper_ZarDJ",cze="ChooseVoice-module_container_W4ZWg",uze="ChooseVoice-module_headerContainer_ySTh-",pze="ChooseVoice-module_header_TIIUx",mze="ChooseVoice-module_description_ZkNPN",gze="ChooseVoice-module_content_MX2L2",hze="ChooseVoice-module_row_5ebrH",vze="ChooseVoice-module_subheader_Gkd7H",fze="ChooseVoice-module_grid_NKiI3",bze="ChooseVoice-module_createVoiceClone_oVexJ",yze="ChooseVoice-module_itemHeader_AQv-N",wze="ChooseVoice-module_itemSubheader_R5Ju0",_ze="ChooseVoice-module_noVoices_p-Y9U",Cze="ChooseVoice-module_voice_agWwl",Sze="ChooseVoice-module_selectedVoice_e-sII",xze="ChooseVoice-module_sparkle_-9uDM",Ize="PersonaVoicePaywallOverlay-module_wrapper_jtJvp",Aze="PersonaVoicePaywallOverlay-module_previewContainer_tyzy3",kze="PersonaVoicePaywallOverlay-module_background_7Y1V3",Tze="PersonaVoicePaywallOverlay-module_previewModal_xpNRr",Eze="PersonaVoicePaywallOverlay-module_container_7qQ4C",Lze="PersonaVoicePaywallOverlay-module_header_ccdJx",jze="PersonaVoicePaywallOverlay-module_headerText_QWQEt",Rze="PersonaVoicePaywallOverlay-module_text_TCFyd",Nze="PersonaVoicePaywallOverlay-module_close_GZCaP",Mze="PersonaVoicePaywallOverlay-module_previewColumn_LvQGp",Pze="PersonaVoicePaywallOverlay-module_videoContainer_LfS3c",Fze="PersonaVoicePaywallOverlay-module_demoVideo_kOkoM",Dze="PersonaVoicePaywallOverlay-module_demoWaveform_bKs6P",Oze="PersonaVoicePaywallOverlay-module_demoContainer_WgsSE",Uze="PersonaVoicePaywallOverlay-module_preVideoOverlay_vYaOO",Bze="PersonaVoicePaywallOverlay-module_postVideoOverlay_oYFs8",Wze="PersonaVoicePaywallOverlay-module_preVideoEqualizer_JBgHp",Vze="PersonaVoicePaywallOverlay-module_postVideoEqualizer_7u4pa",Hze="PersonaVoicePaywallOverlay-module_previewBottomContainer_DvjF8",zze="PersonaVoicePaywallOverlay-module_previewBack_SMOke",Gze="PersonaVoicePaywallOverlay-module_previewUpgrade_7BSR4",Yze="PersonaVoicePaywallOverlay-module_originalText_yrlEK",Kze="PersonaVoicePaywallOverlay-module_clonedText_C-xcx",Xze=b.memo((({onClose:e})=>{const t=Bg(),a=i.useRef(null),n=i.useRef(new Audio("https://cdn-useast1.kapwing.com/static/Rtf-Katherine_Voice_Clone_Preview_V1.mp3")),[s,o]=i.useState(!1),[r,l]=i.useState(!1);i.useEffect((function(){n.current.onended=function(){l(!1)}}),[n]);const d=()=>{e()};return f.jsx(f.Fragment,{children:f.jsxs("div",{className:Ize,children:[f.jsx("div",{className:kze,onClick:d}),f.jsxs("div",{className:Tze,children:[f.jsx("div",{className:Nze,onClick:d,children:f.jsx(R,{})}),f.jsxs("div",{className:Eze,children:[f.jsxs("div",{className:Lze,children:[f.jsx("div",{className:jze,children:"Upgrade to create a custom voice"}),f.jsx("p",{className:Rze,children:"Upgrade to create a custom voice for your AI Persona. Just upload a 10-15 seconds of clear audio, and we'll create a cloned voice that your AI Persona can use to say anything."})]}),f.jsxs("div",{className:Aze,children:[f.jsxs("div",{className:Mze,children:[f.jsx("span",{className:Yze,children:"Original Video"}),f.jsxs("div",{className:Pze,onClick:()=>{if(a.current){const e=a.current;e.paused?(e.currentTime=0,e.play(),o(!0)):(e.pause(),o(!1))}n.current.paused||(n.current.pause(),l(!1))},children:[f.jsx("div",{className:Oze,children:f.jsx("video",{src:"https://cdn-useast1.kapwing.com/static/96H-IMG_2764_V2.mp4",poster:"https://cdn-useast1.kapwing.com/static/yJu-Screenshot-2024-01-10-at-3.07.59-PM.webp",controlsList:"nodownload nofullscreen noremoteplayback",className:Fze,ref:a,onEnded:()=>{o(!1)}})}),f.jsx("div",{className:Uze,children:s?f.jsx(Aa,{}):f.jsx(ka,{})}),s?f.jsx("div",{className:Wze,children:f.jsx(WFe,{size:"large"})}):null]})]}),f.jsxs("div",{className:Mze,style:t?{marginTop:"15px"}:{},children:[f.jsx("span",{className:Kze,children:"Cloned Voice"}),f.jsxs("div",{className:Pze,onClick:()=>{if(a.current){const e=a.current;r?(n.current.pause(),l(!1)):(n.current.currentTime=0,n.current.play(),l(!0)),e.paused||(e.pause(),o(!1))}},children:[f.jsx("div",{className:Oze,children:f.jsx("img",{className:Dze,alt:"waveform icon",src:"https://cdn-useast1.kapwing.com/static/eU1-Lower.webp"})}),f.jsx("div",{className:Bze,children:r?f.jsx(Aa,{}):f.jsx(ka,{})}),r?f.jsx("div",{className:Vze,children:f.jsx(WFe,{})}):null]})]})]}),f.jsxs("div",{className:Hze,children:[f.jsx("div",{className:zze,onClick:d,children:"Back"}),f.jsxs("div",{className:Gze,onClick:()=>{lse((()=>null),{action:Dd.PERSONA_VOICE_CLONE,overrideRecommendedUpgrade:Id.Business})()},children:["Upgrade to use Voice Cloning",f.jsx(_se,{})]})]})]})]})]})})})),Zze="VoicePlayer-module_item_rQqQW",qze="VoicePlayer-module_itemTop_TKKrY",Jze="VoicePlayer-module_playPause_5An-E",$ze="VoicePlayer-module_playButton_-9gw0",Qze="VoicePlayer-module_icon_ub8zn",eGe="VoicePlayer-module_tags_6VYo4",tGe="VoicePlayer-module_tag_i4HqP",aGe=({voiceItem:e,previewCurrentlyPlaying:t=e.audioPreview,setPreviewCurrentlyPlaying:a})=>{const[n,s]=i.useState(!1),{name:o,audioPreview:r,tags:l}=e,d=jse();d.current.onended=function(){s(!1)},i.useEffect((function(){n&&t!==e.audioPreview&&(s(!1),d.current.pause())}),[n,e.audioPreview,d,t]);return f.jsxs("div",{className:Zze,children:[f.jsxs("div",{className:qze,children:[f.jsx("div",{className:Jze,onClick:()=>{n?(s(!1),d.current.pause()):(d.current.src=r,s(!0),a&&a(r),d.current.play())},children:n?f.jsx("div",{className:$ze,children:f.jsx(Aa,{className:Qze})}):f.jsx("div",{className:$ze,children:f.jsx(ka,{className:Qze})})}),o]}),f.jsx("div",{children:l&&l?f.jsx("div",{className:eGe,children:l.map((e=>e?f.jsx("div",{className:tGe,children:e.toLocaleLowerCase()},e):null))}):null})]})},nGe=e=>i.createElement("svg",{width:25,height:29,viewBox:"0 0 25 29",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},i.createElement("path",{d:"M23.4762 20.4048C23.4762 21.6866 22.967 22.916 22.0605 23.8224C21.1541 24.7289 19.9247 25.2381 18.6428 25.2381M18.6428 25.2381C17.361 25.2381 16.1316 24.7289 15.2252 23.8224C14.3187 22.916 13.8095 21.6866 13.8095 20.4048M18.6428 25.2381V28M18.6428 28H15.8809M18.6428 28H21.4047M18.6428 22.4762C18.0935 22.4762 17.5666 22.258 17.1781 21.8695C16.7897 21.481 16.5714 20.9541 16.5714 20.4048V16.2619C16.5714 15.7125 16.7897 15.1857 17.1781 14.7972C17.5666 14.4087 18.0935 14.1905 18.6428 14.1905C19.1922 14.1905 19.7191 14.4087 20.1076 14.7972C20.496 15.1857 20.7143 15.7125 20.7143 16.2619V20.4048C20.7143 20.9541 20.496 21.481 20.1076 21.8695C19.7191 22.258 19.1922 22.4762 18.6428 22.4762V22.4762Z",stroke:"#606060",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}),i.createElement("circle",{cx:9.17857,cy:5.17857,r:4.42857,stroke:"#606060",strokeWidth:1.5}),i.createElement("path",{d:"M15 14.0263C13.6696 12.7502 11.8569 12 9.48999 12C3.42571 12 1 16.9249 1 23H12.2189",stroke:"#606060",strokeWidth:1.5})),sGe=({setHideCloseOverride:e})=>{var t;const a=Bu(),[n,s]=i.useState(!1),o=i.useCallback((t=>{e(t),s(t)}),[e,s]),[r,l]=i.useState(!1),d=i.useCallback((t=>{e(t),l(t)}),[e,l]),[c,u]=i.useState(""),{activeBrandkit:p,selectedVoiceItem:m}=Du((e=>{var t,a;return{activeBrandkit:e.teams.activeBrandkit,selectedVoiceItem:null==(a=null==(t=e.studio.personas)?void 0:t.createPersonaOverlay)?void 0:a.selectedVoiceItem}}),Ou),g=gg(Fd.CLONED_VOICES),h=e=>{a(WQ({selectedVoiceItem:e}))},v=(null==(t=null==p?void 0:p.clonedVoices)?void 0:t.map((e=>{let t="";const{name:a,previewUrl:n,voiceId:s}=e;return n&&(t=n),{name:a,audioPreview:t,voiceId:s}})))||[],b=Nm.map((e=>{const{label:t,preview_url:a,gender:n,accent:s,useCase:o,age:i,description:r,elevenLabsId:l}=e;return{name:t,audioPreview:a,tags:[n,s,o||"",i,r||""],voiceId:l}})),y=()=>{g?o(!0):d(!0)},w=()=>{d(!1),o(!1)},_=()=>f.jsxs("div",{className:hze,children:[f.jsx("div",{className:vze,children:"Kapwing Voices"}),f.jsx("div",{className:fze,children:b.map((e=>f.jsx("div",{className:e.voiceId===(null==m?void 0:m.voiceId)?Sze:Cze,onClick:t=>((e,t)=>{h(t)})(0,e),children:f.jsx(aGe,{voiceItem:e,previewCurrentlyPlaying:c,setPreviewCurrentlyPlaying:u})},e.name)))})]});return f.jsx("div",{className:dze,children:f.jsxs("div",{className:cze,children:[f.jsx("div",{className:uze,children:f.jsx("div",{className:pze,children:"Create a Brand Persona: Choose a voice"})}),f.jsx("div",{className:mze,children:"Select an initial voice to use with your persona. You can create your own custom voice clone, or select from a library of premade voices. This can be changed later."}),f.jsx("div",{className:gze,children:f.jsxs("div",{children:[f.jsxs("div",{className:hze,children:[f.jsx("div",{className:vze,children:"Brand Voices"}),f.jsxs("div",{className:fze,children:[f.jsxs("div",{className:bze,onClick:y,children:[f.jsx(nGe,{}),f.jsxs("div",{className:yze,children:["Create New Voice",g?null:f.jsx(_se,{className:xze})]}),f.jsx("div",{className:wze,children:"Make a new voice clone with your own audio"})]}),v&&0!==v.length?f.jsx(f.Fragment,{children:v.map((e=>f.jsx("div",{className:e.voiceId===(null==m?void 0:m.voiceId)?Sze:Cze,onClick:()=>h(e),children:f.jsx(aGe,{voiceItem:e,previewCurrentlyPlaying:c,setPreviewCurrentlyPlaying:u})},e.name)))}):f.jsx("div",{className:_ze,children:"You don't have any brand voices yet. Create one to get started, and it will appear here."})]})]}),_()]})}),f.jsx($De,{nextStepDisabled:!m}),n&&f.jsx(rze,{onClose:w}),r&&f.jsx(Xze,{onClose:w})]})})};function oGe(){const{dispatch:e}=Mu();e(WQ({showCreatePersonaOverlay:!0}))}function iGe(){const{dispatch:e}=Mu();e(WQ({showCreatePersonaOverlay:!1}))}function rGe(){const e=Bg(),t=Jm(),a=Du((e=>{var t,a;return null==(a=null==(t=e.studio.personas)?void 0:t.createPersonaOverlay)?void 0:a.selectedTab}))||Lp.Intro,n=Du((e=>{var t,a;return null==(a=null==(t=e.studio.personas)?void 0:t.createPersonaOverlay)?void 0:a.showCreatePersonaOverlay}))||!1,[s,o]=i.useState(!1),r=()=>{switch(a){case Lp.Intro:return f.jsx(uOe,{});case Lp.Upload:return f.jsx(MWe,{});case Lp.Voice:return f.jsx(sGe,{setHideCloseOverride:o});case Lp.Consent:return f.jsx(QDe,{});default:return f.jsx(uOe,{})}};return n&&!t?f.jsx(ene,{hideSignIn:iGe}):n?f.jsx(Wne,{onClose:iGe,width:"90dvw",maxWidth:"1200px",noPadding:!0,hideClose:!e||s,children:f.jsx(gDe,{handleClose:iGe,children:r()})}):null}const lGe="PersonaSelector-module_dropdownTrigger_X2mnj",dGe="PersonaSelector-module_dropdownTriggerLabelRow_ACDBo",cGe="PersonaSelector-module_dropdownTriggerLabel_XPalr",uGe="PersonaSelector-module_selected_3NF04",pGe="PersonaSelector-module_dropdownContainer_xzUgZ",mGe="PersonaSelector-module_dropdownContent_rrreV",gGe="PersonaSelector-module_dropdownHeader_yYHhy",hGe="PersonaSelector-module_closeButton_59mNc",vGe="PersonaSelector-module_areaButton_VxIaF",fGe="PersonaSelector-module_createPersonaOption_sN5uh",bGe="PersonaSelector-module_optionsContainer_SgIim",yGe="PersonaSelector-module_personaSpacer_RCGjY",wGe="PersonaSelector-module_personaIcon_Xpy6X",_Ge="PersonaSelector-module_personaGrid_RmgFV",CGe="PersonaSelector-module_personaOption_D0q6U",SGe="PersonaSelector-module_disabled_oNGNL",xGe="PersonaSelector-module_personaImage_j5KEK",IGe="PersonaSelector-module_loading_XLbzy",AGe="PersonaSelector-module_personaName_pezl-",kGe="PersonaSelector-module_audioOnlyIcon_BID4y",TGe="PersonaSelector-module_dropdownHeaderLabel_qbFHK",EGe=["All","Stock","Brand"],LGe=({configuredPersona:e,onPersonaSelected:t})=>{const[a,n]=i.useState(!1),s=e?EA(e):void 0,o=e?e.name:"None (audio-only)";return f.jsxs(hr,{onOpenChange:n,open:a,children:[f.jsxs(vr,{className:lGe,"data-testid":"persona-selector-trigger",children:[s&&f.jsx("img",{src:s,className:wGe,alt:""}),f.jsx(fke,{id:cZ.PersonaSelector,portal:!0,children:f.jsxs("div",{className:dGe,children:[e?f.jsx("div",{className:yGe}):f.jsx($a,{}),f.jsx("div",{className:cGe,children:o})]})}),f.jsx(ot,{})]}),f.jsx(fr,{children:f.jsx(br,{className:mGe,align:"start",sideOffset:10,children:f.jsx(jGe,{onPersonaSelected:t,setPersonaSelectorOpen:n,configuredPersona:e})})})]})};function jGe({onPersonaSelected:e,setPersonaSelectorOpen:t,configuredPersona:a,hideCloseButton:n}){const[s,o]=i.useState("All");return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:gGe,children:[f.jsxs("div",{className:TGe,children:["Persona ",f.jsx(pDe,{})]}),!n&&f.jsx(Mr,{asChild:!0,onClick:()=>t(!1),children:f.jsx(R,{className:hGe,size:24})})]}),f.jsxs("div",{className:vGe,onClick:oGe,children:[f.jsx(Qa,{size:20}),f.jsx("div",{children:"Create Persona"})]}),f.jsx("div",{className:pGe,children:f.jsx(Nse,{value:s,listItems:EGe.map((e=>({label:`${e} Personas`,value:e}))),onChange:e=>o(e),alignItemsLeft:!0})}),f.jsx(NGe,{filter:s,configuredPersona:a,setConfiguredPersona:a=>{t(!1),e(a)}})]})}function RGe({persona:e,isSelected:t,onSelect:a}){const n=!(null==e?void 0:e.isStockPersona)&&(null==e?void 0:e.isProcessing),s=n?fd:e?EA(e):void 0,o=e?e.name:"None (audio-only)",i=n?`Creating: ${o}`:o;return f.jsxs("div",{className:L(CGe,{[SGe]:n}),onClick:()=>{n||a(e)},children:[f.jsx("div",{className:L(xGe,{[uGe]:t,[IGe]:n}),children:s?f.jsx("img",{src:s,alt:null==e?void 0:e.name}):f.jsx(en,{className:kGe,size:40})}),f.jsx("div",{className:AGe,children:i})]})}function NGe({filter:e,configuredPersona:t,setConfiguredPersona:a}){const n=Du((e=>{var t;return null==(t=e.teams.activeBrandkit)?void 0:t.personas})),s=i.useMemo((()=>"All"===e?[...Object.values(n||{}),...Object.values(Gp||{})]:"Stock"===e?Object.values(Gp||{}):Object.values(n||{})),[n,e]);return f.jsx("div",{className:bGe,children:f.jsxs("div",{className:_Ge,"data-testid":"persona-selector-options",children:[f.jsx(RGe,{persona:void 0,isSelected:void 0===t,onSelect:a}),s.length>0?s.map((e=>{const n=(null==t?void 0:t.personaId)===e.personaId;return f.jsx(RGe,{persona:e,isSelected:n,onSelect:a},e.personaId)})):f.jsxs("div",{className:fGe,onClick:oGe,children:[f.jsx(Qa,{size:20}),f.jsx("div",{children:"CreatePersona"})]})]})})}const MGe="SearchInput-module_container_Y-dUZ",PGe="SearchInput-module_clearIcon_mGNj9",FGe="SearchInput-module_searchIcon_nXWn7",DGe="SearchInput-module_input_V5vNy";function OGe(e,t){if(""===t)return!0;const a=t.toLowerCase();return!!e.label.toLowerCase().includes(a)||[e.name,e.elevenLabsId,e.accent,e.age,e.gender,e.useCase].filter(vA).some((e=>e.toLowerCase().startsWith(a)))}const UGe=({search:e,setSearch:t,placeholder:a="Search voices"})=>f.jsxs("div",{className:MGe,children:[f.jsx(tn,{className:FGe}),f.jsx("input",{className:DGe,placeholder:a,type:"text",value:e,onChange:e=>t(e.target.value)}),e.length>0&&f.jsx(R,{className:PGe,onClick:()=>t("")})]}),BGe="VoiceOptions-module_optionsContainer_-tANL",WGe="VoiceOptions-module_noVoices_McYcc",VGe="VoiceOptions-module_voiceOptionPlayPause_teBPG",HGe="VoiceOptions-module_voiceOptionPlayPauseDisabled_gLSH6",zGe="VoiceOptions-module_voiceOption_LhDrD",GGe="VoiceOptions-module_selected_Oks1t",YGe="VoiceOptions-module_voiceOptionText_3dPLD",KGe="VoiceOptions-module_voiceOptionLabel_wYy-3",XGe="VoiceOptions-module_voiceDescription_wbQAR",ZGe="VoiceOptions-module_voiceOptionTags_E2o6k",qGe="VoiceOptions-module_voiceOptionTag_S7595",JGe="VoiceOptions-module_cloneIcon_Y5Gkf",$Ge="VoiceOptions-module_clearFilters_TPOKW",QGe="VoiceOptions-module_emptyList_6hs8q",eYe=b.memo((({voice:e,onVoiceSelect:t,isSelected:a,onPlayToggle:n,isPlaying:s,onSelectedOptionMount:o,isPaywalled:r,isCloneOption:l})=>{const d=!e.sampleURL,c=jse(),u=i.useCallback((()=>{n(e.elevenLabsId||e.name,!1)}),[n,e.elevenLabsId,e.name]);i.useEffect((()=>{const e=c.current;return e.addEventListener("ended",u),()=>{e.removeEventListener("ended",u)}}),[c,u]),i.useEffect((function(){c.current&&(s&&c.current.paused?c.current.play():s||c.current.paused||c.current.pause())}),[c,s]);const p=i.useMemo((()=>{if("description"in e&&e.description)return e.description}),[e]),m=i.useMemo((()=>"isClone"in e&&e.isClone),[e]),g=i.useMemo((()=>{if("gender"in e&&e.gender)return om(e.gender.toLowerCase())}),[e]),h=i.useMemo((()=>{if("age"in e&&e.age)return e.age}),[e]),v=i.useMemo((()=>{if("useCase"in e&&e.useCase)return e.useCase}),[e]),b=i.useMemo((()=>{if("accent"in e&&e.accent&&!e.accent.includes("standard"))return`${om(e.accent)} accent`}),[e]),y=i.useCallback((()=>{lse((()=>t(e)),{action:Dd.TEXT_TO_SPEECH,if:r})()}),[e,r,t]);return f.jsxs("div",{className:L(zGe,{[GGe]:a}),onClick:y,ref:e=>{a&&e&&o(e)},children:[f.jsx("div",{onClick:e=>e.stopPropagation(),children:d?f.jsx(Hw,{message:"No sample available for this voice",noArrow:!0,children:f.jsx(ka,{className:HGe})}):s?f.jsx(Aa,{className:VGe,onClick:()=>{n(e.elevenLabsId||e.name,!1)}}):f.jsx(ka,{className:VGe,onClick:()=>{c.current&&e.sampleURL&&c.current.src!==e.sampleURL&&(c.current.src=e.sampleURL),n(e.elevenLabsId||e.name,!0)}})}),f.jsxs("div",{className:YGe,children:[f.jsxs("div",{className:KGe,children:[e.label,r&&f.jsx(_se,{}),p&&f.jsx("span",{className:XGe,children:` ${p}`})]}),!l&&f.jsxs("div",{className:ZGe,children:[m&&f.jsxs("div",{className:qGe,children:[f.jsx(st,{className:JGe}),"Brand Voice"]}),g&&f.jsx("div",{className:qGe,children:g}),h&&f.jsx("div",{className:qGe,children:h}),v&&f.jsx("div",{className:qGe,children:v}),b&&f.jsx("div",{className:qGe,children:b})]})]})]})})),tYe=({voices:e,selectedVoice:t,onSelectVoice:a,addCloneVoiceOption:n,resetFilters:s})=>{const o=gg(Fd.TEXT_TO_SPEECH),r=i.useRef(!1),l=i.useCallback((e=>{r.current||e&&(e.scrollIntoView({behavior:"auto",block:"center"}),r.current=!0)}),[]),[d,c]=i.useState(),u=i.useCallback(((e,t)=>{c((a=>t?e:a===e?null:void 0))}),[]);return f.jsxs("div",{className:BGe,"data-testid":"voice-selector-options",children:[n&&f.jsx(eYe,{voice:Lm,isSelected:Lm.name===t.name,onVoiceSelect:a,isPlaying:d===Lm.name,onPlayToggle:u,onSelectedOptionMount:l,isCloneOption:!0,isPaywalled:!o},"clone-original-voice"),e.map(((e,n)=>f.jsx(eYe,{voice:e,isSelected:e.name===t.name,onVoiceSelect:a,isPlaying:d===(e.elevenLabsId||e.name),onPlayToggle:u,onSelectedOptionMount:l,isPaywalled:e.isPaywalled},`${e.label}-${n}`))),0===e.length&&f.jsx("div",{className:QGe,children:s?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:WGe,children:"No voices for selected filters"}),f.jsx("button",{className:$Ge,onClick:s,children:"Clear filters"})]}):f.jsx("div",{className:WGe,children:"No voices found"})})]})},aYe="VoiceSelector-module_dropdownTrigger_RkmE0",nYe="VoiceSelector-module_dubbingDropdownTrigger_PuzjH",sYe="VoiceSelector-module_dropdownTriggerLabelRow_a412x",oYe="VoiceSelector-module_dropdownTriggerLabel_8Wx9H",iYe="VoiceSelector-module_dubbingDropdownTriggerLabel_DFi5j",rYe="VoiceSelector-module_headerLabel_5voKK",lYe="VoiceSelector-module_dropdownContent_GaAtt",dYe="VoiceSelector-module_areaButton_f-dBH",cYe="VoiceSelector-module_filterRow_PTKLu",uYe="VoiceSelector-module_leftFilters_AwGy6",pYe="VoiceSelector-module_rightFilters_WXDJV",mYe="VoiceSelector-module_languageDropDown_qiwys",gYe="VoiceSelector-module_languageDropDownList_XPv71",hYe="VoiceSelectorFilter-module_optionsContainer_kwXwN",vYe="VoiceSelectorFilter-module_filterOption_S27C-",fYe="VoiceSelectorFilter-module_selectedFilterOption_oPZUj",bYe="VoiceSelectorFilter-module_filterTrigger_UTePU",yYe="VoiceSelectorFilter-module_filterTriggerDisabled_aE5z7",wYe="VoiceSelectorFilter-module_filterIcon_Zj5pR",_Ye="VoiceSelectorFilter-module_radixContent_WijEa",CYe="VoiceSelectorFilter-module_filtersContainer_Ucv0A",SYe="VoiceSelectorFilter-module_segmentContainer_luSgT",xYe="VoiceSelectorFilter-module_segmentTitle_w4u3S",IYe="VoiceSelectorFilter-module_genderDropDown_CFFDt",AYe=()=>{},kYe=({ageOptions:e,selectedAges:t,setSelectedAges:a,useCaseOptions:n,selectedUseCases:s,setSelectedUseCases:o,categoryOptions:r,selectedCategories:l,setSelectedCategories:d,qualityOptions:c,selectedQualities:u,setSelectedQualities:p,ref:m})=>{const[g,h]=b.useState(!1),v=Bu(),y=i.useCallback((()=>{v(vz({usedTTSVoiceFilters:!0}))}),[v]),w=i.useMemo((()=>e.length<2&&n.length<2&&r.length<2&&c.length<2),[e,n,r,c]);return f.jsxs(hr,{open:g,onOpenChange:w?AYe:h,children:[f.jsxs(vr,{className:`${w?yYe:bYe}`,children:[f.jsx(an,{className:wYe}),f.jsx("span",{children:"More filters"})]}),f.jsx(fr,{children:f.jsx(br,{align:"end",sideOffset:10,className:_Ye,ref:m,children:f.jsxs("div",{className:CYe,children:[f.jsx(f.Fragment,{children:f.jsx(TYe,{segmentName:"Age",setSelected:a,options:e,selected:t,onSelect:y})}),f.jsx(TYe,{segmentName:"Use Case",options:n,selected:s,setSelected:o,onSelect:y}),f.jsx(TYe,{segmentName:"Category",options:r,selected:l,setSelected:d,onSelect:y}),f.jsx(TYe,{segmentName:"Quality",options:c,selected:u,setSelected:p,onSelect:y})]})})})]})},TYe=b.memo((({segmentName:e,options:t,selected:a,setSelected:n,onSelect:s})=>{const o=0===a.length,r=i.useCallback((e=>{const o=t.length>2;"ALL_FILTERS"===e?n([]):a.includes(e)?n(a.filter((t=>t!==e))):o?a.length===t.length-1?n([]):n([...a,e]):n([e]),s()}),[a,s,n,t.length]);return t.length<2?null:f.jsxs("div",{className:SYe,children:[f.jsx("div",{className:xYe,children:e}),f.jsxs("div",{className:hYe,children:[f.jsx("div",{onClick:()=>r("ALL_FILTERS"),className:`${o?fYe:vYe}`,children:"All"}),t.map((e=>{const t=a.includes(e);return f.jsx("div",{onClick:()=>r(e),className:`${t?fYe:vYe}`,children:e},e)}))]})]})})),EYe={label:"All",value:"ALL",selectedLabel:"Gender"},LYe=({selectedLanguage:e,selectedPersona:t,voiceSelectorFilterRef:a})=>{const n=Du((e=>{var t;return null==(t=e.teams.activeBrandkit)?void 0:t.clonedVoices})),s=gg(Fd.TEXT_TO_SPEECH),o=i.useMemo((()=>bm(e)&&n?n.map((e=>Zje(e))):[]),[n,e]),r=i.useMemo((()=>t?_g(t,e):null),[t,e]),l=i.useMemo((()=>r?[r,...o]:o),[o,r]),d=i.useMemo((()=>{const t=hm[e];if(s)return t;const a=[],n=t.find((e=>!Rm(e)&&"FEMALE"===e.gender));n&&a.push(n);const o=t.find((e=>!Rm(e)&&"MALE"===e.gender));return o&&a.push(o),a.push(...t.filter((e=>e!==n&&e!==o))),a}),[e,s]),[c,u]=i.useState("ALL"),p=i.useMemo((()=>{const e=[];return im.forEach((t=>{d.find((e=>e.gender===t))&&e.push({label:om(t.toLowerCase()),value:t})})),e.length>1&&e.unshift(EYe),e}),[d]);i.useEffect((function(){u((e=>{var t;return p.find((t=>t.value===e))?e:(null==(t=p[0])?void 0:t.value)||"ALL"}))}),[p]);const[m,g]=i.useState([]),h=i.useMemo((()=>{const e=[];return rm.forEach((t=>{d.find((e=>e.age===t))&&e.push(t)})),e}),[d]);i.useEffect((function(){g((e=>e.filter((e=>h.includes(e)))))}),[h]);const[v,b]=i.useState([]),y=i.useMemo((()=>{const e=[];return d.forEach((t=>{t.useCase&&!e.includes(t.useCase)&&e.push(t.useCase)})),e}),[d]);i.useEffect((function(){b((e=>e.filter((e=>y.includes(e)))))}),[y]);const[w,_]=i.useState([]),C=i.useMemo((()=>{const e=[];return d.length&&e.push("Stock voices"),l.length&&e.push("Brand voices"),e}),[d,l]);i.useEffect((function(){_((e=>e.filter((e=>C.includes(e)))))}),[C]);const[S,x]=i.useState([]),I=i.useMemo((()=>{const e=[];return d.find(Rm)&&e.push("Premium"),d.find((e=>!Rm(e)))&&e.push("Standard"),e}),[d]);i.useEffect((function(){x((e=>e.filter((e=>I.includes(e)))))}),[I]);const A=i.useMemo((()=>{let e=[];return 0===w.length?e=[...l,...d]:(w.includes("Brand voices")&&e.push(...l),w.includes("Stock voices")&&e.push(...d)),"ALL"!==c&&(e=e.filter((e=>e.gender===c))),m.length>0&&(e=e.filter((e=>e.age&&m.includes(e.age)))),v.length>0&&(e=e.filter((e=>e.useCase&&v.includes(e.useCase)))),S.length>0&&(e=e.filter((e=>S.includes("Standard")?!Rm(e):Rm(e)))),e}),[l,d,c,m,v,w,S]),k=i.useMemo((()=>f.jsx(Nse,{value:c,listItems:p,onChange:u,className:IYe,dropdownListClassName:IYe})),[c,p]),T=i.useMemo((()=>f.jsx(kYe,{selectedAges:m,setSelectedAges:g,ageOptions:h,selectedUseCases:v,setSelectedUseCases:b,useCaseOptions:y,selectedCategories:w,setSelectedCategories:_,categoryOptions:C,selectedQualities:S,setSelectedQualities:x,qualityOptions:I,ref:a})),[m,h,v,y,w,C,S,I,a]),E=()=>{u("ALL"),g([]),b([]),_([]),x([])},L=i.useMemo((()=>"ALL"!==c||m.length>0||v.length>0||w.length>0||S.length>0),[m.length,w.length,c,S.length,v.length]);return i.useMemo((()=>({allVoiceOptions:A,genderSelection:k,moreFilters:T,personaVoiceOption:r,resetFilters:L?E:void 0})),[A,k,L,T,r])},jYe=({configuredVoice:e,configuredPersona:t,configuredLanguage:a,onVoiceSelected:n,onLanguageSelected:s})=>{const[o,r]=i.useState(!1),[l,d]=i.useState(0),c=i.useRef(null),u=i.useCallback((()=>{if(!o||!c.current)return;const e=c.current.getBoundingClientRect(),t=window.innerHeight,a=e.top,n=t-e.bottom,s=Math.max(a,n)-20;d(Math.min(500,s))}),[o]);return i.useLayoutEffect((()=>{if(o)return u(),window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)}),[o,u]),f.jsxs(hr,{open:o,onOpenChange:r,children:[f.jsxs(vr,{className:aYe,"data-testid":"voice-selector-trigger",ref:c,children:[f.jsx(fke,{id:cZ.TTSVoiceSelector,portal:!0,children:f.jsxs("div",{className:sYe,children:[f.jsx(nn,{}),f.jsx("div",{"data-testid":"tts-voice-label",className:oYe,children:e.label})]})}),f.jsx(ot,{})]}),f.jsx(fr,{children:f.jsx(br,{className:lYe,align:"start",sideOffset:10,style:{maxHeight:l},children:f.jsx(NYe,{setVoiceSelectorOpen:r,configuredVoice:e,configuredPersona:t,configuredLanguage:a,onVoiceSelected:n,onLanguageSelected:s})})})]})},RYe=Cm.map((e=>{const t=e.indexOf("(")>0?e.split("(")[0]:e;return{label:e,value:e,flagUrl:fm[e],selectedLabel:t}}));function NYe({setVoiceSelectorOpen:e,configuredVoice:t,configuredPersona:a,configuredLanguage:n,onVoiceSelected:s,onLanguageSelected:o,hideLanguageSelect:r,hideCreateVoiceCloneButton:l,addHeaderLabel:d,addCloneVoiceOption:c,voiceSelectorFilterRef:u}){const[p,m]=i.useState(""),g=gg(Fd.TEXT_TO_SPEECH),[h,v]=i.useState(!1),{allVoiceOptions:b,genderSelection:y,moreFilters:w,personaVoiceOption:_,resetFilters:C}=LYe({selectedLanguage:n,selectedPersona:a,voiceSelectorFilterRef:u}),S=i.useCallback((t=>{null==e||e(!1),s(t)}),[s,e]),x=i.useMemo((()=>f.jsx(Nse,{value:n,listItems:RYe,onChange:e=>{o(e)},className:mYe,dropdownListClassName:gYe,alignItemsLeft:!0})),[n,o]),I=b.filter((e=>OGe(e,p))).map((e=>{let t=!g&&Rm(e);return e===_&&(t=!1),{...e,isPaywalled:t}}));return f.jsxs(f.Fragment,{children:[h&&N.createPortal(f.jsx(rze,{onClose:()=>v(!1)}),B_()),d&&f.jsx("div",{className:rYe,children:d}),f.jsx("div",{className:cYe,children:f.jsx(UGe,{search:p,setSearch:m,placeholder:"Search voices"})}),f.jsxs("div",{className:cYe,children:[f.jsxs("div",{className:uYe,children:[!r&&x,y]}),f.jsx("div",{children:w})]}),!l&&f.jsx(fke,{id:cZ.TTSCreateVoiceClone,portal:!0,children:f.jsxs("div",{className:dYe,onClick:()=>v(!0),children:[f.jsx(Qa,{size:20}),f.jsx("div",{children:"Create Voice Clone"})]})}),f.jsx(tYe,{voices:I,selectedVoice:t,onSelectVoice:S,addCloneVoiceOption:c,resetFilters:C})]})}const MYe="SocialVideoSettings-module_container_-srT8",PYe="SocialVideoSettings-module_mobileContainer_6S5lH",FYe="SocialVideoSettings-module_mobileSettingsContainer_Qe77e",DYe="SocialVideoSettings-module_goBack_CnArW",OYe="SocialVideoSettings-module_mobileVoiceContainer_Wm006",UYe="SocialVideoSettings-module_scriptContainer_qQbP6",BYe="SocialVideoSettings-module_script_1PVTW",WYe="SocialVideoSettings-module_scriptLabel_04b7q",VYe="SocialVideoSettings-module_bottomRow_QKcpB",HYe="SocialVideoSettings-module_mobilePreviewContainer_ia4LJ",zYe="SocialVideoSettings-module_controlsContainer_si9ps",GYe="SocialVideoSettings-module_settingCol_6mczS",YYe="SocialVideoSettings-module_settingTitle_zP75q",KYe="SocialVideoSettings-module_settingsButton_SycSw",XYe="SocialVideoSettings-module_settingBox_A3RZF",ZYe="SocialVideoSettings-module_customBRollPreview_Gsn8O",qYe="SocialVideoSettings-module_customBRollImage_GEt-h",JYe="SocialVideoSettings-module_bRollIcon_Ro0ZP",$Ye="SocialVideoSettings-module_voiceIcon_Cz2mr",QYe="SocialVideoSettings-module_voiceOverlay_dV1UG",eKe="SocialVideoSettings-module_personaOverlay_gHEmn",tKe="SocialVideoSettings-module_personaImageBounds_XTnQp",aKe="SocialVideoSettings-module_personaImage_BT6VB",nKe="SocialVideoSettings-module_settingLabel_ekGiQ",sKe="VisualFormatOptions-module_label_6BM-2",oKe="VisualFormatOptions-module_descriptionLabel_C-FYp",iKe="VisualFormatOptions-module_container_rBbY1",rKe="VisualFormatOptions-module_radioOptions_KSSA9",lKe="VisualFormatOptions-module_radioOption_blrQm",dKe="VisualFormatOptions-module_selected_mPVV7",cKe="VisualFormatOptions-module_formatPreviewContainer_PSQyN",uKe="VisualFormatOptions-module_radioOptionLabel_yVep-";function pKe({selectedPersona:e,setSelectedPersona:t,selectedVisualFormat:a,setSelectedVisualFormat:n,onSelect:s}){return f.jsxs("div",{className:iKe,children:[f.jsx("div",{className:sKe,children:"Editing Style"}),f.jsx("div",{className:oKe,children:"The style in which your project will be edited."}),f.jsx("div",{className:rKe,children:NEe.map((o=>f.jsxs("div",{children:[f.jsx("div",{className:L(lKe,{[dKe]:a===o}),onClick:()=>(a=>{n(a),e||t("ericAtTheOffice"),null==s||s()})(o),children:f.jsx("div",{className:cKe,children:f.jsx(BEe,{selectedSize:{key:"1:1",className:"oneOne"},selectedPersonaId:e||void 0,backgroundUrl:"https://cdn-useast1.kapwing.com/static/AeT-Slate_It-(1).webp",visualFormat:o})})}),f.jsx("div",{className:uKe,children:REe[o]})]},o)))})]})}const mKe=()=>{},gKe=[],hKe=({openOverlay:e,setOpenOverlay:t,selectedSize:a,setSelectedSize:n,selectedPreset:s,setSelectedPreset:o,selectedVisualFormat:r,setSelectedVisualFormat:l,selectedPersona:d,setSelectedPersona:c,selectedVoice:u,setSelectedVoice:p,selectedLanguage:m,setSelectedLanguage:g,setSelectedPlatform:h})=>{const v=Bg(),y=Bu(),w=Du(FAe),_=(null==w?void 0:w.content)||"",C=Ju(Ru.CUSTOM_BROLL_INPUT),S=Aje("aiGeneratorOnlyUseCustomBroll"),x=Du((e=>e.bRoll.socialVideoCustomBRoll))||gKe,[I,A]=i.useState(null),{customBRollHintCount:k}=Du((e=>{var t;return{customBRollHintCount:(null==(t=e.currentUser.user.countedPopups)?void 0:t.customBRoll)||0}}),Ou),T=Du((e=>e.studio.projectId));i.useEffect((function(){y(eB({projectId:T}))}),[y,T]);const[E,L]=b.useState(!1),j=()=>{L(!0),Vb(Yc.customBRoll,k+1)},R=e=>{t((t=>t===e?void 0:e))},N=()=>{t(void 0)},M=i.useMemo((()=>{var e;if(x.length>0){const t=x[0],a=null==t?void 0:t.asset,n=null==(e=null==t?void 0:t.article)?void 0:e.articleOgTags.ogTitle;return S?"Custom B-roll only":a?`Stock + ${a.name}`:n?`Stock + ${n}`:"Stock + Custom"}return"Stock Content"}),[S,x]),P=()=>{var e;if(x.length>0){let t="";const a=x[0];if(null==a?void 0:a.asset){const e=a.asset.content_type;t=e&&e.includes("video")&&a.asset.pasted_link_thumbnail?a.asset.pasted_link_thumbnail:a.asset.url||""}else if(null==a?void 0:a.article){const n=a.article.articleOgTags.ogImage;n&&(t=(null==(e=n[0])?void 0:e.url)||"")}if(t)return f.jsx("div",{className:ZYe,children:f.jsx("img",{className:qYe,src:t,alt:"b-roll preview"})})}return f.jsx("img",{className:JYe,src:"https://cdn-useast1.kapwing.com/static/J40-Group-858.webp",alt:"b-roll icon"})},F=()=>{const t=d?AA(d):void 0;return r===jEe.bRollOnly?f.jsx(ake,{open:"voice"===e,setOpen:()=>{R("voice")},onClose:N,trigger:f.jsxs("div",{className:KYe,children:[f.jsx("div",{className:XYe,children:f.jsx("img",{className:$Ye,src:"https://cdn-useast1.kapwing.com/static/5I_-Vector.webp",alt:"voice icon"})}),f.jsx("div",{className:nKe,children:u.label})]}),content:f.jsx("div",{className:QYe,children:f.jsx(NYe,{configuredVoice:u,configuredPersona:d?AA(d):void 0,configuredLanguage:m,onVoiceSelected:p,onLanguageSelected:g,setVoiceSelectorOpen:N})}),boundaryElement:I,overrideOverlayWrapper:!0}):f.jsx(ake,{open:"voice"===e,setOpen:()=>{R("voice")},onClose:N,trigger:f.jsxs("div",{className:KYe,children:[f.jsx("div",{className:XYe,children:t?f.jsx("div",{className:tKe,children:f.jsx("img",{className:aKe,src:EA(t),alt:"voice icon"})}):f.jsx(en,{className:$Ye,size:40})}),f.jsx("div",{className:nKe,children:(null==t?void 0:t.name)||"None (audio-only)"})]}),content:f.jsx("div",{className:eKe,children:f.jsx(jGe,{setPersonaSelectorOpen:mKe,configuredPersona:t,onPersonaSelected:e=>c((null==e?void 0:e.personaId)||"")})}),boundaryElement:I,overrideOverlayWrapper:!0})},D=()=>f.jsxs("div",{className:zYe,children:[f.jsxs("div",{className:GYe,children:[f.jsx("div",{className:YYe,children:"Aspect Ratio"}),f.jsx(ake,{open:"size"===e,setOpen:()=>R("size"),onClose:N,trigger:f.jsx(xEe,{size:a,isSelected:!1,setSelectedSize:n,setSelectedPlatform:h}),content:f.jsx(IEe,{setSelectedSize:n,selectedSize:a,setSelectedPlatform:h}),boundaryElement:I})]}),f.jsxs("div",{className:GYe,children:[f.jsx("div",{className:YYe,children:"Subtitles"}),f.jsx(ake,{open:"subtitles"===e,setOpen:()=>R("subtitles"),onClose:N,trigger:f.jsxs("div",{className:KYe,children:[f.jsx(foe,{preset:s,isSelected:!1,viewOnly:!0,hideTitle:!0}),f.jsx("div",{className:nKe,children:s.title})]}),content:f.jsx(sPe,{setSelectedPreset:o,selectedPreset:s}),boundaryElement:I})]}),C&&f.jsxs("div",{className:GYe,children:[f.jsx("div",{className:YYe,children:"B-Roll"}),f.jsx(ake,{open:"b-roll"===e,setOpen:()=>{j(),R("b-roll")},onClose:N,trigger:f.jsxs("div",{className:KYe,children:[f.jsx(Ame,{open:k<=2&&!E,withRainbowBorder:!0,side:"bottom",sideOffset:30,header:"Add custom B-roll",content:"Click here to upload your own custom files, or paste the link to an article or video you want Kapwing to pull assets from.",size:"small",container:I,onClose:j,children:f.jsx("div",{className:XYe,children:P()})}),f.jsx("div",{className:nKe,children:M})]}),content:f.jsx(qMe,{}),boundaryElement:I})]}),f.jsxs("div",{className:GYe,children:[f.jsx("div",{className:YYe,children:"Editing Style"}),f.jsx(ake,{open:"editing-style"===e,setOpen:()=>{R("editing-style")},onClose:N,trigger:f.jsxs("div",{className:KYe,children:[f.jsx("div",{className:XYe,children:f.jsx(BEe,{selectedSize:{key:"1:1",className:"oneOne"},selectedPersonaId:d||void 0,backgroundUrl:"https://cdn-useast1.kapwing.com/static/AeT-Slate_It-(1).webp",visualFormat:r})}),f.jsx("div",{className:nKe,children:REe[r]})]}),content:f.jsx(pKe,{selectedPersona:d||"",setSelectedPersona:c,selectedVisualFormat:r,setSelectedVisualFormat:l,onSelect:N}),boundaryElement:I})]}),f.jsxs("div",{className:GYe,children:[f.jsx("div",{className:YYe,children:r===jEe.bRollOnly?"Voice":"Persona"}),F()]})]});return v&&void 0!==e?f.jsxs("div",{className:PYe,ref:A,children:[f.jsx("div",{className:DYe,onClick:N,children:f.jsx(sn,{size:18})}),f.jsx("div",{className:FYe,children:"size"===e?f.jsx(IEe,{setSelectedSize:n,selectedSize:a,setSelectedPlatform:h,onSelect:N}):"subtitles"===e?f.jsx(sPe,{setSelectedPreset:o,selectedPreset:s,onSelect:N}):"b-roll"===e?f.jsx(qMe,{}):"editing-style"===e?f.jsx(pKe,{selectedPersona:d||"",setSelectedPersona:c,selectedVisualFormat:r,setSelectedVisualFormat:l,onSelect:N}):"voice"===e?r===jEe.bRollOnly?f.jsx("div",{className:OYe,children:f.jsx(NYe,{configuredVoice:u,configuredLanguage:m,configuredPersona:d?AA(d):void 0,onVoiceSelected:p,onLanguageSelected:g,setVoiceSelectorOpen:N})}):f.jsx("div",{className:OYe,children:f.jsx(jGe,{onPersonaSelected:e=>c((null==e?void 0:e.personaId)||""),setPersonaSelectorOpen:mKe,configuredPersona:d?AA(d):void 0,hideCloseButton:!0})}):void 0}),f.jsxs("div",{className:VYe,children:[f.jsx(xje,{onClick:N,width:"small",label:"Back"}),"voice"===e&&f.jsx(_je,{onClick:N,label:"Apply",width:"small"})]})]}):f.jsxs("div",{className:MYe,ref:A,children:[v?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:HYe,children:f.jsx(eke,{supportsMobile:!0,children:f.jsx(BEe,{selectedSize:a,selectedPreset:s,backgroundUrl:"https://cdn-useast1.kapwing.com/static/AeT-Slate_It-(1).webp",selectedPersonaId:d||void 0,visualFormat:r})})}),D()]}):f.jsxs(f.Fragment,{children:[D(),f.jsxs("div",{className:UYe,children:[f.jsx("div",{className:WYe,children:"Script"}),f.jsx("div",{className:BYe,children:_})]})]}),!v&&f.jsx("div",{className:VYe,children:f.jsx(xje,{label:"Back",width:"small",onClick:()=>{(null==w?void 0:w.isCustomScript)?y(Dte.setStep("generate-script")):y(Dte.setStep("script-chat"))}})})]})},vKe=({cancelFn:e,enforceSignIn:t,onClose:a,setCancelFn:n,setLoading:s,setLoadingTime:o})=>{var r;const l=Bg(),d=Du(FR),c=Du((e=>e.scriptChat.step)),u=Du((e=>e.scriptChat.generateScriptCustomScript)),p=Du((e=>{var t;return null==(t=e.currentUser.user)?void 0:t.aiPreferences})),[m,g]=i.useState((null==p?void 0:p.aspectRatio)||CEe()),[h,v]=i.useState((null==p?void 0:p.personaId)||(null==(r=Object.values(Gp)[0])?void 0:r.personaId)||""),[b,y]=i.useState((null==p?void 0:p.visualFormat)||jEe.bRollOnly),{brandkitPresets:w}=Q2(),[_,C]=i.useState((null==p?void 0:p.subtitlePreset)||w[0]||nPe),[S,x]=i.useState("English (US)"),[I,A]=i.useState((()=>{const e=hm[S][0],t=hm[S].find((e=>"en-US-Polyglot-1"===e.name));return(null==p?void 0:p.voice)||t||e})),[k,T]=i.useState(SEe(m)),[E,L]=i.useState(void 0);const j=zd("generate-script"===c&&d===hR.SocialVideoFromScript?u:""),R={[Bd.TTS]:j},N={[Bd.AI_GENERATE]:1},M={[Bd.LIP_SYNC]:j},{blocked:P}=uP({projectedUsage:R}),F=function(){if("generate-script"===c&&d===hR.SocialVideoFromScript)return f.jsx("div",{className:Sje,children:f.jsx(cAe,{estimatedUsageByCategory:R,userActivityRelatedToLimit:"This script"})});if("create-video"===c&&d===hR.SocialVideoFromScript)return b===jEe.bRollOnly?f.jsx("div",{className:Sje,children:f.jsx(cAe,{estimatedUsageByCategory:N,userActivityRelatedToLimit:"This video"})}):f.jsx("div",{className:Sje,children:f.jsx(cAe,{estimatedUsageByCategory:M,userActivityRelatedToLimit:"This video"})});return null}(),D=!!F&&P,O=l&&void 0!==E&&"create-video"===c;const U="script-chat"===c?"This is just a preview of the style of your video.":"This is just a preview of the style of your video. Click Generate to start the creation process.";return f.jsxs(f.Fragment,{children:[f.jsx($Ae,{children:"generate-script"===c?f.jsx(gje,{}):"script-chat"===c?f.jsx(gFe,{cancelFn:e,setCancelFn:n}):f.jsx(hKe,{openOverlay:E,setOpenOverlay:L,selectedSize:m,setSelectedSize:g,selectedPreset:_,setSelectedPreset:C,selectedVisualFormat:b,setSelectedVisualFormat:y,selectedPersona:h,setSelectedPersona:v,selectedVoice:I,setSelectedVoice:A,selectedLanguage:S,setSelectedLanguage:x,setSelectedPlatform:T})}),!O&&f.jsx(QAe,{topText:U,children:f.jsxs(f.Fragment,{children:[f.jsx(eke,{children:f.jsx(BEe,{selectedSize:m,selectedPreset:_,backgroundUrl:"https://cdn-useast1.kapwing.com/static/AeT-Slate_It-(1).webp",selectedPersonaId:h||void 0,visualFormat:b})}),f.jsxs(tke,{children:[F,(B=D,"create-video"===c?f.jsx(oPe,{selectedSize:m,selectedVisualFormat:b,selectedPersona:h,selectedPreset:_,enforceSignIn:t,selectedVoice:I,setCancelFn:n,setLoading:s,setLoadingTime:o,onClose:a,selectedPlatform:k,selectedLanguage:S}):"script-chat"===c?f.jsx(hFe,{}):f.jsx(Cje,{disabled:B,setCancelFn:n}))]})]})})]});var B};function fKe({cancelFn:e,setLoading:t,onClose:a,setCancelFn:n,enforceSignIn:s,setLoadingTime:o}){const i=Du(FR);return f.jsx("div",{className:BIe,children:function(){switch(i){case hR.SocialVideoFromTopic:case hR.SocialVideoFromScript:case hR.SocialVideoFromURL:return f.jsx(vKe,{cancelFn:e,setCancelFn:n,onClose:a,enforceSignIn:s,setLoading:t,setLoadingTime:o});case hR.Image:return f.jsx(rEe,{enforceSignIn:s,onClose:a,setCancelFn:n});case hR.Scene:return f.jsx(aLe,{enforceSignIn:s,onClose:a,setCancelFn:n})}}()})}function bKe({source:e,tab:t,query:a}){ov("Open Ai Overlay",{Source:e,Tab:t,Query:a}),aR("/studio/editor/ai-tools")}function yKe(){aR("/studio/editor")}const wKe=b.memo((()=>{const e=Du(FR),t=Du((e=>e.toolTip)),a=Du((e=>e.studioLocal.ai.selectedTab));i.useEffect((function(){if(!t)return;if(a)return;const e=UIe(t).tab;Mu().dispatch(Uj({selectedTab:e}))}),[a,t]);const[n,s]=i.useState(!1),[o,r]=i.useState(!1),[l,d]=i.useState((()=>()=>{})),c=i.useCallback((e=>{d((()=>e))}),[]),[u,p]=i.useState(!1),[m,g]=i.useState(60),h=Du((e=>e.bRoll.bRollLoadingMsg)),v=i.useMemo((()=>{switch(h){case eRe.PROCESSING_VIDEO_CLIPS:return[0,60];case eRe.SEARCHING_FOR_MEDIA:return[60,90];case eRe.ADDING_LAYERS_TO_PROJECT:return[90,99];default:return[0,100]}}),[h]),b=i.useCallback((function(e){const{state:t}=Mu();return Nb(t)?e:()=>(Ev.set("AI_DATA",Mu().state.studioLocal.ai),p(!0),null)}),[]),y=i.useCallback((()=>{l(),s(!1),r(!1)}),[l]),w=()=>{n?r(!0):(l(),yKe())},_=i.useCallback((()=>{if(!n)return l(),void yKe();!n||o?n&&o&&(l(),yKe()):r(!0)}),[l,n,o]),C=i.useCallback((e=>{"Escape"===e.key&&_()}),[_]);i.useEffect((()=>(document.addEventListener("keydown",C,!1),()=>{document.removeEventListener("keydown",C,!1)})),[C]);const S=i.useCallback((()=>{Ev.getAndUnset("AI_DATA"),p(!1)}),[]),x=i.useCallback((()=>{Ev.getAndUnset("AI_DATA")}),[]);return on.createPortal(f.jsxs(f.Fragment,{children:[u&&f.jsx(ene,{hideSignIn:S,onSuccess:x}),f.jsxs("div",{className:RIe,children:[f.jsx("div",{className:jIe,onClick:w}),n?f.jsx("div",{className:MIe,children:f.jsx(LIe,{handleCancel:y,confirmingClose:o,estimatedJobDuration:m,estimatedProgressRange:v,setConfirmingClose:r,loadingMessage:h||"Generating video ... please wait. This may take a moment.",jobDescription:"generating your video",currentTab:e})}):f.jsxs("div",{className:NIe,children:[f.jsx("div",{className:PIe,onClick:_,children:f.jsx(R,{})}),f.jsx(fKe,{cancelFn:l,setLoading:s,onClose:_,setCancelFn:c,enforceSignIn:b,setLoadingTime:g})]})]})]}),B_())})),_Ke="BRollDebugOverlay-module_modal_hGXsb",CKe="BRollDebugOverlay-module_debugRow_mTdoG",SKe="BRollDebugOverlay-module_debugTab_sbGV5",xKe="BRollDebugOverlay-module_debugTabSelected_gMudb",IKe="BRollDebugOverlay-module_separator_cG5yO",AKe="BRollDebugOverlay-module_debugTitle_1zd4j",kKe="BRollDebugOverlay-module_debugImage_7uMef",TKe="BRollDebugOverlay-module_debugLogContainer_Env9l",EKe="BRollDebugOverlay-module_debugSplit_jAjBB",LKe="BRollDebugOverlay-module_debugColumn_34Tvq",jKe="BRollDebugOverlay-module_debugCard_yCuwh",RKe="BRollDebugOverlay-module_debugCardContent_40XPk",NKe="BRollDebugOverlay-module_context_bktJr",MKe="BRollDebugOverlay-module_message_9zQBK",PKe="BRollDebugOverlay-module_trace_43wxe",FKe="BRollDebugOverlay-module_header_4YUsR",DKe="BRollDebugOverlay-module_timestamp_dokoI",OKe=({bRollLayerData:e})=>{var t,a;const{keyword:n,currentSearchResult:s,keywordDescription:o,overWords:i,debuggingData:r}=e,{type:l}=s,d=null==(t=null==r?void 0:r.otherChoices)?void 0:t.reduce(((e,t)=>(e[t.source]=(e[t.source]||0)+1,e)),{}),c=Object.entries(d||{}).map((([e,t])=>`${e}: ${t}`)).join(", ");return f.jsxs("div",{children:[f.jsx("div",{className:AKe,children:"BRoll Debug"}),f.jsx("div",{className:AKe,children:"Keyword"}),f.jsx("div",{children:n}),f.jsx("div",{className:AKe,children:"Keyword Description"}),f.jsx("div",{children:o}),f.jsx("div",{className:AKe,children:"Over Words"}),f.jsx("div",{children:i}),(null==r?void 0:r.selectionFailed)&&f.jsx("div",{style:{color:"red"},children:"selection failed :("}),(null==r?void 0:r.noBing)&&f.jsx("div",{style:{color:"red"},children:"did not consider bing results :("}),(null==r?void 0:r.videoSearchCollectionId)&&f.jsx("a",{href:`/admin/debug/assetSearch/broll/${r.videoSearchCollectionId}`,target:"_blank",rel:"noreferrer",children:"View Video Search Collection"}),(null==r?void 0:r.youtubeSearchCollectionId)&&f.jsx("a",{href:`/admin/debug/assetSearch/broll/${r.youtubeSearchCollectionId}`,target:"_blank",rel:"noreferrer",children:"View Youtube Search Collection"}),f.jsx("div",{className:AKe,children:`Best ${l}`}),(null==r?void 0:r.retries)&&f.jsx("div",{children:`retries: ${null==r?void 0:r.retries}`}),"image"===l?f.jsx("img",{className:kKe,src:s.url,alt:"Chosen"}):f.jsx("video",{className:kKe,src:s.url}),(null==r?void 0:r.selectionFailed)&&f.jsx("div",{style:{color:"red"},children:"selection failed :("}),f.jsxs("div",{className:AKe,children:["Choices (",c,")"]}),null==(a=null==r?void 0:r.otherChoices)?void 0:a.map(((e,t)=>{var a;return f.jsxs("div",{className:EKe,children:[f.jsx("div",{children:tu(e.source)?f.jsx("img",{className:kKe,src:e.url,alt:"Other Choices"}):f.jsx("video",{className:kKe,src:e.url})}),f.jsxs("div",{className:LKe,children:[f.jsx("div",{children:e.source}),f.jsx("div",{children:null==(a=r.imageSelectionDescriptions)?void 0:a[t]})]})]},t)}))]})},UKe=({articleOptions:e,bRollLayerData:t})=>{const{keyword:a,currentSearchResult:n,overWords:s,debuggingData:o}=t,{type:i}=n,r=e.articleDebug;return f.jsxs("div",{children:[f.jsx("div",{className:AKe,children:"Article BRoll Debug"}),f.jsx("div",{className:AKe,children:"Keyword"}),f.jsx("div",{children:a}),f.jsx("div",{className:AKe,children:"Sentence"}),f.jsx("div",{children:s}),f.jsx("div",{className:AKe,children:"Reason"}),f.jsx("div",{children:(null==o?void 0:o.articleSelectionDescription)||"missing"}),f.jsx("div",{className:AKe,children:`Best ${i}`}),f.jsx("img",{className:kKe,src:n.url,alt:"Chosen"}),f.jsx("div",{className:IKe}),f.jsx("div",{className:AKe,children:"Overall Article Debug"}),f.jsx("div",{className:AKe,children:"Article Video Urls"}),e&&e.articleVideos.map(((e,t)=>f.jsx("div",{children:e},t))),f.jsxs("div",{className:EKe,children:[f.jsxs("div",{className:LKe,children:[f.jsx("div",{className:AKe,children:"Sentence Assignments"}),Object.entries(e.sentenceAssignments).map((([e,t])=>f.jsxs("div",{children:[f.jsx("div",{children:`${e}: ${t.imageId}`}),f.jsx("div",{children:t.reason})]},e))),r&&f.jsxs("div",{children:[f.jsx("div",{className:AKe,children:"Article Debug"}),(l=r,Object.entries(l).map((([e,t])=>f.jsxs("div",{children:[f.jsx("div",{className:AKe,children:e}),"object"==typeof t?Object.values(t).map(((e,t)=>f.jsx("div",{children:String(e)},t))):f.jsx("div",{children:String(t)})]},e))))]})]}),f.jsxs("div",{className:LKe,children:[f.jsx("div",{className:AKe,children:"Article Images"}),e.articleImages.map(((e,t)=>f.jsxs("div",{children:[f.jsx("div",{children:e.imageId}),f.jsx("div",{children:f.jsx("img",{className:kKe,src:e.image.url,alt:"Other Choices"})})]},t)))]})]})]});var l},BKe=({bRollLayerData:e})=>{const{debuggingData:t}=e,a=[...(null==t?void 0:t.bRollDebugLog)??[]];return f.jsxs("div",{className:TKe,children:[f.jsx("div",{className:AKe,children:"Debug Log:"}),a.map(((e,t)=>f.jsx(WKe,{...e},t)))]})},WKe=({context:e,level:t,message:a,timestamp:n,trace:s,additionalContext:o})=>{const[r,l]=i.useState(!1),d=r?void 0:120;return f.jsx("div",{className:jKe,onClick:()=>l(!r),children:f.jsxs("div",{className:RKe,style:{maxHeight:d},children:[f.jsxs("div",{className:FKe,children:[f.jsx("div",{className:NKe,children:String(e)}),f.jsxs("div",{children:["[",t,"]"]}),f.jsx("div",{className:DKe,children:de(n).format("MMM D - h:m:s A")})]}),f.jsx("div",{className:MKe,children:String(o)}),f.jsx("div",{className:MKe,children:String(a)}),s&&f.jsx("div",{className:PKe,children:String(s)})]})})},VKe=({bRollLayerData:e})=>{const{currentSearchResult:t,overWords:a,debuggingData:n}=e,{type:s}=t,{videoSearchCandidates:o}=n||{},i=null==o?void 0:o.length;return f.jsxs("div",{children:[f.jsx("div",{className:AKe,children:"BRoll Debug"}),f.jsx("div",{className:AKe,children:"Over Words"}),f.jsx("div",{children:a}),(null==n?void 0:n.selectionFailed)&&f.jsx("div",{style:{color:"red"},children:"selection failed :("}),(null==n?void 0:n.videoSearchCollectionId)&&f.jsx("a",{href:`/admin/debug/assetSearch/broll/${n.videoSearchCollectionId}`,target:"_blank",rel:"noreferrer",children:"View Video Search Collection"}),(null==n?void 0:n.youtubeSearchCollectionId)&&f.jsx("a",{href:`/admin/debug/assetSearch/broll/${n.youtubeSearchCollectionId}`,target:"_blank",rel:"noreferrer",children:"View Youtube Search Collection"}),f.jsx("div",{className:AKe,children:`Best ${s}`}),"image"===s?f.jsx("img",{className:kKe,src:t.url,alt:"Chosen"}):f.jsx("video",{className:kKe,src:t.url}),f.jsxs("div",{className:AKe,children:["Video Search Results (",i,"):"]}),null==o?void 0:o.map((({result:e,context:t})=>"video"!==e.type?null:f.jsxs("div",{className:EKe,children:[f.jsxs("div",{children:[f.jsx("video",{className:kKe,src:e.url,controls:!0}),f.jsx("img",{className:kKe,src:e.thumbnailUrl,alt:"Missing thumbnail"})]}),f.jsxs("div",{className:LKe,children:[f.jsx("div",{children:e.source}),f.jsx("div",{children:t}),f.jsxs("div",{children:["Score: ",e.score]})]})]},e.url)))]})};const HKe={articleImages:[],articleVideos:[],articleDebug:void 0,sentenceAssignments:{}},zKe=["Stock Content Results","Article","Video Results","Error Log"],GKe=({isOpen:e})=>{const[t,a]=i.useState(null),[n,s]=i.useState(HKe),[o,r]=i.useState("Stock Content Results");i.useEffect((()=>{const{state:e}=Mu(),{bRollDebugId:t,bRollDebugAssetId:n}=e.bRoll;if(t&&n){const e=function(e){const{state:t}=Mu();return t.bRoll.bRollLayerData.find((t=>t.bRollId===e))}(t);e||async function(e,t){return await Kf(`/api/v2/ai/b-roll/${e}`,{params:{bRollId:t}})}(n,t).then((e=>{const{bRoll:o,articles:i}=e;if(o&&o.currentSearchResult){const e={bRollId:t,assetId:n,keyword:o.keyword,keywordDescription:o.keywordDescription,overWords:o.overWords,startTime:o.start_time,endTime:o.end_time,currentSearchResult:o.currentSearchResult,debuggingData:o.debuggingData};a(e),r((e=>"video"!==e.type||"semantic-search"!==e.source&&"semantic-search-youtube"!==e.source?"article"===e.source?"Article":"Stock Content Results":"Video Results")(e.currentSearchResult))}s({articleImages:(null==i?void 0:i.articleImages)||[],articleVideos:(null==i?void 0:i.articleVideos)||[],articleDebug:null==i?void 0:i.articleDebug,sentenceAssignments:(null==i?void 0:i.sentenceAssignments)||{}})}))}}),[]);const l=B_();return on.createPortal(e?t?f.jsxs(rC,{unsetCancelModal:Ope,className:_Ke,children:[f.jsx("div",{className:CKe,children:zKe.map((e=>f.jsx("div",{className:e===o?xKe:SKe,onClick:()=>{r(e)},children:e},e)))}),"Article"===o&&n&&f.jsx(UKe,{articleOptions:n,bRollLayerData:t}),"Stock Content Results"===o&&f.jsx(OKe,{bRollLayerData:t}),"Video Results"===o&&f.jsx(VKe,{bRollLayerData:t}),"Error Log"===o&&f.jsx(BKe,{bRollLayerData:t})]}):f.jsx(rC,{unsetCancelModal:Ope,children:f.jsx("div",{children:"loading..."})}):null,l)},YKe="HeaderAiButton-module_disabled_nouKd",KKe="HeaderAiButton-module_headerButtonContainer_se6dC",XKe="HeaderAiButton-module_headerButtonIcon_warPV",ZKe="HeaderAiButton-module_headerAiButtonContainer_y2lH4",qKe=b.memo((({disabled:e})=>{const t=Bu(),a=F(),n=P(),s=a.pathname.includes("/ai-tools"),o=Du((e=>e.bRoll.isBRollDebugOverlayOpen)),i=Du((e=>"AI Voice"===e.selectedTabs["media-sidebar"])),r=Du((e=>e.toolTip)),{aiRegenerateHintCount:l}=Du((e=>{var t;return{aiRegenerateHintCount:(null==(t=e.currentUser.user.countedPopups)?void 0:t.aiRegenerate)||0}}),Ou),d=Du((e=>e.studioLocal.ai.showPostGenerationTooltip)),[c,u]=b.useState(!1),p=()=>{u(!0),Vb(Yc.aiRegenerate,l+1),t(Uj({showPostGenerationTooltip:!1}))},m=new URLSearchParams(a.search),g=m.get("tab");if(g&&g in vR){t(Uj({selectedTab:vR[g]})),m.delete("tab"),n({search:m.toString()},{replace:!0})}const h=!r&&!!d&&l<3,v=()=>f.jsx("div",{children:f.jsx(LSe,{content:"Create with Kapwing AI",children:f.jsx("div",{className:`${KKe}\n              ${ZKe}\n              ${e?YKe:""}`,onClick:()=>{bKe({source:"Header Ai Button"})},"data-cy":"header-ai-button",children:f.jsx(rn,{className:XKe})})})});return f.jsxs(f.Fragment,{children:[f.jsx(fke,{id:cZ.HeaderAiButton,portal:!0,children:h?f.jsx(Ame,{open:h&&!c,withRainbowBorder:!1,side:"bottom",header:"Regenerate AI Content",content:"Click the lightbulb icon to reopen the Kapwing AI modal and regenerate your project.",size:"small",onClose:p,children:v()}):v()}),!i&&f.jsx(rGe,{}),s?f.jsx(wKe,{}):null,o?f.jsx(GKe,{isOpen:o}):null]})})),JKe=()=>{const{search:e}=F();return b.useMemo((()=>new URLSearchParams(e)),[e])};var $Ke=(e=>(e.TEAMS="Teams",e.NEW_USER_INVITE_ACCEPTED="New User Invite Accepted",e.NEW_USER_INVITE_DISMISSED="New User Invite Dismissed",e.EMAIL_INVITE="Email Invite",e.INVITE_LINK="Invite Link",e.ONBOARDING_MODAL="Onboarding Modal",e.REQUEST_TO_EDIT="Request to Edit",e))($Ke||{});function QKe(){const e=P(),t=F(),a=JKe(),{state:n}=t;return{redirectSource:(()=>{switch(a.get("redirect")){case"from-request-to-edit":return"Request to Edit";case"from-teams":return"Teams";default:return null}})()??(null==n?void 0:n.redirectSource)??null,pushWithSource:(t,a,n)=>{e({pathname:t},{state:{redirectSource:a,optionalProperties:n}})}}}async function eXe(e){if(!e)return null;return(await Kf(`/api/v1/users/getUserById?id=${e}`)).user}const tXe=e=>{e&&"object"==typeof e&&"message"in e&&"No seats available"===(null==e?void 0:e.message)?pb({headerOverride:"Unable to join workspace",description:"This is because the payment required to add you to the workspace failed. Ask the workspace owner to update the payment information or use a different credit card in the Billing tab."}):m_(e)?pb({description:"There are no seats available and purchasing more failed, please ask your team admin to update their payment information."}):cb({description:"There was an issue joining the team, please try again",error:e})};var aXe=(e=>(e.LINK="Copied Link",e.EMAIL="Email Invite Link",e))(aXe||{}),nXe=(e=>(e.WORKSPACE_DROPDOWN="Workspace Dropdown",e.ONBOARDING_MODAL="Onboarding Modal",e.LINK="Copied Link",e.EMAIL="Email Invite Link",e.VIDEO="Video",e))(nXe||{});function sXe(){const e=Bu(),{currentUser:t,userTeamInvites:a}=Du((e=>{var t;return{currentUser:e.currentUser,userTeamInvites:null==(t=e.teams)?void 0:t.userTeamInvites}}),Ou),[n,s]=i.useState(!1);return{acceptInvite:async function(n,o,i){const{user:r}=t||{},{email:l}=r||{},d=async a=>{try{await Tb(),e(fb(a.teamId)),e(df(""));const n=await Lb(a.teamId,t);(async(e,t,a,n,s)=>{var o;const i=Vm(a,t),{status:r,interval:l}=await X3(),d=mg(s),c={"Team ID":s._id,"Team Owner Email":t,"Team Collaborator Email":e.email,"Owner And Collaborator Domain Match":i,"Entry Point":n,"Current Plan":d.type,"Subscription Status":r,"Monthly/Annual":l,"Number of Workspace Members":(null==(o=s.users)?void 0:o.length)||1};amplitude.setUserId(e._id),sv({Email:e.email}),amplitude.logEvent("Team Joined",c)})(r,a.inviterEmail,l,o,n)}catch(n){tXe(n),s(!1)}(null==i?void 0:i.withoutToast)||e(db({description:"Invite accepted.",type:"success"})),(null==i?void 0:i.onSuccess)&&await(null==i?void 0:i.onSuccess()),s(!1)};s(!0);try{if("Copied Link"===o){const e=await(async e=>Xf("/api/v1/team-invite-links/accept",{body:{linkId:e}}))(n);e.teamId&&await d(e)}else{const t=await(async e=>Xf("/api/v1/invites/teams/accept",{body:{inviteKey:e}}))(n);t.teamId&&(a&&e(Cb([...a].filter((e=>e.inviteKey!==n)))),await d(t))}}catch(c){tXe(c),s(!1)}},acceptingInvite:n}}const oXe="RequestToEditButton-module_overlayContainer_jrQz9",iXe="RequestToEditButton-module_leftCol_9T72N",rXe="RequestToEditButton-module_rightCol_hjLGW",lXe="RequestToEditButton-module_picture_x25gO",dXe="RequestToEditButton-module_header_E4Mis",cXe="RequestToEditButton-module_contentContainer_b0FLu",uXe="RequestToEditButton-module_content_W74qT",pXe="RequestToEditButton-module_bold_gkNGy",mXe="RequestToEditButton-module_button_Rf6Sd",gXe="RequestToEditButton-module_altButton_xjgao",hXe="RequestToEditButton-module_altDisabled_fDJwK",vXe={maxWidth:550},fXe=b.memo((({invite:e})=>{const{currentUser:t,currentVideo:a,videoId:n}=Du((e=>({currentUser:e.currentUser,currentVideo:e.currentVideo,videoId:e.studio._id})),Ou),{acceptInvite:s}=sXe(),[o,r]=i.useState(),[l,d]=i.useState(!0),[c,u]=i.useState(),[p,m]=i.useState();i.useEffect((()=>{if(t.user)try{(async()=>{const e=await eXe(a.creatorId);e&&r(e)})()}catch(b9e){console.error("Failed to fetch video creator",b9e),cb({description:"Failed to fetch video creator",error:b9e})}return()=>{r(void 0)}}),[a.creatorId,t.user]),i.useEffect((()=>((async()=>{if(a.workspaceId){const e=await aP(a.workspaceId);e.name&&u(e.name),e.teamId&&m(e.teamId)}})(),()=>{u(void 0)})),[a.workspaceId]);const g=(o&&o.firstName)??eg(o),h=i.useCallback((()=>{d(!1)}),[]),v=i.useCallback((async()=>{p&&(d(!1),await s(e.inviteKey,nXe.VIDEO),n&&await Zte(n))}),[s,e.inviteKey,p,n]);return f.jsxs(f.Fragment,{children:[p&&f.jsx("button",{type:"button",className:gXe,onClick:()=>{d(!0)},children:"Accept invite"}),l&&f.jsx(rC,{unsetCancelModal:h,usePortal:!0,noPadding:!0,noScrollBar:!0,style:vXe,children:f.jsxs("div",{className:oXe,children:[f.jsx("div",{className:iXe,children:f.jsx(xve,{user:o,absoluteHeight:80,absoluteWidth:80,className:lXe})}),f.jsxs("div",{className:rXe,children:[f.jsxs("div",{className:cXe,children:[f.jsxs("div",{className:dXe,children:["Accept your invite to"," ",g?`${g}'s team!`:f.jsx("span",{children:"the team!"})]}),f.jsxs("div",{className:uXe,children:[f.jsx("span",{children:g??"A Kapwing User"})," has invited you to join ",f.jsx("b",{children:c}),". If you accept their invite, you'll be able to edit, comment on, and share this project!"]})]}),f.jsx(GIe,{buttonText:"Accept invite",className:mXe,onClick:v})]})]})})]})})),bXe={maxWidth:550},yXe=b.memo((()=>{const{currentUser:e,currentVideo:t,showRequestEditModal:a}=Du((e=>({currentUser:e.currentUser,currentVideo:e.currentVideo,showRequestEditModal:e.sessionValues.showRequestEditModal})),Ou),n=Bu(),s=Bg(),[o,r]=i.useState(),[l,d]=i.useState(!1),[c,u]=i.useState(),[p,m]=i.useState(!1),[g,h]=i.useState([]),[v,b]=i.useState();i.useEffect((()=>{if(e.user)try{(async()=>{const e=await eXe(t.creatorId);e&&r(e)})()}catch(b9e){console.error("Failed to fetch video creator",b9e)}return()=>{r(void 0)}}),[t.creatorId,e.user]),i.useEffect((()=>((async()=>{if(t.workspaceId){const e=await aP(t.workspaceId);e.name&&u(e.name),e.teamId&&b(e.teamId)}})(),()=>{u(void 0)})),[t.workspaceId]);const y=qm(e);i.useEffect((function(){return(async()=>{if(!y)return;const e=await nP();e&&h(e.map((e=>e.teamId)))})(),()=>{h([])}}),[y]),i.useEffect((function(){a&&(d(!0),n(xC(!1)))}),[a,n]);const w=v&&g.includes(v),_=(o&&o.firstName)??eg(o),C=s?"Sent":"Request sent",S=s?"Edit":"Request to edit",x=i.useCallback((()=>m(!1)),[]),I=i.useCallback((()=>{n(xC(!0))}),[n]),A=i.useCallback((()=>{d(!1)}),[]),k=i.useCallback((()=>{v&&(eP(v,t._id),h((e=>[...e,v])),d(!1))}),[v,t._id]);return f.jsxs(f.Fragment,{children:[v&&f.jsx("button",{type:"button",className:`${gXe} ${w?hXe:""}`,onClick:()=>{qm(e)?d(!0):m(!0),(async(e,t)=>{ov("Request to Edit Button Clicked",{"Team ID":t,"Video ID":e})})(t._id,v)},children:w?f.jsx("span",{children:C}):f.jsx("span",{children:S})}),p&&f.jsx(ene,{hideSignIn:x,onSuccess:I,customTitle:"Sign in to request to edit this project",customImage:"https://cdn-useast1.kapwing.com/static/aJo-group_604.webp"}),l&&f.jsx(rC,{unsetCancelModal:A,usePortal:!0,noScrollBar:!0,noPadding:!0,style:bXe,children:f.jsxs("div",{className:oXe,children:[f.jsx("div",{className:iXe,children:f.jsx(xve,{user:o,absoluteHeight:80,absoluteWidth:80,className:lXe})}),f.jsxs("div",{className:rXe,children:[f.jsxs("div",{className:cXe,children:[f.jsxs("div",{className:dXe,children:["Collaborate with ",_," in Kapwing!"]}),f.jsxs("div",{className:uXe,children:["Request edit access to"," ",_?`${_}'s`:f.jsx("span",{children:"this"})," project. If approved, you will also be added to"," ",_?`${_}'s`:f.jsx("span",{children:"the"})," team"," ",f.jsx("span",{className:pXe,children:c}),"."]})]}),f.jsx(GIe,{buttonText:"Request edit access",className:mXe,onClick:k})]})]})})]})})),wXe="SubscriptionStatePill-module_reactivatePill_kToHW",_Xe="SubscriptionStatePill-module_proSparkle_ExtvI",CXe="SubscriptionStatePill-module_pastDuePill_Rry7q",SXe=b.memo((({className:e=""})=>{const t=P(),a=lg(),{subscription:n}=Y3(),{isPastDue:s}=_c(n),o=e=>{e.stopPropagation(),t(`/team/${a._id}/billing`)},i=e=>{u_(Ec.Update)?o(e):pb({description:"Only team workspace admins can manage workspace subscriptions. Contact your admin to reactivate this subscription."})};return n?Sc(n)?f.jsxs("div",{className:`${wXe} ${e}`,onClick:i,"data-testid":"reactivate-pill","data-cy":"reactivate-pill",children:["Reactivate",f.jsx(_se,{className:_Xe})]}):s?f.jsx("div",{className:`${CXe} ${e}`,"data-testid":"past-due-pill","data-cy":"past-due-pill",onClick:o,children:"Payment Incomplete"}):null:null}));var xXe=(e=>(e.account="account",e.accountChange="account/change",e))(xXe||{});const IXe="LimitUpsellButtonTooltip-module_tooltipContent_M4xzY",AXe="LimitUpsellButtonTooltip-module_closeIcon_jD-i5",kXe="LimitUpsellButtonTooltip-module_arrow_nFt7G";function TXe({children:e,...t}){const{blocked:a}=uP({projectedUsage:t.estimatedUsageByCategory}),[n,s]=i.useState(!1);return f.jsxs(Yi,{open:a&&!n,children:[f.jsx(Ji,{asChild:!0,children:e}),f.jsx(Xi,{children:f.jsxs(Zi,{className:IXe,align:"end",children:[f.jsx(qi,{className:kXe}),f.jsx(cAe,{...t}),f.jsx(R,{className:AXe,onClick:()=>s(!0)})]})})]})}async function EXe(e){let t,a;const n=Hp(e);if(n&&(a=await SE(n)),"image"===(null==a?void 0:a.type)&&a.file_v2)t=a.file_v2;else if("audio"===(null==a?void 0:a.type)&&a.file)t=a.file;else if("video"===(null==a?void 0:a.type)&&a.file_v2)t=a.file_v2.file;else{const a=pS(e,{type:"original"});if(!a)throw new Error("No URL found for layer");const n=await fetch(a),s=await n.blob();t=new File([s],e.name||"",{type:e.mime??void 0})}t.id=g(),t.local_url=URL.createObjectURL(t);return{file:t,fileData:{id:e.id,local_url:t.local_url}}}class LXe{constructor(e){a(this,"frame"),a(this,"fps"),a(this,"q"),a(this,"size"),a(this,"time"),a(this,"bitrate"),a(this,"speed");const t=e.match(/frame=\s*([0-9]*)\s*fps=\s*([0-9.]*)\s*q=([0-9.]*)\s*size=\s*([0-9]*).*time=([0-9:.]*).*bitrate=\s*([0-9.]*)kbits\/s\s*(.*)speed=([0-9.]*)/);if(!t)return;const[n,s,o,i,r,l,d,c]=t;this.frame=parseInt(s??""),this.fps=parseInt(o??""),this.q=parseInt(i??""),this.size=parseInt(r??"");const[u=0,p=0,m=0]=(l??"").split(":").map((e=>parseInt(e)));this.time={hours:u,minutes:p,seconds:m},this.bitrate=parseFloat(d??""),this.speed=parseFloat(c??"")}}function jXe(e,t){const a=e._malloc(t.length*Uint32Array.BYTES_PER_ELEMENT);return t.forEach(((t,n)=>{const s=function(e,t){const a=e._malloc((t.length+1)*Uint8Array.BYTES_PER_ELEMENT);for(let n=0;n<t.length;n+=1)e.setValue(a+n,t.charCodeAt(n),"i8");return e.setValue(a+t.length,0,"i8"),a}(e,t);e.setValue(a+4*n,s,"i32")})),a}function RXe(e){const t=[];let a=0,n=0;for(;(a=e.indexOf(" ",n))>=0;){let s=e.substring(n,a),o=s.indexOf("'"),i=s.indexOf('"');if(0===o||0===i){const o=s[0];if(!o)throw Error("Missing delimiter");const i=e.indexOf(o,n+1);if(i<0)throw new Error(`Bad command escape sequence ${o} near ${a}`);s=e.substring(n+1,i),n=i+2,t.push(s)}else if(o>0||i>0){-1===o&&(o=1/0),-1===i&&(i=1/0);const r=o<i?"'":'"',l=Math.min(o,i),d=e.indexOf(r,n+l+1);if(d<0)throw new Error(`Bad command escape sequence ${r} near ${a}`);s=e.substring(n,d+1),n=d+2,t.push(s)}else""!==s?(t.push(s),n=a+1):n=a+1}return n!==e.length&&t.push(e.substring(n)),t}class NXe{constructor(){if(a(this,"moduleFactory"),a(this,"instance"),a(this,"ffmpegMain"),a(this,"FS"),a(this,"duration"),a(this,"defaultArgs",["./ffmpeg","-nostdin","-hide_banner"]),a(this,"currLog"),a(this,"currLogProxy"),a(this,"logs",[]),a(this,"logsProxy",[]),a(this,"allMessages",[]),a(this,"lastFFmpegStdout"),!window||!window.createModule)throw new Error("createModule does not exist on window. Ensure that ffmpeg-core.js      is included via a script tag, and that it exports a createModule function.");this.moduleFactory=window.createModule()}logInDev(e){(window.location.href.includes("kapwing-dev")||window.location.href.includes("localhost"))&&console.debug(e)}abort(){}isSupportedByClient(){var e;const t=(new E.UAParser).getBrowser();return!!(navigator.hardwareConcurrency>=4&&(null==(e=t.name)?void 0:e.startsWith("Chrome"))&&parseFloat(t.version||"0")>=74)}modulePromise(){return new Promise((e=>this.moduleFactory.then((t=>{delete t.then,e(t)}))))}async initialize(e){try{this.instance||(this.instance=await this.modulePromise())}catch(b9e){if(b9e instanceof Error)throw b9e;const{message:t}=ub(b9e);throw new Error(t)}this.ffmpegMain=this.instance.cwrap("proxy_main","number",["number","number"]),this.FS=this.instance.FS,this.instance.setLogger((t=>{var a;let n;if(!this.duration){const e=/Duration:\s*([0-9][0-9]:[0-9][0-9]:[0-9][0-9]\.[0-9][0-9])/,a=t.message.match(e);a&&a[1]&&(this.duration=a[1])}if(new LXe(t.message).frame){if(this.allMessages.length>0){const e=t.message.replace(this.lastFFmpegStdout||"","");this.allMessages.push(e),n=e}else this.allMessages.push(t.message),n=t.message;this.lastFFmpegStdout=t.message}const s=()=>{const{dispatch:e}=Mu();e(H6({progressText:this.allMessages.join("\n")}))};function o(e){const[t,a,n]=e.split(":");return 60*parseFloat(t??"0")*60+60*parseFloat(a??"0")+parseFloat(n??"0")}if(this.allMessages.length>0&&this.allMessages.length%5==0&&s(),this.logsProxy.push(t),this.currLog=t,this.currLogProxy&&(this.currLogProxy.currLog=t),n&&n.startsWith("frame")){const t=o((null==(a=n.split("time=")[1])?void 0:a.split(" ")[0])??""),s=o(this.duration??"0");this.logInDev({progress:t/s}),e&&e(t/s)}else n&&n.startsWith("video:")&&(this.logInDev({progress:1}),e&&e(1))}))}async runCommandOnFile(e,t,a,n="output.mp4"){this.logInDev(e),a=a.replaceAll(" ","");try{void 0===this.instance&&await this.initialize(),await this.writeFile(a,t);const e=this.readVideoFile(n);return this.logInDev(URL.createObjectURL(e)),this.FS.unlink(a),this.FS.unlink(n),e}catch(b9e){if(b9e instanceof Error)throw b9e;const{message:t}=ub(b9e);throw new Error(t)}}async run(e){const t=Date.now(),a=[...this.defaultArgs,...RXe(e)].filter((e=>0!==e.length)),n=jXe(this.instance,a);return new Promise(((e,s)=>{const o={set(a,n,o){if(a[n]=o,"ffmpeg-stdout"===o.type&&"FFMPEG_END"===o.message){if("Conversion failed!"===a[a.length-2].message){const e=()=>{let e="";return e+=`1)${a[a.length-5].message}\n2)${a[a.length-4].message}\n3)${a[a.length-3].message}`,e},n={timeToError:(Date.now()-t)/1e3,message:a.length>=5?e():"Unable to get error messages."};s(n)}else e((Date.now()-t)/1e3)}return!0}};this.logsProxy=new Proxy(this.logs,o),this.ffmpegMain(a.length,n)}))}readVideoFile(e){const t=this.FS.readFile(e);return new File([t.buffer],e,{type:"video/mp4"})}async writeFile(e,t){if(t instanceof File||t instanceof Blob){const a=await t.arrayBuffer(),n=new Uint8Array(a);this.FS.writeFile(e,n)}else if(t.startsWith("blob:")){const a=await fetch(t).then((e=>e.blob())),n=await a.arrayBuffer(),s=new Uint8Array(n);this.FS.writeFile(e,s)}else{const a=await fetch(t),n=await a.arrayBuffer(),s=new Uint8Array(n);this.FS.writeFile(e,s)}}}const MXe=async(e,t,a="First Trim")=>{let{name:n}=e;const s=[e.startTime||0,e.endTime||e.duration];n||(n="input.mp4");const o={},i=s[1]-s[0];if(i<=0)throw new Error("Bad duration, sending to backend");o.trimsDuration=i,o.buildType="fixed memory";try{o.status="Initializing";const r=new NXe,l=Date.now();await r.initialize();const d=Date.now(),c=(e=>{let t=e.replaceAll(" ","");return"mp4"!==t.split(".").pop()&&(t=`${t.split(".")[0]}.mp4`),t})(n),u=`trimmed-${g()}-${c}`;let p={},m="";const h=window.navigator.hardwareConcurrency;if("First Trim"===a&&e.ffprobeData&&e.ffprobeData.avg_frame_rate===e.ffprobeData.r_frame_rate)o.trimType="Quick Trim",m=PXe(c,u,s,h);else if(e.ffprobeData&&e.ffprobeData.avg_frame_rate===e.ffprobeData.r_frame_rate||"First Trim"!==a){if(!("Slow Trim Mismatched Duration"===a&&i<=60))throw new Error("Quick trim failed and duration >1min, send to backend");o.trimType="Slow Trim after Quick Trim",m=FXe(c,u,s,h)}else o.trimType="Slow Trim Mismatched Framerate",m=FXe(c,u,s,h);if(o.command=m,p=await r.runCommandOnFile(m,t,c,u),!p)throw new Error("no output blob");o.status="Finished running command";const v=Date.now();if(o.status="Read output file",o.initTime=(d-l)/1e3,o.timeToRunCommand=(v-d)/1e3,o.newVideoDuration=await bk(p),o.durationsMatch=Math.abs(o.newVideoDuration-i)<=.5,!o.durationsMatch){if("First Trim"===a&&o.newVideoDuration<=60)return await MXe(e,t,"Slow Trim Mismatched Duration");throw new Error("Slow trim failed and duration > 60, send to backend")}return o.browser=A_(),o.device=k_(),o.hardwareConcurrency=navigator.hardwareConcurrency,o.origVideoDuration=i,o.origVideoHeight=e.height,o.origVideoWidth=e.width,o.origVideoSize=e.size,{outputBlob:p,ffmpegData:o}}catch(b9e){throw o.error=b9e,b9e}},PXe=(e,t,a,n)=>`-ss ${a[0]} -i ${e} -t ${a[1]-a[0]} -c copy -threads ${n/2} ${t}`,FXe=(e,t,a,n)=>`-ss ${a[0]} -i ${e} -t ${a[1]-a[0]} -threads ${n/2} ${t}`,DXe="Static Image",OXe="No Changes Video",UXe="Trimmed Only Video";function BXe(e,t,a="videoState",n=!1,s){const o=e.studio||e,{videoType:i}=o;if(i!==md.IMAGE)return!1;const r=Object.keys(o.magicSubtitles||{}).length>0;let l=!1;if(I_())l=!1;else if(y4(o,t,n))l=!0;else if(o5(e,a)){if(r)return!1;const e=Object.values(o.allLayers.byId)[0];if(!o.width||!o.height)return!1;const t=o.width/o.height;if("mp4"!==i&&"mp4_convert"!==i?l=!1:n5(e,t,o.ratio,{exportQuality:o.exportQuality,exportResolution:o.exportResolution})&&s&&!q1(o.duration)&&(l=!0),s5(e,t)&&b_()&&s&&$m(s)){if(r)return!1;l=!0}}else l=!1;return l}const WXe=async(e,t,a,n=!1,s)=>{const{dispatch:o}=Mu(),i=t.studio||t;await EK(i._id,{done:!1});const r=function(e,t,a=!1,n="videoState"){const s=e.studio||e;let o="";if(y4(s,t,a))o=DXe;else if(o5(e,n)){const e=Object.values(s.allLayers.byId)[0],t=s.width/s.height;n5(e,t,s.ratio,{exportQuality:s.exportQuality,exportResolution:s.exportResolution})&&(o=OXe),s5(e,t)&&(o=UXe)}return o}(t,a,n,s);let l,d,c,u=!0;switch(r){case DXe:try{i.watermark=q1(i.duration);const{fileInfo:e,dataUrl:t}=n?await _6(i,ex.ImageExport):await _6(i),a=aI(e,t);l=a,d=URL.createObjectURL(l),o(yz(md.IMAGE))}catch(p){console.debug("Can't process image on client, send to server"),u=!1}break;case OXe:case UXe:try{const e=Object.values(i.allLayers.byId)[0],t=await(async(e,t,a)=>{const{dispatch:n,history:s,state:o}=Mu(),{currentUser:i}=o;let r=a,l={},d={};switch(e){case OXe:try{l=(await EXe(t)).file}catch(b9e){throw console.debug("Can't process no changes video on client, send to server"),r&&await EK(r,{progressText:"Client side video error, sending job to server..."}),b9e}break;case UXe:try{let e=3e3;if(!r){const t=await d7({currentUser:i,publish:!1,auto:!1,createLocation:"trim-save"});r=t._id,e=100}const a={submittedAt:new Date};await EK(r,a),n(H6(a)),setTimeout((()=>{null==s||s.push(`/videos/${r}`)}),e);const o=await EXe(t),c=await MXe(t,o.file);c.outputBlob.id=g(),c.outputBlob.local_url=window.URL.createObjectURL(c.outputBlob),l=c.outputBlob,d=c.ffmpegData}catch(b9e){throw console.debug("Can't trim video on client, send to server"),r&&await EK(r,{clientSideProcessingInProgress:!1,progressText:"Client side trim error, sending job to server..."}),b9e}}return{files:l,ffmpegData:d}})(r,e,i._id);l=t.files,d=t.files.local_url,c=t.ffmpegData,o(yz(md.MP4))}catch(p){console.error(p),u=!1}break;default:u=!1}if(u&&l&&!window.Cypress){const t=qm(e)&&e.user.defaultPrivacy===ad.private,a=g(),n=await j4(l,{uploadId:a});return new Promise((e=>{const a=new a_({analyticsUploadSource:"Client Side Processing",file:l,isPrivate:t,onFinish:async(t,a,n)=>{const s=await((e,t,a,n)=>{const{dispatch:s,state:o}=Mu(),{studio:i}=o,r=t||i._id,l={clientSideProcessingInProgress:!1,pendingProcessOnClient:!1};if(!e)return s(H6(l)),r&&EK(r,l),null;const d=e.match(/\.([0-9a-z]+)(?:[?#]|$)/i),c=d?d[1]:"";s({type:"SET_FULL_PATH",fullPath:e});const u={outputExt:c,outputByteSize:n.size,success:!0},[p,m]=c2(e),g={fullPath:e,blob_name:m,progressText:"Processed on client",build:u,done:!0,draft:!1,...l};if(g.url=e,a===DXe&&(g.image_url=e,g.thumbnail_blob_name=m,s(u7(e))),s(H6(g)),r&&EK(r,g),i._id)return e2({...Z1(o,!1),fullPath:e,blob_name:m,build:u},!0);return null})(a,i._id,r,n);return e({files:l,processed:u,newUrl:d,ffmpegData:c,read_uri:a,buildInfo:s.content.build})},origin:"client side processing",uploadSourceComponent:"client-side-processing",layer:n});a.upload()}))}return{files:l,processed:u,newUrl:d,ffmpegData:c}},VXe=async e=>{const{dispatch:t,state:a}=Mu(),{currentUser:n}=a;if(!qm(n))return;t(SU());const s=await Kf(`/api/v1/exports/${e}/exportHistory`);return t(CU({exports:s,finishPendingExport:s.length>a.exports.exports.length})),s},HXe=(e,t)=>!e||t,zXe=async(e,t="",a=!1)=>{const{dispatch:n,state:s}=Mu(),{studio:o,currentUser:i,videoSaving:r}=s,{_id:l,videoType:d,duration:c}=o,{pathname:u}=window.location,p=()=>window.location.pathname!==u;if("gif"===(t||d)&&c>60)return n(db({description:"Max GIF duration is 60 seconds. Please trim your video or switch output to mp4.",type:"error"})),{success:!1};if(((e,t,a)=>e&&!t||!e&&a)(l,e,r))return n(db({description:"Saving your work - please wait a second and try again.",type:"error"})),{success:!1};if(!(e=>{for(const t of e){if("begun"===t.videoConvertedState)return console.error("Layer still converting:",t),aR("/studio/editor/conversion-warning"),!1;if("image/webp"===t.mime&&"unknown"===t.webpType)return console.error("Layer still processing image:",t),aR("/studio/editor/image-processing-warning"),!1}return!0})(Gx(s)))return n(db({description:"A layer is still converting. Please try again later.",type:"error"})),{success:!1};a||n(Sz(-1)),d!==md.MP3||t||n(yz(md.MP4));const m=BXe(s,c,"videoState",a,i);let g,h,v=!1,f={};const b=Date.now(),y="Failed to client side process video";n(xU({name:s.studio.name,clientSide:m}));try{if(m)try{const e=await WXe(i,s,c,a,"videoState");if(l&&VXe(l),p())return l&&await EK(l,{done:!0,draft:!1}),n(IU()),{success:!0,processOnClient:m};if((!e.processed||!e.newUrl)&&o.duration>0)throw Error(y);v=e.processed,g=e.read_uri,h=e.ffmpegData,f=e.buildInfo}catch(b9e){throw Error(y)}await(async()=>{const{state:e,dispatch:t}=Mu(),a=TK(e.studio.ratio),n=DD(e);if(n.length<0)return;const s=async n=>{if(!AO({assetId:n,filterEmpty:!0,filterInvalid:!0,fontSizeOverride:null})(e).length)return;const{preset:s,style:o,wordByWordAnimations:i,transitionId:r,transitionDuration:l,transitionOverlapDuration:d,transitionSpeed:c}=VD(e),u=s||X2({style:o,wordByWordAnimations:i,transition:r?{transitionId:r,transitionDuration:l,transitionOverlapDuration:d,transitionSpeed:c}:void 0,presetId:`preset-${fe()}`,title:e.studio.name,projectRatio:{width:a.ratioWidth,height:a.ratioHeight}});!u.projectId&&e.studio.projectId&&(u.projectId=e.studio.projectId),t(Nq({updates:{preset:u},undoable:!1})),(null==u?void 0:u.teamId)&&await U2({...u,sortNdx:0}),t(VB({preset:u}))};try{await Promise.all(n.map(s))}catch(b9e){console.error(b9e)}})(),function(){const{state:e}=Mu(),{allLayers:t}=e.studio,a=Object.values(t.byId).filter((e=>e&&e.type===Nc.Text&&!e.fromTextDefaults));0!==a.length&&S3(a)}();const e=t||a?"studio-publish-dropdown":"studio-publish",r=await d7({currentUser:i,publish:!0,auto:!1,createLocation:e,processedOnClient:v});if(p())return await EK(r._id,{done:!0,draft:!1}),n(IU()),{success:!0,processOnClient:m};if(v){const[e,t]=c2(g);n(H6({local_url:g,fullPath:g,image_url:g,blob_name:t,thumbnail_blob_name:t})),await EK(r._id,{done:!0,draft:!1}),VXe(r._id),window.Cypress&&Object.values(r.allLayers.byId).some((e=>"video"===e.type))?await EK(r._id,{done:!0,draft:!1}):((e,t,a,n,s)=>{const o=qm(e)?e.user._id:null,i=Date.now(),r=Object.values(t.allLayers.byId).length,l={...s,buildDuration:(i-a)/1e3,layerDuration:t.duration,layerCount:r,outputDuration:t.duration??null};n&&(l.ffmpegData=n),EK(t._id,{build:l}),"mp4"===t.videoType&&ov("Video Proccessed",{clientSideProcessed:!0,creatorId:o,isStudio:!0})})(i,r,b,h,f)}return m&&await EK(r._id,{processedOnClient:v}),{success:!0,processOnClient:m}}catch(w){if(!w||"object"!=typeof w)return cb({description:"Failed to export",error:w}),{success:!1};if("statusCode"in w&&425===w.statusCode)return aR("/studio/editor/upload-warning"),{success:!1};const{message:e}=ub(w);return e===y&&l?(console.error(y),await GXe(l,"Error"),{success:!1}):(cb({description:"Failed to export",error:w}),{success:!1})}},GXe=async(e,t)=>{const{state:a}=Mu(),{currentUser:n}=a;await d7({currentUser:n,publish:!0,auto:!1,createLocation:"studio-publish",processedOnClient:!1}),await EK(e,{pendingProcessOnClient:!1,clientSideProcessingInProgress:!1}),ov("Create Failed Client Side Video",{videoId:e,Reason:t})},YXe=u((e=>e.exports.exports),(e=>e.filter((e=>e.status===uu.RUNNING)))),KXe="ExportProgressButton-module_buttonWrapper_-tKTo",XXe="ExportProgressButton-module_innerButtonWrapper_B4IIW",ZXe="ExportProgressButton-module_progressNum_5YBsk",qXe="ExportProgressButton-module_progressPercent_Xpzpv",JXe="ExportProgressButton-module_icon_Psary",$Xe=b.memo((()=>{const{progress:e,isDisabled:t,pendingExport:a,runningExportsLength:n}=(()=>{const e=Bu(),t=Du((e=>e.currentUser.user.muteExportCompleteNotificationSound)),a=Du((e=>e.studio._id)),n=Du((e=>e.userPermissions.canWrite)),s=Du((e=>e.exports.pendingExport)),o=Du((e=>{var t;return"exportPanel"===(null==(t=e.projectSessionSettings.overlay)?void 0:t.key)})),{runningExportsLength:r,exportProgress:l}=Du((e=>{const t=YXe(e).filter((e=>e.videoId===a));if(t.length>0){const e=[...t].sort(((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()))[0];if(e)return{runningExportsLength:t.length,exportProgress:q9({progressDict:e.progressDict,createdAt:e.createdAt.toString()})}}return{runningExportsLength:t.length,exportProgress:0}}),Ou),[d,c]=i.useState(r),[u,p]=i.useState(l),[m,g]=i.useState(d);i.useEffect((function(){return e(TU()),()=>{e(TU())}}),[e,a]),i.useEffect((()=>{p(l)}),[l]),i.useEffect((()=>{c(r)}),[r]),i.useEffect((()=>{d<m&&(p(101),setTimeout((()=>p(0)),1e4),a&&VXe(a),!t)&&new Audio("/export-notification-chime.mp3").play(),g(d)}),[d,a,e,m,t]);const h=i.useCallback((()=>{a&&(r||s)&&VXe(a)}),[a,r,s]);return J9({callback:h,intervalMs:6e3,invokeOnVisibilityChange:!0,shouldPoll:!(!a||!r&&!s)}),J9({callback:()=>{a&&VXe(a)},intervalMs:6e4,shouldPoll:!!a}),{progress:u,isDisabled:o||!n,pendingExport:s,runningExportsLength:r}})(),s=i.useCallback((()=>{Rne(ZS.HISTORY)}),[]);return f.jsx("div",{className:KXe,children:f.jsx(Mve,{progress:e,noPadding:!0,onClick:s,overrideColor:h_.Studio,disabled:t,children:f.jsx("div",{className:XXe,children:e||a||n?e>=100?f.jsx(dn,{className:JXe}):n||!(e<=0)&&e?f.jsxs("span",{className:ZXe,children:[e,f.jsx("span",{className:qXe,children:"%"})]}):f.jsx(iye,{}):f.jsx(ln,{className:JXe})})})})})),QXe=u((e=>e.studio.allLayers.byId),(e=>Object.values(e).filter((e=>e.preemptiveDownloadError)))),eZe=()=>{const e=Du(QXe),t=Du((e=>EI(e))),{byId:a}=Du((e=>e.assets)),n=Du((e=>cL(e).length>0)),s=gg(Fd.REMOVE_BACKGROUND),o=Du(Gx),i=!s&&o.some((e=>{var t;return e.backgroundRemoved||e.asset_id&&"remove-background"===(null==(t=a[e.asset_id])?void 0:t.usedProFeature)})),r=!s&&o.some((e=>{var t;return null==(t=e.usedProFeatures)?void 0:t.includes("remove-video-background")})),l=!gg(Fd.CLEAN_AUDIO)&&o.some((e=>{var t;return e.asset_id&&"clean-audio"===(null==(t=a[e.asset_id])?void 0:t.usedProFeature)})),d=gg(Fd.SMART_CUT),c=!d&&o.some((e=>{var t;return(null==(t=e.usedProFeatures)?void 0:t.includes("smart-cut"))&&e.type===Nc.Video})),u=!d&&o.some((e=>{var t;return(null==(t=e.usedProFeatures)?void 0:t.includes("smart-cut"))&&e.type===Nc.Audio})),p=!gg(Fd.AUDIOGRAM)&&(o.some((e=>{var t;return null==(t=e.usedProFeatures)?void 0:t.includes("audiogram")}))||n),m=gg(Fd.UNLIMITED_EXPORT_DURATION_LIMIT),g=Du((e=>e.studio.duration>240)),h=!m&&g,v=gg(Fd.UNLIMITED_UPLOAD_SIZE_LIMIT),f=Du((e=>!v&&C4(e))),b=!gg(Fd.PREMIUM_ASSETS)&&o.some((e=>{var t;return null==(t=e.usedProFeatures)?void 0:t.includes("premium-assets")}));let y;return i?y=Dd.BACKGROUND_IMAGE_ERASE:f?y=Dd.UPLOAD_LIMIT:h?y=Dd.SINGLE_VIDEO_DURATION_LIMIT:l?y=Dd.CLEAN_AUDIO:c?y=Dd.SMART_CUT_VIDEO:u?y=Dd.SMART_CUT_AUDIO:r?y=Dd.REMOVE_VIDEO_BACKGROUND:p?y=Dd.AUDIOGRAM_BAR:b?y=Dd.PREMIUM_ASSETS:w4()?y=Dd.SINGLE_VIDEO_DURATION_LIMIT:_4()&&(y=Dd.DEFAULT),{exportBlockedAction:y,pendingUploads:t,layersFailedToDownload:e}},tZe="PublishContainer-module_disabled_IPzrE",aZe="PublishContainer-module_createButton_AYJNq",nZe="PublishContainer-module_createButtonDisabled_98sTR",sZe="PublishContainer-module_createButtonWarning_c28Xh",oZe="PublishContainer-module_buttonContainer_IPXC5",iZe="PublishContainer-module_exportIcon_ubQGU",rZe="PublishContainer-module_shortButtonName_reZiK",lZe="PublishContainer-module_longButtonName_pHFb1",dZe="PublishContainer-module_displayNone_Fm4RH",cZe="PublishContainer-module_tooltipsContainer_9H6dN",uZe="PublishContainer-module_limitTooltipTarget_txNMu",pZe=b.memo((({handleClick:e,exportBlocked:t,isBrandKitTemplate:a,shrinkCreateButton:n})=>{const{exportBlockedAction:s}=eZe(),o=Du((e=>e.userPermissions.canWrite)),i=Du((e=>{var t;return"exportPanel"===(null==(t=e.projectSessionSettings.overlay)?void 0:t.key)})),r=Du((e=>Pp(Gx(e).filter((e=>up(e)))))),{blocked:l}=uP({projectedUsage:{[Bd.LIP_SYNC]:r}}),{buttonName:d,buttonIcon:c,shortButtonName:u}=((e,t,a)=>{let n=f.jsx(cn,{className:iZe}),s="Export Project";return e&&(s=e?"Published to Workspace":"Publish to Workspace"),e&&(s="Published to Workspace"),a&&(n=f.jsx(un,{})),t&&(n=null,s=e?"Publish":"Export"),{buttonName:s,shortButtonName:e?"Publish":"Export",buttonIcon:n}})(a,n,l);return f.jsxs("div",{className:`${aZe}\n        ${s||t?sZe:""}\n        ${i||!o?tZe:""}\n        ${a?dZe:""}`,"data-cy":"create-button",onClick:t=>{t.stopPropagation(),e()},children:[f.jsx("span",{className:lZe,children:d}),f.jsx("span",{className:rZe,children:u}),c]})})),mZe="LimitTooltip-module_exit_6hQHx",gZe="LimitTooltip-module_headerContainer_CCKX-",hZe="LimitTooltip-module_headerText_JHS7K",vZe="LimitTooltip-module_subtextContainer_xMwGZ",fZe="LimitTooltip-module_iconWrapper_5gLE3",bZe="LimitTooltip-module_toolTipArrow_bUSAU",yZe="LimitTooltip-module_contentContainer_f7DPR",wZe="LimitTooltip-module_button_ZwVFM",_Ze="LimitTooltip-module_nobr_fW6jO",CZe="LimitTooltip-module_toolTipContent_wrBUa",SZe=b.memo((()=>{const[e,t]=i.useState(!1),a=i.useCallback((()=>{t(!1)}),[]);return f.jsxs(f.Fragment,{children:[e&&f.jsx(ase,{action:Dd.SINGLE_VIDEO_DURATION_LIMIT,onClose:a}),f.jsx("span",{children:"Your video is longer than"})," ",4," minutes. Trim your video or upgrade to export longer videos."]})})),xZe=b.memo((()=>{const[e,t]=i.useState(!1),a=i.useCallback((()=>{t(!1)}),[]);return f.jsxs(f.Fragment,{children:[e&&f.jsx(ase,{action:Dd.UPLOAD_LIMIT,onClose:a}),f.jsx("span",{children:"Upgrade to export projects containing files larger than"})," ",f.jsxs("span",{className:_Ze,children:[250," MB."]})]})})),IZe=b.memo((()=>f.jsxs(f.Fragment,{children:["Your project is above the"," ",f.jsxs("span",{style:{fontWeight:"bold"},children:[2," hour limit"]}),". Trim your video to export it successfully."]}))),AZe=b.memo((()=>f.jsx(f.Fragment,{children:"This project contains a layer with Clean Audio applied. Upgrade or remove this layer to export."}))),kZe=b.memo((()=>f.jsx(f.Fragment,{children:"This project contains layers edited with Smart Cut. Upgrade or remove these layers to export."}))),TZe=b.memo((()=>f.jsx(f.Fragment,{children:"This project contains a video layer that uses Remove Background. Upgrade or remove this layer to export."}))),EZe=b.memo((()=>f.jsx(f.Fragment,{children:"This project contains an audio Waveform layer. Upgrade or remove the waveform layer to export."}))),LZe=b.memo((()=>f.jsx(f.Fragment,{children:"This project contains a premium asset. Upgrade now or delete this layer to export."}))),jZe={freeUserDurationLimit:{header:"Duration Limit Exceeded",subtext:f.jsx(SZe,{}),upsellAction:Dd.SINGLE_VIDEO_DURATION_LIMIT},freeUserSizeLimit:{header:"File Size Limit Exceeded",subtext:f.jsx(xZe,{}),upsellAction:Dd.UPLOAD_LIMIT},proUserDurationLimit:{header:"Export Limit Exceeded",subtext:f.jsx(IZe,{})},cleanAudioUsed:{header:"Clean Audio Used",subtext:f.jsx(AZe,{}),upsellAction:Dd.CLEAN_AUDIO},videoSmartCutUsed:{header:"Smart Cut Used",subtext:f.jsx(kZe,{}),upsellAction:Dd.SMART_CUT_VIDEO},audioSmartCutUsed:{header:"Smart Cut Used",subtext:f.jsx(kZe,{}),upsellAction:Dd.SMART_CUT_AUDIO},removeVideoBackgroundUsed:{header:"Video Background Removed",subtext:f.jsx(TZe,{}),upsellAction:Dd.REMOVE_VIDEO_BACKGROUND},audiogramUsed:{header:"Waveform Added",subtext:f.jsx(EZe,{}),upsellAction:Dd.AUDIOGRAM_BAR},premiumAssetsUsed:{header:"Premium Asset Used",subtext:f.jsx(LZe,{}),upsellAction:Dd.PREMIUM_ASSETS},enhancedImageUsed:{header:"Used Enhance Image",subtext:"This project contains a layer with Image Enhancements applied. Upgrade or remove this layer to export.",upsellAction:Dd.ENHANCE_IMAGE}},RZe=b.memo((({children:e})=>{const t=Bu(),a=Du((e=>e.exports.tooltip?jZe[e.exports.tooltip]:null));if(!a)return null;const{header:n,subtext:s,upsellAction:o}=a;return f.jsxs(hr,{open:!0,children:[f.jsx(vr,{asChild:!0,children:e}),f.jsx(fr,{children:f.jsxs(br,{side:"bottom",align:"center",alignOffset:-40,arrowPadding:20,collisionPadding:12,sideOffset:2,className:CZe,children:[f.jsxs("div",{children:[f.jsxs("div",{className:yZe,children:[o&&f.jsx("div",{className:fZe,children:f.jsx(Jt,{})}),f.jsxs("div",{children:[f.jsxs("div",{className:gZe,children:[n&&f.jsx("div",{className:hZe,children:n}),f.jsx("span",{"data-cy":"upsell-close",className:mZe,onClick:()=>{t(_U.showToolTip(null))},children:f.jsx("div",{className:fZe,children:f.jsx(R,{})})})]}),f.jsx("div",{className:vZe,children:s})]})]}),o&&f.jsx(qIe,{className:wZe,action:o,hasIcon:!0})]}),f.jsx(yr,{className:bZe,width:14,height:7})]})})]})})),NZe=u((e=>e.studio.videoType),(e=>e.studio.duration),(e=>Gx(e)),((e,t,a)=>{const n=e.toLowerCase();let s="";return t?s="gif"===n?"GIF":"Video":"gif"===n?s="GIF":(e=>{for(const t of e)if("video"===t.type&&!t.converted_gif)return!0;return!1})(a)||(s="Image"),s}));let MZe=[];class PZe extends i.Component{constructor(){super(...arguments),a(this,"_mounted",!1),a(this,"validateUsageAndOpenExportPanel",(async()=>{const{exportBlocked:e,exportBlockedAction:t,exportBlockedOnDurationPro:a,canWrite:n,allExportBlockingActions:s,dispatch:o}=this.props;if(n)if(a)o(_U.showToolTip("proUserDurationLimit"));else{if(e)return ov("Paywalled Export Clicked",{"Limit Source":vv(t)}),void lse((()=>{}),{action:t,extraAmplitudeEventProperties:{"All Blocking Actions":s}})();w4()?aR("/studio/editor/warning"):_4()&&aR("/studio/editor/upgrade"),Rne()}})),a(this,"handleGoogleSignInRedirect",(async()=>{const{videoFetched:e}=this.props;try{this.setState({submitting:!0}),await zXe(e)}catch(t){console.error(t)}finally{this._mounted&&this.setState({submitting:!1})}}))}componentDidMount(){const{signedOut:e,location:t,canWrite:a}=this.props;a&&(this.showTooltipIfPremiumAssetsUsed(),this.showTooltipIfFreeLimitExceeded(),this.showTooltipIfProLimitExceeded(),this.showTooltipIfCleanAudioUsed(),this.showTooltipIfSmartCutUsed(),this.showTooltipIfRemoveVideoBackgroundUsed(),this.showTooltipIfAudiogramUsed(),this.showTooltipIfEnhancedImageUsed());const n=new URLSearchParams(t.search);e||("true"===n.get(G1.EXPORT_VIDEO)?this.handleGoogleSignInRedirect():"true"===n.get(G1.OPEN_EXPORT_PANEL)&&Rne()),this._mounted=!0}componentDidUpdate(e){const{exportBlocked:t,canWrite:a,dispatch:n}=this.props;e.exportBlocked&&!t&&Uu((()=>{n(Iz("premiumAssetsUsed",!1)),n(Iz("freeUserFileSizeLimitWarned",!1)),n(Iz("freeUserDurationLimitWarned",!1)),n(Iz("cleanAudioUsed",!1)),n(Iz("smartCutUsed",!1)),n(Iz("removeVideoBackgroundUsed",!1)),n(Iz("audiogramUsed",!1)),n(Iz("enhancedImageUsed",!1))})),a&&(this.showTooltipIfPremiumAssetsUsed(),this.showTooltipIfFreeLimitExceeded(),this.showTooltipIfProLimitExceeded(),this.showTooltipIfCleanAudioUsed(),this.showTooltipIfSmartCutUsed(),this.showTooltipIfRemoveVideoBackgroundUsed(),this.showTooltipIfAudiogramUsed(),this.showTooltipIfEnhancedImageUsed())}componentWillUnmount(){this._mounted=!1}showTooltipIfFreeLimitExceeded(){const{exportBlocked:e,exportBlockedOnDuration:t,exportBlockedOnFilesize:a,freeUserDurationLimitWarned:n,freeUserFileSizeLimitWarned:s,isProjectFetched:o,showingTooltip:i,dispatch:r}=this.props;o&&(t&&!n?(r(_U.showToolTip("freeUserDurationLimit")),r(Iz("freeUserDurationLimitWarned",!0))):a&&!s?(r(_U.showToolTip("freeUserSizeLimit")),r(Iz("freeUserFileSizeLimitWarned",!0))):e||"freeUserDurationLimit"!==i&&"freeUserSizeLimit"!==i||r(_U.showToolTip(null)))}showTooltipIfProLimitExceeded(){const{exportBlockedOnDurationPro:e,showingTooltip:t,proUserDurationLimitWarned:a,dispatch:n}=this.props;e&&!a?(n(_U.showToolTip("proUserDurationLimit")),n(Iz("proUserDurationLimitWarned",!0))):e||"proUserDurationLimit"!==t||n(_U.showToolTip(null))}showTooltipIfCleanAudioUsed(){const{exportBlockedOnCleanAudio:e,cleanAudioFeatureUsedWarned:t,showingTooltip:a,dispatch:n}=this.props;e&&!t?(n(_U.showToolTip("cleanAudioUsed")),n(Iz("cleanAudioUsed",!0))):e||"cleanAudioUsed"!==a||n(_U.showToolTip(null))}showTooltipIfSmartCutUsed(){const{exportBlockedOnSmartCutAudio:e,exportBlockedOnSmartCutVideo:t,smartCutFeatureUsedWarned:a,showingTooltip:n,dispatch:s}=this.props,o=e||t;if(o&&!a){const e=t?"videoSmartCutUsed":"audioSmartCutUsed";s(_U.showToolTip(e)),s(Iz("smartCutUsed",!0))}else o||"videoSmartCutUsed"!==n&&"audioSmartCutUsed"!==n||s(_U.showToolTip(null))}showTooltipIfRemoveVideoBackgroundUsed(){const{exportBlockedOnRemoveVideoBackground:e,removeVideoBackgroundUsedWarned:t,showingTooltip:a,dispatch:n}=this.props;e&&!t?(n(_U.showToolTip("removeVideoBackgroundUsed")),n(Iz("removeVideoBackgroundUsed",!0))):e||"removeVideoBackgroundUsed"!==a||n(_U.showToolTip(null))}showTooltipIfAudiogramUsed(){const{exportBlockedOnAudiogram:e,audiogramUsedWarned:t,showingTooltip:a,dispatch:n}=this.props;e&&!t?(n(_U.showToolTip("audiogramUsed")),n(Iz("audiogramUsed",!0))):e||"audiogramUsed"!==a||n(_U.showToolTip(null))}showTooltipIfEnhancedImageUsed(){const{exportBlockedOnEnhanceImage:e,showingTooltip:t,enhanceImageUsedWarned:a,dispatch:n}=this.props;e&&!a?(n(_U.showToolTip("enhancedImageUsed")),n(Iz("enhancedImageUsed",!0))):e||"enhancedImage"!==t||n(_U.showToolTip(null))}showTooltipIfPremiumAssetsUsed(){const{exportBlockedAction:e,premiumAssetsUsedWarned:t,showingTooltip:a,dispatch:n}=this.props,s=e===Dd.PREMIUM_ASSETS;s&&!t?(n(_U.showToolTip("premiumAssetsUsed")),n(Iz("premiumAssetsUsed",!0))):s||"premiumAssetsUsed"!==a||n(_U.showToolTip(null))}render(){const{disabled:e,shrinkCreateButton:t,isBrandKitTemplate:a,exportBlocked:n,canWrite:s,estimatedLipSyncCostOnExport:o}=this.props;if(!s)return null;const i=a?"Publish":"Export",r=a?"Publish to Workspace":"Export Project";function l(e){return f.jsx(fke,{id:cZ.ExportButton,position:"bottom",align:"center",portal:!0,children:f.jsx("div",{children:f.jsx(TXe,{estimatedUsageByCategory:{[Bd.LIP_SYNC]:o},userActivityRelatedToLimit:"To export, you will need to spend lip sync minutes or remove your Persona layers if you do not have enough lip sync minutes. Exporting with Persona layers",children:f.jsxs("div",{className:cZe,children:[e,f.jsx(RZe,{children:f.jsx("div",{className:uZe})})]})})})})}if(e)return f.jsxs(f.Fragment,{children:[l(f.jsx("div",{className:`${aZe} ${nZe} ${a?dZe:""}`,children:t?i:r})),this.props.videoId&&!a&&!this.props.isDraft&&f.jsx($Xe,{videoId:this.props.videoId,handleClick:()=>{Rne(ZS.HISTORY)}})]});return l(e?f.jsx("div",{className:`${aZe} ${nZe} ${a?dZe:""}`,children:t?i:r}):f.jsxs("div",{className:oZe,children:[f.jsx(pZe,{handleClick:this.validateUsageAndOpenExportPanel,exportBlocked:!!n,isBrandKitTemplate:!!a,shrinkCreateButton:!!t,exportBlockedOnDurationPro:!0}),this.props.videoId&&!a&&f.jsx($Xe,{videoId:this.props.videoId,handleClick:()=>{Rne(ZS.HISTORY)}})]}))}}const FZe=vC(r.connect((e=>{const{studio:t,currentUser:a,assets:{byId:n}}=e,s=!a.token,o=hg(Fd.ENHANCE_IMAGE),i=Gx(e),l=!o&&i.some((e=>{var t;return e.isEnhancedImage||e.asset_id&&"enhanced-image"===(null==(t=n[e.asset_id])?void 0:t.usedProFeature)})),d=hg(Fd.REMOVE_BACKGROUND),c=!d&&i.some((e=>{var t;return e.backgroundRemoved||e.asset_id&&"remove-background"===(null==(t=n[e.asset_id])?void 0:t.usedProFeature)})),u=!d&&i.some((e=>{var t;return null==(t=e.usedProFeatures)?void 0:t.includes("remove-video-background")})),p=!hg(Fd.CLEAN_AUDIO)&&i.some((e=>{var t;return e.asset_id&&"clean-audio"===(null==(t=n[e.asset_id])?void 0:t.usedProFeature)})),m=hg(Fd.SMART_CUT),g=!m&&i.some((e=>{var t;return(null==(t=e.usedProFeatures)?void 0:t.includes("smart-cut"))&&e.type===Nc.Video})),h=!m&&i.some((e=>{var t;return(null==(t=e.usedProFeatures)?void 0:t.includes("smart-cut"))&&e.type===Nc.Audio})),v=hg(Fd.AUDIOGRAM),f=cL(e).length>0,b=!v&&(i.some((e=>{var t;return null==(t=e.usedProFeatures)?void 0:t.includes("audiogram")}))||f),y=!hg(Fd.UNLIMITED_EXPORT_DURATION_LIMIT)&&t.duration>240,w=!hg(Fd.UNLIMITED_UPLOAD_SIZE_LIMIT)&&C4(e),_=!hg(Fd.PREMIUM_ASSETS)&&i.some((e=>{var t;return null==(t=e.usedProFeatures)?void 0:t.includes("premium-assets")})),C=t.duration>7200,S=_||y||C||w||c||p||h||g||u||b||l;let x=[];c&&x.push(Dd.BACKGROUND_IMAGE_ERASE),_&&x.push(Dd.PREMIUM_ASSETS),w&&x.push(Dd.UPLOAD_LIMIT),y&&x.push(Dd.SINGLE_VIDEO_DURATION_LIMIT),p&&x.push(Dd.CLEAN_AUDIO),g&&x.push(Dd.SMART_CUT_VIDEO),h&&x.push(Dd.SMART_CUT_AUDIO),u&&x.push(Dd.REMOVE_VIDEO_BACKGROUND),b&&x.push(Dd.AUDIOGRAM_BAR),l&&x.push(Dd.ENHANCE_IMAGE),0===x.length&&(x=[Dd.DEFAULT]),r.shallowEqual(x,MZe)?x=MZe:MZe=x;const I=Pp(i.filter((e=>up(e))));return{type:NZe(e),exportBlocked:S,exportBlockedAction:x[0]||Dd.DEFAULT,allExportBlockingActions:x,exportBlockedOnRemoveBg:c,exportBlockedOnCleanAudio:p,exportBlockedOnEnhanceImage:l,exportBlockedOnSmartCutAudio:h,exportBlockedOnSmartCutVideo:g,exportBlockedOnAudiogram:b,exportBlockedOnRemoveVideoBackground:u,exportBlockedOnDuration:y,exportBlockedOnDurationPro:C,exportBlockedOnFilesize:w,estimatedLipSyncCostOnExport:I,freeUserDurationLimitWarned:gK(e,"freeUserDurationLimitWarned"),freeUserFileSizeLimitWarned:gK(e,"freeUserFileSizeLimitWarned"),proUserDurationLimitWarned:gK(e,"proUserDurationLimitWarned"),cleanAudioFeatureUsedWarned:gK(e,"cleanAudioUsed"),smartCutFeatureUsedWarned:gK(e,"smartCutUsed"),removeVideoBackgroundUsedWarned:gK(e,"removeVideoBackgroundUsed"),audiogramUsedWarned:gK(e,"audiogramUsed"),premiumAssetsUsedWarned:gK(e,"premiumAssetsUsed"),enhanceImageUsedWarned:gK(e,"enhancedImageUsed"),isProjectFetched:e.studioLocal.isProjectFetched,showingTooltip:e.exports.tooltip,signedOut:s,isBrandKitTemplate:e.studio.isBrandKitTemplate,brandkitTemplates:e.teams.brandkitTemplates,videoId:e.studio._id,canWrite:e.userPermissions.canWrite,isDraft:e.studio.draft}}))(PZe)),DZe=()=>{const e=Bu();return i.useCallback((({projectIds:t,workflowIds:a,entryPoint:n})=>new Promise(((s,o)=>{wA({modalType:fA.MOVE_PROJECT,projectIds:t,workflowIds:a,onSubmit:async o=>{const i=Mu().state.workspaces.selectedWorkspace,r=await function(e,t,a){return Xf("/api/v1/projects/move",{body:{projectIds:e,workflowIds:t,destinationFolderId:a}})}(t,a,o);r.destinationFolder||s(r),r.movedProjects&&(e({type:Ite,payload:r}),Gbe({workspaceId:r.destinationFolder._id,teamId:r.destinationFolder.teamId})),r.movedWorkflows&&e(uH.moveWorkflowsSuccess({moveResult:r,sourceFolderId:i})),ov("Move Project",{"Project Action":mu.MOVE,"Number of Projects":t.length,"Number of Repurpose Projects":a.length,"Entry Point":n}),s(r)},onCancel:o})}))),[e])},OZe=()=>{const e=IA(),t=Jm();return i.useCallback(((a,n)=>new Promise(((s,o)=>{const i=async e=>{try{s(await Obe(a,e))}catch(b9e){cb({description:"Failed to copy project",error:b9e}),o(b9e)}};t?e&&t&&!n.destinationFolderId&&!n.duplicate?wA({modalType:fA.COPY_PROJECT,projectId:a,onSubmit:async e=>{await i({name:e.name||n.name,destinationFolderId:e.destinationFolderId,entryPoint:n.entryPoint})},onCancel:o}):i(n):(async()=>{try{await Wbe(n.entryPoint),ov("Copy Project",{"Project Action":mu.COPY,"Entry Point":n.entryPoint})}catch(b9e){cb({description:"Failed to copy project",error:b9e}),o(b9e)}})()}))),[e,t])},UZe=()=>{const e=IA();return i.useCallback(((t,a,n)=>new Promise(((s,o)=>{const i=async e=>{try{s(await async function(e,t){try{return await Xf(`/api/v2/project/${e}/snapshot-copy`,{body:t})}catch(b9e){throw console.error(b9e),b9e}}(t,e))}catch(b9e){cb({description:"Failed to make a copy",error:b9e}),o(b9e)}};if(!e||n.destinationFolderId)return void i(n);wA({modalType:fA.COPY_PROJECT,name:n.name,projectId:a,onSubmit:async e=>{await i({name:e.name||n.name,destinationFolderId:e.destinationFolderId,entryPoint:n.entryPoint})},onCancel:o})}))),[e])},BZe="HeaderOverflow-module_trigger_66vcx",WZe="HeaderOverflow-module_headerOverflowIcon_0PX7B",VZe="HeaderOverflow-module_dropdownContent_sVmjr",HZe="HeaderOverflow-module_headerOverflowDropdownItem_YLXD-",zZe=b.memo((()=>{const{currentUser:e,isBrandKitTemplate:t,video:a,canWrite:n}=Du((e=>({currentUser:e.currentUser,isBrandKitTemplate:!!e.studio.isBrandKitTemplate,video:e.currentVideo,canWrite:e.userPermissions.canWrite})),Ou),s=Du((e=>e.workspaces.selectedWorkspace===rd||!e.workspaces.allWorkspaces.find((t=>t._id===e.workspaces.selectedWorkspace)))),o=gg(Fd.BRANDKIT),r=qm(e),[l,d]=i.useState(!1),[c,u]=i.useState(!1),p=rse(),m=OZe(),g=i.useCallback((()=>{r?(ov("Make a brand template within the studio"),a.projectId&&Vbe(s2.STUDIO_HEADER,a.projectId)):u(!0)}),[r,u,a.projectId]),h=i.useCallback((()=>{o?g():p(g,{action:Dd.BRANDKIT})()}),[o,g,p]),v=i.useCallback((async()=>{if(r){if(a.projectId){if(!qm(e)||t)return void(await Wbe(s2.STUDIO_HEADER));const{copiedProject:n}=await m(a.projectId,{entryPoint:s2.STUDIO_HEADER});window.location.href=`/${n.videoId}/studio/editor`}}else u(!0)}),[u,e,m,t,r,a.projectId]),b=i.useCallback((()=>{if(!a.projectId||!a.workspaceId)return;const{workspaceId:e,projectId:t}=a;Jbe({projectIds:[t],workflowIds:[],onSubmit:()=>OSe(e)})}),[a]),y=i.useCallback((()=>{d(!l)}),[l]),w=i.useCallback((()=>{u(!1)}),[]),_=i.useCallback((()=>p((()=>{r?(ov("Start a new brand template within the studio"),window.open("/studio/editor/new-brand-template/","_blank")):u(!0)}),{if:!o,action:Dd.BRANDKIT})),[o,r,p]),C=i.useCallback((()=>{r?(ov("Start a new project within the studio"),window.open("/studio/editor","_blank")):u(!0)}),[r]),S=n&&a.projectId&&a.workspaceId;return f.jsxs(lr,{children:[f.jsx(dr,{className:BZe,children:f.jsx(ot,{className:WZe,onClick:y,"data-cy":"header-overflow-icon"})}),f.jsx(cr,{children:f.jsxs(ur,{side:"bottom",align:"start",className:VZe,children:[t?f.jsxs(pr,{className:HZe,onClick:_,children:["Start new brand template",!o&&f.jsx(_se,{})]}):f.jsx(pr,{className:HZe,onClick:C,children:"Start a new project"}),f.jsx(pr,{className:HZe,"data-cy":"header-overflow-copy",onClick:v,children:"Make copy"}),!t&&!s&&f.jsxs(pr,{className:HZe,onClick:h,children:["Save as Brand Template ",!o&&f.jsx(_se,{})]}),S&&f.jsx(pr,{className:HZe,"data-cy":"header-overflow-delete",onClick:b,children:"Delete this project"})]})}),c?f.jsx(ene,{hideSignIn:w}):null]})})),GZe=i.createContext({register:()=>{},scrollTo:()=>{},unregister:()=>{},currentSection:null,setCurrentSection:()=>{}}),YZe=()=>i.useContext(GZe);function KZe(e){return`project-${e}-controls`}const XZe="OnlineStatus-module_onlineStatusContainer_TE-yD",ZZe="OnlineStatus-module_containerUserNoLicense_5kNU9",qZe={marginRight:5,marginTop:2},JZe=b.memo((()=>{const e=(fR(5e3),window.navigator.onLine),t=(fR(15e3),Du(PR)||!e),{scrollTo:a}=YZe(),{timeOfLastSyncSuccess:n}=Du((e=>({timeOfLastSyncSuccess:e.studioLocal.lastSyncedUserFacing})),Ou),s=cg(),o=Du(Nb),r=Bu();let l="";if(n){l=`Last ${t?"saved":"edited"} ${de.duration(-de().diff(de(n))).humanize(!0)} `}const d=i.useCallback((()=>{r(ck(null)),requestAnimationFrame((()=>{a(KZe("Versions"))}))}),[r,a]);return o&&l?f.jsx("div",{className:`${XZe} ${s.type!==Id.Free?"":ZZe}`,onClick:d,children:t?f.jsxs(f.Fragment,{children:[f.jsx(pn,{color:"grey",size:14,style:qZe}),l]}):l}):null})),$Ze="ProjectName-module_projectNameContainer_rZhjg",QZe="ProjectName-module_hiddenSpan_SxMsA";class eqe extends i.Component{constructor(e){super(e),a(this,"inputRef",b.createRef()),a(this,"spanRef",b.createRef()),a(this,"fetchAndSetVideoName",(async()=>{const{videoId:e}=this.props;if(e){const t=await Q6(e);this.setState({name:t})}})),a(this,"projectNameOnChange",(e=>{this.setState({name:e.target.value})})),a(this,"projectNameOnSubmit",(()=>{const{name:e}=this.state;e&&jK(e)})),a(this,"getDefaultName",(()=>{const e=this.state.editorPath;return this.props.isBrandKitTemplate?"Untitled Template":YC[e]||ql})),a(this,"onEnterPressed",(e=>{var t;"Enter"===e.code&&!1===e.shiftKey&&(e.preventDefault(),null==(t=this.inputRef.current)||t.blur())})),this.state={editorPath:"",name:"",width:0}}componentDidMount(){var e;const{name:t}=this.props;this.setState({name:t,width:(null==(e=this.spanRef.current)?void 0:e.offsetWidth)||0}),this.fetchAndSetVideoName()}componentDidUpdate(e,t){var a;const{name:n,videoId:s}=this.props;this.state.name!==t.name&&this.setState({width:(null==(a=this.spanRef.current)?void 0:a.offsetWidth)||0}),n!==e.name&&(this.setState({name:n}),jK(n)),s!==e.videoId&&s&&this.fetchAndSetVideoName()}render(){const{name:e,width:t}=this.state,a=e||this.getDefaultName(),n=`${a}  Kapwing`;return f.jsxs(f.Fragment,{children:[f.jsx(Nt,{children:f.jsx("title",{children:n})}),f.jsx("span",{className:QZe,ref:this.spanRef,children:a}),f.jsx("input",{ref:this.inputRef,disabled:this.props.disabled,className:$Ze,style:{width:t},"data-cy":"studio-project-name-field",onChange:this.projectNameOnChange,onBlur:this.projectNameOnSubmit,onKeyDown:this.onEnterPressed,placeholder:this.getDefaultName(),value:e})]})}}const tqe=r.connect((e=>({name:e.studio.name,currentUser:e.currentUser,isBrandKitTemplate:e.studio.isBrandKitTemplate,editorPath:e.editorPath,workflowId:e.studio.workflowId,videoId:e.studio._id})),(e=>j({},e)))(eqe),aqe=e=>i.createElement("svg",{width:"1.41em",height:"1em",viewBox:"0 0 313 222",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},i.createElement("mask",{id:"outer-ring",fill:"white"},i.createElement("rect",{width:313,height:222,rx:15})),i.createElement("rect",{width:313,height:222,rx:15,stroke:"#18E1D6",strokeWidth:80,mask:"url(#outer-ring)"}),i.createElement("mask",{id:"inner-ring",fill:"white"},i.createElement("rect",{x:227,width:222,height:140,rx:15})),i.createElement("rect",{x:227,width:222,height:140,rx:15,transform:"rotate(90 227 0)",stroke:"#F54A87",strokeWidth:80,mask:"url(#inner-ring)"}),i.createElement("circle",{cx:156.5,cy:153.5,r:20.5,fill:"#FFC700"})),nqe={workspacePopoverZIndex:"18",popoverZIndex:"14",paywallZIndex:"1001",paywallBgZIndex:"1000",home:"WorkspaceElementTypeIcon-module_home_clP98",homeHowBackgroundWhite:"WorkspaceElementTypeIcon-module_homeHowBackgroundWhite_x-oPu",largeButton:"WorkspaceElementTypeIcon-module_largeButton_-Lq8-",sectionContent:"WorkspaceElementTypeIcon-module_sectionContent_Qtlk6",sectionHeader:"WorkspaceElementTypeIcon-module_sectionHeader_1x2LG",spacer:"WorkspaceElementTypeIcon-module_spacer_bnQkR",chevron:"WorkspaceElementTypeIcon-module_chevron_B6pVJ",splashText:"WorkspaceElementTypeIcon-module_splashText_MLkqG",splashSubtext:"WorkspaceElementTypeIcon-module_splashSubtext_fGdpJ",aboutSection:"WorkspaceElementTypeIcon-module_aboutSection_FseS1",mobile:"WorkspaceElementTypeIcon-module_mobile_0pyis",desktop:"WorkspaceElementTypeIcon-module_desktop_f5Oho",screenReaderOnlyLabel:"WorkspaceElementTypeIcon-module_screenReaderOnlyLabel_xOoq1",disabled:"WorkspaceElementTypeIcon-module_disabled_SZiRM",disabledWithPointerEvents:"WorkspaceElementTypeIcon-module_disabledWithPointerEvents_K0iM7",noScrollBar:"WorkspaceElementTypeIcon-module_noScrollBar_Frihr",textOverflowEllipsis:"WorkspaceElementTypeIcon-module_textOverflowEllipsis_yQ1id",disableTextHighlight:"WorkspaceElementTypeIcon-module_disableTextHighlight_BhhQR",genericButtonBlue:"WorkspaceElementTypeIcon-module_genericButtonBlue_PcJ2k",projectIcon:"WorkspaceElementTypeIcon-module_projectIcon_YF-86",absolute:"WorkspaceElementTypeIcon-module_absolute_bGnRb",projectIconText:"WorkspaceElementTypeIcon-module_projectIconText_DVS2f","icon-video":"WorkspaceElementTypeIcon-module_icon-video_C79Lm","icon-workflow":"WorkspaceElementTypeIcon-module_icon-workflow_scbqM"},sqe=b.memo((({elementType:e,text:t,absolute:a,className:n})=>{const s=(e=>e===gu.WORKFLOW?f.jsx(aqe,{}):null)(e),o=s||t?f.jsxs(f.Fragment,{children:[s||null,t?f.jsx("span",{className:nqe.projectIconText,children:t}):null]}):null;return o?f.jsx("div",{className:L(nqe.projectIcon,a?nqe.absolute:void 0,nqe[`icon-${e}`],n),children:o}):null})),oqe=b.memo((()=>{const e=Du((e=>e.studio.workflowId)),[t,a]=i.useState(""),[n,s]=i.useState(0);return i.useEffect((function(){e&&async function(){const t=await Kf(`/api/v2/workflows/highlights/${e}/name`);a(t.name),s(t.highlightCount)}().catch(console.error)}),[e]),e?f.jsxs("div",{className:mSe,children:[n>0&&f.jsx("div",{className:TSe,children:f.jsx(mn,{to:`/repurpose/${e}`,children:f.jsx(sqe,{elementType:gu.WORKFLOW,text:n.toString(),className:ESe})})}),f.jsx(mn,{to:`/repurpose/${e}`,className:hSe,children:t}),f.jsx(Ea,{className:gSe})]}):null}));const iqe=()=>{const e=Du((e=>e.presence.users)),t=Bg()?2:3,a=Object.keys(e).length,n=i.useCallback((e=>{null!=e&&function(e,t,a){var n;const s=t*window.devicePixelRatio;e.width=s,e.height=s;const o=e.getContext("2d");if(o){o.fillStyle="#78909C",o.fillRect(0,0,s,s),o.font=`normal ${s/2}px sans-serif`,o.textAlign="center",o.textBaseline="middle",o.fillStyle="white";const e=(null==(n=null==a?void 0:a.split(" ")[0])?void 0:n[0])??"";o.fillText(e,s/2,s/2)}}(e,20,e.dataset.name||"")}),[]),s=[{user:{...Ub(),name:"You"},userId:"me"},...Object.entries(e).map((([e,{user:t}])=>({user:t,userId:e})))];return 0===a?null:f.jsxs("div",{className:fSe,children:[s.map((({user:e,userId:a},s)=>{const o={border:`2px solid ${e.color}`};return s>=t?null:f.jsx(LSe,{content:e.name,children:f.jsx("div",{className:bSe,children:e.profileImg?f.jsx("img",{src:e.profileImg,alt:"User icon",className:ySe,style:o}):f.jsx("canvas",{ref:n,"data-name":e.name,className:ySe,style:o})},a)},a)})),a>t&&f.jsx(LSe,{content:`+ ${a-t} more`,children:f.jsx("div",{className:bSe,children:f.jsx(vn,{className:wSe})})})]})},rqe=b.memo((({isMobile:e})=>{const{commentsOpen:t,userPermissions:a,canWrite:n}=Du((e=>({commentsOpen:e.comments.commentsOpen,userPermissions:e.userPermissions,canWrite:e.userPermissions.canWrite})),Ou),s=Bu(),o=F(),r=i.useRef(null);i.useEffect((()=>{const e=Object.keys(a).length>0,t=new URLSearchParams(o.search);(e&&!a.canWrite||"true"===t.get(G1.COMMENT))&&s(vG(!0))}),[s,o.search,a,e]);return n?f.jsx(LSe,{content:"Comments",children:f.jsx("div",{className:`${t?lSe:rSe} ${n?"":CSe}`,onClick:()=>{n&&s(vG(!t))},ref:r,"data-cy":"header-comments-button",children:f.jsx(gn,{className:kSe})})}):null})),lqe=b.memo((({disabled:e=!1})=>f.jsx(LSe,{content:"Settings",children:f.jsx("div",{className:`${iSe}\n      ${ASe}\n      ${e?QCe:""}`,onClick:t=>{e||(aR("/studio/editor/settings"),t.stopPropagation())},"data-cy":"header-settings-button",children:f.jsx(hn,{className:SSe})})}))),dqe=e=>{const{currentUser:t}=e,a=Du((e=>e.currentUser)),n=t||a,[s,o]=i.useState(!1),r=P(),{redirectSource:l}=QKe(),d=l===$Ke.REQUEST_TO_EDIT,c=i.useCallback((()=>{o(!1)}),[]);return qm(n)?f.jsx("div",{className:cSe,onPointerDown:e=>{r({pathname:"/home"},{state:{openModal:xXe.account,redirectSource:d?$Ke.REQUEST_TO_EDIT:void 0}}),e.stopPropagation()},"data-cy":"account-nav-button",children:f.jsx(xve,{absoluteWidth:30,absoluteHeight:30})}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:`${iSe} ${pSe}`,onPointerDown:()=>{o(!0)},"data-cy":"signin-nav-button",children:"Sign In"}),s&&f.jsx(ene,{hideSignIn:c})]})},cqe=b.memo((({disabled:e})=>{const t=Du((e=>!hK(e)));return a=f.jsx("div",{className:`${iSe} ${e?QCe:""}`,onClick:t=>{e||(Mu().dispatch(A4.open()),t.stopPropagation())},"data-cy":"header-upload-button",children:f.jsx(ma,{className:dSe})}),t?f.jsx(fke,{id:cZ.Upload,portal:!0,children:a}):f.jsx(LSe,{content:"Upload",children:a});var a})),uqe=({currentFolderId:e})=>{let t="/home";const a=P(),{redirectSource:n,pushWithSource:s}=QKe(),o=Du((e=>e.currentUser.user.onboarding)),r=!((null==o?void 0:o.skipped)||(null==o?void 0:o.survey));return i.useEffect((function(){(async()=>{n===$Ke.REQUEST_TO_EDIT&&(c5({callToAction:Qh.RequestToEditEmail}),r&&(await $K({skipped:!0}),await Qf()))})()}),[r,n]),e&&!r&&(t=`/folder/${e}`),f.jsx("div",{className:uSe,onClick:e=>{n===$Ke.REQUEST_TO_EDIT?s(t,n):a(t),e.stopPropagation()},children:f.jsx("img",{src:"https://cdn-useast1.kapwing.com/static/gdu-kapwing-logo-transparent.webp",className:eSe,alt:"Kapwing Logo","data-cy":"studio-header-logo"})})},pqe=b.memo((function({videoFetched:e}){const t=Bg(),a=Bu(),{currentUser:n,shouldHidePreview:s,isBrandKitTemplate:o,canWrite:r,userTeamInvites:l,videoTeamId:d,videoFolderId:c}=Du((e=>({currentUser:e.currentUser,showCanvas:e.studio.showCanvas,shouldHidePreview:hK(e),isBrandKitTemplate:e.studio.isBrandKitTemplate,canWrite:e.userPermissions.canWrite,userTeamInvites:e.teams.userTeamInvites,videoTeamId:e.studio.teamId,videoFolderId:e.studio.workspaceId})),Ou),u=jfe(),p=Mb(n),{isRecording:m}=EHe(),{showUpgrades:g}=cg(),[h,v]=i.useState(),b=null==l?void 0:l.find((e=>e.team._id===d)),y=h===Zl.personal,w=!r&&(b||!y),_=i.useCallback((async()=>{try{if(await Wb(),c&&!r){const e=await O3(c);v(e)}}catch(b9e){console.error(b9e)}}),[r,c]);i.useEffect((()=>{_()}),[_]);const C=e=>{e.stopPropagation()};return f.jsx(Qi,{children:f.jsxs("div",{className:tSe+(p?` ${aSe}`:""),onClick:()=>a(ck(null)),children:[qm(n)&&f.jsx(nxe,{className:xSe}),f.jsxs("div",{className:nSe,children:[f.jsx(uqe,{currentFolderId:null==u?void 0:u._id}),f.jsxs("div",{className:mSe,"data-cy":"breadcrumbs",children:[(()=>{if(o&&qm(n))return f.jsx(mn,{to:"/brandkit",onClick:C,className:hSe,children:"Brand Templates"});if(!(null==u?void 0:u._id)||!qm(n))return f.jsx(mn,{to:"/",onClick:C,className:hSe,children:"Kapwing"});const e=!!c&&c!==u._id;return f.jsx(mn,{to:e?"/shared-with-me":`/folder/${u._id}`,onClick:C,className:hSe,"data-testid":"header-breadcrumb-link",translate:"no",children:e?"Shared with Me":null==u?void 0:u.name})})(),f.jsx(Ea,{className:gSe})]}),f.jsx(oqe,{}),f.jsxs("span",{className:_Se,children:[f.jsx(tqe,{disabled:!r}),f.jsx(zZe,{})]}),r&&f.jsx(cqe,{disabled:!r}),r&&f.jsx(qKe,{}),g&&r&&f.jsx($Ce,{className:vSe,action:Dd.STUDIO}),qm(n)&&f.jsx(SXe,{className:vSe})]}),w&&f.jsx("div",{className:sSe,children:b?f.jsx(fXe,{invite:b}):!y&&f.jsx(yXe,{})}),f.jsxs("div",{className:oSe,children:[f.jsx(JZe,{}),!t&&f.jsx(iqe,{}),f.jsx(rqe,{isMobile:t}),r&&f.jsx(lqe,{disabled:!r}),f.jsx(PSe,{}),f.jsx(FZe,{videoFetched:e,disabled:s||m,shrinkCreateButton:t}),f.jsx(yIe,{}),f.jsx(dqe,{currentUser:n})]})]})})})),mqe="Header-module_breadcrumbContainer_XBeCs",gqe="Header-module_headerContainer_suIgL",hqe="Header-module_sharing_6AOfr",vqe="Header-module_headerLeft_1e-qf",fqe="Header-module_headerRight_SXqY3",bqe="Header-module_breadcrumbLink_DYZ1g",yqe="Header-module_upgradeLabel_rkqrZ",wqe="Header-module_projectName_x8nat",_qe="Header-module_noEdit_OTlFP",Cqe="Header-module_projectNameContainer_l4BQ6",Sqe="Header-module_icon_QaYWm";var xqe=(e=>(e.Clips="clips",e.Projects="projects",e))(xqe||{});const Iqe=b.createContext({showNewBlueprintTooltip:!1,setShowNewBlueprintTooltip:()=>{},selectedTab:"clips",setSelectedTab:()=>{},currentFolder:void 0,currentTeam:void 0,permissions:{},workflowId:"",speakerFocusIsDisabled:!1,emojiTimestamps:[],setEmojiTimestamps:()=>{}}),Aqe=({workflowId:e,children:t})=>{const a=Du((t=>t.workflows.workflowById[e])),n=Bu(),[s,o]=i.useState(!1),[r,l]=i.useState([]),[d,c]=i.useState("clips"),u=lg(),p=jfe(),m=Du((e=>e.userPermissions)),g=i.useMemo((()=>{if("success"!==(null==a?void 0:a.status))return;const{data:e}=a;return e}),[a]);i.useEffect((function(){return g&&n(Jte(g.permissions)),function(){n($te())}}),[n,g,null==g?void 0:g.permissions,e]),i.useEffect((function(){return(null==g?void 0:g.folderId)&&g.teamId&&(n(wf(g.folderId)),n(bb(g.teamId))),()=>{n(wf("")),n(bb(""))}}),[n,null==g?void 0:g.folderId,null==g?void 0:g.teamId]);const h=i.useMemo((()=>{var e;return!!g&&(fu(g)&&"success"!==(null==(e=g.visionJob)?void 0:e.status))}),[g]),v=i.useMemo((()=>({showNewBlueprintTooltip:s,setShowNewBlueprintTooltip:o,selectedTab:d,setSelectedTab:c,currentFolder:p,currentTeam:u,permissions:m,workflowId:e,speakerFocusIsDisabled:h,emojiTimestamps:r,setEmojiTimestamps:l})),[s,d,p,u,m,e,h,r]);return f.jsx(Iqe.Provider,{value:v,children:t})},kqe=()=>{const e=Bu(),t=b.useContext(Iqe),a=Du((e=>e.currentUser));return i.useEffect((function(){!t&&$m(a)&&e(db({type:"error",description:"development error: useRepurposeWorkflowContext must be used within a RepurposeWorkflowContextProvider"}))}),[t,a,e]),t},Tqe=({workflow:e,style:t})=>{const a=Du((e=>e.currentUser)),{showUpgrades:n}=cg(),[s,o]=i.useState((null==e?void 0:e.name)||"Untitled Repurpose Project");i.useEffect((function(){o((null==e?void 0:e.name)||"Untitled Repurpose Project")}),[null==e?void 0:e.name]);const{permissions:r}=kqe(),l=jfe(),d=(null==e?void 0:e._id)&&OK(e._id),c=!(null==e?void 0:e._id),u=e=>{e.stopPropagation()};return f.jsxs("div",{className:gqe,style:t,children:[f.jsxs("div",{className:vqe,children:[f.jsx(uqe,{currentFolderId:null==l?void 0:l._id}),f.jsxs("div",{className:mqe,"data-cy":"breadcrumbs",children:[f.jsx(f.Fragment,{children:l&&(c||l._id===(null==e?void 0:e.folderId))&&f.jsx(mn,{to:`/folder/${l._id}`,onClick:u,className:bqe,"data-testid":"header-breadcrumb-link",translate:"no",children:(null==l?void 0:l.name)||f.jsx(v_,{})})}),f.jsx(Ea,{className:Sqe})]}),f.jsx("span",{className:wqe,children:c?f.jsx("div",{className:_qe,children:"New Repurpose Project"}):r.canRename?f.jsx("input",{disabled:!r.canRename,className:Cqe,onChange:e=>o(e.target.value),onBlur:()=>{e&&e7(e._id,s)},onKeyDown:e=>o(e.target.value),placeholder:"Highlight Clips",value:s}):f.jsx("div",{className:_qe,children:s})}),n&&f.jsx($Ce,{className:yqe,action:Dd.REPURPOSE_STUDIO_HEADER}),qm(a)&&f.jsx(SXe,{className:yqe})]}),f.jsxs("div",{className:fqe,children:[!d&&f.jsx(PSe,{}),f.jsx(dqe,{currentUser:a})]})]})},Eqe=b.memo((()=>{const e=jfe();return f.jsx("div",{className:L(gqe,hqe),children:f.jsx("div",{className:vqe,children:f.jsx(uqe,{currentFolderId:null==e?void 0:e._id})})})})),Lqe="PersonalizedShare-module_container_K5Kid",jqe="PersonalizedShare-module_hero_k6qjW",Rqe="PersonalizedShare-module_title_qD6SK",Nqe="PersonalizedShare-module_description_7hywL",Mqe="PersonalizedShare-module_primary_A0sMo",Pqe="PersonalizedShare-module_secondary_pW7Nv",Fqe="PersonalizedShare-module_shareLink_9Howr",Dqe="PersonalizedShare-module_clipboard_Sck4m",Oqe="PersonalizedShare-module_link_fHevq",Uqe="PersonalizedShare-module_copyButton_VKvLr",Bqe="PersonalizedShare-module_modal_jpXdJ",Wqe=i.lazy((()=>EC((()=>import("./Confetti-D59c2c92.js")),__vite__mapDeps([3,0,1])))),Vqe=[3,6,10],Hqe={maxWidth:"600px"},zqe=()=>{const{setUpsellShown:e,getUpsellShownCount:t,getUpsellDateAcknowledged:a}=zCe(),n=i.useCallback((async t=>!a(HCe.RepurposePersonalizedShare)&&(await e(HCe.RepurposePersonalizedShare),await Qf(),ov("Personalized Promo Shown"),wA({modalType:fA.REPURPOSE_PERSONALIZED_SHARE,overlayWrapperProps:{dark:!0,style:Hqe},...t}),!0)),[a,e]),s=i.useCallback((async e=>{if(a(HCe.RepurposePersonalizedShare))return!1;const s=await(async({startDate:e,endDate:t}={})=>await Kf(`/api/v2/workflows/user/workflows/count${qw({[Xw.START_DATE]:null==e?void 0:e.toISOString(),[Xw.END_DATE]:null==t?void 0:t.toISOString()})}`))({startDate:new Date("Mon Feb 05 2024 12:00:00 GMT-0800 (Pacific Standard Time)")}),o=t(HCe.RepurposePersonalizedShare)??0;return!!(Vqe.includes(s)&&o<3)&&n(e)}),[a,t,n]);return i.useMemo((()=>({showPersonalizedShareModal:n,showPersonalizedShareModalIfNeeded:s})),[n,s])},Gqe=b.memo((()=>{const e=Du((e=>e.currentUser)),t=Bu(),a=qw({[Xw.UTM_SOURCE]:"custom_share",[Xw.UTM_MEDIUM]:"share",[Xw.UTM_CAMPAIGN]:"invite_a_friend",[Xw.REPURPOSE_ENTRY_POINT]:"personalized_invite"}),n=i.useMemo((()=>`${window.location.href}${a}`),[a]),s=i.useMemo((()=>Jw(Xw.SHARER_ID)===e.user._id),[e.user._id]),o=i.useCallback((()=>{navigator.clipboard.writeText(n),t(db({description:"Your invite link has been copied to your clipboard.",type:"success"})),ov("Copy Personalized Invite")}),[t,n]);i.useEffect((function(){s||ov("Accept Personalized Invite")}),[s]);const{title:r,description:l}=i.useMemo((()=>{const e=I.capitalize(Jw(Xw.SHARER));return{title:e?f.jsxs(f.Fragment,{children:[f.jsxs("div",{children:[e," is inviting you to try Repurpose Studio."]}),f.jsx("div",{children:"Enjoy your first 60 minutes on us."})]}):f.jsxs(f.Fragment,{children:[f.jsx("div",{children:"You are invited to try Repurpose Studio."}),f.jsx("div",{children:"Enjoy your first 60 minutes on us."})]}),description:e?f.jsxs(f.Fragment,{children:[f.jsxs("div",{children:["Join ",e," and thousands of creators who repurpose their content on Kapwing."]}),f.jsx("div",{children:"Repurpose Studio turns a long video or audio file into multiple short-form clips already optimized for social media."})]}):f.jsx(f.Fragment,{children:"Join thousands of creators who repurpose their content on Kapwing. Repurpose Studio turns a long video or audio file into multiple short-form clips already optimized for social media."})}}),[]),{leftConfettiProps:d,rightConfettiProps:c}=i.useMemo((()=>({leftConfettiProps:{angle:60,origin:{x:-.15,y:.75}},rightConfettiProps:{angle:120,origin:{x:1.15,y:.75}}})),[]);return f.jsxs(f.Fragment,{children:[f.jsx(Eqe,{}),f.jsxs("div",{className:Lqe,children:[f.jsx(Wqe,{...d}),f.jsx(Wqe,{...c}),f.jsx("video",{playsInline:!0,autoPlay:!0,muted:!0,loop:!0,className:jqe,children:f.jsx("source",{src:"https://cdn-useast1.kapwing.com/static/Q_m-repurpose_animation_V1.mp4"})}),f.jsx("div",{className:Rqe,children:r}),f.jsx("div",{className:Nqe,children:l}),s&&f.jsxs("button",{className:Fqe,onClick:o,children:[f.jsx("div",{className:Dqe,children:f.jsx(fn,{})}),f.jsx("div",{className:Oqe,children:n}),f.jsx("div",{className:Uqe,children:"Copythisinvite"})]}),!s&&f.jsx("a",{href:`/repurpose/create${a}`,className:Mqe,children:"Start new project"}),!s&&f.jsx("a",{href:`/ai/clip-maker${a}`,className:Pqe,children:"Learn more"})]})]})})),Yqe={color:"#A0A0A0"},Kqe=b.memo((({onCancel:e,onSubmit:t})=>{const a=Du((e=>e.currentUser)),{setUpsellAcknowledged:n}=zCe(),s=`/repurpose/sharing${qw({[Xw.SHARER]:a.user.firstName??a.user.name.split(" ")[0],[Xw.SHARER_ID]:a.user._id,[Xw.UTM_SOURCE]:"custom_share",[Xw.UTM_MEDIUM]:"share",[Xw.UTM_CAMPAIGN]:"invite_a_friend"})}`,o=i.useCallback((async()=>{await n(HCe.RepurposePersonalizedShare),await Qf(),yA(),null==t||t(),Jye({url:s,toastInfo:{description:["Allow pop-ups and redirects in your browser to continue, or ",{text:"open your invite here",href:s}]}}),ov("View Personalized Invite")}),[t,n,s]),r=i.useCallback((()=>{yA(),null==e||e()}),[e]);return f.jsxs("div",{className:Bqe,children:[f.jsx("div",{className:Rqe,children:" Give others free access to Repurpose Studio"}),f.jsx("img",{className:jqe,src:"https://cdn-useast1.kapwing.com/static/-2U-repurpose-share.webp",alt:"Tell a friend about Repurpose Studio!"}),f.jsxs("div",{className:Nqe,children:["Help others get the most out of their content by inviting them to try Repurpose Studio. Copy and share this link to a personalized invitation and give them ",f.jsx("strong",{children:"60 free minutes."})]}),f.jsx(U_,{cancelFn:r,confirmFn:o,confirmText:"Open my invite",cancelText:"Maybe later",cancelStyle:Yqe})]})}));function Xqe(e=!0){const{hostname:t}=window.location;return function(e,t=!0){return"localhost"===e?t?"localhost:5000":"kapwing-dev.com":e}(t,e)}function Zqe(e,t="c",a=!0){const{protocol:n}=window.location;return`${n}//${Xqe(a)}/${t}/${e}`}function qqe(e){if(null==e||!e.length)throw new Error("Missing short code for sharing.");const{protocol:t}=window.location;return`${t}//${function(e=!0){let{hostname:t}=window.location;return"localhost"===t&&(t=e?"localhost:5000":"www.kapwing-dev.com"),t}()}/e/${e}`}const Jqe="ShareEmbed-module_container_WvSMG",$qe="ShareEmbed-module_title_gn8l-",Qqe="ShareEmbed-module_description_vp5AA",eJe="ShareEmbed-module_linkText_Zm-VL",tJe="ShareEmbed-module_copyLink_zHzG-",aJe="ShareEmbed-module_textAreaContainer_5UmKe",nJe="ShareEmbed-module_optionsContainer_MRySt",sJe=({exportType:e,entryPoint:t})=>{const a=Du((e=>e.currentVideo)),[n,s]=i.useState(!1),o=i.useRef(!1),r=i.useRef(null);i.useEffect((()=>()=>{r.current&&clearTimeout(r.current)}),[]);const l=(()=>{const{_id:t,height:n=1,width:s=1}=a||{},o=qqe(t),i=(()=>{if(!e)return"Video";switch(e){case Rye.GIF:return"Gif";case Rye.IMAGE:return"Image";default:return"Video"}})(),r=n/s*100;let l=`height: 0; padding-bottom: ${`calc(${r.toFixed(2)}%)`}; position:relative; width: 100%;`;if(r>100){const e=300;l=`height: ${(e*n/s).toFixed(2)}px; width: ${e.toFixed(2)}px; position:relative;`}return`<div style="${l}">${`<iframe allow="autoplay; gyroscope;" allowfullscreen height="100%" referrerpolicy="strict-origin" src="${o}" style="border:0; height:100%; left:0; overflow:hidden; position:absolute; top:0; width:100%" title="Embedded content made on Kapwing" width="100%"></iframe>`}</div><p style="font-size: 12px; text-align: right;">${i} edited on <a href="https://www.kapwing.com/video-editor">Kapwing</a></p>`})(),d=()=>{navigator.clipboard.writeText(l),!o.current&&(null==a?void 0:a._id)&&(ov("Copied Embed Code",{"Entry Point":t,"Video ID":a._id}),o.current=!0),s(!0),r.current=setTimeout((()=>s(!1)),3e3)},c=e=>{e.target.select()};return f.jsxs("div",{className:Jqe,children:[f.jsx("div",{className:$qe,children:"Embed Project"}),f.jsx("div",{className:Qqe,children:"Copy and paste the following code into your website or blog to embed this project on the published page."}),f.jsxs(f.Fragment,{children:[f.jsx("div",{className:aJe,children:f.jsx("textarea",{className:eJe,id:"embed-text",onClick:c,value:l,readOnly:!0})}),f.jsx("div",{className:nJe,children:f.jsx("button",{className:tJe,"data-clipboard-target":"#embed-text",onClick:d,children:n?"Copied!":"Copy code"})})]})]})},oJe="ProjectLimitOverlay-module_upgradeButton_EJbRz",iJe="ProjectLimitOverlay-module_overlayContainer_i5aX3",rJe="ProjectLimitOverlay-module_header_5NnaC",lJe="ProjectLimitOverlay-module_contentContainer_UwK-W",dJe="ProjectLimitOverlay-module_buttonsContainer_Zqo0y",cJe="ProjectLimitOverlay-module_primaryButton_m49I-",uJe="ProjectLimitOverlay-module_bold_1zaZp",pJe="ProjectLimitOverlay-module_text_kNZ9n",mJe=b.memo((({exitOverlay:e,goToStudio:t,currentFolderId:a})=>{const n=rse(),{nextLockedProjectName:s}=Du((e=>{var t,n;const s=e.projects.projectIdsByFolderId[a]||[];let o;if(s.length>=3){const a=s[s.length-3];a&&(o=null==(n=null==(t=e.projects.byId[a])?void 0:t.content)?void 0:n.name)}return{nextLockedProjectName:o}}),r.shallowEqual),o=cg(),l=i.useCallback((()=>{n((()=>{}),{action:Dd.STORAGE_LIMIT})()}),[n]);return f.jsx(rC,{unsetCancelModal:e,overlayContainerSmall:!0,usePortal:!0,children:f.jsxs("div",{className:iJe,children:[f.jsxs("div",{className:rJe,children:["You have used ",3," of"," ",3," free projects"]}),f.jsxs("div",{className:lJe,children:[f.jsxs("div",{className:pJe,children:["As a ",f.jsx("span",{children:o.is(Id.Basic)?"Basic":"Free"})," ","plan user, you only have access to the 3 most recently created projects in a folder.",f.jsx("br",{}),f.jsx("br",{}),"Creating a new project will lock your most recent project"," ",f.jsx("span",{className:uJe,children:s}),", making it no longer editable. Get access to all projects, create as many projects as you want, and gain premium features when you upgrade to Kapwing Pro."]}),f.jsxs("div",{className:dJe,children:[f.jsxs("div",{className:oJe,onClick:l,children:["Upgrade ",f.jsx(_se,{})]}),f.jsx("div",{className:cJe,onClick:t,children:"Create a New Project"})]})]})]})})})),gJe="BrandkitTemplates-module_sectionHeader_M8xAB",hJe="BrandkitTemplates-module_templateSectionContainer_rfNdQ",vJe="BrandkitTemplates-module_sectionHeaderContainer_LMI1W",fJe="BrandkitTemplates-module_sectionHeaderControls_kweXd",bJe="BrandkitTemplates-module_templatesContainer_s5VW3",yJe="BrandkitTemplates-module_templateContainer_JxR9C",wJe="BrandkitTemplates-module_blurredThumbnail_gPUAM",_Je="BrandkitTemplates-module_blurred_WCVx9",CJe="BrandkitTemplates-module_templateThumbnail_i5TKZ",SJe="BrandkitTemplates-module_plusButton_BUcG6",xJe="BrandkitTemplates-module_templateName_aRvkh",IJe="BrandkitTemplates-module_templateContent_bZFei",AJe="BrandkitTemplates-module_plusButtonText_aVI-9",kJe="BrandkitTemplates-module_plusSvg_lsCGm",TJe="BrandkitTemplates-module_proSparkle_9KOdX",EJe=b.memo((({template:e})=>{const t=P(),a=gg(Fd.BRANDKIT),n=rse(),{selectedWorkspace:s}=Du((e=>({selectedWorkspace:e.workspaces.selectedWorkspace})),Ou),[o,r]=i.useState(!1),l=async()=>{if(!e.projectId)return;const a={workspaceId:s,fromBrandkitTemplate:!0},n=(await Kf(`/api/v1/workspaces/${s}/getUsers`)).keys.length>1;a4({workspaceId:s,source:"Brand Template",workspaceHasCollaborators:n});const o=await Xf(`/api/v1/projects/${e.projectId}/copy`,{body:a});o&&o._id&&t(`/${o._id}/studio/editor`)};return f.jsxs("div",{className:yJe,children:[(()=>{const t=rS(e,"thumbnailUrl")||gd;return f.jsxs("div",{className:wJe,style:{backgroundImage:`url(${t})`},children:[f.jsx("div",{className:_Je}),f.jsx("div",{onClick:async()=>{a?(r(!0),await l(),yA()):n((()=>null),{action:Dd.BRANDKIT})()},className:CJe,style:{backgroundImage:`url(${t})`},"data-testid":"start-from-template-button",children:f.jsxs("span",{className:SJe,children:[o?f.jsx(iye,{}):f.jsx(bn,{className:kJe}),f.jsx("div",{className:AJe,children:"Start from this template"})]})})]})})(),f.jsx("div",{className:IJe,children:f.jsxs("span",{className:xJe,children:[f.jsx("span",{children:f.jsx("span",{translate:"no",children:e.name||"Untitled Template"})})," "]})})]})})),LJe=b.memo((()=>{const e=gg(Fd.BRANDKIT),{brandkitTemplates:t,selectedWorkspace:a}=Du((e=>({brandkitTemplates:e.teams.brandkitTemplates,selectedWorkspace:e.workspaces.selectedWorkspace})),Ou);return a===rd?null:!e||t&&(null==t?void 0:t.length)?f.jsxs("div",{className:hJe,children:[f.jsxs("div",{className:vJe,children:[f.jsxs("div",{className:gJe,children:["Get started from a Brand Template",!e&&f.jsx(_se,{className:TJe})]}),f.jsx("div",{className:fJe})]}),f.jsx("div",{className:bJe,style:{flexWrap:"wrap"},children:!!(null==t?void 0:t.length)&&t.map((e=>f.jsx(EJe,{template:e},e.videoId)))})]}):null}));function jJe(e,t,a){return $T(e,a).then((()=>async function(e,t){const a=t.getContext("2d");if(!a)throw new Error("Unable to get canvas context");a.drawImage(e,0,0,e.videoWidth,e.videoHeight,0,0,t.width,t.height);const n=await function(e){return new Promise((t=>{e.toBlob((e=>t(e)),"image/jpeg",.6)}))}(t);if(!n)throw new $v("Unable to get canvas blob",{extra:{url:e.src,canvasSize:{width:t.width,height:t.height},videoSize:{width:e.videoWidth,height:e.videoHeight}},tags:{readyState:e.readyState}});return n}(e,t)))}async function RJe(e){const t=Mu().state.mediaCache.assetIdToMediaCacheId[e._id];if(!t)return null;const a=await SE(t);if(!a)return null;const n={};await async function(e,t,a){var n,s,o;a.metadata_stage=1;const i="video"===t.type,r="audio"!==t.type?null==(n=t.file_v2)?void 0:n.file:t.file;if(!r)throw Error("No file found");a.file_size=r.size,a.size=r.size,(t.type===Nc.Video||t.type===Nc.Audio)&&(a.duration=i?null==(s=t.file_v2)?void 0:s.duration:t.duration);t.type!==Nc.Video&&t.type!==Nc.Image||t.file_v2&&(a.dimensions={width:t.file_v2.width,height:t.file_v2.height});if(t.type===Nc.Video){a.hasAudio=null==(o=t.file_v2)?void 0:o.hasAudio;const n=await async function(e){let t=null;try{const[a,n]=TE(e,["original","preview"]);if(!n)throw new Error("No video file");return t=URL.createObjectURL(n),await Wx((async({video:t})=>{const a=[],n=document.createElement("canvas");n.width=480;const s=t.videoHeight/t.videoWidth;n.height=480*s;const{duration:o}=t,i=c.clamp(Math.round(o),3,10),r=o/i;x({message:"Generating thumbnails from IDB video",data:{videoAsset:e}});for(let e=0;e<i;e++){const s=(e*r+(e+1)*r)/2,o=await jJe(t,n,s);a.push(o)}if(0===a.length)throw new Error("Generated 0 frames");return a}),{actionDescription:"Generating asset metadata thumbnails",maxQueueWaitTime:6e4,maxRuntime:6e4,priority:XC.LOW,source:{url:t}})}finally{t&&URL.revokeObjectURL(t)}}(t),s=A(),i=n.map(((t,a)=>new File([t],`asset_thumbnails/${e._id}_${s}_${a}.jpg`,{type:"image/jpeg"}))),r=await async function(e){return Promise.all(e.map((e=>new Promise(((t,a)=>{new a_({file:e,layer:{id:fe(12),name:e.name,type:Nc.Image},useNameDirectly:!0,analyticsUploadSource:"CML Fetcher",uploadSourceComponent:"AssetInitialization",onError:e=>{a(e)},onFinish:async(e,n)=>{const s=n.split(".com/")[1];if(!s)return a(new Error("No path found"));t(s)}}).upload()})))))}(i);a.thumbnails=r}}(e,a,n);return{updatedAsset:{...e,...n},updates:n}}async function NJe(e){let t=null,a=null;try{const n=await RJe(e);n&&(t=n.updatedAsset,a=n.updates)}catch(n){console.error(n)}if(!t)try{t=await async function(e){return"complete"===(await T2(e)).status?null:await new Promise(((t,a)=>{const s=setInterval((async()=>{try{const a=await Kf(`/api/v1/assets/${e}`);"metadata_init_in_progess"in a&&!a.metadata_init_in_progess&&(t(a),clearInterval(s))}catch(n){a(n),clearInterval(s)}}),5e3)}))}(e._id)}catch(n){console.error(n)}return{initializedAsset:t,updatesForServer:a}}var MJe=(e=>(e.Unknown="unknown",e.Uploading="uploading",e.Processing="processing",e.Optimizing="optimizing",e.Complete="complete",e))(MJe||{});const PJe=()=>{const e=Du((e=>e.uploadStatuses)),t=Du((e=>e.assets.byId)),a=Du((e=>e.assets.estimatedDurationsById)),n=Bu(),s=i.useCallback((async(e,t)=>{const{uploadIds:a}=await C9(e,{...t,eventHandlers:{...t.eventHandlers,handleFinish:async(e,a)=>{var s,o;if(!e.asset_id)throw Error("File uploaded, but had no asset id");null==(o=null==(s=t.eventHandlers)?void 0:s.handleFinish)||o.call(s,e,a);const i=await y2(e.asset_id);n(YE([i]));try{const e=await RJe(i);e&&(n(YE([e.updatedAsset])),C2(e.updatedAsset._id,e.updatedAsset))}catch(r){console.error(r),l(r,{tags:{feature:Tu.repurposeStudio}})}}}});return a}),[n]),o=i.useCallback((e=>{k9(e)}),[]),r=i.useCallback((a=>{if("assetId"in a){const e=t[a.assetId];if(e){if((e=>pD(e))(e))return{data:e,status:"complete"};if(!pD(e))return{data:e,status:"processing"}}return{data:void 0,status:"unknown"}}const n=a.uploadId?null==e?void 0:e[a.uploadId]:void 0;return n?{data:n,status:"uploading"}:{data:void 0,status:"unknown"}}),[t,e]),d=i.useCallback(((e,n)=>{let s,o,i,r=t[e];if(r&&!r.duration){const t=a[e];r={...r,duration:r.duration??t}}for(let t=0;t<n.length;t++){const e=n[t];if(!(null==e?void 0:e.isValid(r))){if("loading"===(null==e?void 0:e.type)){o=e;break}if("error"===(null==e?void 0:e.type)){s=e;break}"warning"!==(null==e?void 0:e.type)||(i=e)}}return o??s??i}),[t,a]),c=i.useCallback((async e=>{var t,a;const{status:s}=r({assetId:e});if("processing"!==s)return;const o=await y2(e);if(!o)throw new Error("Asset does not exist.");const i=(null==o?void 0:o.url)&&!(null==o?void 0:o.metadata_init_started_at),l=o.metadata_init_started_at&&(null==(t=null==o?void 0:o.metadata_init_failed)?void 0:t.last_attempted)&&new Date(String(o.metadata_init_started_at))<new Date(String(null==(a=null==o?void 0:o.metadata_init_failed)?void 0:a.last_attempted));(i||l)&&await T2(e),n(YE([o]))}),[n,r]);return{getUploadStatus:r,uploadFiles:s,pollProcessingAssetIfNeeded:c,validateUpload:d,stopFileUpload:o}},FJe="UploadContainer-module_screenReaderOnlyLabel_pPs3P",DJe="UploadContainer-module_disabled_m2vJB",OJe="UploadContainer-module_name_9fR7-",UJe="UploadContainer-module_uploadStatusContainer_6Gue-",BJe="UploadContainer-module_pillContainer_5aitu",WJe="UploadContainer-module_posterContainer_HsEZ0",VJe="UploadContainer-module_poster_CSlmi",HJe="UploadContainer-module_posterImage_k-302",zJe="UploadContainer-module_posterImageDark_BkaS6",GJe="UploadContainer-module_posterLoadingContainer_ZiZ7U",YJe="UploadContainer-module_posterLoadingText_9nVXM",KJe="UploadContainer-module_pill_255-g",XJe="UploadContainer-module_content_bHotM",ZJe="UploadContainer-module_status_JCxjF",qJe="UploadContainer-module_light_94V38",JJe="UploadContainer-module_x_U2bJX",$Je="UploadContainer-module_posterX_AZbNL",QJe="UploadContainer-module_checkmark_-ZbC0",e$e="UploadContainer-module_uploadContainer_DORfi",t$e="UploadContainer-module_posterUploadContainer_ewhgP",a$e="UploadContainer-module_uploadTextContainer_xot55",n$e="UploadContainer-module_uploadText_YAh5r",s$e="UploadContainer-module_uploadButton_7jqCU",o$e="UploadContainer-module_uploadLabel_GcSvC",i$e="UploadContainer-module_dropActive_55XLX",r$e="UploadContainer-module_uploadLabelHeader_NPwNZ",l$e="UploadContainer-module_uploadLabelSubheader_-795f",d$e="UploadContainer-module_uploadIcon_HVtKN",c$e="UploadContainer-module_validationMessage_NWlx8",u$e="UploadContainer-module_validationMessageHeader_U0TCi",p$e="UploadContainer-module_validationLoading_60KHu",m$e="UploadContainer-module_error_ULSv2",g$e="UploadContainer-module_warning_7QKj1",h$e="UploadContainer-module_loading_M4gap",v$e="UploadContainer-module_hidden_hWbQn",f$e="UploadContainer-module_pasteLink_ICieB",b$e={flex:0},y$e=b.memo((e=>{const t=!Ehe()&&"light"===e.theme,{getUploadStatus:a,validateUpload:n}=PJe(),s=e.assetId&&e.validators?n(e.assetId,e.validators):void 0,{setUploadValidationInfo:o}=e;let r;i.useEffect((()=>{o(s)}),[o,s]);let l,d,c="";if(e.type===JS.File){const{data:t,status:n}=e.assetId?a({assetId:e.assetId}):a({uploadId:e.uploadId});e.cancelling?c="Cancelling upload ...":n===MJe.Uploading&&(c=(null==t?void 0:t.progressText)??"Uploading ..."),r=n===MJe.Uploading?null==t?void 0:t.fileName:null==t?void 0:t.name,l=n!==MJe.Uploading,d=!0}else r=e.name,e.cancelling?c="Cancelling upload ...":(null==e?void 0:e.progress)&&(c="Uploading..."),l=!(null==e?void 0:e.progress),d=!(null==e?void 0:e.progress);if("poster"===e.loadingStyle){const a=!!e.assetThumbnail;return s&&"loading"===s.type&&(c=s.message),f.jsxs("div",{className:WJe,children:[s&&"loading"!==s.type&&f.jsx(w$e,{message:s.message,type:s.type}),f.jsxs("div",{className:VJe,children:[a&&e.assetThumbnail&&f.jsx("img",{src:e.assetThumbnail,alt:"thumbnail",className:L(HJe,{[zJe]:!!c})}),c&&f.jsxs("div",{className:GJe,children:[f.jsx(iye,{style:b$e}),f.jsx("span",{className:YJe,children:c})]}),!!e.handleRemove&&!a&&f.jsx("span",{className:$Je,onClick:e.handleRemove,children:f.jsx(xa,{})})]}),a&&f.jsxs("div",{className:L(KJe,{[qJe]:t}),children:[f.jsx("div",{className:XJe,children:d&&f.jsx("div",{className:OJe,children:r})}),!!e.handleRemove&&a&&f.jsx("span",{className:JJe,onClick:e.handleRemove,children:f.jsx(xa,{})})]})]})}return f.jsxs("div",{className:BJe,children:[s&&f.jsx(w$e,{message:s.message,type:s.type}),f.jsxs("div",{className:L(KJe,{[qJe]:t}),children:[f.jsxs("div",{className:XJe,children:[d&&f.jsx("div",{className:OJe,children:r}),f.jsxs("div",{className:ZJe,children:[f.jsx("div",{children:c}),l&&f.jsx("div",{className:QJe,children:f.jsx(Ut,{})})]})]}),!!e.handleRemove&&f.jsx("span",{className:JJe,onClick:e.handleRemove,children:f.jsx(xa,{})})]})]})})),w$e=b.memo((({message:e,type:t})=>f.jsxs("div",{className:L(c$e,{[g$e]:"warning"===t,[m$e]:"error"===t,[h$e]:"loading"===t}),children:["loading"===t&&f.jsxs("div",{className:p$e,children:[f.jsx(iye,{})," "]}),f.jsxs("div",{children:["loading"!==t?f.jsx("span",{className:u$e,children:"error"!==t?"Note:":"Error:"}):null,e]})]}))),_$e=()=>{},C$e=b.memo((({assetThumbnail:e,handleRemoveAsset:t,handleFileUploadFinish:a,handleFileUploadStarted:n,className:s,setUploading:o,disabled:r=!1,initialUploadAssetIds:d,theme:c="dark",validators:u,uploadOptions:p,validationOptions:m={},setUploadValidationInfo:h,multiple:v=!1,loadingStyle:b,...y})=>{const w=Bu(),[_,C]=i.useState(""),[S,x]=i.useState(!1),[I,A]=i.useState({}),[k,T]=i.useState({}),{uploadFiles:E,pollProcessingAssetIfNeeded:j,stopFileUpload:R,getUploadStatus:N}=PJe(),[M,P]=i.useState(!1),F=i.useRef(!!(null==d?void 0:d.length)),D=!Ehe()&&"light"===c,[O]=i.useState(new vre),[U,B]=i.useState(!1);i.useEffect((function(){d&&F.current&&((async()=>{const e=await F2(d,w2.uploadContainer),t={};e.forEach((e=>{t[e._id]={type:JS.File,assetId:e._id,assetName:e.name??""},a([e._id])})),A(t)})(),F.current=!1)}),[a,d]);const W=!(!Object.values(I).length&&!Object.values(k).length),V=!(!S&&!_),H=i.useCallback((()=>{x(!1)}),[]),z=i.useCallback((e=>{null==o||o(e),x(e)}),[o]),G=i.useCallback((e=>{B(!1),null==o||o(!!e),C(e)}),[o]),Y=i.useCallback((e=>{A((t=>{const a={...t};return delete a[e],a})),z(!1)}),[z]),K=i.useCallback((()=>{B(!0),O.cancel()}),[O]),X=i.useCallback((async e=>{if(!e.asset_id)throw Error("File uploaded, but had no asset id");A((()=>{if(!e.asset_id)throw Error("File uploaded, but had no asset id");const t={};return t[e.asset_id]={type:JS.File,assetId:e.asset_id,assetName:e.name},t})),a([e.asset_id]),z(!1)}),[a,z]),Z=i.useCallback((e=>{e.target.value=null}),[]),q=i.useCallback((async e=>{if(!e)throw new Error("No files added.");z(!0);const t=await E(e,{uploadOptions:p,eventHandlers:{handleFinish:X,handleError:H,handleCancel:Y},validationOptions:m});null==n||n(t),A((e=>{const a={...e};return t.forEach((e=>{a[e]={uploadId:e,type:JS.File}})),a}))}),[Y,n,z,H,X,E,p,m]),J=i.useCallback((async e=>{const{byId:t}=Mu().state.assets,a=t[e];if(!a)return;if(a.duration)return a.duration;if(!a.url||!a.content_type)return;const n=await hI(a.url,{name:a.url,type:a.content_type},XC.HIGH);return n&&"duration"in n?n.duration:void 0}),[]),$=i.useCallback((async(e,t)=>{const{asset_id:a}=e;if(!a)return;const n=await J(a);n?w(JE.addEstimatedDuration({assetId:a,duration:n})):console.info("unable to get pasted link media duration"),T((t=>{const n={...t};return n[a]={assetId:a,name:e.name,type:JS.Link},n})),"handlePasteLinkFinish"in y&&y.handlePasteLinkFinish(a)}),[w,J,y]),Q=i.useCallback((e=>{e.preventDefault(),P(!0)}),[]),ee=i.useCallback((()=>{P(!1)}),[]),te=i.useCallback((e=>{e.preventDefault(),P(!1),q(e.dataTransfer.files)}),[q]);J9({callback:async function(){const e=[...Object.keys(I),...Object.keys(k)].map((e=>j(e)));try{await Promise.all(e)}catch(t){l(t,{tags:{feature:Tu.repurposeStudio}})}},intervalMs:5e3});const ae=i.useMemo((()=>Object.keys(I).map((e=>{var a;const{assetId:n,uploadId:s}=I[e]??{};if(s){const{status:t,data:n}=N({uploadId:s});if(t===MJe.Uploading){if(!(null==(a=n.uploadManager)?void 0:a.upload_uri))return;return()=>{R(e)}}}if(n)return()=>{A((t=>{const a={...t};return delete a[e],a})),t(e)}}))),[I,N,t,R]),ne=i.useMemo((()=>Object.keys(k).map((e=>()=>{T((t=>{const a={...t};return delete a[e],a})),t(e)}))),[t,k]),se=`upload-button-input-${g()}`;return f.jsx("div",{className:s,children:f.jsxs("div",{className:L(e$e,{[t$e]:(W||V)&&"poster"===b}),children:[f.jsxs("div",{className:L(UJe,{[v$e]:!(W||V)}),children:[Object.values(I).map(((t,a)=>f.jsx(y$e,{...t,handleRemove:ae[a],theme:D?"light":"dark",validators:u,setUploadValidationInfo:h,assetThumbnail:e,loadingStyle:"poster"},a))),Object.values(k).map(((t,a)=>f.jsx(y$e,{...t,handleRemove:ne[a],theme:D?"light":"dark",validators:u,setUploadValidationInfo:h,assetThumbnail:e,loadingStyle:"poster"},a))),!!_&&f.jsx(y$e,{type:JS.Link,progress:_,handleRemove:K,theme:D?"light":"dark",validators:u,setUploadValidationInfo:h,cancelling:U,assetThumbnail:e,loadingStyle:"poster"},"link upload")]}),f.jsxs("div",{className:L({[DJe]:r,[v$e]:W||V}),children:[f.jsxs("label",{htmlFor:se,className:L(o$e,{[i$e]:M,[qJe]:D}),onDragEnter:Q,onDragLeave:ee,onDragOver:e=>e.preventDefault(),onDrop:te,children:[f.jsx("span",{className:FJe,children:"Click to Upload"}),f.jsx("input",{"data-cy":"upload-input","data-testid":"upload-input",id:se,className:s$e,accept:LI(m),onChange:e=>{var t;return q(null==(t=null==e?void 0:e.target)?void 0:t.files)},type:"file",multiple:v,onClick:Z}),f.jsx("div",{className:a$e,children:f.jsxs("div",{className:n$e,children:[f.jsxs("div",{className:r$e,children:[f.jsx(yn,{className:d$e}),"Click to Upload"]}),f.jsx("div",{className:l$e,children:"Or, drag and drop a file here"})]})})]}),"handlePasteLinkFinish"in y&&f.jsx(BNe,{analyticsUploadSource:p.analyticsUploadSource,stopUpload:_$e,setProgressText:G,handlePreemptiveFinish:$,lightTheme:"light"===c,cancellationSource:O,acceptImage:!m.disallowImages,className:"dark"===c?f$e:"",placeholder:"Paste a URL (e.g. YouTube, Apple Podcast, etc)"})]})]})})})),S$e="Modal-module_spacer_P2NxH",x$e="Modal-module_disabled_KKknM",I$e="Modal-module_header_azVt7",A$e="Modal-module_teamName_737DN",k$e="Modal-module_background_tP44s",T$e="Modal-module_backgroundImage_WaV1w",E$e="Modal-module_contentContainer_wdxbD",L$e="Modal-module_large_Q-afm",j$e="Modal-module_xlarge_ZKBix",R$e="Modal-module_mainContent_UFnsg",N$e="Modal-module_inputLabel_9OQx6",M$e="Modal-module_secondary_c-CKu",P$e="Modal-module_description_ov9J8",F$e="Modal-module_closeContainer_-EtMN",D$e="Modal-module_uploadLogoContainer_vUZGW",O$e="Modal-module_buttonsContainer_G9R-c",U$e="Modal-module_textInput_Vea58",B$e="Modal-module_form_hc9tr",W$e="Modal-module_modal_p8-HC",V$e="Modal-module_modalWithImageContainer_lDZiE",H$e="Modal-module_right_E42kG",z$e="Modal-module_left_G4mms",G$e="Modal-module_exit_doxRs",Y$e="Modal-module_dark_Rzt1K",K$e="Modal-module_light_1Gjbi",X$e="Modal-module_modalFlowButtons_ukdOk",Z$e="Modal-module_firstStep_xyOQu",q$e="Modal-module_continue_RrMj0",J$e="Modal-module_back_SenXi",$$e="Modal-module_dots_oQcDL",Q$e="Modal-module_dot_Mw1mE",eQe="Modal-module_selected_vO8Q6",tQe="Modal-module_mTop16_DNSFo",aQe="Modal-module_mTop32_lT5WT",nQe="Modal-module_input_yDTCP",sQe="Modal-module_buttonIcon_49BvI",oQe="Modal-module_modalContainer_exFzd",iQe="Modal-module_buttonContainer_qWnWP",rQe="Modal-module_modalPrimaryButton_jKiir",lQe="Modal-module_modalSecondaryButton_sBUCV";async function dQe({video:e}){return{videoId:(await Xf("/api/v2/video-creation/create",{body:{video:e}})).videoId}}function cQe(e,t){return{id:tA(12),asset_id:e._id.toString(),duration:OA({asset:e})??void 0,startTime:0,endTime:e.duration,hasAudio:!0,name:e.name||"Unknown",originalName:e.name,addedFromMediaLibrary:!1,usedProFeatures:[],position:{x:"0%",y:"0%",rotation:0,width:"100%",height:"100%"},metadataGathered:!0,timelineRow:0,volume:1,videoDelay:0,...t}}function uQe(e,t){var a,n;return{...cQe(e,t),type:Nc.Video,width:null==(a=e.dimensions)?void 0:a.width,height:null==(n=e.dimensions)?void 0:n.height}}function pQe(e,t){return{...cQe(e,t),type:Nc.Audio}}const mQe=e=>{var t,a;return(null==(t=e.content_type)?void 0:t.includes("audio"))?pQe(e,{conversion_id:e.conversion_id,source:"workspaceUpload"}):(null==(a=e.content_type)?void 0:a.includes("image"))?function(e,t){var a,n;return{id:tA(12),type:Nc.Image,asset_id:e._id.toString(),source:t,name:e.name||"Unknown",originalName:e.name,addedFromMediaLibrary:!1,usedProFeatures:[],position:{x:"0%",y:"0%",rotation:0,width:"100%",height:"100%"},metadataGathered:!0,timelineRow:0,width:null==(a=e.dimensions)?void 0:a.width,height:null==(n=e.dimensions)?void 0:n.height}}(e,"workspaceUpload"):uQe(e,{conversion_id:e.conversion_id,source:"workspaceUpload"})};function gQe(e){return e.hook?Mu().state.assets.byId[e.hook.assetId]:null}const hQe={filters:{blurPercent:1.6}};function vQe({asset:e,localUrls:t,section:a}){var n,s;const o=((null==(n=e.content_type)?void 0:n.includes("audio"))?pQe:uQe)(e,{source:"workspaceWorkflow",duration:e.duration,startTime:a.start,endTime:a.end,videoDelay:a.delay}),i=qC(e),r=t[e._id.toString()],l=null==(s=Mu().state.assets.localAssetInfo[i])?void 0:s.local_url;return r&&!l&&oL({[i]:{local_url:r}}),o}function fQe(e,t){for(let a=e.length-1;a>=0;a--){const n=e[a];if(n&&n.end_time<=t.start)return n.end_time}return 0}function bQe(e,t){for(const a of e)if(a.start_time>=t.end)return a.start_time;return Number.MAX_SAFE_INTEGER}const yQe=({asset:e,highlight:t,localUrls:a,transcription:n,useAIHooks:s})=>{const o=[];let i=null,r=0;if(s&&(i=function({asset:e,highlight:t,localUrls:a,transcription:n}){var s,o;const i=gQe(t),r=null==i?void 0:i.duration;if(!r)return null;const l=function({highlightStart:e,highlightEnd:t,hookDuration:a,transcription:n}){if(e<a+5)return t+5;const s=n.filter((t=>t.start_time<e-5&&t.start_time>e-50)).map((e=>e.start_time)).reverse();for(const o of s)if(o<e-(a+5)&&a/n.reduce(((e,t)=>e+(t.end_time-t.start_time)),0)>=.5)return o;return e-(a+5)}({highlightStart:(null==(s=t.sections[0])?void 0:s.start)??0,highlightEnd:(null==(o=t.sections[t.sections.length-1])?void 0:o.end)??0,hookDuration:r,transcription:n});return{...vQe({asset:e,localUrls:a,section:{start:l,end:l+r,delay:0}}),type:Nc.Video,volume:0,detachedAudioId:"123",...hQe}}({asset:e,highlight:t,localUrls:a,transcription:n}),i)){const e=vp(i);r=e.endTime-e.startTime}for(let d=0;d<t.sections.length;d++){const s=t.sections[d];if(!s)continue;const i=fQe(n,s),l=bQe(n,s),c=s.start-i,u=l-s.end,p=Math.min(.8*c,.25),m=Math.min(.8*u,.25),g=s.start-p,h=s.end+m,v=o[d-1];let f=!1;if(v&&v.endTime){g-v.endTime<1&&(f=!0,v.endTime=h)}if(!f){const t=vQe({asset:e,localUrls:a,section:{start:g,end:h,delay:o.reduce(((e,t)=>void 0===t.endTime||void 0===t.startTime||0!==t.timelineRow?e:t.endTime-t.startTime+e),r)}});o.push(t)}}const l=[];return i&&l.push(i),l.push(...o),l},wQe=({languageCode:e,maxCharsPerSubtitle:t,transcription:a})=>({byId:yN({languageCode:e,maxCharsPerSubtitle:t,separator:NL(e),words:a}).map((e=>{const t=e[0],a=e[e.length-1];if(!t||!a)throw Error("Missing subtitle");const n=t.start_time,s=a.end_time,o=e.map((e=>({[Zc.start]:e.start_time,[Zc.end]:e.end_time,[Zc.text]:e.word,[Zc.speaker]:e.speaker})));return{[Xc.start]:n,[Xc.end]:s,[Xc.words]:o}})).reduce(((e,t)=>(e[sA()]=t,e)),{})});const _Qe={position:{x:"7.5%",y:"12%",width:"85%",height:"20%",rotation:0},fontFamily:"Montserrat",fontWeight:"bold",globalAlpha:1,lineHeight:1.15,borderRadius:{relative:"15%"},color:"#ffffff",backgroundColor:"rgba(-255,-255,-255,0)",textAlign:"center",textTransform:"none",textOutline:{color:"#000000",width:40},textPadding:10,underline:!1,italic:!1,startTime:0,endTime:3,textShadow:"none",wrapOrFill:void 0,textEffect:void 0,textDropShadowColor:void 0,textShadowBlur:void 0,textShadowDist:void 0,textShadowRot:void 0,hasCustomFont:!1},CQe={position:{x:"7.5%",y:"12%",width:"85%",height:"20%",rotation:0},fontFamily:"Montserrat",fontWeight:"bold",globalAlpha:1,lineHeight:1.15,borderRadius:{relative:"15%"},color:"#000000",backgroundColor:"#FFFFFF",textAlign:"center",textTransform:"none",textOutline:void 0,textPadding:25,underline:!1,italic:!1,startTime:0,endTime:3,textShadow:"none",wrapOrFill:"wrap",textEffect:void 0,textDropShadowColor:void 0,textShadowBlur:void 0,textShadowDist:void 0,textShadowRot:void 0,hasCustomFont:!1},SQe=({title:e,containerSize:t,titleSettings:a,type:n})=>{const{layerProps:s}=(({titleSettings:e,type:t})=>{if(e){const a="ai-hook"===t?CQe:_Qe;return{layerProps:{...c.cloneDeep(a),...c.cloneDeep(e.layerProps)}}}return{layerProps:{...c.cloneDeep(_Qe)}}})({titleSettings:a,type:n}),o={id:tA(12),type:Nc.Text,text:e,isMagicSubtitle:!1,...s};return"ai-hook"===n?o.isRSAIHookTitle=!0:o.isRSTitle=!0,xQe(o,t)},xQe=(e,t)=>{const{width:a,height:n}=VR(e.position.width,e.position.height,{width:t.width,height:t.height});e.baseWidth=a,e.baseHeight=n;const s=F0(e,a,n)??ON.style.fontSize;e.fontSize=s;const{textWithLineBreaks:o}=X0(e,a,e.text,e.fontSize);e.textWithLineBreaks=o,e.text=o;const i=e.lineHeight*s,r=zR(a,o.split("\n").length*i,{width:t.width,height:t.height}),l=VR(r.widthPercent,r.heightPercent,{width:t.width,height:t.height});return e.baseHeight=l.height,e.baseWidth=l.width,e.position&&(e.position.height=r.heightPercent),e};function IQe({assetId:e,containerSize:t,languageCode:a,words:n,video:s}){const o={...{assetTranscriptions:{byId:{[a]:{[e]:{state:"completed",assetTranscriptionId:"1",job_params:void 0,languageKey:a,words:n}}}},loadedFonts:{}},studio:s,studioLocal:{magicSubtitleFramesByAsset:{},magicSubtitlesGlobal:{}}};return t.width?_O({filterEmpty:!0,filterInvalid:!0})(o,{canvasHeight:t.height,canvasWidth:t.width,canvasX:0,canvasY:0}):[]}function AQe({video:e}){const t={studio:e};return pL()(t)}class kQe extends class{constructor({aspectRatio:e,name:t,studio:a={},creatorId:n,teamId:s,workspaceId:o}){this.video=((e={})=>{const t=new Date;return{analytics:{},projectVersion:"0.18",ratio:"1:1",hasCustomOutput:!1,topFontsLoaded:!1,origin:"",overlayMounted:!1,isDragging:!1,background:e.background||"#ffffff",duration:0,userSelectedDuration:0,userSetDuration:!1,animations:{byId:{}},allLayers:{byId:{}},localId:K(),deletedLayerDict:{},selectedTimelineRows:[0],groups:{},pendingGoogleDriveUploads:[],timelineGap:null,safeZoneChosen:"none",snapToGrid:!0,privacy:0,showCanvas:!1,canvasBlur:!1,videoType:"mp4",imageType:"png",gifType:"gif",processingSpeedType:_d.FAST,exportFrameTime:-1,quality:"standard",draft:!0,done:!1,createdAt:t,fullPath:"",image_url:"",updateKey:K(),refreshKey:0,lastSaved:t,workspaceId:"",projectId:"",creatorId:"",teamId:"",contextMenuUsed:0,playCanvasPreviewOnMount:!1,usedEyedropper:!1,layerDuplicated:!1,enhanceAssetJobs:{},userSpecificSettings:{},userSpecificSettingsAnonymous:{},selectedTransition:null,magicSubtitles:{},magicSubtitlesGlobal:{},magicSubtitleFramesByAsset:{},assetUploadedSubtitles:{},readonly:!1,exportQuality:"Standard",exportResolution:"AUTO",isBrandKitTemplate:null,fromBrandKitTemplate:null,keyframing:{},lastSeen:t,parentId:"",submittedAt:t,creatorHasLicense:!1,magicSubtitlesOnExport:{},build:{},lastEditorName:"",lastUpdatedByPOST:t,lastUpdatedByPOSTSource:"new video",publishCount:0,code:"",...e}})(a),this.video.name=t,this.video.creatorId=n,this.video.teamId=s,this.video.workspaceId=o,this.setAspectRatio(e)}setAspectRatio(e){const t=`${e.width}:${e.height}`;this.video.ratio=t;const{ratioWidth:a,ratioHeight:n}=TK(t),{width:s,height:o}=kK([a,n],{width:1500,height:1500});this.video.width=s,this.video.height=o}createVideoFromAsset(e){const t=mQe(e);this.video.background="#FFFFFF",this.video.duration=0,this.video.userSelectedDuration=0,this.video.userSetDuration=!1,this.setLayers([t]),this.video.name=e.name||e.blob_name||"Untitled Project"}setLayers(e){var t,a;const n=GY({comparisonDepth:void 0,count:e.length,existingLayers:{},targetDepthDirection:"ahead",tetheredWaveformsByAssetId:null==(t=this.video.tetheredWaveforms)?void 0:t.byAssetId}),s=e.map(((e,t)=>{const a=n[t];if(void 0===a)throw new Error("Depth is undefined");return{...e,depth:a}}));this.video.showCanvas=!0,this.video.allLayers={byId:s.reduce(((e,t)=>(e[t.id]=t,e)),{})},rA.clear();const{duration:o}=rA(this.video,this.getSortedLayers(),null==(a=this.video.magicSubtitleFramesByAsset)?void 0:a["background-asset"]);this.video.duration=o}getSortedLayers(){return Object.values(this.video.allLayers.byId).sort(((e,t)=>Tp(e.depth,t.depth)))}}{constructor(){super(...arguments),a(this,"assetTranscription")}updateVideo(e){this.video={...this.video,...e}}setMagicSubtitleStyles({languageCode:e,magicSubtitlePreset:t,outputRatio:a,predefinedMaxCharsPerSubtitle:n}){const s=z2(t||dy,{aspectRatio:a}),o=n??function(e,t){if(!e)return 16;const a=HN({canvasWidth:400,fontSizeOverride:null,fontIsLoaded:!0,style:e}).getWidth({t:"M"});return Math.ceil(400/a)*(" "===NL(t)?1:.65)}(s.style,e);this.video.magicSubtitlesGlobal={defaultCharsPerSubtitle:o,...s}}setMagicSubtitlesForAsset({asset:e,languageCode:t,words:a,timeWindowToUse:n}){var s;const o=(({asset:e,languageCode:t,maxCharsPerSubtitle:a,timeWindowToUse:n,transcription:s})=>{const o=n?s.filter((e=>e.start_time>=n.start&&e.end_time<=n.end)):s;return{magicSubtitleFramesByAsset:{[e._id.toString()]:wQe({languageCode:t,maxCharsPerSubtitle:a,transcription:o})},magicSubtitles:{[e._id.toString()]:{languageKey:t,enabled:!0,transcriptionSource:"transcription"}}}})({asset:e,languageCode:t,maxCharsPerSubtitle:(null==(s=this.video.magicSubtitlesGlobal)?void 0:s.defaultCharsPerSubtitle)??40,timeWindowToUse:n,transcription:a}),{magicSubtitleFramesByAsset:i,magicSubtitles:r}=o,l={},d={};Object.keys(i).forEach((t=>{var n,s;const o=null==(n=i[t])?void 0:n.byId;if(!o)return;const{newSpeakerMap:r,speakerIdToTranscriptTag:c}=Oz({frames:o,existingSpeakers:l,transcriptWords:a,ttsVoiceId:null==(s=e.ttsInfo)?void 0:s.voiceId});Object.assign(l,r),Object.assign(d,c)})),this.video.magicSubtitleFramesByAsset={...this.video.magicSubtitleFramesByAsset,...i},this.video.magicSubtitles={...this.video.magicSubtitles,...r},this.video.magicSubtitleSpeakers={...NQ,speakerLabelsMap:l,speakerIdToTranscriptTag:d,showSpeakerLabelsInEditor:Object.keys(l).length>1}}setTetheredWaveformInfo(e,t){this.video.tetheredWaveforms={byAssetId:{[e]:{enabled:!0,lockedRatio:!1,position:{height:40,width:100,x:0,y:30,rotation:0},style:{color:"#0083e2",type:"bar",opacity:100},...t,depth:YY({comparisonDepth:void 0,targetDepthDirection:"ahead",existingLayers:this.video.allLayers.byId,tetheredWaveformsByAssetId:void 0})}}}}appendLayers(e,t="front"){const a=this.getSortedLayers(),n="front"===t?[...a,...e]:[...e,...a];this.setLayers(n)}createVideoFromAsset(e){super.createVideoFromAsset(e);const t=fS({asset:e,idbAsset:null,framePercentage:0,timelineLayer:null});this.video.image_url=t}applyBlueprintLayers(e,t){const a=(null==e?void 0:e.background)||[],n=(null==e?void 0:e.foreground)||[];if(!a.length&&!n.length)return;const s=this.getSortedLayers(),o=[],i=e=>{const{duration:a}=this.video,{baseLayer:n}=e,i={id:fe(12)},r=this.getSortedLayers().find((e=>e.isRSAIHookTTS)),l=(null==r?void 0:r.duration)??0,d=a;switch(e.timing){case"end":{const e=(n.endTime||1)-(n.startTime||0);i.endTime=d,i.startTime=Math.max(d-e,l);break}case"start":i.startTime=l,i.endTime=Math.min(n.endTime||1,d),i.duration=i.endTime-i.startTime;break;case"full":i.startTime=l,i.endTime=d,i.duration=d}if(n.animation){const{animation:e}=n;["constant","intro","outro"].forEach((t=>{(e[t]||[]).forEach((e=>{const t=this.video.animations.byId[e];t&&!t.isCrossTransition&&(t.layerId=i.id)}))}))}if(t){const{resizeMode:e,sourceRatio:a,targetRatio:s}=t,{resizeLayerUpdates:o,speakerFocusLayerUpdates:r}=oJ({aspectRatioWidth:s.width,aspectRatioHeight:s.height,layers:[n],prevCanvasHeight:a.height,prevCanvasWidth:a.width,resizeMethod:e,shouldSmartReframe:!1,visionJobByAssetId:{},groups:{}});Object.assign(i,o[n.id],r[n.id])}const c={...n,...i};let u=n.timelineRow??1;const[p,m]=zC(c);let g;do{g=[...s,...o].find((e=>{if(e.timelineRow!==u)return!1;const[t,a]=zC(e);return p<t&&m>a||t<p&&a>p||p===t})),g&&u++}while(g);return c.timelineRow=u,o.push(c),c};this.appendLayers(a.map(i),"back"),this.appendLayers(n.map(i),"front")}getVideoForExport(){var e;const t=c.cloneDeep(this.video),a=null==(e=Object.values(t.allLayers.byId)[0])?void 0:e.asset_id;if(!a)throw Error("No asset id found");const{assetTranscription:n}=this;if(!n)throw Error("No asset transcription found");const s=PO(i5(t,a,n));let o;if(t.canvasBlur){const e=v4(Object.values(t.allLayers.byId));e.length>0&&(o=e.map((e=>e.layer)).filter(vA))}const i={backgroundLayers:o,magicSubtitleExportInfo:s,tetheredWaveformExportInfo:mL({studio:t})};if(i.tetheredWaveformExportInfo&&(t.tetheredWaveformLayersExportInfo=i.tetheredWaveformExportInfo),i.magicSubtitleExportInfo){const{animations:e,magicSubtitlesOnExport:a}=i.magicSubtitleExportInfo;t.animations.byId={...t.animations.byId,...e.byId},t.magicSubtitlesOnExport=a,i.backgroundLayers&&(t.backgroundLayers=i.backgroundLayers)}const r=Object.values(t.allLayers.byId).find((e=>e.isRSTitle||e.isRSAIHookTitle));return r&&(t.jpegTimestamp=r.startTime),t}static createWorkflowProject({workflow:{workflowId:e,asset:t,assetId:a,cmlFile:n,isAudioOnly:s,status:o,highlights:i,visionJob:r,languageCode:l,words:d,highlightId:u},wordsWithEmoji:p,highlight:m,localUrls:g={},settings:h,creatorId:v,teamId:f,workspaceId:b,containerSize:y,fullSubtitles:w,blueprintChanges:_}){var C,S,x,I,A;const k=o===vu.COMPLETE&&!!d,{studio:T,blueprintId:E,blueprintProjectRatio:L,resizeMode:j,removeSubtitles:R,extraLayers:N,tetheredWaveformSettings:M,useAIHooks:P=!1,useAutoEmoji:F,useTitle:D,titleSettings:O,aiHooksTitleSettings:U,subtitlePreset:B,subtitleAdditionalConfig:W}=h||{},[V]=k&&i||[],H=m||V,z=H?{highlightId:H.id,blueprintId:E}:void 0;let G=null;if(null==T?void 0:T.ratio){const e=T.ratio.split(":").map((e=>+e));if(2!==e.length)throw new Error("Studio ratio improperly formatted");G={width:e[0]||1,height:e[1]||1}}const Y=(null==t?void 0:t.dimensions)||{width:1,height:1},K=L||{width:1,height:1},X=G||Y,Z=new kQe({aspectRatio:Y,name:(null==H?void 0:H.title)||"Workflow Project",creatorId:v,teamId:f,workspaceId:b,studio:{...c.omit(T,"magicSubtitlesGlobal"),workflowId:e,appliedHighlight:z}});Z.setAspectRatio(X),void 0!==(null==T?void 0:T.canvasBlur)?Z.video.canvasBlur=T.canvasBlur:Z.video.canvasBlur=!s;const q=!!(H&&k&&t);Z.assetTranscription={assetTranscriptionId:"",state:"completed",languageKey:l,words:k?d:[],job_params:void 0};const J=B||dy;if(k&&Z.setMagicSubtitleStyles({languageCode:l,magicSubtitlePreset:J,outputRatio:X,predefinedMaxCharsPerSubtitle:null==W?void 0:W.defaultCharsPerSubtitle}),!R&&t&&k){let e=0,a=1/0;if(!w){const t=null==H?void 0:H.sections[0],n=null==H?void 0:H.sections[H.sections.length-1];e=(null==t?void 0:t.start)??(null==(C=d[0])?void 0:C.start_time)??0,a=(null==n?void 0:n.end)??((null==(S=d[0])?void 0:S.start_time)??0)+30;const s=15;e-=s,a+=s}const n=F&&p||d;Z.setMagicSubtitlesForAsset({asset:t,languageCode:l,words:n,timeWindowToUse:{start:e,end:a}}),Z.video.magicSubtitlesGlobal&&(Z.video.magicSubtitlesGlobal={...Z.video.magicSubtitlesGlobal,...W})}M&&Z.setTetheredWaveformInfo(a,M);const $=H?gQe(H):null;if(P){let e=0;if((null==H?void 0:H.hook)&&$&&$.duration){e=$.duration;const t={id:fe(12),type:Nc.Audio,name:"Hook Audio",startTime:0,endTime:$.duration,isRSAIHookTTS:!0,asset_id:$._id,videoDelay:0,volume:1,ttsLanguage:H.hook.ttsLanguageOption,ttsSubtitlePreference:!1,ttsText:H.hook.text,ttsVoice:bg({ttsLanguageOption:H.hook.ttsLanguageOption,voiceId:H.hook.voiceId})};Z.appendLayers([t],"back")}if(e){const t=SQe({title:(null==(x=null==H?void 0:H.hook)?void 0:x.text)||"Text To Speech Hook",containerSize:{width:Z.video.width??1,height:Z.video.height??1},titleSettings:{...U,layerProps:{...null==U?void 0:U.layerProps,startTime:0,endTime:e}},type:"ai-hook"});Z.appendLayers([t],"front")}}const Q=[];let ee=null;if(q)Q.push(...yQe({highlight:H,asset:t,localUrls:g,transcription:d,useAIHooks:P}));else if(t){if(t&&y&&k){const e=Z.getSortedLayers();Z.setLayers([{id:fe(12),type:"video",startTime:0,videoDelay:0,endTime:1/0,asset_id:t._id}]);const a=d.slice(0,50),n=IQe({assetId:t._id,containerSize:y,languageCode:l,words:a,video:Z.video}),s=AQe({video:Z.video});Z.setLayers(e),Z.appendLayers(s,"front");const o=n[0];if(o){const e=o.startTime;o.frame.lines=o.frame.lines.map((t=>(t.words=t.words.map((t=>(t.s-=e,t.e-=e,t))),t))),Z.appendLayers([{...o,startTime:0,endTime:3}])}}ee=s?null:{id:Z.video._id||"Asset Image Layer",type:Nc.Image,name:t.name||"Preview Image",startTime:0,endTime:t.duration,asset_id:t._id,isVideoThumbnailImage:!0,position:{x:"0%",y:"0%",height:"100%",width:"100%",rotation:0},...P?hQe:{}}}if("speaker-focus"!==j)ee&&Q.push(ee),ee=null;else{const e=t?eL(t):void 0;if(k&&r&&ee&&(null==t?void 0:t.duration)&&e){const a=bX({aspectRatioHeight:X.height,aspectRatioWidth:X.width,layer:ee,prevCanvasHeight:Y.height,prevCanvasWidth:Y.width}),n=t.duration/10/2,{layerUpdates:s}=UX({visionJob:SD(r),sourceLayer:{...ee,type:Nc.Video,startTime:n,endTime:n,width:null==(I=null==t?void 0:t.dimensions)?void 0:I.width,height:null==(A=null==t?void 0:t.dimensions)?void 0:A.height},defaultCrops:{fitToCenterPosition:a},canvasAspectRatio:X.width/X.height,assetDuration:t.duration,transcript:d,prevAspectRatio:Y.width/Y.height,assetDimensions:e});s.crop&&(ee.crop=s.crop),s.position&&(ee.position=s.position)}}const te=function(e,n){const s="speaker-focus"===j;let o={};const i=[],{resizeLayerUpdates:l,resizeLayersToAddByLayerId:c,speakerFocusLayerUpdates:u}=oJ({aspectRatioWidth:X.width,aspectRatioHeight:X.height,layers:e,prevCanvasHeight:n.height,prevCanvasWidth:n.width,resizeMethod:s?"fit-to-center":j||"fit-to-center",shouldSmartReframe:s,visionJobByAssetId:k&&r?{[a]:{[ou.ObjectTrackingV2]:SD(r)}}:{},groups:{}});if(o={...o,...l,...u},Object.values(c).forEach((e=>{i.push(...e)})),s){const a=function(e){const a=[],n={},s=t?eL(t):void 0;return k&&r&&"speaker-focus"===j&&s?(e.forEach((e=>{if(!np(e)||!(null==t?void 0:t.duration))return;const o=bX({aspectRatioHeight:X.height,aspectRatioWidth:X.width,layer:e,prevCanvasHeight:Y.height,prevCanvasWidth:Y.width}),{layerUpdates:i,layersToAdd:l}=UX({visionJob:SD(r),sourceLayer:e,defaultCrops:{fitToCenterPosition:o},canvasAspectRatio:X.width/X.height,assetDuration:t.duration,transcript:d,prevAspectRatio:Y.width/Y.height,assetDimensions:s});n[e.id]=i,l.length>0&&a.push(...l)})),{layerUpdates:n,layersToAdd:a}):{layerUpdates:n,layersToAdd:a}}(e);o={...o,...a.layerUpdates},i.push(...a.layersToAdd)}const p=e.map((e=>{const t=o[e.id];return{...e,...t}}));for(const t of i)p.push(t);return p}(Q,Y);if(Z.appendLayers(te,"back"),ee&&Z.appendLayers([ee],"back"),N&&Z.applyBlueprintLayers(N,{resizeMode:"fit-to-center",sourceRatio:K,targetRatio:X}),D&&(null==H?void 0:H.title)){const e=SQe({title:H.title,containerSize:{width:Z.video.width??1,height:Z.video.height??1},titleSettings:O,type:"title"});Z.appendLayers([e],"front")}return Z.video.analytics.activeFindHighlightsJobInfo={assetDuration:null==t?void 0:t.duration,jobId:k&&u||"",highlightId:null==H?void 0:H.id},Z.video.blueprintChanges=_,v&&(Z.video.userSpecificSettings={[v]:{rippleMode:!0}}),t&&n&&(Z.video.thisProjectCMLFiles={[n._id]:{addedTimestamp:Date.now(),asset_id:t._id,cmlFileId:n._id}}),Z}}const TQe={analyticsUploadSource:"Folder Upload",uploadSourceComponent:"WorkspaceUploadContainer",doDuplicateHandling:!1,skipAddTimelineLayer:!0,isMediaLibraryUpload:!0},EQe=[],LQe=b.memo((()=>{const e=Bu(),t=jfe(),a=lg(),{assetsById:n,currentFolderUploads:s,currentUserId:o}=Du((e=>{const a=e.workspaces.workspaceUploads;return{assetsById:e.assets.byId,currentUserId:e.currentUser.user._id,currentFolderUploads:(null==t?void 0:t._id)?null==a?void 0:a[t._id]:EQe}}),Ou),r=i.useRef(new Set),{getUploadStatus:l,pollProcessingAssetIfNeeded:d}=PJe(),c=i.useMemo((()=>(null==s?void 0:s.map((e=>e.assetId)).filter(vA))??[]),[s]),u=i.useMemo((()=>(null==s?void 0:s.map((e=>e.uploadId)).filter(vA))??[]),[s]),p=i.useCallback((async s=>{var i,r;if(!(null==t?void 0:t._id)||!(null==a?void 0:a._id)||!o)throw new Error("Could not create project. Please try again.");try{const l=n[s]??await P2(s,w2.uploadContainer),d=new kQe({aspectRatio:{width:(null==(i=l.dimensions)?void 0:i.width)??1920,height:(null==(r=l.dimensions)?void 0:r.height)??1080},name:l.name??ql,creatorId:o,teamId:null==a?void 0:a._id,workspaceId:null==t?void 0:t._id});d.createVideoFromAsset(l);const c=await dQe({video:d.video}),u=await e9({id:c.videoId});if(!u.projectId)throw new Error("Could not find project.");const p={_id:u.projectId,content:{...u,_id:c.videoId},creatorId:u.creatorId??o,teamId:u.teamId,workspaceId:u.workspaceId??(null==t?void 0:t._id)};e(Cte({projects:[p],folderId:u.workspaceId??t._id}))}catch(b9e){console.error(b9e)}}),[n,null==t?void 0:t._id,null==a?void 0:a._id,o,e]);J9({callback:async function(){if(null==t?void 0:t._id)try{const e=null==c?void 0:c.filter((e=>{const{status:t}=l({assetId:e});return t!==MJe.Complete})).map((e=>(async()=>{await d(e)})()));e&&await Promise.all(e)}catch(b9e){console.error(b9e)}},intervalMs:5e3,shouldPoll:void 0!==(null==t?void 0:t._id)});const m=i.useCallback((()=>{(null==t?void 0:t._id)&&Uu((()=>{u.forEach((a=>{const{status:n,data:s}=l({uploadId:a});switch(n){case MJe.Unknown:e(mf({folderId:t._id,uploadId:a}));break;case MJe.Uploading:100===(o=s).progress&&o.assetId&&(e(mf({folderId:t._id,uploadId:a})),e(pf({folderId:t._id,assetId:s.assetId})))}var o}))}))}),[null==t?void 0:t._id,e,l,u]),g=i.useCallback((()=>{(null==t?void 0:t._id)&&Uu((()=>{c.forEach((a=>{const{status:n}=l({assetId:a});switch(n){case MJe.Unknown:e(mf({folderId:t._id,assetId:a}));break;case MJe.Complete:if(r.current.has(a))return;p(a).finally((()=>{e(mf({folderId:t._id,assetId:a})),r.current.delete(a)})),r.current.add(a)}}))}))}),[c,p,null==t?void 0:t._id,e,l]);return i.useEffect((function(){m(),g()}),[g,m]),null})),jQe=()=>{};function RQe(){const e=Bu(),t=jfe(),[a,n]=i.useState(!1),s=Ehe(),o=i.useCallback((async a=>{if(!(null==t?void 0:t._id))throw new Error("Could not find current folder.");Uu((()=>{a.forEach((a=>{e(pf({folderId:t._id,uploadId:a}))}))})),yA()}),[null==t?void 0:t._id,e]),r=i.useCallback((async a=>{if(!(null==t?void 0:t._id))throw new Error("Could not find current folder.");e(pf({folderId:t._id,assetId:a})),yA()}),[null==t?void 0:t._id,e]);return f.jsx("div",{className:oQe,children:a?f.jsx("div",{style:{marginTop:"24px"},children:f.jsx(Ile,{text:"Starting your upload..."})}):f.jsx(C$e,{assetThumbnail:null,handleRemoveAsset:jQe,handleFileUploadFinish:jQe,handleFileUploadStarted:o,handlePasteLinkFinish:r,theme:s?"dark":"light",setUploading:n,uploadOptions:TQe,setUploadValidationInfo:jQe,multiple:!0,loadingStyle:"pills"})})}const NQe=b.memo((({projectIds:e,workflowIds:t,onSubmit:a,onCancel:n})=>{const s=Du((e=>e.workspaces.selectedWorkspace)),o=BCe(e),r=i.useMemo((()=>f.jsxs("span",{children:["Move",f.jsx("strong",{children:o})]})),[o]),l=i.useCallback((e=>e!==s),[s]);return f.jsx(Hfe,{actionType:mu.MOVE,onSubmit:a,onCancel:n,validationFunction:l,header:r,projectIds:e,submitText:"Move",workflowIds:t})})),MQe=e=>async(...t)=>{try{await(null==e?void 0:e(...t))}catch(b9e){cb({description:"Failed to submit",error:b9e})}yA()},PQe=e=>()=>{null==e||e(),yA()},FQe=b.memo((()=>{xA();const{title:e,subtitle:t,modalProps:a}=Du((e=>e.modal)),{overlayWrapperProps:n,renderedModal:s,handleCancel:o}=i.useMemo((()=>(({modalProps:e})=>{const t={handleCancel:yA,renderedModal:null};if(!e)return t;const{overlayWrapperProps:a,modalType:n}=e;switch(t.overlayWrapperProps=a,n){case fA.EMBED_CODE:t.renderedModal=f.jsx(sJe,{hideOverlay:yA,exportType:e.exportFormat,entryPoint:e.entryPoint}),t.overlayWrapperProps={className:Bve,dark:!0,...a};break;case fA.COPY_PROJECT:{const{onCancel:a,onSubmit:n,...s}=e;t.handleCancel=PQe(a),t.renderedModal=f.jsx(VCe,{...s,onCancel:PQe(a),onSubmit:MQe(n)});break}case fA.MOVE_PROJECT:{const{onCancel:a,onSubmit:n,...s}=e;t.handleCancel=PQe(a),t.renderedModal=f.jsx(NQe,{...s,onCancel:PQe(a),onSubmit:MQe(n)});break}case fA.DELETE_ACCOUNT:t.renderedModal=f.jsx(Abe,{});break;case fA.DELETE_PROJECT:{const{onSubmit:a,...n}=e;t.renderedModal=f.jsx($be,{...n,onSubmit:MQe(a)});break}case fA.SWM_REMOVE_PROJECT:t.renderedModal=f.jsx(Qbe,{...e});break;case fA.START_FROM_BRAND_TEMPLATE:t.renderedModal=f.jsx(LJe,{});break;case fA.FOLDER_UPLOAD:t.renderedModal=f.jsx(RQe,{});break;case fA.SIGN_IN:t.renderedModal=f.jsx(ene,{...e,hideSignIn:yA});break;case fA.PROJECT_LIMIT:t.renderedModal=f.jsx(mJe,{...e,exitOverlay:yA});break;case fA.POST_TO_SOCIALS:t.renderedModal=f.jsx(UCe,{...e});break;case fA.REPURPOSE_PERSONALIZED_SHARE:{const{onCancel:a,onSubmit:n,...s}=e;t.handleCancel=PQe(a),t.renderedModal=f.jsx(Kqe,{...s,onCancel:PQe(a),onSubmit:MQe(n)});break}}return t})({modalProps:a})),[a]);if(!s)return null;const{noOverlay:r,...l}=n??{};return r?s:f.jsx(rC,{unsetCancelModal:o,usePortal:!0,...l,children:f.jsxs("div",{className:l.noPadding?"":Fve,"data-cy":"kapwing-modal-overlay",children:[!!e&&f.jsx(Wve,{title:e,subHeader:t}),f.jsx("div",{children:s})]})})}));function DQe(){const e=Du((e=>qm(e.currentUser)));return i.useEffect((function(){if(e){const e=async()=>{const t=await async function(){const{state:e,dispatch:t}=Mu(),a=e.teams.allTeams;if(0===a.length)return 6e4;const n=await Promise.all(a.map((async e=>{try{const{limits:a}=e,{lastReset:n}=a,s=Xf(`/api/v3/teams/${e._id}/limits/reset`),{updatedLimits:o,customTeamLimits:i,serverTime:r,nextReset:l}=await s,d=new Date(r),u=new Date(l),p=u.getTime()+6e4-d.getTime(),m=zg(p,6e4,6e5);return c.isEqual(o,e.limits)||t(Sb(e._id,{limits:o,customTeamLimits:i})),t(function(e,t){return{type:"SET_NEXT_LIMIT_RESET",teamId:e,nextReset:t}}(e._id,u)),m}catch(b9e){l(b9e)}return 3e5})));return Math.min(...n)}();setTimeout(e,t)};e()}}),[e]),null}const OQe=b.memo((()=>{const e=Du((e=>{var t;return null==(t=e.currentUser.user)?void 0:t._id})),t=Bu(),a=i.useRef(null);return i.useEffect((function(){const n=(()=>{const{token:e}=Mu().state.currentUser;return e})();if(n){const s=new wn(`${function(){let e;e=Ll?Ll.replace("http","ws"):`wss://notifications.${Df()||Pf().includes("dev")?"kapwing-dev":"kapwing"}.com`;return`${e}/websocket`}()}?token=${n}&userId=${e}`,[],{maxReconnectionDelay:7e3});let o;s.addEventListener("open",(()=>{o=window.setInterval((()=>{s.send('{"keepAlive":"heartbeat"}')}),1e4)})),s.addEventListener("message",(e=>{const a=JSON.parse(e.data);a.userNotifs&&t(hte(a.userNotifs)),a.newNotifs&&t(vte(a.newNotifs))})),s.addEventListener("error",(e=>{console.error("Error connecting to notifications websocket",e),window.clearInterval(o)})),s.addEventListener("close",(()=>{window.clearInterval(o)})),a.current=s}return()=>{var e;null==(e=a.current)||e.close()}}),[t,e]),null}));const UQe=b.memo((()=>{const e=P(),t=JKe(),a=Bu(),n=t.get("session_id"),s=t.get("onSuccessPath"),o=s&&decodeURI(s);return i.useEffect((()=>{(async()=>{const t=await Xf("/api/v1/stripe/getCheckoutSessionInfo",{body:{session_id:n}}),{session:s}=t,{metadata:i,subscription:r,customer:l}=s,{plan:d,latest_invoice:c}=r,{interval:u,nickname:p}=d,{paywallModalAction:m,extraAmplitudeEventProperties:g,teamId:h,seats:v,planTier:f}=i,{payment_intent:b,amount_paid:y}=c||{},{latest_charge:w}=b||{};window&&w&&y&&window.Tapfiliate("conversion",w,y/100,{customer_id:l});let _="Your upgrade was successful. Thanks for supporting our team at Kapwing by upgrading to Kapwing Pro. You can now use all Pro features in your current workspace.";m&&(_=(({action:e,currentPlan:t})=>{const a=t||nc(Id.Pro);switch(e){case Dd.DEFAULT_PRIVACY:return"You have successfully upgraded and can now change the default privacy for your videos.";case"high-quality":return"You have successfully upgraded and you can now select high quality";case"privacy":return"You have successfully upgraded and your content has been set to private";case"subtitler":return"Your workspace has been successfully upgraded. You can now download the SRT file.";case"upload-limit":case"single-video-duration-limit":return"Your workspace has been upgraded. You may now publish your project.";case"upload-fonts":return"Your workspace has been upgraded. You can now upload custom fonts.";case Dd.REMOVE_WATERMARK:case Dd.REMOVE_30_SEC_WATERMARK:return"Your team workspace has been upgraded sucessfully. Try again to re-export your project without a Kapwing watermark. Thank you for supporting Kapwing!";case Dd.MAGIC_TRANSCRIBE:case Dd.TRIM_WITH_TRANSCRIPT_TRANSCRIBE:return"Congratulations! Your workspace has been successfully upgraded. You can now generate unlimited subtitles and transcriptions.";case Dd.BRANDKIT:return"Your workspace has been succesfully upgraded. You can now save assets to Brand Kit and use them in Kapwing.";case Dd.GENERATE_IMAGES:return"Your workspace has been successfully upgraded. You can now generate images with AI.";case Dd.USE_MAGIC_FILL:return"Your workspace has been successfully upgraded. You can now create more images with Magic Fill.";default:return`Your team workspace has been successfully upgraded to the Kapwing ${a.name} plan. You can now use ${a.name} features in your current workspace.`}})({action:m,currentPlan:nc(f)})),a(db({description:_,type:"success"}));let C="/studio/editor";o&&(C=o),e(C,{replace:!0}),Xf("/api/v1/users/token/refresh").then((e=>{const{dispatch:t}=Mu();t({type:"SET_TOKEN",token:e.token})})),Eb(),gv({interval:u,planTier:p||"",upgradeSource:m||Dd.UNKNOWN,extraAmplitudeEventProperties:JSON.parse(g),teamId:h,quantity:v}),dh("Upgrade Workspace",{plan_type:p,plan_frequency:u,seat_number:v,revenue_value:y/100})})()}),[n,a,e,o]),f.jsx(ibe,{})})),BQe=b.memo((()=>{const{preferredFolderId:e,preferredTeamId:t}=Du((e=>({preferredTeamId:e.teams.preferredTeamId,preferredFolderId:e.workspaces.preferredFolderId})),Ou);return YQe({preferredTeamId:t,preferredFolderId:e}),null})),WQe=u((e=>e.workspaces.allWorkspaces),((e,t)=>t),((e,t)=>e.find((e=>e._id===t)))),VQe=u((e=>e.workspaces.allWorkspaces),(e=>e.workspaces.selectedWorkspace),((e,{preferredFolderId:t})=>t),((e,{attemptedToFetchPreferredFolder:t})=>t),((e,t,a,n)=>{const s=!e.length,o=e.find((e=>e._id===t)),i=e.find((e=>e._id===a));return!!s||(!(!(!!t&&!o)||t===rd)||!(!(!!a&&!i)||n||a===rd))})),HQe=u((e=>e.workspaces.allWorkspaces),(e=>e.workspaces.selectedWorkspace),((e,t)=>t),((e,t,a)=>{const n=e.find((e=>e._id===t)),s=e.find((e=>e._id===a));return!n||(!(!a||a===rd||!s||n._id===s._id)||a===rd&&t!==rd)})),zQe=async({abortController:e,preferredTeamId:t,preferredFolderId:a,attemptedToFetchPreferredTeam:n,attemptedToFetchPreferredFolder:s,needWaitToFetchTeams:o})=>{try{const{state:i,dispatch:r}=Mu(),d=i.workspaces.isFetchingFolders,c=ig(i);if(d)return;if(!c){const e=new Error("Cannot find current team");throw l(e,{tags:{currentTeamId:i.teams.selectedTeamId??"",currentFolderId:i.workspaces.selectedWorkspace??"",preferredTeamId:t??"",preferredFolderId:a??"",isFetchingTeams:i.teams.isFetchingTeams,isFetchingFolders:i.workspaces.isFetchingFolders,needFetchTeams:KQe(i,{preferredTeamId:t,attemptedToFetchPreferredTeam:n}),needFetchFolders:VQe(i,{preferredFolderId:a,attemptedToFetchPreferredFolder:s}),needsSetCurrentTeam:XQe(i,t),needsSetCurrentFolder:HQe(i,a),needWaitToFetchTeams:o}}),e.__SKIP_SENTRY=!0,e}r(yf(!0));const u=await(async(e,t)=>{const{state:a}=Mu(),{currentUser:n}=a,{token:s}=n||{},o=await Kf("/api/v1/folders",{params:{token:s,teamId:e},signal:t});return[...o.teamFolders,...o.sharedFolders]})(c._id,e.signal);if(e.signal.aborted)return void r(yf(!1));if(!u.length)throw l(new Error("User has no folders. Captured in useCurrentFolder.ts"),{extra:{}}),new Error("Team has no folders.");r(lf(u)),r(yf(!1))}catch(i){cb({description:"Failed to fetch folders",error:i})}},GQe=e=>{const{state:t,dispatch:a}=Mu(),n=e?WQe(t,e):void 0;e===rd?a(df(rd)):n?a(df(n._id)):(()=>{const{dispatch:e,state:t}=Mu(),a=Lfe(t);if(!a)throw new Error("No folders found");e(df(null==a?void 0:a._id))})()},YQe=({preferredFolderId:e,preferredTeamId:t}={})=>{const a=Pve(),{isLoading:n,currentTeam:s,attemptedToFetchPreferredTeam:o}=$Qe({preferredTeamId:t}),[r,l]=i.useState(!0),[d,c]=i.useState(!1),u=Du((t=>VQe(t,{attemptedToFetchPreferredFolder:d,preferredFolderId:e}))),p=Du(Lfe),m=Du((t=>HQe(t,e))),g=Du(Nb),h=i.useMemo((()=>!!n||(!s||!(!t||s._id===t||o))),[o,s,n,t]);return i.useEffect((function(){g?h||(u?zQe({abortController:a,preferredTeamId:t,preferredFolderId:e,attemptedToFetchPreferredTeam:o,attemptedToFetchPreferredFolder:d,needWaitToFetchTeams:h}).then((()=>{a.signal.aborted||(e&&(c(!0),GQe(e)),l(!1))})):m?(GQe(e),l(!1)):l(!1)):l(!1)}),[a,d,o,g,u,m,h,e,t]),i.useMemo((()=>({currentFolder:p,currentTeam:s,isLoading:r||n})),[p,s,n,r])},KQe=u((e=>e.teams.allTeams),(e=>e.teams.selectedTeamId),((e,{preferredTeamId:t})=>t),((e,{attemptedToFetchPreferredTeam:t})=>t),((e,t,a,n)=>{const s=!e.length,o=e.find((e=>e._id===t)),i=e.find((e=>e._id===a));return!!s||(!!(!!t&&!o)||!(!(!!a&&!i)||n))})),XQe=u((e=>e.teams.allTeams),(e=>e.teams.selectedTeamId),((e,t)=>t),((e,t,a)=>{const n=e.find((e=>e._id===t)),s=e.find((e=>e._id===a));return!n||!(!a||!s||n._id===s._id)})),ZQe=async({abortController:e,preferredTeamId:t})=>{try{const{state:a,dispatch:n}=Mu();if(a.teams.isFetchingTeams)return;n(wb(!0));const s=await(async e=>{const{state:t}=Mu(),{currentUser:a}=t,{token:n,user:s}=a||{},{_id:o}=s||{},i={token:n,userId:o};try{return await Kf("/api/v2/teams/user",{params:i,signal:e})}catch(b9e){return[]}})(e.signal);if(e.signal.aborted)return void n(wb(!1));if(!s.length)throw l(new Error("User has no teams. Captured in useCurrentTeamV2.ts"),{extra:{preferredTeamId:t}}),new Error("User has no teams.");n(_b(s)),n(wb(!1))}catch(a){cb({description:"Failed to fetch teams",error:a})}},qQe=e=>{const{state:t,dispatch:a}=Mu(),n=e?JQe(t,e):void 0;n?a(fb(n._id)):(()=>{const{dispatch:e,state:t}=Mu();e(fb(ig(t)._id))})()},JQe=u((e=>e.teams.allTeams),((e,t)=>t),((e,t)=>e.find((e=>e._id===t)))),$Qe=({preferredTeamId:e}={})=>{const t=Pve(),a=Du(Nb),[n,s]=i.useState(!0),[o,r]=i.useState(!1),l=Du((t=>KQe(t,{attemptedToFetchPreferredTeam:o,preferredTeamId:e}))),d=Du((t=>XQe(t,e))),c=Du(ig);return i.useEffect((function(){a?l?ZQe({abortController:t,preferredTeamId:e}).then((()=>{t.signal.aborted||(e&&(r(!0),qQe(e)),s(!1))})):d?(qQe(e),s(!1)):s(!1):s(!1)}),[t,a,l,d,e]),i.useMemo((()=>({currentTeam:c,isLoading:n,attemptedToFetchPreferredTeam:o,needFetchTeams:l,needSetCurrentTeam:d})),[o,c,n,l,d])},QQe=new Set,e0e={byId:{},all:[],loaded:!1},t0e=e=>{const t=Bu(),a=Du((e=>e.assets.byId),Ou),n=Du((e=>e.teamBlueprints)),s=!e||e===Om._id,o=s?e0e:n[e||""];return i.useEffect((()=>{s||(null==o?void 0:o.loaded)||QQe.has(e)||(async()=>{try{QQe.add(e);const{blueprints:a,assets:n}=await Kf(`/api/v1/blueprints?teamId=${e}`);t(YE(n)),t(eW.upsert(a))}catch(b9e){console.error(b9e)}finally{t(eW.setLoaded({teamId:e,loaded:!0})),QQe.delete(e)}})()}),[t,o,e,a,s]),i.useMemo((()=>s?{...e0e,loaded:!0}:o||e0e),[o,s])};var a0e=(e=>(e.None="none",e.edit4ominiminor="8-29-4o-mini-minor-parts",e))(a0e||{});const n0e=()=>rR()?"14":"18",s0e="LanguageSelect-module_borderDiv_RXwyq";var o0e=(e=>(e.None="None",e.All="All",e.TranscriptionOptions="TranscriptionOptions",e.TranslationTargets="TranslationTargets",e))(o0e||{});const i0e={matchFrom:"any"},r0e=e=>{const{data:t}=e;return f.jsxs(f.Fragment,{children:[f.jsx(Cn.Option,{...e}),t.showBorderUnderOption&&f.jsx("div",{className:s0e})]})},l0e=b.memo((({className:e,languageCode:t,setLanguageCode:a,includeLanguageVariants:n,includeAutoDetect:s=!1,includeAllOption:o=!1,includeNoTranslate:r=!1,disabled:l,filterLanguageCodes:d,testid:c,unsupportedLanguageCodes:u,placeholder:p="Please select a language",backgroundColor:m="#202020",hoverBackgroundColor:g="#303030"})=>{const h=Bg(),v=Du((e=>e.currentUser.user.lastTranscriptionLanguages)),b=i.useMemo((()=>{const e=(e=>{switch(e){case"None":return eh;case"All":default:return Qg;case"TranscriptionOptions":return th;case"TranslationTargets":return nh}})(n),a=[];r&&a.push({value:"none",label:"No translation - use original language"}),o&&a.push(Jp);const i=e.find((({code:e})=>e===t));return i&&a.push({value:i.code,label:i.en}),v&&v.forEach((n=>{if(n===t)return;const s=e.find((e=>e.code===n));s&&a.push({value:s.code,label:s.en})})),s&&a.push(qp),a.length>0&&(a[a.length-1].showBorderUnderOption=!0),e.forEach((({en:e,code:n})=>{u&&u.includes(n)||d&&!d(n)||n===t||(null==v?void 0:v.includes(n))||a.push({value:n,label:`${e}`})})),a}),[t,n,r,s,o,u,d,v]),y=i.useCallback((e=>{e&&a(null==e?void 0:e.value)}),[a]),w=i.useCallback((()=>f.jsx("div",{style:{fontFamily:"Open Sans",fontStyle:"normal",fontWeight:"normal",fontSize:"12px",color:"white"},children:"Language not available"})),[]),_=b.find((e=>e.value===t)),C=i.useMemo((()=>({control:(e,t)=>({...e,background:m,minHeight:"30px",height:"40px",border:"none",cursor:"pointer",opacity:t.isDisabled?"0.4":"1.0","&:hover":{backgroundColor:g}}),menuPortal:e=>({...e,zIndex:n0e()+1,pointerEvents:"all"}),valueContainer:e=>({...e,height:"30px",padding:"0 10px"}),singleValue:e=>({...e,fontFamily:"Open Sans",fontStyle:"normal",fontWeight:"600",fontSize:"12px",color:"white"}),indicatorsContainer:e=>({...e,height:"40px"}),indicatorSeparator:()=>({display:"none"}),input:e=>({...e,fontFamily:"Open Sans",fontStyle:"normal",fontWeight:"normal",fontSize:"12px",color:"white"}),menu:e=>({...e,backgroundColor:m}),menuList:e=>({...e,zIndex:n0e()+1}),option:(e,{isFocused:t})=>({...e,fontFamily:"Open Sans",fontStyle:"normal",fontWeight:"600",fontSize:"12px",color:"white",backgroundColor:t?"#0083e2":""}),placeholder:e=>({...e,fontFamily:"Open Sans",fontStyle:"normal",fontWeight:"600",fontSize:"12px",color:"#A0A0A0"})})),[m,g]),S=i.useCallback((()=>{setImmediate((()=>{var e;const t=null==(e=null==document?void 0:document.getElementsByClassName("language-select-selected-item"))?void 0:e.item(0);t&&t.scrollIntoView({block:"center"})}))}),[]),x=i.useMemo((()=>({option:e=>e.isSelected?"language-select-selected-item":""})),[]),I=Ef()?void 0:B_();return f.jsx("div",{"data-testid":c,className:e,children:f.jsx(Ka,{inputId:`language-select-input-${c}`,components:{Option:r0e},menuPortalTarget:I,value:_,options:b,onChange:y,isSearchable:!h,isDisabled:l,noOptionsMessage:w,filterOption:_n(i0e),placeholder:p,styles:C,classNames:x,onMenuOpen:S})})}));const d0e={workspacePopoverZIndex:"18",popoverZIndex:"14",paywallZIndex:"1001",paywallBgZIndex:"1000",colors:"LimitBanner-module_colors_DNmuP",banner:"LimitBanner-module_banner_6jT0C",featureOut:"LimitBanner-module_featureOut_I6ra4",bannerContainer:"LimitBanner-module_bannerContainer_nzYmT",inverseColors:"LimitBanner-module_inverseColors_-kkb9",ctaButton:"LimitBanner-module_ctaButton_M0l9t",warningIcon:"LimitBanner-module_warningIcon_SkciP",leftSideContainer:"LimitBanner-module_leftSideContainer_yO1Zp",close:"LimitBanner-module_close_yLxWo"};function c0e(e){var t,a;const n=lg(),s=Du((e=>e.currentUser.user)),{openEnterpriseTypeform:o}=hC(),r=F(),{limitOverrides:l}=wD(),d=rP({limitOverrides:r.pathname.includes("/repurpose")?l:void 0}),c=QM(n),u=Du(Zj),[p,m]=i.useState(!1),g=i.useCallback((async()=>{await Xf(`/api/v2/teams/${n._id}/enterprise-form-dismissal`,{body:{userId:s._id},parseJSON:!1}),Eb()}),[n._id,s._id]),h=null==(t=Object.entries(d).find((([e,t])=>t.hasConsumedLimit&&Vd[e].showWarnings)))?void 0:t[0],v=null==(a=Object.entries(d).find((([e,t])=>t.is90PercentConsumed&&!t.hasConsumedLimit&&Vd[e].showWarnings)))?void 0:a[0],f=h||v,b=!!h,y=(h||v&&!u)&&!c;return i.useEffect((function(){y&&!p&&(ov("Enterprise packaging usage UI shown",{"Limit Exceeded":f,"Team ID":n._id,touchPoint:e}),m(!0))}),[y,n._id,e,p,f]),{shouldShow:!!y,showEnterprise:zw(n.planTier),feature:f,dismiss:g,openEnterpriseTypeform:o,usageAtLimit:b}}const u0e=b.memo((()=>{var e,t;const a=Bg(),{shouldShow:n,usageAtLimit:s,dismiss:o,openEnterpriseTypeform:i,feature:r,showEnterprise:l}=c0e("Studio Banner"),d=rse(),c=cg(),u=c.hasPermission(Fd.EXCEED_LIMITS),p=c.upgradesTo?nc(c.upgradesTo):null;if(!n||!r||!(null==(e=Vd[r])?void 0:e.showWarnings))return null;const{name:m}=Vd[r],g=(null==(t=Vd[r].tier[c.type])?void 0:t.resetPeriod)!==Wd.NEVER,h=u?"enable overages in settings.":l||!p?"get in touch with us.":c.type===Id.Free?"upgrade to one of our paid plans.":`upgrade to the ${p.name} plan.`,v=`Youve ${s?"":"almost "}reached your workspaces ${m} usage limit${g?" for this month":""}. To upgrade to more usage, ${h}`,b=u?a?"Settings":"Visit settings":l?a?"Contact":"Contact Sales":a?"Upgrade":"Upgrade Now",y=`Get unrestricted ${m} usage`;return f.jsx("div",{"data-cy":"pro-limit-warning",className:[s?d0e.featureOut:"",d0e.bannerContainer].join(" "),children:f.jsxs("div",{className:d0e.banner,children:[f.jsxs("div",{className:d0e.leftSideContainer,children:[f.jsx("div",{className:d0e.warningIcon,children:s?f.jsx(Sn,{}):f.jsx(It,{})}),a?y:v,f.jsx("button",{className:d0e.ctaButton,type:"button",onClick:()=>{if(u)nR();else{if(p)return l?i():d((()=>{}),{action:Dd.LIMITS_WARNING})();window.location.href=function(e="a limit"){return`mailto:teams@kapwing.com?subject=Extend%20Enterprise%20Limits&body=My workspace has run out of ${e}. I would like to discuss extending my enterprise limits.`}(m)}},children:b})]}),!s&&f.jsx(R,{onClick:o,className:d0e.close})]})})})),p0e=({assetIds:e,languageCode:t,translateCode:a,limitOverrides:n,fallbackDurationSec:s})=>{const[o,r]=i.useState(),[d,c]=i.useState(!0),[u,p]=i.useState();return i.useEffect((function(){(async()=>{try{await pP((async()=>{r(await eF({assetIds:e,languageCode:t,translateCode:a,limitOverrides:n,fallbackDurationSec:s}))}),{maxAttempts:3,event_properties:{fn:"useTranscribeCost"}})}catch(b9e){l(b9e,{tags:{fn:"useTranscribeCost"}}),p(b9e)}c(!1)})()}),[e,s,t,n,a]),i.useMemo((()=>({transcribeCostInfo:o,loading:d,error:u})),[u,d,o])},m0e="HighlightDurationInput-module_container_j2cFo",g0e="HighlightDurationInput-module_option_op6xv",h0e="HighlightDurationInput-module_selected_RIHu2",v0e=[{label:"15 - 30s",value:30},{label:"30 - 45s",value:45},{label:"45 - 60s",value:60},{label:"60 - 90s",value:90},{label:"90s - 3m",value:180}],f0e=()=>{const e=Ev.get("repurposeHighlightDurationDefault",{disabled:null});return e&&v0e.some((t=>t.value===e))?e:60},b0e=b.memo((({onChange:e,value:t})=>f.jsx("div",{className:m0e,children:v0e.map((a=>f.jsx("button",{className:L(g0e,a.value===t?h0e:null),onClick:()=>e(a.value),children:a.label},a.value)))}))),y0e="HighlightTopicsInput-module_topicsInput_Tjk0e",w0e="HighlightTopicsInput-module_topiscContainer_v141I",_0e="HighlightTopicsInput-module_topic_pXYoX",C0e="HighlightTopicsInput-module_topicText_sTrd-",S0e="HighlightTopicsInput-module_topicRemove_X2eci";function x0e(e){return e.split(",").map((e=>e.trim())).filter((e=>e))}const I0e=b.memo((({setTopics:e,topic:t})=>{const a=i.useCallback((()=>{e((e=>{const a=new Set(e);return a.delete(t),a}))}),[e,t]);return f.jsxs("div",{className:_0e,children:[f.jsx("div",{className:C0e,children:t}),f.jsx(R,{onClick:a,className:S0e,size:18})]})})),A0e=b.memo((({finalTopicsRef:e,workflow:t})=>{const[a,n]=i.useState(""),[s,o]=i.useState((()=>{const e=new Set;if(t&&fu(t))for(const a of t.requestedTopics||[])e.add(a);return e})),r=i.useMemo((()=>Array.from(s)),[s]),l=i.useCallback((e=>{n("");const t=e.trim();t&&o((e=>{const a=x0e(t);return new Set([...e,...a])}))}),[]),d=Array.from(new Set([...s,...x0e(a)]));return e.current=d,f.jsxs(f.Fragment,{children:[f.jsx("input",{value:a,onChange:e=>n(e.target.value),className:y0e,placeholder:"Generate clips about...",onKeyDown:e=>{"Enter"===e.key&&l(a)}}),f.jsx("div",{className:w0e,children:r.map((e=>f.jsx(I0e,{setTopics:o,topic:e},e)))})]})})),k0e="RepurposeCreate-module_bigContainer_l67ki",T0e="RepurposeCreate-module_wrapper_JQqN4",E0e="RepurposeCreate-module_uploadedAssetsMobile_oYSy9",L0e="RepurposeCreate-module_container_QoM-T",j0e="RepurposeCreate-module_createHeader_KQJzp",R0e="RepurposeCreate-module_description_oETjh",N0e="RepurposeCreate-module_createContainer_uXz0W",M0e="RepurposeCreate-module_languageSection_t5VRf",P0e="RepurposeCreate-module_label_hMnZX",F0e="RepurposeCreate-module_sublabel_sdAgf",D0e="RepurposeCreate-module_callout_VAs5p",O0e="RepurposeCreate-module_table_vBBb0",U0e="RepurposeCreate-module_column_YG5hD",B0e="RepurposeCreate-module_item_s4tEH",W0e="RepurposeCreate-module_calloutTitle_gzK4u",V0e="RepurposeCreate-module_checkmark_VlbZO",H0e="RepurposeCreate-module_x_UOkzm",z0e="RepurposeCreate-module_confirmButtonWrapper_oxP0m",G0e="RepurposeCreate-module_minHeight800px_diZ-A",Y0e="RepurposeCreate-module_minHeight600px_EQp-0",K0e="RepurposeCreate-module_tryASampleTitle_qaBF1",X0e="RepurposeGenerateButton-module_disabled_zzIJq",Z0e="RepurposeGenerateButton-module_primaryButton_AODVU",q0e="RepurposeGenerateButton-module_loading_o8hF9",J0e=he((e=>u((t=>t.workflows.workflowById[e]),(e=>{if(!e||"success"!==e.status)throw new Error("Workflow is not fetched");const t=e.data;if(fu(t))return t;if(_u(t))return t;throw new Error("Workflow is not completed")})))),$0e=he((e=>u((t=>t.workflows.workflowById[e]),(e=>"success"===(null==e?void 0:e.status)?e.data:null)))),Q0e=he((e=>u((e=>e.workflows.workflowById),(t=>{const a=Object.values(t).filter((e=>"success"===e.status)).find((t=>t.data.assetId===e));return null==a?void 0:a.data})))),e1e=he((e=>u((t=>$0e(e)(t)),(e=>e?e.status===vu.COMPLETE?{workflowId:e._id,asset:e.asset,cmlFile:e.cmlFile,assetId:e.assetId,isAudioOnly:e.isAudioOnly,status:e.status,languageCode:e.languageCode,isSample:e.isSample,teamId:e.teamId,folderId:e.folderId,highlights:e.highlights,visionJob:e.visionJob,autoEmojiDataJob:e.autoEmojiDataJob,words:e.words,highlightId:e.highlightId}:{workflowId:e._id,asset:e.asset,assetId:e.assetId,cmlFile:e.cmlFile,isAudioOnly:e.isAudioOnly,status:e.status,languageCode:e.languageCode,isSample:e.isSample,teamId:e.teamId,folderId:e.folderId,highlights:void 0,visionJob:void 0,autoEmojiDataJob:void 0,words:void 0,highlightId:void 0}:null)))),t1e=he((e=>u(J0e(e),(e=>{const{highlights:t,highlightSortOrder:a,requestedTopics:n}=e,s=(null==t?void 0:t.filter((e=>e.sections)))||[],o="ai-rating"===a&&s.every((e=>null!==e.aiReviewIndex)),i=e=>e.reduce(((e,t)=>Math.min(e,(e=>{const t=n?n.findIndex((t=>t===e)):-1;return-1===t?1/0:t})(t))),1/0);return s.sort(((e,t)=>{if(o)return(e.aiReviewIndex??0)-(t.aiReviewIndex??0);const a=e.topics||[],n=t.topics||[];if(a.length!==n.length)return n.length-a.length;const s=i(a),r=i(n);return s!==r?s-r:e.timeOrderedIndex-t.timeOrderedIndex})),s})))),a1e=he((e=>u(t1e(e),ID(e),((e,t)=>e.find((e=>{var a;return!(null==(a=t[e.id])?void 0:a.isHidden)})))))),n1e=({requestedExperiment:e=null})=>{const t=Du((e=>e.currentUser)),{limitOverrides:a}=wD(),{validateUpload:n}=PJe(),s=Bu(),o=rse(),r=jfe(),d=lg(),[c,u]=i.useState(!1),p=i.useCallback((async e=>{const t=Q0e(e)(Mu().state);if(t)return t;if(!(null==d?void 0:d._id))return;return n7({assetId:e,teamId:null==d?void 0:d._id})}),[null==d?void 0:d._id]),m=i.useCallback((async({assetIds:t,languageCode:n,eventHandlers:s,entryPoint:o,targetDuration:i,topics:d})=>{var c,u;try{if(!r)throw new Error("Current folder cannot be found.");const{workflows:l}=await(async({assetIds:e,folderId:t,languageCode:a,requestedExperiment:n,requestedTopics:s,requestedDuration:o})=>{const i=qu(Mu().state),r={assetIds:e,folderId:t,languageCode:a,shouldFragmentPreview:_S({isCanvas:!0,mediaPipe:!0}),shouldGenerateHlsPreview:i.HLS&&yS().allowed,previewABTestGroup:$u()};return n&&(r.requestedExperiments=[n]),s&&(r.requestedTopics=s),o&&(r.requestedDuration=o),await Xf("/api/v2/workflows",{body:r})})({assetIds:t,folderId:r._id,languageCode:n,requestedExperiment:e,requestedTopics:d,requestedDuration:i}),u=l[0];if(!u)throw new Error("No workflow created");const p=u.workflowId,{durationOfAllAssetsBeingRequested:m,projectedUsage:g,transcribeCost:h}=await eF({assetIds:t,languageCode:n,translateCode:void 0,limitOverrides:a});ov("Repurpose Generation Started",{"Find Highlights Workflow ID":p,"Asset Duration (min)":m,"Entry Point":o,"Requested Topics":d||[],"# of Requested Topics":d?d.length:0,"Requested Duration (sec)":i,"Asset was Pre-Transcribed":h.isFree}),await n7({workflowId:p}),await c_(g),g.TRANSCRIBE&&await(async({feature:e,value:t})=>{const a=hD(),n=(null==a?void 0:a[e])??0;await vD({feature:e,value:n+t})})({feature:"repurposeStudioMinutes",value:g.TRANSCRIBE}),null==(c=null==s?void 0:s.onSuccess)||c.call(s,p)}catch(p){console.error(p),l(p,{tags:{feature:Tu.repurposeStudio},extra:{entryPoint:o}}),cb({description:"Failed to generate clips. Please try again.",error:p}),null==(u=null==s?void 0:s.onError)||u.call(s,p)}}),[r,e,a]),g=i.useCallback((async({assetIds:e,languageCode:i,entryPoint:r,eventHandlers:l,targetDuration:c,topics:g,paywallSuccessRedirectUrl:h,signInRedirectUrl:v})=>{var f;if(!e.length||!e[0])return void s(db({description:"Please select an asset to continue",type:"error"}));if(!qm(t))return void wA({immediateRedirectPathname:v,modalType:fA.SIGN_IN,overlayWrapperProps:{noOverlay:!0}});const b=await p(e[0]);if(b&&b.languageCode===i)return void(null==(f=null==l?void 0:l.onSuccess)||f.call(l,b._id));const{freeUsageExceeded:y,proUsageExceeded:w}=await eF({assetIds:e,languageCode:i,translateCode:void 0,limitOverrides:a});if(y||w)return void o((()=>{}),{action:Dd.REPURPOSE_STUDIO,teamId:null==d?void 0:d._id,immediateRedirectPathname:h})();const _=(null==e?void 0:e[0])&&n(null==e?void 0:e[0],fD);!_||"error"!==_.type&&"loading"!==_.type?(u(!0),await m({assetIds:e,languageCode:i,entryPoint:r,eventHandlers:l,targetDuration:c,topics:g}),u(!1)):s(db({description:_.message,type:"error"}))}),[m,null==d?void 0:d._id,t,s,p,a,o,n]),h=i.useCallback(((e,t)=>{const a=`/repurpose/${e}${qw({[Xw.REPURPOSE_ENTRY_POINT]:t})}`;Jye({url:a,toastInfo:{description:["Allow pop-ups and redirects in your browser to continue, or ",{text:"open your project here",href:`/repurpose/${e}${qw({[Xw.REPURPOSE_ENTRY_POINT]:t})}`}]},onFail:()=>{ov("Repurpose In New Tab Blocked",{"Entry Point":t})}})}),[]);return i.useMemo((()=>({generateRepurposeProject:g,getExistingWorkflow:p,isGenerating:c,openRepurposeProjectInNewTab:h})),[g,p,c,h])},s1e=b.memo((({assetIds:e,languageCode:t,setLoading:a,disabled:n,requestedExperiment:s,finalTopicsRef:o,targetDuration:r})=>{const l=Du((e=>e.currentUser)),d=P(),[c,u]=i.useState(!1),{showPersonalizedShareModalIfNeeded:p}=zqe(),m=i.useCallback((e=>{null==a||a(e),u(e)}),[a]),g=i.useCallback((e=>{d(`/repurpose/${e}`),p(),m(!1)}),[m,d,p]),h=i.useCallback((e=>{cb({description:"Failed to generate clips. Please try again.",error:e})}),[]),{generateRepurposeProject:v,isGenerating:b}=n1e({requestedExperiment:s,transcriptRequestingFeature:"repurpose-studio"}),y=i.useCallback((async()=>{m(!0),Ev.set("repurposeHighlightDurationDefault",r),await v({assetIds:e,languageCode:t,eventHandlers:{onStart:()=>m(!0),onSuccess:g,onError:h},paywallSuccessRedirectUrl:`/repurpose/create?asset_id=${e[0]}`,signInRedirectUrl:`/repurpose/create?asset_id=${e[0]}`,entryPoint:"repurpose_studio_create",targetDuration:r,topics:o.current}),m(!1)}),[e,o,v,h,m,g,t,r]),w=i.useMemo((()=>qm(l)?"Generate Clips":"Sign in to generate clips"),[l]),_=c||b;return f.jsx("div",{className:L(Z0e,{[X0e]:n||_}),onClick:y,children:_?f.jsx("div",{className:q0e}):f.jsxs("span",{children:[f.jsx("span",{children:w}),f.jsx(Ea,{})]})})})),o1e="RepurposeSample-module_tileContainer_0FW36",i1e="RepurposeSample-module_tileTitle_tXSvZ",r1e="RepurposeSample-module_container_LewPC",l1e="RepurposeSample-module_tileThumbnail_99854",d1e="RepurposeSample-module_tileDescription_dbP-A",c1e="RepurposeSample-module_tileDuration_S0fTE",u1e="RepurposeSample-module_tileDescriptionArrow_nTIEO",p1e="RepurposeSample-module_tileClipsCount_-DFRy",m1e=()=>{const e=Du((e=>Nb(e))),t=jfe(),a=lg(),[n,s]=i.useState(!1),o=P(),r=({workflowId:e})=>{if(e)return DK.find((t=>t.workflowId===e))},l=i.useCallback((e=>{o(`/repurpose/${e.workflowId}`)}),[o]),d=i.useCallback((async e=>{if((null==t?void 0:t._id)&&(null==a?void 0:a._id))try{const t=await a7({assetId:e.assetId,teamId:a._id});t&&o(`/repurpose/${t.highlights._id}`)}catch(b9e){if(!(b9e instanceof Hf&&404===b9e.status))return void cb({description:"There was an error accessing your repurpose project. Please try again later.",error:b9e});try{s(!0);const{success:n,data:i}=await o7({workflowId:e.workflowId,folderId:t._id,teamId:a._id});n&&o(`/repurpose/${i.workflowId}`)}catch(n){console.error(n),cb({description:"There was an error creating your repurpose project. Please try again later.",error:n})}finally{s(!1)}}}),[null==t?void 0:t._id,null==a?void 0:a._id,o]),c=i.useCallback((async t=>{e?await d(t):l(t)}),[d,l,e]);return i.useMemo((()=>({getRepurposeSample:r,createRepurposeProjectFromSample:d,goToSampleWorkflow:l,tryARepurposeSample:c,isLoading:n})),[d,l,c,n])},g1e=b.memo((({data:e})=>{const{tryARepurposeSample:t}=m1e(),a=i.useCallback((async()=>{ov("Try a sample in repurpose studio"),await t(e)}),[e,t]),n=i.useCallback((e=>`${Math.floor(e/60)}:${String(e%60).padStart(2,"0")}`),[]);return f.jsxs("div",{onClick:a,className:L(o1e),children:[f.jsxs("div",{className:L(l1e),children:[f.jsx(sqe,{elementType:gu.WORKFLOW,text:"Sample",absolute:!0}),f.jsx("img",{src:e.thumbnail,alt:e.title})]}),f.jsx("div",{className:i1e,children:e.title}),f.jsxs("div",{className:d1e,children:[f.jsx("div",{className:c1e,children:`${n(e.assetDuration)} ${e.type}`}),f.jsx("div",{className:u1e,children:f.jsx(xn,{})}),f.jsxs("div",{className:p1e,children:[e.clipsCount," clips"]})]})]})})),h1e=b.memo((({className:e})=>f.jsx("div",{className:L(r1e,e),children:DK.map(((e,t)=>f.jsx(g1e,{data:e},t)))})));function v1e(){const e=Du((e=>{var t;return null==(t=e.currentUser.user.transcriptionPreferences)?void 0:t.languageCode}))??"en-US",t=Cxe()&&!1,[a,n]=i.useState(null),[s,o]=i.useState(f0e()),{limitOverrides:r}=wD(),[l,d]=i.useState(e),[c,u]=i.useState([]),[p,m]=i.useState(!1),[g,h]=i.useState(!1),[v,b]=i.useState(),y=!!c.length,w=!v||v&&"warning"===v.type,_=i.useMemo((()=>{const e=new URLSearchParams(window.location.search).get("asset_id");if(e)return[e]}),[]),{goToSampleWorkflow:C}=m1e(),{withSample:S,sampleType:x,landingPageSource:I}=BK(),A=Bg(),k=c.length?c[0]:"",T=Du((e=>fS({asset:k?e.assets.byId[k]:null,idbAsset:null,framePercentage:1,timelineLayer:null,state:e}))),E=i.useRef([]);i.useEffect((function(){if(S&&x){const e=DK.find((e=>e.type===x));e&&C(e)}}),[C,x,S]);const j=i.useCallback((e=>{const t=new Set(e);u(Array.from(t))}),[]),R=i.useCallback((e=>{d(e),UP({languageCode:e})}),[]),N=i.useCallback((e=>{u([e])}),[]),M=i.useCallback((e=>{u((t=>{const a=new Set(t);return a.delete(e),Array.from(a)}))}),[]),P=`/repurpose/create?asset_id=${Array.from(c)[0]}`,{transcribeCostInfo:F}=p0e({limitOverrides:r,assetIds:c,languageCode:l,translateCode:void 0}),D=(null==F?void 0:F.transcribeCost.cost)??0,{blocked:O,usageExceededCategories:U}=uP({limitOverrides:r,projectedUsage:{TRANSCRIBE:D}}),B=O&&U.includes(Bd.TRANSCRIBE),W=!g&&!p&&w&&!B,V=i.useMemo((()=>({analyticsUploadSource:"Workspace Find Highlights",uploadSourceComponent:"WorkspaceFindHighlights",doDuplicateHandling:!1,skipAddTimelineLayer:!0,skipCMLCreation:!0})),[]),H=i.useMemo((()=>({disallowImages:!0,audioUpload:!0})),[]);i.useEffect((function(){const e=new URL(window.location.href).searchParams.get(Xw.REPURPOSE_ENTRY_POINT);e&&gR([Xw.REPURPOSE_ENTRY_POINT]);ov("Repurpose Viewed Start",{"Entry Point":I||e})}),[I]);const z=c.length||p,G=A&&!y&&!p&&!z,Y=!y&&!p&&!z;return f.jsxs("div",{className:k0e,children:[f.jsx(u0e,{}),f.jsx(Tqe,{}),f.jsx("div",{className:L(T0e,{[E0e]:y||p}),children:f.jsxs("div",{className:L0e,children:[c.length>0&&F&&!F.transcribeCost.isFree&&f.jsx(cAe,{estimatedUsageByCategory:{[Bd.TRANSCRIBE]:D},paywallOptions:{immediateRedirectPathname:P}}),!z&&f.jsx(b1e,{}),f.jsxs("div",{className:N0e,children:[f.jsx(C$e,{assetThumbnail:T||null,handleRemoveAsset:M,handleFileUploadFinish:j,handlePasteLinkFinish:N,setUploading:m,disabled:g,initialUploadAssetIds:_,validators:fD,uploadOptions:V,validationOptions:H,setUploadValidationInfo:b,loadingStyle:"poster"}),z&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:M0e,children:[f.jsx("span",{className:P0e,children:"File language"}),f.jsx(l0e,{languageCode:l,setLanguageCode:R,disabled:g,includeLanguageVariants:o0e.All})]}),f.jsxs("div",{children:[f.jsx("div",{className:P0e,children:"Maximum duration of clips"}),f.jsx(b0e,{onChange:o,value:s})]}),f.jsxs("div",{children:[f.jsx("div",{className:P0e,children:"Clip topics (optional)"}),f.jsx("div",{className:F0e,children:"Want to generate clips about a certain topic covered in your content? Type in keywords here, separated by commas, and well prioritize clips about those topics"}),f.jsx(A0e,{finalTopicsRef:E})]}),f.jsx("div",{className:z0e,children:f.jsx(s1e,{assetIds:c,languageCode:l,disabled:!W,setLoading:h,requestedExperiment:a,finalTopicsRef:E,targetDuration:s})})]}),G&&f.jsx(f1e,{}),Y&&f.jsxs("div",{children:[A&&f.jsx("div",{className:K0e,children:"Try a Sample:"}),f.jsx(h1e,{className:Y0e})]}),t&&f.jsxs(f.Fragment,{children:[f.jsx("div",{children:"(Admin only)"}),f.jsxs("div",{children:["Opt in to find highlights experiment:"," ",f.jsx("input",{type:"checkbox",checked:null===a,onChange:e=>{e.target.checked,n(null)}})]}),f.jsxs("div",{children:["Opt out of find highlights experiment:"," ",f.jsx("input",{type:"checkbox",checked:a===a0e.None,onChange:e=>{e.target.checked?n(a0e.None):n(null)}})]})]})]})]})})]})}const f1e=b.memo((()=>f.jsxs("div",{className:L(D0e,G0e),children:[f.jsx("div",{className:W0e,children:"TIP: Repurpose Studio works best with longform talking videos!"}),f.jsxs("div",{className:O0e,children:[f.jsxs("div",{className:U0e,children:[f.jsxs("div",{className:B0e,children:[f.jsx("span",{className:V0e,children:f.jsx(Ut,{})})," ","Webinars"]}),f.jsxs("div",{className:B0e,children:[f.jsx("span",{className:V0e,children:f.jsx(Ut,{})})," ","Podcasts"]}),f.jsxs("div",{className:B0e,children:[f.jsx("span",{className:V0e,children:f.jsx(Ut,{})})," ","Interviews"]})]}),f.jsxs("div",{className:U0e,children:[f.jsxs("div",{className:B0e,children:[f.jsx("span",{className:V0e,children:f.jsx(Ut,{})})," ","Product Reviews"]}),f.jsxs("div",{className:B0e,children:[f.jsx("span",{className:V0e,children:f.jsx(Ut,{})})," ","Speeches"]}),f.jsxs("div",{className:B0e,children:[f.jsx("span",{className:V0e,children:f.jsx(Ut,{})})," ","Lectures"]})]}),f.jsxs("div",{className:U0e,children:[f.jsxs("div",{className:B0e,children:[f.jsxs("span",{className:H0e,children:[" ",f.jsx(xa,{})]})," ","Music Videos"]}),f.jsxs("div",{className:B0e,children:[f.jsxs("span",{className:H0e,children:[" ",f.jsx(xa,{})]})," ","Gaming"]}),f.jsxs("div",{className:B0e,children:[f.jsxs("span",{className:H0e,children:[" ",f.jsx(xa,{})]})," ","Vlogs"]})]})]})]}))),b1e=b.memo((()=>f.jsxs("div",{className:j0e,children:[f.jsx("h1",{children:"All the best clips from one recording"}),f.jsx("div",{className:R0e,children:"Magically transform a long video or audio asset into multiple short-form clips that are already optimized for social media. Track active speakers, customize subtitles, and make additional edits to your clips."})]})));function y1e(e,t){return e?e.filter((e=>e!==t)):[]}function w1e(e,t){const a=e||[];return a.includes(t)||a.push(t),a}const _1e=PU.withUndoBatch((e=>{const t=e&&"video"===e.type&&e.hasAudio&&!e.detachedAudioId;if(!e||!t)return;Mu().dispatch(AK.makeRoomForDetachAudio({layerId:e.id}));const a=Kpe(e,{positionOffset:!1,detachAudio:!0});uk({[e.id]:{detachedAudioId:a.detachedAudioId,usedProFeatures:y1e(e.usedProFeatures,"text-to-speech"),volume:0,hasAudio:!1}},"detachAudio.ts",!0);const{dispatch:n}=Mu();return n(HG(e.id,Cu.VOLUME)),a})),C1e=PU.withUndoBatch((e=>{var t;e instanceof KeyboardEvent&&e.preventDefault();const{state:a}=Mu(),{selectedItem:n}=a.studio;let s,o;if("group"===(null==n?void 0:n.type)){const e=(null==n?void 0:n.id)||"",{groups:i}=a.studio;((null==(t=i[e])?void 0:t.layers)||[]).forEach((e=>{s=a.studio.allLayers.byId[e.id],o=_1e(s)}))}else if("layer"===(null==n?void 0:n.type)){const e=(null==n?void 0:n.id)||"";s=a.studio.allLayers.byId[e],o=_1e(s)}return o}));const S1e=(e,t)=>{const a=Du((t=>{var a;return e?(null==(a=t.studioLocal.previewTimelineState)?void 0:a.pxInSecond)||0:mK(t)})),n=t??a,s=i.useCallback((e=>n?$Y(n,e):0),[n]),o=i.useCallback((t=>{if(!n)return 0;const a=(e?-25:0)/n;return QY(n,t)+a}),[e,n]),r=i.useCallback((t=>{if(!n)return 0;const a=e?-25:0;return eK(n,t)+a}),[e,n]),l=i.useCallback((e=>n?((e,t)=>t*e)(n,e):0),[n]);return i.useMemo((()=>({convertWidthToSeconds:s,convertOffsetToSeconds:o,convertSecondsToOffset:r,convertSecondsToWidth:l})),[o,r,l,s])},x1e=e=>i.createElement("svg",{viewBox:"0 0 10 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},i.createElement("path",{d:"M1.8 12H8.2C8.64183 12 9 11.6418 9 11.2V6.08964C9 5.90249 8.93439 5.72126 8.81458 5.57749L5 1L1.18542 5.57749C1.06561 5.72126 1 5.90249 1 6.08964V11.2C1 11.6418 1.35817 12 1.8 12Z",fill:"white",stroke:"white",strokeWidth:.8})),I1e="Seeker-module_seekerContainer_3jRbv",A1e="Seeker-module_seeker_60xMG",k1e="Seeker-module_cursorImage_7IZpG",T1e="TimelineTooltip-module_tooltip_ln9rl",E1e=b.memo((({tooltipPosition:e,isSeekerDragging:t,customString:a,narrow:n})=>{const[s,o]=i.useState(),{convertOffsetToSeconds:r}=S1e(),l=!!e;return i.useEffect((()=>{if(!l&&t){o(vP(dY()));const e=uY((e=>{o(vP(e))}));return()=>{e(),o(void 0)}}}),[l,t]),l?f.jsx("div",{className:T1e,style:{position:"absolute",top:`${e.top+e.height}px`,left:e.left,height:"16px",width:(n?40:52)+"px",marginLeft:`-${n?20:26}px`},children:void 0!==a?a:vP(r(e.left))}):t?f.jsx("div",{style:{position:"absolute",top:"30px",height:"16px",width:"fit-content"},className:T1e,children:s}):null})),L1e=({disabled:e})=>{const t=Du((e=>dU(e)[0])),a=i.useCallback((()=>{ov("Detach audio",{source:"Context Menu"}),C1e()}),[]);if(!t)return null;if("video"!==t.type)return null;const n=np(t)&&t.hasAudio&&!t.detachedAudioId,s=Jme("A",void 0,[In,ft]),o=Qme("Ctrl+Shift+A");return f.jsx(ege,{title:"Detach Audio",onClick:a,renderMacOSIcon:s,renderWindowsIcon:o,disabled:e||!n})},j1e=(e,t)=>{const a=document.querySelector(`[data-layerid="${e}"]`);if(!a)return;a.scrollIntoView({block:"center",behavior:"smooth"});document.querySelector(`[data-layerid="${e}"]`)&&Vj(e,"canvas"===t?{showLayerContextMenu:!0}:{showTrackContextMenu:!0})},R1e=u((e=>e.studioLocal.mediaItemGhostTrack),(e=>!!e));function N1e({children:e,RadixMenu:t,layerId:a,rootProps:n,contentProps:s}){const o=t===_r,{onContextMenuOpen:i,onContextMenuClose:l}=Bpe(),d=Bu(),{isRippleModeEnabled:c,selectedGroup:u,copiedModifications:p,isSelected:m,shouldDisableContextMenu:g}=Du((e=>{const t=oU(e),n="layer"===(null==t?void 0:t.type)&&t.item.id===a,s="group"===(null==t?void 0:t.type)&&t.item.selectedLayers.some((e=>e.id===a));return{isRippleModeEnabled:pK(e),selectedGroup:s?t.item.group:null,copiedModifications:e.projectSessionSettings.copiedModifications,isSelected:n||s,shouldDisableContextMenu:R1e(e)}}),r.shallowEqual),h=Du(rme),v=Cxe(),b=fve(),y=Mue().every((e=>QK(e)));return g?e:f.jsxs(t.Root,{onOpenChange:e=>{e&&d({type:"ADD_CONTEXT_MENU_ANALYTICS"}),e&&!m&&d(ck({id:a,type:"layer"})),e||Vj(a,{showTrackContextMenu:!1}),o&&(e?i():l())},...n,children:[f.jsx(t.Trigger,{children:e}),f.jsx(t.Portal,{children:f.jsxs(t.Content,{className:Dpe.contextMenuContainer,"data-cy":"trackpad-context-menu",...s,children:[f.jsx(t.Item,{children:f.jsx(vge,{})}),f.jsx(t.Item,{children:f.jsx(uge,{})}),f.jsx(t.Item,{onSelect:e=>e.preventDefault(),children:f.jsx(fge,{disabled:!0})}),u?f.jsxs(f.Fragment,{children:[f.jsx(t.Separator,{asChild:!0,children:f.jsx(Fge,{})}),f.jsx(t.Item,{children:f.jsx(Tge,{selectedGroup:u})})]}):f.jsxs(f.Fragment,{children:[f.jsx(t.Separator,{asChild:!0,children:f.jsx(Fge,{})}),f.jsx(t.Item,{children:f.jsx(wge,{location:"trackpad"})}),f.jsx(t.Separator,{asChild:!0,children:f.jsx(Fge,{})}),y&&f.jsx(t.Item,{children:f.jsx(_ge,{})})]}),y?f.jsxs(f.Fragment,{children:[f.jsx(t.Separator,{asChild:!0,children:f.jsx(Fge,{})}),f.jsx(t.Item,{onSelect:e=>{u&&e.preventDefault()},children:f.jsx(gge,{disabled:!!u})}),f.jsx(t.Item,{onSelect:e=>{p||e.preventDefault()},children:f.jsx(hge,{disabled:!p})}),f.jsx(t.Separator,{asChild:!0,children:f.jsx(Fge,{})})]}):null,f.jsx(t.Item,{children:f.jsx(lge,{})}),!c&&f.jsx(cge,{}),f.jsx(t.Separator,{asChild:!0,children:f.jsx(Fge,{})}),f.jsx(t.Item,{children:f.jsx(bge,{})}),f.jsx(t.Item,{children:f.jsx(yge,{})}),f.jsx(t.Item,{children:f.jsx(L1e,{})}),h&&f.jsx(Sge,{}),b&&v&&f.jsx(f.Fragment,{children:f.jsx(t.Item,{children:f.jsx(Cge,{})})}),b&&v&&f.jsxs(f.Fragment,{children:[f.jsx(t.Separator,{asChild:!0,children:f.jsx(Fge,{})}),f.jsx(t.Item,{children:f.jsx(Rge,{})})]})]})})]})}function M1e({children:e,...t}){return f.jsx(N1e,{RadixMenu:Cr,...t,children:e})}function P1e({children:e,...t}){return f.jsx(N1e,{RadixMenu:_r,...t,children:e})}function F1e({children:e,...t}){const a=Du((e=>{var a;return null==(a=e.studioLocal.layerTempValues[t.layerId])?void 0:a.showTrackContextMenu})),n=a?M1e:P1e,s=a?{rootProps:{open:!0},contentProps:{align:"start",side:"top",updatePositionStrategy:"always",avoidCollisions:!0}}:{};return"ghost-track"===t.layerId?null:f.jsx(n,{...t,...s,children:e})}const D1e="AudioTrack-module_audioTrack_xtHnL",O1e="AudioTrack-module_icon_BqA0c",U1e="AudioTrack-module_spans_NhJH-",B1e="AudioTrack-module_waveformContainer_8fpNR",W1e="Effects-module_playbackShimmer_fC6MW",V1e="Effects-module_waveformShimmer_0UHER",H1e="Effects-module_thumbnailShimmer_koDGP",z1e="KeyframeVolumeSlider-module_svg_JGke1",G1e=e=>100*(1-(Math.max(e-1,0)*(1-.7)+.7*Math.min(e,1))),Y1e=e=>{const t=1-e/100;return Math.max(t-.7,0)/(1-.7)+Math.min(t,.7)/.7};function K1e({audioCanvasHeight:e,trackId:t,chunk:a,containerStart:n,setTooltipProps:s}){const o=i.useRef(!1),{track:r,volumeChannel:l,timelineScrollLeft:d}=Du((e=>((e,t)=>{var a,n;return{track:v8(e,t),volumeChannel:null==(a=Kse(e,t))?void 0:a[Cu.VOLUME],timelineScrollLeft:(null==(n=e.projectSessionSettings.timelinePosition)?void 0:n.timelineScrollLeft)||0}})(e,t)),Ou),{convertSecondsToWidth:c,convertWidthToSeconds:u}=S1e(),p=i.useMemo((()=>{const e=u(n),t=a.startPx+n,s=a.endPx+n,o=a.startSec+e,i=a.endSec+e;return{...a,startPx:t,startSec:o,endPx:s,endSec:i,widthPx:s-t}}),[a,n,u]),m=i.useMemo((()=>{if(null==l||null==l.keyframes||0===l.keyframes.length||null==l.bezArray)return"";const{keyframes:t,bezArray:a}=l,n=(t,a)=>{const n=c(t)-p.startPx,s=G1e(a)/100,o=e*s;return`${n.toFixed(2)},${o.toFixed(2)}`},s=e=>{for(let o=0;o<t.length;o++){const s=t[o];if(s.time>=e){if(0===o)return n(e,s.value);const i=t[o-1],r=Gk(a,e,i,s);return n(e,r)}}const s=t[t.length-1];return n(e,s.value)},o=[];o.push(s(p.startSec));for(let e=0;e<t.length;e++){const a=t[e];if(!(a.time<p.startSec)){if(a.time>p.endSec)break;o.push(n(a.time,a.value))}}return o.push(s(p.endSec)),o.join(" ")}),[l,e,p,c]),g=t=>{if(null==r)return;const a=zg(t.nativeEvent.offsetY,0,e)/e*100,n=Y1e(a);jY({...r,volume:n});const{left:o,width:i,top:l}=r.timelinePosition,c={...r.timelinePosition,left:Math.min(Math.max(Dce(t)+d,o),o+i),top:l-e-30+a/100*e};s({tooltipPosition:c,customString:`${Math.round(100*n)}%`,narrow:!0})};return null!=r&&r.hasAudio&&null!=l?f.jsx(f.Fragment,{children:f.jsxs("svg",{"data-volume-slider":"true",viewBox:`0 0 ${p.widthPx} ${e}`,className:z1e,onPointerDown:e=>{const t=e.target;if(t instanceof SVGElement&&t.dataset.line){e.preventDefault(),e.stopPropagation(),e.currentTarget.setPointerCapture(e.pointerId),o.current=!0,PU.beginBatch();const[t]=zC(r);JJ({time:t+p.startSec+u(e.nativeEvent.offsetX)}),GJ(),g(e)}},onPointerMove:e=>{o.current&&g(e)},onPointerUp:e=>{o.current&&(g(e),s(null),PU.endBatch()),o.current=!1},children:[f.jsx("polyline",{points:m,fill:"none",stroke:Iye.volumeColor,strokeWidth:"2"}),f.jsx("polyline",{points:m,fill:"none",stroke:"transparent",strokeWidth:"10",pointerEvents:"stroke",cursor:"ns-resize","data-line":!0})]})}):null}class X1e{constructor(e,t){a(this,"name"),a(this,"selector"),this.selector=e,this.name=t}}function Z1e(e,t,a,n,s,o){!function(e,t,a,n,s,o,i,r){const l=Math.min(s/i,o/r);let d,c,u,p,m=i*l,g=r*l,h=1;m<s&&(h=s/m),Math.abs(h-1)<1e-14&&g<o&&(h=o/g),m*=h,g*=h,u=i/(m/s),p=r/(g/o),d=.5*(i-u),c=.5*(r-p),d<0&&(d=0),c<0&&(c=0),u>i&&(u=i),p>r&&(p=r),e.drawImage(t,d,c,u,p,a,n,s,o)}(e,t,a,n,s,o,t.videoWidth,t.videoHeight)}class q1e{constructor({trackId:e,fallbackThumbnailVideoURL:t,mediaCacheId:n,range:s,thumbnailVideoURL:o,isWebm:i,source:r}){a(this,"id"),a(this,"trackId"),a(this,"cancellationSource",new vre),a(this,"done",!1),a(this,"fallbackThumbnailVideoURL"),a(this,"thumbnailVideoURL"),a(this,"mediaCacheId"),a(this,"isWebm"),a(this,"source"),this.id=`${s[0]}_${s[1]}_${e}`,this.trackId=e,this.fallbackThumbnailVideoURL=t,this.thumbnailVideoURL=o,this.mediaCacheId=n,this.isWebm=i,this.source=r}useFallbackURLForTrackInFuture(){const{dispatch:e}=Mu();this.getURL()!==this.fallbackThumbnailVideoURL&&e({type:"SET_TRACK_THUMBNAIL_FALLBACK",mediaCacheId:this.mediaCacheId})}getURL(){const{state:e}=Mu();return e.studioLocal.thumbnailTrackFallbacks[this.mediaCacheId]?this.fallbackThumbnailVideoURL:this.thumbnailVideoURL}isFallbackURL(e){return e===this.fallbackThumbnailVideoURL}}class J1e{constructor({mediaCacheId:e,frameTime:t,job:n,height:s,width:o}){a(this,"mediaCacheId"),a(this,"frameTime"),a(this,"job"),a(this,"canvas"),a(this,"width"),a(this,"height"),a(this,"loadVideo",(async e=>{e.crossOrigin="pastedLink"!==this.job.source?"anonymous":null;const t=this.job.getURL();if(!t)return null;const a=this.job.isFallbackURL(t);if(e.src===t)return null;e.src=t;const n=new Promise(((t,a)=>{e.load(),e.onloadedmetadata=()=>{t()},e.onerror=e=>{a(e)}}));let s=!1;try{!1===await Promise.race([n,e2e(1e4),this.job.cancellationSource.waitForCancelled()])&&(s=!0)}catch(b9e){if(a)return{type:"failed"};s=!0}return this.job.cancellationSource.cancelled?{type:"cancelled"}:s?(this.job.useFallbackURLForTrackInFuture(),{type:"retry"}):null})),this.mediaCacheId=e,this.frameTime=t,this.job=n,this.width=o,this.height=s,this.canvas=document.createElement("canvas"),this.canvas.width=o,this.canvas.height=s}async getFrame(){const e=await(t=async e=>{const t=await this.loadVideo(e);if(t)return t;const a=await Promise.race([$T(e,this.frameTime).then((()=>!0)),e2e(5e3),this.job.cancellationSource.waitForCancelled()]);if(this.job.cancellationSource.cancelled)return{type:"cancelled"};if(!a)return{type:"retry"};const n=this.canvas.getContext("2d");return n?(Z1e(n,e,0,0,this.width,this.height),function(e,t,a,n){if(!__())return!0;if(n.isWebm)return!1;const s=e.getImageData(0,0,t,a),{width:o,height:i}=s;let r=!0;for(let l=0;l<5;l+=1){const e=Math.floor(Math.random()*o)+Math.floor(Math.random()*i)*o;if(s.data[e]||s.data[e+1]||s.data[e+2]||s.data[e+3]){r=!1;break}}return!r}(n,this.width,this.height,this.job)?null:{type:"retry"}):(console.error("No context"),{type:"failed"})},Q1e.runExclusive((async()=>{if(!$1e){const e=document.createElement("video");e.muted=!0,e.preload="auto",e.playsInline=!0,e.onerror=e=>{throw new Error(`Thumbnail generation encountered error ${JSON.stringify(e)}`)};const t=document.getElementById("video-track-thumbnail-generation");if(!t)throw new Error("No where to mount the thumbnail generator video");t.appendChild(e),$1e=e}return t($1e)})));var t;if(e)return e;try{const e=new Promise((e=>this.canvas.toBlob((t=>e(t)),"image/jpeg",.92))),t=await Promise.race([e,this.job.cancellationSource.waitForCancelled()]);if(!t)return{type:"value",value:null};this.saveThumbnailToIDB(t)}catch(a){a instanceof Error&&"SecurityError"!==(null==a?void 0:a.name)&&console.error(a)}return this.job.cancellationSource.cancelled?{type:"cancelled"}:(this.canvas.remove(),{type:"value",value:this.canvas})}saveThumbnailToIDB(e){(async()=>{const t=await e.arrayBuffer();!async function(e,t,a){try{await(await BS()).add("thumbnails",{mediaLibraryID:e,frameTime:t,imageData:a})}catch(n){throw FS({error:n,fn:"addThumbnail"}),n}}(this.mediaCacheId,this.frameTime,t)})()}}let $1e=null;const Q1e=new ee;const e2e=e=>new Promise((t=>{setTimeout((()=>t(!1)),e)})),t2e=new class{constructor(){a(this,"queue",[]),a(this,"currentlyExecutingPromise",null),a(this,"lastMediaCacheId",null),a(this,"retries",[])}async enqueue(e,t,a,n){return new Promise(((s,o)=>{this.queue.push({isRetry:!1,frameTimeRange:t,mediaCacheId:e,promiseFn:n,resolve:s,reject:o,cancellationSource:a}),this.dequeue()}))}dequeue(){if(this.currentlyExecutingPromise)return;let e;0===this.queue.length&&(this.queue.push(...this.retries),this.retries=[]),this.sortQueue();do{e&&e.resolve(null),e=this.queue.shift()}while(null==e?void 0:e.cancellationSource.cancelled);if(!e)return;const t=e;this.currentlyExecutingPromise=t,this.lastMediaCacheId=t.mediaCacheId,t.promiseFn().then((e=>{if(t.cancellationSource.cancelled)t.resolve(null);else switch(e.type){case"retry":t.isRetry?t.resolve(null):this.retries.push({...t,isRetry:!0});break;case"cancelled":case"failed":t.resolve(null);break;default:t.resolve(e.value)}})).catch((e=>{t.reject(e)})).finally((()=>{this.currentlyExecutingPromise=null,this.dequeue()}))}sortQueue(){this.queue.sort(((e,t)=>{const a=e.frameTimeRange.onScreen&&e.frameTimeRange.revealed,n=t.frameTimeRange.onScreen&&t.frameTimeRange.revealed;return a&&!n?-1:n&&!a?1:e.mediaCacheId===this.lastMediaCacheId&&t.mediaCacheId!==this.lastMediaCacheId?-1:t.mediaCacheId===this.lastMediaCacheId&&t.mediaCacheId!==this.lastMediaCacheId?1:e.frameTimeRange.range[0]-t.frameTimeRange.range[0]}))}};window.frameQueue=t2e;async function a2e({mediaCacheId:e,frameTimeRange:t,job:a,height:n,width:s}){let o,i=!1;return{frameElement:await t2e.enqueue(e,t,a.cancellationSource,(async function(){const r=t.range[1]-t.range[0],l=t.range[0]+r/2,d=3*r,c=.2*r,u=l-c,p=l+c,m=l-d,g=l+d,h=await async function(e,t,a){let n;const s=IDBKeyRange.bound([e,t],[e,a]);try{const e=await(await BS()).getAllFromIndex("thumbnails","mediaLibraryID+frameTime",s);if(!e.length)return;let o=0,i=e.length-1;const r=(a+t)/2;for(;o<i-1;){const t=Math.floor((i+o)/2),a=e[t];if(!a)throw Error("Missing asset");r<=a.frameTime?i=t:o=t}const l=e[o],d=e[i];if(n=d||l,l&&d){const e=Math.abs(l.frameTime-r);n=Math.abs(d.frameTime-r)<e?d:l}}catch(o){FS({error:o,extra:{frameTimeStart:t,frameTimeEnd:a},fn:"getThumbnail"})}return n}(e,m,g);if(h&&(i=!0),a.cancellationSource.cancelled)return{type:"cancelled"};if(h){const e=new Image;if(e.src=URL.createObjectURL(new Blob([h.imageData],{type:"image/jpeg"})),!e.complete){const t=new Promise(((t,a)=>{e.onload=()=>t(),e.onerror=e=>a(e)}));await t}return o=u<=h.frameTime&&h.frameTime<=p?"good":"bad",{type:"value",value:e}}return new J1e({mediaCacheId:e,frameTime:l,job:a,height:n,width:s}).getFrame()})),fromIDB:i,cacheAccuracy:o}}class n2e{constructor(e,t,n,s){a(this,"id"),this.range=e,this.onScreen=t,this.revealed=n,this.skip=s,this.id=`${e[0]}_${e[1]}`}}class s2e extends X1e{constructor(){super(...arguments),a(this,"drawnFrames",{jobsByCanvasId:new Map,params:null}),a(this,"thumbnailSheetCache",{}),a(this,"requestCount",0),a(this,"onChange",(async(e,t)=>{const{mediaCacheId:a,requireConversion:n}=t;if(!a||n)return;const s=this.requestTracker();try{this.clearDrawnFramesIfNeeded(t);const n=this.getFrameTimeRanges(e,t);await this.drawFrames(a,e,t,n,(()=>{var t,a;s(),null==(a=(t=e.chunkInfo).onThumbnailsDrawn)||a.call(t)}))}finally{s()}})),a(this,"requestTracker",(()=>{this.requestCount+=1;let e=!1;return()=>{e||(this.requestCount-=1,e=!0,0===this.requestCount&&setTimeout((()=>{0===this.requestCount&&pz("thumbnails")}),0))}})),a(this,"onUnregister",(e=>{const t=this.drawnFrames.jobsByCanvasId.get(e.id);if(t)for(const a of t.values())a.done||a.cancellationSource.cancel()})),a(this,"clearDrawnFramesIfNeeded",(e=>{var t,a;const n=this.drawnFrames;if(n&&(e.pxInSecond!==(null==(t=n.params)?void 0:t.pxInSecond)||e.timelineContainerWidth!==(null==(a=n.params)?void 0:a.timelineContainerWidth))){for(const e of n.jobsByCanvasId.values())for(const t of e.values())t.done||t.cancellationSource.cancel();n.jobsByCanvasId=new Map,n.params={pxInSecond:e.pxInSecond,timelineContainerWidth:e.timelineContainerWidth}}})),a(this,"getFrameTimeRanges",((e,t)=>{const a=e.chunkInfo.offsetPx%t.frameWidth,n=$Y(t.pxInSecond,a),s=Math.ceil((e.width+a)/t.frameWidth),o=t.videoDelay-t.startTime,i=1*t.timelineContainerWidth,r=1*t.timelineContainerHeight,l=t.timelineScrollLeft,d=t.timelineScrollLeft+t.timelineContainerWidth,c=l-i,u=d+i,p=$Y(t.pxInSecond,l),m=$Y(t.pxInSecond,d),g=$Y(t.pxInSecond,c),h=$Y(t.pxInSecond,u),v=t.timelineScrollTop,f=t.timelineScrollTop+t.timelineContainerHeight,b=v-r,y=f+r,w=v<t.trackTimelinePositionTop+t.trackTimelinePositionHeight&&f>t.trackTimelinePositionTop,_=b<t.trackTimelinePositionTop+t.trackTimelinePositionHeight&&y>t.trackTimelinePositionTop,C=[],S=$Y(t.pxInSecond,t.frameWidth)*t.playbackRate;for(let x=0;x<s;x+=1){const a=t.isReversed?e.chunkInfo.endTime-x*S-n:x*S+e.chunkInfo.startTime-n,s=this.calculateFrameTimeRange(a,t,S),[i,r]=s,l=t.isReversed?t.duration-r:i,d=t.isReversed?t.duration-i:r,c=l+o<m&&d+o>p&&w,u=l+o<h&&d+o>g&&_,v=d<t.startTime,f=l>t.endTime,b=!v&&!f;let y=!1;u?(!t.predrawStart&&v||!t.predrawEnd&&f)&&(y=!0):y=!0,t.isPersona?C.push(new n2e(s,!0,!0,!1)):C.push(new n2e(s,c,b,y))}return C}))}calculateFrameTimeRange(e,t,a){const n=t.isReversed?e-a/2:e+a/2,s=Math.floor(100*n)/100||0,o=.5*a,i=Math.max(s-o,0),r=Math.min(s+o,t.duration-1e-8);if(t.isPersona){let e=i%t.personaVideoAssetDuration,n=r%t.personaVideoAssetDuration;return e>n&&(t.personaVideoAssetDuration-e>n?n=t.personaVideoAssetDuration-1e-8:e=0,n-e<a&&(0===e?n=e+a+o:e=n-a-o)),[e,n]}return[i,r]}async tryDrawFramesWithThumbnailSheet({mediaCacheId:e,canvasInfo:t,trackState:a,frameTimeRanges:n,onThumbnailsDrawn:s,prevJobs:o,newJobs:i}){const{thumbnail_url:r,thumbnail_width:l,thumbnail_height:d,thumbnail_fps:c,thumbnail_sheet_height:u,thumbnail_sheet_width:p}=a;if(!!!(r&&d&&l&&c&&u&&p))return!1;const m=[];let g;if(r&&this.thumbnailSheetCache[r])g=this.thumbnailSheetCache[r];else if(g=new Image,g.src=r,!g.complete){const e=new Promise(((e,t)=>{g.onload=()=>e(),g.onerror=e=>t(e)}));await e,this.thumbnailSheetCache[r]=g}const h=p/l,v=function(e,t,a,n,s){const o=a/n;let i,r;e/t>o?(r=t,i=t*o):(i=e,r=e/o),s<n&&(r*=s/n);return{coverHeight:r,coverWidth:i,coverY:(t-r)/2,coverX:(e-i)/2}}(l,d,a.frameWidth,a.frameHeight,t.height),{coverX:f,coverY:b,coverWidth:y,coverHeight:w}=v,_=t.chunkInfo.offsetPx%a.frameWidth,C=(e,n,s,o,i)=>{const r=i*a.frameWidth-_;e.drawImage(n,s+f,o+b,y,w,r,0,a.frameWidth,t.height)};for(let S=0;S<n.length;S+=1){const s=n[S];if(!s)continue;if(s.skip)continue;if(a.cannotRenderThumbnails)continue;const r=new q1e({trackId:t.trackId,range:s.range,mediaCacheId:e,isWebm:a.isWebm,source:a.source});if(o.has(r.id)){const e=o.get(r.id);if(null==e?void 0:e.done){i.set(r.id,e);continue}}const u=(s.range[0]+s.range[1])/2;let p=Math.round(u*c);(p+1)/c>(a.personaVideoAssetDuration||a.duration)&&(p-=1),m.push((async function(){let e=!1;const a=p%h*l,n=Math.floor(p/h)*d,s=t.el.getContext("2d");return s&&(C(s,g,a,n,S),r.done=!0,e=!0),{fromIDB:!1,drawn:e}}))}for(const S of o.values())S.done?i.set(S.id,S):S.cancellationSource.cancel();return await Promise.all(m.map((e=>e()))),s(),!0}async drawFramesFromVideo({mediaCacheId:e,canvasInfo:t,trackState:a,frameTimeRanges:n,onThumbnailsDrawn:s,prevJobs:o,newJobs:i}){const r=t.chunkInfo.offsetPx%a.frameWidth,l=(e,n)=>{var s;const o=n*a.frameWidth-r,i=a.frameWidth,l=t.height,d=i/l,c=e.width,u=e.height;let p,m,g,h;c/u>d?(p=(c-u*d)/2,m=0,g=u*d,h=u):(p=0,m=(u-c/d)/2,g=c,h=c/d),null==(s=t.el.getContext("2d"))||s.drawImage(e,p,m,g,h,o,0,i,l)},d=[],c=[],u=[];for(let g=0;g<n.length;g+=1){const s=n[g];if(!s)continue;if(s.skip)continue;if(a.cannotRenderThumbnails)continue;const r=new q1e({trackId:t.trackId,range:s.range,thumbnailVideoURL:a.thumbnailVideoURL,fallbackThumbnailVideoURL:a.fallbackThumbnailVideoURL,mediaCacheId:e,isWebm:a.isWebm,source:a.source});if(o.has(r.id)){const e=o.get(r.id);if(null==e?void 0:e.done){i.set(r.id,e);continue}}i.set(r.id,r),d.push((async function(){let t=!1,n=!1,o=null;try{const i=await a2e({mediaCacheId:e,frameTimeRange:s,job:r,height:a.frameHeight,width:a.frameWidth});if(!i)return{fromIDB:!1,drawn:!1};o=i.frameElement,n=i.fromIDB;const{cacheAccuracy:d}=i;return o&&!r.cancellationSource.cancelled&&(l(o,g),"bad"!==d&&(r.done=!0,t=!0)),{fromIDB:n,drawn:t,cacheAccuracy:d}}catch(i){return console.error("Error generating track frame:",i),{fromIDB:n,drawn:t}}})),c.push((async function(){let t=!1,n=null;try{const o=await new J1e({mediaCacheId:e,frameTime:(s.range[0]+s.range[1])/2,job:r,height:a.frameHeight,width:a.frameWidth}).getFrame();return o?"value"!==o.type?{fromIDB:!1,drawn:!1}:(n=o.value,n&&!r.cancellationSource.cancelled&&(l(n,g),r.done=!0,t=!0),{fromIDB:!1,drawn:t}):{fromIDB:!1,drawn:!1}}catch(o){return console.error("Error generating track frame:",o),{fromIDB:!1,drawn:t}}}))}const p=d.map((e=>e()));for(const g of o.values())g.done?i.set(g.id,g):g.cancellationSource.cancel();const m=await Promise.all(p);s();for(let g=0;g<m.length;g+=1){const e=m[g];if(e&&"bad"===e.cacheAccuracy){const e=c[g];e&&u.push(e)}}await Promise.all(u.map((e=>e())))}async drawFrames(e,t,a,n,s){let o=this.drawnFrames.jobsByCanvasId.get(t.id);const i=this.drawnFrames;o||(o=new Map,i.jobsByCanvasId.set(t.id,o));const r=new Map(o);o.clear();await this.tryDrawFramesWithThumbnailSheet({mediaCacheId:e,canvasInfo:t,trackState:a,frameTimeRanges:n,onThumbnailsDrawn:s,prevJobs:r,newJobs:o})||await this.drawFramesFromVideo({mediaCacheId:e,canvasInfo:t,trackState:a,frameTimeRanges:n,onThumbnailsDrawn:s,prevJobs:r,newJobs:o})}}const o2e=Gu(((e,t)=>({audioEffect:t.audioEffect,fadePosition:t.fadePosition,introFadeSeconds:t.introFadeDuration??nre(t.fadeSpeed||0),outroFadeSeconds:t.outroFadeDuration??nre(t.fadeSpeed||0),startTime:t.startTime,endTime:t.endTime,duration:t.duration,keyframes:t.keyframes,playbackRate:t.playbackRate})),(e=>({...e}))),i2e=u([e=>e,o2e],((e,t)=>{const{audioEffect:a,fadePosition:n,introFadeSeconds:s,outroFadeSeconds:o,startTime:i,endTime:r,duration:l,keyframes:d,playbackRate:c}=t,u=[...e];if(a){const t=Math.floor(o/l*e.length),a=Math.floor(s/l*e.length),d=Math.floor(i/l*u.length),c=Math.floor(r/l*u.length);if("intro"===n||"both"===n){const e=d,t=d+a;for(let n=e;n<t;n+=1){const t=are((n-e)/a);u[n]*=t}}if("outro"===n||"both"===n){const e=c,a=c-t;for(let n=a;n<=e;n+=1){const e=are((n-a)/t,!1);u[n]*=e}}}if(d&&d.bezArray&&d.keyframes.length){const t=l/u.length,a=d.keyframes[0],n=d.keyframes[d.keyframes.length-1],s=Math.floor(i/t),o=$(...d.bezArray),r=e=>Math.floor(e*c/t)+s,p=r(a.time),m=r(n.time);for(let e=s;e<p;e++)u[e]*=a.value;for(let i=m;i<e.length;i++)u[i]*=n.value;for(let e=1;e<d.keyframes.length;e++){const t=d.keyframes[e-1],a=d.keyframes[e],n=r(t.time),s=r(a.time)-n;for(let e=0;e<s;e++){const i=o(e/s),r=zk(t.value,a.value,i);u[n+e]*=r}}}return u}));class r2e extends X1e{constructor(){super(...arguments),a(this,"waveformCache",new Map),a(this,"getRenderDataMutex",new Ode),a(this,"requestCount",0),a(this,"onChange",(async(e,t)=>{if(!t.mediaCacheId||!t.assetIsInCache)return;const a=this.requestTracker();try{const n=await this.getWaveformRenderData(t.mediaCacheId,t);if(Pu.forceNewAssets||this.updateHasAudio(!!n,t.mediaCacheId),!n)return;try{this.drawWaveformChunk(e,i2e(n.renderData,t),t,n.source),(e=>{if(!o9)return;const t=o9.assetsInProject[e];t?t.firstWaveformDrawnTime||(t.firstWaveformDrawnTime=s9()):console.error("Asset not found for mediaCacheId",e)})(t.mediaCacheId)}catch(b9e){throw console.error(b9e),b9e}}finally{a()}})),a(this,"requestTracker",(()=>{this.requestCount+=1;let e=!1;return()=>{e||(this.requestCount-=1,e=!0,0===this.requestCount&&setTimeout((()=>{0===this.requestCount&&pz("waveforms")}),0))}})),a(this,"onUnregister",(e=>{})),a(this,"updateHasAudio",((e,t)=>{r.batch((()=>{const{state:a}=Mu(),n={};for(const s of Gx(a)){Hp(s,{mediaCacheState:a.mediaCache,personaLayerHandling:"audio"})===t&&(e&&!s.hasAudio&&(n[s.id]={hasAudio:!0}),e||void 0!==s.hasAudio||(n[s.id]={hasAudio:!1}))}uk(n,"WaveformPainter.ts",!1)}))})),a(this,"invalidateWaveformCacheIfNecessary",((e,t)=>{const a=this.waveformCache.get(t);a&&a.pxInSecond!==e&&this.waveformCache.delete(t)})),a(this,"getWaveformRenderData",((e,t)=>this.getRenderDataMutex.runExclusive(e,(async()=>{this.invalidateWaveformCacheIfNecessary(t.pxInSecond,t.mediaCacheId||"");const a=this.waveformCache.get(e),n=null==a?void 0:a[t.playbackRate];if(n)return{renderData:n,source:a.source};const s=await this.generateWaveformData(e);if(!s)return null;const o=this.computeWaveformRenderData(s,t.pxInSecond,t.playbackRate),i=this.waveformCache.get(e)||{};return this.waveformCache.set(e,{...i,[t.playbackRate]:o,pxInSecond:t.pxInSecond,source:s.source}),{renderData:o,source:s.source}})))),a(this,"generateWaveformData",(async e=>{try{const t=await tce(e);return t||null}catch(b9e){if(b9e instanceof Error&&"AbortError"===b9e.name)return null;console.error("An error occurred while loading audio:",b9e)}return null})),a(this,"computeWaveformRenderData",((e,t,a)=>{const{dataArray:n,sampleRate:s}=e,o=n.length,i=s*a/t,r=Math.round((o-0)/i),l=[];for(let d=0;d<r;d+=1){const e=Math.floor(d*i)+0,t=e+Math.floor(i);let a=0;const s=t-e;for(let i=e;i<t;i+=1)a+=n[i]**2;const o=0===s?Math.abs(n[e]):Math.sqrt(a/s);l.push(o)}return(e=>{const t=e.slice().sort(((e,t)=>t-e)),a=t[Math.floor(.01*t.length)]??1;return e.map((e=>Math.min(e/a,1)))})(l)})),a(this,"getChunkStartEndPx",((e,t,a)=>{const n=e.chunkInfo.startTime,s=e.chunkInfo.endTime,o=a.startTime,i=a.endTime,r=Math.max(a.trackIsSelected?n:o,n),l=Math.min(a.trackIsSelected?s:i,s),d=Math.floor(r*a.pxInSecond/a.playbackRate),c=Math.min(Math.ceil(l*a.pxInSecond/a.playbackRate),t.length),u=Math.floor(n*a.pxInSecond);return{canvasStartPx:d-u,canvasEndPx:c-u,chunkOffsetPx:u,drawStartNdx:d,drawEndNdx:c}})),a(this,"drawWaveformChunk",((e,t,a,n)=>{var s,o;const i=e.el.getContext("2d");if(!i)return;i.fillStyle="#22423d",i.fillRect(0,0,e.width,e.height),i.fillStyle="#FFF";if("full"===e.chunkInfo.shouldDrawWaveform?this.drawFullWaveform(e,t,a):this.drawHalfWaveform(e,t,a),Pu.drawDebugWaveforms){const e=n||"unknown";i.font="14px Arial",i.fillStyle="red",i.fillText(e,10,14)}null==(o=(s=e.chunkInfo).onWaveformDrawn)||o.call(s)})),a(this,"drawFullWaveform",((e,t,a)=>{const n=e.el.getContext("2d");if(!n)return;n.beginPath();const s=(e.height/2-3)*a.volume,{chunkOffsetPx:o,drawStartNdx:i,drawEndNdx:r}=this.getChunkStartEndPx(e,t,a),l=e.height/2;for(let d=i;d<r;d+=1){const e=t[a.isReversed?r-d-1:d]*s,i=d-o;n.lineTo(i,l-e)}for(let d=r-1;d>=i;d-=1){const e=t[a.isReversed?r-d-1:d]*s,i=d-o;n.lineTo(i,l+e)}n.fill()})),a(this,"drawHalfWaveform",((e,t,a)=>{const n=e.el.getContext("2d");if(!n)return;n.beginPath();const{canvasEndPx:s,canvasStartPx:o,chunkOffsetPx:i,drawStartNdx:r,drawEndNdx:l}=this.getChunkStartEndPx(e,t,a),d=e.height,c=(e.height-3)*a.volume;n.moveTo(o,d);for(let u=r;u<l;u+=1){const e=t[a.isReversed?l-u-1:u]*c,s=u-i;n.lineTo(s,d-e)}n.lineTo(s,d),n.lineTo(o,d),n.fill()}))}}class l2e{constructor(e){a(this,"idCounter",100),a(this,"canvasIdToInfo",new Map),a(this,"trackIdToSelectorResult",new Map),a(this,"trackIdToCanvasId",new Map),a(this,"copyIdToOriginalId",new Map),a(this,"unsubscribe",null),a(this,"waveformPainter"),a(this,"thumbnailPainter"),a(this,"tracksSelector"),a(this,"trackSelector"),a(this,"name"),a(this,"adjustReduxSubscriptionIfNecessary",(()=>{if(this.unsubscribe&&0===this.canvasIdToInfo.size)this.unsubscribe(),this.unsubscribe=null;else if(!this.unsubscribe){const{subscribe:e}=Mu();let t,a,n;this.unsubscribe=e((()=>{const{state:e}=Mu(),s=this.getTracks(e),o=e.projectSessionSettings.timelinePosition,i=e.studioLocal.previewTimelineState;Object.is(t,s)&&Object.is(n,i)&&Object.is(a,o)?this.onStateChangeSlow():(n=i,a=o,t=s,this.onStateChangeQuick())}))}})),a(this,"getTracks",(e=>g8(e))),a(this,"registerCanvas",((e,t,a)=>{var n;const s=this.getNewId(),o={id:s,el:e,trackId:t,chunkInfo:a,height:e.height,width:e.width};this.canvasIdToInfo.set(s,o),this.addToTrackMap(t,s);const{state:i}=Mu(),r=this.trackSelector(i,t),l=this.tracksSelector(i);if(r){const e=this.thumbnailPainter.selector(i,r,l);let s=null;if(a.shouldDrawWaveform&&(s=this.waveformPainter.selector(i,r,l),this.waveformPainter.onChange(o,s)),a.shouldDrawThumbnails){const a=this.copyIdToOriginalId.get(t)||"";if(a){const e=this.trackIdToCanvasId.get(t).length-1,s=(this.trackIdToCanvasId.get(a)||[])[e];if(void 0!==s){const e=this.canvasIdToInfo.get(s);e&&(null==(n=o.el.getContext("2d"))||n.drawImage(e.el,0,0))}this.copyIdToOriginalId.delete(t)}this.thumbnailPainter.onChange(o,e)}this.trackIdToSelectorResult.set(r.id,{thumbnail:e,waveform:s})}return this.adjustReduxSubscriptionIfNecessary(),s})),a(this,"unregisterCanvas",(e=>{const t=this.canvasIdToInfo.get(e);this.canvasIdToInfo.delete(e),t&&(this.removeFromTrackMap(t.trackId,e),this.thumbnailPainter.onUnregister(t),this.waveformPainter.onUnregister(t)),this.adjustReduxSubscriptionIfNecessary()})),a(this,"getNewId",(()=>(this.idCounter+=1,this.idCounter))),a(this,"addToTrackMap",((e,t)=>{const a=this.trackIdToCanvasId.get(e);a?a.push(t):this.trackIdToCanvasId.set(e,[t])})),a(this,"removeFromTrackMap",((e,t)=>{const a=this.trackIdToCanvasId.get(e);a?this.trackIdToCanvasId.set(e,a.filter((e=>e!==t))):console.error(`Tried to remove track ${e} from trackMap, but no entry was found`)})),a(this,"isRelevantLayer",(e=>e.type===Nc.Video||e.type===Nc.Audio||e.type===Nc.Persona)),a(this,"onStateChange",(()=>{const{state:e}=Mu();this.onStateChangeQuick.cancel(),this.onStateChangeSlow.cancel(),e.studioLocal.previewTrack&&e.studioLocal.previewTimelineState&&e.studioLocal.previewTimelineState&&e.studioLocal.previewTrack&&this.updateTrackOnStateChange(e.studioLocal.previewTrack,[],e);const t=this.getTracks(e);for(const a of t)this.isRelevantLayer(a)&&this.updateTrackOnStateChange(a,t,e)})),a(this,"onStateChangeSlow",c.debounce(this.onStateChange,1e3,{maxWait:3e3})),a(this,"onStateChangeQuick",c.debounce(this.onStateChange,200,{maxWait:500})),a(this,"updateTrackOnStateChange",((e,t,a)=>{const n=this.trackIdToCanvasId.get(e.id);if(!n)return;const s=n.some((e=>{var t;return null==(t=this.canvasIdToInfo.get(e))?void 0:t.chunkInfo.shouldDrawWaveform})),o=this.trackIdToSelectorResult.get(e.id);let i=null;s&&(i=this.waveformPainter.selector(a,e,t));const r=o?c2e(o.waveform,i):[!1,i],l=this.thumbnailPainter.selector(a,e,t),d=o?c2e(o.thumbnail,l):[!1,l];this.trackIdToSelectorResult.set(e.id,{thumbnail:l,waveform:i});for(const c of n){const e=this.canvasIdToInfo.get(c);e&&(i&&!r[0]&&e.chunkInfo.shouldDrawWaveform&&this.waveformPainter.onChange(e,i),!d[0]&&e.chunkInfo.shouldDrawThumbnails&&this.thumbnailPainter.onChange(e,l))}})),this.thumbnailPainter=new s2e(e.thumbnailSelector,e.name),this.waveformPainter=new r2e(e.waveformSelector,e.name),this.tracksSelector=e.tracksSelector,this.trackSelector=e.trackSelector,this.name=e.name}addCopyIdToOriginalId(e,t){this.copyIdToOriginalId.set(e,t)}}function d2e(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function c2e(e,t){if(d2e(e,t))return[!0];if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return[!1,"object diff"];const a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return[!1,"different keys"];for(let s=0;s<a.length;s+=1)if(!Object.prototype.hasOwnProperty.call(t,a[s])||!d2e(e[a[s]],t[a[s]]))return[!1,a[s]];return[!0]}const u2e=b.createContext(null),p2e=({children:e,isTimeline:t,name:a,trackSelector:n,tracksSelector:s,thumbnailSelector:o,waveformSelector:r})=>{const l=i.useMemo((()=>{const e=new l2e({name:a,trackSelector:n,tracksSelector:s,thumbnailSelector:o,waveformSelector:r});return t&&function(e){hQ=e}(e),e}),[a,n,s,o,r,t]);return f.jsx(u2e.Provider,{value:l,children:e})},m2e="VolumeSlider-module_volumeSliderContainer_HmpkI",g2e="VolumeSlider-module_volumeSliderDragHandler_fwCIc",h2e="VolumeSlider-module_volumeBar_W9Vd8",v2e={left:0,top:0,width:0,height:0},f2e=b.memo((({audioCanvasHeight:e,trackId:t,grabbedChunkId:a,setGrabbedChunkId:n,setTooltipProps:s,id:o})=>{const r=Bg(),{selectedLayers:l,hasAudio:d,timelineScrollLeft:c,trackTimelinePosition:u,volume:p}=Du((e=>{var a;const n=v8(e,t),s=jR(e,t);return{selectedLayers:dU(e),hasAudio:!!(null==n?void 0:n.hasAudio),trackTimelinePosition:(null==n?void 0:n.timelinePosition)||v2e,timelineScrollLeft:(null==(a=e.projectSessionSettings.timelinePosition)?void 0:a.timelineScrollLeft)||0,volume:s&&"number"==typeof s.volumeTemp?s.volumeTemp:(null==n?void 0:n.volume)??1}}),Ou),m=i.useRef(null),g=i.useMemo((()=>l.filter((e=>np(e)||ep(e)))),[l]),h=i.useMemo((()=>g.some((e=>e.id===t))),[g,t]),v=i.useRef(0),b=Bu(),y=i.useCallback(((a,n)=>{const o=Fce(a),i=(void 0===n?0:o-n)/e,r=G1e(p);let l=zg(r+100*i,0,100);Math.abs(l-30)<4&&(l=30),m.current=l;const d=Y1e(l);h?ere(d,!1,g):Qie(d,!1,t);const{left:v,width:f}=u,b={...u,left:Math.min(Math.max(Dce(a)+c,v),v+f),top:u.top-e-30+l/100*e};s({tooltipPosition:b,customString:`${Math.round(100*d)}%`,narrow:!0})}),[e,g,s,c,t,h,u,p]),w=i.useCallback((e=>{y(e,v.current)}),[y]),_=i.useCallback((()=>{if(s(null),n(null),v.current=0,null!==m.current){const e=Y1e(m.current);h?ere(e,!0,g):Qie(e,!0,t)}b(aj(!1)),document.removeEventListener("pointermove",w),document.removeEventListener("pointerup",_)}),[b,w,g,n,s,t,h]),C=i.useCallback((e=>{b(aj(!0)),v.current=Fce(e),e.stopPropagation(),n(o),document.addEventListener("pointermove",w),document.addEventListener("pointerup",_)}),[b,w,_,o,n]);if(r||!d||u.width<25)return null;const S=G1e(p);return f.jsx("div",{style:{height:e},className:m2e,children:f.jsx("div",{onPointerDown:C,className:g2e,style:{position:"absolute",top:`calc(${S}% - 4px)`,height:8},"data-cy":"volume-slide-handler",children:f.jsx("div",{className:h2e,style:{opacity:a?1:.3,height:2}})})})})),b2e=50,y2e=Math.floor(4/3*50),w2e=()=>{},_2e=b.memo((({className:e,onThumbnailsDrawn:t=w2e,setTooltipProps:a=w2e,trackId:n,trackStartTime:s,trackPlaybackRate:o=1,trackDuration:r,trackIsReversed:l=!1,shouldDrawThumbnails:d=!1,shouldDrawWaveform:c=!1,waveformHidden:u=!1,previewTrackType:p=!1,hasDrawnThumbnailsOnce:m=!1,isDragging:g=!1,pxInSecond:h,trackHeight:v=50,waveformHeight:b=23})=>{const[y,w]=i.useState(!1),_=i.useContext(u2e),C=i.useRef(new Map),S=i.useRef(new Map),{convertSecondsToWidth:x,convertWidthToSeconds:I}=S1e(!!p,h),A=Du((e=>_Y(n,Cu.VOLUME,e.studio.keyframing))),k=Du((e=>{var t,a;const s=e.studio.allLayers.byId[n],o=(null==(a=null==(t=null==s?void 0:s.animation)?void 0:t.intro)?void 0:a[0])??"",i=e.studio.animations.byId[o];return(null==i?void 0:i.transitionDuration)&&yL(i)?i.transitionDuration:0})),[T,E]=i.useState(null),L=x(k);let j=i.useMemo((()=>{let e=0-x(s/o);return!g&&L&&(e-=L/2),e}),[x,o,s,L,g]);p===XS.trim&&(j=0);const R=i.useMemo((()=>{const e=I(15e3)*o,t=[];let a=0;if(0===e)return[];for(let n=0;n<r;n+=e){let s=n,i=s+e;if(i>r&&(i=r),l){const e=r-s;s=r-i,i=e}const d=15e3*a,c=d+x(i-s)/o;t.push({id:`chunk_${s}-${i}${l?"_reversed":""}`,startSec:s,endSec:i,startPx:d,endPx:c,widthPx:c-d}),a+=1}return t}),[x,I,r,l,o]),N=c&&!u?v-b:v,M="full"===c?v:b,P="full"===c?0:v-b;return f.jsx("div",{style:{height:v},className:e,children:f.jsx("div",{"data-cy":"canvas-container",style:{position:"relative",left:j,width:1,height:1},children:R.map((e=>f.jsxs("div",{style:{position:"absolute",left:e.startPx,width:e.widthPx,height:v},"data-cy":`chunk-container-${e.id}`,children:[d&&f.jsx("canvas",{className:m?"":H1e,ref:a=>{((e,a)=>{if(e){const s=_.registerCanvas(e,n,{id:a.id,endTime:a.endSec,startTime:a.startSec,offsetPx:a.startPx,shouldDrawThumbnails:d,onThumbnailsDrawn:t});C.current.set(a.id,s)}else{const e=C.current.get(a.id);e&&_.unregisterCanvas(e),C.current.delete(a.id)}})(a,e)},"data-cy":"thumbnail-canvas",style:{position:"absolute"},width:e.widthPx,height:N},`thumbnail-${e.id}`),c&&f.jsxs(f.Fragment,{children:[f.jsx("canvas",{ref:t=>{((e,t)=>{if(e&&_){const a=_.registerCanvas(e,n,{id:t.id,endTime:t.endSec,startTime:t.startSec,offsetPx:t.startPx,shouldDrawWaveform:c||void 0,onWaveformDrawn:()=>{w(!0)}});S.current.set(t.id,a)}else{const e=S.current.get(t.id);e&&_&&_.unregisterCanvas(e),S.current.delete(t.id)}})(t,e)},"data-cy":"waveform-canvas",className:y?"":V1e,style:{position:"absolute",top:P,visibility:u?"hidden":"visible"},width:e.widthPx,height:M},`waveform-${e.id}`),"ghost-track"!==n&&!p&&(A?f.jsx(K1e,{trackId:n,chunk:e,containerStart:j,audioCanvasHeight:M,setTooltipProps:a}):f.jsx(f2e,{audioCanvasHeight:M,trackId:n,grabbedChunkId:T,setGrabbedChunkId:E,setTooltipProps:a,id:e.id}))]})]},e.id)))})})}));_2e.displayName="TrackCanvas";const C2e=i.memo((({className:e,children:t,style:a,onPointerDown:n})=>f.jsx("div",{className:e,style:a,translate:"no",onPointerDown:n,children:t}))),S2e=(e,t="Content",a="middle")=>{if(!e)return t;if(e.length<30)return e;let n=10,s=e.length-10;switch(a){case"beginning":n=0,s=e.length-20;break;case"end":n=20,s=e.length}return`${e.substring(0,n)}...${e.substring(s,e.length)}`},x2e=()=>{},I2e=b.memo((e=>{const{track:t,setTooltipProps:a,previewTrack:n}=e,{timelinePosition:{width:s}}=t,o=Du((t=>{var a;return!!(null==(a=jR(t,e.track.id))?void 0:a.readyForTrackComponentRender)})),i=Math.min(Math.ceil(s/400),100),r=[];for(let d=0;d<i;d+=1)r.push(f.jsxs("div",{style:{width:400},children:[f.jsx(An,{className:O1e}),S2e(DC(t),"Audio")]},`audio-track-${d}`));const l=n===XS.trim?0:t.startTime||0;return f.jsx(C2e,{className:`${o?"":W1e} ${D1e}`,children:(o||n)&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:U1e,children:r.map((e=>e))}),f.jsx(_2e,{className:B1e,setTooltipProps:a,trackDuration:t.duration||1,trackId:t.id,trackPlaybackRate:t.playbackRate||1,trackStartTime:l,trackIsReversed:!!t.isReversed,shouldDrawThumbnails:!1,shouldDrawWaveform:"full",onThumbnailsDrawn:x2e,previewTrackType:n})]})})})),A2e="/assets/gray-white-cage-square-grid-transparent-seamless-vector-BRRbgdkO.svg",k2e="ImageTrack-module_tallImageTrack_uykfy",T2e="ImageTrack-module_shortImageTrack_8LIrO",E2e="ImageTrack-module_trackPreview_WOB-p",L2e="ImageTrack-module_img_eqXoY",j2e={background:`top left / 150px repeat url(${A2e})`},R2e=b.memo((e=>{const{track:t,isTall:a}=e,n=Du((e=>{var a,n;const s=Hp(t,{mediaCacheState:e.mediaCache}),o=s?e.assets.localAssetInfo[s]:void 0,i=t.asset_id?e.assets.byId[t.asset_id]:void 0;return(null==o?void 0:o.trackPreviewLocalUrl)||(null==o?void 0:o.local_url)||(null==(a=null==i?void 0:i.track_preview)?void 0:a.url)||(null==(n=null==i?void 0:i.preview)?void 0:n.url)||(null==i?void 0:i.url)})),s=i.useMemo((()=>({backgroundImage:n?`url(${n})`:void 0})),[n]);return f.jsx(C2e,{className:a?k2e:T2e,children:f.jsx("div",{className:L(E2e,!n&&H1e),style:n?j2e:void 0,children:f.jsx("div",{className:L2e,style:s})})})})),N2e="PlaceholderTrack-module_tallPlaceholderTrack_2Uesr",M2e="PlaceholderTrack-module_shortPlaceholderTrack_hg20y",P2e="PlaceholderTrack-module_icon_XX8Az",F2e="PlaceholderTrack-module_span_-9N1X",D2e=b.memo((e=>{const{track:t,isTall:a}=e,{timelinePosition:{width:n}}=t,s=Math.min(Math.ceil(n/400),100),o=[];for(let i=0;i<s;i+=1)o.push(f.jsxs("div",{className:F2e,style:{width:400},children:[f.jsx(Ra,{className:P2e}),S2e(DC(t),"Placeholder")]},`placeholder-${i}`));return f.jsx(C2e,{className:a?N2e:M2e,children:o.map((e=>e))})})),O2e="ShapeTrack-module_tallShapeTrack_mLa-5",U2e="ShapeTrack-module_shortShapeTrack_n79sP",B2e="ShapeTrack-module_trackPreview_zjBoE",W2e="ShapeTrack-module_icon_E9enM",V2e="ShapeTrack-module_smallIcon_izFEq",H2e=b.memo((({shapeType:e,isTall:t})=>{const a=t?W2e:V2e;return"svg"===e?f.jsx(kn,{className:a}):"rectangle"===e?f.jsx(Tn,{className:a}):"ellipse"===e?f.jsx(En,{className:a}):"arrow"===e?f.jsx(Ln,{className:a}):"line"===e?f.jsx(jn,{className:a}):f.jsx(kn,{className:a})})),z2e=b.memo((({track:e,isTall:t})=>{const{timelinePosition:{width:a},shapeType:n}=e,s=Math.min(Math.ceil(a/400),100),o=[];for(let i=0;i<s;i+=1)o.push(f.jsxs("div",{className:B2e,children:[f.jsx(H2e,{shapeType:n,isTall:t}),S2e(DC(e),"Shape")]},`shape-track-${i}`));return f.jsx(C2e,{className:`${t?O2e:U2e}`,children:o.map((e=>e))})})),G2e="TextTrack-module_tallTextTrack_K8wYx",Y2e="TextTrack-module_shortTextTrack_zPsiI",K2e="TextTrack-module_trackPreview_X7tHA",X2e="TextTrack-module_textIcon_xm-o1",Z2e="TextTrack-module_smallTextIcon_kmCir",q2e="TextTrack-module_tallSpans_3847y",J2e="TextTrack-module_shortSpans_qqNSv",$2e=b.memo((e=>{const{track:t,isTall:a}=e,{fontFamily:n,fontWeight:s,timelinePosition:{width:o}}=t,i=Math.min(Math.ceil(o/400),100),r=[];for(let d=0;d<i;d+=1)r.push(f.jsxs("div",{style:{fontFamily:n,fontSize:a?16:13,fontWeight:s},className:K2e,children:[f.jsx(Rn,{className:a?X2e:Z2e}),f.jsx("span",{children:S2e(DC(t),"Text")})]},`text-track-${d}`));let l=J2e;return a&&(l=q2e),f.jsx(C2e,{className:`${a?G2e:Y2e}`,style:(()=>{let e={};return n&&(e={...e,fontFamily:n}),e})(),isTall:a,children:f.jsx("div",{className:l,children:r.map((e=>e))})})})),Q2e={audio:[],emojis:[],help:[],layers:[],media:[],more:[],textToSpeech:[],plugins:[],record:[],shapes:[],soundEffects:[],subtitles:[zB.Studio_DubVideoSidebar],templates:[],text:[],transcript:[],transitions:[],translate:[],visuals:[]},e3e="VideoTrack-module_videoTrack_EnoiY",t3e="VideoTrack-module_darkTheme_b9vIl",a3e="VideoTrack-module_spans_TUUiF",n3e="VideoTrack-module_videoSpan_Rot8Z",s3e="VideoTrack-module_icon_CKqvX",o3e="VideoTrack-module_canvasContainer_EB8wC",i3e={flexGrow:1,display:"flex",zIndex:1,paddingLeft:2,paddingRight:2},r3e={borderRadius:10,borderWidth:2},l3e=b.memo((e=>{const{track:t,setTooltipProps:a,previewTrack:n,isDragging:s}=e,[o,r]=i.useState(!1),{hasCopyModifications:l,isOpenContextMenuTourStep:d,isFirstLayer:c,hasSelectedLayers:u,trackIsInSelection:p}=Du((e=>{var a;const n=dU(e);return{hasCopyModifications:!!e.projectSessionSettings.copiedModifications,isOpenContextMenuTourStep:sZ(e,zB.Studio_Layer_OpenContextMenu),isFirstLayer:(null==(a=gU(e))?void 0:a.id)===t.id,hasSelectedLayers:!!n.length,trackIsInSelection:uU(e,t.id)}}),Ou),m=Du((t=>{var a;return!!(null==(a=jR(t,e.track.id))?void 0:a.readyForTrackComponentRender)&&!Uc(t.studio.allLayers.byId[e.track.id])})),g=i.useCallback((()=>{o||r(!0)}),[o]),h=Math.ceil(t.timelinePosition.width),v=Math.min(Math.ceil(h/400),100),b=[],y=S2e(DC(t),"Video");for(let i=0;i<v;i+=1)b.push(f.jsxs("div",{className:n3e,style:{width:400},children:[f.jsx(Nn,{className:s3e}),y]},`video-track-${i}`));const w=t.timelinePosition.width>=5,_=!1!==t.hasAudio&&!t.detachedAudioId&&t.timelinePosition.width>=5,C=n===XS.trim?0:t.startTime||0,S=i.useMemo((()=>({onNext:()=>{j1e(t.id,"timeline")},disableBack:!0})),[t.id]);i.useEffect((function(){d&&$X(zB.Studio_Layer_OpenContextMenu)}),[d]);const x=i.useCallback((()=>{u&&l&&p&&d&&(j1e(t.id,"timeline"),$X(zB.Studio_Layer_OpenContextMenu))}),[l,u,d,t.id,p]);return f.jsx(Hme,{step:zB.Studio_Layer_OpenContextMenu,additionalOpenCondition:u&&l&&p,triggerStyle:i3e,rainbowBorderOptions:r3e,additionalButtonBehavior:S,conditionalDataFlag:c?void 0:"noPopover",children:f.jsx(C2e,{className:`${e3e} ${o?t3e:""} ${m?"":W1e}`,withBorderShadow:!0,isTall:!0,onPointerDown:x,children:m&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:a3e,children:b.map((e=>e))}),f.jsx(_2e,{waveformHidden:void 0===t.hasAudio,className:o3e,setTooltipProps:a,trackDuration:t.duration||1,trackId:t.id,trackPlaybackRate:t.playbackRate||1,trackStartTime:C,shouldDrawThumbnails:w,shouldDrawWaveform:!!_&&"half",onThumbnailsDrawn:g,trackIsReversed:!!t.isReversed,previewTrackType:n,hasDrawnThumbnailsOnce:o,isDragging:s})]})})})})),d3e=e=>i.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},i.createElement("rect",{width:20,height:20,rx:2,fill:"#252A35"}),i.createElement("path",{d:"M2.85718 5.70519V14.4338C2.85718 15.0051 3.51967 15.3209 3.96349 14.9613L10.0001 10.0695L3.96349 5.17774C3.51967 4.8181 2.85718 5.13395 2.85718 5.70519Z",fill:"white"}),i.createElement("path",{d:"M17.1429 5.70519V14.4338C17.1429 15.0051 16.4804 15.3209 16.0366 14.9613L9.99992 10.0695L16.0366 5.17774C16.4804 4.8181 17.1429 5.13395 17.1429 5.70519Z",fill:"white"}));function c3e({selectedIds:e,type:t}){const{state:a}=Mu(),n=new AQ(a.studio,"getSnapOffsetsPxForTimelineInteraction",{readOnly:!0});let s;s=t===JY.Drag?n.getDragSnapTimes(e):t===JY.TrimStart?n.getTrimToRightSnapTimes(e):n.getTrimToLeftSnapTimes(e),null!==a.studioLocal.ghostTimeOffset&&s.add(a.studioLocal.ghostTimeOffset),s.add(0);const o=mK(a)??0,i=new Set;for(const r of s)i.add(eK(o,r));return i}const u3e={workspacePopoverZIndex:"18",popoverZIndex:"14",paywallZIndex:"1001",paywallBgZIndex:"1000",container:"Track-module_container_0etSb",isHidden:"Track-module_isHidden_cykRW",isProcessingJob:"Track-module_isProcessingJob_-YbJZ",jobLoadingIndicator:"Track-module_jobLoadingIndicator_1DFF-",jobLoadingIndicatorLabel:"Track-module_jobLoadingIndicatorLabel_J4qqw",loadingIcon:"Track-module_loadingIcon_4IJLD",spin:"Track-module_spin_NMARm",transitionDropZone:"Track-module_transitionDropZone_z9mK-",transitionDropZoneIntro:"Track-module_transitionDropZoneIntro_BX-uc",transitionDropZoneOutro:"Track-module_transitionDropZoneOutro_W6115",dropZoneColorAndCurve:"Track-module_dropZoneColorAndCurve_U57WL",transitionDropZoneHandle:"Track-module_transitionDropZoneHandle_37k5h",transitionDropZoneColumn:"Track-module_transitionDropZoneColumn_GSl-q",smallTransitionDropZoneHandle:"Track-module_smallTransitionDropZoneHandle_p9RIf",smallTransitionDropZoneColumn:"Track-module_smallTransitionDropZoneColumn_HQD4C",crossTransitionDropZoneColumn:"Track-module_crossTransitionDropZoneColumn_ruQd8",crossSmallTransitionDropZoneColumn:"Track-module_crossSmallTransitionDropZoneColumn_AzeR6",dropZoneColumn:"Track-module_dropZoneColumn_Dg-tE",selectableTransition:"Track-module_selectableTransition_QTPOs",unselectedTransition:"Track-module_unselectedTransition_cgots",selectedTransition:"Track-module_selectedTransition_SPtvO",shadow:"Track-module_shadow_W2c6R",waveformTrack:"Track-module_waveformTrack_EmBE-",shadowTrack:"Track-module_shadowTrack_BPVcm",shortBorder:"Track-module_shortBorder_-lyrS",tallBorder:"Track-module_tallBorder_24fGV",dragObjectHovered:"Track-module_dragObjectHovered_ro5fV",layerSelected:"Track-module_layerSelected_A2wgQ",allMagicSelected:"Track-module_allMagicSelected_XM3HK",groupSelected:"Track-module_groupSelected_XWaa4",video:"Track-module_video_v6HUf",selected:"Track-module_selected_OXrfQ",trimPreviewSelected:"Track-module_trimPreviewSelected_wz0L-",magicSubtitleBorder:"Track-module_magicSubtitleBorder_d4vTP",imageBorder:"Track-module_imageBorder_1QoNR",imageTrimmer:"Track-module_imageTrimmer_2E95Q",shapeBorder:"Track-module_shapeBorder_HVmw9",shapeTrimmer:"Track-module_shapeTrimmer_eZ-DY",textBorder:"Track-module_textBorder_eJAWa",textTrimmer:"Track-module_textTrimmer_9IkG-",subtitleBorder:"Track-module_subtitleBorder_Ql7rE",subtitleTrimmer:"Track-module_subtitleTrimmer_2POmA",placeholderBorder:"Track-module_placeholderBorder_pDLes",placeholderTrimmer:"Track-module_placeholderTrimmer_fMJrN",videoBorder:"Track-module_videoBorder_f2LDT",audioBorder:"Track-module_audioBorder_60TvM",videoTrimmer:"Track-module_videoTrimmer_-2rZ4",audioTrimmer:"Track-module_audioTrimmer_xOTuZ",trackPreview:"Track-module_trackPreview_NCAq9",leftGrayedTrack:"Track-module_leftGrayedTrack_Subuf",rightGrayedTrack:"Track-module_rightGrayedTrack_OJCrz",keyframeIndicator:"Track-module_keyframeIndicator_o-5tW",volume:"Track-module_volume_WXcSD",fancyShimmer:"Track-module_fancyShimmer_ZEQyK",continuousRadiation:"Track-module_continuousRadiation_y9w-g",hiddenTrackIcon:"Track-module_hiddenTrackIcon_by2bq"},p3e=({trackId:e,count:t,time:a,isVolume:n,indicatorStyles:s,forceSelected:o,left:r,top:l})=>{var d;const c=Mue(),u=1===c.length,p=rY(),m=i.useCallback((()=>{JJ({time:a})}),[a]),g={...s,width:13,height:13};return(p===a&&u&&(null==(d=c[0])?void 0:d.id)===e||o)&&(g.borderColor=Iye.cyan),g.left=r-6.5,g.top=l-6.5,f.jsx("div",{className:L(u3e.keyframeIndicator,n&&u3e.volume),style:g,onPointerDown:m,"data-testid":"track-keyframe-indicator","data-cy":"track-keyframe-indicator",children:f.jsx("span",{children:t>1?t:""})})},m3e={workspacePopoverZIndex:"18",popoverZIndex:"14",paywallZIndex:"1001",paywallBgZIndex:"1000",container:"Trimmer-module_container_m24v9",isHidden:"Trimmer-module_isHidden_7wUCa",isProcessingJob:"Trimmer-module_isProcessingJob_HOqAt",jobLoadingIndicator:"Trimmer-module_jobLoadingIndicator_B4wCc",jobLoadingIndicatorLabel:"Trimmer-module_jobLoadingIndicatorLabel_fXqdd",loadingIcon:"Trimmer-module_loadingIcon_uTXky",spin:"Trimmer-module_spin_GfCfo",transitionDropZone:"Trimmer-module_transitionDropZone_H4w4W",transitionDropZoneIntro:"Trimmer-module_transitionDropZoneIntro_buFdb",transitionDropZoneOutro:"Trimmer-module_transitionDropZoneOutro_eD72L",dropZoneColorAndCurve:"Trimmer-module_dropZoneColorAndCurve_2sME0",transitionDropZoneHandle:"Trimmer-module_transitionDropZoneHandle_1emes",transitionDropZoneColumn:"Trimmer-module_transitionDropZoneColumn_h4ox6",smallTransitionDropZoneHandle:"Trimmer-module_smallTransitionDropZoneHandle_IbefS",smallTransitionDropZoneColumn:"Trimmer-module_smallTransitionDropZoneColumn_Xlm7j",crossTransitionDropZoneColumn:"Trimmer-module_crossTransitionDropZoneColumn_85l-M",crossSmallTransitionDropZoneColumn:"Trimmer-module_crossSmallTransitionDropZoneColumn_a-EoJ",dropZoneColumn:"Trimmer-module_dropZoneColumn_poKst",selectableTransition:"Trimmer-module_selectableTransition_clwgV",unselectedTransition:"Trimmer-module_unselectedTransition_mtic-",selectedTransition:"Trimmer-module_selectedTransition_PXOOr",shadow:"Trimmer-module_shadow_wUzWS",waveformTrack:"Trimmer-module_waveformTrack_4ynuu",shadowTrack:"Trimmer-module_shadowTrack_Ayx8T",shortBorder:"Trimmer-module_shortBorder_kiTHt",tallBorder:"Trimmer-module_tallBorder_VddK5",dragObjectHovered:"Trimmer-module_dragObjectHovered_N316r",layerSelected:"Trimmer-module_layerSelected_xRA6M",allMagicSelected:"Trimmer-module_allMagicSelected_FXMti",groupSelected:"Trimmer-module_groupSelected_HhK-a",video:"Trimmer-module_video_CBWli",selected:"Trimmer-module_selected_Js3Qe",trimPreviewSelected:"Trimmer-module_trimPreviewSelected_XI8a9",magicSubtitleBorder:"Trimmer-module_magicSubtitleBorder_By-e4",imageBorder:"Trimmer-module_imageBorder_spLYc",imageTrimmer:"Trimmer-module_imageTrimmer_NyoGs",shapeBorder:"Trimmer-module_shapeBorder_OkJS7",shapeTrimmer:"Trimmer-module_shapeTrimmer_qRguT",textBorder:"Trimmer-module_textBorder_ePE3R",textTrimmer:"Trimmer-module_textTrimmer_MJiP5",subtitleBorder:"Trimmer-module_subtitleBorder_ju2DG",subtitleTrimmer:"Trimmer-module_subtitleTrimmer_p5Igj",placeholderBorder:"Trimmer-module_placeholderBorder_-znqK",placeholderTrimmer:"Trimmer-module_placeholderTrimmer_JUAvF",videoBorder:"Trimmer-module_videoBorder_-PayB",audioBorder:"Trimmer-module_audioBorder_-LucE",videoTrimmer:"Trimmer-module_videoTrimmer_zlMkC",audioTrimmer:"Trimmer-module_audioTrimmer_9LAZu",trackPreview:"Trimmer-module_trackPreview_Kwdmo",leftGrayedTrack:"Trimmer-module_leftGrayedTrack_fsPc9",rightGrayedTrack:"Trimmer-module_rightGrayedTrack_Yoag5",keyframeIndicator:"Trimmer-module_keyframeIndicator_Gcd7g",volume:"Trimmer-module_volume_RO4kM",fancyShimmer:"Trimmer-module_fancyShimmer_CzydN",continuousRadiation:"Trimmer-module_continuousRadiation_e6DDL",hiddenTrackIcon:"Trimmer-module_hiddenTrackIcon_C3IXN",invisibleTrimmerHandle:"Trimmer-module_invisibleTrimmerHandle_vWEDD",left:"Trimmer-module_left_aRLIt",right:"Trimmer-module_right_LNEso",trimmer:"Trimmer-module_trimmer_N5CEf",trimmerHandle:"Trimmer-module_trimmerHandle_Kkft-",smallTrimmerHandle:"Trimmer-module_smallTrimmerHandle_Exw3q"},g3e=b.memo((({doubleClickHandler:e,hasMouseState:t,isTall:a,onPointerDown:n,trackType:s,trimPreviewTrack:o,type:r,useCSSTransitions:l})=>{const d=Bg()?24:14;let c="none";l&&!t&&(c="0.2s");const u=t?ZY.DraggedTrackTrimmer:ZY.Trimmer,p={transition:c,zIndex:u,width:d};t&&(p.transition="none");const m={zIndex:u+2,width:d},g="start"===r?"start-trimmer":"end-trimmer",h=[m3e.invisibleTrimmerHandle];"start"===r&&h.push(m3e.left),"end"===r&&h.push(m3e.right);const v=[m3e.trimmer];"start"===r&&v.push(m3e.left),"end"===r&&v.push(m3e.right);const b=i.useCallback((e=>{e.stopPropagation(),n(e)}),[n]);return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:h.join(" "),style:m,onPointerDown:b,onDoubleClick:e,"data-cy":`${o?"preview-":""}${g}`,"data-testid":`${r}-trimmer`}),f.jsx("div",{className:v.join(" "),style:p,children:f.jsx("div",{className:`${a?m3e.trimmerHandle:m3e.smallTrimmerHandle} ${m3e[`${s}Trimmer`]}`})})]})})),{TrimStart:h3e,TrimEnd:v3e,Drag:f3e}=JY,b3e={position:"absolute"},y3e=b.memo((({track:e,useCSSTransitions:t,onPointerDown:a,isDragging:n,setTooltipProps:s,previewTrackType:o,trimChange:r=null,left:l,width:d,height:c,top:u,isDragObjectHovered:p,hideTrimmers:m=!1,drawShadedBGTrack:g=!1})=>{var h,v,b,y;const w=Bg(),_=Bu(),C=Du((t=>Yse(t,e.id))),{animations:S,hasMouseState:x,groupIdForLayer:I,groupForLayer:A,areAllLayersInGroupSavedAndSelected:k,isGroupSelected:T,isSelected:E,selectedTransition:L,isLayerTranslating:j,isLayerStabilizing:R,isLayerCleaningAudio:N,isLayerEnhancingVoice:M,isLayerSplittingVocals:P,isLayerLipSyncing:F,isLayerSpeakerFocusing:D,isLayerDubbing:O,enhanceAssetJob:U,isLayerGeneratingScene:B,validNextLayer:W,validPrevLayer:V}=Du((t=>{var a,n,s,o;const{mouseState:i}=t.studioLocal,r=Object.entries(t.studio.groups).filter((t=>t[1].layers.some((t=>t.id===e.id))&&t[1].saved))[0],l=r?r[0]:null,d=r?r[1]:null,c=t.studio.allLayers.byId[e.id],u=null==c?void 0:c.asset_id,p=u?null==(a=t.studio.enhanceAssetJobs)?void 0:a[u]:null,m=t.studio.dubbing,g=oU(t),h=u&&(!!(null==m?void 0:m.byAssetId[u])||!!(null==c?void 0:c.dubbingWorkflowId)),v=e=>{var a,n,s,o,i;return!!e&&(!!(i=null==(o=null==(s=null==(n=null==(a=t.studio.lipSync)?void 0:a.byAssetId)?void 0:n[e])?void 0:s.workflow)?void 0:o.status)&&[vu.PENDING,vu.RUNNING].includes(i))},f=v(u)||v(null==e?void 0:e.dubbedAssetId)||v(null==e?void 0:e.dubbedVideoAssetId),b=Gx(t),y=t.studio.duration,{nextLayer:w,prevLayer:_}=u$(e,b,y);return{hasMouseState:!(!i||!(null==(n=i.selectedIds)?void 0:n.has(e.id))),groupIdForLayer:l,groupForLayer:d,areAllLayersInGroupSavedAndSelected:null==d?void 0:d.layers.every((e=>e.saved&&!e.deselected)),isGroupSelected:"group"===(null==g?void 0:g.type)&&g.id===l&&g.item.group.saved,isSelected:rU(t,e.id)||lU(t,e.id),selectedTransition:t.studio.selectedTransition,animations:t.studio.animations,isLayerTranslating:u&&!!(null==(s=t.studio.assetTextJobIds)?void 0:s[u]),isLayerStabilizing:!!p&&"stabilize"===(null==p?void 0:p.type),isLayerCleaningAudio:!!p&&"clean-audio"===(null==p?void 0:p.type),isLayerEnhancingVoice:!!p&&"enhance-voice"===(null==p?void 0:p.type),enhanceAssetJob:p,isLayerSplittingVocals:!!p&&"split-vocals"===(null==p?void 0:p.type),isLayerLipSyncing:f,isLayerSpeakerFocusing:!(!u||!rD(t,u)),isLayerGeneratingScene:null==(o=null==e?void 0:e.pendingAIJobs)?void 0:o.some((e=>"generate-scene"===e.type)),isLayerDubbing:"running"===(null==m?void 0:m.status)&&h,validNextLayer:w&&dT.includes(w.type),validPrevLayer:_&&dT.includes(_.type)}}),Ou),{convertOffsetToSeconds:H,convertSecondsToWidth:z,convertSecondsToOffset:G}=S1e(),Y=e.timelinePosition.width,K=PU.withUndoBatch(((t,a)=>{const{state:n}=Mu(),s="constant"===a?"outro":a,o=ET(e,s,n.studio.animations);i$([e])&&(t.isCrossTransition?((null==o?void 0:o.isCrossTransition)?d$(e,s,t.animation.id):o$(e.id,s,t.animation),((e,t)=>{const{dispatch:a,state:n}=Mu(),s=n.studio.duration,o=rJ(e);if(!o)return;let i;const{start:r,end:l}=bp(o,s);if("intro"===t||"constant"===t)i=r;else{const e=ET(o,t);i=l-(e?Wk(e,n.studio.animations):.5)}KJ(i),a(oB())})(e.id,s)):($J(e.id,{...t.animation,type:a}),c$([e.id])),yv("DRAG",t.animation.name))})),[{item:X},Z]=Mn((()=>({accept:[$S.TRANSITION_TILE],collect:e=>({item:e.getItem()}),drop:e=>{K(e,"constant")}})),[e]),[q,J]=Mn((()=>({accept:[$S.TRANSITION_TILE],drop:e=>{K(e,"intro")}})),[e]),[$,Q]=Mn((()=>({accept:[$S.TRANSITION_TILE],drop:e=>{K(e,"outro")}})),[e]),ee=i.useRef(0),te=t=>{var a;if(o)return;const n=Pce(t),s=(null==(a=Mu().state.projectSessionSettings.timelinePosition)?void 0:a.timelineScrollLeft)||0;F$(H(n.x+s)),_(ck({id:e.id,type:"layer"}))};let ae="none";t&&!x&&(ae="0.2s");const ne=(()=>{const e={cursor:"pointer",transition:ae,zIndex:x?ZY.DraggedTrack:void 0};return{left:l,width:d,height:c,top:u,...e}})(),se=ne.height/12,oe=ne.height-2*se,ie=w?24:14,re=w?72:35,le=(e={})=>{const t={height:ne.height,top:ne.top,transition:ae,zIndex:x?ZY.DraggedTrackTrimmer:ZY.Trimmer,...e};return x&&(t.transition="none"),t},de=i.useCallback(((t,n)=>{var s,i;const{state:r}=Mu();D$(!1);const{x:l,y:d}=Pce(t),c=f8(r),u=new Set(c.map((e=>e.id)));if(!Oce(t))return;t.shiftKey||t.metaKey?_(nk({layerId:e.id,undoable:!0})):E||(u.clear(),I?(_(ck({id:I,type:"group"})),null==A||A.layers.forEach((e=>u.add(e.id)))):(Ag(e)&&_(m0({tabId:rK.textToSpeech,tabContainerId:"media-sidebar"})),_(ck({id:e.id,type:"layer"})))),u.add(e.id);const p=(null==(s=r.projectSessionSettings.timelinePosition)?void 0:s.timelineScrollLeft)||0,m=(null==(i=r.projectSessionSettings.timelinePosition)?void 0:i.timelineScrollTop)||0,g=H(l+p);let h,v,f;if(o)h=new Set,v=0,f=e.timelinePosition.width;else{h=c3e({type:n,selectedIds:u});const t=new AQ(r.studio,"onPointerDown",{readOnly:!0});v=G(t.getMinTrimLeftSec(e.id)),f=G(t.getMaxTrimRightSec(e.id))}const b={id:e.id,type:n,mouseStartCoordinates:{x:l,y:d},timelineScrollLeftStart:p,timelineScrollTopStart:m,selectedIds:u,timelineRelativeClickTime:g,snapOffsetsPx:h,minTrimLeftPx:v,maxTrimRightPx:f};_({type:"INIT_DRAGGED_TRACKS_OVERRIDES",anchorLayerId:e.id,anchorTimelineTime:g}),_(dj(b)),n===h3e?F$(H(e.timelinePosition.left)):n===v3e&&F$(H(e.timelinePosition.left+e.timelinePosition.width)),a(t,b)}),[a,H,G,_,null==A?void 0:A.layers,I,E,o,e]),ce=i.useCallback((e=>de(e,h3e)),[de]),ue=i.useCallback((e=>de(e,v3e)),[de]),pe=ne.width>re&&!X&&!m,me=t=>{const a=ET(e,t);a&&(_(ek(a.animationStateMapId)),_(ck(null)),w&&_(yj(Jj.TRANSITION_CONTROLS)))},ge=null==(v=null==(h=e.animation)?void 0:h.intro)?void 0:v[0],he=ge?S.byId[ge]:null,ve=null==(y=null==(b=e.animation)?void 0:b.outro)?void 0:y[0],fe=ve?S.byId[ve]:null,be=()=>{if(!he||n)return 0;const e=Wk(he,S);return zg(z(e),0,ne.width)},ye=()=>{if(!fe||n)return 0;const e=Wk(fe,S);return zg(z(e),0,ne.width)},we=(()=>{if(!he)return null;let e=be();const t=ye();e+t>ne.width&&(e=fe&&yL(fe)?ne.width-t:ne.width/2);const a=L&&L.id===ge,n={width:e,borderBottomRightRadius:0,borderTopRightRadius:0},s=yL(he),o={zIndex:s?ZY.CrossTransition:ZY.Transition},i={height:oe,marginTop:se,width:e};s&&(n.borderTopLeftRadius=0,n.borderBottomLeftRadius=0);let r=!0;return e<50&&(r=!1,i.width=50,n.width=22,n.height=22,delete n.borderTopLeftRadius,delete n.borderBottomLeftRadius,delete n.borderTopRightRadius,delete n.borderBottomRightRadius),{introTransitionStyle:i,transitionIconStyle:o,transitionIconContainerStyles:n,introContainerStyles:{position:"absolute",left:0,right:0,height:"100%",width:"100%",display:"flex",flex:1,justifyContent:"flex-start"},isCoverTransition:r,isTransitionSelected:a,isTransitionBetweenLayers:s,introTransitionWidth:e}})(),_e=(()=>{if(!fe)return null;const e=be();let t=ye();e+t>ne.width&&(t=ne.width/2);const a=yL(fe),n={zIndex:a?ZY.CrossTransition:ZY.Transition},s=L&&L.id===ve,o={width:t,borderBottomLeftRadius:0,borderTopLeftRadius:0},i={height:oe,marginTop:se,width:t};a&&(o.borderTopLeftRadius=0,o.borderBottomLeftRadius=0);let r=!0;return t<50&&(r=!1,i.width=50,o.width=22,o.height=22,delete o.borderTopLeftRadius,delete o.borderBottomLeftRadius,delete o.borderTopRightRadius,delete o.borderBottomRightRadius),{outroTransitionStyle:i,transitionIconStyle:n,transitionIconContainerStyles:o,outroContainerStyles:{position:"absolute",left:0,right:0,height:"100%",width:"100%",display:"flex",flex:1,justifyContent:"flex-end"},isCoverTransition:r,isTransitionBetweenLayers:a,isTransitionSelected:s,outroTransitionWidth:t}})(),Ce=e8(ne.height),Se=j||R||N||M||P||F||D||O,xe=i.useMemo((()=>{if(!C.length)return null;const{width:t}=e.timelinePosition,[a,n]=zC(e),s=(null==he?void 0:he.isCrossTransition)&&!fL(he.outroLayerId)?he.transitionDuration??0:0,o=(null==fe?void 0:fe.isCrossTransition)&&!fL(fe.introLayerId)?fe.transitionDuration??0:0,i=z(s/2),l=z(o/2),d=n-a,c=oe,u=se,p=t+i+l,m=[],g=(t,n)=>{let s=t.time/d*p-i;if((null==r?void 0:r.start)&&(s-=r.start.x||0),n&&s-n.left<=13)return void(t.time!==n.time&&(n.count+=1,n.left=(n.left+s)/2));const o={isVolume:t.channel===Cu.VOLUME,count:1,trackId:e.id,time:t.time+a,indicatorStyles:{...(e.isHidden||Se)&&{filter:"brightness(20%)"}},left:s,top:0};if(t.channel===Cu.VOLUME){const a=G1e(t.value)/100;"video"===e.type?o.top=c/2*a+c/2+u:o.top=c*a+u}else o.top=c/2+u;return m.push(o),o};let h,v;for(const e of C)if(e.channel===Cu.VOLUME){const t=g(e,v);t&&(v=t)}else{const t=g(e,h);t&&(h=t)}return m}),[C,e,he,fe,z,oe,se,null==r?void 0:r.start,Se]),Ie=Ce?u3e.tallBorder:u3e.shortBorder,Ae=i.useMemo((function(){return E?"video"===e.type?cZ.SelectedVideoTrack:"audio"===e.type?cZ.SelectedAudioTrack:cZ.DummyToolTipAnchor:cZ.DummyToolTipAnchor}),[E,e.type]),ke=e.timelinePosition.width>50&&ne.width>50&&!X&&!o,Te=X&&X.type===$S.TRANSITION_TILE&&e.timelinePosition.width>50,Ee=Te&&X.isCrossTransition&&cT(e),{introTransition:Le,outroTransition:je}=LT(e,S),Re=Le&&"none"!==Le.id&&Le.isCrossTransition&&V,Ne=je&&"none"!==je.id&&je.isCrossTransition&&W,Me=(null==X?void 0:X.isCrossTransition)&&V,Pe=(null==X?void 0:X.isCrossTransition)&&W,Fe=Te&&cT(e)&&!Re&&!Me,De=Te&&cT(e)&&!Ne&&!Pe;return f.jsxs(f.Fragment,{children:[f.jsx(F1e,{layerId:e.id,children:f.jsx(fke,{portal:!0,id:Ae,children:f.jsxs("div",{className:[u3e.container,e.isHidden?u3e.isHidden:"",Se?u3e.isProcessingJob:""].join(" "),style:ne,onPointerDown:e=>de(e,f3e),onDoubleClick:te,onTouchEnd:e=>{e.timeStamp-ee.current<300&&w&&_(yj(Jj.EDIT_SELECTION_CONTROLS)),ee.current=e.timeStamp},"data-cy":"track","data-testid":`track-${e.id}`,"data-layerid":e.id,children:[((e,t)=>{const{type:a}=e;return a===Nc.Text?f.jsx($2e,{track:e,isTall:t}):a===Nc.Video||a===Nc.Persona?f.jsx(l3e,{track:e,setTooltipProps:s,previewTrack:o,isDragging:n}):a===Nc.Audio?f.jsx(I2e,{track:e,setTooltipProps:s,previewTrack:o}):a===Nc.Shape?f.jsx(z2e,{track:e,isTall:t}):a===Nc.Image?f.jsx(R2e,{track:e,isTall:t}):a===Nc.Placeholder?f.jsx(D2e,{track:e,isTall:t}):null})(e,Ce),(()=>{if(!pe)return null;const a={position:"absolute",left:0,right:0,top:0,height:"100%"};if(o){o&&e.startTime&&(a.left=e.startTime*Y/(e.duration||1));const t=o&&e.duration?(e.endTime||e.duration)*Y/e.duration:e.timelinePosition.width;a.right=Y-t}return f.jsxs("div",{style:a,children:[f.jsx(g3e,{doubleClickHandler:te,hasMouseState:x,isTall:e.isTall,onPointerDown:ce,trackType:e.type,trimPreviewTrack:!!o,type:"start",useCSSTransitions:t}),f.jsx(g3e,{doubleClickHandler:te,hasMouseState:x,isTall:e.isTall,onPointerDown:ue,trackType:e.type,trimPreviewTrack:!!o,type:"end",useCSSTransitions:t})]})})(),ke&&f.jsxs(f.Fragment,{children:[(()=>{if(!we||n)return null;const{introTransitionStyle:e,transitionIconStyle:t,transitionIconContainerStyles:a,introContainerStyles:s,isCoverTransition:o,isTransitionSelected:i,isTransitionBetweenLayers:r}=we;return r&&o?null:f.jsx("div",{style:s,children:f.jsx("div",{className:u3e.selectableTransition,style:e,onPointerDown:e=>{e.stopPropagation()},onClick:()=>{me("intro")},children:f.jsx("div",{style:a,className:i?u3e.selectedTransition:u3e.unselectedTransition,children:f.jsx(d3e,{style:t})})})})})(),(()=>{if(!_e||n)return null;const{outroTransitionStyle:e,transitionIconStyle:t,transitionIconContainerStyles:a,outroContainerStyles:s,isCoverTransition:o,isTransitionSelected:i,isTransitionBetweenLayers:r}=_e;return r&&o?null:f.jsx("div",{style:s,children:f.jsx("div",{className:u3e.selectableTransition,style:e,onPointerDown:e=>{e.stopPropagation(),me("outro")},children:f.jsx("div",{style:a,className:i?u3e.selectedTransition:u3e.unselectedTransition,children:f.jsx(d3e,{style:t})})})})})()]}),!o&&f.jsx("div",{className:`${Ie} ${p?u3e.dragObjectHovered:E?T&&k?u3e.groupSelected:u3e.layerSelected:""} ${"video"===e.type?u3e.video:""} ${u3e[`${e.type}Border`]}`,"data-selected":E,"data-cy":"track-border"}),o&&g&&f.jsx("div",{className:`${Ie}\n                      ${u3e.selected} ${"video"===e.type?u3e.video:""} ${u3e.trimPreviewSelected}`,style:(()=>{if(e.duration&&(e.startTime||e.endTime)){const t=e.startTime||0,a=e.endTime||e.duration,n=Y/e.duration;return{left:ne.left+t*n,width:(a-t)*n}}return{}})(),"data-cy":"trim-preview-border"}),g&&(()=>{let t=null,a=null;if(!e.duration)return null;const n=Y/e.duration;if(e.startTime){const a=e.startTime*n;t=f.jsx("div",{style:{left:0,width:a},className:u3e.leftGrayedTrack})}if(e.endTime&&Math.abs(e.endTime-e.duration)>.01){const t=(e.duration-e.endTime)*n;t>.01&&(a=f.jsx("div",{style:{right:0,width:t},className:u3e.rightGrayedTrack}))}return f.jsxs(f.Fragment,{children:[t," ",a]})})(),e.isHidden&&f.jsx(Pn,{className:u3e.hiddenTrackIcon}),null==xe?void 0:xe.map((e=>f.jsx(p3e,{...e},`${e.isVolume} ${e.time}`))),Se&&(()=>{const t="video"===e.type?"video":"image",a=[];if(j&&a.push(`Translating ${t} text`),N&&a.push("Cleaning audio"),M&&a.push("Enhancing voice"),R){let e,t="Stabilizing video";(null==U?void 0:U.progress)&&(e=`(${null==U?void 0:U.progress}% complete)`,t=[t,e].join(" ")),a.push(t)}P&&a.push("Splitting vocals"),F&&a.push("Lip syncing"),D&&a.push("Applying Speaker Focus"),O&&a.push("Dubbing"),B&&a.push("Generating Video");const{width:n}=e.timelinePosition;return f.jsxs("div",{className:u3e.jobLoadingIndicator,children:[n>30&&f.jsx(Ise,{className:u3e.loadingIcon}),f.jsx("span",{children:""}),n>100&&f.jsx("div",{className:u3e.jobLoadingIndicatorLabel,children:a.join(" + ")})]})})()]})})}),Fe&&(()=>{let{left:t}=ne;o&&e.startTime&&(t+=e.startTime*Y/(e.duration||1));const a={left:t,zIndex:ZY.TransitionDropZone},n=le(a);return f.jsxs("div",{ref:e=>{J(e)},className:(null==we?void 0:we.isTransitionBetweenLayers)?u3e.transitionDropZone:u3e.transitionDropZoneIntro,style:n,"data-testid":"intro-transition-dropzone",children:[f.jsx("div",{className:e.isTall?u3e.transitionDropZoneHandle:u3e.smallTransitionDropZoneHandle}),f.jsx("div",{className:e.isTall?u3e.transitionDropZoneColumn:u3e.smallTransitionDropZoneColumn}),f.jsx(Fn,{style:b3e,color:"#9a9a9a"})]})})(),De&&(()=>{const t=o&&e.duration?(e.endTime||e.duration)*Y/e.duration:ne.width,a={left:ne.left+t-ie-10,zIndex:ZY.TransitionDropZone},n=le(a);return f.jsxs("div",{ref:e=>{Q(e)},className:u3e.transitionDropZoneOutro,style:n,"data-testid":"outro-transition-dropzone",children:[f.jsx("div",{className:e.isTall?u3e.transitionDropZoneHandle:u3e.smallTransitionDropZoneHandle}),f.jsx("div",{className:e.isTall?u3e.transitionDropZoneColumn:u3e.smallTransitionDropZoneColumn}),f.jsx(Fn,{style:b3e,color:"#9a9a9a"})]})})(),Ee&&f.jsx(f.Fragment,{children:(()=>{if(!W)return null;const t={left:ne.left+ne.width-12,zIndex:ZY.TransitionDropZone},a=le(t);return f.jsxs("div",{ref:e=>{Z(e)},className:u3e.transitionDropZone,style:a,"data-testid":"cross-transition-dropzone",children:[f.jsx("div",{className:e.isTall?u3e.transitionDropZoneHandle:u3e.smallTransitionDropZoneHandle}),f.jsx("div",{className:e.isTall?u3e.crossTransitionDropZoneColumn:u3e.crossSmallTransitionDropZoneColumn}),f.jsx(Fn,{style:b3e,color:"#9a9a9a"})]})})()}),ke&&(()=>{if(!we||n)return null;const{introTransitionStyle:e,transitionIconStyle:t,transitionIconContainerStyles:a,introContainerStyles:s,isCoverTransition:o,isTransitionSelected:i,isTransitionBetweenLayers:r,introTransitionWidth:l}=we;return r&&o?(s.position="absolute",s.left=ne.left-l/2,s.top=ne.top,delete s.width,delete s.right,f.jsx("div",{style:s,children:f.jsx("div",{className:u3e.selectableTransition,style:e,onPointerDown:e=>{e.stopPropagation()},onClick:()=>{me("intro")},children:f.jsx("div",{style:a,className:i?u3e.selectedTransition:u3e.unselectedTransition,children:f.jsx(d3e,{style:t})})})})):null})()]})})),w3e=b.memo((({currentTimeOffset:e,manipulatedTrackPosition:t,disabled:a=!1,canvasHeight:n,setSeekerIsDragging:s,seekerIsDragging:o,videoDuration:r,seekerAutoScroll:l,seekerAutoscrollingEnabled:d})=>{const c=i.useRef(null),{timelineScrollLeft:u,timelineScrollTop:p}=Du((e=>{var t,a;return{timelineScrollLeft:(null==(t=e.projectSessionSettings.timelinePosition)?void 0:t.timelineScrollLeft)||0,timelineScrollTop:(null==(a=e.projectSessionSettings.timelinePosition)?void 0:a.timelineScrollTop)||0}}),Ou),{timelineWidth:m}=Du((e=>({timelineWidth:e.timelineStyles.timelineContainerWidth||0})),Ou),[g,h]=i.useState(!1),{convertOffsetToSeconds:v}=S1e(),[b,y]=i.useState();i.useEffect((()=>{if(!b||!o)return;const{x:e}=b;let t=v(e+u);t>r&&(t=r),F$(t)}),[b,u,v,o,r,n]),i.useEffect((()=>{const e=e=>{if(!e.isPrimary)return;e.preventDefault();const{x:t,y:a}=Pce(e);y({x:t,y:a})},t=()=>{null==s||s(!1)};return o&&(document.addEventListener("pointermove",e),document.addEventListener("pointerup",t),document.addEventListener("lostpointercapture",t)),()=>{document.removeEventListener("pointermove",e),document.removeEventListener("pointerup",t)}}),[o,s]),i.useEffect((()=>{e&&(g&&(e-u)%m<.1*m?h(!1):!g&&d&&(e-u)%m>=.9*m&&(l(.9*m,["right"]),h(!0)))}),[e,m,l,u,g,d]);const w=(_='[data-cy="track"]',e=>{const{x:t,y:a}=Pce(e),n=Array.from(document.querySelectorAll(_));if(0===n.length)return void console.warn(`No targets found for selector: ${_}. Context menu event will not be passthrough.`);const s=Array.from(n).find((e=>{const n=e.getBoundingClientRect();return t>=n.left&&t<=n.right&&a>=n.top&&a<=n.bottom}));if(s){const n=new MouseEvent("contextmenu",{bubbles:!0,cancelable:!0,clientX:t,clientY:a});s.dispatchEvent(n),e.preventDefault(),e.stopPropagation()}});var _;const C=a?{}:{onPointerDown:e=>{if(!Oce(e))return;const{x:t,y:a}=Pce(e);y({x:t,y:a}),null==s||s(!0)},onContextMenu:w};return void 0===e?null:f.jsxs("div",{id:"seeker",ref:c,className:I1e,style:(()=>{const a=t?t.left:e;return{transform:`translate(${Math.ceil((a||0)-10)}px, ${p}px)`,zIndex:ZY.Seeker}})(),...C,children:[f.jsx(x1e,{className:k1e}),f.jsx("div",{className:A1e}),a?null:f.jsx(E1e,{isSeekerDragging:o})]})})),_3e=b.memo((e=>f.jsx(w3e,{...e,disabled:!0}))),C3e=()=>document.getElementById("seeker"),S3e=b.memo((({manipulatedTrackPosition:e,canvasHeight:t,setSeekerIsDragging:a,seekerIsDragging:n,timeLabelDragging:s,videoDuration:o,seekerAutoScroll:i,seekerAutoscrollingEnabled:r})=>{const l=rY(),{convertSecondsToOffset:d}=S1e(),c=d(l);return f.jsx(w3e,{currentTimeOffset:c,manipulatedTrackPosition:e,canvasHeight:t,setSeekerIsDragging:a,seekerIsDragging:n,timeLabelDragging:s,videoDuration:o,seekerAutoScroll:i,seekerAutoscrollingEnabled:r})})),x3e=e=>{const{dispatch:t}=Mu();t(function(e){return{type:"SET_EYEDROPPER_MODE",status:e}}(e))},I3e=(e={})=>{const{state:t}=Mu();t.studio.eyedropperMode&&x3e(null),qce(),PU.undo(e)},A3e=(e={})=>{const{state:t}=Mu();t.studio.eyedropperMode&&x3e(null),qce(),PU.redo(e)},k3e=()=>{Mu().dispatch(zte.setOpen(!0))},T3e=yue.bind(null,"Keyboard shortcut"),E3e=wue.bind(null,"Keyboard shortcut"),L3e=_ue.bind(null,"Keyboard shortcut"),j3e=bue.bind(null,"Keyboard shortcut"),R3e=lme.bind(null,"Keyboard shortcut"),N3e=dme.bind(null,"Keyboard shortcut"),M3e=ume.bind(null,"Keyboard shortcut"),P3e=cme.bind(null,"Keyboard shortcut"),F3e=["arrowleft","arrowright","arrowup","arrowdown","space"],D3e=e=>{const t=[];var a;return e.metaKey&&t.push(qS.Command),e.shiftKey&&t.push(qS.Shift),e.ctrlKey&&t.push(qS.Control)," "===e.key&&t.push("space"),e.altKey&&t.push(qS.Option),a=e.key,[qS.Control,qS.Alt,qS.Shift,"meta"].includes((a||"").toLowerCase())||" "===a||("BracketRight"===e.code?t.push("]"):"BracketLeft"===e.code?t.push("["):e.key&&t.push(e.key.toLowerCase())),(e=>e.join("+"))(t)};function O3e(){const e=(e,t)=>{const{dispatch:a}=Mu();a(function(e,t){let a;switch(e){case qS.Command:a="COMMAND_IS_BEING_PRESSED";break;case qS.Shift:a="SHIFT_IS_BEING_PRESSED";break;case qS.Control:a="CONTROL_IS_BEING_PRESSED";break;case qS.Option:default:a="ALT_IS_BEING_PRESSED"}return{type:a,isPressed:t}}(e,t))},t=c.debounce(e.bind(null,qS.Option),0,{trailing:!0,leading:!1}),a=c.debounce(e.bind(null,qS.Command),0,{trailing:!0,leading:!1}),n=c.debounce(e.bind(null,qS.Control),0,{trailing:!0,leading:!1}),s=c.debounce(e.bind(null,qS.Shift),0,{trailing:!0,leading:!1}),o={escape:()=>{const{state:e,dispatch:t}=Mu();e.studioLocal.trackIsDragging||(t(ck(null)),dR())},alt:()=>{t(!0)},command:()=>{tJ({}),a(!0)},control:()=>{tJ({}),n(!0)},option:()=>{t(!0)},shift:()=>{s(!0)},"command+k":k3e,"control+k":k3e},r={space:qJ},l={space:zJ,"command+a":w1,"command+z":I3e,"control+z":I3e,"command+shift+z":A3e,"shift+control+z":A3e,"command+y":A3e,"control+y":A3e},d=e=>{const{state:t}=Mu(),{selectedEditorPane:a}=t.studioLocal,n=b1();switch(a){case"canvas":n&&(PU.beginBatch(),n.layers.forEach((({id:t})=>{""===e&&Lue(rJ(t)),"shift"===e&&jue(rJ(t))})),PU.endBatch());break;case"timeline":_(-.033)}},u=e=>{const{state:t}=Mu(),{selectedEditorPane:a}=t.studioLocal,n=b1();switch(a){case"canvas":n&&(PU.beginBatch(),n.layers.forEach((({id:t})=>{""===e&&Tue(rJ(t)),"shift"===e&&Eue(rJ(t))})),PU.endBatch());break;case"timeline":_(.033)}},p=e=>{const{state:t}=Mu(),{selectedEditorPane:a}=t.studioLocal,n=b1();switch(a){case"canvas":n&&(PU.beginBatch(),n.layers.forEach((({id:t})=>{""===e&&xue(rJ(t)),"shift"===e&&Iue(rJ(t))})),PU.endBatch());break;case"timeline":w(!1)}},m=e=>{const{state:t}=Mu(),{selectedEditorPane:a}=t.studioLocal,n=b1();switch(a){case"canvas":n&&(PU.beginBatch(),n.layers.forEach((({id:t})=>{""===e&&Aue(rJ(t)),"shift"===e&&kue(rJ(t))})),PU.endBatch());break;case"timeline":w(!0)}},g={backspace:Nue,delete:Nue,"command+]":R3e,"command+arrowup":R3e,"command+[":N3e,"command+arrowdown":N3e,"command+option+]":M3e,"command+shift+arrowup":M3e,"command+option+[":P3e,"command+shift+arrowdown":P3e,"control+option+]":M3e,"shift+control+arrowup":M3e,"control+option+[":P3e,"shift+control+arrowdown":P3e,"control+]":R3e,"control+[":N3e,"command+g":()=>d1(!0),"command+shift+g":()=>d1(!1),s:L$,h:()=>R$(),"command+delete":s8,"command+option+":oge,"control+option+v":oge,"command+backspace":s8,"control+delete":s8,"control+backspace":s8,arrowleft:()=>d(""),"shift+arrowleft":()=>d("shift"),arrowright:()=>u(""),"shift+arrowright":()=>u("shift"),arrowup:()=>p(""),"shift+arrowup":()=>p("shift"),arrowdown:()=>m(""),"shift+arrowdown":()=>m("shift")},h={backspace:i8,delete:i8},v={s:L$,h:()=>R$(),arrowleft:()=>_(-.033),arrowright:()=>_(.033),arrowup:()=>w(!1),arrowdown:()=>w(!0)},f={backspace:Nue,delete:Nue,h:N$},b={backspace:Nue,delete:Nue},y=e=>{var t;KJ(e),null==(t=C3e())||t.scrollIntoView()},w=e=>{const{state:t}=Mu(),a=dY(),n=t.studio.duration,s=BC(n),o=(()=>{const{state:e}=Mu(),t=g8(e),a=new Set,n=mU();for(const o of t){const{start:t,end:s}=bp(o,e.studio.duration);o.id===(null==n?void 0:n.id)&&wY(o.id)&&FY(o.id).forEach((e=>{a.add(Vk(e)+t)}));const i=BC(t),r=BC(s);a.add(i),a.add(r)}a.add(0);for(const[o,i]of Object.entries(e.studio.magicSubtitles||{})){if(!i||!i.enabled)continue;const t=vO({assetId:o,filterEmpty:!1,filterInvalid:!0})(e);for(const e of t){const t=BC(e.startTime),n=BC(e.endTime);a.add(t),a.add(n)}}const s=Array.from(a);return s.sort(((e,t)=>e-t)),s})();if(GJ(),a>s&&!e)y(o[o.length-1]);else if((0!==a||e)&&(a!==o[o.length-1]||!e))for(let i=0;i<o.length;i+=1){const t=o[i],n=o[i-1],s=o[i+1];if(a===t)return e?void y(s):void y(n);if(t<a&&a<s)return e?void y(s):void y(t)}},_=e=>{const{state:t}=Mu();GJ();let a=dY()+e;a<0&&(a=0);const n=t.studio.duration;a>n&&(a=n),y(a)},C={backspace:()=>Nue(),delete:()=>Nue(),arrowup:()=>{const{state:e}=Mu(),{selectedEditorPane:t}=e.studioLocal;if("timeline"===t)w(!1);else xue()},"shift+arrowup":()=>Iue(),arrowdown:()=>{const{state:e}=Mu(),{selectedEditorPane:t}=e.studioLocal;if("timeline"===t)w(!0);else Aue()},"shift+arrowdown":()=>kue(),arrowright:()=>{const{state:e}=Mu(),{selectedEditorPane:t}=e.studioLocal;switch(t){case"timeline":_(.03333333333333333);break;case"canvas":Tue()}},"shift+arrowright":()=>Eue(),arrowleft:()=>{const{state:e}=Mu(),{selectedEditorPane:t}=e.studioLocal;switch(t){case"timeline":_(-.03333333333333333);break;case"canvas":Lue()}},"shift+arrowleft":()=>jue(),"command+shift+a":C1e,"shift+control+a":C1e,"command+]":T3e,"command+arrowup":T3e,"command+[":j3e,"command+arrowdown":j3e,"command+option+]":L3e,"command+shift+arrowup":L3e,"command+option+[":E3e,"command+shift+arrowdown":E3e,"command+option+":oge,"control+option+v":oge,"command+option+":nge,"control+option+c":nge,"control+option+]":L3e,"control+option+[":E3e,"control+]":T3e,"control+arrowup":T3e,"control+[":j3e,"control+arrowdown":j3e,"command+delete":s8,"command+backspace":s8,"control+delete":s8,"control+backspace":s8,s:L$,h:R$},S=e=>{PU.beginBatch();const{dispatch:t}=Mu();e&&(n$(e.id),t(ek(null))),PU.endBatch()},x={backspace:S,delete:S},I=tY((e=>{var t,a,n,s,i,d,c,u,p,m,y,w,_;const{state:S}=Mu(),I=D3e(e);if("command+c"===I||"command+v"===I)return;if(!S.userPermissions.canWrite&&!F3e.includes(I))return;if(o[I]&&(e.preventDefault(),null==(t=o[I])||t.call(o)),Hpe(e))return;if((null==(a=S.projectSessionSettings.overlay)?void 0:a.key)===XS.sceneSplit||(null==(n=S.projectSessionSettings.overlay)?void 0:n.key)===XS.smartCut||(null==(s=S.projectSessionSettings.overlay)?void 0:s.key)===XS.trim)return void(r[I]&&(e.preventDefault(),null==(i=r[I])||i.call(r)));if(S.studio.eyedropperMode&&"space"===I)return;l[I]&&(e.preventDefault(),null==(d=l[I])||d.call(l));const A=mU(),{selectedTransition:k}=S.studio;if(S.trimWithTranscript.selection){const{status:e}=S.trimWithTranscript.selection;if("enter"===I&&e===tx.DELETED)return void wee()}if("Transcript"===S.selectedTabs["media-sidebar"]&&("command+f"===I||"control+f"===I))return e.preventDefault(),void Mu().dispatch(S8(!0));if(A)return void(C[I]&&(e.preventDefault(),null==(c=C[I])||c.call(C,e)));if(k)return void(x[I]&&(e.preventDefault(),null==(u=x[I])||u.call(x,k)));if(b1())return void(g[I]&&(null==(p=g[I])||p.call(g),e.preventDefault()));if(O$())return void(h[I]&&(null==(m=h[I])||m.call(h),e.preventDefault()));const{selectedTimelineRows:T,selectedItem:E}=S.studio;"magicSubtitle"!==(null==E?void 0:E.type)?"waveform"!==(null==E?void 0:E.type)?T&&v[I]&&(null==(_=v[I])||_.call(v),e.preventDefault()):b[I]&&(null==(w=b[I])||w.call(b),e.preventDefault()):f[I]&&(null==(y=f[I])||y.call(f),e.preventDefault())})),A=tY((e=>{"Alt"===e.key&&t(!1),"Meta"===e.key&&a(!1),"Control"===e.key&&n(!1),"Option"===e.key&&t(!1),"Shift"===e.key&&s(!1)})),k=tY((()=>{t(!1),a(!1),n(!1),s(!1)}));return i.useEffect((()=>(document.addEventListener("keydown",I),document.addEventListener("keyup",A),window.addEventListener("blur",k),()=>{document.removeEventListener("keydown",I),document.removeEventListener("keyup",A),window.removeEventListener("blur",k)})),[k,I,A]),null}const U3e=b.memo((()=>{const e=i.useCallback((e=>{switch(D3e(e)){case"command+z":e.preventDefault(),((e={force:!0})=>{const t=M5(j5.RepurposeAnalytics);(null==t?void 0:t.loggedUndoUse)||(ov("Repurpose Undo"),N5(j5.RepurposeAnalytics,{...t,loggedUndoUse:!0})),PU.undo(e)})({force:!0});break;case"command+shift+z":e.preventDefault(),((e={force:!0})=>{const t=M5(j5.RepurposeAnalytics);(null==t?void 0:t.loggedRedoUse)||(ov("Repurpose Redo"),N5(j5.RepurposeAnalytics,{...t,loggedRedoUse:!0})),PU.redo(e)})({force:!0})}}),[]);return i.useEffect((()=>(document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)})),[e]),null})),B3e="KapwingProgressBar-module_progressBar_u2Age",W3e="KapwingProgressBar-module_progress_id06E",V3e=b.memo((({progress:e})=>f.jsx("div",{className:B3e,children:f.jsx("div",{className:W3e,style:{width:`${e||0}%`}})}))),H3e=["name","ratio","background","canvasBlur","animations"],z3e=["position","color","backgroundColor","fontFamily","fontWeight","textAlign","textTransform","textPadding","textOutline","underline","italic","lineHeight","borderRadius","startTime","endTime","wrapOrFill","globalAlpha","textEffect","textDropShadowColor","textShadowBlur","textShadowDist","textShadowRot","hasCustomFont","textShadow","asset_id"],G3e={heightPct:0,widthPct:80,xPct:10,yPct:70,rotation:0},Y3e={id:"",type:"image",asset_id:UE._id,height:1633,width:1633,mime:"image/png",name:"circle logo.png",objectFit:"cover",position:{x:"5.3874788336939705%",y:"3.709032054988435%",width:"13.838383838383836%",height:"7.78409090909091%",rotation:0},timelineRow:1},K3e={_id:"webinar",studio:{background:"#2a2a2a",canvasBlur:!0,ratio:"9:16"},subtitleAdditionalConfig:{position:G3e},subtitlePreset:Ey,teamId:"",createdAt:"",name:"Webinar",dateSeen:(new Date).toJSON(),resizeMode:"speaker-focus",useTitle:!0},X3e={_id:"webinar2",studio:{background:"#2a2a2a",canvasBlur:!0,ratio:"9:16"},subtitleAdditionalConfig:{position:G3e},subtitlePreset:Ny,teamId:"",createdAt:"",name:"Webinar 2",dateSeen:(new Date).toJSON(),resizeMode:"speaker-focus",extraLayers:{background:[],foreground:[{timing:"full",baseLayer:Y3e}]},useTitle:!1},Z3e={_id:"podcast",studio:{background:"#2a2a2a",canvasBlur:!1,ratio:"9:16"},subtitleAdditionalConfig:{position:{...G3e,yPct:50}},subtitlePreset:{...Oy,style:{...Oy.style,fontSize:64,textAlign:"center"}},teamId:"",createdAt:"",name:"Podcast",dateSeen:(new Date).toJSON(),resizeMode:"fit-to-center",tetheredWaveformSettings:{style:{color:"#ffffff",type:"wave",opacity:100},position:{width:69.5,height:10,x:15.25,y:50,rotation:0}},extraLayers:{background:[],foreground:[{timing:"full",baseLayer:Y3e},{timing:"full",baseLayer:{id:"",type:"text",backgroundColor:"rgba(-255,-255,-255,0)",color:"#FFFFFF",fontFamily:"Montserrat",fontSize:14.522142857142857,baseWidth:155.30625,baseHeight:17.5,fontWeight:"bold",position:{x:"22.37115406544926%",y:"4.7104258305356%",width:"55%",height:"2.8928571428571432%",rotation:0},text:"Podcast Title",textAlign:"left",wrapOrFill:"wrap",timelineRow:2}},{timing:"full",baseLayer:{id:"",type:"text",backgroundColor:"rgba(-255,-255,-255,0)",color:"#FFFFFF",fontFamily:"Montserrat",fontSize:11.295,baseWidth:156.1171875,baseHeight:14,fontWeight:"normal",position:{x:"22.371154065449257%",y:"8.232325455869995%",width:"55.28718459495352%",height:"2.25%",rotation:0},text:"Episode Name",textAlign:"left",wrapOrFill:"wrap",timelineRow:3}}]},useTitle:!1},q3e={_id:"podcast2",studio:{background:"#2a2a2a",canvasBlur:!1,ratio:"9:16"},subtitleAdditionalConfig:{position:{heightPct:0,widthPct:69,xPct:15.5,yPct:51}},subtitlePreset:Ey,teamId:"",createdAt:"",name:"Podcast 2",dateSeen:(new Date).toJSON(),resizeMode:"fit-to-center",tetheredWaveformSettings:{style:{color:"#ffffff",type:"wave",opacity:100},position:{width:69.5,height:10,x:15.25,y:53.32,rotation:0}},useTitle:!1},J3e=[K3e,X3e,Z3e,q3e],$3e=e=>{const t=e.isRSAIHookTitle?CQe:_Qe;return{layerProps:{...t,...c.pick(e,z3e),position:e.position||t.position}}},Q3e=e=>{var t,a;const n=null==(t=null==e?void 0:e.layerProps)?void 0:t.hasCustomFont;let s={type:"default",fontFamily:(null==(a=null==e?void 0:e.layerProps)?void 0:a.fontFamily)??_Qe.fontFamily};if(n&&e.layerProps.fontFamily&&e.layerProps.asset_id){const t=function(e,t){const a=Mu().state.assets.byId[e];return a&&a.url?{type:"custom",fontFamily:t,url:a.url,asset_id:e}:null}(e.layerProps.asset_id,e.layerProps.fontFamily);t&&(s=t)}return s};function e5e(e){const t=[];return e.titleSettings&&t.push(Q3e(e.titleSettings)),e.aiHooksTitleSettings&&t.push(Q3e(e.aiHooksTitleSettings)),t}const t5e=()=>{var e,t;const{state:a}=Mu(),n=ig(a);if(n._id===Om._id)throw new Error("Anonymous user attempting to create a blueprint");const s=dJ(a),o=s.find((({source:e})=>"workspaceWorkflow"===e)),i=(null==o?void 0:o.asset_id)||null,r={teamId:a.studio.teamId||n._id,studio:c.pick(a.studio,H3e),...a.studio.blueprintChanges};r.name=a.studio.name;const l=UO(a);if(l.length){const t=VD(a);if(r.subtitleAdditionalConfig={position:t.position,defaultCharsPerSubtitle:t.defaultCharsPerSubtitle},c.isEqual(c.omit(null==(e=t.preset)?void 0:e.style,["fontSize"]),c.omit(t.style,["fontSize"])))r.subtitlePreset=t.preset||void 0;else{const e=TK(a.studio.ratio),n=X2({style:t.style,wordByWordAnimations:t.wordByWordAnimations,transition:{transitionId:t.transitionId,transitionSpeed:t.transitionSpeed,transitionDuration:t.transitionDuration,transitionOverlapDuration:t.transitionOverlapDuration},projectRatio:{width:e.ratioWidth,height:e.ratioHeight}});r.subtitlePreset=n}}else r.removeSubtitles=!0;if(l.some((e=>p2(e.text)))?r.useAutoEmoji=!0:delete r.useAutoEmoji,o&&i){const e=a.assets.byId[i];if(r.assetLayer={timing:"full",baseLayer:o},null==e?void 0:e.dimensions){const{width:t,height:a}=e.dimensions;r.assetLayer.assetAspectRatio={width:t,height:a}}const n=null==(t=a.studio.tetheredWaveforms)?void 0:t.byAssetId[i];n&&n.enabled&&(r.tetheredWaveformSettings={position:n.position,style:n.style});const l={background:[],foreground:[]};let d=!1,c=!1,u="background";s.forEach((e=>{if(sp(e)){if(e.isRSTitle)return r.titleSettings=$3e(e),void(d=!0);if(e.isRSAIHookTitle)return c=!0,void(r.aiHooksTitleSettings=$3e(e))}if(e.isRSAIHookTTS)return void(c=!0);if(e.asset_id===i)return void(u="foreground");if("placeholder"===e.type)return;const t=(e=>{const t=Mu().state.studio.duration,[a,n]=zC(e),s=VC(a,0,.09),o=VC(n,t,.09);return s&&o?"full":s?"start":o?"end":null})(e);t&&l[u].push({baseLayer:e,timing:t})})),(l.background.length||l.foreground.length)&&(r.extraLayers=l),d&&(r.useTitle=!0),c&&(r.useAIHooks=!0)}return r},a5e=async e=>await Xf("/api/v1/blueprints",{body:{blueprints:e}}),n5e=async()=>{try{const e=t5e(),{blueprints:t}=await Kf(`/api/v1/blueprints?teamId=${e.teamId}`);if(((e,t)=>{const a=t.concat(J3e),n=["resizeMode","removeSubtitles","subtitlePreset","subtitleAdditionalConfig","titleSettings",...c.without(H3e,"animations","ratio").map((e=>`studio.${e}`)),"tetheredWaveformSettings"];return!!a.find((t=>{if(!c.isEqual(c.pick(e,n),c.pick(t,n)))return!1;const a=["timing","baseLayer.asset_id","baseLayer.position","baseLayer.type","baseLayer.text","baseLayer.shapeType","baseLayer.volume","baseLayer.timelineRow","baseLayer.zoom"];let s=!0;return s=e.extraLayers&&t.extraLayers?c.isEqual({background:e.extraLayers.background.map((e=>c.pick(e,a))),foreground:e.extraLayers.foreground.map((e=>c.pick(e,a)))},{background:t.extraLayers.background.map((e=>c.pick(e,a))),foreground:t.extraLayers.foreground.map((e=>c.pick(e,a)))}):!!e.extraLayers==!!t.extraLayers,!(!s||!!t.studio.ratio!=!!e.studio.ratio||t.studio.ratio&&e.studio.ratio&&!Dq(t.studio.ratio,e.studio.ratio))}))})(e,t))return;const a=await a5e([e]);Mu().dispatch(eW.upsert(a)),ov("Blueprint Created")}catch(b9e){console.error(b9e)}},s5e=async e=>a5e(e.map((e=>({...e,dateSeen:(new Date).toJSON()})))),o5e=(e,t)=>{const{sections:a}=e;if(!a.length||!t.length)return null;const n={};let s=0;return a.forEach((e=>{for(let a=0;a<t.length;a++){const o=t[a];if(!o)return null;if(o.endTime<e.start)continue;if(e.end<=o.startTime)break;const i=Math.min(o.endTime,e.end)-Math.max(o.startTime,e.start);n[a]=(n[a]??0)+i,(n[a]??0)>(n[s]??0)&&(s=a)}})),t[s]||null},i5e=(e,t)=>{if(!e||!e.length||!t)return[];let a=0;const n=e.map((e=>{const n=(e.endTime-e.startTime)/t,s=Math.max(Math.round(100*n),12);return a+=s,s})).map((e=>Math.round(e/a*100))),s=100-n.reduce(((e,t)=>e+t),0);return n[0]=(n[0]||0)+s,n},r5e={backgroundColor:"#111",color:"#fff",fontSize:12,fontWeight:600,border:"1px solid #303030"},l5e="HighlightChapters-module_chaptersContainer_o6yVy",d5e="HighlightChapters-module_timeline_ODpWs",c5e="HighlightChapters-module_sectionContent_5L-d3",u5e="HighlightChapters-module_timelineChapter_5PxUY",p5e="HighlightChapters-module_readonly_yV01o",m5e="HighlightChapters-module_stickyTools_ulq-k",g5e="HighlightChapters-module_toolsContainer_fipJv",h5e="HighlightChapters-module_timelineChunk_MtE3U",v5e="HighlightChapters-module_selected_fS-pU",f5e="HighlightChapters-module_titleContainer_h-uhT",b5e="HighlightChapters-module_toolButtons_N7iaZ",y5e="HighlightChapters-module_spinner_VXHMz",w5e="HighlightChapters-module_toolButton_jw6NY",_5e="HighlightChapters-module_lightShimmer_vrMFU",C5e="HighlightChapters-module_gray_8ugO7",S5e="HighlightChapters-module_overviewText_5gwNz",x5e="HighlightChapters-module_assetName_L550i",I5e="HighlightChapters-module_hover_YFEMt",A5e=[e=>"media.gettyimages.com"===e.hostname&&!!e.searchParams.get("s")],k5e=new Set([Nc.Video,Nc.Image,Nc.Audio]);let T5e=0;const E5e={},L5e={},j5e=e=>k5e.has(e.type),R5e=e=>{const{state:t}=Mu();return Hp(e,{mediaCacheState:t.mediaCache})||e.asset_id||e.id},N5e=(e,t)=>{if(e.type===Nc.Video)switch(t){case"original":return!!e.file_v2;case"preview":return!!e.optimizedPreviewFile_v2;case"track":return!!e.trackOptimizedPreviewFile_v2;case"waveform":return!!e.waveformData_v6;case"thumbnail_sheet":return!!e.thumbnailSheet}else if(e.type===Nc.Audio)switch(t){case"original":return!!e.file;case"waveform":return!!e.waveformData_v6;default:return!1}else switch(t){case"original":return!!e.file_v2;case"preview":return!!e.optimizedPreviewFile_v2;case"track":return!!e.trackOptimizedPreviewFile_v2;default:return!1}};const M5e=async(e,t)=>{var a,n,s;const o=new Set,{state:i}=Mu(),r=Hp(e,{mediaCacheState:i.mediaCache}),l=e.asset_id?i.assets.byId[e.asset_id]:void 0,d=null==(a=null==l?void 0:l.preview)?void 0:a.file_size,c=!d||d<=524288e3,u=null==l?void 0:l.file_size,p=!u||u<=524288e3,m=r?await SE(r):void 0,g=(null==l?void 0:l._id)?i.assets.assetWaveformData[l._id]:void 0;if(e.type===Nc.Video||e.type===Nc.Audio){!(oS(e,"waveform",i)&&l&&Mde(l,g||{}))||e.preemptiveDownloadError||m&&N5e(m,"waveform")||o.add("waveform")}if(t)return Array.from(o);if(e.type===Nc.Video){!oS(e,"thumbnail_sheet",i)||m&&N5e(m,"thumbnail_sheet")||o.add("thumbnail_sheet");!oS(e,"track",i)||e.preemptiveDownloadError||m&&N5e(m,"track")||o.add("track");const t=oS(e,"preview",i),a=(null==(n=null==l?void 0:l.preview)?void 0:n.hls)||(null==(s=null==l?void 0:l.preview)?void 0:s.fragmented)&&_S({isCanvas:!0,mediaPipe:!0});!t||a||Pu.remotePlayback||e.preemptiveDownloadError||m&&N5e(m,"preview")||!c||o.add("preview");const r=e.optimization_failed||e.optimization_id,d=oS(e,"original",i);t||a||Pu.remotePlayback||!r||!d||e.preemptiveDownloadError||m&&N5e(m,"original")||!p||o.add("original")}else if(e.type===Nc.Audio){!oS(e,"original",i)||Pu.remotePlayback||e.preemptiveDownloadError||m&&N5e(m,"original")||o.add("original")}else if(e.type===Nc.Image){!oS(e,"track",i)||e.preemptiveDownloadError||m&&N5e(m,"track")||o.add("track");const t=oS(e,"preview",i);!t||e.preemptiveDownloadError||m&&N5e(m,"preview")||o.add("preview");const a=oS(e,"original",i);t||!a||(e=>{try{const t=new URL(e);return A5e.some((e=>e(t)))}catch{return!1}})(a)||e.preemptiveDownloadError||m&&N5e(m,"original")||o.add("original")}if(!(e.type!==Nc.Audio&&(e.type!==Nc.Video||!1===e.hasAudio)||l&&Mde(l,g||{})||m&&N5e(m,"waveform")||Nde(l))){const t=["track","preview","original"],a=!!m&&t.find((e=>N5e(m,e))),n=t.find((e=>o.has(e)));if(!a&&!n)for(const s of t){if(oS(e,s,i)&&(("preview"!==s||c)&&("original"!==s||p))){o.add(s);break}}}return function(e){const t=w_(),a=["waveform","thumbnail_sheet"];return t?e.filter((e=>a.includes(e))):e}(Array.from(o))},P5e=(e,t,a)=>{if(a.startsWith("blob:"))return Promise.resolve(void 0);switch(e.type){case Nc.Video:return D5e({assetId:e.asset_id,fileName:e.name,layer:e,type:t,url:a});case Nc.Image:return O5e(e,t,a);case Nc.Audio:return B5e({assetId:e.asset_id,layer:e,fileName:e.name,type:"waveform"===t?"waveform":"original",url:a});default:throw Error("downloadMediaBlob unexpected layer",e)}},F5e=(e,t)=>!e||"application/xml"===e.type||t&&t>=400,D5e=async({assetId:e,layer:t,fileName:a,type:n,url:s})=>{var o;const i=Vp({asset_id:e,uploadId:null==t?void 0:t.uploadId}),r=t&&(!1!==t.hasAudio||"waveform"===n);r&&r9(i,n);const{file:l,status:d,error:c}=await v_e({url:s,name:`${n}_${a}`});if(t&&("preview"===n||"track"===n)&&("Not Found"===c||(null==l?void 0:l.type)&&!l.type.includes("video")))return void H5e(`Error with optimizing: ${t.id}, reoptimizing`);if(t&&"waveform"===n&&F5e(l,d))return R2(t.asset_id,!1),void(t.asset_id&&d&&d>=400&&j2(t.asset_id,{waveformInfo:void 0}));if(t&&"thumbnail_sheet"===n&&F5e(l,d)&&t.asset_id&&d&&d>=400&&j2(t.asset_id,{thumbnail_sheet:void 0}),!l)return;r&&l9(i,n);const{state:u,dispatch:p}=Mu();if("preview"===n){await _E({mediaCacheId:i,type:Nc.Video,optimizedPreviewFile:l,extraErrorOptions:{extra:{layer:t}}});const e=URL.createObjectURL(l);p(XE({[i]:{preview_local_url:e}}))}else if("track"===n){await _E({mediaCacheId:i,type:Nc.Video,trackOptimizedPreviewFile:l,extraErrorOptions:{extra:{layer:t}}});const e=URL.createObjectURL(l);p(XE({[i]:{trackPreviewLocalUrl:e}}))}else if("original"===n){await _E({mediaCacheId:i,type:Nc.Video,file:l,extraErrorOptions:{extra:{layer:t}}});const e=URL.createObjectURL(l);p(XE({[i]:{local_url:e}}))}else if("thumbnail_sheet"===n){if(!l.type.includes("image"))return void console.error(`Error fetching thumbnail sheet. File is of type: ${l.type}`);const e=t&&t.asset_id&&(null==(o=u.assets.byId[t.asset_id])?void 0:o.thumbnail_sheet);if(e){const{thumbnail_width:a,thumbnail_height:n,fps:s}=e;await _E({mediaCacheId:i,type:Nc.Video,thumbnailSheet:{file:l,thumbnail_width:a,thumbnail_height:n,fps:s},extraErrorOptions:{extra:{layer:t}}});const o=URL.createObjectURL(l),r=await SE(i);if(null==r?void 0:r.thumbnailSheet){const e={local_url:o,thumbnailWidth:a,thumbnailHeight:n,fps:s,sheetHeight:r.thumbnailSheet.height,sheetWidth:r.thumbnailSheet.width};p(XE({[i]:{thumbnailSheetLocalInfo:e}}))}}}else if(t&&"waveform"===n){const e=U5e(t);if(!e)return console.error("no metadata for waveform. should not happen"),void R2(t.asset_id,!1);const{duration:a,sampleRate:n,isFfmpeg:s,scalingFactor:o,source:r}=e,d={file:l,duration:a,sampleRate:n,isFfmpeg:s,scalingFactor:o,source:r};await bE(i,d,Nc.Video);const c=URL.createObjectURL(l);p(XE({[i]:{localWaveformData:{local_url:c,duration:a,sampleRate:n,isFfmpeg:s,scalingFactor:o,source:r}}})),R2(t.asset_id,!0)}return r&&d9(i,n),"waveform"!==n?l:void 0},O5e=async(e,t,a)=>{const n=Vp(e);let s=e.emojiDescription||e.name;s+=`_${t}`;const{file:o}=await v_e({url:a,name:s});if(null==o?void 0:o.type.startsWith("video"))throw new $v("downloadImageLayer: file is a video",{extra:{layer:e,type:t,url:a,...MC(o)}});if(!o)return;const{dispatch:i}=Mu();if("preview"===t){await _E({mediaCacheId:n,type:Nc.Image,optimizedPreviewFile:o,extraErrorOptions:{extra:{layer:e}}});const t=URL.createObjectURL(o);i(XE({[n]:{preview_local_url:t}}))}else if("track"===t){await _E({mediaCacheId:n,type:Nc.Image,trackOptimizedPreviewFile:o,extraErrorOptions:{extra:{layer:e}}});const t=URL.createObjectURL(o);i(XE({[n]:{trackPreviewLocalUrl:t}}))}else if("original"===t){await _E({mediaCacheId:n,type:Nc.Image,file:o,extraErrorOptions:{extra:{layer:e}}});const t=URL.createObjectURL(o);i(XE({[n]:{local_url:t}}))}if("image/webp"===e.mime&&"unknown"===e.webpType){let t="static";try{t=await tI(o)}catch{console.error("Failed to determine webp file type")}uk({[e.id]:{webpType:t}},"downloadLayer.ts")}return o},U5e=(e,t)=>{var a;const n=e.asset_id;if(!n)return null;return null==(a=(t||Mu().state).assets.byId[n])?void 0:a.waveformInfo},B5e=async({assetId:e,layer:t,fileName:a,type:n,url:s})=>{var o;const i=Vp({asset_id:e,uploadId:null==t?void 0:t.uploadId});r9(i,n);const{file:r,status:l}=await v_e({url:s,name:a});if("waveform"===n&&F5e(r,l))return R2(e,!1),void(e&&l&&l>=400&&j2(e,{waveformInfo:void 0}));if(!r)return;l9(i,n);const{dispatch:d}=Mu(),c=r.type.includes("audio")?Nc.Audio:Nc.Video;if("original"===n){await _E({mediaCacheId:i,type:c,file:r,extraErrorOptions:{extra:{layer:t}}});const e=URL.createObjectURL(r);d(XE({[i]:{local_url:e}}))}else if(e){const t=null==(o=w9(e))?void 0:o.waveformInfo;if(!t)return console.error("no metadata for waveform. should not happen"),void R2(e,!1);const{duration:a,sampleRate:n,isFfmpeg:s,scalingFactor:l,source:u}=t,p={file:r,duration:a,sampleRate:n,isFfmpeg:s,scalingFactor:l,source:u};await bE(i,p,c);const m=URL.createObjectURL(r);d(XE({[i]:{localWaveformData:{local_url:m,duration:a,sampleRate:n,isFfmpeg:s,scalingFactor:l,source:u}}})),R2(e,!0)}return d9(i,n),"waveform"!==n?r:void 0},W5e=async({onlyDownloadWaveforms:e})=>{var t;const{state:a,dispatch:n}=Mu(),s=u4(a),o=new Map;for(const p of s){if(!j5e(p))continue;const e=R5e(p);o.has(e)?null==(t=o.get(e))||t.push(p):o.set(e,[p])}const i=[],r=Array.from(o.entries()),l=new Set;r.forEach((([e,t])=>{t.forEach((e=>{!e||"pastedLink"!==e.source||!e.asset_id||"preemptiveDownloadError"in e&&e.preemptiveDownloadError||l.add(e.asset_id)}))}));const d=new Map;if(l.size>0){const e=await _2(Array.from(l),w2.downloadLayer);e.forEach((e=>{d.set(e._id,e)})),n(YE(e))}if(await Promise.all(r.map((async([t,a])=>{const n=a[0].asset_id,s=n&&d.get(n);return!e&&s&&await(async(e,t)=>{for(const n of e)if(n&&"pastedLink"===n.source&&n.asset_id&&!n.preemptiveDownloadError)switch(t.status){case td.uploaded:{const a={};for(const n of e)if(!n.isMediaLibraryUpload){const e={source:"upload",uploadPending:!1};t.source_dimensions&&(e.height=t.source_dimensions.height,e.width=t.source_dimensions.width),a[n.id]=e}return void uk(a,"downloadLayer.ts")}case td.pending:return void(await(a=t._id,Xf(`/api/v1/assets/restart-download/${a}`)));case td.failed:return void(t.input_url&&A2(t.input_url))}var a})(a,s),(async(e,t,a)=>{const n=await M5e(t,a);for(const s of n){if(E5e[`${e}_${s}`])continue;const a=oS(t,s);a&&(a.startsWith("blob:")||i.push({downloadID:e,type:s,layer:t,url:a}))}})(t,a[0],e)}))),0===i.length)return;i.sort(((e,t)=>"waveform"===e.type?-1:"waveform"===t.type?1:"thumbnail_sheet"===e.type?-1:"thumbnail_sheet"===t.type?1:"track"===e.type?-1:"track"===t.type?1:0));const c=Math.min(5-T5e,i.length),u=i.slice(0,c);await Promise.all(u.map((async({downloadID:e,layer:t,type:a,url:n})=>{E5e[`${e}_${a}`]=!0,T5e+=1;try{await P5e(t,a,n)}catch(s){console.error(s)}T5e-=1,delete E5e[`${e}_${a}`]})))},V5e=async()=>{const{state:e,dispatch:t}=Mu(),{overlay:a}=e.projectSessionSettings;if(!a||a.key!==XS.trim||"remote"!==a.params.source)return;const n=a.params;if(!L5e[n.asset_id]){L5e[n.asset_id]=!0;const{asset_id:a}=n;let s=e.assets.byId[a];s||(s=await y2(a),t(YE([s])));const o=qC(s),i=await R4(s,o,{asset_id:a});if(!i)return;await P5e(i,"original",n.url)}},H5e=e=>{Ef()||console.debug(e)};function z5e(e){const t=new Date(e);return(Date.now()-t.getTime())/864e5}function G5e({video:e,BUFFER_MS:t=3e4,shared:a=!1,sharedAt:n,forceCreatedAt:s=!1}){const{state:o}=Mu(),{currentUser:{user:i}}=o,{createdAt:r,creatorId:l,done:d,draft:c,finishedAt:u,lastEditorName:p,lastSaved:m,originalUser:g,publishedClientside:h,submittedAt:v,isBrandKitTemplate:f}=e;let b="",y="",w="",_="";const C=Math.abs(new Date(u||h||r).getTime()-new Date(m||v).getTime())<t||new Date(u||h||v||r)>new Date(m||v),S=new Date(u||h||v||r)<new Date(m||v),x=!d&&!c&&!r,I=p||(null==g?void 0:g.name)||l===i._id&&i.name||x&&i.name||"Anonymous User";return a&&n?(w=g.name,_=yP(new Date(n)),b=`Shared by ${w}`,y=`Shared ${bP(new Date(n))}`):c||f?(w=I,_=yP(m||v||r),b=`Last edited by ${w}`,y=`${"published"===f?"Published":"Draft saved"} ${bP(m||v||r)}`):C||x?(w=I,_=yP(u||h||v||r),b=`Last exported by ${w}`,y=`Exported ${bP(u||h||v||r)}`):S&&(w=I,_=yP(m||v||r),b=`Last edited by ${w}`,y=`Draft saved ${bP(m||v||r)}`),I||(b=""),s&&(_=yP(r)),{lastAuthor:b,lastDate:y,onlyLastAuthor:w||b,onlyLastDate:_}}function Y5e(e){return!e.workflowId}const K5e=e=>{let t={...e,completed:!1};const a=()=>{if(!t)throw new Error("Thumbnail task already cleared");return t},n=()=>{const e=a();if(e.completed)throw new Error("Thumbnail task already completed");return e},s=()=>{const e=a(),{fetchedWorkflow:n,completed:s,videoId:o,videoUpdates:i}=e;n&&s&&o&&(null==i?void 0:i.image_url)&&(((e,t,a)=>{if(!fu(e)&&!_u(e))return;const{projects:n}=e;if(!n)return;const s=n.find((e=>e.id===t));if(!s)return;s.thumbnailURL=a;const{dispatch:o}=Mu();o(uH.updateWorkflow({workflowId:e._id,updates:{projects:n},undoable:!1}))})(n,o,i.image_url),t=void 0)},o=async()=>{const e=n(),{videoId:t,videoUpdates:a}=e;t&&(null==a?void 0:a.image_url)&&a.thumbnail_blob_name&&(e.video._id=e.videoId,await EK(t,a),e.completed=!0,s())};return(async()=>{const e=n(),{video:t,frameTime:a}=e,{fileInfo:s,dataUrl:i}=await _6(t,ex.Thumbnail,a);C9([aI(s,i)],{eventHandlers:{handleFinish:async t=>{const a=HC(t,Mu().state),[n,s]=c2(null==a?void 0:a.url),i={image_url:null==a?void 0:a.url,thumbnail_blob_name:s};e.videoUpdates=i,o()}},uploadOptions:{analyticsUploadSource:"Thumbnail upload",omitFromIDB:!0,isThumbnail:!0,skipUploadStatusUpdates:!0,uploadSourceComponent:"Export"}})})(),{setVideoIdForTask:e=>{n().videoId=e,o()},notifyWorkflowFetched:e=>{a().fetchedWorkflow=e,s()}}},X5e="AssetTranscript-module_assetTranscript_bBGBF",Z5e="AssetTranscript-module_enableScrolling_vPszj",q5e="AssetTranscript-module_paragraph_gHFTh",J5e="AssetTranscript-module_word_pNxAG",$5e="AssetTranscript-module_highlighted_Z4JQ6",Q5e="AssetTranscript-module_spoken_R3jhX",e4e="AssetTranscript-module_anchorRef_okCKS",t4e=()=>f.jsxs("div",{className:X5e,children:[f.jsx(Vle,{height:16,borderRadius:4,width:"70%"}),f.jsx("div",{}),f.jsx(Vle,{height:12,borderRadius:4}),f.jsx(Vle,{height:12,borderRadius:4,width:"50%"}),f.jsx("div",{}),f.jsx(Vle,{height:12,borderRadius:4}),f.jsx(Vle,{height:12,borderRadius:4}),f.jsx(Vle,{height:12,borderRadius:4,width:"50%"})]}),a4e=b.memo((({words:e,languageCode:t,highlight:a,highlightTime:n,enableScrolling:s=!1})=>{const o=i.useRef(null),[r,l]=i.useState(null),d=Du((e=>{var t,n,s;return(null==(t=a.hook)?void 0:t.assetId)?(null==(s=e.assets.byId[null==(n=a.hook)?void 0:n.assetId])?void 0:s.duration)??0:0})),u=i.useMemo((()=>{const e=a.sections[0];if(!e)throw new Error("No sections in highlight");let t=0,s=0;for(let o=0;o<a.sections.length;o++){const e=a.sections[o];if(!e)throw new Error("No current section");const i=e.end-e.start,r=n-t;if(r<i){t+=r;break}{t+=i;const n=a.sections[o+1];n&&(s+=n.start-e.end)}}return t+s+(e.start-d)}),[a.sections,n,d]),p=i.useMemo((()=>{const e=a.sections[0];return e?e.start:0}),[a.sections]),m=i.useCallback((e=>{for(const t of a.sections){const a=t.start??-1,n=t.end??-1;if(e.end>=a&&e.start<=n)return!0}return!1}),[a.sections]),g=i.useMemo((()=>{var n;const o=WL(e,t);if(s)return o;const i=null==(n=a.sections[0])?void 0:n.start;if(void 0===i)return o;const r=a.sections[a.sections.length-1],l=null==r?void 0:r.end;if(void 0===l)return o;const d=i-25,c=l+25,u=o.findIndex((e=>{const t=e[e.length-1];return!!t&&t.end>=d})),p=o.findIndex((e=>{const t=e[0];return!!t&&t.start>=c}));return o.slice(u,p)}),[s,a.sections,t,e]),h=i.useMemo((()=>c.throttle(((e,t="smooth")=>{const a=o.current;if(!a)return;const n=e.offsetTop-40;n<0||a.scrollTo({top:n,behavior:t})}),400,{leading:!0,trailing:!0})),[]);i.useEffect((function(){r&&h(r,"instant")}),[r,h]),i.useEffect((function(){r&&s&&setTimeout((()=>{h(r)}),10)}),[r,s,h]);const v=function(e){return" "===NL(e)}(t);let y=!1;return f.jsx("div",{className:L(X5e,{[Z5e]:s}),ref:o,children:g.map(((e,t)=>f.jsx("div",{className:q5e,style:{columnGap:v?4:0},children:e.map(((e,a)=>{if(!e.text)return null;const n=m(e),s=e.start<=u&&e.end>=u&&n,o=!y&&e.start>=p;o&&(y=!0);const i=s||o;return f.jsx(b.Fragment,{children:f.jsxs("div",{className:L(J5e,{[$5e]:n,[Q5e]:s}),children:[i&&f.jsx("div",{ref:l,className:e4e}),e.text]})},`paragraph ${t} word ${a}`)}))},`paragraph ${t}`)))})})),n4e=e=>i.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...e},i.createElement("path",{fill:"currentColor",d:"M18.9999 8.99994H16.4199L19.7099 5.70994C19.8982 5.52164 20.004 5.26624 20.004 4.99994C20.004 4.73364 19.8982 4.47825 19.7099 4.28994C19.5216 4.10164 19.2662 3.99585 18.9999 3.99585C18.7336 3.99585 18.4782 4.10164 18.2899 4.28994L14.9999 7.56994V4.99994C14.9999 4.73472 14.8946 4.48037 14.707 4.29283C14.5195 4.1053 14.2652 3.99994 13.9999 3.99994C13.7347 3.99994 13.4804 4.1053 13.2928 4.29283C13.1053 4.48037 12.9999 4.73472 12.9999 4.99994V9.99994C12.9999 10.2652 13.1053 10.5195 13.2928 10.707C13.4804 10.8946 13.7347 10.9999 13.9999 10.9999H18.9999C19.2652 10.9999 19.5195 10.8946 19.707 10.707C19.8946 10.5195 19.9999 10.2652 19.9999 9.99994C19.9999 9.73472 19.8946 9.48037 19.707 9.29283C19.5195 9.1053 19.2652 8.99994 18.9999 8.99994ZM9.99994 12.9999H4.99994C4.73472 12.9999 4.48037 13.1053 4.29283 13.2928C4.1053 13.4804 3.99994 13.7347 3.99994 13.9999C3.99994 14.2652 4.1053 14.5195 4.29283 14.707C4.48037 14.8946 4.73472 14.9999 4.99994 14.9999H7.56994L4.28994 18.2899C4.19621 18.3829 4.12182 18.4935 4.07105 18.6154C4.02028 18.7372 3.99414 18.8679 3.99414 18.9999C3.99414 19.132 4.02028 19.2627 4.07105 19.3845C4.12182 19.5064 4.19621 19.617 4.28994 19.7099C4.3829 19.8037 4.4935 19.8781 4.61536 19.9288C4.73722 19.9796 4.86793 20.0057 4.99994 20.0057C5.13195 20.0057 5.26266 19.9796 5.38452 19.9288C5.50638 19.8781 5.61698 19.8037 5.70994 19.7099L8.99994 16.4199V18.9999C8.99994 19.2652 9.1053 19.5195 9.29283 19.707C9.48037 19.8946 9.73472 19.9999 9.99994 19.9999C10.2652 19.9999 10.5195 19.8946 10.707 19.707C10.8946 19.5195 10.9999 19.2652 10.9999 18.9999V13.9999C10.9999 13.7347 10.8946 13.4804 10.707 13.2928C10.5195 13.1053 10.2652 12.9999 9.99994 12.9999Z"})),s4e=e=>i.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...e},i.createElement("path",{d:"M20 5C20 4.73478 19.8946 4.48043 19.7071 4.29289C19.5196 4.10536 19.2652 4 19 4H14C13.7348 4 13.4804 4.10536 13.2929 4.29289C13.1054 4.48043 13 4.73478 13 5C13 5.26522 13.1054 5.51957 13.2929 5.70711C13.4804 5.89464 13.7348 6 14 6H16.57L13.29 9.29C13.1963 9.38296 13.1219 9.49356 13.0711 9.61542C13.0203 9.73728 12.9942 9.86799 12.9942 10C12.9942 10.132 13.0203 10.2627 13.0711 10.3846C13.1219 10.5064 13.1963 10.617 13.29 10.71C13.383 10.8037 13.4936 10.8781 13.6154 10.9289C13.7373 10.9797 13.868 11.0058 14 11.0058C14.132 11.0058 14.2627 10.9797 14.3846 10.9289C14.5064 10.8781 14.617 10.8037 14.71 10.71L18 7.42V10C18 10.2652 18.1054 10.5196 18.2929 10.7071C18.4804 10.8946 18.7348 11 19 11C19.2652 11 19.5196 10.8946 19.7071 10.7071C19.8946 10.5196 20 10.2652 20 10V5ZM10.71 13.29C10.617 13.1963 10.5064 13.1219 10.3846 13.0711C10.2627 13.0203 10.132 12.9942 10 12.9942C9.86799 12.9942 9.73728 13.0203 9.61542 13.0711C9.49356 13.1219 9.38296 13.1963 9.29 13.29L6 16.57V14C6 13.7348 5.89464 13.4804 5.70711 13.2929C5.51957 13.1054 5.26522 13 5 13C4.73478 13 4.48043 13.1054 4.29289 13.2929C4.10536 13.4804 4 13.7348 4 14V19C4 19.2652 4.10536 19.5196 4.29289 19.7071C4.48043 19.8946 4.73478 20 5 20H10C10.2652 20 10.5196 19.8946 10.7071 19.7071C10.8946 19.5196 11 19.2652 11 19C11 18.7348 10.8946 18.4804 10.7071 18.2929C10.5196 18.1054 10.2652 18 10 18H7.42L10.71 14.71C10.8037 14.617 10.8781 14.5064 10.9289 14.3846C10.9797 14.2627 11.0058 14.132 11.0058 14C11.0058 13.868 10.9797 13.7373 10.9289 13.6154C10.8781 13.4936 10.8037 13.383 10.71 13.29Z",fill:"currentColor"})),o4e="IconButton-module_disabled_Vp2AL",i4e="IconButton-module_container_Raw7W",r4e="IconButton-module_icon_scz4T",l4e="IconButton-module_loading_gJzZQ",d4e=i.forwardRef((({tooltip:e,icon:t,onClick:a,loading:n,disabled:s,style:o,className:i=""},r)=>f.jsx(Hw,{message:e,side:"bottom",align:"center",style:r5e,noArrow:!0,children:f.jsx("button",{className:L(i4e,{[o4e]:s,[i]:!!i}),onClick:a,ref:r,style:o,children:f.jsx("div",{className:r4e,children:n?f.jsx("div",{className:l4e}):t})})}))),c4e=b.memo(d4e),u4e=b.memo((({onClick:e,isHidden:t})=>f.jsx(c4e,{onClick:e,icon:t?f.jsx(s4e,{}):f.jsx(n4e,{}),style:{color:t?"#4c4c4c":void 0},tooltip:"Collapse"}))),p4e="DownloadButton-module_disabled_g0-8I",m4e="DownloadButton-module_downloadButton_CbXvP",g4e="DownloadButton-module_exporting_61-QB",h4e="DownloadButton-module_progressTextWrapper_BFJK0",v4e="DownloadButton-module_progressNum_dEGhR",f4e="DownloadButton-module_progressPercent_bZH62",b4e="DownloadButton-module_progressBar_xwiL9",y4e="DownloadButton-module_icon_GGg81",w4e=b.memo((({disabled:e,progress:t,handleDownload:a,size:n=36,text:s,className:o,icon:r=!0})=>{const l=i.useMemo((()=>({width:s&&void 0===t?void 0:n,height:n})),[t,n,s]);return f.jsxs("button",{className:L(m4e,o,{[p4e]:e,[g4e]:void 0!==t}),onClick:a,style:l,children:[void 0!==t&&f.jsx("div",{className:b4e,style:{height:`${t}%`}}),void 0!==t?f.jsx("div",{className:h4e,children:f.jsxs("span",{className:v4e,children:[t,f.jsx("span",{className:f4e,children:"%"})]})}):f.jsxs(f.Fragment,{children:[!!s&&f.jsx("div",{style:{paddingLeft:r?"4px":"8px",paddingRight:r?"0px":"8px"},children:s}),r&&f.jsx(Dn,{size:n/2,className:y4e})]})]})})),_4e="HighlightCard-module_disabled_hQ8qa",C4e="HighlightCard-module_textOverflowEllipsis_ixVtD",S4e="HighlightCard-module_chapter_dEvpQ",x4e="HighlightCard-module_highlightCard_UU-WT",I4e="HighlightCard-module_title_ktRk0",A4e="HighlightCard-module_collapsedTitle_cwLXS",k4e="HighlightCard-module_titleAndChapterContainer_u06wX",T4e="HighlightCard-module_badgeContainer_zfrhC",E4e="HighlightCard-module_topicBadge_dbDXy",L4e="HighlightCard-module_titleRow_-SYzt",j4e="HighlightCard-module_hiddenTitleRow_GUwRj",R4e="HighlightCard-module_mobileTitleContainer_uVXYD",N4e="HighlightCard-module_titleAndTopicBadgesContainer_-8o--",M4e="HighlightCard-module_titleAndActionsContainer_-nDVF",P4e="HighlightCard-module_titleAndHighlightScoreContainer_BZF4c",F4e="HighlightCard-module_titleWithLabelAndHighlightScoreContainer_rFt-U",D4e="HighlightCard-module_transcriptContainer_19vOr",O4e="HighlightCard-module_previewContainer_twizK",U4e="HighlightCard-module_toolbar_70bNC",B4e="HighlightCard-module_assetTranscript_qPJhT",W4e="HighlightCard-module_editAsProjectButton_QSc5y",V4e="HighlightCard-module_downloadButton_ljNO3",H4e="HighlightCard-module_downloading_DNnUF",z4e="HighlightCard-module_loader_JdxPL",G4e="HighlightCard-module_highlightVideoPreview_SCSQg",Y4e="HighlightCard-module_shrink_QloIV",K4e="HighlightCard-module_grow_yiVjq",X4e="HighlightCard-module_newLabel_zJOMR",Z4e="HighlightFeedback-module_container_-yAz1",q4e="HighlightFeedback-module_label_VcxQq",J4e="HighlightFeedback-module_dropdownContainer_H7BvT",$4e="HighlightFeedback-module_dropdownButton_a7LU0",Q4e="HighlightFeedback-module_dropdownItem_VQfeC",e6e=[{name:"Hook",maxRating:2},{name:"Subject",maxRating:2},{name:"Coherence",maxRating:2},{name:"Conclusion",maxRating:1},{name:"Title",maxRating:1}],t6e=b.memo((({rating:e,setRating:t})=>f.jsx("div",{className:Z4e,children:e6e.map((a=>{const n=e[a.name],s=-1!==n?String(n):"";return f.jsxs("div",{children:[f.jsx("div",{className:q4e,children:a.name}),f.jsx("div",{children:f.jsxs(Ir,{value:s,onValueChange:e=>{t(a.name,parseInt(e))},children:[f.jsx(Ar,{className:$4e,children:f.jsx(kr,{placeholder:"-"})}),f.jsx(Er,{children:f.jsx(Lr,{children:f.jsxs(jr,{className:J4e,children:[a.maxRating>=2&&f.jsx(Sr,{value:"2",className:Q4e,children:f.jsx(xr,{children:" Great"})}),f.jsx(Sr,{value:"1",className:Q4e,children:f.jsx(xr,{children:" Ok"})}),f.jsx(Sr,{value:"0",className:Q4e,children:f.jsx(xr,{children:" Bad"})})]})})})]})})]},a.name)}))}))),a6e="HighlightScore-module_trigger_ESipH",n6e="HighlightScore-module_score_ZU14u",s6e="HighlightScore-module_total_Xgqwc",o6e="HighlightScore-module_contentContainer_JSvt-",i6e="HighlightScore-module_left_H-nBN",r6e="HighlightScore-module_header_3IBcD",l6e="HighlightScore-module_scoreContainer_IpC50",d6e="HighlightScore-module_desc_90kRd",c6e="HighlightScore-module_right_hg3aq",u6e="HighlightScore-module_review_VNoh2",p6e="HighlightScore-module_heading_t6-V8",m6e="HighlightScore-module_title_HuWmK",g6e="HighlightScore-module_explanation_PIqYn",h6e="HighlightScore-module_arrow_f77Fo",v6e={3:"#429A29",2:"#B29E27",1:"#B0B0B0"},f6e={3:"10",2:"7",1:"3"},b6e=b.memo((({review:e,score:t})=>{const a=Bg(),[n,s]=i.useState(!1),o=i.useCallback((e=>{s(e)}),[]),r=i.useCallback((()=>{s((e=>!e))}),[]),l=i.useMemo((()=>null==t?{color:"",text:""}:t>=7?{color:"#429A29",text:"This clip has high potential for engaging viewers and growing your audience."}:t>=4?{color:"#B29E27",text:"This clip has some potential for engaging viewers and growing your audience."}:{color:"#B0B0B0",text:"This clip has low potential for engaging viewers and growing your audience."}),[t]),d=i.useCallback(((e,t)=>f.jsxs("div",{className:u6e,children:[f.jsxs("div",{className:p6e,children:[f.jsx("span",{className:m6e,children:t}),f.jsx("span",{style:{color:v6e[e.score]},className:n6e,children:f6e[e.score]}),f.jsx("span",{className:s6e,children:"/10"})]}),f.jsx("div",{className:g6e,children:e.explanation})]})),[]);return e&&null!=t?f.jsx(Qi,{children:f.jsxs(Yi,{open:n,onOpenChange:o,delayDuration:200,children:[f.jsx(Ji,{asChild:!0,children:f.jsxs("div",{className:a6e,onClick:r,children:[f.jsx("span",{style:{color:l.color},className:n6e,children:t}),f.jsx("span",{className:s6e,children:"/10"})]})}),f.jsx(Xi,{children:f.jsxs(Zi,{side:"bottom",align:"start",alignOffset:a?0:-70,children:[f.jsxs("div",{className:o6e,children:[f.jsxs("div",{className:i6e,children:[f.jsx("div",{className:r6e,children:"Growth Score"}),f.jsxs("div",{className:l6e,children:[f.jsx("span",{style:{color:l.color},className:n6e,children:t}),f.jsx("span",{className:s6e,children:"/10"})]}),f.jsx("div",{className:d6e,children:l.text})]}),f.jsxs("div",{className:c6e,children:[e.hook&&d(e.hook,"Hook"),e.coherence&&d(e.coherence,"Coherence"),e.subject&&d(e.subject,"Subject")]})]}),f.jsx(qi,{className:h6e})]})})]})}):null})),y6e="GenericVideoPlayer-module_canvasPreview_oc8ki",w6e="GenericVideoPlayer-module_videoCover_Hrzlf",_6e="GenericVideoPlayer-module_sliderRoot_zha9o",C6e="GenericVideoPlayer-module_sliderTrack_wPKZI",S6e="GenericVideoPlayer-module_sliderThumb_l0yrs",x6e="GenericVideoPlayer-module_sliderRange_wayO-",I6e="GenericVideoPlayer-module_smallPlayIcon_TAgrG",A6e="GenericVideoPlayer-module_mobilePlayIcon_cOYCU",k6e="GenericVideoPlayer-module_selectTrigger_-mL2g",T6e="GenericVideoPlayer-module_selectTriggerIcon_Hn1PF",E6e="GenericVideoPlayer-module_selectContent_5c8F6",L6e="GenericVideoPlayer-module_selectItem_Lqx9m",j6e="GenericVideoPlayer-module_selectLabel_Iytys",R6e="GenericVideoPlayer-module_hidden_WK70s",N6e="GenericVideoPlayer-module_bufferContainer_vrmYU",M6e="GenericVideoPlayer-module_bufferSpinner_8x--K",P6e="GenericVideoPlayer-module_seekerContainer_QOFEz",F6e="GenericVideoPlayer-module_smallPlayContainer_GCBRt",D6e="GenericVideoPlayer-module_topControlsContainer_TTn0m",O6e="GenericVideoPlayer-module_duration_HcqRe",U6e=[1,1.5,2],B6e=Math.min(2e3,300)/2,W6e=b.memo((({alwaysShowControls:e=!1,containerSize:t,containerStyle:a,currentTime:n,duration:s,extraControls:o,isBuffering:r=!1,isPlaying:l,onPlaybackRateChange:d,onPlayPause:c,onSliderChange:u,playbackRate:p=1,showPlaybackRateControls:m=!1,sliderStepSize:g=1,video:h})=>{const v=Bg(),[b,y]=i.useState(!1),w=e||b,_=i.useRef(null),[C,S]=i.useState(!1),x=i.useRef(null),[I,A]=i.useState(!1);i.useEffect((function(){if(r){const e=setTimeout((()=>{A(!0)}),500);return()=>{clearTimeout(e)}}return A(!1),()=>{}}),[r]);const k=i.useCallback((()=>{y(!0),_.current&&clearTimeout(_.current),_.current=window.setTimeout((()=>{y(!1)}),2e3)}),[]),T=i.useCallback((()=>{_.current&&clearTimeout(_.current),_.current=window.setTimeout((()=>{y(!1)}),B6e)}),[]);function E(e){const t=parseFloat(e);U6e.includes(t)&&(null==d||d(t))}i.useEffect((function(){if(C){k();const e=setInterval((()=>{k()}),300);return()=>{clearInterval(e)}}}),[k,C]);const j=e=>{e.target===x.current||"contains"in e.target&&e.target.contains(x.current)||c()},R=fP(s,!1,{excludeMs:!0}),N=fP(n,!1,{excludeMs:!0}),M=e=>{e.stopPropagation()},P=(e,t)=>{const a=e[0];void 0!==a&&u(a,t)},F=e=>l?f.jsx("div",{onClick:"mobile"===e||"small"===e&&v?j:()=>{},style:{opacity:"mobile"===e?0:1,transition:"all 0.5s ease"},children:f.jsx(Aa,{className:L({[I6e]:"small"===e,[A6e]:"mobile"===e})})}):f.jsx("div",{onClick:"mobile"===e||"small"===e&&v?j:()=>{},children:f.jsx(ka,{className:L({[I6e]:"small"===e,[A6e]:"mobile"===e})})});return f.jsxs("div",{className:y6e,onClick:v?()=>{}:j,style:a,onMouseEnter:k,onMouseMove:k,onMouseLeave:T,children:[!!t.width&&f.jsxs(f.Fragment,{children:[null==o?void 0:o(w),f.jsxs("div",{className:L(w6e,{[R6e]:!I&&!v}),children:[I&&f.jsx("div",{className:N6e,children:f.jsx("div",{className:M6e})}),v&&!I&&F("mobile")]}),f.jsxs("div",{className:L(P6e,{[R6e]:!w}),children:[f.jsxs("div",{className:D6e,children:[f.jsxs("div",{className:F6e,children:[F("small"),f.jsxs("div",{className:L(O6e),children:[N," / ",R]})]}),m?f.jsxs(Ir,{value:String(p),onValueChange:E,onOpenChange:S,open:C,children:[f.jsxs(Ar,{className:k6e,ref:x,children:[`${p.toFixed(1)}x`,f.jsx("div",{className:T6e,children:C?f.jsx(ot,{}):f.jsx(On,{})})]}),f.jsx(Er,{container:B_(),children:f.jsx(Lr,{className:E6e,position:"popper",sideOffset:4,align:"end",side:"top",children:f.jsx(jr,{children:f.jsxs(Qr,{children:[f.jsx(el,{className:j6e,children:"Preview Speed"},"label"),U6e.map((e=>f.jsx(Sr,{value:String(e),textValue:`${e.toFixed(1)}x`,className:L6e,children:f.jsxs(xr,{children:[e,"x"]})},e)))]})})})})]}):null]}),f.jsxs(Gi,{className:_6e,value:[n],max:s,min:0,onValueChange:e=>P(e,!1),onValueCommit:e=>P(e,!0),onClick:M,step:g,children:[f.jsx(Ki,{className:C6e,children:f.jsx($r,{className:x6e})}),f.jsx($i,{className:S6e})]})]})]}),f.jsx(f.Fragment,{children:h})]})})),V6e=b.memo((({duration:e,playbackRate:t})=>{const a=Bu(),n=rY(),{elementPool:s,getEPTime:o,setEPTime:r,selectElementPoolLayers:l,selectPossibleReferenceLayers:d}=$G(),c=(null==s?void 0:s.id)||tB.studio,u=i.useMemo((()=>Tre({selectElementPoolLayers:l,selectPossibleReferenceLayers:d})),[l,d]),p=i.useMemo((()=>Lre({selectElementPoolLayers:l,selectPossibleReferenceLayers:d})),[l,d]),m=Du((e=>!u(e,n)&&!p(e,n)&&!HJ(e,c))),g=Du((e=>HJ(e,c)));return i.useEffect((function(){g||o()>=BC(e)&&(document.dispatchEvent(new CustomEvent("studioLooped")),KJ(0,{id:c,setEPTime:r}))}),[a,e,c,o,r,g]),i.useEffect((function(){if(!m)return;let n=performance.now();const s=window.setInterval((()=>{const s=performance.now();(n=>{const s=BC(e),i=o()+(performance.now()-n)/1e3*t;if(i>=s)return a(rB.setPaused({paused:!0,elementPoolId:c})),void KJ(s,{id:c,setEPTime:r});KJ(i,{id:c,setEPTime:r})})(n),n=s}),33.333333333333336);return()=>{window.clearInterval(s)}}),[a,e,c,o,t,r,m]),null})),H6e="HighlightVideoPreview-module_hidden_I97jf",z6e="HighlightVideoPreview-module_videoCoverContainer_5vifj",G6e="HighlightVideoPreview-module_lowResMessage_6yu9k",Y6e="HighlightVideoPreview-module_loadingContainer_fYus7",K6e="SpeakerFocusToggle-module_disabledWithPointerEvents_9g0Th",X6e="SpeakerFocusToggle-module_speakerFocusToggle_zxrwR",Z6e="SpeakerFocusToggle-module_speakerFocusToggleIconWrapper_BDJhF",q6e="SpeakerFocusToggle-module_slash_6YAHq",J6e="SpeakerFocusToggle-module_face_sT7qI",$6e=b.memo((({highlightId:e,globalResizeMode:t,className:a,allLayersAreFitToCenter:n})=>{var s,o;const{workflowId:r}=kqe(),l=Bu(),d=Du(ID(r)),c=d[e],u=(null==(s=null==c?void 0:c.overrides)?void 0:s.resizeMode)?"speaker-focus"===(null==(o=c.overrides)?void 0:o.resizeMode):"speaker-focus"===t,p=u&&n,{getItem:m,setItem:g}=R5(j5.RepurposeAnalytics),h=i.useCallback((async t=>{var a;if(!p){t.preventDefault(),t.stopPropagation(),(null==(a=m())?void 0:a.loggedSpeakerFocusToggleUse)||(ov("Repurpose Used Speaker Focus Toggle",{"Find Highlights Workflow ID":r,"Highlight ID":e}),g({loggedSpeakerFocusToggleUse:!0}));try{const t={...d,[e]:{...c,overrides:{resizeMode:u?"fit-to-center":"speaker-focus"}}};l(uH.updateWorkflow({workflowId:r,updates:{highlightSettings:t},undoable:!0}))}catch(n){console.error(n),cb({description:"There was an error updating your clip. Please try again.",error:n})}}}),[l,m,e,c,d,p,u,g,r]),v=i.useMemo((()=>p?"No prominent speakers found.":`Turn speaker focus ${u?"off":"on"} for this clip.`),[p,u]);return f.jsx(Hw,{message:v,delayDuration:200,children:f.jsx("button",{onClick:h,className:L(X6e,{[K6e]:p},a),children:f.jsxs("div",{className:Z6e,children:[f.jsx("div",{className:q6e,children:!u&&f.jsx(jn,{})}),f.jsx("div",{className:J6e,children:f.jsx(Un,{className:J6e})})]})})})})),Q6e=()=>{const{signal:e}=Pve();return i.useMemo((()=>(e=>{const t=new vre;return e.addEventListener("abort",(()=>{t.cancel()}),{once:!0}),t})(e)),[e])},e9e=document.createElement("video");e9e.crossOrigin="anonymous",e9e.preload="auto",e9e.playsInline=!0;const t9e=new ee;let a9e=null;async function n9e(e,t,a,n){const s=t9e.runExclusive((async()=>{null==a9e?(a9e=new Bx(e9e,e),await a9e.waitForVideoToBeReadyToBeDrawnOnCanvas()):a9e.sourceNeedsUpdated(e)&&(a9e.updateSrc(e),await a9e.waitForVideoToBeReadyToBeDrawnOnCanvas()),await eE(e9e,t);const n=document.createElement("canvas"),s=a?a.x/100*e9e.videoWidth:0,o=a?a.y/100*e9e.videoHeight:0,i=a?a.width/100*e9e.videoWidth:e9e.videoWidth,r=a?a.height/100*e9e.videoHeight:e9e.videoHeight,l=i,d=r;n.width=l,n.height=d;const c=n.getContext("2d");if(!c)throw new Error("no ctx");return c.drawImage(e9e,s,o,i,r,0,0,l,d),n.toDataURL()}));try{return await pP((()=>UC({promise:s,actionDescription:"getVideoPoster",timeoutMs:1e4})),{event_properties:{fn:"getVideoPoster"},shouldStopRetrying:()=>!!(null==n?void 0:n.cancelled)})}catch(b9e){console.error("getVideoPoster error",b9e),l(b9e,{extra:{...jC(e9e)}})}}const s9e=new WeakMap,o9e=async({canvasElement:e,videoElement:t=e9e,assetId:a,timestamp:n,crop:s,cancellationSource:o})=>{const i=t9e.runExclusive((async()=>{const o=Km(s9e,t,{insert:()=>Bx.fromAssetId({assetId:a,video:t}),update:e=>(e.updateSrcWithAssetId(a),e)});await o.waitForVideoToBeReadyToBeDrawnOnCanvas(),await eE(t,n);const i=s?s.x/100*t.videoWidth:0,r=s?s.y/100*t.videoHeight:0,l=s?s.width/100*t.videoWidth:t.videoWidth,d=s?s.height/100*t.videoHeight:t.videoHeight,c=l,u=d;e.width=c,e.height=u;const p=e.getContext("2d");if(!p)throw new Error("No canvas context found");p.drawImage(e9e,i,r,l,d,0,0,c,u)}));try{return await pP((()=>UC({promise:i,actionDescription:"drawVideoAtTimestampToCanvasWithCrop",timeoutMs:1e4})),{event_properties:{fn:"drawVideoAtTimestampToCanvasWithCrop"},shouldStopRetrying:()=>!!(null==o?void 0:o.cancelled)})}catch(b9e){console.error("drawVideoAtTimestampToCanvasWithCrop error",b9e),l(b9e,{extra:{video:JSON.stringify(e9e,["id","src","currentTime","readyState","error"])}})}},i9e=({assetId:e,timestamp:t=0,crop:a})=>{const n=Du((t=>e?Nx(t,e,{isCanvas:!0}):void 0)),[s,o]=i.useState(),r=Q6e();return i.useEffect((()=>{if(null!=n&&void 0!==t)try{n9e(n,t,a,r).then(o)}catch(b9e){console.error(b9e)}}),[n,t,a,r]),s},r9e=({mobileContainerWidth:e,aspectRatio:t})=>{const a=Bg();return i.useMemo((()=>{if(a&&e)return{width:`${e}px`,height:e/(t.width/t.height)+"px",maxHeight:`50${Aye}`}}),[t.height,t.width,a,e])};let l9e="";const d9e=e=>Sre({dragOverride:void 0,layer:e,mediaCacheId:null,sceneDuration:3}),c9e=b.memo((({highlight:e,workflowId:t,video:a,setHighlightTime:n,playingClip:s,setPlayingClip:o,setGetEPTime:r,setSelectElementPoolLayers:l,setSelectPossibleReferenceLayers:d,setSelectCanvasElementPoolLayers:u,setSetEPTime:p,mobileContainerWidth:m,settings:g,allLayersAreFitToCenter:h})=>{var v;const b=Bu(),[y,w]=i.useState(),[_,C]=i.useState({width:0,height:0}),S=Bg(),x=i.useMemo((()=>{const[e,t]=a.ratio.split(":").map(Number);return{width:e,height:t}}),[a.ratio]),{speakerFocusIsDisabled:I}=kqe(),{assetId:A,isAudioOnly:k,languageCode:T,words:E}=Du((e=>{const a=J0e(t)(e);return{assetId:a.assetId,isAudioOnly:a.isAudioOnly,languageCode:a.languageCode,words:a.words}}),Ou),j=r9e({aspectRatio:x,mobileContainerWidth:m}),{isBuffering:R}=bce(),N=Du((e=>e.studioLocal.playbackRate));i.useEffect((function(){y&&b(YE([y]))}),[b,y]);const M=i.useMemo((()=>{var t,n;const s=(null==(t=a.magicSubtitlesGlobal)?void 0:t.transitionDuration)??0,o=E.find((t=>e.sections.some((e=>e.start<=t.start_time&&t.end_time<=e.end)))),i=(null==(n=e.sections[0])?void 0:n.start)??0;return((null==o?void 0:o.start_time)??0)-i+s}),[e.sections,E,null==(v=a.magicSubtitlesGlobal)?void 0:v.transitionDuration]),[P,F]=i.useState(M),D=i.useRef(M),[U,B]=i.useState(!1),[W,V]=i.useState(0),H=i.useCallback((()=>D.current),[]),z=i.useCallback((e=>{D.current=e,F(e),n(e)}),[n]),G=i.useMemo((()=>Object.values(a.allLayers.byId)),[a.allLayers.byId]),Y=i.useMemo((()=>IQe({assetId:A,containerSize:_,languageCode:T,words:E,video:a})),[_,A,T,E,a]),K=i.useMemo((()=>AQe({video:a})),[a]),X=i.useMemo((()=>[...G,...K,...Y]),[G,K,Y]),Z=i.useMemo((()=>G.filter(np)),[G]),q=i.useMemo((()=>G.filter(ep)),[G]),J=i.useMemo((()=>Z.map(d9e).flat()),[Z]),$=i.useMemo((()=>q.map(d9e).flat()),[q]),Q=i.useCallback((()=>J),[J]),ee=i.useCallback((()=>$),[$]),te=i.useMemo((()=>[...J.map((e=>Are(e,"ep"))),...q.filter(XT).map(d9e).flat().map((e=>Are(e,"canvas")))]),[J,q]),ae=i.useCallback((()=>te),[te]),ne=i.useMemo((()=>{const e=[...$,...J].filter((e=>"video"===e.type)).filter((e=>{const[t=0,n=a.duration]=e.startEndTimes;return t<=M&&M<=n}))[0],t=e?a.allLayers.byId[e.layerId]:null;if(!e||!t)return;if(!y)return;const n=t.position;return{...a.allLayers.byId[e.layerId],id:O.v4(),name:r4,asset_id:y._id,type:Nc.Image,position:n}}),[$,J,M,y,a.allLayers.byId,a.duration]),se=i.useCallback((async()=>{const e=Math.min(...[...$,...J].filter((e=>e.type===Nc.Video)).map((e=>{const[t=a.duration]=e.relativeStartEndTimes;return t})));if(!A)throw new Error("no assetId");const t=await async function(e,t,a,n){return n9e(Nx(Mu().state,e,{isCanvas:!0}),t,a,n)}(A,e+M);return t}),[$,A,J,M,a.duration]);i.useEffect((function(){(async()=>{try{const e=await se(),t={_id:`poster-${O.v4()}`,url:e};w(t)}catch(b9e){console.error(b9e)}})()}),[se]);const oe=s===e.id;i.useEffect((()=>{oe||D.current===M||(z(M),D.current=M)}),[M,oe,z]);const ie=Du((e=>!HJ(e,tB.repurposeStudio)))&&oe;i.useEffect((function(){oe&&(p((()=>z)),r((()=>H)),l((()=>Q)),d((()=>ae)),u((()=>ee)))}),[H,oe,ee,Q,ae,z,r,u,l,d,p]);const re=i.useMemo((()=>{var e;if(!ne)return X;const t=X.map(((e,t)=>{const[a,n]=zC(e);return a<=M&&M<=n?[t,[a,n]]:[null,[a,n]]})).filter((e=>null!==e[0])).sort(((e,t)=>e[0]-t[0]))[0]||[0,[0,1]],[a]=t,n=YY({comparisonDepth:null==(e=X[a])?void 0:e.depth,targetDepthDirection:"ahead",existingLayers:X.reduce(((e,t)=>(e[t.id]=t,e)),{}),tetheredWaveformsByAssetId:{}});return[...X.slice(0,a),{...ne,startTime:0,endTime:M+.1,depth:n},...X.slice(a)]}),[ne,X,M]),le=i.useMemo((()=>c.throttle((e=>{z(e),JJ({elementPoolId:tB.repurposeStudio,time:e})}),100)),[z]);return f.jsxs(QG.Provider,{value:P,children:[f.jsx(W6e,{containerSize:_,containerStyle:j,currentTime:U?W:P,duration:a.duration,extraControls:t=>f.jsxs(f.Fragment,{children:[!k&&!I&&f.jsx($6e,{highlightId:e.id,globalResizeMode:g.resizeMode,className:L({[H6e]:!S&&!t}),allLayersAreFitToCenter:h}),f.jsx("div",{className:z6e,style:{width:_.width,height:_.height},children:f.jsx("div",{className:L(G6e,{[H6e]:ie||!t}),children:"Low-res preview"})})]}),isBuffering:R,isPlaying:ie,onPlaybackRateChange:function(e){b(kj(e))},onPlayPause:()=>{const a=HJ(Mu().state,tB.repurposeStudio);if(!oe||a){if(t!==l9e){const e=J0e(t)(Mu().state);ov("Repurpose Played Highlight Preview",{"Asset Duration (min)":(e.asset.duration??0)/60,"Find Highlights Workflow ID":t}),l9e=t}return oe||(z(0),D.current=0),o(e.id),void(a&&b(rB.togglePaused({elementPoolId:tB.repurposeStudio})))}oe||(z(M),D.current=M),oe&&b(rB.togglePaused({elementPoolId:tB.repurposeStudio}))},onSliderChange:(t,a)=>{V(t),le(t),a?(B(!1),b(rB.setPaused({paused:!1,elementPoolId:tB.repurposeStudio}))):(oe||o(e.id),U||(B(!0),b(rB.setPaused({paused:!0,elementPoolId:tB.repurposeStudio}))))},playbackRate:N,showPlaybackRateControls:!0,video:f.jsx($ge,{background:a.background,canvasBlur:a.canvasBlur,layers:re,ratio:x,onContainerSizeChange:C,positioning:"absolute",studioAnimations:a.animations})}),oe&&f.jsx(V6e,{duration:a.duration,playbackRate:1})]})})),u9e=b.memo((({settings:e,mobileContainerWidth:t})=>{var a,n,s;const[o,r]=i.useState({width:0,height:0}),l=i.useMemo((()=>{var t;const{ratioHeight:a,ratioWidth:n}=TK((null==(t=e.studio)?void 0:t.ratio)||"1:1");return{width:n,height:a}}),[null==(a=e.studio)?void 0:a.ratio]),d=i.useMemo((()=>{const t="loading-preview",a="en",n=[{word:"Your",start_time:0,end_time:.1},{word:"subtitles",start_time:.1,end_time:.2},{word:"here",start_time:.2,end_time:.3}],s=new kQe({aspectRatio:l,name:"Loading Preview",creatorId:"",workspaceId:""});return s.setMagicSubtitleStyles({languageCode:a,magicSubtitlePreset:e.subtitlePreset||ON,outputRatio:l,predefinedMaxCharsPerSubtitle:1e3}),s.setMagicSubtitlesForAsset({asset:{_id:t},languageCode:a,words:n}),s.setLayers([{id:"loading-layer",type:Nc.Video,asset_id:t}]),IQe({assetId:t,containerSize:o,languageCode:a,video:s.video,words:n})}),[o,l,e.subtitlePreset]),c=i.useMemo((()=>{if(e.useTitle){return SQe({title:"Your title here",containerSize:o,titleSettings:e.titleSettings,type:"title"})}return null}),[o,e.titleSettings,e.useTitle]),u=i.useMemo((()=>{if(e.useAIHooks){return SQe({title:"Your title here",containerSize:o,titleSettings:e.aiHooksTitleSettings,type:"ai-hook"})}return null}),[o,e.aiHooksTitleSettings,e.useAIHooks]),p=i.useMemo((()=>{const e=[...d,c,u],t=GY({count:e.length,existingLayers:{},tetheredWaveformsByAssetId:{}});return e.filter(vA).map(((e,a)=>{const n=t[a];if(void 0===n)throw new Error("Depth is undefined");return{...e,depth:n}}))}),[d,u,c]),m=i.useMemo((()=>{var t,a,n,s;return(null==(a=null==(t=e.subtitlePreset)?void 0:t.transition)?void 0:a.transitionOverlapDuration)?null==(s=null==(n=e.subtitlePreset)?void 0:n.transition)?void 0:s.transitionOverlapDuration:.3}),[null==(s=null==(n=e.subtitlePreset)?void 0:n.transition)?void 0:s.transitionOverlapDuration]),g=r9e({mobileContainerWidth:t,aspectRatio:l});return f.jsx("div",{style:g,className:Y6e,children:f.jsx(QG.Provider,{value:m,children:f.jsx($ge,{background:"#000000",canvasBlur:!1,ratio:l,layers:p,onContainerSizeChange:r})})})})),p9e="Edit and export any of your clips, and the changes you make\nwill be automatically saved in the Recently Used Edits section of the Templates menu.",m9e=b.memo((({settings:e})=>{var t;const a=b.useRef(null),n=Bg(),s=g9e({containerRef:a,ratio:(null==(t=e.studio)?void 0:t.ratio)||""});return f.jsx("div",{className:x4e,ref:a,children:f.jsxs("div",{className:O4e,children:[f.jsx("div",{className:G4e,children:f.jsx(u9e,{settings:e,mobileContainerWidth:s})}),f.jsxs("div",{className:D4e,children:[!n&&f.jsx(t4e,{}),n&&f.jsx("div",{className:L4e,children:f.jsxs("div",{className:U4e,children:[f.jsx(w4e,{disabled:!0,text:"Export",className:W4e,icon:!1}),f.jsx("button",{className:L(W4e,{[_4e]:!0}),children:"Edit as project"})]})})]})]})})})),g9e=({ratio:e,containerRef:t})=>{const a=Bg(),[n,s]=i.useState(0),o=i.useMemo((()=>{const{ratioHeight:t=9,ratioWidth:a=16}=e?TK(e):{};return{width:a,height:t}}),[e]),r=i.useCallback((()=>{if(t.current){const e=t.current.getBoundingClientRect().width;9===o.width&&o.height,s(e)}}),[o.height,o.width,t]);return i.useLayoutEffect((function(){if(!a)return;return t.current?(r(),window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}):void 0}),[o.height,o.width,t,r,a]),n},h9e=b.memo((({workflowId:e,highlight:t,localUrls:a,words:n,wordsWithEmoji:s,settings:o,showRepurposeTourPopover:r,playingClip:l,setPlayingClip:d,setGetEPTime:c,setSelectElementPoolLayers:u,setSelectPossibleReferenceLayers:p,setSetEPTime:m,setSelectCanvasElementPoolLayers:g,rating:h,setRatingForCategoryAndHighlight:v,toggleHighlight:y})=>{var w,_,C,S;const x=P(),I=Q3e(o.titleSettings).fontFamily,A=Q3e(o.aiHooksTitleSettings).fontFamily,{currentUser:k,fontForVideoIsLoaded:T}=Du((e=>({currentUser:e.currentUser,fontForVideoIsLoaded:"success"===e.loadedFonts[I]&&"success"===e.loadedFonts[A]})),Ou),{isVisible:E,ref:j,wasVisible:R}=Loe(),N=Du((e=>e.workflows.feedbackEnabled)),M=Bu(),{title:D}=t,[O,U]=i.useState(!1),[B,W]=i.useState(!1),V=Du((e=>e.repurpose.selectedBlueprint)),H=Du((t=>J0e(e)(t)),Ou),z=Du((e=>{var a;const n=null==(a=H.projects)?void 0:a.find((e=>e.highlightJobId===t.id));if(!n)return;return e.workflows.exportProgressByVideoId[n.id]})),{isAudioOnly:G,isSample:Y,languageCode:K}={isAudioOnly:H.isAudioOnly,isSample:H.isSample,languageCode:H.languageCode||"en-US"},[X,Z]=i.useState(0),q=Du((e=>Nb(e))),J=F().pathname??"/repurpose/create",{showNewBlueprintTooltip:$,setShowNewBlueprintTooltip:Q,setSelectedTab:ee,permissions:te,currentFolder:ae,currentTeam:ne}=kqe(),se=O||B,[oe,ie]=i.useState(!1),re=b.useRef(null),le=g9e({containerRef:re,ratio:(null==(w=o.studio)?void 0:w.ratio)||""}),de=Hg(),ce=Bg(),ue=i.useCallback((()=>{Q(!1)}),[Q]),pe=i.useCallback(((e,a)=>{v(t.id,e,a)}),[t.id,v]),me=Du((a=>{var n,s;return null==(s=null==(n=ID(e)(a))?void 0:n[t.id])?void 0:s.overrides})),ge=i.useMemo((()=>({...o,...me})),[me,o]),he=i.useMemo((()=>((e,t)=>{const a={};return e.resizeMode!==(null==t?void 0:t.resizeMode)&&(a.resizeMode=e.resizeMode),e.useAutoEmoji!==(null==t?void 0:t.useAutoEmoji)&&(a.useAutoEmoji=e.useAutoEmoji),a})(ge,V)),[V,ge]),ve=i.useCallback((({fullSubtitles:n})=>{if(!H)return;return kQe.createWorkflowProject({workflow:{...H,workflowId:e},wordsWithEmoji:s,highlight:t,creatorId:k.user._id,teamId:H.teamId,workspaceId:H.folderId,localUrls:a,settings:ge,fontForVideoIsLoaded:T,fullSubtitles:n,blueprintChanges:he})}),[H,e,s,t,k.user._id,a,ge,T,he]),fe=i.useMemo((()=>ve({fullSubtitles:!1})),[ve]),be=i.useMemo((()=>!!fe&&!Object.values(fe.video.allLayers.byId).some((e=>!!e.speakerFocus&&"FIT_TO_CENTER_SPEAKER"!==e.speakerFocus.speakerId))),[fe]),ye=i.useCallback((()=>{(null==fe?void 0:fe.video.workspaceId)?t7(fe.video.workspaceId,o,G?"audioHighlights":"videoHighlights").catch(console.error):console.error("Video had no workspace id, can't update settings")}),[null==fe?void 0:fe.video.workspaceId,o,G]),we=i.useMemo((()=>{var t,a;let n="NONE";if(o.blueprintName){n=J3e.map((e=>e._id)).includes(o.blueprintId||"")?o.blueprintName:"CUSTOM"}return{"Audiogram Enabled":!!o.tetheredWaveformSettings,"Audiogram Style":null==(t=o.tetheredWaveformSettings)?void 0:t.style.type,"Auto Emoji Enabled":!!o.useAutoEmoji,"Find Highlights Workflow ID":e,"Subtitle Preset":o.subtitlePreset&&Uw(o.subtitlePreset)?o.subtitlePreset.presetId:"Brand Subtitle Style","Use Speaker Focus":"speaker-focus"===o.resizeMode,Ratio:(null==(a=o.studio)?void 0:a.ratio)||"1:1","Applied Blueprint":n,"Uses AI Titles":!!o.useTitle,"Uses AI Hook":!!o.useAIHooks}}),[o.blueprintName,o.tetheredWaveformSettings,o.useAutoEmoji,o.subtitlePreset,o.resizeMode,null==(_=o.studio)?void 0:_.ratio,o.useTitle,o.useAIHooks,o.blueprintId,e]),_e=i.useCallback((async()=>{var a,n,s;const o=J0e(e)(Mu().state);if(!o.isSample)try{U(!0),ue(),await n7({workflowId:e}),ye();const i=ve({fullSubtitles:!0});if(!i)return;const{video:r}=i,l=Object.keys((null==(a=r.magicSubtitleSpeakers)?void 0:a.speakerConfigs)||{}).length,d=!!(null==(n=r.magicSubtitleSpeakers)?void 0:n.showSpeakerLabelsInEditor);ov("Magic Subtitles Transcribed With Speakers Added",{speakerCount:l,showedSpeakerLabels:d});const c=await d4({source:"Repurpose Editor",video:{...i.video,teamId:null==ne?void 0:ne._id,workspaceId:null==ae?void 0:ae._id,workflowId:te.canEdit?e:void 0},workflowId:te.canEdit?e:void 0});ov("Repurpose Edit In Studio",{"Find Highlights Workflow ID":e,"Asset Duration (min)":(o.asset.duration??0)/60,Experiments:o.experiments,"Number of Highlights":(null==(s=o.highlights)?void 0:s.length)??0,"Sort Order":o.highlightSortOrder,"AI Sorting Index":t.aiReviewIndex,"Time Sorting Index":t.timeOrderedIndex,"Uses Sample Asset":!!UK[o.assetId],"Video ID":c.videoId,...we});const u=`/${c.videoId}/studio/editor${ce?"":"/transcript"}`;x(u),n7({workflowId:e}),U(!1)}catch(b9e){U(!1)}}),[e,ue,ye,ve,null==ne?void 0:ne._id,null==ae?void 0:ae._id,te.canEdit,t.aiReviewIndex,t.timeOrderedIndex,we,ce,x]),Ce=i.useCallback((async()=>{q?await _e():wA({modalType:fA.SIGN_IN,immediateRedirectPathname:J,overlayWrapperProps:{noOverlay:!0}})}),[q,_e,J]),Se=i.useCallback((()=>({id:"",projectId:void 0,downloadURL:void 0,duration:0,hasPendingExport:!0,highlightJobId:void 0,name:D,thumbnailURL:void 0})),[D]),xe=i.useCallback((async a=>{var n;a.preventDefault(),W(!0);const s=J0e(e)(Mu().state);if(M(uH.updateWorkflow({workflowId:e,updates:{projects:[Se(),...s.projects?s.projects:[]]}})),W(!1),!fe||s.isSample)return;const o=fe.getVideoForExport();ov("Repurpose Export From Repurpose Editor",{"Asset Duration (min)":(s.asset.duration??0)/60,"Project Source":"suggestions",Experiments:s.experiments,"Sort Order":s.highlightSortOrder,"AI Sorting Index":t.aiReviewIndex,"Time Sorting Index":t.timeOrderedIndex,"Uses Sample Asset":!!UK[s.assetId],"Number of Highlights":(null==(n=s.highlights)?void 0:n.length)??0,"Used Speaker Focus for this Clip":"speaker-focus"===(null==me?void 0:me.resizeMode),...we});const{setVideoIdForTask:i,notifyWorkflowFetched:r}=K5e({video:o,frameTime:(l=o,l.duration/2)});var l;ye();const{processVideoJob:d}=await l4({exportLocation:"repurpose-editor-suggestion",video:o});d&&i(d.video_id);const c=await n7({workflowId:e});c&&r(c),d&&M(uH.exportProgressUpdated({processVideoJobId:d._id,progress:0,videoId:d.video_id})),ce&&ee(xqe.Projects)}),[e,fe,t.aiReviewIndex,t.timeOrderedIndex,null==me?void 0:me.resizeMode,we,ye,ce,ee,M,Se]),Ie=b.useRef(null),Ae=i.useCallback((()=>{var e;null==(e=Ie.current)||e.focus()}),[]),ke=i.useCallback((()=>{ie(!1)}),[]),Te=i.useCallback((()=>{ie(!0)}),[]);i.useEffect((function(){const e=re.current;if(e)return e.addEventListener("mousedown",Te),()=>{e.removeEventListener("mousedown",Te)}}),[Te]),i.useEffect((function(){l===t.id&&ie(!0)}),[t.id,l]),rBe(re,ke,"mousedown");const Ee=R||E,Le=te.canExport&&!Y,je=i.useCallback((()=>y(t.id)),[t.id,y]),Re=Du((a=>{var n,s;return(null==(s=null==(n=ID(e)(a))?void 0:n[t.id])?void 0:s.isHidden)??!1})),Ne=Du((a=>{var n,s;return(null==(s=null==(n=ID(e)(a))?void 0:n[t.id])?void 0:s.showNewLabel)??!1})),Me=i.useCallback((()=>(null==z?void 0:z.progress)&&0===z.progress?5:B?0:void 0),[null==z?void 0:z.progress,B]),Pe=i.useMemo((()=>{var e;const a=(null==(e=H.chaptersJobData)?void 0:e.chapters)||[];return a.length?o5e(t,a):null}),[null==(C=H.chaptersJobData)?void 0:C.chapters,t]),Fe=i.useCallback((()=>{var e;if(!Pe)return;const t=((null==(e=H.chaptersJobData)?void 0:e.chapters)||[]).indexOf(Pe);M(jte.toggleSelectedChapter({chapterIndex:t,multiSelect:!1}))}),[Pe,M,null==(S=H.chaptersJobData)?void 0:S.chapters]),De=i.useCallback((()=>{var e;return f.jsx("div",{className:T4e,children:null==(e=t.topics)?void 0:e.map((e=>f.jsx("div",{className:E4e,children:e},e)))})}),[t.topics]),Oe=()=>Ne?f.jsx("div",{className:X4e,children:"NEW"}):null,Ue=Re?Y4e:K4e;return f.jsx("div",{ref:re,children:f.jsxs("div",{className:L(x4e,Ue),ref:j,children:[Re?f.jsxs("div",{className:O4e,style:{marginBottom:"8px"},children:[f.jsx("div",{className:G4e,style:{height:0}}),f.jsx("div",{className:D4e,children:f.jsxs("div",{className:j4e,children:[Oe(),f.jsx("div",{className:A4e,children:D}),f.jsx(u4e,{onClick:je,isHidden:Re})]})})]}):fe?f.jsxs("div",{className:O4e,children:[ce&&f.jsxs("div",{className:R4e,children:[f.jsx("div",{className:I4e,children:D}),De()]}),f.jsx("div",{className:G4e,children:Ee&&f.jsx(c9e,{highlight:t,workflowId:e,video:fe.video,setHighlightTime:Z,playingClip:l,setPlayingClip:d,setGetEPTime:c,setSelectElementPoolLayers:u,setSelectPossibleReferenceLayers:p,setSetEPTime:m,setSelectCanvasElementPoolLayers:g,mobileContainerWidth:le,settings:o,allLayersAreFitToCenter:be})}),f.jsxs("div",{className:D4e,children:[f.jsxs("div",{className:L4e,children:[!ce&&f.jsxs("div",{className:N4e,children:[f.jsxs("div",{className:k4e,children:[f.jsxs("div",{className:M4e,children:[f.jsxs("div",{className:Ne?F4e:P4e,children:[Oe(),f.jsx(Hw,{message:D,side:"bottom",align:"start",style:r5e,noArrow:!0,children:f.jsx("div",{className:I4e,children:D})}),f.jsx(b6e,{review:t.review,score:t.aiReviewScore})]}),!de&&Le&&f.jsx(c4e,{icon:cn({}),onClick:xe,tooltip:"Export"}),!de&&f.jsx(Ame,{open:!!r&&$,header:"Create custom templates",content:p9e,size:"small",withRainbowBorder:!0,sideOffset:10,align:"start",alignOffset:-5,onClose:ue,onMount:Ae,side:ce?"top":"right",children:f.jsx(c4e,{onClick:Ce,disabled:O,loading:O,ref:Ie,icon:Bn({}),tooltip:"Edit as project"})}),!de&&f.jsx(u4e,{onClick:je,isHidden:Re})]}),!!Pe&&f.jsx(Hw,{message:Pe.title,side:"bottom",align:"start",style:r5e,noArrow:!0,children:f.jsxs("div",{className:S4e,onClick:Fe,children:["From chapter"," ",f.jsx("strong",{className:C4e,children:Pe.title})]})})]}),De()]}),(de||ce)&&f.jsxs("div",{className:U4e,children:[ce&&f.jsx(b6e,{review:t.review,score:t.aiReviewScore}),Le&&(B?f.jsx("div",{className:H4e,children:f.jsx("div",{className:z4e})}):f.jsx(w4e,{progress:Me(),disabled:se,handleDownload:xe,text:"Export",className:V4e,icon:!1})),f.jsx(Ame,{open:!!r&&$,header:"Create custom templates",content:p9e,size:"small",withRainbowBorder:!0,sideOffset:10,align:"start",alignOffset:-5,onClose:ue,onMount:Ae,side:ce?"top":"right",children:f.jsx("button",{className:L(W4e,{[_4e]:se||O}),onClick:Ce,ref:Ie,children:O?f.jsx("div",{className:z4e}):"Edit as project"})}),f.jsx(u4e,{onClick:je,isHidden:Re})]})]}),!ce&&f.jsx("div",{className:B4e,children:f.jsx(a4e,{words:n,highlight:t,languageCode:K,highlightTime:X,enableScrolling:oe})})]})]}):null,N&&f.jsx(t6e,{rating:h,setRating:pe})]})})})),v9e=["200d","fe0f"],f9e=(b9e=Wn,Object.keys(b9e).map((e=>({emojiLibName:e,...b9e[e]}))));var b9e;const y9e=(e,t=!1)=>{if(!e)return[];const a=e.toLowerCase();return f9e.filter((n=>{const s=n.keywords.includes(a),o=n.emojiLibName.includes(a);if(e===n.char)return!0;if(t){return n.emojiLibName===a}return s||o}))},w9e=(e,t=!1)=>y9e(e,t).map((e=>{const t=Vn(e.char);if(-1===t.indexOf(" "))return t;const a=t.split(" ").filter((e=>!v9e.includes(e)));return a[a.length-1]})).map((e=>e?e.toUpperCase():"")),_9e=e=>e.toLowerCase().replaceAll(/[.,/#!$%^&*;:{}=\-_`~()]/g,"");function C9e({autoEmojiData:e,languageKey:t,words:a}){const{languageCode:n,translateCode:s}=pO(t),o=NL(s||n);let i=!1;const r=[],l=new Set,d=[],c=[];e.forEach((({startTime:e,endTime:t,emoji:a,keyword:n})=>{const s=function(e){const t=y9e(e,!0);if(!t.length)return;const a=t[0];if(!a)return;return a.char}(a)??a,o=_9e(n);c.push({time:e,type:"emoji-start",emoji:s,keyword:o}),c.push({time:t,type:"emoji-end",emoji:s,keyword:o})})),a.forEach((({start_time:e,end_time:t,word:a},n)=>{p2(a)&&(i=!0);const s=_9e(a);c.push({time:e,type:"word-start",word:s,origWord:a,index:n}),c.push({time:t,type:"word-end",word:s,origWord:a,index:n})}));const u={"emoji-start":1,"word-start":2,"word-end":3,"emoji-end":4};c.sort(((e,t)=>e.time!==t.time?e.time-t.time:u[e.type]-u[t.type]));const p=new Map,m=[];return c.forEach((e=>{if("emoji-start"===e.type)p.set(e.keyword,e.emoji);else if("emoji-end"===e.type)p.delete(e.keyword);else if("word-start"===e.type){if(p.has(e.word)){if(l.has(e.index-1)||l.has(e.index+1))return;const t=e.word.match(/[.,/#!$%^&*;:{}=\-_`~()]/g)?`${p.get(e.word)}${o}${e.origWord}`:`${e.origWord}${o}${p.get(e.word)}`;r.push([e.index,t]),l.add(e.index),d.push(e.time)}m.push(e.word)}else"word-end"===e.type&&m.splice(m.indexOf(e.word),1)})),{addedLocations:r,hasExistingEmoji:i,emojiTimestamps:d}}const S9e="HighlightListCompleted-module_feedbackButton_urt8c";function x9e(e,t){const a=M5(j5.RepurposeAnalytics);(null==a?void 0:a.loggedSettingsChange)&&a.loggedSettingsChange[e]||(ov("Repurpose Setting Changed",{[e]:t}),P5(j5.RepurposeAnalytics,{loggedSettingsChange:{...null==a?void 0:a.loggedSettingsChange,[e]:!0}}))}const I9e={width:1,height:1},A9e=[],k9e=(e,t)=>{const a=Du((e=>e.repurpose.selectedChapterIndices));return i.useMemo((()=>(null==t?void 0:t.length)?(null==e?void 0:e.length)&&(null==e?void 0:e.length)&&a.size?t.filter((t=>{const n=o5e(t,e);if(!n)return!1;const s=e.indexOf(n);return a.has(s)})):t:[]),[a,e,t])},T9e=b.memo((({settings:e,workflowId:t})=>{const a=Bu(),n=Du((e=>e.workflows.feedbackEnabled)),{asset:s,assetId:o,highlights:r,sortedHighlights:d,isSample:u,words:p,languageCode:m,autoEmojiData:g,firstNonHiddenHighlight:h,chapters:v}=Du((e=>{var a;const n=J0e(t)(e);return{asset:n.asset,assetId:n.assetId,highlights:n.highlights,sortedHighlights:t1e(t)(e),isSample:n.isSample,words:n.words,languageCode:n.languageCode,autoEmojiData:n.autoEmojiDataJob,firstNonHiddenHighlight:a1e(t)(e),chapters:null==(a=n.chaptersJobData)?void 0:a.chapters}}),Ou),{setEmojiTimestamps:b}=kqe(),y=i.useMemo((()=>{const e={};for(const t of r||[]){let a=2;const n=t.sections.reduce(((e,t)=>e+t.end-t.start),0);n>52&&(a=1),n<38&&(a=1),n>60&&(a=0),n<30&&(a=0),e[t.id]={Coherence:-1,Conclusion:-1,Hook:-1,Length:a,Subject:-1,Title:-1}}return e}),[r]),[w,_]=i.useState(y),C=i.useMemo((()=>(e,t,a)=>{_((n=>({...n,[e]:{...n[e],[t]:a}})))}),[]),[S,x]=i.useState(""),[I,A]=i.useState(!1),k=i.useCallback((async e=>{const n=ID(t)(Mu().state),s=Object.keys(n).filter((e=>{var t;return null==(t=n[e])?void 0:t.isHidden})),o=s.includes(e);x9e(o?mc.ShowHighlight:mc.HideHighlight,!0);const i=o?s.filter((t=>t!==e)):[...s,e],r={...n};Object.keys(n).forEach((e=>{var t;const a=i.includes(e);r[e]={...n[e],overrides:(null==(t=n[e])?void 0:t.overrides)||{},isHidden:a}})),i.forEach((e=>{r[e]||(r[e]={overrides:{},isHidden:!0})})),a(uH.updateWorkflow({workflowId:t,updates:{highlightSettings:r},undoable:!0}))}),[t,a]),T=i.useCallback((()=>{var e,n,s;for(const t in w){if(Object.values(w[t]||{}).some((e=>-1===e)))return void a(db({type:"error",description:"Please rate all categories for each highlight"}))}const o=J0e(t)(Mu().state),i=(o.assetDurationSec??0)/60;A(!0);const r={};for(const t in w)r[t]={highlight:(null==(n=null==(e=o.highlights)?void 0:e.find((e=>e.id===t)))?void 0:n.sections)||[],rating:w[t]};(async function(e){return Xf("/api/v2/workflows/highlights/feedback",{body:{feedback:e}})})({assetDurationMin:i,assetId:o.assetId,env:fu(o)&&o.findHighlightsEnv||"unknown",experiments:o.experiments||[],numHighlights:(null==(s=o.highlights)?void 0:s.length)||0,reviews:r,workflowId:o._id}).then((()=>{a(db({type:"success",description:"Feedback submitted"})),_(y)})).catch((e=>{cb({description:"Submitting feedback",error:e})})).finally((()=>{A(!1)}))}),[y,a,w,t]),E=i.useMemo((()=>null==p?void 0:p.map(((e,t)=>({start:e.start_time,end:e.end_time,text:e.word,transcriptionNdx:t,assetId:o,speaker:"A"})))),[o,p]),[L,j]=i.useState({}),R=i.useRef(new Set),N=i.useRef(!1),[M,P]=i.useState(s.dimensions||I9e),F=kE(Du((e=>e.mediaCache.assetIdToMediaCacheId[o])));i.useEffect((function(){eZ({source:HB.RepurposeOnboarding})}),[]),i.useEffect((function(){(async()=>{var e,a;const n=ID(t)(Mu().state);if(!n)return;const s=c.cloneDeep(n);let o=!1;for(const t in n)(null==(e=n[t])?void 0:e.showNewLabel)&&(s[t]={...s[t],overrides:(null==(a=s[t])?void 0:a.overrides)||{},showNewLabel:!1},o=!0);o&&await i7(t,s)})()}),[t,d]),i.useEffect((()=>{var e,t,a,n;if(F){const[e,t]=TE(F,["preview"]);if(t){const e=URL.createObjectURL(t);return void j({[o]:e})}}R.current.has(o)||(null==(e=null==s?void 0:s.preview)?void 0:e.fragmented)||(null==(t=null==s?void 0:s.preview)?void 0:t.hls)||(null==(a=s.mime)?void 0:a.startsWith("video"))||(R.current.add(o),P5e({id:tA(12),type:Nc.Audio,name:s.name??"file",asset_id:s._id},"preview",(null==(n=s.preview)?void 0:n.url)??s.url).finally((()=>{R.current.delete(o)})))}),[o,s,F]),i.useEffect((function(){M||N.current||async function(){var e;try{N.current=!0;const t=(null==(e=null==s?void 0:s.preview)?void 0:e.content_type)??(null==s?void 0:s.content_type)??"video/mp4",a=await dI({asset:s},t,XC.MEDIUM);if(a.success)return P({width:a.properties.width,height:a.properties.height}),!0;throw new $v("HighlightList failed to get asset dimensions",{extra:{errorEvent:a.errorEvent}})}catch(t){return console.error(t),l(t,{tags:{"Repurpose Load Fail":!0,feature:Tu.repurposeStudio}}),!1}}().then((e=>{e||Mu().dispatch(db({type:"error",description:"Error loading highlights"}))}))}),[M,s]);const[D,O]=i.useState(void 0);i.useEffect((function(){if(g&&!u){const e=C9e({autoEmojiData:g,languageKey:m,words:p});O(e),b(e.emojiTimestamps)}}),[g,u,m,b,p]);const U=i.useMemo((()=>{if(!D)return;const e=[...p];return D.addedLocations.forEach((([t,a])=>{const n=e[t];n&&(e[t]={...n,word:a})})),e}),[D,p]),[B,W]=i.useState((()=>()=>{})),[V,H]=i.useState((()=>()=>0)),[z,G]=i.useState((()=>()=>A9e)),[Y,K]=i.useState((()=>()=>A9e)),[X,Z]=i.useState((()=>()=>A9e)),q=k9e(v,d);return M?f.jsxs(f.Fragment,{children:[f.jsx(PEe,{id:tB.repurposeStudio,setEPTime:B,getEPTime:V,selectElementPoolLayers:z,selectCanvasElementPoolLayers:Y,selectPossibleReferenceLayers:X,children:q.map(((a,n)=>(S||0!==n||x(a.id),f.jsx(h9e,{settings:e,workflowId:t,highlight:a,localUrls:L,words:E,wordsWithEmoji:U,showRepurposeTourPopover:h?h.id===a.id:0===n,playingClip:S,setPlayingClip:x,setGetEPTime:H,setSelectElementPoolLayers:G,setSelectPossibleReferenceLayers:Z,setSetEPTime:W,setSelectCanvasElementPoolLayers:K,rating:w[a.id],setRatingForCategoryAndHighlight:C,toggleHighlight:k},a.id))))}),n&&f.jsx("button",{type:"button",onClick:T,className:S9e,disabled:I,children:"Submit Review"})]}):null})),E9e="RepurposeRegenerate-module_regenerateContainer_HKa0l",L9e="RepurposeRegenerate-module_noBackground_JAOtm",j9e="RepurposeRegenerate-module_regenerateContainerFull_ZO-EO",R9e="RepurposeRegenerate-module_regenerateText_tm1IO",N9e="RepurposeRegenerate-module_regenerateIcon_pew3G",M9e="RepurposeRegenerate-module_regenerateIconFull_r1I2K",P9e="RepurposeRegenerate-module_regenerateButton_wongS",F9e="RepurposeRegenerate-module_regenerateButtonFull_P2nsn",D9e="RepurposeRegenerate-module_overlayWrapper_a99NQ",O9e="RepurposeRegenerate-module_header_jHl9J",U9e="RepurposeRegenerate-module_subheader_T39EQ",B9e="RepurposeRegenerate-module_subtext_Ddmer",W9e="RepurposeRegenerate-module_dontShowAgainContainer_sP7Xn",V9e="RepurposeRegenerate-module_dontShowText_VAFLL",H9e="RepurposeRegenerate-module_dontShowAgainCheckbox_znINC",z9e="RepurposeRegenerate-module_buttonContainer_f7Oi2",G9e="RepurposeRegenerate-module_confirmButtonContainer_m-EZ8",Y9e="RepurposeRegenerate-module_confirmButton_uL5Ir",K9e="RepurposeRegenerate-module_cancelButton_HYDyD",X9e="RepurposeRegenerate-module_selectRow_S4EVr",Z9e="RepurposeRegenerate-module_selectLabel_V5YBz",q9e="RepurposeRegenerate-module_selectContainer_o-dUg",J9e="RepurposeRegenerate-module_regenerateIconBlue_ScK2J",$9e="RepurposeRegenerate-module_regenerateButtonBlue_QUWw3",Q9e="RepurposeRegenerate-module_verticalContainer_N-yCV",e7e="RepurposeRegenerate-module_chaptersContainer_oi6KL",t7e=f.jsxs("svg",{width:"109",height:"121",viewBox:"0 0 109 121",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[f.jsxs("g",{clipPath:"url(#clip0_20524_2185)",children:[f.jsx("path",{d:"M91.5857 113.777C95.4348 109.735 65.8487 109.099 50.5745 109.286C-1.64684 107.976 -5.44257 114.885 6.21244 116.622C34.1338 120.783 87.7366 117.819 91.5857 113.777Z",fill:"#A0A0A0",stroke:"#A0A0A0",strokeWidth:"0.187008"}),f.jsx("path",{d:"M85.3351 53.7562C88.5392 62.3051 93.8841 82.9828 91.5866 113.158C68.4278 117.79 44.4827 117.576 15.4921 113.158C8.66671 112.118 3.48242 105.666 6.79081 100.703C8.42423 98.2534 12.9722 98.8536 17.0468 100.703C19.4858 85.9508 22.2334 62.3741 22.2334 55.9468C22.2334 54.4458 13.2178 55.1202 6.95084 42.8461C6.04981 41.0814 7.16846 39.0127 9.10765 38.6057L27.9379 34.6535L44.4826 23.8763L63.0024 4.91523C64.1763 3.71342 66.1018 3.60531 67.2421 4.83903C73.1235 11.2026 73.6767 19.1808 69.2525 25.3844C74.649 31.1015 82.755 46.872 85.3351 53.7562Z",fill:"#202020",stroke:"#A0A0A0",strokeWidth:"0.961754",strokeLinejoin:"round"}),f.jsx("circle",{cx:"1.78937",cy:"1.78937",r:"1.78937",transform:"matrix(-0.870403 0.49234 0.49234 0.870403 60.6348 39.6585)",fill:"#A0A0A0"}),f.jsx("circle",{cx:"1.78937",cy:"1.78937",r:"1.78937",transform:"matrix(-0.870403 0.49234 0.49234 0.870403 49.1445 46.7119)",fill:"#A0A0A0"}),f.jsx("path",{d:"M77.8631 48.935C77.0712 55.2077 75.624 63.969 61.5495 57.2517C60.6484 63.1293 57.711 74.8448 41.3945 69.5262",stroke:"#A0A0A0",strokeWidth:"0.961754",strokeLinecap:"round"}),f.jsx("path",{d:"M37.1894 61.7113C32.5632 62.2402 21.5172 64.8859 14.3431 71.2378",stroke:"#A0A0A0",strokeWidth:"0.961754",strokeLinecap:"round"}),f.jsx("path",{d:"M38.1987 64.1434C33.6941 65.3226 23.1346 69.507 16.933 76.8114",stroke:"#A0A0A0",strokeWidth:"0.961754",strokeLinecap:"round"}),f.jsx("path",{d:"M74.6297 42.6064C77.7006 39.4337 86.1028 32.7987 95.1444 31.6402",stroke:"#A0A0A0",strokeWidth:"0.961754",strokeLinecap:"round"}),f.jsx("path",{d:"M75.7338 44.6646C79.2514 42.0525 88.5684 36.8432 97.6952 36.9026",stroke:"#A0A0A0",strokeWidth:"0.961754",strokeLinecap:"round"}),f.jsx("path",{d:"M20.9856 75.4443C29.6222 77.6834 44.8482 84.2089 36.6594 92.3976C32.821 96.236 23.9925 97.0038 29.6223 102.634C35.252 108.263 26.1037 115.429 18.1068 115.429",stroke:"#A0A0A0",strokeWidth:"0.961754"}),f.jsx("path",{d:"M81.4268 44.8879C73.1198 49.3332 52.364 52.5845 35.7969 30.0281",stroke:"#A0A0A0",strokeWidth:"0.961754"}),f.jsx("path",{d:"M43.5964 84.6211C48.4099 87.7367 63.5909 93.739 63.8598 75.044C63.0153 74.7154 61.3592 73.8684 61.3502 73.0545C61.3379 71.953 61.2425 70.298 64.9394 71.9393C65.5139 70.2451 65.7797 66.8371 67.5992 67.2615C69.043 67.5983 68.7808 69.5446 68.4209 70.5795C69.1213 69.9202 70.6231 69.4917 70.9714 71.2074C71.6775 70.4288 73.3387 71.0399 73.2552 72.4203C73.1427 74.2808 74.2394 92.8994 60.854 96.523C50.1457 99.4219 42.2379 95.4235 39.7468 93.2115",stroke:"#A0A0A0",strokeWidth:"0.961754",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M30.3501 19.2945L30.0426 18.8924C29.7272 18.48 29.4958 18.0973 29.3484 17.7443C29.197 17.3862 29.1182 17.0053 29.1118 16.6016C29.1106 16.194 29.1723 15.7138 29.2969 15.161C29.4427 14.5184 29.5429 13.9923 29.5975 13.5829C29.6533 13.1644 29.642 12.7972 29.5638 12.4812C29.4855 12.1652 29.3182 11.8396 29.062 11.5046C28.6519 10.9684 28.1658 10.6906 27.6035 10.6713C27.0374 10.6467 26.4398 10.875 25.8108 11.356C25.3005 11.7463 24.8961 12.1577 24.5977 12.5901C24.2993 13.0226 24.0361 13.469 23.8081 13.9294L22.5671 13.2362C22.8203 12.6912 23.1411 12.1599 23.5296 11.6422C23.918 11.1245 24.4164 10.633 25.0247 10.1678C26.0197 9.40689 26.9797 9.06492 27.9046 9.1419C28.8256 9.21373 29.6153 9.68011 30.2738 10.541C30.6404 11.0205 30.8765 11.4895 30.9821 11.948C31.0837 12.4014 31.1012 12.8782 31.0345 13.3786C30.9638 13.8738 30.8554 14.4265 30.7093 15.0367C30.5898 15.5856 30.5247 16.0399 30.5138 16.3996C30.4989 16.7541 30.5467 17.073 30.6571 17.3562C30.7636 17.6343 30.939 17.9332 31.1835 18.2528L31.3786 18.508L30.3501 19.2945ZM31.7959 21.8901C31.5199 21.5292 31.4098 21.209 31.4656 20.9294C31.5175 20.6446 31.6774 20.3997 31.9455 20.1947C32.1981 20.0015 32.4712 19.9152 32.7647 19.9358C33.0595 19.9473 33.3449 20.1335 33.6209 20.4944C33.8929 20.8501 34.0018 21.1794 33.9475 21.4824C33.8945 21.7763 33.7416 22.0198 33.489 22.213C33.221 22.418 32.9407 22.5056 32.6484 22.4759C32.3521 22.4411 32.068 22.2458 31.7959 21.8901Z",fill:"#A0A0A0"}),f.jsx("rect",{x:"32.6816",y:"16.7626",width:"5.59976",height:"5",transform:"rotate(52.405 32.6816 16.7626)",fill:"#202020"}),f.jsx("circle",{cx:"32.1315",cy:"20.9347",r:"1",transform:"rotate(-1.39622 32.1315 20.9347)",fill:"#A0A0A0"}),f.jsx("path",{d:"M42 48.5C42.8333 48 44.5 46.4 44.5 44",stroke:"#A0A0A0",strokeWidth:"0.96"}),f.jsx("path",{d:"M62.8323 38.1417C61.7718 38.4116 59.3207 38.5325 58.0002 36.8569",stroke:"#A0A0A0",strokeWidth:"0.96"})]}),f.jsx("defs",{children:f.jsx("clipPath",{id:"clip0_20524_2185",children:f.jsx("rect",{width:"108.464",height:"120.326",fill:"white",transform:"matrix(-1 0 0 1 108.465 0)"})})})]}),a7e=b.memo((({buttonType:e,workflow:t,setShowRegenerateModal:a,onClick:n,noBackground:s})=>{var o;const r=Du((e=>e.repurpose.selectedChapterIndices)),l=fu(t)?null==(o=t.chaptersJobData)?void 0:o.chapters:null,d=i.useMemo((()=>fu(t)?t.highlights:[]),[t]),c=k9e(l,d),u=bu(t),p="full"===e,m=p&&!c.length&&r.size&&(null==d?void 0:d.length)!==c.length,g=m?"Regenerate this section":"Regenerate clips",h=i.useCallback((()=>{null==n||n(),a(!0)}),[n,a]);return t.permissions.canRegenerate?u?null:f.jsxs("div",{className:L(E9e,p&&j9e,m&&Q9e,s&&L9e),children:[m?f.jsxs(f.Fragment,{children:[t7e,f.jsx("span",{children:"There aren't any clips for this part of your original upload."}),f.jsx("span",{children:"Regenerate this section and we'll try to find some clips within it."})]}):null,p&&!m&&f.jsx("div",{className:R9e,children:"Not quite what you were looking for? Regenerate your clips to edit the duration or topics covered"}),f.jsx(Hw,{message:"Regenerate clips",side:"bottom",style:r5e,noArrow:!0,disabled:p,children:f.jsxs("button",{className:L(P9e,p&&F9e,m&&$9e,s&&L9e),onClick:h,children:[f.jsx(Hn,{className:L(N9e,p&&M9e,m&&J9e)}),p&&f.jsx("span",{children:g})]})})]}):null})),n7e={backgroundColor:"#202020",padding:"4px",fontSize:10,fontWeight:600,color:"#a0a0a0",border:"1px solid #404040",maxWidth:200,pointerEvents:"none"},s7e=b.memo((({chapter:e,widthPct:t,chapterIndex:a,selected:n,workflow:s,settings:o,disabled:r,hideTimestamp:l,overrideToggleChapter:d,setShowRegenerateModal:c})=>{const{currentUserId:u,selectedChapterIndices:p}=Du((e=>({currentUserId:e.currentUser.user._id,selectedChapterIndices:e.repurpose.selectedChapterIndices})),Ou),m=P(),g=Bu(),[h,v]=i.useState(!1),b=i.useMemo((()=>{var e;return null==(e=null==s?void 0:s.chaptersRegenerating)?void 0:e.includes(a)}),[a,null==s?void 0:s.chaptersRegenerating]),y=s&&bu(s),w=i.useMemo((()=>({width:`${t}%`})),[t]),_=i.useCallback((()=>{r||g(jte.toggleSelectedChapter({chapterIndex:a,multiSelect:!0}))}),[g,a,r]),C=i.useCallback((async()=>{if(h||!s||r)return;let t;try{v(!0);const a=s._id,n=(({chapter:e,asset:t})=>{const a=e.endTime-e.startTime;return{id:fe(12),assetId:t._id,duration:a,title:e.title,sections:[{id:fe(12),start:e.startTime,end:e.endTime,sentences:[]}],aiReviewScore:null,aiReviewIndex:null,timeOrderedIndex:0}})({chapter:e,asset:s.asset}),i=kQe.createWorkflowProject({workflow:{...s,workflowId:a},highlight:n,creatorId:u,teamId:s.teamId,workspaceId:s.folderId,settings:o,fullSubtitles:!0});t=`/${(await d4({source:"Repurpose Chapter",video:i.video,workflowId:s._id})).videoId}/studio/editor/transcript`,s7(a)}finally{v(!1)}t&&m(t)}),[e,s,m,u,o,v,h,r]),S=l?void 0:fP(e.startTime,!1,{excludeMs:!0}),x=l?void 0:fP(e.endTime,!1,{excludeMs:!0}),I=i.useCallback((()=>{p.has(a)||g(jte.toggleSelectedChapter({chapterIndex:a,multiSelect:p.size>0}))}),[a,g,p]);return f.jsxs("div",{className:L(r?p5e:u5e,h&&m5e),style:w,"data-testid":"highlight-chapter-timeline-segment__container","data-start":S,"data-end":x,children:[f.jsxs("div",{className:c5e,onClick:d||_,children:[f.jsx("div",{className:L(h5e,n&&v5e,b&&_5e)}),f.jsx(Hw,{message:e.title,noArrow:!0,style:n7e,delayDuration:200,children:f.jsx("div",{className:f5e,children:e.title})})]}),!r&&f.jsx("div",{className:g5e,children:f.jsxs("div",{className:b5e,children:[s&&c&&!y?f.jsx("div",{className:w5e,children:f.jsx(a7e,{buttonType:"icon",workflow:s,onClick:I,noBackground:!0,setShowRegenerateModal:c})}):null,f.jsx(Hw,{message:"Edit this chapter",side:"bottom",noArrow:!0,style:r5e,children:f.jsx("div",{className:w5e,onClick:C,"data-testid":"highlight-chapter-timeline-segment__studio-edit",children:h?f.jsx("div",{className:y5e}):f.jsx(zn,{className:C5e})})})]})})]},e.title)})),o7e=[],i7e=b.memo((({workflow:e,settings:t,setShowRegenerateModal:a})=>{var n,s;const o=Bg(),r=Du((e=>e.repurpose.selectedChapterIndices)),l=fu(e),d=l?null==(n=e.chaptersJobData)?void 0:n.chapters:o7e,c=null==(s=e.asset)?void 0:s.duration,u=l&&(null==d?void 0:d.length)&&c&&!o,p=i.useMemo((()=>i5e(d,c)),[d,c]),m=i.useCallback((()=>{ov("Clicked Original Video Link from Chapters",{"Find Highlights Workflow ID":e._id,"Asset Duration (min)":(c??0)/60})}),[c,e._id]),g=i.useCallback((()=>e.asset.name||e.asset.input_url?e.asset.name&&!e.asset.input_url?f.jsx("span",{className:x5e,children:e.asset.name}):e.asset.input_url?f.jsx("a",{className:`${x5e} ${I5e}`,href:e.asset.input_url,target:"_blank",rel:"noreferrer",onClick:m,children:e.asset.name??e.asset.input_url}):void 0:null),[e.asset.name,e.asset.input_url,m]);return u?f.jsxs("div",{className:l5e,"data-testid":"highlight-chapters__container",children:[f.jsxs("div",{className:S5e,children:["Overview of original upload",g()]}),f.jsx("div",{className:d5e,children:d.map(((n,s)=>{var o;const i=null==(o=e.chaptersRegenerating)?void 0:o.includes(s);return f.jsx(s7e,{chapter:n,widthPct:p[s]||0,chapterIndex:s,selected:r.has(s),workflow:e,settings:t,disabled:i,setShowRegenerateModal:a},n.title)}))})]}):null})),r7e="HighlightsList-module_highlightList_tu-I3",l7e="LoadingHighlightUpsell-module_loadingHighlightUpsellContainer_UY0x6",d7e="LoadingHighlightUpsell-module_loadingHighlightUpsellImgWrapper_uc9uR",c7e="LoadingHighlightUpsell-module_loadingHighlightUpsellImg_MZXV6",u7e="LoadingHighlightUpsell-module_loadingHighlightUpsellContentContainer_iNvNl",p7e="LoadingHighlightUpsell-module_loadingHighlightUpsellBody_WQ-0V",m7e="LoadingHighlightUpsell-module_loadingHighlightUpsellHeader_4BQUO",g7e="LoadingHighlightUpsell-module_loadingHighlightUpsellButton_JNmhs",h7e=()=>gg(Fd.TRANSCRIBE)?null:f.jsxs("div",{className:l7e,children:[f.jsx("div",{className:d7e,children:f.jsx("img",{className:c7e,src:"https://cdn-useast1.kapwing.com/static/I2K-Screen_Recording_2024_08_22_at_10_47_19_AM_V6.webp",alt:""})}),f.jsxs("div",{className:u7e,children:[f.jsx("h2",{className:m7e,children:"Create watermark-free content"}),f.jsx("p",{className:p7e,children:"Upgrade to export without the Kapwing watermark on your projects and get additional processing minutes for creating content with Repurpose Studio."}),f.jsx(qIe,{action:Dd.REPURPOSE_STUDIO_LOADING_BANNER,className:g7e})]})]}),v7e=b.memo((({workflow:e,settings:t})=>{var a,n;const s=bu(e)&&(null==(a=e.chaptersRegenerating)?void 0:a.length)===(null==(n=e.chaptersJobData)?void 0:n.chapters.length);return yu(e)||s?f.jsxs("div",{className:r7e,children:[f.jsx(h7e,{}),c.times(5,String).map(((e,a)=>f.jsx(m9e,{settings:t},a)))]}):fu(e)||_u(e)?f.jsx("div",{className:r7e,children:f.jsx(T9e,{settings:t,workflowId:e._id})}):null})),f7e=b.memo(v7e),b7e="ProjectsList-module_empty_rwzc5",y7e="ProjectsList-module_header_6jD2t",w7e="ProjectsList-module_collapse_WGr9-",_7e="ProjectsList-module_projectsListContainer_oMzr7",C7e="ProjectsList-module_projectsGrid_LSdif",S7e="PostToSocialsButton-module_buttonLabel_JR1-b",x7e="PostToSocialsButton-module_buttonIcon_YInCo",I7e=b.memo((({exportId:e,thumbnailUrl:t,format:a,defaultTitle:n,disabled:s=!1,className:o,labelClassname:r,style:l,size:d=16,entrypoint:c,showIcon:u=!0,label:p})=>{const m=i.useCallback((s=>{null==s||s.stopPropagation(),e&&(ov("Post To Socials Opened",{entrypoint:c}),((e,t,a,n)=>{wA({modalType:fA.POST_TO_SOCIALS,exportId:e,thumbnailUrl:a,format:t,defaultTitle:n,overlayWrapperProps:{dark:!0,style:OCe,backgroundStyle:OCe,contentAsChildOfBackground:!0}})})(e,a,t,n))}),[c,e,t,a,n]),g=p||"Share to socials",h=u?f.jsxs("span",{className:L(S7e,r),children:[g,f.jsx(Ot,{size:d,className:x7e})]}):f.jsx("span",{children:g});return f.jsx("button",{disabled:s,style:l,className:o,onClick:m,children:h})})),A7e="SearchResultElement-module_iconThumbnail_QnDGb",k7e="SearchResultElement-module_blurredThumbnailBackground_iK6E6",T7e="SearchResultElement-module_blurredImage_E7-OF",E7e="SearchResultElement-module_imageWrapper_S-GwZ",L7e="SearchResultElement-module_thumbnailImg_qIr-5",j7e="SearchResultElement-module_workspaceHeight_w-6Yv",R7e="SearchResultElement-module_workflowHeight_eIknr",N7e="SearchResultElement-module_wrapper_bFBca",M7e=b.memo((()=>f.jsx("svg",{width:"87",height:"73",viewBox:"0 0 87 73",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{d:"M2 61.1429V11.8571C2 9.24287 3.22588 6.73566 5.40796 4.88709C7.59005 3.03852 10.5496 2 13.6355 2H26.8224L38.4579 11.8571H73.3645C76.4504 11.8571 79.41 12.8957 81.592 14.7442C83.7741 16.5928 85 19.1 85 21.7143V61.1429C85 63.7571 83.7741 66.2643 81.592 68.1129C79.41 69.9615 76.4504 71 73.3645 71H13.6355C10.5496 71 7.59005 69.9615 5.40796 68.1129C3.22588 66.2643 2 63.7571 2 61.1429Z",stroke:"#505050",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"})}))),P7e=b.memo((({thumbnailUrl:e,elementType:t})=>{const a=t===gu.WORKFLOW_VIDEO,n=t===gu.WORKFLOW_VIDEO,[s,o]=b.useState(!1);return t===gu.FOLDER?f.jsx("div",{className:A7e,children:f.jsx(M7e,{})}):f.jsxs("div",{className:N7e,children:[!a&&f.jsx("div",{className:T7e,children:f.jsx("div",{className:`${k7e}`,style:{backgroundImage:`url(${s?gd:e||gd})`}})}),f.jsx("div",{className:E7e,children:f.jsx("img",{src:e||gd,alt:"Thumbnail",className:`${L7e} ${n?R7e:j7e}`,onError:e=>{o(!0),e.currentTarget.src=gd}})})]})})),F7e=({url:e,options:t})=>{try{const a=document.createElement("a");if(t){const{name:n,format:s,addExtraFormatting:o=!0}=t;if(o){const t=((e,t)=>e.replace(/[^\p{L}\p{N}]/gu,"_").replace(/_{2,}/g,"_").substring(0,240)+"."+t.toLowerCase())(n,s),o=((e,t,a)=>e+(e.includes("?")?"&":"?")+`${t}=`+a)(e,"filename",t);a.href=o,a.download=t}else a.href=e,a.download=n}else a.href=e;document.body.appendChild(a),a.click(),document.body.removeChild(a)}catch(a){cb({description:"Error downloading the file, please try again later",error:a})}},D7e="RepurposeWorkflowProject-module_wrapper_8ca8B",O7e="RepurposeWorkflowProject-module_buttonWrapper_ljp-g",U7e="RepurposeWorkflowProject-module_top_QvgLa",B7e="RepurposeWorkflowProject-module_bottom_J7xB2",W7e="RepurposeWorkflowProject-module_backgroundThumbnail_RR4AV",V7e="RepurposeWorkflowProject-module_thumbnailOverlay_LextV",H7e="RepurposeWorkflowProject-module_iconBar_ARF29",z7e="RepurposeWorkflowProject-module_timestamp_NduWm",G7e="RepurposeWorkflowProject-module_postButton_GXeJS",Y7e="RepurposeWorkflowProject-module_postButtonLabel_N6sN8",K7e="RepurposeWorkflowProject-module_button_WMeHz",X7e="RepurposeWorkflowProject-module_trashButton_zqy-E",Z7e="RepurposeWorkflowProject-module_buttonContainer_nu1jU",q7e=b.memo((({project:e,workflow:t})=>{var a;const{downloadURL:n,duration:s,id:o,name:r=ql,thumbnailURL:l=gd,hasPendingExport:d}=e,c=Bu(),u=P(),[p,m]=i.useState(r),[g,h]=i.useState(!1),[v,b]=i.useState(!1),{permissions:y}=kqe(),w=i.useRef(null),_=i.useRef(!1),{data:C,refetch:S}=jye(o);i.useEffect((()=>{if(!S||!d)return;if(C&&C.status!==uu.RUNNING)return;const e=setInterval(S,5e3);return()=>clearInterval(e)}),[C,S,d]);const x=t._id;i.useEffect((()=>{m(r)}),[r,m]);const I=i.useCallback((()=>{w.current&&w.current===document.activeElement||_.current||o&&(ov("Opened Project from Repurpose Studio Sidebar"),c(uH.updateWorkflow({workflowId:x,updates:{projects:t.projects.map((e=>e.id===o?{...e,downloadURL:void 0}:e))}})),u(`/${o}/studio/editor/transcript`))}),[c,u,o,t.projects,x,w,_]),A=i.useCallback((async e=>{e.stopPropagation();try{h(!0),await(async({videoId:e,workflowId:t})=>{await Yf(`/api/v2/workflows/${t}/videos/${e}`)})({videoId:o,workflowId:x}),c(uH.updateWorkflow({workflowId:x,updates:{projects:t.projects.filter((e=>e.id!==o))}}))}catch(a){cb({description:"Failed to delete project",error:a})}finally{h(!1)}}),[o,x,c,t.projects]),k=i.useCallback((async e=>{var a;b(!0),e.stopPropagation(),n&&(ov("Repurpose Download From Repurpose Editor",{"Asset Duration (min)":(t.asset.duration??0)/60,"Find Highlights Workflow ID":t._id,"Number of Highlights":(null==(a=t.highlights)?void 0:a.length)??0,"Project Source":"edited",Experiments:t.experiments,"Uses Sample Asset":!!UK[t.assetId]}),F7e({url:n,options:{name:r,format:"mp4"}})),b(!1)}),[n,r,t._id,t.asset.duration,t.assetId,t.experiments,null==(a=t.highlights)?void 0:a.length]),T=i.useCallback((()=>{if(!y.canExport)return null;const e=(null==C?void 0:C.status)===uu.RUNNING?q9({progressDict:C.progressDict,createdAt:C.createdAt.toString()}):void 0;return f.jsxs(f.Fragment,{children:[n||e?f.jsxs("div",{className:Z7e,children:[C&&f.jsx(I7e,{exportId:C.id,thumbnailUrl:l,format:Rye.VIDEO,defaultTitle:r,className:L(O7e,G7e),labelClassname:Y7e,entrypoint:eye.REPURPOSE_STUDIO,disabled:!o}),f.jsx(w4e,{handleDownload:k,progress:e,size:36,className:O7e,disabled:v,text:"Download"})]}):f.jsx("div",{}),f.jsx("button",{onClick:A,className:L(K7e,O7e,X7e),disabled:g||!o,"data-testid":"repurpose-workflow-project__delete",children:f.jsx(Wt,{color:"#e0e0e0",size:16})})]})}),[C,n,y.canExport,o,l,r,k,v,A,g]),E=i.useCallback((e=>{e.preventDefault(),e.stopPropagation()}),[]),j=i.useCallback((e=>{m(e.target.value)}),[m]),R=i.useCallback((()=>{_.current=!0}),[_]),N=i.useCallback((async a=>{a.preventDefault(),a.stopPropagation(),setTimeout((()=>{_.current=!1}),250),p!==r&&(p?(await Promise.all([EK(o,{name:p})]),c(uH.updateWorkflowProject({workflowId:t._id,projectId:e.id,updates:{name:p}}))):m(r))}),[p,r,o,c,t._id,e.id]),M=i.useCallback((e=>{var t;"Enter"===e.key&&(N(e),null==(t=w.current)||t.blur())}),[w,N]);return f.jsxs("div",{className:D7e,onClick:I,"data-testid":"repurpose-workflow-project__card",children:[f.jsxs("div",{className:U7e,children:[f.jsx("div",{className:W7e,children:f.jsx(P7e,{thumbnailUrl:l,elementType:gu.WORKFLOW_VIDEO})}),f.jsxs("div",{className:V7e,children:[f.jsx("div",{className:H7e,children:T()}),f.jsx("div",{className:z7e,children:fP(Math.round(s??0))})]})]}),f.jsx("div",{className:B7e,children:f.jsx("input",{ref:w,value:p,onClick:E,onChange:j,onBlur:N,onFocus:R,onKeyUp:M,"data-testid":"repurpose-workflow-project__name-input",disabled:!o})})]})})),J7e=b.memo((({workflow:e,collapseProjects:t})=>{const a=Bg(),n=!fu(e)||!e.projects.length,s=gg(Fd.TRANSCRIBE);return f.jsxs("div",{className:_7e,children:[!a&&f.jsxs("div",{className:y7e,children:[f.jsx("span",{children:"Projects made from suggested clips"}),f.jsx(Hw,{message:"Close Sidebar",style:r5e,side:"bottom",noArrow:!0,delayDuration:250,children:f.jsx("span",{className:w7e,onClick:t,children:f.jsx(Gn,{})})})]}),f.jsxs("div",{className:C7e,children:[!s&&f.jsx(qOe,{action:Dd.REPURPOSE_STUDIO_REMOVE_WATERMARK}),n?f.jsx("div",{className:b7e,children:f.jsxs("div",{children:[f.jsx("img",{src:"https://cdn-useast1.kapwing.com/static/TEe-Vector.webp",alt:"repurpose"}),f.jsx("div",{children:"You don't have any projects yet! Edit or download one of your highlights to save it as a project."})]})}):e.projects.map((t=>f.jsx(q7e,{project:t,workflow:e},t.id)))]})]})}));const $7e="RegenerateChapterSelector-module_timelineContainer_huRGK",Q7e=[],e8e=b.memo((({workflow:e,selectedIndices:t,toggleChapter:a})=>{var n;const s=e.asset.duration||0,o=(null==(n=e.chaptersJobData)?void 0:n.chapters)||Q7e,r=i.useMemo((()=>i5e(o,s)),[o,s]);return f.jsx("div",{className:$7e,draggable:!1,children:o.map(((n,s)=>f.jsx(s7e,{chapter:n,widthPct:r[s]||0,chapterIndex:s,disabled:!0,selected:t.includes(s),overrideToggleChapter:a(s),hideTimestamp:!0,workflow:e},n.title)))})})),t8e=Object.values(a0e).length>1,a8e=b.memo((({workflow:e,setShowModal:t,showModal:a})=>{var n;const s=Bu(),o=Bg(),r=Ju(Ru.REPURPOSE_FEEDBACK),[l,d]=i.useState(f0e()),c=i.useRef([]),[u,p]=i.useState(!1),m=Ev.get("skipRepurposeRegenerateConfirmation",{disabled:!1})||!1,[g,h]=i.useState(m),v=i.useCallback((()=>{t(!1),p(!1)}),[t]),[b,y]=i.useState(""),w=Du((e=>e.repurpose.selectedChapterIndices)),_=fu(e)?null==(n=e.chaptersJobData)?void 0:n.chapters:null,C=i.useMemo((()=>fu(e)?e.highlights:[]),[e]),S=fu(e)&&(null==_?void 0:_.length)&&!o,x=bu(e),[I,A]=i.useState(w.size>0?Array.from(w):[...Array(null==_?void 0:_.length).keys()]);i.useEffect((function(){A(w.size>0?Array.from(w):[...Array(null==_?void 0:_.length).keys()])}),[e,w,_]);const k=i.useCallback((e=>()=>{I.includes(e)?A(I.filter((t=>t!==e))):A([...I,e])}),[I]),T=i.useCallback((async()=>{if(!e.assetDurationSec)throw new Error("Asset duration is not set");if(!e.teamId)throw new Error("Team ID is not set");ov("Repurpose Highlight Regeneration",{"Asset Duration (min)":e.assetDurationSec/60,"Find Highlights Workflow ID":e._id,"Requested Topics":c.current,"# of Requested Topics":c.current.length,"Requested Duration (sec)":l,"# of Chapters Regenerating":I.length,"Chapters Regenerating":I.map((e=>{var t;return null==(t=null==_?void 0:_[e])?void 0:t.title})).filter((e=>void 0!==e)),"Chapter Indices Regenerating":I}),Ev.set("repurposeHighlightDurationDefault",l);const t=(()=>{if(!_||!_.length||!C)return[];const e=_.map(((e,t)=>t)).filter((e=>I.includes(e))),t=((e,t,a=[])=>{const n=new Set(a);return e.filter((e=>{const a=o5e(e,t);if(!a)return!1;const s=t.indexOf(a);return!n.has(s)}))})(C,_,e);return t})();await async function({assetId:e,languageCode:t,assetTimeRanges:a,requestedExperiments:n,teamId:s,targetDuration:o,targetTopics:i,workflowId:r,previousHighlights:l,chaptersRegenerating:d}){const c=l?l.map((e=>{const{aiReviewIndex:t,timeOrderedIndex:a,...n}=e;return n})):[],u={assetId:e,languageCode:t,assetTimeRanges:a,teamId:s,targetDuration:o,targetTopics:i,workflowId:r};return n&&(u.requestedExperiments=n),c.length&&(u.previousHighlights=c),d&&(u.chaptersRegenerating=d),await Xf("/api/v1/ai/find-highlights",{body:u})}({assetId:e.assetId,assetTimeRanges:I.length!==(null==_?void 0:_.length)&&_&&_.length||!e.assetDurationSec?I.map((e=>{const t=null==_?void 0:_[e];return{start:null==t?void 0:t.startTime,end:null==t?void 0:t.endTime}})).filter((e=>void 0!==e&&"number"==typeof e.start&&"number"==typeof e.end&&e.start<=e.end)):[{start:0,end:e.assetDurationSec}],languageCode:e.languageCode,teamId:e.teamId,targetTopics:c.current,targetDuration:l,workflowId:e._id,previousHighlights:t,requestedExperiments:b?[b]:void 0,chaptersRegenerating:I});const a={highlightsAreGenerating:!0,highlights:t.length?t:null,chaptersRegenerating:I};s(uH.updateWorkflow({workflowId:e._id,updates:a})),s(jte.untoggleAllChapters()),v()}),[I,_,s,C,v,b,l,e._id,e.assetDurationSec,e.assetId,e.languageCode,e.teamId]),E=i.useCallback((()=>{g?T():p(!0)}),[g,T]),L=i.useCallback((e=>{h(e),Ev.set("skipRepurposeRegenerateConfirmation",e)}),[h]),j=i.useMemo((()=>Object.values(a0e).map((e=>f.jsx(gwe,{label:e,value:e,theme:h_.Studio},e)))),[]);var R;if(!e.isSample&&!wu(e))return e.permissions.canRegenerate?x?null:f.jsx(f.Fragment,{children:a&&f.jsx(rC,{noScrollBar:!0,unsetCancelModal:v,className:D9e,children:u?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:O9e,children:"Confirm"}),f.jsx("div",{className:B9e,children:"Your new regenerated clips will replace the current clips in the selected chapters. However, all of your customization settings and projects made from suggested clips will be preserved. Continue?"}),f.jsxs("div",{className:G9e,children:[f.jsxs("div",{className:W9e,onClick:()=>L(!g),children:[f.jsx(tl,{checked:g,onCheckedChange:L,className:H9e,children:f.jsx(al,{children:f.jsx(Ut,{})})}),f.jsx("div",{className:V9e,children:"Dont show me this again"})]}),f.jsx("button",{className:Y9e,onClick:T,children:"Regenerate clips"})]})]}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:O9e,children:"Regenerate suggested clips"}),S?f.jsxs("div",{className:e7e,children:[f.jsxs("div",{className:U9e,children:["Chapters to regenerate"," ",f.jsxs("span",{className:B9e,children:[I.length," selected"]})]}),f.jsx(e8e,{workflow:e,selectedIndices:I,toggleChapter:k})]}):null,f.jsx("div",{className:U9e,children:"Maximum duration of clips"}),f.jsx("div",{children:f.jsx(b0e,{onChange:d,value:l})}),f.jsx("div",{className:U9e,children:"Clip topics (optional)"}),f.jsx("div",{className:B9e,children:"Want to generate clips about a certain topic covered in your content? Type in keywords here, separated by commas, and well prioritize clips about those topics"}),f.jsx(A0e,{finalTopicsRef:c,workflow:e}),r&&f.jsxs(f.Fragment,{children:[t8e&&f.jsxs("div",{className:X9e,children:[f.jsx("div",{className:Z9e,children:"Experiment (leave empty for random):"}),f.jsx("div",{className:q9e,children:f.jsx(hwe,{value:b,items:j,theme:h_.Studio,onValueChange:y})})]}),f.jsxs("div",{className:Z9e,children:["Current highlights used experiment:"," ",f.jsx("span",{children:"experiments"in e&&e.experiments?null==(R=e.experiments)?void 0:R.join(" "):"none"})]})]}),f.jsxs("div",{className:z9e,children:[f.jsx("button",{className:K9e,onClick:v,children:"Cancel"}),f.jsx("button",{className:Y9e,onClick:E,children:"Regenerate clips"})]})]})})}):null})),n8e="RepurposeWorkflow-module_loadingMessage_88DH9",s8e="RepurposeWorkflow-module_loader_w4ReF",o8e="RepurposeWorkflow-module_margin_YXOzf",i8e="RepurposeWorkflow-module_editor_TTb-U",r8e="RepurposeWorkflow-module_projectsContainer_MoK4n",l8e="RepurposeWorkflow-module_expanded_p5U-O",d8e="RepurposeWorkflow-module_highlightsToolbar_mz0bY",c8e="RepurposeWorkflow-module_titleAndSettings_G-rgC",u8e="RepurposeWorkflow-module_highlightsHeaderTitle_P0nBj",p8e="RepurposeWorkflow-module_highlightsHeader_9mGFk",m8e="RepurposeWorkflow-module_highlightsHeaderProgress_Olhwq",g8e="RepurposeWorkflow-module_highlightsProgressText_SMMe9",h8e="RepurposeWorkflow-module_regenerating_7JVnw",v8e="RepurposeWorkflow-module_highlightSettings_kTf5u",f8e="RepurposeWorkflow-module_highlightsList_9NAh6",b8e="RepurposeWorkflow-module_failedContainer_-cN9C",y8e="RepurposeWorkflow-module_highlightsContainer_88xiU",w8e="RepurposeWorkflow-module_transitioning_V3Ngs",_8e="RepurposeWorkflow-module_resizeHandler_Df3MG",C8e="RepurposeWorkflow-module_resizeIcon_FK0HC",S8e="RepurposeWorkflow-module_active_bZ-sI",x8e="RepurposeWorkflow-module_scrollContainer_MKDgo",I8e="RepurposeWorkflow-module_thinkingBob_kuc6B",A8e="RepurposeWorkflow-module_failedText_jYlLR",k8e="RepurposeWorkflow-module_failedButton_kXW2-",T8e="RepurposeWorkflow-module_tabContent_-ud5i",E8e="RepurposeWorkflow-module_tabs_oRN8S",L8e="RepurposeWorkflow-module_tabTrigger_avgrH",j8e="RepurposeWorkflow-module_feedbackButton_jylDt",R8e="RepurposeWorkflow-module_chaptersLabel_sLNrR",N8e="RepurposeWorkflow-module_close_vd-P7";var M8e=(e=>(e.TikTok="tiktok",e.YoutubeShorts="youtube-shorts",e.YoutubeVideo="youtube-video",e.LinkedIn="linkedin",e.Instagram="instagram",e.InstagramThreads="instagram-threads",e.Facebook="facebook",e.Twitter="twitter",e.OgImage="og-image",e.CustomSize="custom-size",e.Square="square",e.Horizontal="horizontal",e.Vertical="vertical",e.None="",e))(M8e||{});const P8e=[{name:"Square",aspectRatio:[1080,1080],shortAspectRatio:[1,1],key:"square"},{name:"Vertical",aspectRatio:[1080,1920],shortAspectRatio:[9,16],key:"vertical"},{name:"Horizontal",aspectRatio:[1920,1080],shortAspectRatio:[16,9],key:"horizontal"},{name:"TikTok Video",aspectRatio:[1080,1920],shortAspectRatio:[9,16],key:"tiktok"},{name:"YouTube Shorts",aspectRatio:[1080,1920],shortAspectRatio:[9,16],key:"youtube-shorts"},{name:"YouTube Video",aspectRatio:[1920,1080],shortAspectRatio:[16,9],key:"youtube-video"},{name:"YouTube Thumbnail",aspectRatio:[1920,1080],shortAspectRatio:[16,9],key:"youtube-video"},{name:"LinkedIn Post",aspectRatio:[1200,1200],shortAspectRatio:[1,1],key:"linkedin"},{name:"Instagram Reels",aspectRatio:[1080,1920],shortAspectRatio:[9,16],key:"instagram"},{name:"Instagram Post Square",aspectRatio:[1080,1080],shortAspectRatio:[1,1],key:"instagram"},{name:"Instagram Post Portrait",aspectRatio:[1080,1350],shortAspectRatio:[4,5],key:"instagram"},{name:"Instagram Story",aspectRatio:[1080,1920],shortAspectRatio:[9,16],key:"instagram"},{name:"Threads Post",aspectRatio:[1070,1424],shortAspectRatio:[3,4],key:"instagram-threads"},{name:"Facebook Post Square",aspectRatio:[1080,1080],shortAspectRatio:[1,1],key:"facebook"},{name:"Facebook Post Landscape",aspectRatio:[1200,630],shortAspectRatio:[1.91,1],key:"facebook"},{name:"Facebook Story",aspectRatio:[1080,1920],shortAspectRatio:[9,16],key:"facebook"},{name:"Twitter/X Post Square",aspectRatio:[1080,1080],shortAspectRatio:[1,1],key:"twitter"},{name:"Twitter/X Post Landscape",aspectRatio:[1280,720],shortAspectRatio:[16,9],key:"twitter"},{name:"OG Image",aspectRatio:[1200,630],shortAspectRatio:[1.91,1],key:"og-image"}],F8e=[{name:"Instagram Post Square",aspectRatio:[1080,1080],shortAspectRatio:[1,1],key:"instagram"},{name:"Instagram Story Post",aspectRatio:[1080,1920],shortAspectRatio:[9,16],key:"instagram"},{name:"Instagram Post Portrait",aspectRatio:[1080,1350],shortAspectRatio:[4,5],key:"instagram"},{name:"YouTube Video Thumbnail",aspectRatio:[1920,1080],shortAspectRatio:[16,9],key:"youtube-video"},{name:"YouTube Shorts Thumbnail",aspectRatio:[1080,1920],shortAspectRatio:[9,16],key:"youtube-shorts"},{name:"TikTok Image",aspectRatio:[1080,1920],shortAspectRatio:[9,16],key:"tiktok"},{name:"Twitter/X Post",aspectRatio:[1600,900],shortAspectRatio:[16,9],key:"twitter"},{name:"LinkedIn Post",aspectRatio:[1200,1200],shortAspectRatio:[1,1],key:"linkedin"},{name:"Facebook Post",aspectRatio:[1200,630],shortAspectRatio:[1.91,1],key:"facebook"},{name:"OG Image",aspectRatio:[1200,630],shortAspectRatio:[1.91,1],key:"og-image"}],D8e=[{name:"Square",aspectRatio:[1080,1080],shortAspectRatio:[1,1],key:"square"},{name:"Vertical",aspectRatio:[720,1280],shortAspectRatio:[9,16],key:"vertical"},{name:"Horizontal",aspectRatio:[1280,720],shortAspectRatio:[16,9],key:"horizontal"},{name:"TikTok Video",aspectRatio:[720,1280],shortAspectRatio:[9,16],key:"tiktok"},{name:"YouTube Shorts",aspectRatio:[720,1280],shortAspectRatio:[9,16],key:"youtube-shorts"},{name:"YouTube Video",aspectRatio:[1280,720],shortAspectRatio:[16,9],key:"youtube-video"},{name:"YouTube Thumbnail",aspectRatio:[1280,720],shortAspectRatio:[16,9],key:"youtube-video"},{name:"LinkedIn Post",aspectRatio:[1200,1200],shortAspectRatio:[1,1],key:"linkedin"},{name:"Instagram Reels",aspectRatio:[720,1280],shortAspectRatio:[9,16],key:"instagram"},{name:"Instagram Post Square",aspectRatio:[1080,1080],shortAspectRatio:[1,1],key:"instagram"},{name:"Instagram Post Portrait",aspectRatio:[864,1080],shortAspectRatio:[4,5],key:"instagram"},{name:"Instagram Story",aspectRatio:[720,1080],shortAspectRatio:[9,16],key:"instagram"},{name:"Threads Post",aspectRatio:[1070,1424],shortAspectRatio:[3,4],key:"instagram-threads"},{name:"Facebook Post Square",aspectRatio:[1080,1080],shortAspectRatio:[1,1],key:"facebook"},{name:"Facebook Post Landscape",aspectRatio:[1200,630],shortAspectRatio:[1.91,1],key:"facebook"},{name:"Facebook Story",aspectRatio:[720,1280],shortAspectRatio:[9,16],key:"facebook"},{name:"Twitter/X Post Square",aspectRatio:[1080,1080],shortAspectRatio:[1,1],key:"twitter"},{name:"Twitter/X Post Landscape",aspectRatio:[1280,720],shortAspectRatio:[16,9],key:"twitter"},{name:"OG Image",aspectRatio:[1200,630],shortAspectRatio:[1.91,1],key:"og-image"}],O8e="BlueprintPreviewSettings-module_settingsContainer_SteKb",U8e="BlueprintPreviewSettings-module_row_08h-R",B8e="BlueprintPreviewSettings-module_blueprintPreview_Tnxu-",W8e="BlueprintPreviewSettings-module_nameContainer_RHP3M",V8e="BlueprintPreviewSettings-module_createNew_P85if",H8e="BlueprintPreviewSettings-module_plus_WJZ9e",z8e="BlueprintPreviewSettings-module_selected_lglxv",G8e="BlueprintPreviewSettings-module_unseen_kWH3S",Y8e="BlueprintPreviewSettings-module_container_OBq8R",K8e="BlueprintPreviewSettings-module_arrow_fvjO0",X8e="BlueprintPreviewSettings-module_left_2Q-Js",Z8e="BlueprintPreviewSettings-module_tile_-7b4q",q8e="BlueprintPreviewSettings-module_title_tW0pj",J8e="BlueprintPreviewSettings-module_actionContainer_GghuS",$8e="BlueprintPreviewSettings-module_skeleton_7iqYO",Q8e="BlueprintPreviewSettings-module_infoIcon_islLt",eet="BlueprintPreviewSettings-module_tooltip_TBGVP",tet="BlueprintPreviewSettings-module_menuTrigger_vH-MY",aet="BlueprintPreviewSettings-module_dropdownMenu_QB---",net="BlueprintPreviewSettings-module_dropdownItem_WWxrg",set="BlueprintPreviewSettings-module_rowContainer_dqG9v",oet=b.memo((()=>f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:U8e,children:[f.jsx("div",{className:q8e,children:"Recently Used Edits"}),f.jsx("div",{className:Y8e,children:J3e.map(((e,t)=>f.jsxs("div",{className:L(B8e,$8e),children:[f.jsx("div",{className:Z8e}),f.jsx("div",{className:W8e})]},t)))})]}),f.jsxs("div",{className:U8e,children:[f.jsx("div",{className:q8e,children:"Kapwing Templates"}),f.jsx("div",{className:Y8e,children:J3e.map(((e,t)=>f.jsxs("div",{className:L(B8e,$8e),children:[f.jsx("div",{className:Z8e}),f.jsx("div",{className:W8e})]},t)))})]})]}))),iet=i.forwardRef((({setOpenMenu:e},t)=>{const{setShowNewBlueprintTooltip:a}=kqe(),n=i.useCallback((()=>{a(!0),e(null),ov("Clicked Create New Repurpose Studio Template")}),[e,a]);return f.jsx("div",{className:B8e,onClick:n,ref:t,children:f.jsx("div",{className:Z8e,children:f.jsxs("div",{className:V8e,children:[f.jsx("div",{className:H8e,children:"+"}),"Edit and export one of your clips to create a new custom template"]})})})})),ret=b.memo(iet),det=new ee,cet=b.memo(i.forwardRef((({blueprint:e,workflowId:t,selected:a,selectBlueprint:n,readonly:s},o)=>{const r=Bu(),l=i.useRef(null),d=i.useRef(null),[c,u]=i.useState(e.name||"Unnamed Template"),p=e5e(e),{currentUserId:m,currentFolderId:g,fontForVideoIsLoaded:h}=Du((e=>({currentUserId:e.currentUser.user._id,currentFolderId:e.workspaces.selectedWorkspace,fontForVideoIsLoaded:p.every((t=>"success"===e.loadedFonts[t.fontFamily]))})),Ou),v=i.useCallback((()=>{n(e)}),[e,n]),b=Du(e1e(t),Ou),y=i.useMemo((()=>{var t;if(!b)return null;const a=(null==(t=null==e?void 0:e.studio)?void 0:t.ratio)?TK(e.studio.ratio):void 0,n=a?{width:a.ratioWidth,height:a.ratioHeight}:{width:1,height:1},s=kQe.createWorkflowProject({workflow:b,settings:{...e,blueprintProjectRatio:n},fontForVideoIsLoaded:h,fullSubtitles:!1,creatorId:m,workspaceId:g}),o=AQe({video:s.video});return s.appendLayers(o),s}),[b,e,h,m,g]),w=null==y?void 0:y.video;i.useEffect((()=>{const e=l.current;if(!w||!e)return;let t=!1;return det.runExclusive((async()=>{if(t)return;const{dataUrl:a}=await _6(w,ex.RepurposeBlueprint,.5);t||(e.style.backgroundImage=`url("${a}")`)})),()=>{t=!0}}),[w]);const _=i.useCallback((async()=>{const t=c||e.name||"Unnamed Template";u(t);try{const a={...e,name:t},n=await a5e([a]);r(eW.upsert(n))}catch(a){cb({description:"Failed to update name",error:a})}}),[c,u,e,r]),C=i.useCallback((e=>{const t=e.target.value;u(t)}),[u]),S=i.useCallback((e=>{var t;"Enter"===e.key&&(null==(t=d.current)||t.blur())}),[d]),x=i.useCallback((async()=>{try{await(async e=>{try{const{success:t}=await Yf("/api/v1/blueprints",{body:{blueprint:e}});return t}catch(b9e){console.error(b9e)}})(e),r(eW.delete({blueprintId:e._id,teamId:e.teamId}))}catch(t){cb({description:"Failed to delete blueprint",error:t})}}),[e,r]);return y?f.jsxs("div",{className:B8e,ref:o,children:[!s&&f.jsxs(lr,{modal:!1,children:[f.jsx(dr,{className:tet,asChild:!0,children:f.jsx("div",{className:tet,children:f.jsx(Yn,{size:15})})}),f.jsx(cr,{children:f.jsx(ur,{className:aet,align:"end",side:"bottom",children:f.jsx(pr,{className:net,onSelect:x,children:"Remove style"})})})]}),f.jsx("div",{ref:l,className:L(Z8e,{[z8e]:a}),onClick:v}),f.jsxs("div",{className:L(W8e,{[z8e]:a}),children:[!e.dateSeen&&f.jsx("div",{className:G8e,children:"NEW"}),f.jsx("input",{type:"text",ref:d,value:c,onChange:C,onBlur:_,onKeyUp:S,disabled:s})]})]}):null})));cet.displayName="BlueprintTile";const uet=({selectedBlueprint:e,selectBlueprint:t,setOpenMenu:a,workflowId:n})=>{const[s,o]=i.useState((null==e?void 0:e._id)||null);i.useEffect((function(){o((null==e?void 0:e._id)||null)}),[null==e?void 0:e._id]);const r=Du(e1e(n),Ou),{all:l,loaded:d}=t0e(null==r?void 0:r.teamId),u=!(null==r?void 0:r.asset),p=!r||u||!d,m=i.useCallback((e=>{o(e._id)}),[o]),g=i.useCallback((()=>{if(!s)return;const e=[l,J3e].flat().find((e=>e._id===s));if(!e)return;const a=J3e.includes(e),n={selectedIndex:(a?J3e:l).indexOf(e),name:a?e.name:"CUSTOM"};t(e,n)}),[s,l,t]),[h,v]=i.useState(!1),b=i.useCallback((()=>{v(!0)}),[]),y=i.useCallback((()=>{v(!1)}),[]),[w,_]=i.useState(!1);i.useEffect((function(){p&&w&&_(!1)}),[p,w]);const C=i.useRef(null),S=i.useRef(null),x=i.useCallback((()=>{var e;null==(e=S.current)||e.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"}),c.debounce((()=>_(!0)),700)()}),[_]),I=i.useCallback((()=>{var e;null==(e=C.current)||e.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"}),c.debounce((()=>_(!1)),700)()}),[_]),A=i.useMemo((()=>l.slice(0,7)),[l]),k=A.length+1>4,T=w&&k,E=!w&&k;return p&&!A.length?f.jsx(oet,{}):f.jsxs("div",{className:O8e,"data-testid":"blueprint-preview-settings__settings-container",children:[f.jsxs("div",{className:set,children:[f.jsxs("div",{className:U8e,children:[f.jsxs("div",{className:q8e,children:[f.jsx("span",{children:"Your Recent Edits"}),f.jsxs(hr,{open:h,children:[f.jsx(vr,{asChild:!0,children:f.jsx("span",{onMouseEnter:b,onMouseLeave:y,children:f.jsx(Kn,{size:13,className:Q8e})})}),f.jsx(fr,{children:f.jsx(br,{side:"top",children:f.jsx("div",{className:eet,children:"Edit and export one of your clips, and the changes you make will be automatically saved here in the Recently Used Edits section."})})})]})]}),f.jsxs("div",{className:Y8e,children:[T&&f.jsx("div",{className:L(K8e,X8e),onClick:I,children:f.jsx(Xn,{size:40})}),f.jsx(ret,{setOpenMenu:a,ref:C}),A.map(((e,t)=>f.jsx(cet,{blueprint:e,workflowId:n,selected:s===e._id,selectBlueprint:m,ref:t===A.length-1?S:null},e._id))),E&&f.jsx("div",{className:K8e,onClick:x,children:f.jsx(Zn,{size:40})})]})]}),f.jsxs("div",{className:U8e,children:[f.jsx("div",{className:q8e,children:"Kapwing Templates"}),f.jsx("div",{className:Y8e,children:J3e.map((e=>f.jsx(cet,{blueprint:e,workflowId:n,selected:s===e._id,selectBlueprint:m,readonly:!0},e._id)))})]})]}),f.jsx("div",{className:J8e,children:f.jsx("button",{onClick:g,disabled:!s,children:"Apply to clips"})})]})};uet.displayName="BlueprintPreviewSettings";const pet=b.memo(uet),met="RepurposeWorkflowSettings-module_triggers_gfhFc",get="RepurposeWorkflowSettings-module_settingsTile_IAWnw",het="RepurposeWorkflowSettings-module_settingsDropdownTile_RhIF0",vet="RepurposeWorkflowSettings-module_selectedSettingsDropdownTile_y20pq",fet="RepurposeWorkflowSettings-module_option_I87Ae",bet="RepurposeWorkflowSettings-module_innerWaveform_fwlsS",yet="RepurposeWorkflowSettings-module_disabledTile_FBDZs",wet="RepurposeWorkflowSettings-module_iconButton_66C4-",_et="RepurposeWorkflowSettings-module_badge_Y1djN",Cet="RepurposeWorkflowSettings-module_popoverContent_29R6M",xet="RepurposeWorkflowSettings-module_settingsTileLabel_hJwcN",Iet="RepurposeWorkflowSettings-module_ratioText_CJhKD",Aet="RepurposeWorkflowSettings-module_ratioBackground_d5hiL",ket="RepurposeWorkflowSettings-module_ratioBackgroundSelected_F3Sjy",Tet="RepurposeWorkflowSettings-module_dullTile_MZuSN",Eet="RepurposeWorkflowSettings-module_speakerFocusPopover_aa5L1",Let="RepurposeWorkflowSettings-module_speakerFocusToggle_cwLd-",jet="RepurposeWorkflowSettings-module_speakerFocusDescription_4NM7z",Ret="RepurposeWorkflowSettings-module_waveformColorPicker_hE9nx",Net="RepurposeWorkflowSettings-module_autoEmojiIcon_-DVVd",Met="RepurposeWorkflowSettings-module_emojiOn_5FT7K",Pet="RepurposeWorkflowSettings-module_popoverContainer_M48x2",Fet="RepurposeWorkflowSettings-module_expandProjects_-EQyF",Det=b.memo((({isSelected:e,ratio:t})=>{const[a,n]=t.split(":").map((e=>Number(e))),s=a>n?"width":"height";return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:L(Aet,e?ket:null),style:{aspectRatio:`${a} / ${n}`,[s]:"80%"}}),f.jsx("div",{"data-testid":"aspect-ratio-preview__text",className:Iet,children:t})]})}));function Oet(){const e=Bg()?82:72;return i.useMemo((()=>({width:e,height:e})),[e])}const Uet=[{label:"YouTube",ratio:"16:9"},{label:"TikTok, Reels, Shorts",ratio:"9:16"},{label:"Instagram Post Square",ratio:"1:1"},{label:"Instagram Post Portrait",ratio:"4:5"}],Bet=b.memo((({onClose:e})=>{const t=Du((e=>e.repurpose.aspectRatio)),a=Oet(),n=Bu();return f.jsx("div",{className:Cet,children:Uet.map((s=>{const o=t===s.ratio;return f.jsxs("div",{children:[f.jsx("div",{className:L(het,fet,o?vet:null),onClick:()=>{x9e(mc.AspectRatio,s.ratio),n(jte.setProperty({property:"aspectRatio",value:s.ratio,undoable:!0})),e()},style:a,children:f.jsx(Det,{ratio:s.ratio,isSelected:o})}),f.jsx("div",{className:xet,children:s.label})]},s.ratio)}))})}));const Wet=b.memo((({workflow:e})=>{const t=Bu(),a=Du((e=>e.repurpose.useAutoEmoji)),{emojiTimestamps:n}=kqe(),s=i.useMemo((()=>{var t;if(!fu(e))return;const a=[];return null==(t=e.highlights)||t.forEach((e=>{e.sections.forEach((e=>{const t=e.start,n=e.end;t&&n&&a.push({startTime:t,endTime:n})}))})),a}),[e]),o=i.useMemo((()=>{if(!fu(e))return 0;if(!e.isSample&&e.autoEmojiDataJob){return function(e,t){let a=0;return e.forEach((e=>{t.forEach((t=>{var n,s;(n=e)>=(s=t).startTime&&n<=s.endTime&&a++}))})),a}(n,s??[])}return 0}),[n,s,e]),r=i.useCallback((()=>{x9e(mc.AutoEmoji,!a),t(jte.setProperty({property:"useAutoEmoji",value:!a,undoable:!0})),o?t(db({type:"info",description:`${a?"Removed":"Added"} ${o} emojis ${a?"from":"to"} your highlights`})):!a&&fu(e)&&t(db({type:"error",description:"No emojis could be added to your highlights."}))}),[t,o,a,e]);return f.jsxs("div",{className:Eet,children:[f.jsxs("div",{className:Let,children:[f.jsx(RRe,{toggled:a,onClick:r}),f.jsx(f.Fragment,{children:a?"On":"Off"})]}),f.jsx("div",{className:jet,children:"Add relevant emojis to your subtitles"})]})}));function Vet(e,t){switch(e){case"none":return"header"===t?Jn:$n;case"hook":return nn;case"title":return qn}}function Het(e){return e.useTitle?"title":e.useAIHooks?"hook":"none"}const zet=[{label:"None",value:"none"},{label:"AI Voiceover",value:"hook"},{label:"Title Text",value:"title"}],Get=zet.filter((e=>"hook"!==e.value)),Yet=b.memo((({showAIHookOption:e})=>{const t=Bu(),a=Het({useTitle:Du((e=>e.repurpose.useTitle)),useAIHooks:Du((e=>e.repurpose.useAIHooks))}),n=Oet(),s=i.useCallback((e=>{let a=!1,n=!1;switch(e){case"none":break;case"hook":n=!0;break;case"title":a=!0}PU.execInUndoBatch((()=>{x9e(mc.Title,a),x9e(mc.AIHooks,n),t(jte.setProperties({updates:{useTitle:a,useAIHooks:n},undoable:!0}))}))}),[t]),o=e?zet:Get;return f.jsx("div",{className:Pet,children:f.jsx("div",{className:Cet,"data-testid":"repurpose-workflow-settings__intro-container",children:o.map((e=>{const t=Vet(e.value,"dropdown"),o=e.value===a;return f.jsxs("div",{children:[f.jsx("div",{className:L(het,fet,o?vet:null),style:n,onClick:()=>{o||s(e.value)},children:f.jsx("div",{className:L(wet,o?null:Tet),children:f.jsx(t,{})})}),f.jsx("div",{className:xet,children:e.label})]},e.value)}))})})})),Ket=b.memo((({workflow:e})=>{const t=Du((e=>e.repurpose.useSpeakerFocus)),a=Bu(),n=i.useCallback((async()=>{var n;if(x9e(mc.SpeakerFocus,!t),a(jte.setProperty({property:"useSpeakerFocus",value:!t,undoable:!0})),fu(e)){const t=ID(e._id)(Mu().state),s=(null==(n=e.highlights)?void 0:n.reduce(((e,a)=>{const n=null==t?void 0:t[a.id],s=null==n?void 0:n.overrides,{resizeMode:o,...i}=s??{};return{...e,[a.id]:{...n,overrides:i}}}),{}))??{};a(uH.updateWorkflow({workflowId:e._id,updates:{highlightSettings:s}}))}}),[a,t,e]);return f.jsxs("div",{className:Eet,children:[f.jsxs("div",{className:Let,"data-testid":"repurpose-workflow-settings__speaker-focus",children:[f.jsx(RRe,{toggled:t,onClick:n}),f.jsx(f.Fragment,{children:t?"On":"Off"})]}),f.jsx("div",{className:jet,children:t?"Active speakers are always centered in-frame.":"Original video size fits within the given aspect ratio, without stretching or zooming in."})]})})),Xet=({preset:e,isSelected:t,onClose:a})=>{const n=Bu(),s=Oet(),[o,i]=b.useState(!1);return f.jsxs("div",{children:[f.jsx("div",{className:L(het,fet,t?vet:null),onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),onClick:()=>{x9e(mc.SubtitlePreset,!0),n(jte.setProperty({property:"removeSubtitles",value:!1,undoable:!0})),n(jte.setProperty({property:"subtitlePreset",value:e,undoable:!0})),a()},style:s,children:f.jsx(hoe,{preset:e,animate:o,width:s.width,height:s.height})}),f.jsx("div",{className:xet,children:e.title})]},e.presetId)},Zet=b.memo((({onClose:e})=>{const t=Du((e=>e.magicSubtitlePresets.brandkitPresets)),{subtitlePreset:a,removeSubtitles:n}=Du((e=>({subtitlePreset:e.repurpose.subtitlePreset,removeSubtitles:e.repurpose.removeSubtitles})),Ou),s=Bu(),o=Oet();return f.jsx("div",{className:Pet,children:f.jsxs("div",{className:Cet,"data-testid":"repurpose-workflow-settings__presets-container",children:[f.jsxs("div",{children:[f.jsx("div",{className:L(wet,het,fet,n?vet:Tet),onClick:()=>{x9e(mc.SubtitlePreset,!0),s(jte.setProperty({property:"removeSubtitles",value:!0,undoable:!0})),e()},style:o,children:f.jsx($n,{})}),f.jsx("div",{className:xet,children:"None"})]}),(()=>{const e=[...t];return Fw.forEach((t=>{e.some((e=>e.presetId===t.presetId))||e.push(t)})),e})().map((t=>{const n=t.presetId===a.presetId;return f.jsx(Xet,{preset:t,isSelected:n,onClose:e},t.presetId)}))]})})})),qet="ColorInput-module_sectionHeader_iQxd7",Jet="ColorInput-module_section_0MXnb",$et="ColorInput-module_form_UMJfM",Qet="ColorInput-module_colorInput_NIAUp",ett="ColorInput-module_colorInputWithBorder_bFUzJ",ttt="ColorInput-module_activeWhite_vWmxW";const att=b.memo((({color:e,setColor:t,showHeader:a,showBorder:n,activeWhite:s,onFocus:o,onBlur:r})=>{const l=i.useCallback((e=>{let a=e.target.value.toUpperCase();a.startsWith("#")||(a=`#${a}`),t(a)}),[t]),d=i.useCallback((()=>{null==r||r();const a=(e=>/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/i.test(e))(e);if(a)t(e);else{const a=function(e){const t=(16777215&e).toString(16).toUpperCase();return"00000".substring(0,6-t.length)+t}(function(e){if(!e)return null;let t=0;for(let a=0;a<e.length;a+=1)t=e.charCodeAt(a)+((t<<5)-t);return t}(e));t(`#${a}`)}}),[r,e,t]),c=i.useCallback((()=>{null==o||o()}),[o]),u=i.useCallback((e=>{e.preventDefault(),d()}),[d]),p=i.useMemo((()=>AG(e)?"transparent":JN(e)),[e]);return f.jsxs("div",{className:Jet,children:[a?f.jsx("div",{className:qet,children:"Color"}):null,f.jsx("form",{onSubmit:u,className:$et,children:f.jsx("input",{"data-testid":"color-input__input",className:L({[Qet]:!n,[ett]:n,[ttt]:s}),onBlur:d,onChange:l,onFocus:c,value:p})})]})}));function ntt(e,t,a){const[n=0,s=0,o=0]=[e,t,a].map((e=>{const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}));return.2126*n+.7152*s+.0722*o}const stt=u(Gj,(e=>{var t;return null==(t=e.teams.activeBrandkit)?void 0:t.colors}),((e,t)=>e&&t?t.filter((e=>!Xg(e))):null)),ott="ColorPalette-module_section_1KDA4",itt="ColorPalette-module_colorPreview_31nCV",rtt="ColorPalette-module_transparentUnavailable_LyHUq",ltt="ColorPalette-module_colorPreviewWithBorder_Dla0L",dtt="ColorPalette-module_brandColorsHeader_7DVSo",ctt="ColorPalette-module_infoIcon_AjRVV",utt="ColorPalette-module_brandColorsContainer_m0rlI",ptt="ColorPalette-module_emptyState_h7M3b",mtt="ColorPalette-module_checkeredSquare_WYgjo",gtt=["#FFFFFF","#000000","#EEEEEE","#DDDDDD","#BDBDBD","#A0A0A0","#757575","#555555","#303030","#101010","#78909C","#546E7A","#EF9A9A","#EF5350","#E53935","#FF1744","#FF0000","#F48FB1","#EC407A","#D81B60","#F50057","#CE93D8","#AB47BC","#8E24AA","#D500F9","#B39DDB","#7E57C2","#5E35B1","#651FFF","#9FA8DA","#5C6BC0","#3949AB","#3D5AFE","#90CAF9","#42A5F5","#1E88E5","#0000FF","#2979FF","#81D4FA","#29B6F6","#039BE5","#00B0FF","#80DEEA","#26C6DA","#00ACC1","#00E5FF","#80CBC4","#26A69A","#00897B","#1DE9B6","#A5D6A7","#66BB6A","#43A047","#00E676","#C5E1A5","#9CCC65","#00FF00","#7CB342","#76FF03","#E6EE9C","#D4E157","#C0CA33","#C6FF00","#FFF59D","#FFEE58","#FDD835","#FFEA00","#FFFF00","#FFE082","#FFCA28","#FFB300","#FFC400","#FFCC80","#FFA726","#FB8C00","#FF9100","#FFAB91","#FF7043","#F4511E","#FF3D00","#BCAAA4","#964B00","#8D6E63","#6D4C41"],htt=["#FFFFFF","#000000","#DDDDDD","#BDBDBD","#757575","#303030","#78909C","#546E7A","#E53935","#FF1744","#FF0000","#D81B60","#CE93D8","#AB47BC","#D500F9","#7E57C2","#5E35B1","#651FFF","#9FA8DA","#90CAF9","#42A5F5","#0000FF","#81D4FA","#00B0FF","#80DEEA","#26C6DA","#00E5FF","#26A69A","#1DE9B6","#A5D6A7","#43A047","#00E676","#00FF00","#76FF03","#E6EE9C","#D4E157","#C6FF00","#FFEE58","#FDD835","#FFEA00","#FFFF00","#FFB300","#FFCC80","#FB8C00","#FF7043","#F4511E","#BCAAA4"];function vtt(e){const t=function(e){const t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,((e,t,a,n)=>t+t+a+a+n+n)),a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return a?{r:parseInt(a[1]||"",16),g:parseInt(a[2]||"",16),b:parseInt(a[3]||"",16)}:null}(e);return t?function(e,t){const a=ntt(e.r,e.g,e.b),n=ntt(t.r,t.g,t.b);return(Math.max(a,n)+.05)/(Math.min(a,n)+.05)}(t,{r:255,g:255,b:255}):0}function ftt(e){return vtt(e)<4.5}const btt=b.memo((({className:e,hideTransparent:t,selectColor:a,hideBrandkit:n=!1})=>{const s=Bg();let o=gtt;s&&(o=htt);const r=gg(Fd.BRANDKIT),l=Du(stt),d=Du((e=>{var t;return null==(t=e.teams.activeBrandkit)?void 0:t.projectId})),c=Du((e=>e.studio.projectId))===d,[u,p]=i.useState(!1),m=i.useCallback((()=>{p(!1)}),[]);function g(){return f.jsx("div",{"data-cy":"transparent-icon",className:mtt})}function h(e,t){const s=ftt(e)&&n;return f.jsx("button",{"data-cy":`color-${e.replace("#","")}`,className:s?ltt:itt,style:{background:e},onClick:()=>a(e)},t)}return f.jsxs(f.Fragment,{children:[u&&f.jsx(gUe,{onClose:m}),!n&&c&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:dtt,children:["Brand Colors ",!r&&f.jsx(_se,{}),f.jsx("div",{className:ctt,onClick:()=>{p(!0)},children:f.jsx(Wa,{})})]}),f.jsx("div",{className:utt,children:(null==l?void 0:l.length)?l.map(((e,t)=>h(e.value,`brandkit-color-${t}`))):f.jsx("div",{className:ptt,children:'Add your own Brand Colors by clicking Save as Brand Color"'})})]}),f.jsxs("div",{className:e||ott,"data-cy":"color-palette",children:[o.map((e=>h(e,e))),t?f.jsx("div",{className:rtt,children:g()}):f.jsx("div",{className:itt,onClick:()=>a(KN),children:g()})]})]})})),ytt="LayerColorSelector-module_section_UBV7-",wtt="LayerColorSelector-module_header_d3FYQ",_tt="LayerColorSelector-module_colorContainer_wbCnG",Ctt="LayerColorSelector-module_colorPickerContainer_eJjlm",Stt="LayerColorSelector-module_colorLeft_O0WQC",xtt="LayerColorSelector-module_colorRight_TBIhR",Itt="LayerColorSelector-module_bottom_9-Czs",Att="LayerColorSelector-module_selectButton_aiwTG",ktt="LayerColorSelector-module_buttonBrandKitColor_Nf7PH",Ttt="LayerColorSelector-module_rightIcon_-G78m";class Ett extends i.Component{constructor(e){var t;super(e),a(this,"selectColor",(e=>{this.setState({color:e})})),a(this,"addBrandkitColor",(()=>{const{color:e}=this.state,{brandkit:t}=this.props;e&&(this.brandkitHasSelectedColor()?this.setState({showDeleteDialog:!0}):(m2("add","color"),iP([...(null==t?void 0:t.colors)??[],{value:e,default:!1}])))})),a(this,"handleClick",(()=>{hg(Fd.BRANDKIT)?this.addBrandkitColor():lse((()=>{this.addBrandkitColor()}),{action:Dd.BRANDKIT})()})),a(this,"removeBrandkitColor",(()=>{const{color:e}=this.state,{brandkit:t}=this.props;if(!e||!t)return;m2("remove","color");const a=[...t.colors].filter((t=>t.value!==e));iP(a)})),a(this,"brandkitHasSelectedColor",(()=>{var e;const{color:t}=this.state,{brandkit:a}=this.props;return!!t&&(null==(e=null==a?void 0:a.colors)?void 0:e.some((e=>e.value===t&&(void 0===(null==e?void 0:e.default)||!(null==e?void 0:e.default)))))})),a(this,"brandkitButton",(()=>f.jsx("div",{onClick:this.handleClick,className:ktt,children:this.brandkitHasSelectedColor()?"Remove Brand Color":"Save as Brand Color"}))),a(this,"hideDeleteDialog",(()=>{this.setState({showDeleteDialog:!1})})),a(this,"updateColor",(e=>{e&&this.setState({color:e})})),this.state={color:this.props.defaultColor,showDeleteDialog:!1},null==(t=window.getSelection())||t.empty()}componentDidMount(){GJ()}render(){const e=this.state.color||"#000000",{onClose:t,hideTransparent:a}=this.props,n=kG(e),s=e===KN?"#FFFFFF":JN(e).toUpperCase(),o=e===KN?"Transparent":s,i=e===KN?e:s||this.props.defaultColor||"#FFFFFF";return f.jsxs(f.Fragment,{children:[this.state.showDeleteDialog&&f.jsx(Dbe,{delete:this.removeBrandkitColor,hideDelete:this.hideDeleteDialog,description:Fbe("color",{extraText:"It will be removed from your Brand Kit and longer appear in the Color Picker."}),headerTitle:"Delete Color",theme:"dark",noBackground:!0}),f.jsxs(Wne,{hideClose:!0,onClose:t,darkenModal:this.state.showDeleteDialog,children:[f.jsx("div",{className:wtt,children:"Choose or type a color"}),f.jsxs("div",{className:_tt,children:[f.jsxs("div",{className:Stt,children:[f.jsx(att,{color:i,setColor:this.updateColor}),f.jsx("div",{className:Ctt,children:f.jsx(Qn,{color:s,onChange:this.updateColor})}),this.brandkitButton()]}),f.jsxs("div",{className:xtt,children:[f.jsx(btt,{className:ytt,selectColor:this.selectColor,hideTransparent:a}),f.jsx("div",{className:Itt,children:f.jsxs("div",{"data-cy":"layer-color-selector-submit","data-testid":"layer-color-selector__submit",className:Att,onClick:()=>{this.state.color&&this.props.onChange(this.state.color),this.props.onClose()},style:{backgroundColor:e,color:n,border:`1px solid ${n}`},children:["Select ",o,f.jsx(Ea,{className:Ttt})]})})]})]})]})]})}}const Ltt=r.connect((e=>({brandkit:e.teams.activeBrandkit,selectedTeamId:e.teams.selectedTeamId})))(Ett),jtt=e=>i.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},i.createElement("path",{id:"Vector",d:"M14.8038 1.28219C14.3023 0.781332 13.6226 0.5 12.9139 0.5C12.2052 0.5 11.5255 0.781332 11.024 1.28219L9.55249 2.75377L9.54278 2.74406C9.42139 2.62266 9.27728 2.52636 9.11867 2.46065C8.96007 2.39495 8.79007 2.36113 8.61839 2.36113C8.44672 2.36113 8.27672 2.39495 8.11811 2.46065C7.95951 2.52636 7.8154 2.62266 7.69401 2.74406L7.25703 3.1818C7.13563 3.30319 7.03933 3.44731 6.97362 3.60592C6.90792 3.76453 6.8741 3.93453 6.8741 4.10621C6.8741 4.27789 6.90792 4.44789 6.97362 4.6065C7.03933 4.76511 7.13563 4.90922 7.25703 5.03061L7.26599 5.03958L2.20148 10.1042C2.04532 10.2604 1.92147 10.4458 1.83701 10.6498C1.75254 10.8539 1.70912 11.0726 1.70922 11.2934V11.8066L0.753085 13.5598C0.128611 14.705 1.38129 15.9577 2.52641 15.3339L4.27957 14.3778H4.79349C5.23909 14.3774 5.6663 14.2 5.98119 13.8848L11.0464 8.82012L11.0554 8.82909C11.1768 8.95049 11.3209 9.04679 11.4795 9.1125C11.6381 9.1782 11.8081 9.21202 11.9798 9.21202C12.1515 9.21202 12.3215 9.1782 12.4801 9.1125C12.6387 9.04679 12.7828 8.95049 12.9042 8.82909L13.3419 8.39209C13.4633 8.2707 13.5596 8.12659 13.6253 7.96798C13.691 7.80937 13.7248 7.63937 13.7248 7.46769C13.7248 7.29601 13.691 7.12601 13.6253 6.9674C13.5596 6.80879 13.4633 6.66467 13.3419 6.54328L13.333 6.53357L14.8045 5.06199C15.3053 4.56056 15.5867 3.88082 15.5867 3.17209C15.5867 2.46336 15.3046 1.78362 14.8038 1.28219ZM11.8166 2.07401C12.1088 1.78762 12.5022 1.62813 12.9114 1.6302C13.3205 1.63226 13.7123 1.79572 14.0017 2.08504C14.291 2.37437 14.4544 2.76618 14.4565 3.17534C14.4586 3.5845 14.2991 3.97794 14.0127 4.27017L12.1453 6.13766C12.0403 6.24271 11.9814 6.3851 11.9814 6.53357C11.9814 6.68204 12.0403 6.82443 12.1453 6.92948L12.5509 7.3351C12.5683 7.35244 12.5821 7.37305 12.5915 7.39574C12.6009 7.41843 12.6057 7.44275 12.6057 7.46731C12.6057 7.49188 12.6009 7.5162 12.5915 7.53889C12.5821 7.56158 12.5683 7.58218 12.5509 7.59953L12.1131 8.03727C12.0958 8.05466 12.0752 8.06846 12.0525 8.07788C12.0298 8.08729 12.0055 8.09214 11.9809 8.09214C11.9564 8.09214 11.932 8.08729 11.9093 8.07788C11.8867 8.06846 11.866 8.05466 11.8487 8.03727L8.04957 4.23805C8.01468 4.20305 7.99508 4.15564 7.99508 4.10621C7.99508 4.05678 8.01468 4.00937 8.04957 3.97436L8.4873 3.53662C8.50465 3.51923 8.52525 3.50543 8.54794 3.49602C8.57063 3.48661 8.59495 3.48176 8.61952 3.48176C8.64408 3.48176 8.6684 3.48661 8.69109 3.49602C8.71378 3.50543 8.73438 3.51923 8.75173 3.53662L9.15734 3.94224C9.26238 4.04716 9.40478 4.10609 9.55324 4.10609C9.7017 4.10609 9.84409 4.04716 9.94914 3.94224L11.8166 2.07401ZM10.2547 8.02756L5.19014 13.0922C5.13807 13.1443 5.07624 13.1857 5.00818 13.2139C4.94012 13.2421 4.86716 13.2566 4.79349 13.2565H4.1369C4.04317 13.2566 3.95096 13.2803 3.86873 13.3253L1.99008 14.3501C1.95471 14.3723 1.91249 14.3808 1.87131 14.374C1.832 14.3664 1.79599 14.3469 1.76823 14.318C1.73937 14.2902 1.71981 14.2542 1.71221 14.2149C1.70589 14.1739 1.71465 14.132 1.73686 14.0969L2.76171 12.2182C2.80655 12.1357 2.82993 12.0432 2.82968 11.9493V11.2934C2.82982 11.1449 2.88893 11.0025 2.99402 10.8975L8.05853 5.83139L10.2547 8.02756Z",fill:"currentColor"})),Rtt="Eyedropper-module_eyedropperContainer_yGAiH",Ntt="Eyedropper-module_helperText_TTsHB",Mtt="Eyedropper-module_colorPreview_WDtn3",Ptt="Eyedropper-module_colorPreviewText_NP-uW",Ftt="Eyedropper-module_cursorColorPreview_xnwsR",Dtt="Eyedropper-module_cursorPreviewContainer_BaGAD",Ott="Eyedropper-module_highlightedPixel_jKXYP";class Utt extends i.Component{constructor(e){super(e),a(this,"canvas"),a(this,"ctx"),a(this,"translateXY",((e,t,a)=>{const n=(e-a.x)/a.width,s=(t-a.y)/a.height;return{x:n*this.canvas.width,y:s*this.canvas.height}})),a(this,"handlePointerClick",(e=>{var t,a;e.preventDefault(),e.stopPropagation();const{colorPreview:n}=this.state;"Hover over canvas"!==n&&(null==(a=(t=this.props).onColorSelected)||a.call(t,n)),this.handleExit()})),a(this,"handlePointerMove",(e=>{if(!this.canvas)return;const t=document.getElementById("canvas"),a=document.getElementById("studio-canvas-background").getBoundingClientRect(),n=e.clientX,s=e.clientY;let o=n<a.x||n>a.x+a.width||s<a.y||s>a.y+a.height;if(t&&e.target&&e.target instanceof Node&&(o=o||!t.contains(e.target)),o)document.body.style.cursor="default",this.setState({colorPreview:"Hover over canvas",hoverOffCanvas:!0});else{document.body.style.cursor="crosshair";const{x:e,y:t}=this.translateXY(n,s,a),{r:o=0,g:i=0,b:r=0}=this.getColor(e,t),l=((e,t,a)=>{const n=e=>{const t=e.toString(16);return 1===t.length?`0${t}`:t};return`#${n(e)}${n(t)}${n(a)}`.toUpperCase()})(o,i,r);this.setState({colorPreview:l,hoverOffCanvas:!1,mouseX:n,mouseY:s})}})),a(this,"handleEscapePress",(e=>{"Escape"===e.key&&(x3e(null),this.handleExit())})),a(this,"getColor",((e,t)=>{const{data:[a,n,s]}=this.ctx.getImageData(e,t,1,1);return{r:a,g:n,b:s}})),a(this,"getEyedropperCanvas",(async()=>{const{studio:e}=this.props;try{const{canvas:t}=await _6(e,ex.EyedropperMode);this.canvas=t;const a=t.getContext("2d");if(!a)throw new Error("Failed to get canvas context");this.ctx=a,this.setState({loading:!1,previewImageUrl:t.toDataURL()}),document.addEventListener("pointermove",this.handlePointerMove),document.addEventListener("keydown",this.handleEscapePress),document.addEventListener("pointerdown",this.handlePointerClick,{capture:!0})}catch(t){cb({description:"Error extracting color. Please refresh and try again.",error:t}),this.handleExit()}})),a(this,"handleExit",(()=>{Mu().dispatch(Jee()),x3e(null),document.body.style.cursor="default",document.removeEventListener("pointerdown",this.handlePointerClick,{capture:!0}),document.removeEventListener("pointermove",this.handlePointerMove),document.removeEventListener("keydown",this.handleEscapePress)})),a(this,"renderCanvasColorPickerPreview",(()=>{if(this.state.hoverOffCanvas)return null;if(!this.state.mouseX||!this.state.mouseY)return null;const{colorPreview:e}=this.state,t=document.getElementById("studio-canvas-background").getBoundingClientRect(),{x:a,y:n}=this.translateXY(this.state.mouseX,this.state.mouseY,t),s={position:"absolute",width:"60px",height:"60px",objectFit:"none",objectPosition:`${30-zg(Math.round(a),1,this.canvas.width)}px ${30-zg(Math.round(n),1,this.canvas.height)}px`,transform:"scale(10)",imageRendering:"pixelated"};return f.jsxs("div",{className:Dtt,style:{position:"fixed",left:this.state.mouseX,top:this.state.mouseY+20,pointerEvents:"none"},children:[f.jsxs("div",{className:Ftt,id:"eyedropper-preview-canvas",children:[f.jsx("img",{src:this.state.previewImageUrl,alt:"eyedropper preview",style:s}),f.jsx("div",{className:Ott})]}),f.jsx("div",{children:e})]})})),this.state={colorPreview:"Hover over canvas",loading:!0,hoverOffCanvas:!0}}componentDidMount(){GJ(),this.getEyedropperCanvas()}componentDidUpdate(e){const{eyedropperMode:t}=this.props;e.eyedropperMode&&!t&&this.handleExit()}componentWillUnmount(){document.body.style.cursor="default",document.removeEventListener("pointermove",this.handlePointerMove),document.removeEventListener("pointerdown",this.handlePointerClick,{capture:!0}),document.removeEventListener("keydown",this.handleEscapePress)}render(){const{loading:e}=this.state;let{colorPreview:t}=this.state;const a="Hover over canvas"===t;return"Hover over canvas"===t&&(t="#202020"),f.jsxs("div",{className:Rtt,children:[f.jsx("div",{className:Ntt,children:"Click to pick a color on the canvas."}),f.jsx("div",{className:Mtt,style:{backgroundColor:a?"#202020":t},"data-cy":"eyedropper-color-preview",children:e?f.jsx(Ile,{text:"",wrapperStyles:{margin:0,width:"100%",height:"100%"},loaderStyles:{margin:0}}):f.jsx(f.Fragment,{children:a&&f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 810 810","data-cy":"eyedropper-no-selection",children:f.jsx("rect",{x:"570",y:"-570",width:"5",height:"1145",transform:"rotate(45)",fill:"white"})})})}),f.jsx("div",{className:Ptt,"data-cy":"eyedropper-color-preview-text",children:a?f.jsx(f.Fragment,{children:""}):t}),this.renderCanvasColorPickerPreview()]})}}const Btt=r.connect((e=>({containerHeight:e.studioSizing.containerHeight,containerWidth:e.studioSizing.containerWidth,containerX:e.studioSizing.containerX,eyedropperMode:e.studio.eyedropperMode,onColorSelected:e.eyedropper.onColorSelected,studio:e.studio})))(Utt),Wtt="ColorPickerControlRow-module_container_Nsw7P",Vtt="ColorPickerControlRow-module_full_zkSG1",Htt="ColorPickerControlRow-module_controlRow_LXg-k",ztt="ColorPickerControlRow-module_button_NOTbS",Gtt="ColorPickerControlRow-module_colorSwatch_rACwQ",Ytt="ColorPickerControlRow-module_colorsContainer_qKOmR",Ktt="ColorPickerControlRow-module_colorsRow_wS2QF",Xtt="ColorPickerControlRow-module_checkeredSquare_uSvDW";const Ztt=b.memo((({color:e,hideEyedropper:t,showTransparentSquare:a,onChange:n})=>{const s=i.useId(),o=Bu(),[r,l]=i.useState(!1),d=Bg(),c=i.useCallback((t=>{const a=null==e?void 0:e.includes("rgba");if(!e||!a||e===KN||t===KN)return void n(t);const s=qN(e),o=(null==s?void 0:s.a)??1,i=qN(t);if(!i)return;const{r:r,g:l,b:d}=i;n(`rgba(${r}, ${l}, ${d}, ${o})`)}),[e,n]),u=Du(stt),p=i.useMemo((()=>{const e=[{value:"#000000",default:!1},{value:"#FFFFFF",default:!1}];return u&&u.length>0&&e.push(...u),e.push({value:"#FF6464",default:!1},{value:"#FFCD1D",default:!1},{value:"#6BBC43",default:!1},{value:"#0283E2",default:!1},{value:"#AB5ABD",default:!1}),e}),[u]),m=function(e){return e?e===KN?"None":JN(e):"None"}(e),g=i.useCallback((()=>{l(!0)}),[]),h=i.useCallback((()=>{l(!1)}),[]),v=Du((e=>e.studio.eyedropperMode===s)),b=i.useCallback((()=>{v?x3e(null):(x3e(s),o(qee(c)))}),[s,o,v,c]),y=i.useCallback((e=>{e&&c(e)}),[c]);return f.jsxs("div",{className:Wtt,children:[f.jsxs("div",{className:Htt,children:[f.jsxs("button",{"data-testid":"color-button",onClick:g,className:L(ztt,Vtt),"data-cy":"color-button",type:"button",children:[e&&f.jsx("div",{className:L(Gtt,"None"===m?Xtt:void 0),style:{background:"None"===m?void 0:m}}),f.jsx("span",{children:m})]}),!d&&!t&&f.jsx("button",{onClick:b,"data-cy":"eyedropper-button",className:ztt,type:"button",children:f.jsx(jtt,{})}),a&&f.jsx("button",{onClick:()=>c(KN),"data-cy":"transparency-button",className:ztt,type:"button",children:f.jsx("div",{className:L(Gtt,Xtt)})})]}),v&&f.jsx(Btt,{}),f.jsx("div",{className:Ytt,children:f.jsx("div",{className:Ktt,children:p.map(((e,t)=>f.jsx("button",{type:"button",className:Gtt,onClick:()=>c(e.value),style:{background:e.value===KN?void 0:e.value},"data-testid":"preview-color-button","data-cy":"preview-color-buttons"},`${e.value}-${t}`)))})}),r&&f.jsx(Ltt,{defaultColor:e,onChange:y,onClose:h,hideTransparent:!a})]})})),qtt=b.memo((()=>{var e;const t=Bu(),a=Oet(),{selectedBlueprint:n,selectedWaveformColor:s,selectedWaveformType:o}=Du((e=>({selectedBlueprint:e.repurpose.selectedBlueprint,selectedWaveformColor:e.repurpose.selectedWaveformColor,selectedWaveformType:e.repurpose.selectedWaveformType})),Ou),r=i.useCallback((e=>{x9e(mc.Waveform,e??"none"),t(jte.setProperty({property:"selectedWaveformType",value:e,undoable:!0}))}),[t]),l=i.useCallback((e=>{t(jte.setProperty({property:"selectedWaveformColor",value:e,undoable:!0}))}),[t]);return f.jsxs("div",{"data-testid":"repurpose-workflow-settings__waveform-container",children:[f.jsxs("div",{className:Cet,children:[f.jsxs("div",{onClick:()=>r(),children:[f.jsx("div",{className:L(wet,het,fet,!o&&vet),style:a,children:f.jsx($n,{className:bet})}),f.jsx("div",{className:xet,children:"None"})]}),f.jsxs("div",{onClick:()=>r("wave"),children:[f.jsx("div",{className:L(het,fet,"wave"===o?vet:null),style:a,children:f.jsx("div",{className:bet,children:f.jsx("img",{alt:"wave waveform",src:Sd})})}),f.jsx("div",{className:xet,children:"Wave"})]}),f.jsxs("div",{onClick:()=>r("bar"),children:[f.jsx("div",{className:L(het,fet,"bar"===o?vet:null),style:a,children:f.jsx("div",{className:bet,children:f.jsx("img",{alt:"bar waveform",src:Cd})})}),f.jsx("div",{className:xet,children:"Bar"})]})]}),f.jsx("div",{className:Ret,children:f.jsx(Ztt,{color:s||(null==(e=null==n?void 0:n.tetheredWaveformSettings)?void 0:e.style.color)||"#ffffff",onChange:l,hideEyedropper:!0})})]})})),Jtt="RepurposeWorkflowSettingsDialog-module_dialogOverlay_NsUH3",$tt="RepurposeWorkflowSettingsDialog-module_hidden_uyoQv",Qtt="RepurposeWorkflowSettingsDialog-module_dialogContent_71Hai",eat="RepurposeWorkflowSettingsDialog-module_dialogClose_yPN1a",tat="RepurposeWorkflowSettingsDialog-module_dialogHeader_pQI-H",aat="RepurposeWorkflowSettingsDialog-module_dialogTitle_mH3UV",nat="RepurposeWorkflowSettingsDialog-module_dialogDescription_i9YAH",sat=b.memo((({disabled:e,children:t,onOpenChange:a,open:n,trigger:s,title:o,description:r,alwaysRendered:l})=>{const d=Bg(),c=n||l,u=i.useCallback((()=>{a(!n)}),[n,a]);return f.jsxs(nl,{open:!e&&c,onOpenChange:u,modal:!1,children:[f.jsx(sl,{asChild:!0,children:f.jsx(ol,{children:o})}),f.jsx(Hw,{message:o,side:"bottom",style:r5e,noArrow:!0,disabled:d,delayDuration:250,children:f.jsx(il,{asChild:!0,children:s()})}),f.jsxs(rl,{children:[f.jsx("div",{className:L(Jtt,{[$tt]:l&&!n})}),f.jsxs(ll,{className:L(Qtt,{[$tt]:l&&!n}),"aria-describedby":void 0,children:[f.jsxs("div",{className:tat,children:[f.jsx("div",{className:aat,children:o}),f.jsx("div",{className:nat,children:r})]}),f.jsx(dl,{asChild:!0,children:f.jsx("button",{className:eat,children:f.jsx(R,{size:25})})}),f.jsx("div",{children:t})]})]})]})})),oat="RepurposeWorkflowSettingsPopover-module_arrow_iZ5BG",iat="RepurposeWorkflowSettingsPopover-module_popoverMenu_C1ojK",rat="RepurposeWorkflowSettingsPopover-module_hidden_VGmCE",lat="RepurposeWorkflowSettingsPopover-module_popoverHeader_zhOHj",dat="RepurposeWorkflowSettingsPopover-module_popoverTitle_zQdAx",cat="RepurposeWorkflowSettingsPopover-module_popoverClose_SiWll",uat="RepurposeWorkflowSettingsPopover-module_popoverContent_VGeB7",pat="RepurposeWorkflowSettingsPopover-module_mobilePopoverAnchor_9CPQr",mat=b.memo((({disabled:e,children:t,onOpenChange:a,open:n,trigger:s,title:o,alwaysRendered:r,contentAlign:l})=>{const d=n||r,c=i.useCallback((()=>{a(!n)}),[n,a]),u=Bg();return f.jsxs(hr,{open:!e&&d,onOpenChange:c,children:[f.jsx(Hw,{message:o,side:"bottom",style:r5e,noArrow:!0,disabled:u,delayDuration:250,children:f.jsx(vr,{asChild:!0,children:s()})}),f.jsxs(br,{className:L(iat,{[rat]:r&&!n}),align:l,children:[f.jsx(yr,{className:oat}),f.jsxs("div",{className:lat,children:[f.jsx("div",{className:dat,children:o}),f.jsx(Mr,{asChild:!0,children:f.jsx("button",{className:cat,children:f.jsx(R,{size:18})})})]}),f.jsx("div",{className:uat,children:t})]}),u&&f.jsx(Pr,{className:pat})]})})),gat="Aspect Ratio",hat="Speaker Focus",vat="Subtitles",fat="Templates",bat="Waveforms",yat="Auto Emoji",wat="Intro Hook",_at="Apply recent edits from previous projects to all suggested clips in this project.",Cat=b.memo((({disabled:e,workflow:t,expandProjects:a})=>{var n,s;const o=Bu(),[r,l]=i.useState(null),[d,c]=i.useState(!1),{all:u,loaded:p}=t0e(t.teamId),{currentUser:m}=Du((e=>({currentUser:e.currentUser})),Ou),{aspectRatio:g,useAutoEmoji:h,selectedWaveformType:v,subtitlePreset:b,selectedBlueprint:y,useAIHooks:w,useTitle:_}=Du((e=>({aspectRatio:e.repurpose.aspectRatio,useAutoEmoji:e.repurpose.useAutoEmoji,selectedWaveformType:e.repurpose.selectedWaveformType,subtitlePreset:e.repurpose.subtitlePreset,selectedBlueprint:e.repurpose.selectedBlueprint,useAIHooks:e.repurpose.useAIHooks,useTitle:e.repurpose.useTitle})),Ou),C=i.useMemo((()=>u.some((e=>!e.dateSeen))),[u]),S=null==(n=m.user.shownPopups)?void 0:n[Gc.customBlueprints],x=Du(ID(t._id)),I=Hg(),A=!(fu(t)&&!t.highlightsAreGenerating&&t.highlights)||t.highlights.some((e=>{var t;return null==(t=e.hook)?void 0:t.text})),k=i.useCallback((()=>{l(null)}),[]),T=i.useCallback((e=>{PU.execInUndoBatch((()=>{var t,a;const n={width:1,height:1};if(e.studio.ratio){const t=e.studio.ratio,a=P8e.find((e=>Dq(t,e.aspectRatio.join(":")))),s=(null==a?void 0:a.shortAspectRatio.join(":"))||t;o(jte.setProperty({property:"aspectRatio",value:s,undoable:!0})),n.width=TK(s).ratioWidth,n.height=TK(s).ratioHeight}o(jte.setProperties({updates:{selectedBlueprint:e,lastSelectedBlueprintRatio:n,subtitlePreset:e.subtitlePreset,useSpeakerFocus:"speaker-focus"===e.resizeMode,useTitle:!!e.useTitle,useAIHooks:!!e.useAIHooks,selectedWaveformType:null==(t=e.tetheredWaveformSettings)?void 0:t.style.type,selectedWaveformColor:(null==(a=e.tetheredWaveformSettings)?void 0:a.style.color)||"#ffffff"},undoable:!0}))}))}),[o]);i.useEffect((()=>{(async()=>{t.isSample||await i7(t._id,x)})()}),[t.isSample,t._id,x]);const{speakerFocusIsDisabled:E}=kqe();i.useEffect((function(){const e=()=>{_u(t)||o(eW.setLoaded({teamId:t.teamId,loaded:!1}))};return window.addEventListener("focus",e),()=>window.removeEventListener("focus",e)}),[t.teamId,o,t]);const j=Bg(),R=i.useCallback((async e=>{if(!e&&(l(null),"blueprints"===r)){ov("Blueprints Closed Without Application");const e=u.filter((e=>!e.dateSeen));if(!e.length||!p)return;const t=await s5e(e);o(eW.upsert(t))}}),[r,l,o,u,p]),N=i.useCallback((()=>f.jsx("div",{className:get,onClick:()=>l("aspectRatio"),"data-testid":"repurpose-workflow-settings__aspect-ratio-trigger",children:f.jsx(Det,{ratio:g,isSelected:!1})})),[g]),M=i.useCallback((()=>f.jsx("div",{className:get,onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),onClick:()=>l("subtitle"),"data-testid":"repurpose-workflow-settings__subtitle-trigger",children:f.jsx(hoe,{preset:b,animate:d,width:52,height:52})})),[b,d]),P=i.useCallback((()=>{const e=Het({useAIHooks:w,useTitle:_}),t=Vet(e,"header");return f.jsx("div",{className:get,onClick:()=>l("intro"),"data-testid":"repurpose-workflow-settings__intro-trigger",children:f.jsx("div",{className:L(wet,"none"===e?Tet:null),children:f.jsx(t,{})})})}),[w,_]),F=!!t.isAudioOnly,D=i.useCallback((()=>f.jsx("div",{className:L(get,F?yet:null),onClick:()=>l("resize"),"data-testid":"repurpose-workflow-setting__speaker-focus-trigger",children:F?f.jsx(Hw,{message:"Speaker Focus is not available for audio-only projects",children:f.jsx("div",{className:wet,children:f.jsx(Un,{})})}):f.jsx("div",{className:wet,children:f.jsx(Un,{})})})),[F]),O=i.useCallback((()=>f.jsx("div",{className:get,onClick:()=>l("autoEmoji"),children:f.jsx("div",{className:L(Net,h?Met:null),"data-testid":"repurpose-workflow-settings__auto-emoji",children:h?"":""})})),[h]),U=i.useCallback((()=>f.jsx("div",{className:get,onClick:()=>l("waveform"),"data-testid":"repurpose-workflow-settings__waveform",children:v?f.jsx("div",{className:wet,children:f.jsx("img",{alt:"waveform settings",src:"wave"===v?Sd:Cd})}):f.jsx("div",{className:`${wet} ${Tet}`,children:f.jsx(es,{size:35})})})),[v]),B=i.useCallback((()=>{OP(Gc.customBlueprints)}),[]),W=i.useCallback((()=>{const e=f.jsxs("div",{"data-testid":"repurpose-workflow-settings__blueprints-trigger",className:get,onClick:()=>{B(),l("blueprints")},children:[f.jsx("div",{className:wet,children:f.jsx(as,{})}),C&&S&&f.jsx("span",{className:_et})]});return S||j?e:f.jsx(Ame,{open:C&&!S,onClose:B,content:"You can now mass-apply the edits you made to your recent Repurpose Studio projects.\nSimply click on the Templates button, and all of your recently used edits will be available to use as templates.",header:"Re-apply your last edits",size:"small",side:"bottom",sideOffset:10,withRainbowBorder:!0,children:e})}),[C,B,S,j]),V=i.useCallback((async(e,t)=>{l(null),T(e),ov("Blueprint Applied",t);const a=u.filter((e=>!e.dateSeen));if(!a.length||!p)return;const n=await s5e(a);o(eW.upsert(n))}),[T,u,o,p]),H="complete"===t.status&&!t.isSample&&t.autoEmojiDataJob&&t.autoEmojiDataJob.length>0||"running"===t.status&&(null==(s=t.stages)?void 0:s.map((e=>"string"==typeof e?e:e.type)).includes(F1.AUTO_EMOJI));return f.jsxs("div",{className:met,children:[f.jsx(sat,{onOpenChange:R,open:"blueprints"===r,title:fat,description:_at,trigger:W,alwaysRendered:!0,disabled:e,children:f.jsx(pet,{selectedBlueprint:y,selectBlueprint:V,setOpenMenu:l,workflowId:t._id})}),f.jsx(mat,{onOpenChange:R,open:"aspectRatio"===r,title:gat,trigger:N,disabled:e,children:f.jsx(Bet,{onClose:k})}),f.jsx(mat,{onOpenChange:R,open:"subtitle"===r,title:vat,trigger:M,disabled:e,children:f.jsx(Zet,{onClose:k})}),f.jsx(mat,{onOpenChange:R,open:"intro"===r,title:wat,trigger:P,disabled:e,children:f.jsx(Yet,{showAIHookOption:A})}),!E&&f.jsx(mat,{onOpenChange:R,open:"resize"===r,title:hat,trigger:D,disabled:e||F,children:f.jsx(Ket,{workflow:t})}),f.jsx(mat,{onOpenChange:R,open:"waveform"===r,title:bat,trigger:U,disabled:e,children:f.jsx(qtt,{})}),H&&f.jsx(mat,{onOpenChange:R,open:"autoEmoji"===r,title:yat,trigger:O,disabled:e,contentAlign:"end",children:f.jsx(Wet,{workflow:t})}),(!!a||I)&&f.jsx(Hw,{message:"Open Sidebar",side:"bottom",style:r5e,noArrow:!0,delayDuration:250,children:f.jsxs("div",{className:Fet,onClick:()=>null==a?void 0:a(),children:[f.jsx(ts,{}),!I&&f.jsx("span",{children:"Projects"})]})})]})})),Sat="ReportIssueModal-module_prompt_mBzsA",xat="ReportIssueModal-module_issueSelect_PKvHR",Iat="ReportIssueModal-module_commentArea_TuDSS",Aat="ReportIssueModal-module_emailInput_o-ATp",kat="ReportIssueModal-module_hidden_dtZLb",Tat=["Billing","Technical","Feedback","Other"],Eat=r.connect((e=>({state:e,currentUser:e.currentUser,currentVideo:e.currentVideo})),(e=>j({showToast:db},e))),Lat=i.memo(Eat((({hide:e,currentUser:t,state:a,currentVideo:n,videoId:s,showToast:o,fromVideoProgress:r=!1,fromWorkspace:l,defaultIssue:d})=>{var c,u;const{currentFolderId:p}=Du((e=>({currentFolderId:e.workspaces.selectedWorkspace})),Ou),{user:m}=t,g=lg(),h=cg(),v=Z1(a,!1),[b,y]=i.useState(d||""),[w,_]=i.useState(""),[C,S]=i.useState(""),[x,I]=i.useState(!1),A=null==(c=null==n?void 0:n.build)?void 0:c.canaryCluster,k=i.useCallback((async()=>{var a;I(!0);const i={selectedIssue:b,comment:w,email:C,fromVideoProgress:r,pageURL:window.location.href,currentUser:t,snapshotVideo:v,teamId:g._id,currentFolderId:p},d=(null==m?void 0:m.email)??C;try{ov("Report a Problem",{Email:d,"Signed In":!!m,"Pro User":h.isPaid&&!(h instanceof rc),"Video ID":s,"Link to Video":`kapwing.com/videos/${s}`,"Video Finished":n.done,"Video Build Error":null==(a=n.build)?void 0:a.error,"Error Reason":b,Details:w,Timestamp:(new Date).toISOString(),"From Video Progress":r,"Run On Canary":A,"Current Plan":g.planTier,"Folder ID":p}),l?await Xf("/api/v1/videos/reportProblem",{body:i}):await Xf(`/api/v1/videos/${s}/reportProblem`,{body:i}),o({description:"This issue has been logged and our team will look into it. Well follow up with you at the email address associated with your account.",bottomLink:{text:"Read our Video Processing FAQ for troubleshooting advice.",href:"https://www.kapwing.com/help/video-processing-faq/"},type:"success"})}catch(b9e){cb({description:"Failed to submit report",error:b9e})}e()}),[A,w,p,h,g._id,g.planTier,t,null==(u=n.build)?void 0:u.error,n.done,C,r,l,e,b,o,v,m,s]),T=b&&((null==m?void 0:m._id)||C.includes("@"))&&!x&&w.length>0,E=i.useMemo((()=>({confirmFn:k,disabled:!T,confirmText:"Submit"})),[k,T]);return f.jsxs(rC,{unsetCancelModal:x?void 0:e,confirmButtonOptions:E,usePortal:!0,children:[f.jsx(rC.Header,{children:"Report a Problem"}),f.jsxs("label",{className:Sat,children:["What went wrong?",f.jsxs("select",{className:xat,value:b,onChange:e=>y(e.target.value),children:[f.jsx("option",{className:kat,value:"",disabled:!0,children:"Select an Issue"}),Tat.map((e=>f.jsx("option",{value:e,children:e},e)))]})]}),!(null==m?void 0:m._id)&&f.jsxs("label",{className:Sat,children:["Email",f.jsx("input",{className:Aat,type:"email",autoComplete:"email",value:C,onChange:e=>S(e.target.value)})]}),f.jsxs("label",{className:Sat,children:["Details",f.jsx("textarea",{value:w,onChange:e=>_(e.target.value),placeholder:"Please add as much information (including any steps we can use to reproduce your issue) as possible.",className:Iat})]})]})}))),jat="TutorialCenter-module_container_ErhnA",Rat="TutorialCenter-module_expanded_zhdiW",Nat="TutorialCenter-module_tutorialContainer_H5pCg",Mat="TutorialCenter-module_title_Jz1qv",Pat="TutorialCenter-module_modalTitle_fp-4M",Fat="TutorialCenter-module_controls_L8K1g",Dat="TutorialCenter-module_tutorialCenterButton_H0d0O",Oat="TutorialCenter-module_icon_FmfaY",Uat="TutorialCenter-module_hidden_b4Vzn",Bat="TutorialCenter-module_modal_BS1f-",Wat="TutorialCenter-module_out_EzqDG",Vat="TutorialCenter-module_modalContent_qWRGC",Hat="TutorialCenter-module_link_8Jse6",zat="TutorialCenter-module_active_hd63I",Gat="TutorialCenter-module_close_PyQH6",Yat="TutorialCenter-module_help_np26l",Kat="TutorialCenter-module_learnMore_4GJ33",Xat=[{title:"What can I do with this tool?",video:"https://cdn-useast1.kapwing.com/static/nw3-intro.mp4"},{title:"How can I edit the the selected transcript?",video:"https://cdn-useast1.kapwing.com/static/agO-02-edit-storyline_V6.mp4"},{title:"How can I fine tune the visuals and audio?",video:"https://cdn-useast1.kapwing.com/static/xB4-05-canvas-and-timeline_V4.mp4"},{title:"How can edit the subtitles?",video:"https://cdn-useast1.kapwing.com/static/whn-03-edit-subtitles_V5.mp4"},{title:"How can I add my own logos or visuals?",video:"https://cdn-useast1.kapwing.com/static/bT0-04-add-overlays_V5-(2).mp4"}],Zat=b.memo((({workflow:e})=>{var t;const a=Bg(),n=i.useRef(null),s=i.useRef(null),[o,r]=i.useState(!1),[l,d]=i.useState(!1),[c,u]=i.useState(!1),[p,m]=i.useState(!1),[g,h]=i.useState(0),v=Du((e=>{var t;return(null==(t=e.currentUser.user.shownPopups)?void 0:t.repurposeTutorialCenter)||!1}));i.useEffect((()=>{v||e.status===vu.COMPLETE||e.status===vu.FAILED||e.isSample||(OP(Gc.repurposeTutorialCenter),setTimeout((()=>{r(!0),ov("Tutorial Center Popup Shown")}),1e3))}),[r,v,e.status,e.isSample]);const b=i.useCallback((()=>{r(!o),n.current&&!n.current.paused&&n.current.pause()}),[o,r,n]),y=i.useCallback((()=>{n.current&&!n.current.paused&&n.current.pause(),r(!1),d(!0),ov("Tutorial Center Opened")}),[d,r,n]),w=i.useCallback((()=>{ov("Tutorial Center Closed"),u(!0),setTimeout((()=>{d(!1),u(!1)}),260)}),[d,u]),_=i.useCallback((e=>{e.stopPropagation(),e.preventDefault()}),[]),C=i.useCallback((()=>{m(!0)}),[m]),S=i.useCallback((()=>{m(!1)}),[m]),x=i.useCallback((()=>{const e=Xat[g];e&&ov("Tutorial Center Video Played",{title:e.title})}),[g]),I=i.useCallback((e=>{const t=e.target;t.paused?t.play():t.pause()}),[]);return a?null:f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:L(jat,{[Rat]:o}),children:[f.jsxs("div",{className:L(Nat,{[Uat]:!o}),"data-testid":"tutorial-center__popup",children:[f.jsx("div",{className:Mat,children:"While you're waiting..."}),f.jsx("div",{children:"Watch a few quick tutorials to get familiar with Repurpose Studio"}),f.jsx("div",{children:f.jsx("video",{controls:!0,autoPlay:!0,muted:!0,src:"https://cdn-useast1.kapwing.com/static/nw3-intro.mp4",ref:n})}),f.jsxs("div",{className:Fat,children:[f.jsx("span",{onClick:b,children:"Maybe Later"}),f.jsx("button",{className:Kat,onClick:y,children:"Learn More"})]})]}),f.jsxs("div",{className:L(Dat,{[Uat]:o}),onClick:y,children:[f.jsx("span",{className:Oat,children:f.jsx(ns,{})}),"Tutorial Center"]})]}),l&&f.jsx("div",{className:L(Bat,{[Wat]:c}),"data-testid":"tutorial-center__modal",onClick:w,children:f.jsxs("div",{className:Vat,onClick:_,children:[f.jsxs("div",{children:[f.jsxs("div",{children:[f.jsx("div",{className:Pat,children:"Tutorial Center"}),Xat.map(((e,t)=>f.jsx("div",{className:L(Hat,{[zat]:t===g}),onClick:()=>h(t),"data-testid":"tutorial-center__tutorial-link",children:f.jsx("span",{children:e.title})},e.title)))]}),f.jsx("div",{children:f.jsx("span",{className:Yat,onClick:C,"data-testid":"tutorial-center__new-question",children:"Still have questions? Contact us here"})})]}),f.jsxs("div",{children:[f.jsx("video",{controls:!0,ref:s,src:null==(t=Xat[g])?void 0:t.video,"data-testid":"tutorial-center__video",onPlay:x,onClick:I}),f.jsx("div",{className:Gat,onClick:w,children:f.jsx(R,{})})]})]})}),p&&f.jsx(Lat,{hide:S,defaultIssue:"Other",fromWorkspace:!0})]})})),qat=[],Jat=c.debounce((async(e,t,a)=>{const n={lastSelectedBlueprintRatio:a,lastUsedBlueprint:{...t}};await qf(`/api/v2/workflows/highlights/${e}/settings`,{body:n})}),1e3),$at=b.memo((({workflow:e})=>{var t,a;const n=Bu(),{aspectRatio:s,useSpeakerFocus:o,useAutoEmoji:r,useTitle:l,useAIHooks:d,selectedWaveformColor:u,selectedWaveformType:p,subtitlePreset:m,removeSubtitles:g,selectedBlueprint:h,lastSelectedBlueprintRatio:v,selectedChapterIndices:y}=Du((e=>e.repurpose),Ou),w=v||e.lastSelectedBlueprintRatio,[_,C]=i.useState(!0),[S,x]=i.useState(!1),[I,A]=i.useState(null),[k,T]=i.useState(390),[E,j]=i.useState(!1),[N,M]=i.useState(!1),F=Hg(),D=i.useCallback((()=>{j(!0),T(F?0:7),setTimeout((()=>{j(!1),C(!1)}),99)}),[F]),O=i.useCallback((()=>{j(!0),T(390),C(!0),setTimeout((()=>{j(!1)}),99)}),[]),U=tY((e=>{if(!I||E)return;const{clientX:t}=e,a=I.initX-t,n=I.initWidth+a;if(!_){return void(n>280&&(j(!0),T(zg(n,280,390)),C(!0),setTimeout((()=>{j(!1)}),99)))}n<180?D():T(zg(n,280,390))})),B=i.useCallback((()=>{x(!1),n(Nj(!1)),A(null),document.removeEventListener("mouseup",B),document.removeEventListener("mousemove",U)}),[x,n,A,U]),W=i.useCallback((e=>{e.preventDefault(),x(!0),n(Nj(!0)),A({initWidth:k,initX:e.clientX}),document.addEventListener("mouseup",B),document.addEventListener("mousemove",U)}),[x,n,A,k,U,B]),{setSelectedTab:V,selectedTab:H,speakerFocusIsDisabled:z}=kqe(),G=Du((e=>Nb(e)));i.useEffect((function(){PU.reset()}),[]);const Y=Bg(),K=P(),X=Ju(Ru.REPURPOSE_FEEDBACK),{estimatedTimeRemaining:Z,progress:q}=(e=>{var t,a;if(fu(e)||_u(e))return{progress:100,estimatedTimeRemaining:0};const n=e.assetDurationSec||(null==(a=null==(t=e.asset)?void 0:t.extract_info)?void 0:a.duration);if(!n)return{progress:5,estimatedTimeRemaining:0};const s=n/60*.111+6.74,o=new Date,i=new Date(e.createdAt),r=(o.getTime()-i.getTime())/1e3/60,l=Math.min(100,r/s*100),d=Math.max(0,s-r);return{progress:l,estimatedTimeRemaining:Math.max(d,1)}})(e),{folderSavedSettings:J,brandkitPresets:$}=Du((t=>{var a;const n=e.isAudioOnly?"audioHighlights":"videoHighlights";return{folderSavedSettings:e.folderId?null==(a=t.workflows.savedBlueprintsByFolderId[e.folderId])?void 0:a[n]:void 0,brandkitPresets:t.magicSubtitlePresets.brandkitPresets}}),Ou);i.useEffect((function(){var t,a,s;const o=e.isAudioOnly?Z3e:K3e,i=e.settings||J||o,r={...i,resizeMode:z?"fit-to-center":i.resizeMode},l=(()=>{const t=$[0];return e.settings||J||!t?r.subtitlePreset||$[0]||dy:t})(),d=r.useAIHooks,c=r.useTitle??!0,u=!d&&c;var p;n(jte.setProperties({updates:{selectedBlueprint:r,subtitlePreset:l,aspectRatio:(null==(t=null==r?void 0:r.studio)?void 0:t.ratio)||"9:16",useSpeakerFocus:"speaker-focus"===(null==r?void 0:r.resizeMode),useAutoEmoji:r.useAutoEmoji??!1,selectedWaveformType:(p=null==(a=null==r?void 0:r.tetheredWaveformSettings)?void 0:a.style.type,("none"===p?void 0:p)||void 0),selectedWaveformColor:(null==(s=null==r?void 0:r.tetheredWaveformSettings)?void 0:s.style.color)||"#FFFFFF",useTitle:u,useAIHooks:d}}))}),[$,n,J,z,e.isAudioOnly,e.settings]);const Q=i.useMemo((()=>(({aspectRatio:e,useSpeakerFocus:t,useAutoEmoji:a,lastSelectedBlueprintRatio:n,selectedBlueprint:s,selectedWaveformType:o,selectedWaveformColor:i,useAIHooks:r,subtitlePreset:l,removeSubtitles:d,useTitle:u,isAudioOnly:p})=>{var m;const g=c.omit(s,["_id","teamId","createdAt","name","dateSeen"]),h=(null==(m=null==s?void 0:s.studio)?void 0:m.ratio)?TK(s.studio.ratio):void 0,v=h?{width:h.ratioWidth,height:h.ratioHeight}:{width:1,height:1},f=n||v,b={studio:{ratio:"1:1",background:"#fcfcfc",canvasBlur:!p,animations:{byId:{}}},tetheredWaveformSettings:{position:{width:100,height:15,x:0,y:50,rotation:0},style:{color:"#ffffff",type:"wave",opacity:100}},resizeMode:"fit-to-center",blueprintId:null==s?void 0:s._id,blueprintName:null==s?void 0:s.name,blueprintProjectRatio:f,useAutoEmoji:!1,...c.cloneDeep(g)};if(!b.studio)throw Error();return b.studio.ratio=e,t&&(b.resizeMode="speaker-focus"),t||"speaker-focus"!==b.resizeMode||(b.resizeMode="fit-to-center"),o&&b.tetheredWaveformSettings?(b.tetheredWaveformSettings.style.type=o,b.tetheredWaveformSettings.style.color=i):delete b.tetheredWaveformSettings,b.subtitlePreset=l,b.removeSubtitles=d,b.useAutoEmoji=a,b.useTitle=u,b.useAIHooks=r,b})({aspectRatio:s,useSpeakerFocus:o,subtitlePreset:m,lastSelectedBlueprintRatio:w,selectedBlueprint:h,selectedWaveformType:p,selectedWaveformColor:u,useAIHooks:d,useAutoEmoji:r,removeSubtitles:g,useTitle:l,isAudioOnly:!e.isAudioOnly})),[s,o,m,w,h,p,u,d,r,g,l,e.isAudioOnly]);i.useEffect((()=>{Jat(e._id,{...c.omit(Q,["blueprintId","blueprintName"]),_id:Q.blueprintId},w)}),[e._id,Q,w]);const{all:ee}=t0e(e.teamId),te=i.useMemo((()=>Array.from(new Set([Q3e(Q.titleSettings),Q3e(Q.aiHooksTitleSettings),...ee.flatMap(e5e)]))),[ee,Q.aiHooksTitleSettings,Q.titleSettings]);i.useEffect((function(){te.forEach((e=>x0({fontToLoad:e})))}),[te]);const{createRepurposeProjectFromSample:ae,isLoading:ne,getRepurposeSample:se}=m1e(),oe=!!(null==e?void 0:e._id)&&se({workflowId:e._id});i.useEffect((function(){(null==e?void 0:e.isSample)&&G&&oe&&!ne&&ae(oe)}),[ae,se,G,oe,ne,e]);const ie=yu(e),re=fu(e),le=e._id,de=re?e.asset.duration:0;let ce=qat,ue=0,pe=0;if(fu(e)){e.experiments.length>0&&(ce=e.experiments),ue=(null==(t=e.highlights)?void 0:t.length)??0;const a=e.words.length,n=e.assetDurationSec??0;if(n){pe=a/(n/60)}}const me=i.useMemo((()=>"highlightSortOrder"in e?e.highlightSortOrder:""),[e]),ge=eY((()=>{const t="true"===new URL(window.location.href).searchParams.get(Xw.REPURPOSE_SHARE);return t&&gR([Xw.REPURPOSE_SHARE]),{"Asset Duration (min)":(de??0)/60,"Find Highlights Workflow ID":le,"From Shared Link":t,Experiments:ce,"Number of Highlights":ue,"Highlight Sort Order":me,"Uses Sample Asset":!!UK[e.assetId],"Uses Brand Subtitle Style":!!m.teamId||CD(m,$),"Transcription Words Per Minute":pe}})());i.useEffect((function(){re&&ov("Repurpose Viewed Completed Editor",ge.current)}),[re,ge]);const he=b.useRef(null),ve=fu(e)?e.projects.length:0;rBe(he,(()=>F&&D())),i.useEffect((function(){he.current&&ve>0&&he.current.scrollTo({top:0,behavior:"smooth"})}),[ve]),J9({callback:function(){if(!fu(e))return;const t=e.projects.filter((e=>e.hasPendingExport));Promise.all(t.map((e=>async function(e,t){const{dispatch:a,state:n}=Mu(),s=n.workflows.exportProgressByVideoId[e.id];let o;if(s)o=s.processVideoJobId;else{const t=await Kf(`/api/v2/video-creation/${e.id}/runningExport`);if(!t.success||!t.processVideoJob)return;o=t.processVideoJob._id}const{createdAt:i,progressDict:r,status:l}=await Kf(`/api/v2/video-creation/progress/${o}`);if("running"===l){let t=0;r&&(t=q9({progressDict:r,createdAt:i})),a(uH.exportProgressUpdated({videoId:e.id,progress:t,processVideoJobId:o}))}else"success"===l&&(a(uH.exportProgressUpdated({videoId:e.id,progress:99,processVideoJobId:o})),await n7({workflowId:t}),a(uH.exportProgressCleared(e.id)))}(e,le)))).catch(console.error)},intervalMs:5e3,shouldPoll:fu(e)});const fe=bu(e),be=i.useCallback((()=>{n(jte.untoggleAllChapters())}),[n]),ye=i.useCallback((()=>y.size?f.jsxs("span",{className:R8e,children:["Filtering by ",y.size," ",ec("topic","topics",y.size)," ",f.jsx("span",{onClick:be,children:f.jsx(R,{className:N8e})})]}):null),[be,y]),we=i.useMemo((()=>{var t,a,s,o;const i=bu(e)?e.chaptersRegenerating:[];if(fe)return f.jsxs("div",{className:L(p8e,h8e),children:[!Y&&f.jsxs("div",{className:u8e,children:[f.jsx("span",{children:"Your suggested clips"}),f.jsx(a7e,{buttonType:"icon",workflow:e,setShowRegenerateModal:M}),ye()]}),f.jsxs("div",{className:n8e,children:[f.jsx("div",{className:L(s8e,o8e)}),f.jsxs("div",{children:["Regenerating clips"," ",i&&i.length?`for ${i.length} ${ec("chapter","chapters",i.length)}`:"","..."]})]})]});if(!ie)return Y?null:f.jsxs("div",{className:u8e,children:[f.jsx("span",{children:"Your suggested clips"}),f.jsx(a7e,{buttonType:"icon",workflow:e,setShowRegenerateModal:M}),ye(),X&&f.jsx("button",{type:"button",className:j8e,onClick:()=>{n(uH.toggleFeedback())},children:f.jsx(ss,{})})]});const r=(null==(t=e.jobData)?void 0:t.totalStages)||0,l=Math.min(((null==(a=e.jobData)?void 0:a.stage)||0)+1,r);return f.jsxs("div",{className:p8e,children:[f.jsxs("div",{className:u8e,children:[!Y&&f.jsx("div",{children:"Your suggested clips"}),f.jsxs("div",{className:n8e,children:[f.jsx("div",{className:s8e}),f.jsx("div",{children:"Generating clips... youll receive an email when theyre ready to review. Feel free to leave this page for now."})]})]}),(!!(null==(s=e.jobData)?void 0:s.percent)||!!q)&&f.jsxs("div",{className:m8e,children:[f.jsx(V3e,{progress:Math.min(Math.min((null==(o=e.jobData)?void 0:o.percent)||q,q),95)}),e.jobData&&f.jsxs("div",{className:g8e,children:[f.jsx("div",{children:`Step ${l} of ${r}`}),f.jsxs("div",{children:["~",Math.round(Z)," minutes remaining"]})]})]})]})}),[n,Z,X,Y,fe,ie,q,e,ye]);function _e(){K(`/repurpose/create?${Xw.REPURPOSE_ENTRY_POINT}=failed`)}const Ce=fu(e)&&!e.highlightsAreGenerating&&!(null==(a=e.highlights)?void 0:a.length),Se=wu(e)||Ce,xe=e.assetDurationSec,Ie=xe&&xe<600,Ae=i.useMemo((()=>({width:Y?void 0:k})),[Y,k]),ke=()=>f.jsxs("div",{className:L(r8e,{[w8e]:E,[l8e]:!(k<=7)}),style:Ae,children:[!F&&f.jsx("div",{onMouseDown:W,className:L(_8e,{[S8e]:S}),children:f.jsx("div",{className:C8e,children:f.jsx(os,{})})}),_&&f.jsx("div",{className:x8e,ref:he,children:f.jsx(J7e,{workflow:e,collapseProjects:D})})]}),Te=()=>f.jsxs("div",{className:y8e,children:[Y&&(ie||fe)&&we,f.jsxs("div",{className:d8e,children:[f.jsxs("div",{className:c8e,children:[!Y&&we,f.jsx("div",{className:v8e,children:f.jsx(Cat,{disabled:Se,workflow:e,expandProjects:_?null:O})})]}),re&&f.jsx(i7e,{workflow:e,settings:Q,setShowRegenerateModal:M})]}),f.jsx("div",{className:f8e,children:Se?f.jsxs("div",{className:b8e,children:[f.jsx("div",{className:I8e,children:t7e}),f.jsx("div",{className:A8e,children:"No highlights found in this video."}),Ie&&f.jsxs("div",{className:A8e,children:["Upload a video of ",10," ","minutes or longer for better results."]}),f.jsxs("button",{className:k8e,onClick:_e,children:["Upload new file",f.jsx(is,{size:16,strokeWidth:1.2})]})]}):f.jsxs(f.Fragment,{children:[f.jsx(f7e,{workflow:e,settings:Q}),f.jsx(a7e,{buttonType:"full",workflow:e,setShowRegenerateModal:M}),f.jsx(a8e,{workflow:e,setShowModal:M,showModal:N})]})})]});return Y?f.jsxs(f.Fragment,{children:[f.jsx(Tqe,{workflow:e}),f.jsxs(Wr,{value:H,onValueChange:V,children:[f.jsxs(Vr,{className:E8e,children:[f.jsx(Hr,{className:L8e,value:xqe.Clips,children:"Your Suggested Clips"}),f.jsx(Hr,{className:L8e,value:xqe.Projects,children:"Projects Made from Clips"})]}),f.jsx(zr,{className:T8e,value:xqe.Clips,children:Te()}),f.jsx(zr,{className:T8e,value:xqe.Projects,children:ke()})]})]}):f.jsxs(f.Fragment,{children:[f.jsx(Tqe,{workflow:e}),f.jsxs("div",{className:i8e,children:[Te(),ke()]}),f.jsx(Zat,{workflow:e})]})})),Qat=b.memo((()=>{const{workflowId:e}=D(),{workflow:t,isLoading:a}=Q9({workflowId:e}),n=F(),s=P(),o=Bu(),r="/repurpose/sharing"===n.pathname,l="/repurpose/create"===n.pathname,{clearItem:d}=R5(j5.RepurposeAnalytics);i.useEffect((function(){d()}),[d]),Q2(),t0e(null==t?void 0:t.teamId);const c=i.useCallback((()=>r?f.jsx(Gqe,{}):l?f.jsx(v1e,{}):t?f.jsxs(Aqe,{workflowId:e||"",children:[f.jsx($at,{workflow:t}),f.jsx(U3e,{})]}):(o(db({type:"warning",description:"Sorry, we could not find your project."})),s("/repurpose/create"),f.jsx(ibe,{theme:h_.Studio,title:"Just a second... loading project"}))),[o,s,l,r,t,e]);return a?f.jsx(ibe,{theme:h_.Studio,title:"Just a second... loading project"}):f.jsxs("div",{style:{height:"auto"},children:[f.jsx(Nt,{children:f.jsx("meta",{name:"robots",content:"noindex, nofollow"})}),f.jsx(BQe,{}),c()]})}));function ent(e,t=!1){return Xf("/api/v1/users/google/findUser",{body:{user:e}}).then((e=>{const{dispatch:a}=Mu();a($f(e.user,e.token));mv(e.user,e.newUser,"Google",t)}))}const tnt=()=>{const e=Bu(),t=P();return i.useEffect((()=>{!async function(){const a=Ev.get("GOOGLE_ONE_TAP_RESPONSE",{disabled:""})||"";a?(Ev.remove("GOOGLE_ONE_TAP_RESPONSE"),await ent(a,!0).catch((t=>{((t,a="signIn",n="Sign In")=>{let s=t;t||(s="An error occurred during sign in with One Tap. Please try again later."),ov("Sign In Error Occurred",{"Error Type":a,Details:n,"One-Tap":!0}),e(db({description:s,type:"error"}))})(t.message,"fetchGoogleUser")})),t("/")):t("/signin")}()}),[e,t]),f.jsx(ibe,{})},ant=vC(r.connect(void 0,(e=>j({receiveUserAndSetToken:$f,setOnboarding:SC,setWorkspaces:lf,setTeams:_b,showToast:db},e)))((e=>{const{showToast:t,receiveUserAndSetToken:a,setOnboarding:n,setWorkspaces:s,setTeams:o}=e,i=P(),r=F(),l=Du((e=>e.sessionValues.onboarding));return zne((()=>{!async function(){const e=new URLSearchParams(r.search||""),d=e.get("code"),c=new URLSearchParams(e.get("state")||"");let u=c.get("pathname")||"/";const p=c.get("hardRefresh")||!1;"/signin"===u.toLowerCase()&&(u="/");const m=e=>{i(u,{replace:!0}),t({description:e,type:"error"}),ov("Sign In Error Occurred",{"Error Type":"googleResponse",Details:e})};if(d)try{const e=await Xf("/api/v1/users/google/loginWithOAuth",{body:{code:d}});if(a(e.user,e.token),mv(e.user,e.newUser,"Google",!1),Cv(e.user,e.newUser,"Google",u),_C(),e.newUser&&n({...l,newUser:!0}),e.workspace&&s([e.workspace]),e.team?o([e.team]):await Tb(),p&&"undefined"!=typeof window){const e=`${window.location.origin}${u}`;return void(window.location.href=e)}i(u,{replace:!0})}catch(b9e){const{message:t}=ub(b9e);m(t||"An error occured while confirming Google authorization.")}else m("Missing Google authorization code.")}()})),f.jsx(ibe,{})})));class nnt extends i.Component{constructor(){super(...arguments),a(this,"handleError",((e,t="signIn",a="Sign In")=>{const{showToast:n}=this.props;let s=e;e||(s="An error occurred during sign in with One Tap. Please try again later."),ov("Sign In Error Occurred",{"Error Type":t,Details:a,"One-Tap":!0}),n({description:s,type:"error"})})),a(this,"handleGoogleSuccessResponse",(e=>{ent(e,!0).catch((e=>{this.handleError(null==e?void 0:e.message,"fetchGoogleUser")}))}))}componentDidMount(){"undefined"!=typeof window&&(window.oneTapHandleSuccess=e=>{this.handleGoogleSuccessResponse(e)})}render(){var e,t,a;const{user:n}=this.props;return c.isEmpty(n)?f.jsx("div",{id:"g_id_onload","data-client_id":"823730063895-iqn5t0hivtu1ss7c2mhpfdmh1ghlf9fa.apps.googleusercontent.com","data-callback":"oneTapHandleSuccess","data-itp_support":"true","data-cancel_on_tap_outside":"false"}):(null==(a=null==(t=null==(e=window.google)?void 0:e.accounts)?void 0:t.id)||a.cancel(),null)}}const snt=vC(r.connect((e=>({user:e.currentUser.user})),(e=>j({showToast:db},e)))(nnt)),ont={workspacePopoverZIndex:"18",popoverZIndex:"14",paywallZIndex:"1001",paywallBgZIndex:"1000",upsellButton:"HeaderBar-module_upsellButton_nnTxe",darkUpsellButton:"HeaderBar-module_darkUpsellButton_pubEI",lightSparkle:"HeaderBar-module_lightSparkle_JQg5T",workspaceLink:"HeaderBar-module_workspaceLink_Fd3R7",divider:"HeaderBar-module_divider_T1A6t",workspaceDropDown:"HeaderBar-module_workspaceDropDown_qF--3",plusIcon:"HeaderBar-module_plusIcon_MiLax",workspaceSwitcher:"HeaderBar-module_workspaceSwitcher_O8QaD",profileImage:"HeaderBar-module_profileImage_KBXXw",profileImageWithEmail:"HeaderBar-module_profileImageWithEmail_fsv6e",userName:"HeaderBar-module_userName_rpNdK",menuIcon:"HeaderBar-module_menuIcon_0xRfu",menu:"HeaderBar-module_menu_zMRR-",headerLinkText:"HeaderBar-module_headerLinkText_k---K",headerActiveLinkText:"HeaderBar-module_headerActiveLinkText_-76zo",headerBar:"HeaderBar-module_headerBar_4o-ZL",impersonating:"HeaderBar-module_impersonating_susVf",headerBarEmpty:"HeaderBar-module_headerBarEmpty_LUupj",headerRight:"HeaderBar-module_headerRight_81I8y",headerLeft:"HeaderBar-module_headerLeft_08Irs",headerMiddle:"HeaderBar-module_headerMiddle_F7QEt",menuLogoImage:"HeaderBar-module_menuLogoImage_-bNx3",headerBarLogoText:"HeaderBar-module_headerBarLogoText_X7q4O",headerBarLogoImage:"HeaderBar-module_headerBarLogoImage_ODs-0",hideMobile:"HeaderBar-module_hideMobile_gZlyj",hideDesktop:"HeaderBar-module_hideDesktop_xk-h5",signedInContainer:"HeaderBar-module_signedInContainer_OzzJJ",accountName:"HeaderBar-module_accountName_Oy7LM",accountNameWithEmail:"HeaderBar-module_accountNameWithEmail_zbEfb",email:"HeaderBar-module_email_95LTj",accountLink:"HeaderBar-module_accountLink_N4XOg",proLabel:"HeaderBar-module_proLabel_BE-Fb",planLabel:"HeaderBar-module_planLabel_8-M7M",basicLabel:"HeaderBar-module_basicLabel_lWlEo",freeLabel:"HeaderBar-module_freeLabel_I3ut7",pill:"HeaderBar-module_pill_vGKty",badges:"HeaderBar-module_badges_kzAx2"},int={pathname:"/home",state:{openModal:xXe.account}},rnt=b.memo((({currentUser:e,isMobile:t})=>{const a=tg(e),n=ag(e),s=cg();return f.jsxs("div",{className:ont.signedInContainer,children:[f.jsxs("div",{className:ont.badges,children:[f.jsx(SXe,{className:ont.pill,entryPoint:"Workspace Header Pill"}),s.showUpgrades&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:ont[`${s.name.toLowerCase()}Label`],children:[s.name," Plan"]}),f.jsx("div",{"data-cy":"upgrade-label-header",children:f.jsx($Ce,{className:ont.pill})})]})]}),f.jsx(rs,{to:int,className:({isActive:e})=>L(ont.headerLinkText,e&&ont.headerActiveLinkText),"data-cy":"account-nav-link",children:f.jsxs("div",{className:ont.accountLink,children:[f.jsxs("div",{children:[f.jsx("div",{className:n?ont.accountNameWithEmail:ont.accountName,children:a||"My Account"}),!t&&n&&f.jsx("div",{className:ont.email,children:n})]}),f.jsx("div",{children:f.jsx(xve,{suggestedWidth:300,suggestedHeight:300,className:n?ont.profileImageWithEmail:ont.profileImage})})]})})]})})),lnt=r.connect((e=>({currentUser:e.currentUser,workspaces:e.workspaces,allWorkspaces:e.workspaces.allWorkspaces,currentFolderId:e.workspaces.selectedWorkspace}))),dnt=b.memo(vC(lnt((e=>{const{currentUser:t,navigate:a,location:n}=e,s=qm(t),[o,r]=i.useState(!1),[l,d]=i.useState(!1),[c,u]=i.useState(!1),p=Bg(),m=i.useRef(null);i.useEffect((()=>{d(!1)}),[n]);const g=e=>{m&&m.current&&m.current.contains(e.target)||d(!1)};i.useEffect((()=>(document.addEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)})),[]);const h=i.useCallback((()=>{d(!l)}),[l]),v=i.useCallback((()=>qm(t)?e.currentFolderId?`/folder/${e.currentFolderId}`:"/home":"/"),[t,e.currentFolderId]),b=i.useCallback((()=>{a(v())}),[v,a]),y=i.useCallback((()=>{r(!1)}),[]),w=()=>f.jsxs(f.Fragment,{children:[f.jsx("a",{className:ont.headerLinkText,href:"/tools","data-cy":"tools-nav-link",children:"Tools"}),f.jsx("a",{className:ont.headerLinkText,href:"/ai","data-cy":"tools-nav-link",children:"AI"}),f.jsx("a",{className:ont.headerLinkText,href:"/templates","data-cy":"templates-nav-link",children:"Templates"}),f.jsx("a",{className:ont.headerLinkText,target:"_blank",rel:"noopener noreferrer",href:"https://www.kapwing.com/resources",children:"Learn"}),f.jsx("a",{className:ont.headerLinkText,href:"/pricing","data-cy":"pricing-nav-link",children:"Pricing"})]});return f.jsxs(f.Fragment,{children:[f.jsx(snt,{}),f.jsxs("nav",{className:ont.headerBar+(Mb(t)?` ${ont.impersonating}`:""),children:[f.jsx(nxe,{}),p?f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:ont.headerLeft,children:[f.jsx("a",{href:v(),children:f.jsx("img",{src:"https://cdn-useast1.kapwing.com/static/9XE-logo-small.webp",alt:"Kapwing Logo",className:ont.headerBarLogoImage,"data-cy":"header-logo",width:36,height:36})}),f.jsx("a",{className:ont.headerBarLogoText,href:v(),children:"KAPWING"})]}),l?f.jsx("div",{className:ont.menu,ref:m,children:w()}):null]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:ont.headerLeft,children:[f.jsx("a",{href:v(),children:f.jsx("img",{src:"https://cdn-useast1.kapwing.com/static/9XE-logo-small.webp",className:ont.headerBarLogoImage,alt:"Kapwing Logo","data-cy":"header-logo",width:36,height:36})}),f.jsx("a",{className:ont.headerBarLogoText,href:v(),children:"KAPWING"})]}),f.jsx("div",{className:ont.headerMiddle,children:w()})]}),f.jsxs(Qfe,{children:[f.jsxs("div",{className:ont.headerRight,children:[s&&rg()?f.jsx(rnt,{currentUser:t,isMobile:p,showPaywall:c,setShowPaywall:u}):f.jsx("div",{className:ont.headerLinkText,onClick:()=>{r(!0)},"data-cy":"signin-nav-link",children:"Sign In"}),p?l?f.jsx(R,{"data-cy":"mobile-nav-menu-toggle",className:ont.menuIcon,onClick:h}):f.jsx(ls,{"data-cy":"mobile-nav-menu-toggle",className:ont.menuIcon,onClick:h}):null]}),o?f.jsx(ene,{hideSignIn:y,onSuccess:b}):null]})]})]})})))),cnt="Footer-module_footerText_iCrPf",unt="Footer-module_footer-link-column-link_f7zrv",pnt="Footer-module_footer-link-column-link-last_HNVqA",mnt="Footer-module_footer-div_fRrBw",gnt="Footer-module_footer-container_mnwvH",hnt="Footer-module_footer-company_b3XeS",vnt="Footer-module_footer-company-header_7PKC5",fnt="Footer-module_footer-link-column_DtjPg",bnt="Footer-module_footer-link-column-header_9CXub",ynt="Footer-module_footer-follow-link_fhzo5",wnt="Footer-module_footer-link-column-links-container_Irxg-",_nt="Footer-module_footer-instagram-icon-container_-l9lD",Cnt="Footer-module_footer-instagram-image_qKj37",Snt="Footer-module_p_aLCkS";class xnt extends i.Component{constructor(e){super(e),a(this,"showSignIn",(e=>{e.preventDefault(),this.setState({showSignIn:!0})})),a(this,"hideSignIn",(()=>this.setState({showSignIn:!1}))),a(this,"goToAccount",(()=>{const{navigate:e}=this.props;e("/my")})),this.state={showSignIn:!1}}render(){const{currentUser:e,currentFolderId:t,signOut:a}=this.props,{showSignIn:n}=this.state,s=Pl(),o=Fl(),i=qm(e);return f.jsxs("footer",{className:mnt,children:[f.jsxs("div",{className:gnt,children:[f.jsxs("div",{className:hnt,children:[f.jsxs("div",{className:vnt,children:[f.jsx("img",{alt:"Kapwing Logo",height:50,src:"https://cdn-useast1.kapwing.com/static/9XE-logo-small.webp",width:50}),f.jsx("a",{href:"/",children:"KAPWING"})]}),f.jsxs("div",{children:[f.jsx("a",{href:"https://twitter.com/KapwingApp",target:"_Blank",rel:"noopener noreferrer",className:ynt,title:"Twitter",children:f.jsx("div",{className:_nt,children:f.jsx("img",{src:"https://cdn-useast1.kapwing.com/static/twitter-footer-light.webp",alt:"Twitter",className:Cnt,width:"28px",height:"28px",loading:"lazy"})})}),f.jsx("a",{href:"https://www.youtube.com/channel/UCR5GrKMeaZJxPKVMdEgKIKA?sub_confirmation=1",target:"_Blank",rel:"noopener noreferrer",className:ynt,title:"Youtube",children:f.jsx("div",{className:_nt,children:f.jsx("img",{src:"https://cdn-useast1.kapwing.com/static/yt-footer-light.webp",alt:"Youtube",className:Cnt,width:"28px",height:"28px",loading:"lazy"})})}),f.jsx("a",{href:"https://www.instagram.com/KapwingApp/",target:"_Blank",rel:"noopener noreferrer",className:ynt,title:"Instagram",children:f.jsx("div",{className:_nt,children:f.jsx("img",{src:"https://cdn-useast1.kapwing.com/static/ig-footer-light.webp",alt:"Instagram",className:Cnt,width:"28px",height:"28px",loading:"lazy"})})}),f.jsx("a",{href:"https://www.tiktok.com/@kapwing",target:"_Blank",rel:"noopener noreferrer",className:ynt,title:"TikTok",children:f.jsx("div",{className:_nt,children:f.jsx("img",{src:"https://cdn-useast1.kapwing.com/static/tiktok-footer-light.webp",alt:"TikTok",className:Cnt,width:"28px",height:"28px",loading:"lazy"})})}),f.jsx("a",{href:"https://www.facebook.com/groups/kapwing",target:"_Blank",rel:"noopener noreferrer",className:ynt,title:"Facebook",children:f.jsx("div",{className:_nt,children:f.jsx("img",{src:"https://cdn-useast1.kapwing.com/static/fb-footer-light.webp",alt:"Facebook",className:Cnt,width:"28px",height:"28px",loading:"lazy"})})})]})]}),f.jsxs("div",{className:fnt,children:[f.jsx("a",{href:"/tools",className:bnt,children:"Tools"}),f.jsxs("div",{className:wnt,children:[f.jsx("a",{href:"/video-editor",className:unt,children:"Video Editor"}),f.jsx("a",{href:"/subtitles",className:unt,children:"Subtitles"}),f.jsx("a",{href:"/meme-maker",className:unt,children:"Meme Generator"}),f.jsx("a",{href:"/tools/convert",className:unt,children:"Convert Video"}),f.jsx("a",{href:"/tools/trim",className:unt,children:"Video Trimmer"}),f.jsx("a",{href:"/tools/record/screen",className:unt,children:"Screen Recorder"}),f.jsx("a",{href:"/tools",className:`${unt} ${pnt}`,children:"View All"})]})]}),f.jsxs("div",{className:fnt,children:[f.jsx("a",{href:"/ai",className:bnt,children:"AI-powered"}),f.jsxs("div",{className:wnt,children:[f.jsx("a",{href:"/tools/smart-cut",className:unt,children:"Smart Cut"}),f.jsx("a",{href:"/ai-video-generator",className:unt,children:"AI Video Generator"}),f.jsx("a",{href:"/tools/remove-background/noise",className:unt,children:"Clean Audio"}),f.jsx("a",{href:"/ai/image-generator",className:unt,children:"AI Image Generator"}),f.jsx("a",{href:"/tools/text-to-speech",className:unt,children:"Text to Speech"}),f.jsx("a",{href:"/ai/document-to-video",className:unt,children:"Document to Video"}),f.jsx("a",{href:"/ai",className:`${unt} ${pnt}`,children:"View All"})]})]}),f.jsxs("div",{className:fnt,children:[f.jsx("a",{href:"/templates",className:bnt,children:"Templates"}),f.jsxs("div",{className:wnt,children:[f.jsx("a",{href:"/templates",className:unt,children:"Video Templates"}),f.jsx("a",{href:"/templates/memes",className:unt,children:"Meme Templates"}),f.jsx("a",{href:"/templates/collage",className:unt,children:"Collage Templates"}),f.jsx("a",{href:"/templates/instagram",className:unt,children:"Instagram Video"}),f.jsx("a",{href:"/templates/popular",className:unt,children:"Popular Templates"}),f.jsx("a",{href:"/templates/edu",className:unt,children:"EDU Templates"}),f.jsx("a",{href:"/templates",className:`${unt} ${pnt}`,children:"View All"})]})]}),f.jsxs("div",{className:fnt,children:[f.jsx("div",{className:bnt,children:"Learn"}),f.jsxs("div",{className:wnt,children:[f.jsx("a",{href:"/about",className:unt,children:"About Us"}),f.jsx("a",{href:"/resources",target:"_self",className:unt,children:"Resources"}),f.jsx("a",{href:"/help",target:"_blank",rel:"noreferrer noopener",className:unt,children:"Help Center"}),f.jsx("a",{href:"/blog",target:"_self",className:unt,children:"Blog"}),f.jsx("a",{href:"/edu",className:unt,children:"EDU"}),f.jsx("a",{href:"/teams",className:unt,children:"Teams"}),f.jsx("a",{href:"/contact-us",className:unt,children:"Contact Us"}),i?f.jsxs(f.Fragment,{children:[f.jsx(mn,{className:unt,to:`/folder/${t}`,children:"My Workspace"}),f.jsx(mn,{className:unt,to:`/folder/${t}`,state:{openModal:xXe.account},children:"My Account"}),f.jsx("div",{className:unt,onClick:a,children:"Sign out"})]}):f.jsx("div",{className:unt,onClick:this.showSignIn,children:"Sign in"}),n&&f.jsx(ene,{hideSignIn:this.hideSignIn,onSuccess:this.goToAccount})]})]}),f.jsxs("div",{className:fnt,children:[f.jsx("div",{className:bnt,children:"Company"}),f.jsxs("div",{className:wnt,children:[f.jsx("a",{href:"/pricing",className:unt,children:"Pricing"}),f.jsx("a",{href:"/careers",className:unt,children:"Careers"}),f.jsx("a",{href:"/partnerships",className:unt,children:"Partnerships"}),f.jsx("a",{href:"/affiliates",className:unt,children:"Affiliates"}),f.jsx("a",{href:"/plugins",className:unt,children:"Plugins"}),f.jsx("a",{className:unt,href:"/help/tag/release-notes/",children:"Release Notes"}),f.jsx("a",{href:"/policies/refund",className:unt,children:"Refund Policy"}),f.jsx("a",{href:"/policies/privacy",className:unt,children:"Privacy Policy"}),f.jsx("a",{href:"/policies/terms-of-service",className:unt,children:"Terms of Service"})]})]})]}),f.jsxs("div",{className:cnt,children:[" ",(new Date).getFullYear()," Kapwing. Release ",s,"",o,".",f.jsx("p",{className:Snt,children:"Made with love in San Francisco, California."})]})]})}}const Int=vC(r.connect((e=>({currentUser:e.currentUser,currentFolderId:e.workspaces.selectedWorkspace})),(e=>j({signOut:Af},e)))(xnt)),Ant="SignIn-module_signInWrapper_AeVuD",knt="SignIn-module_signInLeft_y21hs",Tnt="SignIn-module_signInContainer_Fuy1b",Ent="SignIn-module_signInImage_TUQ2G",Lnt="SignIn-module_image_9eC1g",jnt=b.memo((()=>{const e=P(),t="SSO Sign In  Kapwing",a="Kapwing works better if you sign in. Sign in to access your projects, save content to your workspace, preview beta features, and much more.",n=i.useCallback((()=>{e("/signin")}),[e]);return f.jsxs(f.Fragment,{children:[f.jsx(dnt,{}),f.jsxs(Nt,{children:[f.jsx("title",{children:t}),f.jsx("meta",{name:"description",content:a}),f.jsx("meta",{name:"keywords",content:"sign in, login, signup, sign in to Kapwing"}),f.jsx("meta",{property:"og:title",content:t}),f.jsx("meta",{property:"og:description",content:a})]}),f.jsxs("div",{className:Ant,children:[f.jsx("div",{className:knt,children:f.jsxs("div",{className:Tnt,children:[f.jsx("div",{className:Kae,children:"Sign in with SSO"}),f.jsx("div",{className:Xae,children:"Sign in with your company provided credentials to access all of the benefits of your Enterprise team workspace."}),f.jsx(Rae,{onEmailSignIn:n})]})}),f.jsx("div",{className:Ent,children:f.jsx("img",{src:"https://cdn-useast1.kapwing.com/static/7ne-sign-in-illustration.webp",className:Lnt,alt:"Benefits to signing in to Kapwing"})})]}),f.jsx(Int,{})]})})),Rnt=b.memo((()=>{const e=F(),[t,a]=b.useState(!1),n=Du((e=>e.currentUser)),{redirectSource:s,pushWithSource:o}=QKe(),{search:r}=F(),l=i.useMemo((()=>new URLSearchParams(r)),[r]),d=l.get("next");let c=!1;l.get("hardRefresh")&&(c=!0);const u=i.useCallback((()=>{var t;if(d&&"/signin"!==d){if(c&&"undefined"!=typeof window)return void(window.location.href=d);o(d,s)}else{const a=(null==(t=e.state)?void 0:t.pathname)||"/";s===$Ke.TEAMS&&ov("Clicked Create a Team",{Email:n.user.email}),o(a??"/",s,{upgradeTo:l.get("upgrade-to")})}}),[d,c,o,s,e.state,l,n.user.email]);i.useEffect((()=>{qm(n)&&(bde(),u())}),[n,u]);const p="Sign In or Sign Up  Kapwing",m="Kapwing works better if you sign in. Sign in to access your projects, save content to your workspace, preview beta features, and much more.";return qm(n)?f.jsx(ibe,{}):f.jsxs(f.Fragment,{children:[f.jsx(dnt,{}),f.jsxs(Nt,{children:[f.jsx("title",{children:p}),f.jsx("meta",{name:"description",content:m}),f.jsx("meta",{name:"keywords",content:"sign in, login, signup, sign in to Kapwing"}),f.jsx("meta",{property:"og:title",content:p}),f.jsx("meta",{property:"og:description",content:m})]}),f.jsxs("div",{className:Ant,children:[f.jsx("div",{className:knt,children:f.jsxs("div",{className:Tnt,children:[t?f.jsx("div",{className:Kae,children:"Sign in with SSO"}):f.jsx("div",{className:Kae,children:"Sign in to continue "}),t?f.jsx("div",{className:Xae,children:"Sign in with your company provided credentials to access all of the benefits of your Enterprise team workspace."}):f.jsx("div",{className:Xae,children:"Kapwing works better when youre signed in. Sign in to save content to a workspace, share with others, and more."}),d?f.jsx(zae,{ssoSignIn:t,setSSOSignIn:a,onSuccess:u,immediateRedirectPathname:e.pathname+e.search,forceNavigationTo:d,hardRefresh:c}):f.jsx(zae,{ssoSignIn:t,setSSOSignIn:a,onSuccess:u,immediateRedirectPathname:e.pathname+e.search,hardRefresh:c})]})}),f.jsx("div",{className:Ent,children:f.jsx("img",{src:"https://cdn-useast1.kapwing.com/static/7ne-sign-in-illustration.webp",className:Lnt,alt:"Benefits to signing in to Kapwing"})})]}),f.jsx(Int,{})]})})),Nnt=b.memo((()=>{const e=Bu(),t=F();return zne((()=>{!async function(){const a=new URLSearchParams(t.search||"").get("code");if(!a)return e(db({description:"Missing TikTok authorization code.",type:"error"})),window.opener.reportMissingAuthorizationCode(),void window.close();const{access_token:n,refresh_token:s,expires_in:o,scope:i}=await Xf("/api/v1/tiktok/loginWithOAuth",{body:{code:a}}),r={accessToken:n,refreshToken:s,expires:Date.now()+1e3*o,scopes:i.split(",")};window.opener.setTiktokToken(r),window.close()}()})),f.jsx(ibe,{})})),Mnt="RemoveWatermark-module_upsellBlock_ceDb0",Pnt="RemoveWatermark-module_override_qdlRb",Fnt=b.memo((({snapshotId:e,afterExport:t=(()=>{})})=>{const a=F(),n=P(),s=Du((e=>e.userPermissions.canWrite)),{currentVideo:o,currentUser:l}=Du((e=>({currentUser:e.currentUser,currentVideo:e.currentVideo})),r.shallowEqual),d=o.teamId?pg(o.teamId):void 0,u=null==d?void 0:d.hasPermission(Fd.EXPORT_ALL_WITHOUT_WATERMARK),p=null==d?void 0:d.hasPermission(Fd.EXPORT_30_SEC_WITHOUT_WATERMARK),[m,g]=i.useState(!1),h=i.useCallback((async()=>{if(!o._id)throw new Error("Video must have an id");g(!0);const a=await Q1({video_id:o._id,snapshot_id:e,migrateToVersion:"0.18"});if(!a.content)throw new Error(`Snapshot ${a._id} missing content`);const s=a.content;try{const e=s.duration||0;if(BXe(s,e,"videoBuild"))await WXe(l,s,e,!1,"videoBuild"),await EK(s._id,{done:!0,draft:!1,watermark:!1}),t();else{const e=await async function(e,t=""){const{dispatch:a,state:n}=Mu(),{currentUser:s,workspaces:o}=n,{token:i,user:r}=s||{},{_id:l}=r||{},{selectedWorkspace:d}=o||{};if(c.isEmpty(e)){const e=new Error("No video found. Please try again later.");return Promise.reject(e)}const{_id:u,...p}=e;d&&Object.assign(p,{workspaceId:d}),Object.assign(p,{done:!1,finishedAt:void 0,fullPath:void 0,local_url:void 0,image_url:void 0,processedOnClient:void 0,blob_name:void 0,thumbnail_blob_name:void 0,lastSeen:new Date,paymentOption:t,progressText:"Loading ... Removing watermark ...",submittedAt:new Date,watermark:!1});const m=await Xf("/api/v1/videos",{body:{publish:!0,token:i,userId:l,video:p}});return a(V6(m)),m}(s);n(`/videos/${e._id}`)}}catch(i){cb({description:"Failed to remove watermark",error:i}),g(!1)}}),[o._id,n,t,l,e]);i.useEffect((()=>{const e=new URLSearchParams(a.search);qm(l)&&p&&"true"===e.get(G1.REMOVE_WATERMARK)&&!m&&h()}),[l,a.search,h,m,p]);const v=i.useMemo((()=>f.jsx(Mve,{onClick:h,overrideColor:"lightBlue",children:"Re-export without a watermark"})),[h]),b=i.useMemo((()=>({imgSrc:"https://cdn-useast1.kapwing.com/static/ouU-img_upsell_remove_watermark.webp",imgAlt:`Welcome to Kapwing ${null==d?void 0:d.name}, re-export to remove the watermark from your projects.`})),[null==d?void 0:d.name]),y=(o.duration||0)<30;return s&&d&&o.watermark?u||y&&p?f.jsx(zOe,{heading:"Re-export to remove the watermark",body:`Welcome to Kapwing ${null==d?void 0:d.name}, re-export to remove the Kapwing watermark`,button:v,className:`${Mnt} ${Pnt}`,img:b,testId:"remove-watermark-upsell-block"}):f.jsx("div",{className:Mnt,children:f.jsx(qOe,{action:y?Dd.REMOVE_30_SEC_WATERMARK:Dd.REMOVE_WATERMARK,onPaywallSuccess:h,testId:"remove-watermark-upsell-block"})}):null}));var Dnt=(e=>(e.DOWNLOAD="download",e))(Dnt||{});const Ont="VideoProgress-module_proBadge_jN7zu",Unt="VideoProgress-module_videoProgressWrapper_GTnRk",Bnt="VideoProgress-module_videoProgressContainer_X3a3y",Wnt="VideoProgress-module_videoProgressBg_-MJ-b",Vnt="VideoProgress-module_videoBgThumbnail_Hp8Ew",Hnt="VideoProgress-module_progressOverlay_tBGRV",znt="VideoProgress-module_topProcessingText_9-Rd2",Gnt="VideoProgress-module_bottomProcessingText_wD7-n",Ynt="VideoProgress-module_processingTextLine_bUOW7",Knt="VideoProgress-module_processingLink_BMT96",Xnt="VideoProgress-module_processingTextHeader_tjIj3",Znt="VideoProgress-module_progressContainer_Vcts9",qnt="VideoProgress-module_progressPercentage_BIg2c",Jnt="VideoProgress-module_progressBarWrapper_xjpMP",$nt="VideoProgress-module_checkmark_82wje",Qnt="VideoProgress-module_progressBar_YFmSI",est="VideoProgress-module_errorIcon_qDwg8",tst="VideoProgress-module_videoErrorContainer_rBQ-c",ast="VideoProgress-module_videoErrorTop_-XClp",nst="VideoProgress-module_videoErrorBottom_olsP2",sst="VideoProgress-module_videoErrorContainerRight_Qj-fZ",ost="VideoProgress-module_videoErrorHeader_Odaym",ist="VideoProgress-module_videoErrorDescription_kMfdw",rst="VideoProgress-module_errorButtonContainer_l2LPA",lst="VideoProgress-module_studioBackButton_LY8Nj",dst="VideoProgress-module_reportProblemButton_5EEKS",cst="VideoProgress-module_progressInfo_n3B-m",ust=e=>{const{progressDict:t}=e,{stageNum:a,numStages:n,stagePercentage:s,stageName:o}=t,i=a/n*100-100/n+s/100*(100/n);return f.jsx("div",{className:Jnt,children:f.jsxs(f.Fragment,{children:[f.jsx("div",{className:qnt,style:{marginLeft:"clamp(2%, 3%, 87%)",width:`clamp(2%, ${i}%, 95%)`,minWidth:220},children:f.jsxs("div",{className:cst,children:[f.jsxs("div",{children:["Stage ",f.jsx("span",{children:a||1})," of"," ",f.jsx("span",{children:n||1}),": ",f.jsx("span",{children:o||""})]}),f.jsxs("div",{children:[f.jsx("span",{translate:"no",children:Math.min(99,Math.ceil(s)||51)}),"% complete"]})]})}),f.jsx("div",{className:Znt,id:"progress-container",children:f.jsx("div",{className:Qnt,style:{display:"block",width:`${i}%`,height:"100%"}})})]})})},pst={maxWidth:550,fontSize:"large"},mst={maxWidth:"250px"},gst=vC((({exportDTO:e,currentVideo:t,currentUser:a,currentFolderId:n,thumbnailUrl:s,onFirstProgressLoad:o,onFinishedVideo:r,match:l})=>{var d;const c=Bu(),[u,p]=i.useState(void 0),[m,g]=i.useState(!1),[h,v]=i.useState(!1),b=i.useRef(!1),y=cg(),w=gg(Fd.FAST_EXPORT),_=["Loading ...","Initializing servers ...","Setting up connection ...","Getting your export ready ...","Reaching server ...","Checking settings ...","mp3"===t.videoType?"Arranging bits ... ":"Lining up pixels ..."],[C,S]=i.useState(0),x=_[C]||"Loading ...",I=tY((e=>{t._id===l.params.id&&t.clientSideProcessingInProgress&&(e.preventDefault(),e.returnValue="Are you sure you want to leave the page? Your current progress will be lost.")})),A=i.useCallback((async()=>{try{await e9({id:t._id,preserveId:!0}),r()}catch(e){if(e&&"object"==typeof e&&"statusCode"in e&&"number"==typeof e.statusCode&&[403,404,410].includes(e.statusCode)){const{message:t}=ub(e);c(db({description:t,type:"error"}))}}}),[t._id,c,r]),k=i.useCallback((e=>{var a,n,s;if(!e.hasError)return!1;if(e.explainedErrorKind===Dnt.DOWNLOAD){if(null==(n=null==(a=e.explainedErrorParams)?void 0:a.layer_ids)?void 0:n.length){const a=kq((null==(s=t.allLayers)?void 0:s.byId)||{},e.explainedErrorParams.layer_ids);if(a.length)return k2(a,!1),!0}return!1}return!1}),[null==(d=t.allLayers)?void 0:d.byId]);i.useEffect((()=>{(async()=>{if(b.current){S((e=>e+1));try{if(e.status===uu.COMPLETED)p({stageNum:5,numStages:5,stagePercentage:100,stageName:"Upload"}),await A();else if(e.status===uu.FAILED){const t={hasError:!!e.error,explainedErrorKind:e.explainedErrorKind,explainedErrorParams:e.explainedErrorParams};if(k(t))return r(),void g(!0);if(t.hasError)r(),v(!0)}else p(e.progressDict)}catch(t){console.error(t)}}})()}),[e,A,o,r,k]);const T=Y1(u);i.useEffect((()=>{!T&&u&&o()}),[u,o,T]),i.useEffect((function(){return b.current=!0,window.addEventListener("beforeunload",I),()=>{window.removeEventListener("beforeunload",I),b.current=!1}}),[t.local_url,I]);return f.jsx("div",{className:Unt,children:f.jsxs("div",{className:Bnt,"data-cy":"video-progress-container",children:[f.jsx("div",{className:Wnt,children:s&&f.jsx("img",{className:Vnt,src:s,alt:"Project thumbnail"})}),f.jsxs("div",{className:Hnt,children:[f.jsxs("div",{className:znt,children:[!qm(a)&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:Xnt,children:"Just a minute..."}),f.jsx("div",{className:Ynt,children:"Your content is being exported and will appear here automatically when complete."})]}),y.type===Id.Pro&&f.jsx("div",{className:Ont,children:"PRO"}),w&&f.jsxs("div",{className:Ynt,children:[f.jsx(dn,{className:$nt}),"Fast processing"]}),!t.watermark&&f.jsxs("div",{className:Ynt,children:[f.jsx(dn,{className:$nt}),"Watermark-free"]})]}),(()=>{if(t.clientSideProcessingInProgress)return f.jsx(Ile,{text:"Hang tight.",secondaryText:"Please don't refresh or close this tab.",textStyles:pst,wrapperStyles:mst});if(m||h){const e=m?"Looks like there's an invalid layer.":"Oops, an error occurred with your video.",a=m?" There was an issue fully downloading one of your provided media files. Go back to Studio to remove the layer and try re-exporting.":"";return f.jsxs("div",{className:tst,children:[f.jsxs("div",{className:ast,children:[f.jsx("div",{children:f.jsx(cs,{className:est})}),f.jsxs("div",{className:sst,children:[f.jsx("div",{className:ost,children:e}),f.jsx("div",{className:ist,children:a})]})]}),f.jsxs("div",{className:nst,children:[f.jsx("a",{href:"https://www.kapwing.com/help/export-troubleshooting-tips/",target:"_blank",rel:"noopener noreferrer",children:f.jsx("div",{className:rst,children:f.jsx("div",{className:dst,children:"Video Troubleshooting"})})}),m&&f.jsx("div",{className:rst,children:f.jsx(mn,{to:`/editor/videos/${t._id}`,children:f.jsx("div",{className:lst,children:"Back to Studio"})})})]})]})}return u?f.jsx(ust,{progressDict:u}):f.jsx(Ile,{textStyles:pst,text:x})})(),f.jsx("div",{className:Gnt,children:qm(a)&&n&&!t.clientSideProcessingInProgress?f.jsxs("div",{className:Ynt,children:["This content will be saved to your"," ",f.jsx(mn,{className:Knt,to:`/folder/${n}`,children:"Workspace"}),"."]}):f.jsxs("div",{className:Ynt,children:["Want to learn more about editing on Kapwing? Check out the Kapwing"," ",f.jsx("a",{className:Knt,href:"https://www.youtube.com/channel/UCR5GrKMeaZJxPKVMdEgKIKA?sub_confirmation=1",target:"blank",rel:"noopener noreferrer",children:"YouTube Channel"})," ",f.jsx(ds,{})]})})]})]})})})),hst="VideoPageButton-module_actionButton_KI3o8",vst="VideoPageButton-module_actionButtonText_DvgYK",fst=b.memo((({label:e,icon:t,onClick:a,disabled:n,dataCy:s})=>f.jsxs("button",{type:"button",className:hst,onClick:a,disabled:n,"data-cy":s,children:[f.jsx("span",{children:t}),f.jsx("span",{className:vst,children:e})]}))),bst=f.jsx(Dn,{}),yst=b.memo((({onDownload:e,downloadUrl:t,downloadOptions:a,entryPoint:n,disabled:s=!1})=>{const o=Bu(),{currentUser:r,currentVideo:l}=Du((e=>({currentUser:e.currentUser,currentVideo:e.currentVideo})),Ou),d=i.useCallback((s=>{if(!qm(r))return s.preventDefault(),void o({type:"SHOW_SIGN_IN"});const i=t||rS(l,"fullPath");i?(F7e({url:i,options:a}),u5(qm(r),n),e&&e()):pb({description:"There was an error with your download",sentryMessage:"DownloadButton: url not found"})}),[a,r,l,o,t,n,e]);return f.jsx(fst,{label:"Download file",icon:bst,dataCy:"download-final-video-button",onClick:d,disabled:s})})),wst=f.jsx(us,{}),_st=f.jsx(ps,{}),Cst=b.memo((({isEditDisabled:e,videoId:t,setReEditOrigin:a,commentingView:n})=>{const s=P(),o=i.useCallback((()=>{a&&a(),s(`/${t}/studio/editor`)}),[s,a,t]);return f.jsx(fst,{label:"Edit this project",icon:n?wst:_st,dataCy:"edit-video-button",disabled:e,onClick:o})})),Sst=(e,t)=>{if(!e||!t)return null;const a=null==e?void 0:e.find((e=>e._id===t));return(null==a?void 0:a.parentId)||(null==a?void 0:a._id)},xst=e=>{if(!e||c.isEmpty(e))return null;const t=[{label:"Format",value:e.format||""}];return"MP4"!==e.format&&"GIF"!==e.format||!e.quality||t.push({label:"Quality",value:e.quality}),"MP3"!==e.format&&e.resolution&&t.push({label:"Resolution",value:e.resolution}),e.filesize&&t.push({label:"File Size",value:e.filesize}),t},Ist=e=>{e.preventDefault();const t=e.clipboardData.getData("text/plain");if(window.getSelection){const e=window.getSelection();if((null==e?void 0:e.getRangeAt)&&e.rangeCount){const a=e.getRangeAt(0);a.deleteContents(),a.insertNode(document.createTextNode(t)),a.collapse(!1)}}},Ast=async e=>{const{dispatch:t}=Mu(),a=await kst(e);a&&t(gG(a))};async function kst(e){let t,a=[];try{for(;;){const n={pageSize:500};t&&(n.lastId=t);const s=await Kf(`/api/v1/videos/${e}/comments`,{params:n});if(!(null==s?void 0:s.length))break;if(t=s[s.length-1]._id,a=[...s,...a],s.length<500)break}}catch(b9e){const t=b9e instanceof Error?b9e.message:"";console.error(`Error while fetching comments: ${t}`)}return a}const Tst=e=>{var t;return!!(null==(t=e.comments.comments)?void 0:t.length)},Est=e=>e.user?null:{name:"Anonymous User"},Lst={workspacePopoverZIndex:"18",popoverZIndex:"14",paywallZIndex:"1001",paywallBgZIndex:"1000",home:"VideoContainer-module_home_O-ifL",homeHowBackgroundWhite:"VideoContainer-module_homeHowBackgroundWhite_immZc",largeButton:"VideoContainer-module_largeButton_UUNm4",sectionContent:"VideoContainer-module_sectionContent_elt9a",sectionHeader:"VideoContainer-module_sectionHeader_nnqNy",spacer:"VideoContainer-module_spacer_P3LSx",chevron:"VideoContainer-module_chevron_yA7ze",splashText:"VideoContainer-module_splashText_PdQN0",splashSubtext:"VideoContainer-module_splashSubtext_ki9Om",aboutSection:"VideoContainer-module_aboutSection_-bTDR",mobile:"VideoContainer-module_mobile_yl-yZ",desktop:"VideoContainer-module_desktop_QYo3P",screenReaderOnlyLabel:"VideoContainer-module_screenReaderOnlyLabel_Z2Tn-",disabled:"VideoContainer-module_disabled_pnYG1",disabledWithPointerEvents:"VideoContainer-module_disabledWithPointerEvents_lOjIF",noScrollBar:"VideoContainer-module_noScrollBar_52hSP",textOverflowEllipsis:"VideoContainer-module_textOverflowEllipsis_e-9O-",disableTextHighlight:"VideoContainer-module_disableTextHighlight_ci5My",genericButtonBlue:"VideoContainer-module_genericButtonBlue_vAO2i",wrapper:"VideoContainer-module_wrapper_xM-AU",mobileCommentsWrapper:"VideoContainer-module_mobileCommentsWrapper_jKvLD",container:"VideoContainer-module_container_bEaIu",mobileCommentsContainer:"VideoContainer-module_mobileCommentsContainer_ran79",header:"VideoContainer-module_header_vILvj",metaDataContainer:"VideoContainer-module_metaDataContainer_9y704",metaDataRow:"VideoContainer-module_metaDataRow_1iw-r",metaDataLabel:"VideoContainer-module_metaDataLabel_gD8Gc",metaDataDescription:"VideoContainer-module_metaDataDescription_SPFZN",actions:"VideoContainer-module_actions_awSn5",videoActionButtonWrapper:"VideoContainer-module_videoActionButtonWrapper_oCWgM",actionButton:"VideoContainer-module_actionButton_KrQoD",videoActionButton:"VideoContainer-module_videoActionButton_i3HxB",actionIcon:"VideoContainer-module_actionIcon_EGg0Q",description:"VideoContainer-module_description_Di-1t",reportAProblemButton:"VideoContainer-module_reportAProblemButton_x3Hu0",openInStudio:"VideoContainer-module_openInStudio_QkpyM",upsellBlock:"VideoContainer-module_upsellBlock_guXXy",buttonWrapper:"VideoContainer-module_buttonWrapper_ivS5F",overlay:"VideoContainer-module_overlay_oZM9q",overlayBackground:"VideoContainer-module_overlayBackground_Paz8s",finalVideoContainer:"VideoContainer-module_finalVideoContainer_8fJON",finalVideoPreviewContainer:"VideoContainer-module_finalVideoPreviewContainer_JKBTq",socialDescription:"VideoContainer-module_socialDescription_1MiAB",youtubeChannelLink:"VideoContainer-module_youtubeChannelLink_CdsFC",viewAndOptionsContainer:"VideoContainer-module_viewAndOptionsContainer_drdmy",loadingWrapper:"VideoContainer-module_loadingWrapper_ZMax6",finalVideoVideoContainer:"VideoContainer-module_finalVideoVideoContainer_YvnHU",commentsFinalVideoContainer:"VideoContainer-module_commentsFinalVideoContainer_h-gP5",topEditButtonContainer:"VideoContainer-module_topEditButtonContainer_es40u",privacyAndSocialWrapper:"VideoContainer-module_privacyAndSocialWrapper_ntUy3",topEditLeft:"VideoContainer-module_topEditLeft_OE5jP",topEditRight:"VideoContainer-module_topEditRight_lCBCm",commentsMetaDataIconContainer:"VideoContainer-module_commentsMetaDataIconContainer_qbXNB",commentsMetaDataFileSize:"VideoContainer-module_commentsMetaDataFileSize_6KG5K",commentsMetaDataIcon:"VideoContainer-module_commentsMetaDataIcon_223aJ",commentsMetaDataContainer:"VideoContainer-module_commentsMetaDataContainer_8a6hu",topTooltip:"VideoContainer-module_topTooltip_D3LCs",commentsContainerWrapper:"VideoContainer-module_commentsContainerWrapper_mB6z2",commentsSharingWrapper:"VideoContainer-module_commentsSharingWrapper_T19dU",videoContainerContent:"VideoContainer-module_videoContainerContent_8rzQB",commentingVideoContainerContent:"VideoContainer-module_commentingVideoContainerContent_9Equp",adminSectionWrapper:"VideoContainer-module_adminSectionWrapper_vMxO9",emailMessageContainer:"VideoContainer-module_emailMessageContainer_-RULf",emailMessageDiv:"VideoContainer-module_emailMessageDiv_mOlQx",watermarkUpsell:"VideoContainer-module_watermarkUpsell_nwLbl",blackBackground:"VideoContainer-module_blackBackground_5u19D",tabsHolder:"VideoContainer-module_tabsHolder_Y6Uca",tab:"VideoContainer-module_tab_odt9G"},jst="OptionsContainer-module_wrapper_Rx2lD",Rst="OptionsContainer-module_mobileCommentsWrapper_pSx1q",Nst="OptionsContainer-module_container_1jJfZ",Mst="OptionsContainer-module_mobileCommentsContainer_dQUXy",Pst="OptionsContainer-module_metaDataContainer_L2yai",Fst="OptionsContainer-module_metaDataRow_-GG5g",Dst="OptionsContainer-module_metaDataLabel_31eut",Ost="OptionsContainer-module_metaDataDescription_7Ti8H",Ust="OptionsContainer-module_actionButton_S1XhB",Bst="OptionsContainer-module_actionIcon_AnULd",Wst="OptionsContainer-module_description_ymU4c",Vst="OptionsContainer-module_reportAProblemButton_Wrk3P",Hst="OptionsContainer-module_upsellBlock_Lhkg9",zst="OptionsContainer-module_buttonWrapper_04xLE",Gst=b.memo((({metadata:e,tooltipPosition:t="bottom"})=>{const[a,n]=i.useState(!1),s=xst(e),o=i.useCallback((()=>{n(!1)}),[]),r=i.useCallback((()=>{n(!0)}),[]);return f.jsxs("div",{className:Lst.commentsMetaDataIconContainer,children:[f.jsx("div",{className:Lst.commentsMetaDataFileSize,children:(null==e?void 0:e.filesize)||""}),f.jsx(ms,{className:Lst.commentsMetaDataIcon,onMouseEnter:r,onMouseLeave:o}),a&&s&&f.jsx("div",{className:`${Lst.commentsMetaDataContainer} ${"top"===t&&Lst.topTooltip}`,children:s.map((({label:e,value:t})=>f.jsxs("div",{className:Fst,children:[f.jsx("div",{className:Dst,children:`${e}:`}),f.jsx("div",{className:Ost,children:t})]},e)))})]})})),Yst=f.jsx(gs,{}),Kst=b.memo((()=>{const e=P(),t=Bu(),{origin:a,editorPath:n}=Du((e=>({origin:e.currentVideo.origin,editorPath:e.currentVideo.editorPath})),Ou),s=i.useCallback((()=>a?["","edit-in-studio","re-edit"].includes(a)?n:"video-maker"===a?"/video-maker":"memeMaker"===a?"/meme-maker":n:n),[n,a]),o=i.useCallback((()=>{t({type:"RESET_STUDIO"}),ov("Start New Project from Final Video")}),[t]),r=i.useCallback((()=>{o();const t=s()||"/";e(t)}),[s,e,o]);return f.jsx(fst,{label:"Start a new project",icon:Yst,dataCy:"start-new-project",onClick:r})})),Xst=i.createContext({userInTeam:!1,team:{},exportDTO:{},refetch:async()=>{},isLoading:!0}),Zst=b.memo((({downloadName:e})=>{const t=P(),{exportDTO:a}=i.useContext(Xst),{currentVideo:n,currentUser:s,currentFolderId:o}=Du((e=>({currentVideo:e.currentVideo,currentUser:e.currentUser,currentFolderId:e.workspaces.selectedWorkspace})),Ou),[r,l]=i.useState(!1),d=Jm(),u=UZe(),p=f.jsx(vs,{}),m=f.jsx(hs,{}),g=i.useCallback((async()=>{if(!a)return;if(!a.snapshotId)throw new Error(`Snapshot ID missing in job ${a.id}`);if(!n.projectId)throw new Error(`Project ID missing in current video ${n._id}`);const{copiedProject:e,destinationFolder:s}=await u(a.snapshotId,n.projectId,{entryPoint:s2.FINAL_VIDEO_PAGE,name:a.name});e&&s&&t(`/${e.videoId}/studio/editor`)}),[u,t,a,n._id,n.projectId]),h=i.useCallback((()=>{t("/")}),[t]),v=()=>f.jsx(fst,{label:"Make a copy",icon:p,dataCy:"copy-and-edit-button",onClick:g}),b=i.useCallback((t=>{const a=e||t.name;if(t.status===uu.COMPLETED&&a&&t.format)return{name:a,format:t.format}}),[e]),y=()=>{l(!1)},w=()=>{l(!0)};let _=null;return _=(null==a?void 0:a.status)===uu.COMPLETED?f.jsx(xye,{exportDTO:a}):a?f.jsx(gst,{exportDTO:a,currentUser:s,currentVideo:n,currentFolderId:o,thumbnailUrl:a.thumbnailUrl,showReportIssueModal:w,hideReportIssueModal:y,onFirstProgressLoad:c.noop,onFinishedVideo:c.noop}):f.jsx(iye,{}),f.jsxs("div",{className:rye,children:[f.jsxs("div",{className:mye,children:[a&&(e=>f.jsxs("div",{className:cye,children:[f.jsxs("div",{className:uye,children:[d&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:dye,children:f.jsx(Cst,{videoId:e.videoId,commentingView:!0})}),f.jsx("div",{className:dye,children:v()})]}),f.jsx(Kst,{})]}),e.status===uu.COMPLETED&&f.jsxs("div",{className:pye,children:[f.jsx("div",{className:dye,children:f.jsx(Gst,{metadata:{filesize:e.filesize,quality:e.quality,format:e.format,resolution:e.width&&e.height?`${e.width}x${e.height}`:void 0}})}),f.jsx(yst,{downloadUrl:e.downloadUrl,downloadOptions:b(e),entryPoint:n2.SNAPSHOT_PAGE})]})]}))(a),f.jsxs("div",{className:gye,children:[f.jsx("div",{className:hye,children:_}),r&&f.jsx(Lat,{hide:y,videoId:n._id,fromVideoProgress:!0})]}),f.jsx("div",{className:`${bye} ${Cye}`,children:f.jsxs("div",{className:yye,children:["Tag ",f.jsx("strong",{children:"#kapwing"})," so we can find you on social media!"," "]})})]}),f.jsxs("div",{className:wye,children:[a&&(e=>f.jsxs("div",{className:lye,children:[!!d&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:dye,children:f.jsx(Cst,{videoId:e.videoId})}),f.jsx("div",{className:dye,children:v()})]}),e.status===uu.COMPLETED&&f.jsx("div",{className:dye,children:f.jsx(yst,{inRightSidebar:!0,downloadUrl:e.downloadUrl,downloadOptions:b(e),entryPoint:n2.SNAPSHOT_PAGE})}),f.jsx("div",{className:dye,children:f.jsx(Kst,{})}),f.jsx("div",{className:dye,children:f.jsx(fst,{label:"Return to workspace",icon:m,onClick:h})})]}))(a),(null==a?void 0:a.snapshotId)&&f.jsx(Fnt,{snapshotId:a.snapshotId}),f.jsx("div",{className:`${Sye} ${_ye}`,children:f.jsxs("div",{className:yye,children:["Tag ",f.jsx("strong",{children:"#kapwing"})," so we can find you on social media!"]})})]})]})})),qst="KapwingInput-module_inputText_XrPlE",Jst="KapwingInput-module_text_0BY2B",$st="KapwingInput-module_editPencil_91beS",Qst="KapwingInput-module_inputEl_W4orm",eot="KapwingInput-module_tooltipName_wriR3",tot=b.memo((({onEdit:e,onSave:t,value:a,showPencil:n,showTooltip:s})=>{const[o,r]=i.useState(!1),[l,d]=i.useState(a);i.useEffect((()=>{d(a)}),[a]);const c=async()=>{const e=l.trim();r(!1),e&&e.length&&e!==a?t(e):d(a)};return o?f.jsx("input",{onKeyUp:e=>{"Enter"===e.key&&c()},className:Qst,value:l,onChange:e=>d(e.target.value),onBlur:c,autoFocus:!0}):f.jsxs(Yi,{delayDuration:0,children:[f.jsx(Ji,{asChild:!0,children:f.jsxs("div",{className:qst,onClick:()=>{e&&e(),r(!0)},children:[f.jsx("span",{className:Jst,children:l}),n&&f.jsx("div",{className:$st,children:f.jsx(fs,{})})]})}),s&&f.jsx(Xi,{children:f.jsx(Zi,{children:f.jsx("div",{className:eot,children:l})})})]})})),aot="FinalVideoHeader-module_wrapper_K5Cpf",not="FinalVideoHeader-module_brand_On072",sot="FinalVideoHeader-module_kapwing_kOvBF",oot="FinalVideoHeader-module_displayedProjectName_JWb-H",iot="FinalVideoHeader-module_projectName_L28lL",rot="FinalVideoHeader-module_headerContainer_W69yp",lot="FinalVideoHeader-module_requestToEditButton_V8jEP",dot=({onChangeName:e})=>{const{exportDTO:t,userInTeam:a,refetch:n}=i.useContext(Xst),[s,o]=i.useState(null==t?void 0:t.name),r=!a;i.useEffect((function(){(null==t?void 0:t.name)&&o(t.name)}),[null==t?void 0:t.name]);const l=i.useCallback((async e=>{t&&(await Xf(`/api/v1/exports/${t.id}/rename`,{body:{name:e}}),null==n||n(),o(e))}),[n,t]);return i.useEffect((()=>{e(s||"Untitled Export")}),[e,s]),f.jsxs("div",{className:aot,children:[f.jsxs("div",{className:not,children:[f.jsx(uqe,{}),f.jsx(mn,{className:sot,to:"/",children:"KAPWING"})]}),f.jsx("div",{className:aot,children:f.jsxs("div",{className:iot,children:[t&&n?f.jsx("div",{className:oot,children:a?f.jsx(tot,{value:s||"Untitled Export",onSave:l}):f.jsx("span",{children:s||"Untitled Export"})}):f.jsx(iye,{}),r&&t&&f.jsx(yXe,{})]})}),f.jsx("div",{className:rot,children:f.jsx(dqe,{})})]})},cot=()=>{const{exportId:e=""}=D(),{exportData:t}=(e=>{const t=Bu(),a=P(),{data:n,refetch:s,isLoading:o,error:r}=Lye(e),[l,d]=i.useState({isLoading:!0});return i.useEffect((()=>{(null==n?void 0:n.exportDTO.id)&&ov("Access Export Page",{"Export ID":null==n?void 0:n.exportDTO.id,"Is Team Member":null==n?void 0:n.userInTeam})}),[null==n?void 0:n.exportDTO.id,null==n?void 0:n.userInTeam]),i.useEffect((function(){if((!n||!n.exportDTO)&&r){if(r.includes("Aborted"))return void s();cb({error:r,description:"Unable to load export"}),a("/")}(null==n?void 0:n.exportDTO)&&n.team&&(d({...n,refetch:s,isLoading:o}),t(fb(n.team._id)))}),[n,s,o,r,a,t]),{data:n,exportData:l}})(e),{exportDTO:a,refetch:n}=t,s=a&&a.status!==uu.RUNNING,o=Du((e=>e.config.FACEBOOK_APP_ID)),[r,l]=i.useState(void 0);i.useEffect((()=>{if(s||!n)return;const e=setInterval(n,5e3);return()=>clearInterval(e)}),[s,n]);return f.jsxs(Xst.Provider,{value:t,children:[(()=>{const e=`${r||"Export"} - Kapwing`,t=`${r||"Export"} made on Kapwing`;return f.jsxs(Nt,{children:[f.jsx("title",{children:e}),f.jsx("meta",{name:"description",content:t}),f.jsx("meta",{property:"fb:app_id",content:o}),f.jsx("meta",{property:"og:description",content:t}),f.jsx("meta",{property:"og:title",content:r||"Export"}),f.jsx("meta",{property:"og:url",content:`${window.location.href}`}),f.jsx("meta",{name:"robots",content:"noindex, nofollow"})]})})(),f.jsx(dot,{onChangeName:l}),f.jsx(Zst,{downloadName:r}),f.jsx(Int,{})]})},uot=b.memo(vC((({onDelete:e,onHide:t})=>{const[a,n]=i.useState(!1),s=Fbe("export",{extraText:"You will not be able to edit or download this export after it has been deleted."}),o=i.useCallback((()=>{t(),yA()}),[t]),r=i.useCallback((async()=>{n(!0),e(),n(!1),o()}),[o,e]);return f.jsx(rC,{unsetCancelModal:o,usePortal:!0,children:f.jsxs("div",{className:Ybe,children:[f.jsx("div",{className:Kbe,children:"Delete Export?"}),f.jsx("div",{className:Xbe,children:s}),f.jsx(U_,{cancelFn:o,confirmFn:r,confirmText:"Delete",cancelText:"Cancel",loadingMsg:a?"Deleting...":void 0,confirmButtonClassName:`${Zbe} ${qbe}`})]})})}))),pot="Snapshots-module_actionButton_n5fYC",mot="Snapshots-module_actionIcon_DeEnV",got="Snapshots-module_actions_8GjZb",hot="Snapshots-module_background_a5UVh",vot="Snapshots-module_snapshotTile_6HcIX",fot="Snapshots-module_mediaContainer_nKRvU",bot=b.memo(vC((({match:e,snapshot:t,navigate:a,showDelete:n,projectId:s})=>{var o;const i=UZe(),r=e.params.id,l=rS(t,"fullPath"),d={maxWidth:300,maxHeight:300},c=String(t.created_on)||"unknown",u=Object.keys((null==(o=t.content)?void 0:o.allLayers.byId)||{}).length??0,p=1===u?"layer":"layers";return f.jsxs("div",{className:vot,children:[f.jsx("div",{className:fot,children:(()=>{var e,a;if(null==(a=null==(e=t.content)?void 0:e.fullPath)?void 0:a.endsWith("mp4"))return f.jsx("video",{src:l,style:d,controls:!0,playsInline:!0,preload:"auto"});const{image_url:n}=t.content||{image_url:""};return n?f.jsx("img",{src:n,style:d,alt:""}):f.jsx(bs,{size:300})})()}),f.jsxs("div",{className:got,children:[f.jsxs("div",{children:["Snapshot Type: ",t.snapshot_type]}),f.jsxs("div",{children:["Version Number: ",t.version_number]}),f.jsxs("div",{children:["Exported: ",t.export.toString()]}),"Created on ",c,f.jsxs("div",{children:[u," ",p]}),f.jsx("div",{onClick:async()=>{const{copiedProject:e}=await i(t._id,s,{entryPoint:s2.ADMIN_DEBUG_PAGE});e&&a(`/${e.videoId}/studio/editor`)},children:f.jsxs("button",{type:"button",className:pot,children:[f.jsx(vs,{className:mot}),"Fork"]})}),f.jsx("div",{onClick:async()=>{a(`/videos/${r}/snapshots/${t.id}/debug`)},children:f.jsxs("button",{type:"button",className:pot,children:[f.jsx(vs,{className:mot}),"View Debug Page"]})}),f.jsx("div",{onClick:()=>n(t.id),children:f.jsxs("button",{type:"button",className:pot,children:[f.jsx(vs,{className:mot}),"Delete"]})})]})]})}))),yot=b.memo(vC((e=>{var t,a;const{match:n}=e,s=n.params.id,[o,r]=i.useState(!0),[l,d]=i.useState(null),[c,u]=i.useState([]),[p,m]=i.useState(""),[g,h]=i.useState(!1),v=e=>{m(e),h(!0)},b=i.useCallback((()=>{m(""),h(!1)}),[]),y=i.useCallback((async()=>{await async function(e,t){try{return await Yf(`/api/v1/snapshots/${e}/${t}`)}catch(b9e){throw console.error(b9e),b9e}}(s,p);const e=await $1(s);u(e.reverse()),b()}),[b,p,s]);i.useEffect((()=>{$1(s).then((e=>u(e.reverse()))).catch((e=>{console.error(e),d(e)})).finally((()=>r(!1)))}),[s]);const w=null==(a=null==(t=c.find((e=>{var t;return null==(t=e.content)?void 0:t.projectId})))?void 0:t.content)?void 0:a.projectId;return f.jsxs("div",{className:hot,children:[f.jsx("h1",{children:"Snapshots"}),o&&f.jsx("div",{children:"Loading snapshots..."}),!o&&0===c.length&&f.jsx("div",{children:"No snapshots found"}),l&&f.jsxs("div",{children:["Error: ",JSON.stringify(l)]}),c.map(((e,t)=>f.jsx(bot,{projectId:w,snapshot:e,showDelete:v},t))),g&&f.jsx(uot,{onDelete:y,onHide:b})]})}))),wot="TeamInviteAccept-module_backgroundContainer_PEYIp",_ot="TeamInviteAccept-module_contentContainer_QWE9-",Cot="TeamInviteAccept-module_bodyContainer_KejMs",Sot="TeamInviteAccept-module_logoContainer_tltWZ",xot="TeamInviteAccept-module_logoHeader_fOU24",Iot="TeamInviteAccept-module_header_Cygqw",Aot="TeamInviteAccept-module_description_oTdll",kot="TeamInviteAccept-module_acceptButton_Sc8HI",Tot="TeamInviteAccept-module_acceptLoading_T8BDR",Eot=(e,t)=>{const a=t===aXe.EMAIL?`/api/v1/invites/teams/checkLink?inviteKey=${e}`:`/api/v1/team-invite-links/invite/${e}`,n=P(),s=Bu(),o=Du((e=>e.currentUser)),[r,l]=i.useState(null),[d,c]=i.useState(!0),[u,p]=i.useState(null),{isLoading:m,data:g,error:h}=Eye(a),[v,f]=i.useState(null);return i.useEffect((function(){(async()=>{try{if(h&&c(!1),m||qm(o)||c(!1),!g||m||!qm(o))return;const{inviterEmail:e,teamId:t,alreadyInTeam:a}=g;if(a)s(fb(t)),n("/home");else{const a=await function(e){return Kf(`/api/v2/teams/dto/${e}`,{params:{limited:!0}})}(t);p(a);const n=await async function(e){return(await Kf(`/api/v1/users/getUserByEmail?email=${e}`)).user}(e);l(n),s({type:"SET_SHARED_TEAM_OWNER_EMAIL",sharedTeamOwnerEmail:e}),s({type:"SET_SHARED_TEAM_ID",sharedTeamId:t}),c(!1)}}catch(e){f(e),c(!1)}})()}),[g,m,o,s,n,h]),{isFetching:m||d,inviteInfo:g,teamInfo:u,inviterInfo:r,error:h||v}},Lot=()=>{const{inviteKey:e,linkId:t}=D(),a=P(),n=F(),{search:s}=n,o="?redirect=from-joining",r=s===o,l=Du((e=>e.currentUser)),{onboarding:d}=l.user,[c,u]=i.useState(!1),{isFetching:p,inviteInfo:m,error:g}=Eot(e??t??"",e?aXe.EMAIL:aXe.LINK),{acceptingInvite:h,acceptInvite:v}=sXe(),{pushWithSource:b}=QKe(),y=i.useCallback((async()=>{!((null==d?void 0:d.survey)||(null==d?void 0:d.skipped))&&(await $K({skipped:!0}),await Qf()),b("/home",e?$Ke.EMAIL_INVITE:$Ke.INVITE_LINK)}),[e,null==d?void 0:d.skipped,null==d?void 0:d.survey,b]),w=i.useCallback((async()=>{if(qm(l)){const a=!((null==d?void 0:d.survey)||(null==d?void 0:d.skipped)),n={onSuccess:y,withoutToast:a};await v(e??t??"",e?nXe.EMAIL:nXe.LINK,n)}else u(!0)}),[v,l,y,e,t,d]);i.useEffect((function(){!r||p||h||(a({pathname:n.pathname,search:n.search.replace(o,"?")}),w())}),[h,w,a,p,r,n.pathname,n.search,s]),i.useEffect((function(){!p&&m&&((e,t,a,n)=>{const s=Vm(e.email,a),o={"Team ID":t,"Team Owner Email":a,"Team Collaborator Email":e.email||"Anonymous","Owner And Collaborator Domain Match":s,"Entry Point":n};amplitude.setUserId(e._id),sv({Email:e.email}),amplitude.logEvent("Team Invite Visited",o)})(l.user,m.teamId,m.inviterEmail,e?"Email Invite Link":"Copied Link")}),[l,m,e,p]);const _=i.useCallback((()=>{u(!1)}),[]),C=i.useCallback((()=>a(`${n.pathname}?redirect=from-joining`)),[a,n.pathname,o]),S=()=>f.jsx(ene,{hideSignIn:_,immediateRedirectPathname:`${n.pathname}?redirect=from-joining`,onSuccess:C});return p?f.jsx(ibe,{}):f.jsxs(f.Fragment,{children:[f.jsx(dnt,{}),f.jsx("div",{className:wot,children:f.jsx("div",{className:_ot,children:f.jsxs("div",{className:Cot,children:[f.jsx("div",{className:Sot,children:f.jsx("img",{alt:"Kapwing Logo",className:xot,src:"https://cdn-useast1.kapwing.com/static/9_y-transparent-logo.webp"})}),g?(()=>{const t=e?"invite":"invite link";return f.jsxs("div",{"data-testid":"invalid-invite",children:[f.jsxs("div",{className:Iot,children:["This ",t," is invalid"]}),f.jsxs("div",{className:Aot,children:["This ",t," seems to be broken. It's possible that the team has been moved or that you no longer have permission to access this workspace. Reach out to the team admin for a new ",t,"."]}),f.jsx(mn,{to:"/",children:f.jsx("div",{className:kot,"data-cy":"home-button",children:"Go Home"})})]})})():f.jsxs("div",{"data-testid":"valid-invite",children:[f.jsxs("div",{className:Iot,children:["You've been invited to join ",f.jsx("strong",{children:null==m?void 0:m.name})," on Kapwing"]}),f.jsx("div",{className:Aot,children:"Kapwing works better as a team. By joining this team workspace, you'll be able to create new content and view, edit, and delete existing content. You can also invite new members and collaborate on content together."}),f.jsx("div",{className:Aot,children:qm(l)?f.jsxs(f.Fragment,{children:["By continuing, you will join this workspace with the account"," ",f.jsx("b",{children:l.user.email}),"."]}):"By continuing, you will sign in and become a member of this workspace."}),h?f.jsx("div",{className:Tot,children:f.jsx(Ile,{})}):f.jsx("div",{className:kot,onClick:w,"data-testid":"join-button",children:"Join Team Workspace"}),c&&S()]})]})})}),f.jsx(Int,{})]})},jot="Toast-module_toast_hDang",Rot="Toast-module_iconContainer_boe8u",Not="Toast-module_icon_P5nfE",Mot="Toast-module_body_7C0Ac",Pot="Toast-module_header_-jxFN",Fot="Toast-module_description_0Y6RT",Dot="Toast-module_link_8MQ0W",Oot="Toast-module_success_e-0Ch",Uot="Toast-module_warning_Uk68Q",Bot="Toast-module_error_ivfWT",Wot="Toast-module_info_SG4pF",Vot="Toast-module_close_taJla",Hot={[QS.BROWSER_WARN]:()=>{Ev.set("BROWSER_COOLDOWN_DATE",(new Date).toString())}},zot=b.memo((({id:e,toast:t})=>{const a=Bu(),n=[jot],{description:s,bottomLink:o,open:r,type:l,callbackId:d,headerOverride:c}=t,u=i.useCallback((()=>{(e=>{e&&Hot[e]()})(d),a(rb(e)),setTimeout((()=>{a(lb(e))}),400)}),[d,a,e]),p=e=>e.onClick?f.jsx("span",{className:Dot,onClick:e.onClick,"data-testid":"toast__link",children:e.text}):f.jsx("a",{href:e.href,className:Dot,target:"_blank",rel:"noopener noreferrer","data-testid":"toast__link",children:e.text});let m,g,h;switch(l){case"success":n.push(Oot),m=ys,g=28,h="Success";break;case"warning":n.push(Uot),m=It,g=24,h="Warning";break;case"error":n.push(Bot),m=Sn,g=24,h="Error";break;case"info":n.push(Wot),m=Jt,g=24,h=""}c&&(h=c);const v=i.useCallback((e=>{e||u()}),[u]);return f.jsxs(cl,{open:r,className:n.join(" "),onOpenChange:v,duration:1e4,"data-cy":`${l}-toast`,children:[f.jsx("div",{className:Rot,children:f.jsx(m,{className:Not,size:g})}),f.jsxs("div",{className:Mot,children:[f.jsx(ul,{className:Pot,children:h}),f.jsxs(pl,{children:[f.jsx("div",{className:Fot,children:"string"==typeof s?f.jsx(f.Fragment,{children:s}):s.map(((e,t)=>"string"==typeof e?f.jsxs(b.Fragment,{children:[e," "]},t):f.jsxs(b.Fragment,{children:[p(e)," "]},t)))}),o&&p(o)]})]}),f.jsx(ml,{className:Vot,"data-cy":"toast-close","data-testid":"toast__close",children:f.jsx(aa,{size:16})})]})})),Got="Toasts-module_viewport_fzC3w",Yot=b.memo((()=>{const e=Du((e=>e.toasts));return N.createPortal(f.jsxs(f.Fragment,{children:[f.jsx(gl,{className:Got}),Object.entries(e).map((([e,t])=>f.jsx(zot,{id:e,toast:t},e)))]}),B_())})),Kot="VideoAdminActions-module_container_AdcEn",Xot="VideoAdminActions-module_commentingContainer_762ez",Zot="VideoAdminActions-module_header_EHATN",qot="VideoAdminActions-module_description_dFWA0",Jot="VideoAdminActions-module_actionButton_U-ZDF";const $ot=r.connect((e=>({currentVideo:e.currentVideo,currentUser:e.currentUser,name:e.studio.name})),(e=>j({setCurrentTemplate:C6},e))),Qot=b.memo($ot((({currentVideo:e,name:t="",setCurrentTemplate:a,commentingView:n=!1})=>{const s=P();return f.jsxs("div",{className:n?Xot:Kot,children:[f.jsx("div",{className:Zot,children:"Admin actions"}),f.jsx("div",{className:qot,children:"This section is visible only to admin accounts."}),f.jsxs("div",{className:Jot,onClick:()=>{const{_id:n}=e,o={title:t,description:t,slug:(i=t,i.toLowerCase().replace(/[^\w ]+/g,"").replace(/ +/g,"-")),video_id:n};var i;a(o);s("/admin/templates/new")},children:["Create template from this video ",f.jsx(as,{})]}),f.jsxs("div",{className:Jot,onClick:()=>{const t=`/videos/${e._id}/debug`;window.open(t)},children:["Visit debug page ",f.jsx(zn,{})]})]})})));var eit=(e=>(e[e.UpdateInvoiceDetails=0]="UpdateInvoiceDetails",e[e.UpdatePaymentMethod=1]="UpdatePaymentMethod",e))(eit||{});function tit(e){const[t,a]=i.useState(!1),n=lg(),s=i.useCallback((async()=>{a(!0);try{const t=await Xf("/api/v1/stripe/stripePortalSession",{body:{teamId:n._id,...0===e&&{canUpdateInvoiceDetails:!0,canChangePaymentMethod:!1}}});window.location.href=t.portalSessionUrl}catch(b9e){cb({description:"There was an error redirecting to the payment portal.",error:b9e}),a(!1)}}),[n._id,e]);return i.useMemo((()=>({isLoadingStripePortal:t,handlePortalLinkClick:s})),[s,t])}const ait="SubscriptionStateBlock-module_errorBlock_IQoXa",nit="SubscriptionStateBlock-module_errorBlockHeading_Cgog1",sit="SubscriptionStateBlock-module_errorButton_mp6nG",oit="SubscriptionStateBlock-module_reactivateBlock_HuhtH",iit="SubscriptionStateBlock-module_reactivateButton_5UBZp",rit="SubscriptionStateBlock-module_pastDueBody_xmVOy",lit=f.jsx(_se,{}),dit=f.jsxs("div",{className:rit,children:["Your current payment is ",f.jsx("strong",{children:"incomplete."})," Please update your payment details to avoid losing access to PRO."]}),cit=b.memo((({className:e=""})=>{const t=P(),a=lg(),{subscription:n}=Y3(),s=cg(),{isPastDue:o}=_c(n),{handlePortalLinkClick:r,isLoadingStripePortal:l}=tit(eit.UpdatePaymentMethod),d=i.useCallback((()=>{t(`/team/${a._id}/billing`)}),[a._id,t]),c=i.useMemo((()=>f.jsx(GIe,{className:iit,buttonText:"Visit Billing to Reactivate",onClick:d,icon:lit})),[d]),u=i.useMemo((()=>f.jsx(GIe,{className:sit,buttonText:l?"Redirecting to portal...":"Update payment details",disabled:l,onClick:r})),[r,l]);return n?Sc(n)?(()=>{const t=n?le(1e3*n.current_period_end).format("ddd, MMMM Do, YYYY"):"";return f.jsx(zOe,{className:`${oit} ${e}`,heading:`Your access to ${s.name} is ending`,body:`${t} is the last day youll have access to ${s.name} features including watermark-free projects ${s.hasPermission(Fd.HIGH_QUALITY)?" and HD video quality":""}. Reactivate to avoid losing access.`,button:c})})():o&&function(){var e;const{teams:t,currentUser:a}=Mu().state,{user:n}=a,s=n._id,{selectedTeamId:o}=t,i=Um(o),r=null==(e=null==i?void 0:i.users)?void 0:e.find((e=>e.userId===s));if(!r)return!1;const{role:l}=r;return!!l&&l===Ad.Admin}()?f.jsx(zOe,{className:`${ait} ${e}`,heading:"Payment incomplete",headingClassName:nit,body:dit,button:u,testId:"past-due-block"}):null:null})),uit=i.createContext({exportDTO:void 0,refetch:async()=>{}}),pit=b.memo((({onChangeName:e})=>{const[t,a]=i.useState(!0),{currentVideo:n,currentUser:s,canWrite:o}=Du((e=>({currentVideo:e.currentVideo,currentUser:e.currentUser,canWrite:e.userPermissions.canWrite})),Ou),{exportDTO:r,refetch:l}=i.useContext(uit),[d,c]=i.useState(null==r?void 0:r.name);i.useEffect((function(){(null==r?void 0:r.name)&&c(r.name)}),[null==r?void 0:r.name]),i.useEffect((()=>{let e=!0;return(async()=>{if(n.workspaceId){const t=await O3(n.workspaceId);e&&a(t===Zl.personal)}})(),()=>{e=!1}}),[n.workspaceId]);const u=n.creatorId&&o,p=r&&!u&&!t;i.useEffect((()=>{e(d||"Untitled Export")}),[e,d]);const m=i.useCallback((async e=>{if(!r)throw new Error("Unable to rename export.");await Xf(`/api/v1/exports/${r.id}/rename`,{body:{name:e}}),null==l||l(),c(e)}),[r,l,c]);return f.jsxs("div",{className:aot,children:[f.jsxs("div",{className:not,children:[f.jsx(uqe,{}),f.jsx(mn,{className:sot,to:"/",children:"KAPWING"})]}),f.jsx("div",{className:aot,children:f.jsxs("div",{className:iot,"data-cy":"displayed-project-name",children:[(null==r?void 0:r.status)===uu.FAILED?f.jsx("span",{children:n.name}):r?p?f.jsx("span",{children:d||n.name}):d?f.jsx(tot,{value:d,onSave:m}):f.jsx("span",{children:"Untitled Export"}):f.jsx(iye,{}),p&&f.jsx("div",{className:lot,children:f.jsx(yXe,{})})]})}),f.jsx("div",{children:f.jsx(dqe,{currentUser:s})})]})})),mit=b.memo((({name:e="",totalTime:t,condensed:a})=>{const n=vP(rY());return f.jsxs("div",{className:L(`${e}-preview-seeker-bounds`,{condensedBounds:a}),"data-cy":`${e}-preview-seeker-bounds`,children:[f.jsx("span",{children:n})," / ",t]})})),git="CommentMarker-module_commentMarker_4yvTw",hit="CommentMarker-module_commentorIcon_QVUoG",vit="CommentMarker-module_commentMarkerPointer_M9hEk",fit="CommentMarker-module_selectedComment_nbrNH",bit=(e,t)=>t?-15:5,yit=b.memo((({comment:e,customPxInSeconds:t,preview:a})=>{const n=Bu(),s=Bg(),{videoDuration:o,selectedCommentId:i}=Du((e=>({videoDuration:e.studio.duration,selectedCommentId:e.comments.selectedCommentId})),Ou),{convertSecondsToOffset:r}=S1e(!1,t);if(null===e.videoTime||e.videoTime>o)return null;const l=r(e.videoTime||0)-(a?0:11)+(a?(e=>e?75:85)(s):0),d=i===e._id;return f.jsxs("div",{className:`${git} ${d?fit:""}`,style:{left:l,top:bit(0,a)},id:e._id,onPointerDown:t=>{t.stopPropagation(),n(ck(null)),n(hG(e._id)),n(vG(!0))},onPointerUp:e=>e.stopPropagation(),"data-cy":"comment-marker",children:[f.jsx(xve,{user:e.user,absoluteHeight:22,absoluteWidth:22,className:hit,custom:Est(e)}),f.jsx("div",{className:vit})]})}));function wit(){return{type:"SET_SEEK_IN_PROGRESS"}}function _it(){return{type:"CLEAR_SEEK_IN_PROGRESS"}}const Cit="MobileTray-module_tray_S2AlV",Sit="MobileTray-module_close_0LYe3",xit=({onClose:e,children:t,className:a=""})=>{const n=i.useRef(null),s=Bg();return rBe(n,(()=>e())),s?f.jsx(hl,{asChild:!0,children:f.jsxs("div",{ref:n,className:`${Cit} ${a}`,children:[f.jsx(R,{className:Sit,onClick:e}),t]})}):null},Iit="Select-module_select_y8Bc8",Ait="Select-module_container_n9mo8",kit="Select-module_caret_HNVWZ",Tit="Select-module_tray_MuiGD",Eit=({className:e,...t})=>f.jsxs("div",{className:Ait,children:[f.jsx("select",{className:`${Iit} ${e}`,...t}),f.jsx("span",{className:kit})]});Eit.Option=e=>f.jsx("option",{...e});const Lit=({value:e,label:t,options:a,onChange:n})=>{const s=Bg(),[o,r]=i.useState(!1),l=i.useCallback((()=>r(!0)),[]),d=i.useCallback((()=>r(!1)),[]),c=i.useCallback((e=>{const t=a[e.currentTarget.selectedIndex];t&&n(t.value)}),[n,a]),u=i.useMemo((()=>a.reduce(((e,t)=>(e[t.label]=()=>n(t.value),e)),{})),[n,a]);return s?f.jsxs(f.Fragment,{children:[f.jsx(Wse,{type:"button",label:t,className:Iit,handleClick:l}),o&&f.jsx(xit,{onClose:d,className:Tit,children:a.map((t=>f.jsx(Wse,{type:"button",label:t.label,selected:Object.is(t.value,e),handleClick:u[t.label]},t.value)))})]}):f.jsx(Eit,{value:e,onChange:c,children:a.map((e=>f.jsx(Eit.Option,{value:e.value,children:e.label},e.value)))})},jit=[.5,1,1.5,2,3,4].map((e=>({value:e,label:`${e.toFixed(1)}x`}))),Rit=()=>{const e=Bu(),t=Du((e=>e.studioLocal.playbackRate)),a=i.useCallback((t=>{e(kj(t)),ov("Used playback speed control",{playbackRate:t})}),[e]);return f.jsx(Lit,{label:`${t}x`,value:t,options:jit,onChange:a})},Nit={workspacePopoverZIndex:"18",popoverZIndex:"14",paywallZIndex:"1001",paywallBgZIndex:"1000",home:"StudioTrackpad-module_home_31C-8",homeHowBackgroundWhite:"StudioTrackpad-module_homeHowBackgroundWhite_BmvLt",largeButton:"StudioTrackpad-module_largeButton_5BaZH",sectionContent:"StudioTrackpad-module_sectionContent_iiS5v",sectionHeader:"StudioTrackpad-module_sectionHeader_depGx",spacer:"StudioTrackpad-module_spacer_zey42",chevron:"StudioTrackpad-module_chevron_8hK-f",splashText:"StudioTrackpad-module_splashText_qYHmU",splashSubtext:"StudioTrackpad-module_splashSubtext_KAjd7",aboutSection:"StudioTrackpad-module_aboutSection_wuIY9",mobile:"StudioTrackpad-module_mobile_ntBO-",desktop:"StudioTrackpad-module_desktop_nVKo9",screenReaderOnlyLabel:"StudioTrackpad-module_screenReaderOnlyLabel_bviuY",disabled:"StudioTrackpad-module_disabled_ad8Sq",disabledWithPointerEvents:"StudioTrackpad-module_disabledWithPointerEvents_tgovT",noScrollBar:"StudioTrackpad-module_noScrollBar_tpOKE",textOverflowEllipsis:"StudioTrackpad-module_textOverflowEllipsis_WXTb7",disableTextHighlight:"StudioTrackpad-module_disableTextHighlight_9f39D",genericButtonBlue:"StudioTrackpad-module_genericButtonBlue_LgvpO",actionButton:"StudioTrackpad-module_actionButton_2eN2Z",scenesButton:"StudioTrackpad-module_scenesButton_F1zqv",zoomActionButton:"StudioTrackpad-module_zoomActionButton_y-m4z",undoButton:"StudioTrackpad-module_undoButton_f9fF0",splitButton:"StudioTrackpad-module_splitButton_MrOjJ",secondsButton:"StudioTrackpad-module_secondsButton_xMSSc",actionButtonSelected:"StudioTrackpad-module_actionButtonSelected_cYtm-",trackSelected:"StudioTrackpad-module_trackSelected_l-WEW",trackSelectedMaxLayer:"StudioTrackpad-module_trackSelectedMaxLayer_bx-Oq",wrapper:"StudioTrackpad-module_wrapper_pykSu",container:"StudioTrackpad-module_container_1evwf",innerContainer:"StudioTrackpad-module_innerContainer_005t1",tracks:"StudioTrackpad-module_tracks_ePRO4",timingContainer:"StudioTrackpad-module_timingContainer_Wfq9e",actionBar:"StudioTrackpad-module_actionBar_2FWom",trackpadBackground:"StudioTrackpad-module_trackpadBackground_Mjxlp",noVideoWrapper:"StudioTrackpad-module_noVideoWrapper_6U1Az",loading:"StudioTrackpad-module_loading_grvLc",playPauseButton:"StudioTrackpad-module_playPauseButton_cs8DW",splitText:"StudioTrackpad-module_splitText_kxgaZ",scenes:"StudioTrackpad-module_scenes_v--Dq",minimizeButton:"StudioTrackpad-module_minimizeButton_WuyTB",playPauseContainer:"StudioTrackpad-module_playPauseContainer_4HYSf",rightActionBar:"StudioTrackpad-module_rightActionBar_DXeI-",shadow:"StudioTrackpad-module_shadow_2s8NP",tallHoveredTimelineRow:"StudioTrackpad-module_tallHoveredTimelineRow_dsDhc",shortHoveredTimelineRow:"StudioTrackpad-module_shortHoveredTimelineRow_G6gZG",hoveredTimelineRow:"StudioTrackpad-module_hoveredTimelineRow_PQIjb",tallSelectedTimelineRow:"StudioTrackpad-module_tallSelectedTimelineRow_PLGMG",shortSelectedTimelineRow:"StudioTrackpad-module_shortSelectedTimelineRow_Dy8QU",selectedTimelineRow:"StudioTrackpad-module_selectedTimelineRow_Pn2CQ",tallShadowTrack:"StudioTrackpad-module_tallShadowTrack_-FlZR",shortShadowTrack:"StudioTrackpad-module_shortShadowTrack_fWJ9g",shadowTrack:"StudioTrackpad-module_shadowTrack_LpEVm",track:"StudioTrackpad-module_track_8MnwP",selected:"StudioTrackpad-module_selected_aqXi2",rowHighlight:"StudioTrackpad-module_rowHighlight_IHJ3p",rowInsertLine:"StudioTrackpad-module_rowInsertLine_rG4D0"},Mit=b.memo((({handleSplit:e,disabled:t=!1})=>{const a=rY(),n=Du((e=>A$(e,a).length>0));return f.jsxs("button",{type:"button",className:[Nit.splitButton].join(" "),disabled:t||!n,onPointerDown:e,"data-cy":"split-track-button",children:[f.jsx(ws,{}),f.jsx("span",{className:`${Nit.splitText} ${Nit.desktop}`,children:"Split"})]})})),Pit=({isRedo:e,className:t,iconClassName:a,name:n})=>{const s=e?_s:Cs,o=BU(),i=UU(),r=e?o:i;return f.jsxs("button",{type:"button",className:t,disabled:!r,onClick:()=>{e?A3e():I3e()},children:[f.jsx(s,{className:a}),f.jsx("div",{children:n})," "]})},Fit=b.memo((({isRedo:e})=>{let t;return t=T_.isMac()?e?f.jsxs(f.Fragment,{children:[f.jsx("span",{className:uh.keyboardShortcutWithOutline,children:f.jsx(In,{size:9})}),f.jsx("span",{className:uh.keyboardShortcutWithOutline,children:f.jsx(Ss,{size:9})}),f.jsx("span",{className:uh.keyboardShortcutWithOutline,children:"Z"})]}):f.jsxs(f.Fragment,{children:[f.jsx("span",{className:uh.keyboardShortcutWithOutline,children:f.jsx(Ss,{size:9})}),f.jsx("span",{className:uh.keyboardShortcutWithOutline,children:"Z"})]}):e?f.jsx(f.Fragment,{children:"Ctrl + Shift + Z"}):f.jsx(f.Fragment,{children:"Ctrl + Z"}),f.jsxs("span",{className:`${uh.tooltip} ${Nit.desktop}`,style:{marginLeft:"5px"},"data-cy":(e?"redo":"undo")+"-icon-btn",children:[f.jsxs("span",{className:uh.tooltipTextTop,"data-cy":(e?"redo":"undo")+"-icon-tooltip",children:[f.jsx("span",{children:e?"Redo":"Undo"}),f.jsx("span",{className:uh.keyboardShortcut,children:t})]}),f.jsx(Pit,{isRedo:e,className:Nit.undoButton,iconClassName:"",name:e?"Redo":"Undo"})]})})),Dit="TrackpadTime-module_timeLabel_YWyuP",Oit="TrackpadTime-module_manualInput_HiHhv";function Uit(){const e=Bg(),[t,a]=i.useState(""),n=i.useRef(null),s=Du((e=>e.studio.duration)),o=rY(),r=fP(Math.max(o,0),!0,{msPrecision:3}),l=fP(s,!0,{msPrecision:3}),d=i.useCallback((e=>{a(e.target.value)}),[a]),c=i.useCallback((()=>{var e;const n=(e=>{if(!e)return null;const t=/^(?:\d+h)?(?:\d+m)?(?:\d+s)?$/gi.test(e),a=/^\d*\.?\d*$/gi.test(e),n=/^(\d{1,2}:)?(\d{1,2}:)(\d{1,2})(\.\d*)?$/gi.test(e);if(!(t||a||n))return null;const s={h:0,m:0,s:0};if(a)s.s+=parseFloat(e);else if(t)e.toLowerCase().split(/(.*?[h|m|s])/gi).forEach((e=>{if(!e)return;const t=parseFloat(e),a=e[e.length-1];s[a]+=t}));else if(n){const t=e.split(":");if(2===t.length){const[e="0",a="0"]=t;s.m+=parseFloat(e),s.s+=parseFloat(a)}else{const[e="0",a="0",n="0"]=t;s.h+=parseFloat(e),s.m+=parseFloat(a),s.s+=parseFloat(n)}}return 60*s.h*60+60*s.m+s.s})(t);null!==n&&(KJ(Math.min(n,s)),null==(e=C3e())||e.scrollIntoView()),a("")}),[a,t,s]),u=i.useCallback((e=>{var t;"Enter"===e.key&&(c(),null==(t=n.current)||t.blur())}),[c,n]);return f.jsxs("div",{className:Dit,children:[f.jsx("input",{ref:n,value:t||r,disabled:e,type:"text",className:Oit,onBlur:c,onChange:d,onKeyPress:u,onFocus:GJ,"data-testid":"trackpad-time__input","data-cy":"trackpad-time__input"}),f.jsxs("span",{"data-testid":"trackpad-time__label-end","data-cy":"trackpad-time-label-end",children:["/ ",l]})]})}const Bit="TimelineButtons-module_disabled_x2uLB",Wit="TimelineButtons-module_icon_28T-C",Vit="TimelineButtons-module_iconSelected_y4ICA",Hit=b.memo((({disabled:e=!1})=>{const t=Bu(),{isRippleModeEnabled:a}=Du((e=>({isRippleModeEnabled:pK(e)})),Ou);return f.jsxs("div",{className:`${uh.tooltip} ${e?Bit:""}`,onPointerDown:function(){e||(a?t(cq(!1)):(t(cq(!0)),t(vz({usedRippleMode:!0}))))},style:{marginRight:"5px",marginTop:"4px",cursor:"pointer"},"data-cy":"ripple-mode-icon-btn",children:[f.jsx("span",{className:uh.tooltipTextTop,"data-cy":"ripple-mode-icon-tooltip",children:"Ripple Mode"}),a?f.jsx(xs,{className:Vit}):f.jsx(xs,{className:Wit})]})})),zit={workspacePopoverZIndex:"18",popoverZIndex:"14",paywallZIndex:"1001",paywallBgZIndex:"1000",home:"common-module_home_714BU",homeHowBackgroundWhite:"common-module_homeHowBackgroundWhite_AcVJD",largeButton:"common-module_largeButton_muUCP",sectionContent:"common-module_sectionContent_cyLOj",sectionHeader:"common-module_sectionHeader_-qy-r",spacer:"common-module_spacer_ek4qK",chevron:"common-module_chevron_K9x7k",splashText:"common-module_splashText_OSxIr",splashSubtext:"common-module_splashSubtext_Kk9hC",aboutSection:"common-module_aboutSection_-1aWm",mobile:"common-module_mobile_T0UhY",desktop:"common-module_desktop_XRMQ0",screenReaderOnlyLabel:"common-module_screenReaderOnlyLabel_5pjfs",disabled:"common-module_disabled_ZWlD-",disabledWithPointerEvents:"common-module_disabledWithPointerEvents_SUdMz",noScrollBar:"common-module_noScrollBar_H-l6N",textOverflowEllipsis:"common-module_textOverflowEllipsis_yJ3aA",disableTextHighlight:"common-module_disableTextHighlight_WzzA3",genericButtonBlue:"common-module_genericButtonBlue_dnKPa"},Git=e=>i.createElement("svg",{width:28,height:28,viewBox:"0 0 322 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},i.createElement("path",{d:"M294.237 85.75H191.637C184.554 85.75 178.812 92.1299 178.812 100V128.5C178.812 136.37 184.554 142.75 191.637 142.75H294.237C301.321 142.75 307.062 136.37 307.062 128.5V100C307.062 92.1299 301.321 85.75 294.237 85.75Z",fill:"current",stroke:"current",strokeWidth:28.5,strokeLinecap:"round",strokeLinejoin:"round"}),i.createElement("path",{d:"M130.362 85.75H27.7625C20.6794 85.75 14.9375 92.1299 14.9375 100V128.5C14.9375 136.37 20.6794 142.75 27.7625 142.75H130.362C137.446 142.75 143.188 136.37 143.188 128.5V100C143.188 92.1299 137.446 85.75 130.362 85.75Z",fill:"current",stroke:"current",strokeWidth:28.5,strokeLinecap:"round",strokeLinejoin:"round"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M228.782 28.9015C230.998 31.1176 230.976 34.7163 228.76 36.9326L209.684 56.0071C207.474 58.2168 203.887 58.1907 201.677 55.9808C199.465 53.769 199.441 50.1776 201.656 47.9685L220.755 28.9171C222.971 26.7058 226.568 26.6877 228.782 28.9015ZM161.029 0.385132C164.057 0.0503168 166.714 2.70685 166.714 5.7534V33.4496C166.714 36.5138 164.069 38.8919 161.005 38.8919C157.941 38.8919 155.296 36.5138 155.296 33.4497V5.77999C155.296 2.80126 157.552 0.387225 160.531 0.387793C160.742 0.387833 160.819 0.408338 161.029 0.385132ZM93.2472 28.9397C95.4622 26.7247 99.0519 26.714 101.269 28.9265L120.353 47.9667C122.577 50.1862 122.582 53.789 120.36 56.0111C118.141 58.2299 114.544 58.229 112.324 56.0121L93.2448 36.9674C91.0246 34.7512 91.0291 31.1579 93.2472 28.9397Z",fill:"current"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M228.782 202.368C230.998 200.152 230.976 196.553 228.76 194.337L209.684 175.262C207.474 173.053 203.887 173.079 201.677 175.289C199.465 177.501 199.441 181.092 201.656 183.301L220.755 202.352C222.971 204.564 226.568 204.582 228.782 202.368ZM161.029 230.884C164.057 231.219 166.714 228.563 166.714 225.516V197.82C166.714 194.756 164.069 192.378 161.005 192.378C157.941 192.378 155.296 194.756 155.296 197.82V225.49C155.296 228.468 157.552 230.882 160.531 230.882C160.742 230.882 160.819 230.861 161.029 230.884ZM93.2472 202.33C95.4622 204.545 99.0519 204.556 101.269 202.343L120.353 183.303C122.577 181.083 122.582 177.481 120.36 175.258C118.141 173.04 114.544 173.041 112.324 175.257L93.2448 194.302C91.0246 196.518 91.0291 200.112 93.2472 202.33Z",fill:"current"})),Yit=b.memo((({disabled:e=!1})=>{const t=Bu(),{isSnapInTimelineEnabled:a}=Du((e=>({isSnapInTimelineEnabled:cK(e)})),Ou);return f.jsxs("div",{className:`${uh.tooltip} ${e?zit.disabled:""}`,onPointerDown:function(){e||t(a?bz():fz())},style:{marginRight:"5px",marginTop:"4px",cursor:"pointer"},children:[f.jsx("span",{className:uh.tooltipTextTop,children:"Snap"}),f.jsx(Git,{fill:a?"#0083e2":"#e0e0e0"})]})})),Kit=b.memo((({onPressPlay:e,onPressPause:t,containerRef:a})=>{const{videoDuration:n,studioPaused:s,pxInSecond:o,isProjectFetched:r}=Du((e=>({studioPaused:VJ(e),videoDuration:S7(e),pxInSecond:mK(e),isProjectFetched:e.studioLocal.isProjectFetched})),Ou),l=Du((e=>e.userPermissions.canWrite)),{convertOffsetToSeconds:d}=S1e(),c=Bg(),u=Bu(),p=a.current,m=i.useCallback((()=>{L$()}),[]),g=i.useCallback((()=>{qme()}),[]),h=(()=>{if(!p)return 0;const e=p.clientWidth;return d(e-25)})();i.useEffect((()=>{o||g()}),[g,r,o]);const v=i.useCallback((e=>{u(Mh(e))}),[u]);return f.jsxs("div",{className:Nit.actionBar,children:[f.jsxs("div",{className:Nit.playPauseContainer,children:[f.jsxs("div",{className:`${c?"":uh.tooltip}`,onPointerDown:a=>{a.preventDefault(),a.stopPropagation();(s?e:t)(a)},style:{cursor:"pointer"},children:[f.jsxs("span",{className:uh.tooltipTextTop,style:{marginLeft:14},children:[f.jsx("span",{children:s?"Play":"Pause"}),f.jsx("span",{className:uh.keyboardShortcutWithOutline,children:"Space"})]}),f.jsx(fke,{portal:!0,id:cZ.TimlinePlayPauseButton,children:f.jsx("div",{"data-cy":"timeline-play-pause",className:Nit.playPauseButton,children:s?f.jsx(ka,{size:24}):f.jsx(Aa,{size:24})})})]}),f.jsx(Rit,{}),f.jsxs("div",{className:`${c?"":uh.tooltip}`,style:{marginLeft:5,cursor:"pointer",alignSelf:"center"},children:[f.jsxs("span",{className:uh.tooltipTextTop,children:["Split Layer",f.jsx("span",{className:uh.keyboardShortcutWithOutline,children:"S"})]}),f.jsx(Mit,{disabled:!l,handleSplit:m})]}),f.jsx(Fit,{}),f.jsx(Fit,{isRedo:!0})]}),f.jsx(Uit,{}),f.jsxs("div",{className:Nit.rightActionBar,children:[!c&&f.jsx(Yit,{disabled:!l}),!c&&f.jsx(Hit,{disabled:!l}),f.jsx(_h,{isMobile:c,pxInSecond:o,setPxInSecond:v}),f.jsxs("button",{"data-testid":"action-bar-fit-to-screen-button",type:"button",className:Nit.zoomActionButton,disabled:h===n,onPointerDown:g,children:[f.jsx("span",{className:Nit.desktop,children:"Fit to Screen"}),f.jsx("span",{className:Nit.mobile,children:f.jsx(Is,{})})]}),f.jsx("button",{className:Nit.minimizeButton,type:"button",onPointerDown:()=>{u(AC(!0))},"data-cy":"minimize-timeline-button",children:f.jsx(R,{size:28})})]})]})})),Xit="NoViableTransitionsOverlay-module_container_PIqr6",Zit="NoViableTransitionsOverlay-module_text_y0mp7",qit="NoViableTransitionsOverlay-module_image_nEJXG",Jit="StudioTrackpadContainerOverlay-module_overlay_r8Mdi",$it=e=>{const{children:t}=e;return f.jsx("div",{className:Jit,children:t})},Qit=u((e=>bK(e)),(e=>({canApplySingleTransitions:fK(e)}))),ert=()=>{const{canApplySingleTransitions:e}=Du(Qit,Ou),{isDragging:t,item:a}=Ct((e=>({isDragging:e.isDragging(),item:e.getItem(),sourceClientOffset:e.getSourceClientOffset(),clientOffset:e.getClientOffset()})));if(!t)return null;return a.type===$S.TRANSITION_TILE?e?null:f.jsx($it,{children:f.jsxs("div",{className:Xit,children:[f.jsx("div",{className:Zit,children:"No applicable areas found."}),f.jsx("div",{className:Zit,children:"Add a video or an image to your project in order to apply a single video transition."}),f.jsx("img",{alt:"Single video transition example",src:"https://cdn-useast1.kapwing.com/static/gRr-singleVideoTransitionExample.webp",className:qit})]})}):null};function trt({children:e,RadixMenu:t}){const a=Bu(),n=t===_r,{onContextMenuOpen:s,onContextMenuClose:o}=Bpe(),{isRippleModeEnabled:i}=Du((e=>({isRippleModeEnabled:pK(e)})),r.shallowEqual);return f.jsxs(t.Root,{onOpenChange:e=>{e&&a({type:"ADD_CONTEXT_MENU_ANALYTICS"}),n&&(e?s():o())},children:[f.jsx(t.Trigger,{asChild:!0,children:e}),f.jsx(t.Portal,{children:f.jsxs(t.Content,{className:Dpe.contextMenuContainer,children:[f.jsx(t.Item,{onSelect:e=>e.preventDefault(),children:f.jsx(vge,{disabled:!0})}),f.jsx(t.Item,{onSelect:e=>e.preventDefault(),children:f.jsx(uge,{disabled:!0})}),f.jsx(t.Item,{children:f.jsx(fge,{})}),f.jsx(t.Item,{children:f.jsx(lge,{})}),!i&&f.jsx(t.Item,{onSelect:e=>e.preventDefault(),children:f.jsx(cge,{disabled:!0})}),f.jsx(t.Separator,{asChild:!0,children:f.jsx(Fge,{})}),f.jsx(t.Item,{children:f.jsx(Ege,{})}),f.jsx(t.Item,{children:f.jsx(Lge,{})})]})})]})}function art({children:e}){return f.jsx(trt,{RadixMenu:_r,children:e})}function nrt({children:e,RadixMenu:t}){const[a,n]=i.useState(!1),s=t===_r,{onContextMenuOpen:o,onContextMenuClose:l}=Bpe(),{isRippleModeEnabled:d,disabled:c,shouldDisableContextMenu:u}=Du((e=>{const t=oU(e),a=e.isMobile&&t;return{isRippleModeEnabled:pK(e),disabled:a,shouldDisableContextMenu:R1e(e)}}),r.shallowEqual);return u?e:f.jsxs(t.Root,{onOpenChange:e=>{if(!c){if(n(e),e){const{dispatch:e}=Mu();e(ck(null)),e({type:"ADD_CONTEXT_MENU_ANALYTICS"})}s&&(e?o():l())}},open:a,children:[f.jsx(t.Trigger,{asChild:!0,children:e}),f.jsx(t.Portal,{children:f.jsxs(t.Content,{className:Dpe.contextMenuContainer,children:[f.jsx(t.Item,{onSelect:e=>e.preventDefault(),children:f.jsx(vge,{disabled:!0})}),f.jsx(t.Item,{onSelect:e=>e.preventDefault(),children:f.jsx(uge,{disabled:!0})}),f.jsx(t.Item,{children:f.jsx(fge,{})}),f.jsx(t.Item,{onSelect:e=>e.preventDefault(),children:f.jsx(lge,{disabled:!0})}),!d&&f.jsx(t.Item,{onSelect:e=>e.preventDefault(),children:f.jsx(cge,{disabled:!0})}),f.jsx(t.Separator,{asChild:!0,children:f.jsx(Fge,{})}),f.jsx(t.Item,{children:f.jsx(Ege,{})}),f.jsx(t.Item,{children:f.jsx(Lge,{})})]})})]})}function srt({children:e}){return f.jsx(nrt,{RadixMenu:_r,children:e})}const ort="AbsolutelyPositionedOverlay-module_dropZoneDottedLine_WIJuz",irt=b.memo((({isOver:e,topOffset:t=0})=>f.jsxs(f.Fragment,{children:[f.jsx("div",{className:ort,style:{width:"100%",top:`${t}px`,left:0}}),f.jsx("div",{className:ort,style:{width:"100%",bottom:0,left:0}}),f.jsx("div",{className:ort,style:{height:"100%",top:`${t}px`,left:0}}),f.jsx("div",{className:ort,style:{height:"100%",top:`${t}px`,right:0}}),f.jsx("div",{style:{background:e?"transparent":"rgba(0, 0 ,0 ,0.5)",height:"100%",left:0,pointerEvents:"none",position:"absolute",top:`${t}px`,transition:"background-color 0.3s ease",width:"100%",zIndex:100}})]}))),rrt="TimeLabels-module_container_UEEXs",lrt="TimeLabels-module_smartCutContainer_G61Kj",drt="TimeLabels-module_tick_dc7Ki",crt="TimeLabels-module_smartCutTick_zj0Ww",urt=({handlePointerMove:e,handlePointerDown:t,timelineContainerWidth:a,pxInSecond:n,timelineScrollLeft:s,previewTimeline:o,minTime:r,maxTime:l})=>{const{convertOffsetToSeconds:d,convertWidthToSeconds:c,convertSecondsToOffset:u}=S1e(o),p=i.useRef(null),m=s,g=m+a,h=Math.max(r||d(m-a),0);let v=d(g+a);l&&v>l&&(v=l);const b=c(a),y=(()=>{let e=1;return e=80*b/a,e>=2?Math.floor(e):e>=.75?1:e>=.35?.5:.2})(),w=n*y,_=[];for(let i=Math.floor(h);i<Math.ceil(v);i+=y){let e=i.toString();e.includes(".")&&(e=i.toFixed(1),e=e.replace(".0",""));let t=Number(e);const a=Math.floor(t/3600);t%=3600;const n=Math.floor(t/60),s=Math.floor(t%60),o=Math.round(10*(t-Math.floor(t)))/10,r=String(n).padStart(2,"0"),l=String(a).padStart(2,"0"),d=String(s).padStart(2,"0").substring(0,2),c=String(o).substring(2,3);let u=`:${s}`;Number(l)?u=`${a}:${r}:${d}`:Number(r)&&(u=`${n}:${d}`),o&&(u+=`.${c}`),_.push({label:u,sec:i})}return a<=0?null:f.jsx("div",{className:`${rrt} ${o?lrt:""}`,style:(()=>{let e={width:"100%",zIndex:ZY.TimeLabel};return o&&(e={...e,top:5,marginLeft:0}),e})(),ref:p,onPointerDown:t,onPointerMove:e,"data-cy":"time-labels-container",children:_.map(((e,t)=>f.jsx("div",{className:`${drt} ${o?crt:""}`,style:{position:"absolute",left:u(e.sec),width:w},children:e.label},t)))})};function prt({children:e,RadixMenu:t}){const a=t===_r,{onContextMenuOpen:n,onContextMenuClose:s}=Bpe(),o=Bu();return Du(R1e)?e:f.jsxs(t.Root,{onOpenChange:e=>{e&&o({type:"ADD_CONTEXT_MENU_ANALYTICS"}),a&&(e?n():s())},children:[f.jsx(t.Trigger,{asChild:!0,children:e}),f.jsx(t.Portal,{children:f.jsxs(t.Content,{className:Dpe.contextMenuContainer,children:[f.jsx(t.Item,{children:f.jsx(Ege,{})}),f.jsx(t.Item,{children:f.jsx(Lge,{})}),f.jsx(t.Item,{children:f.jsx(jge,{})})]})})]})}function mrt({children:e}){return f.jsx(prt,{RadixMenu:_r,children:e})}const grt=e=>i.createElement("svg",{width:12,height:10,viewBox:"0 0 12 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},i.createElement("path",{d:"M10.667 0.333984H1.33366C0.691992 0.333984 0.166992 0.858984 0.166992 1.50065V8.50065C0.166992 9.14232 0.691992 9.66732 1.33366 9.66732H10.667C11.3087 9.66732 11.8337 9.14232 11.8337 8.50065V1.50065C11.8337 0.858984 11.3087 0.333984 10.667 0.333984ZM1.33366 5.00065H3.66699V6.16732H1.33366V5.00065ZM7.16699 8.50065H1.33366V7.33398H7.16699V8.50065ZM10.667 8.50065H8.33366V7.33398H10.667V8.50065ZM10.667 6.16732H4.83366V5.00065H10.667V6.16732Z",fill:"white"})),hrt=e=>i.createElement("svg",{width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},i.createElement("path",{d:"M12.7944 6.66765C12.7967 7.54756 12.5911 8.41557 12.1944 9.20098C11.724 10.1421 11.0009 10.9338 10.1061 11.4872C9.21119 12.0406 8.17992 12.3339 7.12776 12.3343C6.24785 12.3366 5.37984 12.131 4.59443 11.7343L0.794434 13.001L2.0611 9.20098C1.66439 8.41557 1.45881 7.54756 1.4611 6.66765C1.46151 5.61549 1.75484 4.58422 2.30824 3.68936C2.86165 2.79449 3.65327 2.07137 4.59443 1.60099C5.37984 1.20428 6.24785 0.998701 7.12776 1.001H7.46109C8.85065 1.07766 10.1631 1.66417 11.1472 2.64823C12.1312 3.6323 12.7178 4.94476 12.7944 6.33432V6.66765Z",stroke:"white",strokeLinecap:"round",strokeLinejoin:"round"})),vrt="CommentRowLabel-module_commentRow_oWOcU",frt="CommentRowLabel-module_commentRowIcon_k26ua",brt=b.memo((()=>f.jsx("div",{className:vrt,children:f.jsx(hrt,{className:frt})}))),yrt="TimelineRows-module_timelineRowsContainer_5S32U",wrt="TimelineRows-module_timelineRow_2zA2K",_rt="TimelineRows-module_timelineRowText_sSXhk",Crt="TimelineRows-module_subtitleTimelineRowText_OkHjA",Srt="TimelineRows-module_timelineRowIcon_V2-MB",xrt={background:"rgb(48, 48, 48)",color:"rgb(255, 255, 255)"},Irt={background:"rgba(48, 48, 48, 0.5)"},Art=b.memo((({addSelectedTimelineRows:e,hoveredTimelineRow:t,onRowPointerDown:a,setSelectedTimelineRows:n,tracks:s,disabled:o=!1})=>{const{hasComments:r,hasMagicSubtitles:l,selectedItem:d,selectedTimelineRows:c}=Du((e=>({hasComments:Tst(e),hasMagicSubtitles:uO(e),selectedItem:oU(e),selectedTimelineRows:e.studio.selectedTimelineRows})),Ou),u=i.useMemo((()=>{const e={};s.every((t=>(e[t.timelineRow]=t,!0)));const a=Object.values(e).sort(((e,t)=>e.timelineRow-t.timelineRow)).map((e=>{const{timelinePosition:{height:a},timelineRow:n}=e,s=60===a,o=c.includes(n);return{height:a,hovered:t===n,isTall:s,key:`tr-${n}`,selected:o,timelineRow:n}}));let n=0;const o=(e,a)=>(n+=1,{height:30,hovered:t===e,isTall:!1,key:a||`empty-${n}`,selected:c.includes(e),timelineRow:e}),i=[];l&&i.push(o(-1,"magic-subtitles"));const r=[...i];if(a.length){const e=a[a.length-1].timelineRow;for(let t=0,n=0;t<=e;t+=1){a[n].timelineRow===t?(r.push(a[n]),n+=1):r.push(o(t))}}return r}),[s,l,c,t]),p=(e,t)=>-1===e?f.jsx("div",{className:Crt,"data-cy":"timeline-row",style:t,children:f.jsx(grt,{className:Srt})}):f.jsx("div",{className:_rt,"data-cy":"timeline-row",style:t,onPointerDown:t=>a(t,e),children:e+1});return f.jsxs("div",{className:yrt,style:{paddingTop:"30px",width:"25px",zIndex:ZY.TimelineRowColumn},children:[r&&f.jsx(brt,{}),u.map(((t,a)=>{const{height:s,hovered:i,isTall:r,key:l,selected:m,timelineRow:g}=t,h=((e,t,a)=>({height:t?"50px":"25px",...a&&xrt,...!a&&e&&Irt}))(i,r,m);return f.jsx(mrt,{children:f.jsx("div",{"data-testid":`studio-timeline-row-${a}`,className:wrt,onPointerDown:t=>((t,a)=>{if(!o)if(t.shiftKey)1===c.length?n(Bm(c[0],a)):n([a]);else if(t.metaKey)if(c.includes(a)){const e=[...c];e.splice(c.indexOf(a),1),n(e)}else e([a]);else n([a])})(t,g),onDoubleClick:e=>((e,t,a)=>{if(o)return;ov("Selected Entire Row",{source:"Double Click"});const n=u[a];if(n&&"magic-subtitles"===n.key)return void lue();let s=Gx(Mu().state).filter((e=>e.timelineRow===t)).map((e=>e.id));if((e.metaKey||e.shiftKey)&&"group"===(null==d?void 0:d.type)){const e=d.item.group;if(!e)return;const t=e.layers.map((e=>e.id));return s=s.filter((e=>!t.includes(e))),void a1(s,d.id,!0)}y1(s)})(e,g,a),style:{height:s},children:p(g,h)})},l)}))]})})),krt=u(mee,cee,(e=>e.studio.allLayers.byId),((e,t,a)=>pee(e,t,a))),Trt=u(krt,g8,w$,((e,t,a)=>function({selectedRanges:e,tracks:t,groupByLayerId:a}){const n=new Map(t.map((e=>[e.id,e]))),s=[];for(const o of e){if(o.deleted)continue;const e=n.get(o.startLayerId);if(!e)continue;const{group:t}=a[e.id]??{};if(t){const e=t.layers.map((e=>n.get(e.id))).filter(vA).filter((e=>{const{start:t,end:a}=bp(e);return FL(t,a,o.timelineRelativeStart,o.timelineRelativeEnd)})),{groupTopTimelinePosition:a,groupBottomTimelinePosition:i}=e.reduce(((e,t)=>({groupTopTimelinePosition:Math.min(e.groupTopTimelinePosition,t.timelinePosition.top),groupBottomTimelinePosition:Math.max(e.groupBottomTimelinePosition,t.timelinePosition.top+t.timelinePosition.height)})),{groupTopTimelinePosition:1/0,groupBottomTimelinePosition:-1/0});s.push({start:o.timelineRelativeStart,end:o.timelineRelativeEnd,top:a,height:i-a})}else s.push({start:o.timelineRelativeStart,end:o.timelineRelativeEnd,top:e.timelinePosition.top,height:e.timelinePosition.height})}return s}({selectedRanges:e,tracks:t,groupByLayerId:a})));const Ert=b.memo((()=>{const{convertSecondsToOffset:e,convertSecondsToWidth:t}=S1e(),a=Du(Trt).map((({start:a,end:n,height:s,top:o})=>({left:e(a),width:t(n-a),top:o,height:s})));return f.jsx(f.Fragment,{children:a.map(((e,t)=>f.jsx("div",{style:{zIndex:100,pointerEvents:"none",background:"rgba(24, 225, 214, 0.5)",position:"absolute",...e}},t)))})})),Lrt=(e,t=!1)=>{const{state:a}=Mu(),n=UO(a).filter((t=>t.frame.speakerId===e));if(0===n.length)return;const s=n.map((e=>({assetId:e.assetId,id:e.frame[Xc.id],containingLayerPlaybackRate:e.frame.containingLayerPlaybackRate,wordIsClippedList:e.frame.wordIsClippedList})));if(rue(s,e),t){const e=n[0];F$(e.startTime)}},jrt="MagicSubtitleTrack-module_magicSubtitleTrack_IuFsy",Rrt="MagicSubtitleTrack-module_previewText_McBaO",Nrt=()=>{};function Mrt({isTrimmable:e,onStartTrimmerPointerDown:t,onEndTrimmerPointerDown:a,track:n,trackIsBeingInteractedWith:s}){const o=Bg(),{fontFamily:r,fontWeight:l,timelinePosition:{width:d},text:c}=n,u=Math.min(Math.max(Math.floor(d/400),1),100),p=[],m=d>=(o?72:35)&&e,g={display:"flex",maxWidth:`calc(100% - ${m?40:10}px)`,width:"100%",justifyContent:"space-around"};for(let i=0;i<u;i+=1)p.push(f.jsx("div",{style:{fontFamily:r,fontSize:13,fontWeight:l},className:Rrt,children:c},`subtitle-track-${i}`));const h=i.useMemo((()=>({fontFamily:r})),[r]);return f.jsxs(C2e,{className:jrt,style:h,children:[m&&f.jsxs(f.Fragment,{children:[f.jsx(g3e,{doubleClickHandler:Nrt,hasMouseState:s,isTall:!1,onPointerDown:t,trackType:"subtitle",trimPreviewTrack:!1,type:"start",useCSSTransitions:!1}),f.jsx(g3e,{doubleClickHandler:Nrt,hasMouseState:s,isTall:!1,onPointerDown:a,trackType:"subtitle",trimPreviewTrack:!1,type:"end",useCSSTransitions:!1})]}),f.jsx("div",{style:g,children:p.map((e=>e))})]})}const Prt=b.memo((({isSelected:e,leftOffset:t,widthOffset:a,setMouseState:n,track:s,trackIsBeingInteractedWith:o,allSelected:r})=>{const l=Bu(),d=Bg(),u=(()=>{const e=s.timelinePosition.top,n=s.timelinePosition.height,{isTall:o}=s;return{left:s.timelinePosition.left+t,top:e,width:s.timelinePosition.width+a,height:n,isTall:o,cursor:"pointer"}})(),p=1===s.containedFrames.length,m=1===s.containedFrames.length||s.containedFrames.every((e=>"background-asset"===e.assetId)),g=i.useCallback((e=>{var t;const a=Pce(e),{state:n}=Mu(),o=(null==(t=n.projectSessionSettings.timelinePosition)?void 0:t.timelineScrollLeft)||0;F$(QY(n.projectSessionSettings.pxInSecond||1,a.x+o)),rue(s.containedFrames)}),[s]),h=i.useCallback((e=>{const t=e.shiftKey||e.metaKey,{state:a}=Mu(),{selectedItem:n}=a.studio;if(t&&"magicSubtitle"===(null==n?void 0:n.type)){let e=[...Object.values(n.frames)];s.containedFrames.forEach((t=>{e.some((e=>e.id===t.id))?e=e.filter((e=>!(e.id===t.id))):e.push(t)})),rue(e)}else("magicSubtitle"!==(null==n?void 0:n.type)||s.containedFrames.some((e=>!n.frames[e.id])))&&rue(s.containedFrames);l(m0({tabId:rK.subtitles,tabContainerId:"media-sidebar"}))}),[s.containedFrames,l]),{userToastCounts:v,disableIndividualPositionHint:b}=Du((e=>{var t;return{userToastCounts:(null==(t=e.currentUser.user.countedPopups)?void 0:t.individualPositionHint)||0,disableIndividualPositionHint:e.projectSessionSettings.disableIndividualPositionHint||!1}}),Ou),y=i.useCallback((()=>{b||v>=3||(l(db({type:"info",description:"Double click to select and move a single subtitle"})),Vb(Yc.individualPositionHint,v+1),l(Vh(!0)))}),[l,v,b]),w=i.useRef(0),_=i.useCallback((e=>{var t,a,o;e.stopPropagation();const i=Date.now()-w.current<300;if(w.current=Date.now(),y(),m){const{x:t,y:a}=Pce(e);n({initialPosition:{x:t,y:a},currentMousePosition:{x:t,y:a},dragType:JY.Drag,draggedTrack:s})}if(void 0!==s.startTime&&F$(s.startTime),i)return void g(e);const{state:r}=Mu(),u=iU();if(e.shiftKey){const e="magicSubtitle"===(null==u?void 0:u.type)?Object.values(u.frames):[],t=new Set(e.map((e=>e.id)));let a=[];if(s.containedFrames.every((e=>t.has(e.id)))){const t=s.containedFrames.map((e=>e.id));a=e.filter((e=>!t.includes(e.id)))}else a=[...e,...s.containedFrames];return void rue(c.uniqBy(a,(({id:e})=>e)))}if("magicSubtitle"===(null==u?void 0:u.type)){const{frames:e}=u;if(s.containedFrames.every((t=>!!e[t.id])))return}const p=s.containedFrames[0],h=p?nO(r,p.assetId,p.id):void 0,v=h?rO(h):void 0;v&&(null==(t=s.containedFrames)?void 0:t.every((e=>{const{id:t,assetId:a}=e,n=nO(r,a,t);return!!n&&rO(n)===v})))&&(null==(o=null==(a=r.studio.magicSubtitleSpeakers)?void 0:a.speakerConfigs[v])?void 0:o.style)?Lrt(v):lue(),d||(l(m0({tabId:rK.subtitles,tabContainerId:"media-sidebar"})),l(Nh(!0)))}),[y,m,s,l,d,n,g]),C=i.useCallback((e=>{if(e.stopPropagation(),p){const{x:t,y:a}=Pce(e);n({initialPosition:{x:t,y:a},currentMousePosition:{x:t,y:a},dragType:JY.TrimStart,draggedTrack:s})}h(e)}),[p,h,n,s]),S=i.useCallback((e=>{if(e.stopPropagation(),p){const{x:t,y:a}=Pce(e);n({initialPosition:{x:t,y:a},currentMousePosition:{x:t,y:a},dragType:JY.TrimEnd,draggedTrack:s})}h(e)}),[p,h,n,s]),x=Du((e=>{var t;return!!(null==(t=e.studio.magicSubtitlesGlobal)?void 0:t.isHidden)})),I=L(u3e.container,{[u3e.isHidden]:x}),A=i.useRef(0);return f.jsxs("div",{className:I,style:u,"data-cy":"track","data-testid":"track",onPointerDown:_,onTouchEnd:e=>{e.timeStamp-A.current<300&&d&&l(yj(Jj.MEDIA_CONTROLS)),A.current=e.timeStamp},children:[f.jsx(Mrt,{isTrimmable:p,onEndTrimmerPointerDown:S,onStartTrimmerPointerDown:C,track:s,trackIsBeingInteractedWith:o}),f.jsx("div",{className:L(u3e.shortBorder,u3e.magicSubtitleBorder,{[u3e.layerSelected]:e,[u3e.allMagicSelected]:r}),"data-cy":"track-border"}),x&&f.jsx(Pn,{className:u3e.hiddenTrackIcon})]})})),Frt=b.memo((()=>{const{convertSecondsToOffset:e,convertWidthToSeconds:t}=S1e(),{boxSelectedIds:a,selectedItem:n}=Du((e=>({boxSelectedIds:e.studioLocal.boxSelectedIds,selectedItem:oU(e)})),Ou),s=Du(b8),[o,r]=i.useState(null),l=i.useRef({left:0,width:0}),d=i.useMemo((()=>{const e=new Set;return Object.values(a).filter((e=>"magicSubtitle"===e.type)).map((e=>e.frames)).flat().forEach((t=>{e.add(t.id)})),"magicSubtitle"===(null==n?void 0:n.type)&&Object.keys(n.frames).forEach((t=>{e.add(t)})),e}),[a,n]),c=i.useMemo((()=>{const e=new Set;for(const t of s){t.containedFrames.some((e=>d.has(e.id)))&&e.add(t.id)}return e}),[d,s]),u=Du((e=>{var t;return"magicSubtitle"===(null==(t=e.studio.selectedItem)?void 0:t.type)&&!e.studio.selectedItem.isPartialSelection}));let p=0;o&&(p=o.currentMousePosition.x-o.initialPosition.x);const m=i.useMemo((()=>{const t=null==o?void 0:o.dragType,a=null==o?void 0:o.draggedTrack,n=new Map,i=new Map;if(!t)return{maxLeftOffsets:n,maxRightOffsets:i};for(let o=0;o<s.length;o++){const r=s[o];if(!r)continue;const l=s[o-1],d=s[o+1];if(t===JY.TrimStart||t===JY.TrimEnd){if((null==a?void 0:a.id)!==r.id)continue}else if(!c.has(r.id))continue;const u=e(0),p=r.timelinePosition.left,m=r.timelinePosition.width,g=p+m,h=[],v=[];if((t===JY.Drag||t===JY.TrimStart)&&(h.push({collidingTrackId:null,px:u-p}),l)){const e=l.timelinePosition.left+l.timelinePosition.width;e>p||h.push({collidingTrackId:l.id,px:e-p})}if((t===JY.Drag||t===JY.TrimEnd)&&d){const e=d.timelinePosition.left;e<g||v.push({collidingTrackId:d.id,px:e-g})}t===JY.TrimStart&&v.push({collidingTrackId:null,px:m-25}),t===JY.TrimEnd&&h.push({collidingTrackId:null,px:25-m}),n.set(r.id,h.reduce(((e,t)=>t.collidingTrackId&&c.has(t.collidingTrackId)?e:t.px>e?t.px:e),-1/0)),i.set(r.id,v.reduce(((e,t)=>t.collidingTrackId&&c.has(t.collidingTrackId)?e:t.px<e?t.px:e),1/0))}return{maxLeftOffsets:n,maxRightOffsets:i}}),[null==o?void 0:o.dragType,null==o?void 0:o.draggedTrack,s,c,e]),g=i.useMemo((()=>{if(!o)return{left:0,width:0};const{dragType:e}=o;let t=0;const a=Array.from(c.values()).map((e=>p>0?m.maxRightOffsets.get(e):m.maxLeftOffsets.get(e))).flat().filter(vA);return p<0&&(t=Math.max(p,...a)),p>0&&(t=Math.min(p,...a)),e===JY.Drag?{left:t,width:0}:e===JY.TrimStart?{left:t,width:-t}:e===JY.TrimEnd?{left:0,width:t}:{left:0,width:0}}),[m.maxLeftOffsets,m.maxRightOffsets,o,p,c]);return l.current=g,i.useEffect((function(){const e=null==o?void 0:o.dragType,a=null==o?void 0:o.draggedTrack;if(!e||!a)return()=>{};if("magicSubtitle"!==(null==n?void 0:n.type))return()=>{};const s=e=>{const{x:t,y:a}=Pce(e);r((e=>e?{...e,currentMousePosition:{x:t,y:a}}:null))},i=PU.withUndoBatch((()=>{const{state:s}=Mu(),o=e===JY.Drag?Object.values(n.frames):a.containedFrames,{left:i,width:d}=l.current;if(r(null),0===i&&0===d)return;if(e===JY.Drag&&o.every((e=>"background-asset"===e.assetId))){const e=t(i),a=[];for(const t of o){const n=nO(s,t.assetId,t.id);a.push({assetId:t.assetId,frameId:t.id,update:{[Xc.start]:n[Xc.start]+e,[Xc.end]:n[Xc.end]+e}})}Qce({type:"UPDATE_MAGIC_SUBTITLE_FRAMES",updates:a})}else for(const{assetId:n,containingLayerPlaybackRate:r,id:l,wordIsClippedList:c}of o){const o=tO(n,l)(s);if(!o)throw Error(`Missing frame ${l}`);const u=a.startTime??0,p=a.endTime??1;if(e===JY.TrimStart){const e=t(i);return void uue({assetId:n,beforeFrame:o,newTimeFrameRelative:(u-a.containedFramesStartOffset)*r+e*r,newTimeTimelineRelative:u+e,timeType:Xc.start,timelineRelativeStartClipped:u,timelineRelativeEndClipped:p,wordIsClippedList:c})}if(e===JY.TrimEnd){const e=t(d);return void uue({assetId:n,beforeFrame:o,newTimeFrameRelative:(p-a.containedFramesEndOffset)*r+e*r,newTimeTimelineRelative:p+e,timeType:Xc.end,timelineRelativeStartClipped:u,timelineRelativeEndClipped:p,wordIsClippedList:c})}const m=t(i),g=m*r,h=u+m,v=p+m;zce({assetId:n,timelineRelativeStartTime:h,timelineRelativeEndTime:h+.01})&&zce({assetId:n,timelineRelativeStartTime:v-.01,timelineRelativeEndTime:v})?Qce({type:"UPDATE_MAGIC_SUBTITLE_FRAME",assetId:n,update:{[Xc.start]:o[Xc.start]+g,[Xc.end]:o[Xc.end]+g,[Xc.words]:o[Xc.words].map((e=>{const t={...e};return Zc.start in t&&(t[Zc.start]+=g),Zc.end in t&&(t[Zc.end]+=g),t}))},frameId:l}):due({assetId:n,endTime:v,frameId:l,startTime:h,wordIsClippedList:c})}}));return window.addEventListener("pointermove",s),window.addEventListener("pointerup",i),()=>{window.removeEventListener("pointermove",s),window.removeEventListener("pointerup",i)}}),[t,null==o?void 0:o.dragType,null==o?void 0:o.draggedTrack,n]),f.jsx(f.Fragment,{children:s.map((e=>{const t=c.has(e.id);let a=!1;return o&&(a=o.dragType===JY.Drag?t:o.draggedTrack.id===e.id),f.jsx(Prt,{isSelected:t,allSelected:u,leftOffset:a?g.left:0,widthOffset:a?g.width:0,setMouseState:r,track:e,trackIsBeingInteractedWith:!!a},e.id)}))})}));Frt.displayName="MagicSubtitleTrackContainer";const Drt=b.memo((({shadowInfo:e,isVisible:t})=>{const{position:a}=e;return f.jsx("div",{className:u3e.shadow,style:(()=>{const{top:e,left:n,width:s,height:o}=a;return{transform:`translate(${n}px, ${e}px)`,width:s,height:o,opacity:t?1:0}})(),children:f.jsx("div",{className:u3e.shadowTrack,style:(()=>{const t=(e=>e?50:25)(e8(e.position.height));return{height:`${t}px`}})()})})})),Ort=b.memo((({shadowInfos:e})=>{const t=Object.values(e);return t.sort(a8),f.jsx(f.Fragment,{children:t.map((e=>f.jsx(Drt,{shadowInfo:e,isVisible:!0},e.id)))})})),Urt=({children:e,track:t,isDragging:a})=>{const n=Du((e=>((e,t,a,n=.25)=>{var s;if(a)return!0;const{timelineContainerWidth:o}=e.timelineStyles,i=(null==(s=e.projectSessionSettings.timelinePosition)?void 0:s.timelineScrollLeft)??0,r=mK(e);if(!r)return!0;const[l,d]=zC(t),c=eK(r,l);return eK(r,d)>i-n*o&&c<i+o+n*o})(e,t,a)));return n?e:null},{TrimStart:Brt,TrimEnd:Wrt,Drag:Vrt}=JY,Hrt=e=>{const t=Object.entries(e),a=t[0];if(!a)return null;let[n,s]=a,[o,i]=a;return t.forEach((([e,t])=>{const a=s.height+s.top,{left:r,top:l,height:d}=t;r<s.left&&(n=e,s=t),r===s.left&&l+d>a&&(n=e),r>i.left&&(o=e,i=t),r===i.left&&l+d>a&&(o=e)})),{leftMost:{id:n,position:{...e[n],left:s.left}},rightMost:{id:o,position:{...e[o],left:i.left}}}};function zrt({newDraggingPositions:e,snapOffsetsPx:t}){let a=null,n=null;for(const o of Object.values(e)){const{left:e,width:t}=o,s=e+t;(null===a||e<a)&&(a=e),(null===n||s>n)&&(n=s)}if(null===a||null===n)return null;let s=Number.MAX_SAFE_INTEGER;for(const o of t){const e=Math.abs(o-a),t=Math.abs(o-n);e<Math.abs(s)&&(s=o-a),t<Math.abs(s)&&(s=o-n)}return Math.abs(s)>=15?null:s}const Grt=new Map([["default",{x:0,y:0}]]),Yrt=()=>Mu().state.studioLocal.mouseState,Krt=b.memo((({tracks:e,timelineScrollLeft:t,timelineScrollTop:a,setManipulatedTrackPosition:n,handleDragMouseUp:s,shadowInfos:o,trackIdToReplace:r,setTrackIdToReplace:l,trackIsDragging:d,manipulatedTrackPosition:u,tooltipProps:p,containerOffsetX:m,containerOffsetY:g,setTooltipProps:h,mIGhostTrackShouldRender:v,checkForAutoScroll:b,handleTimelineScroll:y})=>{const{convertOffsetToSeconds:w,convertWidthToSeconds:_}=S1e(),C=Bu(),{isRippleModeEnabled:S,isSelectedItemAGroup:x,isSnapInTimelineEnabled:I,mIGhostTrack:A,mouseState:k,canWrite:T,useCSSTransitions:E,hasDraggedTracksOverrides:L}=Du((e=>{const t=oU(e);return{isRippleModeEnabled:pK(e),isSelectedItemAGroup:t&&"group"===t.type,isSnapInTimelineEnabled:cK(e),mIGhostTrack:v?e.studioLocal.mediaItemGhostTrack:null,mouseState:e.studioLocal.mouseState,canWrite:e.userPermissions.canWrite,useCSSTransitions:e.timelineStyles.useCSSTransitions,hasDraggedTracksOverrides:e.studioLocal.draggedTracksOverrides}}),Ou),j=i.useMemo((()=>{const t=new Map;return e.forEach((e=>{t.set(e.id,e)})),t}),[e]),R=Du((e=>A?[A]:f8(e)),Ou),[{item:N,offset:M}]=Mn((()=>({accept:[],collect:e=>({item:e.getItem(),offset:e.getClientOffset()})}))),P=i.useRef(N),F=null==k?void 0:k.selectedIds,D=i.useCallback((t=>{var a,n,s,o;const i={},r=null==k?void 0:k.type;for(const l of e){if(!F||!F.has(l.id))continue;const e={...l.originalTimelinePosition},d=(null==(a=t.get(l.id))?void 0:a.x)??(null==(n=t.get("default"))?void 0:n.x)??0,c=(null==(s=t.get(l.id))?void 0:s.y)??(null==(o=t.get("default"))?void 0:o.y)??0;switch(r){case JY.Drag:e.left+=d,e.top+=c;break;case JY.TrimStart:e.left+=d,e.width-=d;break;case JY.TrimEnd:e.width+=d}i[l.id]=e}return i}),[null==k?void 0:k.type,e,F]),O=i.useRef({x:0,y:0}),U=i.useRef(void 0),B=i.useRef(void 0),W=i.useRef(t),V=i.useRef(a),[H,z]=i.useState(!1),[G,Y]=i.useState(Grt),[K,X]=i.useState(""),Z=i.useMemo((()=>{const e={};return G.forEach(((t,a)=>{e[a]={[K]:t}})),e}),[G,K]),q=i.useCallback((e=>I!==e),[I]),{timelineScrollLeftStart:J,timelineScrollTopStart:$}=k||{},Q=void 0!==$?a-$:0,ee=void 0!==J?t-J:0,{ghostPosition:te,trackToReplace:ae}=i.useMemo((()=>{if(!M||!N||!A)return{ghostPosition:null,trackToReplace:void 0};const{timelinePosition:{height:e,width:t}}=A,a=A.isTall?-10:10,n=M.x-m+ee-20,s={top:M.y-g+Q+a-20,left:n,height:e,width:t},o=((e,t)=>{const a=t.find((t=>{if("ghost-track"===t.id)return!1;const a=((e,t)=>{const{top:a,left:n,width:s,height:o}=t,i=e.left+20,r=e.top+e.height/2;return a<=r&&a+o>=r&&n+10<=i&&n+s-10>=i})(e,t.originalTimelinePosition);return a}));return a})(s,g8(Mu().state)),i=null==k?void 0:k.snapOffsetsPx;if(o)s.width=o.timelinePosition.width;else if(q(H)&&i){const e=zrt({newDraggingPositions:{"ghost-track":s},snapOffsetsPx:i});e&&Math.abs(e)<15&&(s.left+=e)}return{ghostPosition:s,trackToReplace:o}}),[m,g,N,M,A,H,null==k?void 0:k.snapOffsetsPx,Q,ee,q]),ne=i.useMemo((()=>{const e=D(G);return te&&(e["ghost-track"]=te),e}),[D,G,te]),se=i.useRef(!1),oe=i.useRef(void 0);i.useEffect((function(){L||(n(null),oe.current=void 0,se.current=!1,X(""),Y(Grt))}),[C,L,n]);const ie=tY((function(e){const t=Yrt();if(!t||A)return void Bce();if(!Oce(e))return;const{type:a}=t;if(0!==R.length){if(a===Brt||a===Wrt)PU.execInUndoBatch((()=>{const e=Mu().state.studio.selectedItem;s(),e&&C(ck(e)),uv("Timeline"),x&&C(vz({usedGroupTrim:!0}))}));else if(a===Vrt&&se.current&&o){const e={};Object.entries(o).forEach((([t,a])=>{j.get(t)&&(e[t]=a.position)}));const t=Hrt(e);t&&F$(w(t.leftMost.position.left)),s(),x&&C(vz({usedGroupDrag:!0}))}Bce()}else Bce()})),re=i.useCallback((function(e){var t,a;const{mouseStartCoordinates:s,timelineScrollLeftStart:o,timelineScrollTopStart:i,selectedIds:r,snapOffsetsPx:l}=e;if(!s||void 0===o||void 0===i||!r||v)return;se.current=!0;const{state:u}=Mu(),p=((null==(t=u.projectSessionSettings.timelinePosition)?void 0:t.timelineScrollLeft)||0)-o,m=((null==(a=u.projectSessionSettings.timelinePosition)?void 0:a.timelineScrollTop)||0)-i,g=O.current;if(g.x===s.x&&g.y===s.y)return;let h=g.x-s.x+p;const f=g.y-s.y+m;if(Math.abs(h)<=1&&0===f||Math.abs(f)<=1&&0===h)return;const b=new Map([["default",{x:h,y:f}]]);let y=D(b);if(q(H)){const e=zrt({newDraggingPositions:y,snapOffsetsPx:l});e&&(h+=e,b.set("default",{x:h,y:f}),y=D(b))}Y(b);const S=Hrt(y);if(!S)return;n(S.leftMost.position);const x=w(S.leftMost.position.left);x!==oe.current&&(F$(x),oe.current=x);const I={};Object.entries(y).forEach((([e,t])=>{const a=j.get(e);if(!a)return;const n=_(t.left-a.originalTimelinePosition.left);I[e]={type:"drag",diff:n,leftMost:S.leftMost.position.left===t.left,position:t}}));const A=Mu().state.studioLocal.draggedTracksOverrides;c.isEqual(I,A)||C(tj(I)),d||C(Bj(!0))}),[v,D,q,H,n,w,d,j,_,C]),le=i.useCallback(((e,t)=>{const{left:a,width:n}=e;let s={px:-1,distance:Number.MAX_VALUE};for(const o of t){const e=Math.abs(o-a);e<s.distance&&(s={px:o,distance:e})}return s.distance<15?{newLeft:s.px,newWidth:n+(a-s.px)}:null}),[]),de=i.useCallback(((e,t)=>{const{left:a,width:n}=e,s=a+n;let o={px:-1,distance:Number.MAX_VALUE};for(const i of t){const e=Math.abs(i-s);e<o.distance&&(o={px:i,distance:e})}return o.distance<15?{newWidth:o.px-a}:null}),[]),ce=i.useCallback(((e,t,a)=>{const{top:n,left:s,width:o,height:i}=e;let r=s,l=o;const d=s+o,c=Yrt(),u=null==c?void 0:c.id;if(!u)return{newPosition:e,xOffset:0};let p=!1;const{snapOffsetsPx:m,minTrimLeftPx:g}=c;if(q(a))if(S){const t=de(e,m);t&&(l=t.newWidth,p=!0)}else{const t=le(e,m);t&&(r=t.newLeft,l=t.newWidth,p=!0)}r<g&&(r=g,l=o-(g-s)),l<25&&(l=25,r=d-25),u!==t.id||S||F$(w(r));return{newPosition:{top:n,left:r,width:l,height:i},xOffset:l-o,mouseTrackDidSnap:p}}),[q,S,de,le,w]),ue=i.useCallback(((e,t,a)=>{const{top:n,left:s,width:o,height:i}=e;let r=o;const l=Yrt(),d=null==l?void 0:l.id;if(!d)return{newPosition:e,xOffset:0};const{snapOffsetsPx:c,maxTrimRightPx:u}=l;if(q(a)){const t=de(e,c);t&&(r=t.newWidth)}s+r>u&&(r=u-s),r<25&&(r=25),d===t.id&&F$(w(r+s));return{newPosition:{top:n,left:s,width:r,height:i},xOffset:r-o}}),[q,de,w]),pe=i.useCallback(((e,t,a)=>{var n;const{mouseStartCoordinates:s,timelineScrollLeftStart:o,id:i}=a;if(!s||void 0===o)return;let r={},l=0;const d=new Map,c=e.originalTimelinePosition.left,{top:u,left:p,width:m,height:g}=e.originalTimelinePosition,h=O.current,{state:v}=Mu(),f=((null==(n=v.projectSessionSettings.timelinePosition)?void 0:n.timelineScrollLeft)||0)-o,b=e.originalTimelinePosition.left;if(h.x!==s.x||h.y!==s.y){let a,n=h.x-s.x+f;if(i!==e.id){const e=c>b&&c-b>15;c<b&&b-c>15?n=Math.max(l-(b-c),0):e&&(n=Math.min(l+(c-b),0))}if(S){a={top:u,left:p,width:m-n,height:g}}else{a={top:u,left:p+n,width:m-n,height:g}}const{xOffset:o}=ce(a,e,t),v=n-o;i===e.id&&(l=v);const y=l>0?l-Math.abs(c-b):l+Math.abs(c-b),w=Math.abs(y)<Math.abs(v)?y:v;d.set(e.id,{x:w,y:0});const C={[e.id]:{type:"trim-start",diff:_(w),leftMost:!0,position:e.timelinePosition}};r={...r,...C}}d.set("default",{x:l||0,y:0}),Y(d),X("start"),C(tj(r))}),[C,S,ce,_]),me=i.useCallback(((e,t,a)=>{var n,s;const{mouseStartCoordinates:o,timelineScrollLeftStart:i}=a;if(!o||void 0===i)return;let r={};const l=null==(n=Yrt())?void 0:n.id;let d=0;const c=new Map,u=e.originalTimelinePosition.left+e.originalTimelinePosition.width,{left:p,top:m,width:g,height:h}=e.originalTimelinePosition,v=O.current,{state:f}=Mu(),b=((null==(s=f.projectSessionSettings.timelinePosition)?void 0:s.timelineScrollLeft)||0)-i,y=e.originalTimelinePosition.left+e.originalTimelinePosition.width;if(v.x!==o.x||v.y!==o.y){let a=v.x-o.x+b;if(l!==e.id){const e=u>y&&u-y>15;u<y&&y-u>15?a=Math.max(d-(y-u),0):e&&(a=Math.min(d+(u-y),0))}const n={top:m,left:p,width:g+a,height:h},{xOffset:s}=ue(n,e,t),i=a+s;l===e.id&&(d=i);const f=d>0?d-Math.abs(u-y):d+Math.abs(u-y),w=Math.abs(f)<Math.abs(i)?f:i;c.set(e.id,{x:w,y:0});const C={[e.id]:{type:"trim-end",diff:_(w),leftMost:!0,position:e.timelinePosition}};r={...r,...C}}c.set("default",{x:d,y:0}),Y(c),X("end"),C(tj(r))}),[ue,_,C]),ge=i.useCallback((function(e){const t=Yrt();if(!t)return;const{type:a}=t,n=e.ctrlKey||e.metaKey;n!==H&&z(n);const s=A||j.get(t.id);s&&(a===Vrt?re(t):a===Brt?pe(s,n,t):a===Wrt&&me(s,n,t))}),[re,me,pe,A,H,j]),he=tY((function(e){const t=Yrt();if(!t)return;if(!e.isPrimary)return;k8(t.mouseStartCoordinates,Pce(e))>1&&GJ();const a="touch"===e.pointerType;if(a)if(void 0===B.current&&(k8(O.current,Pce(e))>15?B.current=!0:Date.now()>U.current+100&&(B.current=!1)),!1===B.current)e.preventDefault();else{const t=Pce(e),a=O.current;O.current=t,y({x:a.x-t.x,y:a.y-t.y})}a&&!1!==B.current||(O.current=Pce(e),ge(e))})),ve=tY((e=>{ge(e)})),fe=i.useCallback((e=>{if(!T)return;C($L("timeline")),"touch"===e.pointerType&&(U.current=Date.now(),B.current=void 0);const{x:t,y:a}=Pce(e);O.current={x:t,y:a}}),[T,C]);i.useEffect((function(){if(V.current===a&&W.current===t)return;if(w_())return;if(V.current=a,W.current=t,!k||!k.type)return;const e=A||j.get(k.id);e&&(k.type===Vrt?re(k):k.type===Brt?pe(e,H,k):k.type===Wrt&&me(e,H,k))}),[re,me,pe,H,R,t,a,k,A,j]);const be=R.every((e=>ne[e.id])),ye={};Object.entries(o).forEach((([e,t])=>{ye[e]=t.position}));const we=Y1(v);i.useEffect((()=>{(()=>{var e,t;if(v&&!we){const{state:a}=Mu(),n=(null==(e=a.projectSessionSettings.timelinePosition)?void 0:e.timelineScrollLeft)||0,s=(null==(t=a.projectSessionSettings.timelinePosition)?void 0:t.timelineScrollTop)||0,o=new Set(["ghost-track"]),i=c3e({type:Vrt,selectedIds:o});C(dj({id:"ghost-track",type:Vrt,mouseStartCoordinates:{x:0,y:0},selectedIds:o,timelineScrollLeftStart:n,timelineScrollTopStart:s,timelineRelativeClickTime:0,snapOffsetsPx:i,minTrimLeftPx:0,maxTrimRightPx:0}))}else!v&&we&&dj(null)})(),null==N&&null!=P.current&&(C(dj(null)),Bj(!1)),P.current=N}),[v,we,C,N]),i.useEffect((function(){M&&b(M,!0)}),[b,M]),i.useEffect((function(){l(null==ae?void 0:ae.id)}),[l,null==ae?void 0:ae.id]),i.useEffect((function(){var e;if(void 0===(null==te?void 0:te.left)||void 0===(null==te?void 0:te.top)||void 0===(null==te?void 0:te.top))return;se.current=!0;const{state:t}=Mu(),a=!!(null==(e=t.comments.comments)?void 0:e.length),n=uO(t),s=q7({yPos:te.top+te.height/2,tracks:g8(t),hasComments:a,hasMagicSubtitle:n}),o=w(te.left);C({type:"SET_DND_GHOST_TRACK_DROP_POSITION",position:{timelineRow:s,timelineTime:o,trackToReplace:ae}})}),[w,C,null==te?void 0:te.height,null==te?void 0:te.left,null==te?void 0:te.top,ae]),i.useEffect((function(){const e=e=>{ie(e)};document.addEventListener("pointerup",e),document.addEventListener("lostpointercapture",e);const t=c.throttle((e=>{he(e)}),20);document.addEventListener("pointermove",t);const a=e=>{ve(e)};return document.addEventListener("keyup",a),document.addEventListener("keydown",a),()=>{document.removeEventListener("pointerup",e),document.removeEventListener("pointermove",t),document.removeEventListener("keyup",a),document.removeEventListener("keydown",a),document.removeEventListener("lostpointercapture",e)}}),[ve,he,ie]);const _e=(e,t,a)=>{let n=e.timelinePosition.top,s=e.timelinePosition.height,i=e.isTall;if(a){if(n=a.top,i=t?t.newIsTall:i,s=Q7(i),s!==e.originalTimelinePosition.height){n-=(s-e.originalTimelinePosition.height)/2}}else{const t=((e,t,a)=>{let{previewIsTall:n}=t;const{previewTop:s}=t,o=[];return Object.values(a).forEach((t=>{const{newTimelineRow:a,newIsTall:s}=t;o.includes(a)||(s&&a===e&&(n=!0),o.push(a))})),{previewIsTall:n,previewTop:s}})(e.timelineRow,{previewIsTall:i,previewTop:n},o);i=t.previewIsTall,n=t.previewTop,s=i?60:30}if(a){const{left:e,width:t}=a;return{top:n,left:e,width:t,height:s}}return{left:e.timelinePosition.left,top:n,width:e.timelinePosition.width,height:s}};return f.jsxs(f.Fragment,{children:[f.jsx(Frt,{}),e.map((e=>{const t=Z[e.id],a=o[e.id],n=k&&ne[e.id]||null,{left:s,width:i,height:l,top:d}=_e(e,a,(null==k?void 0:k.type)===JY.Drag?n:null);return f.jsx(Urt,{track:e,isDragging:!!n,children:f.jsx(y3e,{track:e,useCSSTransitions:E,onPointerDown:fe,isDragging:!!n,setTooltipProps:h,newIsTall:null==a?void 0:a.newIsTall,trimChange:t,left:s,width:i,height:l,top:d,isDragObjectHovered:r===e.id})},e.id)})),(null==k?void 0:k.type)===Vrt&&be&&R.length>0&&!r&&f.jsx(Ort,{shadowInfos:o}),(()=>{if(r)return null;if(p)return f.jsx(E1e,{tooltipPosition:p.tooltipPosition,customString:p.customString,narrow:p.narrow});const{tooltipPosition:e}=(e=>{if(p)return{tooltipPosition:p.tooltipPosition};let t=null;const a=Hrt(e),n=Hrt(ne);let s=!1;if(a&&n){const{position:e}=a.leftMost,{position:o}=n.leftMost,i=o.top,r=o.left,l=e.top,d=e.left,{height:c,width:u}=o,p=o.left+u;return t=e,r===d||r<=25?t.top=i:p>d&&i>l&&r+15<d&&(t.top-=c+16,s=!0),{tooltipPosition:t,pointsDown:s}}return u?(t=u,{tooltipPosition:t,pointsDown:s}):{tooltipPosition:t,pointsDown:s}})(ye);return f.jsx(E1e,{tooltipPosition:e})})()]})}));class Xrt extends b.Component{constructor(e){super(e),a(this,"containerDiv",null),a(this,"trackpadBackground",b.createRef()),a(this,"containerSensor"),a(this,"autoscrollCalled",!1),a(this,"autoScrollDisplacement",{vertical:0,horizontal:0}),a(this,"mouseDownTimelineScroll",{vertical:0,horizontal:0}),a(this,"updateShowYScroll",(()=>{if(!this.containerDiv)return;const{showYScroll:e}=this.state,t=this.shouldShowYScroll();t!==e&&this.setState({showYScroll:t})})),a(this,"setTrackIdToReplace",(e=>{e!==this.state.trackIdToReplace&&this.setState({trackIdToReplace:e})})),a(this,"onMediaItemDrop",PU.withUndoBatchAsync((async e=>{if(!qrt.includes(e.type))return;const{trackIdToReplace:t}=this.state;let a;if(!t){const{state:e}=Mu(),{mediaItemGhostTrack:t,dndGhostTrackDropPosition:n}=e.studioLocal;if(!t||!n)throw new Error("No track to replace or no ghost track found");a={dndGhostTrackDropPosition:n,mediaItemGhostTrack:t}}await cle({item:e,idOfLayerToReplace:t,source:"StudioTrackpad.tsx",droppedTrackInfo:a}),this.props.setMediaItemDropLocation(null),this.setTrackIdToReplace(void 0)}))),a(this,"setManipulatedTrackPosition",(e=>{c.isEqual(e,this.state.manipulatedTrackPosition)||this.setState({manipulatedTrackPosition:e})})),a(this,"setTooltipProps",(e=>{this.setState({tooltipProps:e})})),a(this,"setContainerRef",(e=>{e&&(this.containerDiv=e,e.scrollTop=this.props.timelineScrollTop||0,e.scrollLeft=this.props.timelineScrollLeft||0,this.props.setContainerRefInParent(e),this.attachListeners(),this.updateShowYScroll())})),a(this,"removeListeners",(()=>{const{containerDiv:e}=this;window.removeEventListener("pointerup",this.handleWindowPointerUp),e&&(e.removeEventListener("wheel",this.handleZoom),e.removeEventListener("pointerdown",this.handlePointerDown),e.removeEventListener("pointermove",this.handlePointerMove),e.removeEventListener("pointerup",this.handlePointerUp),S_()?(e.removeEventListener("gesturestart",this.handleGestureStart),e.removeEventListener("gesturechange",this.handleGestureChange),e.removeEventListener("gestureend",this.handleGestureEnd)):(e.removeEventListener("touchstart",this.handleTouchStart),e.removeEventListener("touchmove",this.handleTouchMove),e.removeEventListener("touchend",this.handleTouchEnd))),this.containerSensor&&this.containerSensor.detach(),this.autoScrollInterval.id&&clearInterval(this.autoScrollInterval.id),this.leftScrollTimeout&&clearTimeout(this.leftScrollTimeout)})),a(this,"attachListeners",(()=>{this.removeListeners(),window.addEventListener("pointerup",this.handleWindowPointerUp);const{containerDiv:e}=this;e&&(e.addEventListener("wheel",this.handleZoom),S_()?(e.addEventListener("gesturestart",this.handleGestureStart),e.addEventListener("gesturechange",this.handleGestureChange),e.addEventListener("gestureend",this.handleGestureEnd)):(e.addEventListener("touchstart",this.handleTouchStart),e.addEventListener("touchmove",this.handleTouchMove),e.addEventListener("touchend",this.handleTouchEnd)),this.containerSensor=new at.ResizeSensor(e,(({width:e,height:t})=>{Mu().dispatch(iH.setTimelineContainerSize({width:e,height:t}))})))})),a(this,"initializeTimeline",(()=>{const{videoDuration:e,pxInSecond:t,timelineScrollLeft:a,timelineScrollTop:n,setPxInSecond:s}=this.props;if(this.containerDiv){const o=this.containerDiv.clientWidth,i=this.containerDiv.clientHeight;if(Mu().dispatch(iH.setTimelineContainerSize({width:o,height:i})),t){const e=this.shouldShowYScroll()?n:0;this.containerDiv.scrollTop===e&&this.containerDiv.scrollLeft===a||this.containerDiv.scrollTo({left:a,top:e})}else{s(o/(1.1*e))}}})),a(this,"getTimelineHeight",(()=>{const{tracks:e}=this.props;let t=0;for(const a of e){const{top:e}=a.timelinePosition;t=Math.max(e,t)}return t+60})),a(this,"getTimelineWidth",(()=>{const{tracks:e}=this.props;let t=0;for(const a of e){const{left:e,width:n}=a.timelinePosition;t=Math.max(e+n,t)}return t})),a(this,"getContainerOffsets",(()=>{const{horizontal:e,vertical:t}=this.mouseDownTimelineScroll,a=-1*e;let n=this.props.canvasHeight+80+20-t;return S_()&&(n+=20),{containerOffsetX:a,containerOffsetY:n}})),a(this,"getMIGhostTrack",(e=>{const{convertSecondsToOffset:t}=this.props;if(e.type===$S.TRANSITION_TILE)return null;const{layerType:a,duration:n}=function(e){let t=3,a=null;switch(e.type){case $S.CML_FILE:a=E2(e.asset),e.asset.metadata_stage&&"number"==typeof e.asset.duration&&(t=e.asset.duration);break;case $S.UPLOADING_LAYER:a=e.layer.type,"number"==typeof e.layer.duration&&(t=e.layer.duration);break;case $S.SIDEBAR_IMAGE:a=e.image.mediaType;break;case $S.SIDEBAR_VIDEO:a=e.video.mediaType,e.video.duration&&(t=e.video.duration);break;case $S.TEXT_PRESET:t=2,a=Nc.Text}return{layerType:a,duration:t}}(e),s=!!a&&J7({type:a}),o=Q7(s),i={width:t(n)-25,height:o,left:0,top:0},r={id:"ghost-track",timelinePosition:i,originalTimelinePosition:i,isTall:s,timelineRow:100,type:a,duration:n,depth:"A00000000000000000000000001"};return e.type===$S.CML_FILE&&(r.asset_id=e.asset._id),e.type===$S.UPLOADING_LAYER&&(r.uploadId=e.uploadId),r})),a(this,"getGapPosition",((e,t)=>{var a;const{startTime:n,duration:s,timelineRow:o}=e,i=this.props.convertSecondsToOffset(n),r=this.props.convertSecondsToWidth(s),l=Q7(t);return{top:X7(Z7({timelineRow:o,tracks:this.props.tracks,hasMagicSubtitle:this.props.hasActiveMagicSubtitles,hasComments:!!(null==(a=this.props.comments)?void 0:a.length)})),height:l,left:i,width:r}})),a(this,"getInternalTimelineDivWidth",(()=>this.getContentWidth()*this.state.timelineWidthMultiplier)),a(this,"getHighlightedRowPosition",((e,t)=>{var a;const n=this.props.convertSecondsToOffset(0),s=Math.max(this.getInternalTimelineDivWidth(),this.props.timelineContainerWidth),o=t;return{style:{top:X7(Z7({timelineRow:e,tracks:this.props.tracks,hasMagicSubtitle:this.props.hasActiveMagicSubtitles,hasComments:!!(null==(a=this.props.comments)?void 0:a.length)})),height:Q7(o),left:n,width:s},isTall:o}})),a(this,"handleDragMouseUp",(()=>{var e;const{dispatch:t,state:a}=Mu(),n=a.studioLocal.draggedTracksOverrides;if(!n)return;const{anchorLayerId:s,anchorTimelineTime:o,overrides:i}=n,r=!!(null==(e=a.comments.comments)?void 0:e.length),l=uO(a),d=mK(a)??0,c=S7(a);t(AK.applyDraggedTracksOverride({draggedTracksOverrides:i,anchorLayerId:s,anchorTimelineTime:o,hasComments:r,hasMagicSubtitles:l,pxInSecond:d,videoDuration:c}))})),a(this,"getTimingContainerStyles",(()=>{const e=this.getTimelineHeight();return{width:Math.max(this.getInternalTimelineDivWidth(),this.props.timelineContainerWidth),minHeight:e,height:"100%"}})),a(this,"setBoxSelectStartCoordsToNull",(()=>{this.setState({boxSelectStartCoords:null})})),a(this,"setBoxSelectIsHappening",(e=>{this.setState({boxSelectIsHappening:e})})),a(this,"setSeekerIsDragging",(e=>{this.setState({seekerIsDragging:e})})),a(this,"trackLeftCompare",((e,t)=>e.timelinePosition.left<t.timelinePosition.left?-1:e.timelinePosition.left>t.timelinePosition.left?1:0)),a(this,"getTracksInRow",(e=>{const{tracks:t}=this.props,a=[];for(const n of t)n.timelineRow===e&&a.push(n);return a.sort(this.trackLeftCompare),a})),a(this,"getContainingGap",((e,t)=>{const{timelineScrollLeft:a=0}=this.props,n=e+a,s=this.props.convertSecondsToOffset(0);if(t-20<0)return null;const{tracks:o}=this.props,i=o.filter((e=>t>e.timelinePosition.top&&t<e.timelinePosition.top+e.timelinePosition.height));i.sort(this.trackLeftCompare);const r=i[0];if(r){const e=r.timelineRow;let t=s;for(const a of i){const s=a.timelinePosition.left,o=s+a.timelinePosition.width;if(t<=n&&n<s)return{gapId:fe(12),startTime:this.props.convertOffsetToSeconds(t),duration:this.props.convertWidthToSeconds(s-t),timelineRow:e};t=o}}return null})),a(this,"checkGapOverlap",(()=>{const{hoveredGap:e}=this.state,t=this.props.convertSecondsToOffset((null==e?void 0:e.startTime)??0),a=t+this.props.convertSecondsToWidth((null==e?void 0:e.duration)??0),n=this.getTracksInRow((null==e?void 0:e.timelineRow)??0);for(const s of n){const e=s.timelinePosition.left,n=e+s.timelinePosition.width;(t<e&&e<a||t<n&&n<a)&&this.setState({hoveredGap:null})}})),a(this,"resetHoveredGap",c.throttle((e=>{const{hoveredGap:t}=this.state;if(this.trackpadBackground.current){const a=Pce(e),n=this.trackpadBackground.current.getBoundingClientRect(),s=a.y-n.top,o=this.getContainingGap(a.x,s);if(!o)return void(t&&this.setState({hoveredGap:null}));if(t&&t8(t,o))return;this.setState({hoveredGap:o}),"touch"===e.pointerType&&Cue(o)}}),25)),a(this,"setHoveredTimelineRow",(e=>{if(this.trackpadBackground.current){const t=Pce(e),a=this.trackpadBackground.current.getBoundingClientRect(),n=t.y-a.top,s=q7({yPos:n,tracks:this.props.tracks,hasComments:this.props.hasComments,hasMagicSubtitle:this.props.hasActiveMagicSubtitles});let o;o=s<0?null:s,o!==this.state.hoveredTimelineRow&&this.setState({hoveredTimelineRow:o})}})),a(this,"handleGapSelect",(e=>{var t;if(!this.trackpadBackground.current)return;const a="gap"===(null==(t=this.props.selectedItem)?void 0:t.type)?this.props.selectedItem.item:null;a&&t8(e,a)||(this.deselectLayer(),Cue(e))})),a(this,"handleGapDoubleClick",(e=>{const{timelineScrollLeft:t=0}=this.props,a=Pce(e);F$(this.props.convertOffsetToSeconds(a.x+t))})),a(this,"handleClick",(e=>{this.state.mouseDownOnTimeLabels||this.props.volumeSliderIsDragging||this.moveSeekerWithMouseEvent(e)})),a(this,"moveSeekerWithMouseEvent",(e=>{const{videoDuration:t,timelineScrollLeft:a=0}=this.props;let n=this.props.convertOffsetToSeconds(e.clientX+a);n>t&&(n=t),F$(n)})),a(this,"handleSelectTimelineRow",(e=>{if(!this.trackpadBackground.current)return;const{dispatch:t}=Mu(),a=Pce(e),n=this.trackpadBackground.current.getBoundingClientRect(),s=a.y-n.top,o=Math.max(q7({yPos:s,tracks:this.props.tracks,hasComments:this.props.hasComments,hasMagicSubtitle:this.props.hasActiveMagicSubtitles}),0),i=this.props.selectedTimelineRows.includes(o);e.shiftKey?i?t(rk(this.props.selectedTimelineRows.filter((e=>e!==o)))):this.props.addSelectedTimelineRows([o]):i||t(rk([o]))})),a(this,"handleBackgroundPointerDown",(e=>{const{setSelectedEditorPane:t}=this.props;t("timeline"),e.shiftKey||this.deselectLayer(),this.handleSelectTimelineRow(e);const a=Pce(e);"touch"!==e.pointerType&&this.setState({boxSelectStartCoords:{x:a.x,y:a.y}})})),a(this,"handleTimeLabelPointerDown",(e=>{this.props.setSelectedEditorPane("timeline"),this.moveSeekerWithMouseEvent(e),this.setState({mouseDownOnTimeLabels:!0})})),a(this,"handleTimeLabelPointerMove",(e=>{this.state.mouseDownOnTimeLabels&&this.moveSeekerWithMouseEvent(e)})),a(this,"isSeekerOutOfView",(()=>{const e=dY(),t=this.props.convertSecondsToOffset(e),{containerDiv:a}=this;return!(!a||!(t<a.scrollLeft||t>a.scrollLeft+a.clientWidth))})),a(this,"snapTimelineToSeeker",(()=>{const e=dY(),t=this.props.convertSecondsToOffset(e),{containerDiv:a}=this;a&&(a.scrollLeft=t-100)})),a(this,"autoScrollInterval",{id:null,directions:[]}),a(this,"startAutoScroll",((e,t)=>{const a=16*e;this.autoScrollInterval.id&&c.isEqual(this.autoScrollInterval.directions,t)||(this.autoScrollInterval.id&&clearInterval(this.autoScrollInterval.id),Mu().dispatch(iH.setUseCSSTransitions(!0)),this.autoScrollInterval.id=setInterval((()=>this.autoScroll(a,t)),16))})),a(this,"autoScroll",((e,t)=>{const{containerDiv:a}=this,{updateTimelinePosition:n,timelineScrollLeft:s,timelineScrollTop:o}=this.props;if(a){if(t.includes("right")){const t=this.getTimelineWidth()-.75*a.clientWidth,n=a.scrollLeft+e;let o=e;if(n>t){const a=n-t;o=Math.max(e-a,0)}a.scrollLeft+=o,s&&s>o&&(this.autoScrollDisplacement.horizontal+=o)}if(t.includes("left")&&(a.scrollLeft-=e,s&&s>e&&(this.autoScrollDisplacement.horizontal-=e)),this.shouldShowYScroll()&&(t.includes("up")&&(a.scrollTop-=e,o&&o>e&&(this.autoScrollDisplacement.vertical-=e)),t.includes("down"))){const t=a.clientHeight-30-60,n=this.getTimelineHeight()-t,s=a.scrollTop+e;let i=e;if(s>n){const t=s-n;i=Math.max(e-t,0)}a.scrollTop+=i,o&&o>i&&(this.autoScrollDisplacement.vertical+=i)}n({timelineScrollTop:a.scrollTop,timelineScrollLeft:a.scrollLeft}),this.updateMultiplier(!0),this.autoscrollCalled=!0}})),a(this,"clearAutoScroll",(()=>{this.autoScrollInterval.id&&(Mu().dispatch(iH.setUseCSSTransitions(!1)),clearInterval(this.autoScrollInterval.id),this.autoScrollInterval.id=null,this.handleScroll())})),a(this,"checkForAutoScroll",((e,t=!1)=>{const{boxSelectStartCoords:a}=this.state;if(!this.props.isTrackBeingManipulated&&!a&&!t)return void this.clearAutoScroll();if(!this.containerDiv)return;const n=this.containerDiv.clientWidth,s=this.containerDiv.clientHeight-30,o=this.containerDiv.getBoundingClientRect().top+30,i=e.x,r=n-e.x,l=Math.max(e.y-o,0),d=[],c=i/n*100<4,u=r/n*100<4,p=100*(1-l/s)<6,m=l/s*100<6,g=m||p?1:3;c||u||p||m?(c&&d.push("left"),u&&d.push("right"),m&&d.push("up"),p&&d.push("down"),this.startAutoScroll(g,d)):this.clearAutoScroll()})),a(this,"leftScrollTimeout"),a(this,"updateMultiplier",(e=>{if(this.containerDiv){const t=this.containerDiv.scrollLeft+this.props.timelineContainerWidth,a=Math.ceil(t/this.getContentWidth()*10)/10+.1;a>1&&a>this.state.timelineWidthMultiplier&&a*this.props.videoDuration<10800&&this.setState({timelineWidthMultiplier:a}),clearTimeout(this.leftScrollTimeout),a>1&&a<this.state.timelineWidthMultiplier&&(e?this.leftScrollTimeout=setTimeout((()=>{this.setState({timelineWidthMultiplier:a})}),1e3):this.setState({timelineWidthMultiplier:a}))}})),a(this,"handleScroll",(()=>{const{containerDiv:e,autoScrollInterval:t}=this,{ghostTimeOffset:a}=this.props;if(this.setState({seekerAutoscrollingEnabled:!1}),!t.id){if(e){const{scrollTop:t,scrollLeft:a}=e;this.props.updateTimelinePosition({timelineScrollTop:t,timelineScrollLeft:a});const{vertical:n,horizontal:s}=this.mouseDownTimelineScroll;this.autoScrollDisplacement.vertical=t-n,this.autoScrollDisplacement.horizontal=a-s,this.updateMultiplier(!0)}this.autoscrollCalled&&(this.setState({seekerAutoscrollingEnabled:!a}),this.autoscrollCalled=!1)}})),a(this,"handleTimelineScroll",(e=>{const{containerDiv:t}=this;if(t){t.scrollLeft+=e.x;const a=this.getMaximumYScrollAmount()??0;t.scrollTop=Math.min(t.scrollTop+e.y,a)}})),a(this,"originalPxInSecond",null),a(this,"touchStartDistance",null),a(this,"handleTouchStart",(e=>{if(2!==e.touches.length)return;const t=e.touches[0],a=e.touches[1];this.touchStartDistance=Math.hypot(a.clientX-t.clientX,a.clientY-t.clientY),Mu().dispatch(iH.setUseCSSTransitions(!1)),this.originalPxInSecond=this.props.pxInSecond})),a(this,"handleTouchMove",(e=>{if(2!==e.touches.length||!this.touchStartDistance||!this.originalPxInSecond)return;e.preventDefault();const t=e.touches[0],a=e.touches[1],n=Math.hypot(a.clientX-t.clientX,a.clientY-t.clientY);if(Number.isNaN(n))return;const s=n/this.touchStartDistance,o=this.originalPxInSecond*s;.7<=o&&o<=600.5&&this.props.setPxInSecond(o)})),a(this,"handleTouchEnd",(e=>{0===e.touches.length&&(this.touchStartDistance=null,this.originalPxInSecond=null)})),a(this,"handleGestureStart",(e=>{e.preventDefault(),Mu().dispatch(iH.setUseCSSTransitions(!1)),this.originalPxInSecond=this.props.pxInSecond})),a(this,"handleGestureChange",(e=>{const{setPxInSecond:t}=this.props;if(e.preventDefault(),!this.originalPxInSecond)return;const a=this.originalPxInSecond*e.scale;.7<=a&&a<=600.5&&t(a)})),a(this,"handleGestureEnd",(e=>{e.preventDefault(),this.originalPxInSecond=null})),a(this,"handleZoom",(e=>{const{pxInSecond:t,setPxInSecond:a}=this.props;if(!e.ctrlKey&&!e.metaKey)return;if(e.preventDefault(),!t)return;let n=t/Math.exp(e.deltaY/200);n=WC(n,.1),n=zg(n,.7,600.5),n!==t&&(Mu().dispatch(iH.setUseCSSTransitions(!1)),a(n))})),a(this,"getContentWidth",(()=>this.props.videoDuration*(this.props.pxInSecond||0))),a(this,"deselectLayer",(()=>{const{selectItem:e}=this.props;e(null)})),a(this,"handleTrackPadContextMenu",(e=>{this.deselectLayer(),this.handleSelectTimelineRow(e)})),a(this,"handlePointerDown",(e=>{"touch"===e.pointerType&&this.resetHoveredGap(e),e.target!==this.containerDiv&&this.containerDiv&&(this.setTimelineScrollRef(),this.containerDiv.addEventListener("pointerup",this.handlePointerUp))})),a(this,"setTimelineScrollRef",(()=>{const{timelineScrollLeft:e,timelineScrollTop:t}=this.props;this.autoScrollDisplacement={vertical:0,horizontal:0},this.mouseDownTimelineScroll.horizontal=e||0,this.mouseDownTimelineScroll.vertical=t||0})),a(this,"handlePointerMove",(e=>{const t=Pce(e);this.checkForAutoScroll(t),this.state.boxSelectStartCoords||(this.resetHoveredGap(e),this.setHoveredTimelineRow(e),this.handleRowPointerMove(e))})),a(this,"handlePointerUp",(e=>{const{seekerIsDragging:t,boxSelectIsHappening:a}=this.state,n=Mu().state.studioLocal.mouseState;t||a||e.target!==this.containerDiv&&this.containerDiv&&(n?this.clearAutoScroll():this.state.hoveredGap||this.handleClick(e),this.containerDiv.removeEventListener("pointerup",this.handlePointerUp))})),a(this,"handleWindowPointerUp",(()=>{this.state.mouseDownOnTimeLabels&&this.setState({mouseDownOnTimeLabels:!1}),this.handleRowPointerUp(),this.clearAutoScroll()})),a(this,"handleRowPointerDown",((e,t)=>{if(!this.containerDiv||0!==e.button)return;const a=Pce(e),{y:n}=a,{y:s}=this.containerDiv.getBoundingClientRect(),o=this.props.timelineScrollTop??0;let i=o+n-s-20;const{hoveredTimelineRow:r}=this.state;if(null!==r){const e=$7(r,this.props.tracks),{style:t}=this.getHighlightedRowPosition(r,e);i=t.top+t.height/2}this.setState({mouseDownOnRow:!0,rowProperties:{endRow:t,mouseStartY:n,rowDragTop:i,scrollStart:o,startRow:t}})})),a(this,"handleRowPointerMove",(e=>{if(!this.props.canWrite)return;if(!this.state.mouseDownOnRow)return;const t=this.state.rowProperties,{mouseStartY:a=0,rowDragTop:n=0,scrollStart:s=0}=this.state.rowProperties,o=Pce(e),i=(this.props.timelineScrollTop??0)-s,r=o.y-a+i,l=q7({yPos:n+r,tracks:this.props.tracks,hasComments:this.props.hasComments,hasMagicSubtitle:this.props.hasActiveMagicSubtitles,gutter:!0});this.setState({rowProperties:{...t,endRow:l,yDelta:r}})})),a(this,"handleRowPointerUp",(()=>{if(0===Object.keys(this.state.rowProperties).length&&!this.state.mouseDownOnRow)return;const{startRow:e=0}=this.state.rowProperties;let{endRow:t=0}=this.state.rowProperties;e<t&&(t-=1);0!==t-e&&Mu().dispatch(AK.moveRowToRow({fromRow:e,toRow:t})),this.setState({mouseDownOnRow:!1,rowProperties:{}})})),a(this,"getRowStyle",(()=>{const{mouseDownOnRow:e,rowProperties:t}=this.state,{startRow:a=0,rowDragTop:n=0,yDelta:s=0}=t;if(!e)return{display:"none"};const o=Q7($7(a,this.props.tracks));return{display:"block",height:o,top:n+s-o/2,zIndex:ZY.RowHighlight}})),a(this,"getRowLineStyle",(()=>{var e;const{mouseDownOnRow:t,rowProperties:a}=this.state,{endRow:n=0,yDelta:s}=a;if(!t||void 0===s)return{display:"none"};return{display:"block",top:X7(Z7({timelineRow:n,tracks:this.props.layers,hasMagicSubtitle:this.props.hasActiveMagicSubtitles,hasComments:!!(null==(e=this.props.comments)?void 0:e.length)}))}})),a(this,"renderSelectedTimelineRows",(()=>{const{selectedTimelineRows:e,trackIsDragging:t,isOver:a}=this.props;return!e||t||a?null:e.map((e=>{const t=$7(e,this.props.tracks),{style:a,isTall:n}=this.getHighlightedRowPosition(e,t),s=n?Nit.tallSelectedTimelineRow:Nit.shortSelectedTimelineRow;return f.jsx("div",{className:Nit.shadow,style:a,onPointerDown:this.handleBackgroundPointerDown,children:f.jsx("div",{className:s})},e)}))})),a(this,"renderLoading",(()=>f.jsx("div",{className:Nit.loading,children:"Loading timeline..."}))),a(this,"renderHoveredTimelineRow",(()=>{const{hoveredTimelineRow:e}=this.state,{trackIsDragging:t}=this.props;if(null===e||t)return null;const a=$7(e,this.props.tracks),{style:n,isTall:s}=this.getHighlightedRowPosition(e,a),o=s?Nit.tallHoveredTimelineRow:Nit.shortHoveredTimelineRow;return f.jsx("div",{className:Nit.shadow,style:n,onPointerDown:this.handleBackgroundPointerDown,children:f.jsx("div",{className:o})})})),a(this,"renderGap",(e=>{const{selectedItem:t}=this.props,a="gap"===(null==t?void 0:t.type)&&t8(t.item,e),n=$7(e.timelineRow,this.props.tracks),s=this.getGapPosition(e,n),o=n?Nit.tallShadowTrack:Nit.shortShadowTrack;return f.jsx(art,{children:f.jsx("div",{className:Nit.shadow,style:s,onPointerDown:t=>{this.handleBackgroundPointerDown(t),this.handleGapSelect(e)},onDoubleClick:this.handleGapDoubleClick,children:f.jsx("div",{className:L(o,a&&Nit.selected)})})},e.gapId)})),a(this,"renderInsertRowComponents",(()=>{const e=this.getRowStyle(),t=this.getRowLineStyle();return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:Nit.rowHighlight,style:e}),f.jsx("div",{className:Nit.rowInsertLine,style:t})]})})),a(this,"renderTimelineInteractionsEventsComponents",(()=>{var e;const t="gap"===(null==(e=this.props.selectedItem)?void 0:e.type)?this.props.selectedItem.item:null,a=[];return this.state.hoveredGap&&t?(t8(this.state.hoveredGap,t)||a.push(this.state.hoveredGap),a.push(t)):this.state.hoveredGap?a.push(this.state.hoveredGap):t&&a.push(t),f.jsxs(f.Fragment,{children:[this.renderHoveredTimelineRow(),this.renderSelectedTimelineRows(),a.map((e=>this.renderGap(e))),this.renderInsertRowComponents()]})})),a(this,"renderTimelineComponents",(()=>{const{containerOffsetX:e,containerOffsetY:t}=this.getContainerOffsets(),{comments:a}=this.props;return f.jsxs("div",{className:`${Nit.timingContainer} ${this.props.canWrite?"":Nit.disabled}`,style:this.getTimingContainerStyles(),"data-testid":"studio-timing-container",children:[f.jsx("div",{"data-cy":"trackpad-background",ref:this.trackpadBackground,className:Nit.trackpadBackground,onPointerDown:this.handleBackgroundPointerDown}),this.props.canWrite&&this.renderTimelineInteractionsEventsComponents(),a&&a.map((e=>f.jsx(yit,{comment:e},e._id))),f.jsx(Krt,{setManipulatedTrackPosition:this.setManipulatedTrackPosition,timelineScrollLeft:this.props.timelineScrollLeft||0,timelineScrollTop:this.props.timelineScrollTop||0,tracks:this.props.tracks,handleDragMouseUp:this.handleDragMouseUp,trackIsDragging:this.props.trackIsDragging,boxSelectedIds:this.props.boxSelectedIds,manipulatedTrackPosition:this.state.manipulatedTrackPosition,tooltipProps:this.state.tooltipProps,containerOffsetX:e,containerOffsetY:t,setTooltipProps:this.setTooltipProps,mIGhostTrackShouldRender:this.props.isOver,checkForAutoScroll:this.checkForAutoScroll,shadowInfos:this.props.shadowInfo,trackIdToReplace:this.state.trackIdToReplace,setTrackIdToReplace:this.setTrackIdToReplace,handleTimelineScroll:this.handleTimelineScroll})]})})),a(this,"renderNoVideo",(()=>f.jsx(srt,{children:f.jsx("div",{className:Nit.wrapper,"data-cy":"trackpad-no-video",children:f.jsx("div",{className:Nit.noVideoWrapper,children:"No video found, convert to video to use timeline!"})})}))),this.state={timelineWidthMultiplier:1.1,hoveredGap:null,hoveredTimelineRow:0,mouseDownOnTimeLabels:!1,manipulatedTrackPosition:null,seekerIsDragging:!1,boxSelectIsHappening:!1,boxSelectStartCoords:null,tooltipProps:null,mouseDownOnRow:!1,rowProperties:{},showYScroll:!1,seekerAutoscrollingEnabled:!1}}componentDidMount(){this.initializeTimeline(),this.updateShowYScroll(),this.attachListeners()}componentDidUpdate(e,t){var a;const{item:n,ghostTimeOffset:s,layersById:o,isOver:i,pxInSecond:r,selectedItem:l,timelineScrollLeft:d,videoDuration:c,studioPaused:u,snapTimelineToSeekerProp:p,setSnapTimelineToSeeker:m}=this.props,{hoveredGap:g}=this.state;if(null!=e.item&&null==n&&e.isOver&&this.onMediaItemDrop(e.item),this.updateShowYScroll(),this.containerDiv&&!this.state.showYScroll&&t.showYScroll&&(this.containerDiv.scrollTop=0),!e.item&&this.props.item){if(!qrt.includes(this.props.item.type))return null;this.props.setMediaItemGhostTrack(this.getMIGhostTrack(this.props.item))}if(!e.isOver&&i?this.onMediaItemOver():!i&&e.isOver&&this.onMediaItemExit(),r!==e.pxInSecond&&e.pxInSecond&&r&&this.containerDiv){const t=dY(),a=t*e.pxInSecond+25,n=t*r+25-a;if(a>=e.timelineScrollLeft)this.containerDiv.scrollBy({left:n});else{const t=(this.props.pxInSecond||1)/(e.pxInSecond||1),a=(e.timelineScrollLeft+window.outerWidth/2)*t-(d+window.outerWidth/2);this.containerDiv.scrollBy({left:a})}}if(s&&!e.ghostTimeOffset?this.setState({seekerAutoscrollingEnabled:!1}):u||e.studioPaused===u||(this.setState({seekerAutoscrollingEnabled:!s}),this.autoscrollCalled=!0),c&&!e.videoDuration)return this.initializeTimeline();if(e.videoDuration&&c!==e.videoDuration)return this.initializeTimeline();!u&&e.studioPaused!==u&&this.isSeekerOutOfView()&&this.snapTimelineToSeeker(),p&&(this.snapTimelineToSeeker(),m(!1)),"gap"===(null==(a=e.selectedItem)?void 0:a.type)&&"gap"!==(null==l?void 0:l.type)&&g&&t8(e.selectedItem.item,g)&&this.checkGapOverlap(),WJ();if(Object.keys(e.layersById).length<Object.keys(o).length){const t=Object.values(o).find((t=>null==e.layersById[t.id])),{state:a}=Mu(),{rowUploadInProgress:n}=a.studioLocal;t&&!n&&this.scrollToLayer(t)}return null}componentWillUnmount(){this.removeListeners()}getMaximumYScrollAmount(){const e=this.containerDiv;if(!e)return null;const t=e.clientHeight-30-60;return this.getTimelineHeight()-t}shouldShowYScroll(){if(!this.containerDiv)return!1;return this.containerDiv.offsetHeight-30<=this.getTimelineHeight()}onMediaItemOver(){this.setTimelineScrollRef(),this.props.setMediaItemDropLocation("trackpad")}onMediaItemExit(){const{setMediaItemDropLocation:e}=this.props;e(null)}scrollToLayer(e){var t,a;const{hasActiveMagicSubtitles:n,layerDuplicated:s,layers:o,pxInSecond:i,setLayerDuplicated:r,timelineScrollLeft:l,timelineScrollTop:d,updateTimelinePosition:c,timelineContainerWidth:u,timelineContainerHeight:p}=this.props;if(s)return void r(!1);const{start:m}=bp(e);let g=m*(i||0);const h=l||0;g=h<g&&g<h+u?h:Math.max(g-.05*u,0);const v=Q7(J7(e));let f=X7(Z7({timelineRow:e.timelineRow||0,tracks:o,hasMagicSubtitle:n,hasComments:!!(null==(t=this.props.comments)?void 0:t.length)}));const b=d||0;f=b<f&&f<b+p?b:f-p+2*v,c({timelineScrollLeft:g,timelineScrollTop:f}),this.updateMultiplier(!1),null==(a=this.containerDiv)||a.scrollTo({left:g,top:f}),F$(m)}renderTimeline(){const{addSelectedTimelineRows:e,canvasHeight:t,ghostTimeOffset:a,pxInSecond:n,setSelectedTimelineRows:s,timelineScrollLeft:o=0,timelineScrollTop:i=0,videoDuration:r}=this.props,{hoveredTimelineRow:l,boxSelectStartCoords:d,showYScroll:c}=this.state,{containerOffsetX:u,containerOffsetY:p}=this.getContainerOffsets(),{tracks:m}=this.props;if(!r)return this.renderNoVideo();const g=Math.max(this.getContentWidth(),this.props.timelineContainerWidth)*this.state.timelineWidthMultiplier;return this.props.connectDropTarget(f.jsxs("div",{className:Nit.wrapper,children:[f.jsx(fke,{id:cZ.Timeline,portal:!0,children:f.jsx("div",{})}),this.props.item&&qrt.includes(this.props.item.type)&&f.jsx(irt,{isOver:!!this.props.isOver,topOffset:35}),f.jsxs("div",{"data-testid":"studio-trackpad-container",className:Nit.container,ref:this.setContainerRef,"data-cy":"trackpad-container",onScroll:this.handleScroll,onPointerDown:this.handlePointerDown,onPointerMove:this.handlePointerMove,style:{overflowY:c?"scroll":"hidden"},id:"timeline-trackpad-container",children:[f.jsx(Art,{addSelectedTimelineRows:e,hoveredTimelineRow:l,onRowPointerDown:this.handleRowPointerDown,setSelectedTimelineRows:s,tracks:m,disabled:!this.props.canWrite}),null!==this.props.pxInSecond&&f.jsx(urt,{handlePointerDown:this.handleTimeLabelPointerDown,handlePointerMove:this.handleTimeLabelPointerMove,timelineContainerWidth:this.props.timelineContainerWidth,pxInSecond:this.props.pxInSecond,timelineScrollTop:i,timelineScrollLeft:o}),f.jsx(S3e,{manipulatedTrackPosition:this.state.manipulatedTrackPosition,canvasHeight:t,setSeekerIsDragging:this.setSeekerIsDragging,timeLabelDragging:this.state.mouseDownOnTimeLabels,seekerIsDragging:this.state.seekerIsDragging,videoDuration:r,seekerAutoScroll:this.autoScroll,seekerAutoscrollingEnabled:this.state.seekerAutoscrollingEnabled}),a&&this.props.isSnapInTimelineEnabled&&f.jsx(_3e,{currentTimeOffset:a,videoDuration:r,seekerAutoScroll:this.autoScroll,seekerAutoscrollingEnabled:this.state.seekerAutoscrollingEnabled}),f.jsx(srt,{children:f.jsxs("div",{className:Nit.innerContainer,style:{width:g,height:`calc(100% + 25px + ${i}px)`},children:[d&&f.jsx(zue,{boxSelectStartCoords:d,setBoxSelectStartCoordsToNull:this.setBoxSelectStartCoordsToNull,location:"trackpad",autoScrollDisplacement:this.autoScrollDisplacement,containerOffsetX:u,containerOffsetY:p,boxSelectIsHappening:this.state.boxSelectIsHappening,setBoxSelectIsHappening:this.setBoxSelectIsHappening,disabled:!this.props.canWrite}),n?this.renderTimelineComponents():this.renderLoading(),f.jsx(Ert,{})]})})]})]}))}render(){const{videoDuration:e}=this.props;return e?this.renderTimeline():this.renderNoVideo()}}const Zrt=r.connect((e=>{var t,a,n;const{tracks:s}=m8(e);return{videoDuration:S7(e),studioPaused:VJ(e),layers:Gx(e),layersById:e.studio.allLayers.byId,pxInSecond:mK(e),selectedItem:oU(e),selectedTimelineRows:e.studio.selectedTimelineRows,timelineScrollLeft:(null==(t=e.projectSessionSettings.timelinePosition)?void 0:t.timelineScrollLeft)??0,timelineScrollTop:(null==(a=e.projectSessionSettings.timelinePosition)?void 0:a.timelineScrollTop)??0,canvasHeight:e.studioSizing.containerHeight,trackIsDragging:e.studioLocal.trackIsDragging,boxSelectedIds:e.studioLocal.boxSelectedIds,layerDuplicated:e.studio.layerDuplicated,isSnapInTimelineEnabled:cK(e),volumeSliderIsDragging:e.studioLocal.volumeSliderIsDragging,timelineContainerHeight:e.timelineStyles.timelineContainerHeight,isTrackBeingManipulated:Object.keys((null==(n=e.studioLocal.draggedTracksOverrides)?void 0:n.overrides)||{}).length>0,mediaItemGhostTrack:e.studioLocal.mediaItemGhostTrack,tracks:s,ghostTimeOffset:e.studioLocal.ghostTimeOffset,canWrite:e.userPermissions.canWrite,hasActiveMagicSubtitles:uO(e),comments:e.comments.comments,hasComments:Tst(e),snapTimelineToSeekerProp:e.studioLocal.snapTimelineToSeeker,shadowInfo:h8(e)}}),(e=>j({addSelectedTimelineRows:lk,selectItem:ck,setLayerDuplicated:dk,setMediaItemGhostTrack:nj,setPxInSecond:Mh,setSelectedTimelineRows:rk,updateTimelinePosition:Dh,setMediaItemDropLocation:sj,setSelectedEditorPane:$L,setSnapTimelineToSeeker:QL},e))),qrt=[$S.CML_FILE,$S.SIDEBAR_IMAGE,$S.SIDEBAR_VIDEO,$S.TEXT_PRESET,$S.TEXT_TEMPLATE],Jrt=Zrt(_t(qrt,{},(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver(),item:t.getItem(),currentOffset:t.getSourceClientOffset()}}))(Xrt)),$rt="StudioTrackpadContainer-module_wrapper_UtmhJ",Qrt=(e,t,a)=>{var n;const{projectSessionSettings:s,timelineStyles:o}=e,{timelinePosition:i}=s,r=s.pxInSecond||1,l=(null==i?void 0:i.timelineScrollLeft)||0,d=(null==i?void 0:i.timelineScrollTop)||0,{timelineContainerHeight:c,timelineContainerWidth:u}=o,{duration:p=1,isReversed:m=!1,playbackRate:g=1,startTime:h=0,timelinePosition:{height:v,top:f},videoDelay:b=0,endTime:y,requireConversion:w=!1,mime:_=""}=t,C=y||p,S=up(t),x=Hp(t,{mediaCacheState:e.mediaCache,personaLayerHandling:"video"}),I=pS(t,{type:"track_preview",personaLayerHandling:"video"}),A=pS(t,{type:"original",personaLayerHandling:"video"}),k=HC(t,e,{personaLayerHandling:"video"}),T=x?e.assets.localAssetInfo[x]:void 0,E=null==T?void 0:T.thumbnailSheetLocalInfo,L=t.requireConversion&&(null==T?void 0:T.local_url)&&(!(null==k?void 0:k.track_preview)||!(null==k?void 0:k.preview))&&!E,j=vK(a,t).sort(((e,t)=>e.timelinePosition.left-t.timelinePosition.left));let R=!0,N=!0;const M=j.findIndex((e=>e.id===t.id));if(-1!==M){const e=j[M-1],a=j[M+1];if(e){const a=e.timelinePosition.left+e.timelinePosition.width;t.timelinePosition.left-a<=0&&(R=!1)}if(a){const e=t.timelinePosition.left+t.timelinePosition.width;a.timelinePosition.left-e<=0&&(N=!1)}}return{duration:p,personaVideoAssetDuration:S&&(null==(n=e.assets.byId[t.video_asset_id])?void 0:n.duration)||p,endTime:C,fallbackThumbnailVideoURL:A,isReversed:m,isWebm:!(!(null==_?void 0:_.includes("webm"))||(null==k?void 0:k.preview)||(null==k?void 0:k.track_preview)||E),mediaCacheId:x,playbackRate:g,predrawStart:R,predrawEnd:N,pxInSecond:r,cannotRenderThumbnails:L,startTime:h,thumbnailVideoURL:I,timelineContainerHeight:c,timelineContainerWidth:u,timelineScrollLeft:l,timelineScrollTop:d,trackTimelinePositionHeight:v,trackTimelinePositionTop:f,videoDelay:b,requireConversion:w,source:t.source,thumbnail_url:null==E?void 0:E.local_url,thumbnail_width:null==E?void 0:E.thumbnailWidth,thumbnail_height:null==E?void 0:E.thumbnailHeight,thumbnail_fps:null==E?void 0:E.fps,thumbnail_sheet_width:null==E?void 0:E.sheetWidth,thumbnail_sheet_height:null==E?void 0:E.sheetHeight,isPersona:S,frameWidth:y2e,frameHeight:50}},elt=(e,t)=>{var a;const{timelineWidth:n=0,pxInSecond:s=1,scrollLeft:o=1}=e.studioLocal.previewTimelineState||{},i=o,r=n,{duration:l=1,isReversed:d=!1,playbackRate:c=1,timelinePosition:{height:u,top:p},videoDelay:m=0,requireConversion:g=!1,mime:h=""}=t,v=up(t),f=Hp(t,{mediaCacheState:e.mediaCache,personaLayerHandling:"video"}),b=HC(t,e,{personaLayerHandling:"video"}),y=f?e.assets.localAssetInfo[f]:void 0,w=null==y?void 0:y.thumbnailSheetLocalInfo,_=t.requireConversion&&(null==y?void 0:y.local_url)&&(!(null==b?void 0:b.track_preview)||!(null==b?void 0:b.preview))&&!w,{startTime:C=0,endTime:S=t.duration||0}=t,x=pS(t,{type:"track_preview",personaLayerHandling:"video"}),I=pS(t,{type:"original",personaLayerHandling:"video"});return{duration:l,personaVideoAssetDuration:v&&(null==(a=e.assets.byId[t.video_asset_id])?void 0:a.duration)||l,endTime:S,fallbackThumbnailVideoURL:I,isWebm:!(!(null==h?void 0:h.includes("webm"))||(null==b?void 0:b.preview)||(null==b?void 0:b.track_preview)||w),isReversed:d,mediaCacheId:f,predrawStart:!0,predrawEnd:!0,playbackRate:c,pxInSecond:s,startTime:C,thumbnailVideoURL:x,timelineContainerHeight:50,timelineContainerWidth:r,timelineScrollLeft:i,timelineScrollTop:0,trackTimelinePositionHeight:u,trackTimelinePositionTop:p,videoDelay:m,cannotRenderThumbnails:_,requireConversion:g,source:t.source,thumbnail_url:null==w?void 0:w.local_url,thumbnail_width:null==w?void 0:w.thumbnailWidth,thumbnail_height:null==w?void 0:w.thumbnailHeight,thumbnail_fps:null==w?void 0:w.fps,thumbnail_sheet_width:null==w?void 0:w.sheetWidth,thumbnail_sheet_height:null==w?void 0:w.sheetHeight,isPersona:v,frameWidth:y2e,frameHeight:50}},tlt=e=>(t,a,n)=>{var s,o,i,r;const{startTime:l=0,videoDelay:d=0,playbackRate:c=1,isReversed:u=!1,audioEffect:p,fadePosition:m,fadeSpeed:g,introFadeDuration:h,outroFadeDuration:v,duration:f=0,asset_id:b}=a,y=Hp(a,{mediaCacheState:t.mediaCache,personaLayerHandling:"audio"});let w,_,C=!1,S=1,x=a.endTime||a.duration||0;if(e)_=(null==(s=t.studioLocal.previewTimelineState)?void 0:s.pxInSecond)||1,C=!0,x=a.endTime||a.duration||0;else{_=t.projectSessionSettings.pxInSecond||1;const{selectedItem:e,groups:n}=t.studio;if("group"===(null==e?void 0:e.type)){const t=n[e.id];t&&(C=t.layers.some((e=>e.id===a.id)))}else"layer"===(null==e?void 0:e.type)&&(C=e.id===a.id);w=null==(o=jR(t,a.id))?void 0:o.volumeTemp,S=a.volume??1}let I=!1;if(y){const e=t.assets.localAssetInfo[y];I=!(!e||!e.localWaveformData&&!e.local_url&&!e.preview_local_url&&!e.trackPreviewLocalUrl)}let A=!1;const k=b?t.assets.assetWaveformData[b]:void 0;(null==k?void 0:k.waveformDataFetchSucceeded)&&(A=!0);const T=null==(r=null==(i=t.studio.keyframing)?void 0:i[a.id])?void 0:r[Cu.VOLUME];return{assetIsInCache:I,audioEffect:p,endTime:x,fadePosition:m,fadeSpeed:g,introFadeDuration:h,outroFadeDuration:v,isReversed:u,mediaCacheId:y,pxInSecond:_,playbackRate:c,startTime:l,trackIsSelected:C,videoDelay:d,volume:(null==T?void 0:T.keyframes.length)?1:w??S,duration:f,waveformDataFetched:A,keyframes:T}},alt=tlt(!1),nlt=tlt(!0),slt=[],olt={timelineTracks:g8,timelineTrack:u(g8,((e,t)=>t),(e=>e.studioLocal.mediaItemGhostTrack),((e,t,a)=>"ghost-track"===t?a:e.find((e=>e.id===t)))),videoPreviewTracks:()=>slt,videoPreviewTrack:e=>e.studioLocal.previewTrack},ilt=b.memo((e=>{const{onPressPlay:t,onPressPause:a}=e,n=S1e(),{timelineContainerWidth:s,shouldScrollToStart:o}=Du((e=>({timelineContainerWidth:e.timelineStyles.timelineContainerWidth,shouldScrollToStart:e.timelineStyles.shouldScrollToStart})),Ou),r=Bu(),l=i.useRef(null),d=Bg(),c=i.useCallback((e=>{l.current=e}),[]);i.useEffect((function(){if(!o)return;const e=l.current;e&&setTimeout((()=>{e.scrollLeft=0}),150),r(iH.setScrollTimelineToStart(!1))}),[r,o]);const u=i.useCallback(((e,t,a)=>{kde("Studio Trackpad",a)}),[]);return f.jsx(p2e,{name:"studio-timeline",trackSelector:olt.timelineTrack,tracksSelector:olt.timelineTracks,thumbnailSelector:Qrt,waveformSelector:alt,isTimeline:!0,children:f.jsxs("div",{className:$rt,"data-cy":"trackpad-wrapper",children:[f.jsx(Kit,{onPressPause:a,onPressPlay:t,containerRef:l}),f.jsx(ert,{}),f.jsx(i.Profiler,{id:"Studio Trackpad",onRender:u,children:f.jsx(Jrt,{setContainerRefInParent:c,isMobile:d,timelineContainerWidth:s,...n})})]})})})),rlt="CanvasPreviewSeekerSlider-module_sliderRoot_Fxtba",llt="CanvasPreviewSeekerSlider-module_condensedRoot_lO3yR",dlt="CanvasPreviewSeekerSlider-module_sliderTrack_6pAtN",clt="CanvasPreviewSeekerSlider-module_condensedTrack_51FkI",ult="CanvasPreviewSeekerSlider-module_sliderThumb_AJsUC",plt="CanvasPreviewSeekerSlider-module_condensedThumb_OVmyf",mlt="CanvasPreviewSeekerSlider-module_condensedTimer_tYvAb";var glt=(e=>(e.timeline="timeline",e.canvas="canvas",e.sceneview="sceneview",e))(glt||{});const hlt=he((e=>[e]));class vlt extends i.Component{constructor(e){super(e),a(this,"updateSliderCbId"),a(this,"previewSeekerRef"),a(this,"getVideosAndDurationSingleScene",(()=>{const{studio:e,backgroundSubtitleFrames:t,layers:a}=this.props,{duration:n,maxLayerId:s}=rA(e,a,t);return{duration:n,maxLayerId:s}})),a(this,"handlePreviewSeekerResize",(()=>{var e;const t=(null==(e=this.previewSeekerRef.current)?void 0:e.getBoundingClientRect().width)??0;this.state.previewSeekerWidth!==t&&this.setState({previewSeekerWidth:t})})),a(this,"restartVideo",(()=>{this.props.pauseStudio(),KJ(0),this.props.playStudio()})),a(this,"videoDuration",(()=>this.props.duration)),a(this,"onPressPlay",(e=>{this.props.playStudio(),e.target.blur()})),a(this,"onPressPause",(e=>{e.target.blur(),this.props.pauseStudio()})),a(this,"handleSliderValueChange",(e=>{const{setSeekInProgress:t}=this.props;t(),P$(e,0)})),a(this,"renderNewTrackpad",(()=>f.jsx(ilt,{onPressPlay:this.onPressPlay,onPressPause:this.onPressPause}))),a(this,"renderPlayPause",(()=>{const{studioPaused:e}=this.props;return e?f.jsx("button",{"data-testid":"canvas-preview-seeker-play-button",type:"button",className:L("canvas-tools-button canvas-preview-seeker-play-button",{condensedPlayButton:this.props.condensed}),"data-cy":"play-pause-toggle-button",onPointerDown:this.onPressPlay,children:f.jsx(ka,{className:"canvas-preview-seeker-icon"})}):f.jsx("button",{type:"button","data-testid":"canvas-preview-seeker-pause-button",className:L("canvas-tools-button canvas-preview-seeker-play-button",{condensedPlayButton:this.props.condensed}),"data-cy":"play-pause-toggle-button",onPointerDown:this.onPressPause,children:f.jsx(Aa,{className:"canvas-preview-seeker-icon"})})})),this.state={previewSeekerWidth:0},this.previewSeekerRef=b.createRef()}componentDidMount(){const{playCanvasPreviewOnMount:e,setPlayCanvasPreviewOnMount:t}=this.props;e?setTimeout((()=>{t(!1)}),2e3):this.props.pauseStudio()}componentDidUpdate(e,t){var a;window.addEventListener("resize",this.handlePreviewSeekerResize);Math.max(0,Math.min(this.props.studioTime,this.videoDuration()))>rA(this.props.studio,this.props.layers,this.props.backgroundSubtitleFrames).duration&&function(){const{state:e}=Mu(),t=e.studio.duration;dY()>t&&KJ(t)}();const n=(null==(a=this.previewSeekerRef.current)?void 0:a.getBoundingClientRect().width)??0;(t.previewSeekerWidth!==n||e.commentsOpen!==this.props.commentsOpen||e.mediaSidebarTab!==this.props.mediaSidebarTab)&&this.handlePreviewSeekerResize()}componentWillUnmount(){this.props.pauseStudio(),this.updateSliderCbId&&(clearInterval(this.updateSliderCbId),this.updateSliderCbId=void 0),window.removeEventListener("resize",this.handlePreviewSeekerResize)}renderSlider(){const{studioTime:e,condensed:t}=this.props,{clearSeekInProgress:a}=this.props;return f.jsxs(Gi,{className:L(rlt,{[llt]:t}),"data-cy":"studio-seeker",value:hlt(e),onValueChange:this.handleSliderValueChange,onValueCommit:a,max:this.videoDuration(),min:0,step:.01,children:[f.jsx(Ki,{className:L(dlt,{[clt]:t})}),f.jsx($i,{className:L(ult,{[plt]:t})})]})}renderTimer(){const e=vP(this.videoDuration()),{name:t,condensed:a}=this.props||"";return f.jsx(mit,{totalTime:e,name:t,condensed:a})}render(){const{name:e,timeline:t,isImageVideo:a,comments:n,hideComments:s=!1}=this.props,o={};return this.props.duration||a||t||(o.display="none"),t?f.jsx("div",{className:`${e}-preview-seeker-wrapper`,style:o,children:this.renderNewTrackpad()}):f.jsxs("div",{className:L(`${e}-preview-seeker-wrapper`,{condensedWrapper:this.props.condensed}),style:o,children:[f.jsxs("div",{className:`${e}-preview-seeker-tools-container`,children:[this.renderPlayPause(),"canvas"!==e&&"sceneview"!==e&&f.jsx("button",{type:"button",className:"subtitle-tools-button subtitles-preview-seeker-pause-button",onClick:()=>{this.restartVideo()},children:f.jsx(As,{})}),"canvas"!==e&&"sceneview"!==e&&this.renderTimer()]}),f.jsxs("div",{className:`${e}-preview-seeker-container`,ref:e=>{e&&(this.previewSeekerRef.current=e,this.handlePreviewSeekerResize())},children:[!s&&n&&n.map((e=>f.jsx(yit,{comment:e,preview:!0,customPxInSeconds:(this.state.previewSeekerWidth-20)/this.videoDuration()},e._id))),this.renderSlider(),!this.props.condensed&&("canvas"===e||"sceneview"===e)&&this.renderTimer()]}),this.props.condensed&&("canvas"===e||"sceneview"===e)&&f.jsx("div",{className:mlt,children:this.renderTimer()})]})}}const flt=r.connect((e=>({duration:e.studio.duration,isImageVideo:e.studio.isImageVideo,layers:Gx(e),overlayMounted:e.studio.overlayMounted,playCanvasPreviewOnMount:e.studio.playCanvasPreviewOnMount,studioPaused:VJ(e),comments:e.comments.comments,commentsOpen:e.comments.commentsOpen,mediaSidebarTab:e.selectedTabs["media-sidebar"],backgroundSubtitleFrames:nA(e.studio),studio:e.studio})),(e=>j({playStudio:oB,pauseStudio:sB,setSeekInProgress:wit,clearSeekInProgress:_it,setPlayCanvasPreviewOnMount:iq},e))),blt=lY(flt(vlt)),ylt="CommentEdit-module_editTextBox_731X7",wlt="CommentEdit-module_editTextBoxLongTimestamp_sC4QU",_lt="CommentEdit-module_editButtonsContainer_D-CUa",Clt="CommentEdit-module_saveButton_OWswO",Slt="CommentEdit-module_cancelButton_lFIA7",xlt="CommentEdit-module_buttonText_Oz7bh",Ilt="CommentEdit-module_disabledSaveButton_9docL",Alt=b.memo((({comment:e,setEditMode:t,location:a})=>{const n=Bu(),s=i.useRef(!1),[o,r]=i.useState(e.content);async function l(){try{await Zf(`/api/v1/comments/${e._id}`,{body:{content:o}}),xv("edited comment",a),n(yG({commentId:e._id,updates:{content:o}})),t(!1)}catch(b9e){cb({description:"Failed to edit the comment",error:b9e})}}const d=o.trim().length>0;return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:`${ylt} ${(e.videoTime||0)>=3600?wlt:""}`,onKeyUp:e=>{r(e.target.innerText)},onClick:e=>e.stopPropagation(),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),l())},ref:e=>{if(e&&s.current){null==e||e.focus();const t=document.createRange();t.selectNodeContents(e),t.collapse(!1);const a=window.getSelection();a&&(a.removeAllRanges(),a.addRange(t)),s.current=!1}},onPaste:Ist,contentEditable:!0,suppressContentEditableWarning:!0,children:e.content}),f.jsxs("div",{className:_lt,ref:e=>{null==e||e.scrollIntoView({block:"nearest",behavior:"smooth"})},children:[f.jsx("button",{className:Slt,type:"submit",onClick:a=>{a.stopPropagation(),r(e.content),t(!1)},children:f.jsx("span",{className:xlt,children:"Cancel"})}),f.jsx("button",{className:`${Clt} ${d?"":Ilt}`,type:"submit",disabled:!d,onClick:e=>{e.stopPropagation(),d&&l()},children:f.jsx("span",{className:xlt,children:"Save"})})]})]})})),klt="CommentElement-module_commentContainer_YsECi",Tlt="CommentElement-module_selectedCommentContainer_uUsbx",Elt="CommentElement-module_commentLeft_fknQ4",Llt="CommentElement-module_commentRight_LCd5H",jlt="CommentElement-module_threadParentComment_cGCcM",Rlt="CommentElement-module_childCommentContainer_mPI-6",Nlt="CommentElement-module_commentHeader_hOHPZ",Mlt="CommentElement-module_timestampAndCommentContainer_85Mud",Plt="CommentElement-module_editingTimestampAndCommentContainer_paA0o",Flt="CommentElement-module_commentContent_2ANzu",Dlt="CommentElement-module_userNameContainer_Vcm-U",Olt="CommentElement-module_userName_7tQ4k",Ult="CommentElement-module_profilePic_UdMnO",Blt="CommentElement-module_dateText_u0bXp",Wlt="CommentElement-module_line_UzTyc",Vlt="CommentReplyCount-module_container_6MlZM",Hlt="CommentReplyCount-module_profilePic_tNEns",zlt=b.memo((({commentReplies:e})=>{const t=[],a=new Set;for(const{_id:n,user:s}of e){const e=null==s?void 0:s.picture;if(e){if(a.has(e))continue;if(t.push(f.jsx(xve,{user:s,className:Hlt},n)),a.add(e),t.length>3)break}}return f.jsxs("div",{className:Vlt,"data-cy":"comment-reply-count",children:[t,f.jsx("span",{children:e.length>1?`${e.length} replies`:"1 reply"})]})})),Glt="DeleteCommentDialog-module_deleteDialogContainer_uI5iD",Ylt="DeleteCommentDialog-module_header_mWNDH",Klt="DeleteCommentDialog-module_description_pgByU",Xlt="DeleteCommentDialog-module_buttonsContainer_hVn1-",Zlt={color:"black"},qlt=b.memo((({onDelete:e,hideDelete:t,hasReplies:a})=>{const[n,s]=i.useState(!1),o=i.useCallback((async()=>{s(!0),e(),s(!1),t()}),[t,e]);let r="Delete Comment",l="Are you sure you want to delete this comment?";return a&&(r+=" Thread",l+=" Deleting this comment will delete all replies in the thread."),f.jsx(rC,{unsetCancelModal:t,overlayContainerSmaller:!0,children:f.jsxs("div",{className:Glt,children:[f.jsx("div",{className:Ylt,children:r}),f.jsx("div",{className:Klt,children:l}),f.jsx("div",{className:Xlt,children:f.jsx(U_,{cancelFn:t,confirmFn:o,loadingMsg:n?"Deleting...":void 0,stopClickPropogation:!0,cancelStyle:Zlt})})]})})})),Jlt="MoreOptions-module_moreOptions_0xY23",$lt="MoreOptions-module_moreOptionsIcon_ROQfL",Qlt="MoreOptions-module_buttonContainer_Kcg4G",edt="MoreOptions-module_buttonLabel_vHbe4",tdt="MoreOptions-module_buttonText_OEero",adt="MoreOptions-module_buttonIcon_HVA-9",ndt=b.memo((({handleEditing:e,handleDeleteComment:t,handleReply:a})=>{const[n,s]=i.useState(!1),o=i.useRef(null),r=i.useRef(null),l=e=>{e.stopPropagation(),s((e=>!e))},d=i.useCallback((e=>{l(e)}),[]);return i.useEffect((function(){const e=e=>{var t,a;(null==(t=r.current)?void 0:t.contains(e.target))||(null==(a=o.current)?void 0:a.contains(e.target))||s(!1)};if(n)return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[n]),f.jsxs("div",{ref:o,className:Jlt,children:[f.jsx(ks,{className:$lt,onClick:d,"data-cy":"comment-options-toggle","data-testid":"comment-options-toggle"}),n&&f.jsxs("div",{className:Qlt,ref:e=>{null==e||e.scrollIntoView({block:"nearest"}),r.current=e},children:[t&&f.jsxs("div",{className:edt,onClick:e=>{l(e),t()},"data-cy":"delete-comment-button","data-testid":"delete-comment-button",children:[f.jsx(Ts,{className:adt}),f.jsx("span",{className:tdt,children:"Delete"})]}),e&&f.jsxs("div",{className:edt,onClick:t=>{l(t),e()},"data-cy":"edit-comment-button","data-testid":"edit-comment-button",children:[f.jsx(Es,{className:adt}),f.jsx("span",{className:tdt,children:"Edit"})]}),a&&f.jsxs("div",{className:edt,onClick:e=>{l(e),a()},"data-cy":"reply-comment-button","data-testid":"reply-comment-button",children:[f.jsx(Ls,{className:adt}),f.jsx("span",{className:tdt,children:"Reply"})]})]})]})})),sdt="Timestamp-module_timestamp_LjdHX",odt="Timestamp-module_staticTimestamp_IDUHs",idt="Timestamp-module_timestampContainer_Blddy",rdt="Timestamp-module_timestampEditableContainer_GDLQn",ldt="Timestamp-module_staticTimestampInEditContainer_QwngF",ddt="Timestamp-module_disabledTimestampContainer_6PEuN",cdt="Timestamp-module_staticTimestampContainer_NLuLb",udt="Timestamp-module_timestampEditable_lWB1j",pdt=b.memo((({videoTimestamp:e,isEditable:t,maxTime:a,disabled:n,inEditModeComment:s,seekOnCurrentVideo:o})=>{const{hours:i,minutes:r,seconds:l}=(e=>{let t=e;const a=Math.floor(t/3600);return t%=3600,{hours:a,minutes:Math.floor(t/60),seconds:Math.floor(t%60)}})(e),d=e=>{e.target.type="text",e.target.setSelectionRange(0,e.target.value.length),e.target.type="number"},c=(e,t)=>{const n=parseInt(e.target.value),s=("seconds"===t?n:l)+60*("minutes"===t?n:r)+3600*("hours"===t?n:i),d=Math.min(s,a);o(d)};return t?f.jsxs("div",{className:`${rdt} ${n?ddt:""}`,"data-cy":"comment-post-timestamp",children:[!!i&&f.jsxs(f.Fragment,{children:[f.jsx("input",{className:udt,type:"number",name:"hours",value:i.toString().padStart(2,"0"),placeholder:i.toString(),onFocus:d,onChange:e=>c(e,"hours"),"data-cy":"comment-post-timestamp-hours"}),f.jsx("span",{className:sdt,children:":"})]}),f.jsx("input",{className:udt,type:"number",name:"minutes",value:r.toString().padStart(2,"0"),placeholder:r.toString(),onFocus:d,onChange:e=>c(e,"minutes"),"data-cy":"comment-post-timestamp-seconds"}),f.jsx("span",{className:sdt,children:":"}),f.jsx("input",{className:udt,type:"number",name:"seconds",value:l.toString().padStart(2,"0"),placeholder:l.toString(),onFocus:d,onChange:e=>c(e,"seconds"),"data-cy":"comment-post-timestamp-seconds"})]}):f.jsx("div",{className:`${idt} ${s?ldt:cdt} ${n?ddt:""}`,onClick:t=>{t.stopPropagation(),o(e)},children:f.jsxs("div",{className:odt,children:[!!i&&`${i.toString().padStart(2,"0")}:`,r.toString().padStart(2,"0"),":",l.toString().padStart(2,"0")]})})})),mdt=b.memo((({comment:e,replies:t,maxTime:a,disableTimeStamp:n,isChild:s,location:o,onCommentSelected:r,onCommentEditStart:l,seekOnCurrentVideo:d,threadParent:c})=>{var u;const{selectedCommentId:p,currentUser:m,currentVideo:g}=Du((e=>({selectedCommentId:e.comments.selectedCommentId,currentUser:e.currentUser,currentVideo:e.currentVideo})),Ou),h=i.useMemo((()=>p===e._id),[p,e._id]),[v,b]=i.useState(!1),[y,w]=i.useState(!1),_=i.useRef(!1),C=Bu();zne((function(){h&&null!==e.videoTime&&d(e.videoTime)}));const S=e.creatorId&&e.creatorId===m.user._id,x=S||!!g.creatorId&&g.creatorId===m.user._id,I=i.useCallback((()=>{l(e.videoTime),_.current=!0,b(!0)}),[e.videoTime,l]),A=i.useCallback((async()=>{try{await Yf(`/api/v1/comments/${e._id}`,{}),xv("deleted comment",o,{teamId:g.teamId,creatorId:g.creatorId}),C(wG(e._id))}catch(b9e){cb({description:"Failed to delete comment",error:b9e})}}),[e._id,g.creatorId,g.teamId,C,o]),k=Object.keys(e.user??{}).length>0?null==(u=e.user)?void 0:u.name:"Anonymous User",T=i.useCallback((()=>{C(hG(e._id)),r(e._id,e.videoTime)}),[e._id,e.videoTime,C,r]),E=i.useCallback((()=>{w(!0)}),[]),L=i.useCallback((()=>{w(!1)}),[]);return f.jsxs(f.Fragment,{children:[!s&&f.jsx("div",{className:Wlt}),f.jsxs("div",{className:(()=>{const e=[klt];return s&&e.push(Rlt),h&&e.push(Tlt),c&&e.push(jlt),e.join(" ")})(),onClick:()=>{var t;(null==(t=window.getSelection())?void 0:t.toString())||(h?C(hG("")):(C(hG(e._id)),r(e._id,e.videoTime)))},spellCheck:!1,"data-cy":"video-comment","data-testid":"video-comment",children:[f.jsx("div",{className:Elt,children:f.jsx(xve,{user:e.user,className:Ult,custom:Est(e)})}),f.jsxs("div",{className:Llt,children:[f.jsxs("div",{className:Nlt,children:[f.jsxs("div",{className:Dlt,children:[f.jsx("div",{className:Olt,translate:"no",children:k}),f.jsx("span",{className:Blt,children:(j=e.createdAt,le(j).format("h:mma MMMM Do"))})]}),f.jsx(ndt,{handleEditing:S?I:void 0,handleDeleteComment:x?E:void 0,handleReply:p?void 0:T})]}),f.jsxs("div",{className:`${Mlt} ${v?Plt:""}`,children:[null!==e.videoTime&&f.jsx(pdt,{videoTimestamp:e.videoTime,isEditable:!1,maxTime:a,disabled:n,inEditModeComment:v,seekOnCurrentVideo:d}),f.jsx("span",{translate:"no",children:v?f.jsx(Alt,{comment:e,setEditMode:b,location:o}):f.jsx("div",{className:Flt,children:e.content})})]}),(null==t?void 0:t.length)&&f.jsx(zlt,{commentReplies:t})]}),y&&f.jsx(qlt,{hideDelete:L,onDelete:A,hasReplies:!!(null==t?void 0:t.length)})]},e._id)," "]});var j})),gdt="CommentPost-module_commentPostContainer_ybMf9",hdt="CommentPost-module_replyPostContainer_B3YQJ",vdt="CommentPost-module_commentPostRow_OWIKa",fdt="CommentPost-module_commentPostRow2_ydej2",bdt="CommentPost-module_commentPostContainerInputFocused_hPzyG",ydt="CommentPost-module_timeStampAndInputContainer_HHD3E",wdt="CommentPost-module_postTextBox_l48u-",_dt="CommentPost-module_disabledPostTextBox_3snuP",Cdt="CommentPost-module_postTextBoxWithTimestamp_9GIK0",Sdt="CommentPost-module_postTextBoxWithLongTimestamp_ikF6j",xdt="CommentPost-module_checkboxContainer_--JS0",Idt="CommentPost-module_postButton_aN9t7",Adt="CommentPost-module_disabledPostButton_gfL2X",kdt="CommentPost-module_inlinePostButton_Pc84o",Tdt="CommentPost-module_invisibleTranslatablePlaceholder_9FJSz",Edt="CommentPost-module_mobilePostTextBox_zaLdt",Ldt="CommentPost-module_extraDark_f60GU",jdt=b.memo((({currentVideoTime:e,maxTime:t,disabled:a,mobileView:n,replyPost:s,onPostSuccess:o,location:r,seekOnCurrentVideo:l,commentContainerRef:d,inputBoxRef:c})=>{var u;const{selectedCommentParentId:p,currentVideo:m}=Du((e=>{const{selectedCommentId:t,comments:a}=e.comments;return{selectedCommentParentId:Sst(a,t),currentVideo:e.currentVideo}}),Ou),g=s?p:void 0,[h,v]=i.useState(!1),[b,y]=i.useState(!1),[w,_]=i.useState(!1),[C,S]=i.useState(!s),x=i.useRef(null),I=Bu(),[A,k]=i.useState(void 0),T=a||!w||b,E=async()=>{y(!0);const t=c.current.innerText.trim();if(!t)return void I(db({description:"Please enter a comment.",type:"error"}));const a=m._id;if(a){try{const s={content:t,videoTime:C?e:void 0,submittedAt:m.submittedAt,location:r,parentId:g},i=await Xf(`/api/v1/videos/${a}/addComment`,{body:s});xv(g?"reply":"new comment",r,{includeTimestamp:C,teamId:m.teamId,creatorId:m.creatorId}),n&&c.current&&c.current.blur(),I(bG(i.newComment)),null==o||o()}catch(b9e){cb({description:"Failed to post comment.",error:b9e})}c.current&&(c.current.innerText="",_(!1)),y(!1)}else I(db({description:"There was an error with getting the id of the current video.",type:"error"}))};let L=g?"Type your reply":"Add a comment...";a&&(L="Exporting in progress... you can leave a comment after the export is complete"),i.useEffect((()=>k(L)),[L]);const j=i.useCallback((()=>{S(!C)}),[C]),R=[];R.push([a?_dt:wdt]),void 0!==e&&C&&(e>=3600?R.push(Sdt):R.push(Cdt)),n&&R.push(Edt);const N=f.jsx("div",{className:T?Adt:Idt,"data-cy":(s?"reply-":"")+"comment-post-button","data-testid":"comment-post-button",onClick:E,children:s?"Reply":"Comment"});return f.jsxs("div",{className:`${s?hdt:gdt} ${n&&h?bdt:""}`,ref:e=>{if(e&&s){if(!d.current)return;const t=d.current.getBoundingClientRect(),a=e.getBoundingClientRect();(a.bottom>t.bottom||a.top<t.top)&&e.scrollIntoView({block:"end",behavior:"smooth"})}},"data-cy":s?"comment-reply-box":"comment-post-box",children:[f.jsx("div",{className:Tdt,ref:x,translate:"yes",children:L}),f.jsxs("div",{className:vdt,children:[f.jsxs("div",{className:ydt,children:[void 0!==e&&C&&f.jsx(pdt,{videoTimestamp:e,isEditable:!a,maxTime:t,seekOnCurrentVideo:l},"commentTimeStamp"),f.jsx("div",{className:R.join(" "),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),E())},onKeyUp:e=>{const t=e.target.innerText||"";_(!!t.trim().length)},onBlur:e=>{e.target.innerText.trim().length||(e.target.innerText=""),n&&v(!1)},ref:c,"data-placeholder":(null==(u=x.current)?void 0:u.textContent)||L,contentEditable:!a,onPaste:e=>{a||(Ist(e),_(!0))},"data-cy":(s?"reply-":"")+"comments-input-field","data-testid":"comments-input-field"})]}),(void 0===e||s)&&f.jsx("div",{className:kdt,children:N})]}),void 0!==e&&!s&&f.jsxs("div",{className:fdt,children:[f.jsx("div",{className:xdt,children:f.jsx(w_e,{disabled:a,checkboxClassName:Ldt,label:"Include timestamp",checked:C,onChange:j})}),N]})]})})),Rdt="CommentSection-module_commentSection_o7EwG",Ndt="CommentSection-module_studio_grHma",Mdt="CommentSection-module_commentsTitleBar_fM6Mh",Pdt="CommentSection-module_collapseIcon_4jZLT",Fdt="CommentSection-module_commentsTitle_6e6kg",Ddt="CommentSection-module_emptyCommentMessage_aiV-d",Odt="CommentSection-module_commentsContent_zmA2q",Udt="CommentSection-module_selected_DnEf4",Bdt="CommentSection-module_finalVideo_bJlz9",Wdt="CommentSection-module_commentPostContainer_OVa-k",Vdt="CommentSection-module_commentThreadContainer_jzIK9",Hdt="CommentSection-module_fillMaxHeight_5iyvL",zdt="CommentSection-module_canvasPreviewSeekerContainer_v7CKG",Gdt="CommentThread-module_commentList_jpowm",Ydt=b.memo((({parentComment:e,replies:t,onCommentSelected:a,onCommentEditStart:n,maxTime:s,seekOnCurrentVideo:o,location:i})=>f.jsxs("div",{className:Gdt,children:[f.jsx(mdt,{comment:e,disableTimeStamp:!!(e.videoTime&&e.videoTime>s),maxTime:s,onCommentSelected:a,onCommentEditStart:n,seekOnCurrentVideo:o,threadParent:!0,location:i},e._id),null==t?void 0:t.map((e=>f.jsx(mdt,{comment:e,disableTimeStamp:!!(e.videoTime&&e.videoTime>s),maxTime:s,isChild:!0,onCommentSelected:a,onCommentEditStart:n,seekOnCurrentVideo:o,location:i},e._id)))]}))),Kdt="MobileSelectedCommentHeader-module_commentsThreadHeader_pOjPh",Xdt="MobileSelectedCommentHeader-module_commentsThreadHeaderLeft_M0r4r",Zdt="MobileSelectedCommentHeader-module_commentsThreadHeaderRight_lrZhJ",qdt="MobileSelectedCommentHeader-module_commentsThreadBackIcon_9ETIp",Jdt="MobileSelectedCommentHeader-module_disabled_7YOGw";const $dt=b.memo((function(){const{selectedCommentId:e,comments:t}=Du((e=>({selectedCommentId:e.comments.selectedCommentId,comments:e.comments.comments})),Ou),a=Bu(),[n,s]=i.useState([]),[o,r]=i.useState(0);i.useEffect((function(){const a=Sst(t,e),n=(null==t?void 0:t.filter((e=>!e.parentId)))||[];s(n.map((({_id:e})=>e))),r(n.findIndex((({_id:e})=>e===a)))}),[t,e]);const l=i.useCallback((()=>{const e=o-1;e>=0&&a(hG(n[e]))}),[n,a,o]),d=i.useCallback((()=>{const e=o+1;e<n.length&&a(hG(n[e]))}),[n,a,o]);return f.jsxs("div",{className:Kdt,"data-cy":"mobile-selected-comment-header",children:[f.jsxs("div",{className:Xdt,onClick:()=>{a(hG())},children:[f.jsx(js,{size:22,className:qdt}),"All Comments"]}),n.length>1&&o+1<=n.length&&f.jsxs("div",{className:Zdt,children:[f.jsx(Rs,{size:22,className:0===o?Jdt:"",onClick:l}),o+1," of ",n.length,f.jsx(Ns,{size:22,className:o+1===n.length?Jdt:"",onClick:d})]})]})})),Qdt={marginTop:20};function ect({maxTime:e,currentVideoTime:t,onCommentEditStart:a,onCommentSelected:n,contentExporting:s,mobileView:o,location:r,onCommentPostSuccess:l,seekOnCurrentVideo:d,commentsLoading:c}){const u=Bu(),{comments:p,selectedCommentId:m,selectedComment:g}=Du((e=>{const{comments:t,selectedCommentId:a}=e.comments,n=null==t?void 0:t.find((e=>e._id===a));return{comments:t,selectedCommentId:a,selectedComment:n}}),Ou),[h,v]=i.useState([]),[b,y]=i.useState({}),w=i.useRef(null),_=i.useRef(null),C=i.useRef(null),S=i.useRef(null),x=(null==g?void 0:g.parentId)||(null==g?void 0:g._id);i.useEffect((function(){const e=[],t={};null==p||p.forEach((a=>{var n;const{parentId:s}=a;s?(t[s]||(t[s]=[]),null==(n=t[s])||n.push(a)):e.push(a)})),v(e),y(t)}),[p]);const I=()=>{w.current&&w.current.scrollTo({top:w.current.scrollHeight,behavior:"smooth"})},A=i.useCallback((()=>{setTimeout(I,100),null==l||l()}),[l]),k=!!(o&&m&&g);return f.jsxs("div",{className:L(Rdt,r===Iu.Studio&&Ndt,r!==Iu.Studio&&Bdt),"data-cy":"comments-section","data-testid":"comment-section",children:[f.jsxs("div",{className:Mdt,children:[!o&&r===Iu.Studio&&f.jsx(kt,{className:Pdt,color:"white",size:16,onClick:()=>{u(hG("")),u(vG(!1))},"data-cy":"comments-section-collapse","data-testid":"comments-section-collapse"}),f.jsx("div",{className:Fdt,children:"COMMENTS"})]}),k&&f.jsx($dt,{}),f.jsxs("div",{className:L(Odt,{[Udt]:k}),ref:w,"data-cy":"comments-list-div",id:"comments-content-list",children:[c&&f.jsx(Ile,{wrapperStyles:Qdt}),!c&&k&&f.jsx("div",{className:Vdt,children:f.jsx(Ydt,{maxTime:e,parentComment:g,replies:b[m],onCommentSelected:n,onCommentEditStart:a,seekOnCurrentVideo:d,location:r})}),!c&&!k&&(h.length?h.map((s=>s._id===x?f.jsxs("div",{ref:_,children:[f.jsx(Ydt,{maxTime:e,parentComment:s,replies:b[s._id],onCommentSelected:n,onCommentEditStart:a,seekOnCurrentVideo:d,location:r}),f.jsx("div",{children:f.jsx(jdt,{currentVideoTime:t,maxTime:e,mobileView:o,location:r,replyPost:!0,onPostSuccess:l,seekOnCurrentVideo:d,commentContainerRef:w,inputBoxRef:S})})]},s._id):f.jsx(mdt,{location:r,comment:s,maxTime:e,replies:b[s._id],onCommentSelected:n,onCommentEditStart:a,seekOnCurrentVideo:d},s._id))):f.jsx("div",{className:Ddt,children:"No comments yet."})),o&&f.jsx("div",{className:Hdt})]}),f.jsxs("div",{className:Wdt,children:[f.jsx(jdt,{currentVideoTime:t,disabled:s,maxTime:e,mobileView:o,onPostSuccess:A,location:r,replyPost:k,seekOnCurrentVideo:d,commentContainerRef:w,inputBoxRef:C}),o&&r===Iu.Studio&&f.jsx("div",{className:zdt,children:f.jsx(blt,{name:glt.canvas})})]})]})}const tct=b.memo((({currentVideoRef:e,contentExporting:t,mobileView:a})=>{var n,s,o;const{id:r,commentId:l}=D(),d=Bu(),c=i.useRef(!1),u=i.useRef(!1),[p,m]=i.useState(null==(n=null==e?void 0:e.current)?void 0:n.currentTime);i.useEffect((function(){return c.current=!0,()=>{c.current=!1}}),[]),i.useEffect((function(){function t(e){m(this.currentTime)}if(null==e?void 0:e.current){const a=e.current;return a.addEventListener("timeupdate",t),()=>{a.removeEventListener("timeupdate",t)}}return()=>{}}),[e]);const g=i.useCallback((async()=>{if(!r||u.current)return;u.current=!0;const e=await kst(r);c.current&&(d(gG(e)),u.current=!1)}),[d,r]);i.useEffect((function(){g()}),[g]),i.useEffect((function(){d(hG(l))}),[d,l]);const h=i.useCallback(((t,a)=>{var n,s;void 0!==(null==(n=null==e?void 0:e.current)?void 0:n.currentTime)&&void 0!==(null==(s=null==e?void 0:e.current)?void 0:s.duration)&&(e.current.currentTime="number"!=typeof e.current.duration||isNaN(e.current.duration)?t:Math.min(t,e.current.duration),a&&e.current.pause())}),[e]),v=(null==(s=null==e?void 0:e.current)?void 0:s.duration)||0,b=i.useCallback(((e,t)=>{"number"==typeof t&&h(t)}),[h]),y=i.useCallback((e=>{"number"==typeof e&&h(e,!0)}),[h]),w=i.useCallback((e=>{e<=v&&h(e)}),[v,h]);return f.jsx(ect,{maxTime:(null==(o=null==e?void 0:e.current)?void 0:o.duration)||0,currentVideoTime:p,contentExporting:t,mobileView:a,onCommentSelected:b,onCommentEditStart:y,onCommentPostSuccess:g,seekOnCurrentVideo:w,location:Iu.Export})})),act="VideoPlayer-module_videoPlayerContainer_jfU4D",nct="VideoPlayer-module_videoPlayerLandscape_HkG94",sct="VideoPlayer-module_videoPlayerPortrait_iM06X",oct="VideoPlayer-module_videoPlayerImage_egPzd",ict={color:"#eee",fontWeight:600},rct=b.memo((({autoPlay:e=!0,downloadUrl:t,videoId:a,loop:n=!1,maxHeight:s,maxWidth:o,minHeight:l,muted:d=!1,showControls:c=!0,setCurrentVideoRef:u,allowFullscreen:p=!0})=>{const{isProjectFetched:m}=Du((e=>({isProjectFetched:e.studioLocal.isProjectFetched})),r.shallowEqual),[g,h]=i.useState(!0),[v,b]=i.useState(!1),y=i.useRef(null),[w,_]=i.useState(!1),C=i.useRef(""),S=F(),x={};s&&(x.maxHeight=600,x.height="100%"),o&&(x.maxWidth=600,x.width="100%");const I=Xh(t);i.useEffect((()=>{y.current&&(null==u||u(y))}),[v,u]);i.useEffect((()=>{if(C.current.startsWith("blob:"))return;const e=iS(t);e&&(C.current=e,h(!1))}),[t,m]);const A=["nodownload"];p||A.push("nofullscreen");const k=A.join(" ");return g?f.jsx(Ile,{text:"Getting url...",textStyles:ict}):f.jsx("div",{className:act,children:"image"===I||"gif"===I?(()=>{const e={};return l&&(e.minHeight=l),f.jsx("img",{alt:"Final",src:t,style:e,className:oct,"data-cy":"final-image",loading:"lazy",onError:()=>ov("Access Expired Export",{"Video ID":a,"Entry Point":n2.FINAL_VIDEO_PAGE})})})():f.jsx("video",{id:"final-video","data-cy":"final-video",onLoadedMetadata:()=>{if(console.debug("onloadedmetadata"),!y.current)return;if(!("videoWidth"in y.current))return;const{videoWidth:e,videoHeight:t}=y.current;t>e&&_(!0);if("true"===new URLSearchParams(S.search).get(G1.COMMENT)){const e=Ev.get("VIDEO_TIME_BEFORE_SIGN_IN",{disabled:0});e&&(y.current.currentTime=Number(e),console.debug("about to remove video time",e),Ev.remove("VIDEO_TIME_BEFORE_SIGN_IN"))}},ref:e=>{y.current=e,b(!0)},autoPlay:e,className:(()=>{let e="";return e+=w?` ${sct}`:` ${nct}`,e})(),controls:c,loop:n,muted:d,playsInline:!0,preload:__()?"metadata":"auto",src:t+"#t=0.01",style:x,controlsList:k,onError:()=>ov("Access Expired Export",{"Video ID":a,"Entry Point":n2.FINAL_VIDEO_PAGE})})})})),lct=e=>{const t={};return(null==e?void 0:e.status)!==uu.COMPLETED?null:(null==e?void 0:e.filesize)&&(null==e?void 0:e.format)?(t.filesize=e.filesize,t.format=e.format,e.width&&e.height&&(t.resolution=`${e.width}x${e.height}`),t.quality=e.quality,t):null},dct=b.memo((({text:e,commentingView:t,projectId:a,entryPoint:n,isCopyDisabled:s})=>{const o=P(),i=OZe();return f.jsxs("button",{type:"button",className:`${s?zit.disabled:""} edit-video-menu-link ${t?Lst.videoActionButton:Ust}`,onClick:async()=>{const{copiedProject:e}=await i(a,{entryPoint:n});o(`/${e.videoId}/studio/editor`)},disabled:s,"data-cy":"copy-and-edit-button",children:[f.jsx(vs,{className:t?Lst.actionIcon:Bst}),f.jsx("span",{children:e})]})}));class cct extends i.Component{constructor(){super(...arguments),a(this,"state",{loading:!1}),a(this,"setReEditOrigin",(()=>{const{currentVideo:e}=this.props;e._id&&this.props.setOrigin("re-edit")})),a(this,"getDownloadInfo",(()=>{const{downloadName:e,exportDTO:t}=this.props,a=e||(null==t?void 0:t.name);if((null==t?void 0:t.status)===uu.COMPLETED&&a&&t.format)return{name:a,format:t.format}}))}render(){const{exportDTO:e,currentVideo:t,commentingView:a,onDownload:n,canWrite:s}=this.props,{creatorId:o}=t,i=!e||this.state.loading,r=o&&s;let l=r?"Copy project and edit":"Edit a copy";if(a&&(l="Make a copy"),a){const s=lct(e);return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:Lst.topEditLeft,children:[r&&(null==e?void 0:e.videoId)?f.jsx("div",{className:Lst.buttonWrapper,children:f.jsx(Cst,{videoId:e.videoId,setReEditOrigin:this.setReEditOrigin,isEditDisabled:i,commentingView:a})}):null,t.projectId&&f.jsx(dct,{isCopyDisabled:this.state.loading,text:l,commentingView:a,projectId:t.projectId,entryPoint:s2.FINAL_VIDEO_PAGE}),f.jsx(Kst,{})]}),f.jsxs("div",{className:Lst.topEditRight,children:[s&&f.jsx(Gst,{metadata:s}),(null==e?void 0:e.status)===uu.COMPLETED&&f.jsx(yst,{onDownload:n,downloadUrl:e.downloadUrl,downloadOptions:this.getDownloadInfo(),entryPoint:n2.FINAL_VIDEO_PAGE})]})]})}return!r&&t.projectId?f.jsx(dct,{isCopyDisabled:this.state.loading,text:l,commentingView:a,projectId:t.projectId,entryPoint:s2.FINAL_VIDEO_PAGE}):f.jsxs(f.Fragment,{children:[(null==e?void 0:e.videoId)&&f.jsx("div",{className:Lst.buttonWrapper,children:f.jsx(Cst,{videoId:e.videoId,setReEditOrigin:this.setReEditOrigin,isEditDisabled:i,commentingView:a})}),t.projectId&&f.jsx(dct,{isCopyDisabled:this.state.loading,text:l,commentingView:a,projectId:t.projectId,entryPoint:s2.FINAL_VIDEO_PAGE})]})}}const uct=r.connect((e=>({currentVideo:e.currentVideo,currentUser:e.currentUser,workspaces:e.workspaces,currentFolderId:e.workspaces.selectedWorkspace,selectedTeamId:e.teams.selectedTeamId,canWrite:e.userPermissions.canWrite})),(e=>j({setOrigin:rq,setCurrentFolder:df},e)))(cct);function pct(){return{type:"RESET_STATE_PRESERVE_USER"}}function mct(e){return{type:"UPDATE_ENTIRE_STATE",newStateProperties:e}}const gct="ExportNotificationOptions-module_exportNotificationOptionsContainer_Smrec",hct="ExportNotificationOptions-module_bellIcon_gxTmo",vct="ExportNotificationOptions-module_bellIconRightSidebar_jV-Um",fct="ExportNotificationOptions-module_changeOption_00MUb",bct=b.memo((({inRightSidebar:e=!1})=>{const t=Du((e=>e.currentUser)),{muteExportCompleteNotificationSound:a}=t.user,n=a?Ms:Ps,s=`A notification chime will${a?" not":""} play when the export finishes`,o=a?"Turn it on":"Turn it off";return f.jsxs("div",{className:gct,children:[f.jsxs("div",{children:[f.jsx(n,{className:e?vct:hct}),s]}),f.jsx("div",{className:fct,onClick:()=>function(e){const{state:t,dispatch:a}=Mu(),{user:n}=t.currentUser||{};return a(NP({...n,muteExportCompleteNotificationSound:e})),n._id?Xf("/api/v1/users/updateProfile/muteExportCompleteNotificationSound",{body:{muteExportCompleteNotificationSound:e},parseJSON:!1}).then((()=>Qf())):new Promise((()=>{}))}(!a),children:o})]})}));function yct(e){ov("Share Final Video",{type:e,"Entry Point":n2.FINAL_VIDEO_PAGE})}function wct(e,t=!1){const{token:a,user:n}=Mu().state.currentUser||{},{_id:s}=n||{};return Zf(`/api/v2/videos/${e}/share`,{body:{token:a,userId:s,write:t}})}const _ct="Sharing-module_container_wPwfg",Cct="Sharing-module_commentViewContainer_ZG-mM",Sct="Sharing-module_header_XK8WR",xct="Sharing-module_copyLinkButton_yR7fq",Ict="Sharing-module_shareOptionsContainer_cWKNz",Act="Sharing-module_postToSocialsButton_-3h80",kct="Sharing-module_input_Tuz83",Tct="Sharing-module_moreContainer_07piK",Ect="Sharing-module_embedButton_2ibWV",Lct="Sharing-module_embedButtonIcon_GVNSx",jct="Sharing-module_socialMediaButtons_GrIiC",Rct="Sharing-module_socialOptionIcon_GtQP-",Nct=["kapwing"],Mct=b.memo((e=>{const{showEmbedModal:t,inCommentView:a}=e,[n,s]=i.useState(!1),o=i.useRef(null),r=Bu(),l=Du((e=>e.currentVideo)),d=Du((e=>e.studio.videoType)),c=`https://www.kapwing.com/videos/${l._id}`;i.useEffect((()=>{const e=window.location.search,t=new URLSearchParams(e).get("tiktokstatus");t&&r(db("success"===t?{description:"Shared succesfully - Check the TikTok app to finish posting your video",type:"success"}:{description:`Something went wrong. ${t}`,type:"error"}))}),[r]);const u=()=>{const{_id:e}=l||{};return e&&yct("Twitter"),Promise.resolve()},p=()=>{const{_id:e}=l||{};return e&&yct("Facebook"),Promise.resolve()};return l&&l._id?f.jsxs("div",{className:a?Cct:_ct,children:[f.jsxs("div",{className:Sct,children:[f.jsx("div",{children:"Share this"}),f.jsx("div",{className:xct,onClick:()=>{s(!0),setTimeout((()=>{s(!1)}),1500);const{_id:e}=l||{};e&&yct("Link");navigator.clipboard.writeText(c).then((()=>{var e;if(o.current){const t=o.current;null==(e=null==window?void 0:window.getSelection())||e.selectAllChildren(t)}}))},children:n?"Copied!":"Copy link"})]}),f.jsx("div",{className:kct,ref:o,children:c}),f.jsxs("div",{className:Tct,children:[f.jsxs("div",{className:jct,children:[(()=>{const{name:e}=l;let t="Project";e&&(t=e);const a=((e,t=navigator.language)=>{const[a,...n]=e;return void 0===a?e:a.toLocaleUpperCase(t)+n.join("")})(t);return f.jsx(Ds,{beforeOnClick:u,hashtags:Nct,title:`${a} made with Kapwing`,url:c,via:"kapwingapp",children:f.jsx(Os,{className:Rct})})})(),f.jsx(Us,{beforeOnClick:p,"data-cy":"facebook-share-button",url:c,children:f.jsx(Bs,{className:Rct})})]}),f.jsxs("div",{className:Ict,children:[l._id&&f.jsx(I7e,{exportId:e.exportId,format:Nye(d),defaultTitle:l.name,thumbnailUrl:e.thumbnailUrl,className:Act,entrypoint:eye.FINAL_VIDEO_PAGE,size:12}),f.jsxs("div",{className:Ect,onClick:()=>{const{_id:e}=l||{};t(),e&&yct("Embed")},children:[f.jsx(Fs,{className:Lct})," Embed"]})]})]})]}):null})),Pct="VideoPrivacyOptions-module_container_UZIo9",Fct="VideoPrivacyOptions-module_inVideoContainer_D3Gs6",Dct="VideoPrivacyOptions-module_currentPrivacy_qwzqp",Oct="VideoPrivacyOptions-module_changePrivacy_kpGQn",Uct="VideoPrivacyOptions-module_privacyIcon_wcw9z",Bct=b.memo((({videoId:e,userHasAccess:t,privacy:a,inVideoContainer:n,downloadUrl:s})=>{const o=Bu(),i=rse(),r=gg(Fd.CHANGE_PRIVACY);if(!t)return null;const l=Xh(s);return f.jsxs("div",{className:n?Fct:Pct,children:[f.jsxs("div",{className:Dct,children:[a?f.jsx(Ws,{className:Uct,color:"white"}):f.jsx(Vs,{className:Uct,color:"white"}),`This ${l} is ${a===ad.private?nd.private:nd.unlisted}`]}),f.jsxs("div",{className:Oct,onClick:async()=>{if(!r)return void i((()=>null),{action:Dd.PRIVACY})();const t=a===ad.private?ad.unlisted:ad.private;try{const a=await X1(e,t);o(V6(a))}catch(b9e){cb({description:"Error changing video privacy",error:b9e})}},children:[`Make ${l} ${a===ad.private?nd.unlisted:nd.private}`,!r&&f.jsx(_se,{})]})]})}));class Wct extends i.Component{constructor(){super(...arguments),a(this,"resetProject",(()=>{const{resetStudio:e}=this.props;e(),ov("Start New Project from Final Video")})),a(this,"getDownloadInfo",(()=>{const{downloadName:e,exportDTO:t}=this.props,a=e||(null==t?void 0:t.name);if((null==t?void 0:t.status)===uu.COMPLETED&&a&&t.format)return{name:a,format:t.format}})),a(this,"renderBackToWorkspace",(()=>{const{currentUser:e}=this.props;return f.jsx(mn,{to:"/",onClick:this.resetProject,children:f.jsxs("div",{className:Ust,children:[f.jsx(hs,{className:Bst}),f.jsx("span",{children:qm(e)?"Return to workspace":"Return to Kapwing"})]})})})),a(this,"renderDescription",(()=>{const{showReportIssueModal:e}=this.props,t=hg(Fd.REPORT_ISSUE);return f.jsxs("div",{className:Wst,children:["Tag ",f.jsx("strong",{children:"#kapwing"})," so we can find you on social media!"," ",t&&f.jsxs("span",{children:["Any issues?"," ",f.jsx("button",{type:"button",className:Vst,onClick:()=>e(),children:"Report a problem"})," ","and let us know."]})]})}))}renderMetaData(){const e=lct(this.props.exportDTO),t=xst(e);return t?f.jsx("div",{className:Pst,children:t.map((({label:e,value:t},a)=>f.jsxs("div",{className:Fst,children:[f.jsx("div",{className:Dst,children:`${e}:`}),f.jsx("div",{className:Ost,children:t})]},a)))}):null}render(){const{exportDTO:e,currentUser:t,currentVideo:a,showEmbedModal:n,showTikTokModal:s,mobileCommentsView:o}=this.props;return f.jsx("div",{className:o?Rst:jst,"data-cy":"options-container",children:f.jsxs("div",{className:o?Mst:Nst,children:[(null==e?void 0:e.snapshotId)&&f.jsx("div",{className:Hst,children:f.jsx(Fnt,{snapshotId:e.snapshotId,afterExport:this.props.afterRemoveWatermark})}),f.jsx(cit,{className:Hst}),e&&f.jsx(Mct,{exportId:e.id,showEmbedModal:n,showTikTokModal:s}),f.jsx(uct,{}),f.jsx("div",{className:zst,children:(null==e?void 0:e.status)===uu.COMPLETED&&f.jsx(yst,{onDownload:this.props.onDownload,downloadUrl:e.downloadUrl,downloadOptions:this.getDownloadInfo(),inRightSidebar:!0,entryPoint:n2.FINAL_VIDEO_PAGE})}),f.jsx("div",{children:(null==e?void 0:e.status)===uu.COMPLETED&&f.jsx(Bct,{videoId:e.videoId,privacy:a.privacy,downloadUrl:e.downloadUrl,userHasAccess:!!a.workspaceId&&R3(a.workspaceId)})}),f.jsx("div",{className:zst,children:f.jsx(Kst,{})}),this.renderBackToWorkspace(),f.jsx(bct,{inRightSidebar:!0}),this.renderDescription(),this.renderMetaData(),$m(t)?f.jsx(Qot,{}):null]})})}}const Vct=r.connect((e=>({currentVideo:e.currentVideo,currentUser:e.currentUser,imageType:e.studio.imageType})),(e=>j({resetStatePreserveUser:pct,resetStudio:tb},e)))(Wct),Hct="FollowUsOnTwitter-module_container_Ak5RQ",zct="FollowUsOnTwitter-module_closeContainer_wh6jK",Gct="FollowUsOnTwitter-module_contentContainer_eR9sv",Yct="FollowUsOnTwitter-module_title_Kd-Vh",Kct="FollowUsOnTwitter-module_icon_be2lA",Xct="FollowUsOnTwitter-module_context_ZfzYL",Zct="FollowUsOnTwitter-module_twitterButton_8KN--",qct="FollowUsOnTwitter-module_followButton_kt4FW",Jct=b.memo((({hideOverlay:e})=>{i.useEffect((()=>{const e=document.createElement("script");e.src="https://platform.twitter.com/widgets.js",e.charset="utf-8",document.body.appendChild(e)}),[]);return f.jsxs("div",{className:Hct,children:[f.jsx("div",{className:zct,children:f.jsx(R,{onClick:e})}),f.jsxs("div",{className:Yct,children:[f.jsx(Hs,{className:Kct})," Your download has started!"]}),f.jsx("div",{className:Gct,children:f.jsxs(f.Fragment,{children:[f.jsx("div",{className:Xct,children:"Your content has started downloading. Please check your downloads folder for your exported file."}),f.jsx("div",{className:Xct,children:"We'd love to connect with you on social media. Follow us to get the latest information on product changes, feature updates, and social media trends."}),f.jsx("div",{className:qct,children:f.jsx("a",{href:"https://twitter.com/KapwingApp?ref_src=twsrc%5Etfw",className:`twitter-follow-button ${Zct}`,"data-size":"large","data-show-count":"false",children:"Follow @KapwingApp"})})]})})]})})),$ct="ShareLink-module_container_j-BDX",Qct="ShareLink-module_loadingContainer_8OZP-",eut="ShareLink-module_loader_4NeUN",tut="ShareLink-module_closeContainer_iEy5d",aut="ShareLink-module_title_GM1Gp",nut="ShareLink-module_contentContainer_xf-UQ",sut="ShareLink-module_linkContainer_JhcfA",out="ShareLink-module_linkText_ywb6R",iut="ShareLink-module_copyLink_Tlj-5";class rut extends i.Component{constructor(e){super(e),a(this,"copyTimeout"),a(this,"shortLink"),a(this,"getShortLink",(()=>{const{currentVideo:e}=this.props,{code:t}=e||{};try{return Zqe(t)}catch(a){return cb({description:"Failed to get share link",error:a}),"n/a"}})),a(this,"onCopy",(()=>{navigator.clipboard.writeText(this.shortLink),this.setState({copiedShortLink:!0}),setTimeout((()=>this.setState({copiedShortLink:!1})),3e3)})),a(this,"onClickLink",(e=>{e.target.setSelectionRange(0,e.target.value.length)})),a(this,"renderClose",(()=>f.jsx("div",{className:tut,children:f.jsx(R,{onClick:this.props.hideOverlay})}))),this.state={copiedShortLink:!1},this.shortLink=this.getShortLink()}componentWillUnmount(){this.copyTimeout&&clearTimeout(this.copyTimeout)}renderShortLink(){const{copiedShortLink:e}=this.state;return f.jsx("div",{children:f.jsxs("div",{className:sut,children:[f.jsx("input",{className:out,id:"short-link",onClick:this.onClickLink,readOnly:!0,value:this.shortLink}),f.jsx("button",{className:iut,"data-clipboard-target":"#short-link",onClick:this.onCopy,children:e?"Copied":"Copy"})]})})}renderContent(){return f.jsx("div",{className:nut,children:this.renderShortLink()})}render(){const{code:e}=this.props.currentVideo||{};return null==e?f.jsxs("div",{className:Qct,children:[this.renderClose(),f.jsx("div",{className:eut,children:f.jsx(Ile,{})})]}):f.jsxs("div",{className:$ct,children:[this.renderClose(),f.jsx("div",{className:aut,children:"Share a link"}),this.renderContent()]})}}const lut=r.connect((e=>({currentVideo:e.currentVideo})))(rut),dut="ShareTikTok-module_container_8tPN2",cut="ShareTikTok-module_closeContainer_v-MfM",uut="ShareTikTok-module_contentContainer_5cgYI",put="ShareTikTok-module_title_Ka-ui",mut="ShareTikTok-module_icon_3-0gL",gut="ShareTikTok-module_context_edwnk",hut="ShareTikTok-module_button_B8r9h",vut=b.memo((({hideOverlay:e})=>{let t;const a=()=>{const{location:{protocol:e,host:a,pathname:n}={}}=window;t=`${e}//${a}${n}${(null==n?void 0:n.endsWith("/"))?"":"/"}logintiktok`,window.location.href=t};return f.jsxs("div",{className:dut,children:[f.jsx("img",{src:"https://i.imgur.com/Axk8BiL.png",alt:"Kapwing and TikTok"}),f.jsx("div",{className:cut,children:f.jsx(R,{onClick:e})}),f.jsxs("div",{className:uut,children:[f.jsx("div",{className:put,children:"Share to TikTok"}),f.jsx("div",{className:gut,children:"After clicking the share button you will be redirected to TikTok's website, where you will be prompted to sign in and then authorize Kapwing to share videos for you. Then, you will be able to complete sharing from the TikTok app."}),f.jsxs("button",{type:"button",className:hut,onClick:a,children:[f.jsx(zs,{className:mut})," Share to TikTok"]})]})]})})),fut={height:630,width:1200},but={},yut={color:"#eee",fontWeight:600};class wut extends i.Component{constructor(e){super(e),a(this,"_mounted",!1),a(this,"serverProcessedVideoShown",!1),a(this,"sensor",null),a(this,"startedCheckingExportNotif",!1),a(this,"exportCheckCondition"),a(this,"getVideoLockStatus",(async e=>{if(e)try{const t={id:e};(await Kf("/api/v1/videos/locked",{params:t})).locked&&this.setState({locked:!0})}catch(b9e){console.error("Error getting video lock status:",b9e)}})),a(this,"fetchVideo",(async()=>{const{match:e,navigate:t,showToast:a}=this.props,{isLoading:n}=this.state,s=e.params.id;if(!n&&s){this.setState({isLoading:!0});try{const e=await e9({id:s,preserveId:!0});this.setState({isLoading:!1}),(async e=>{const{state:t}=Mu(),{workspaces:a}=t,n=e.workspaceId,s=a.allWorkspaces.find((e=>e._id===n));let o,i=null==s?void 0:s.type;try{!s&&n&&(i=await O3(n))}catch(b9e){console.error("Failed to fetch folder type",b9e)}switch(i){case Zl.personal:o="Private";break;case Zl.team:o="Team"}const r={"Is Team Member":Jh(e.teamId??""),"Is Project Owner":qh(e.creatorId??"")};o&&(r["Project Location"]=o),ov("Access Final Video Page",r)})(e),z5(e),e._id&&(this.getVideoLockStatus(e._id),await Zte(s))}catch(o){let e;this.setState({isLoading:!1});let n=!1;if(o instanceof Hf)switch(o.status){case 403:e=o.message,n=!0;break;case 404:e="Content couldn't be found.",n=!0;break;case 410:e="Content has been deleted.",n=!0}n&&(a({description:e||ub(o).message,type:"error"}),t("/"))}}})),a(this,"hideOverlay",(()=>{this.setState({overlay:void 0})})),a(this,"showOverlay",(e=>{this.setState({overlay:e})})),a(this,"hideReportIssueModal",(()=>{this.setState({showReportIssueModal:!1})})),a(this,"showReportIssueModal",(e=>{this.setState({showReportIssueModal:!0,showReportIssueSource:e})})),a(this,"onDownload",(()=>{const{currentUser:e}=this.props,t=ug();!function(e){if(!qm(e))return!1;const{accountType:t}=e.user;return t===sd.student}(e)&&t.isFree&&Math.floor(11*Math.random())>=6&&this.showOverlay("follow-us-on-twitter")})),a(this,"showLinkModal",(()=>{this.showOverlay("share-link")})),a(this,"showEmbedModal",(()=>{var e;const t=null==(e=this.props.currentVideo)?void 0:e._id;t&&ov("Initiate Embed",{"Entry Point":Eu.FinalVideoPage,"Video ID":t}),wA({modalType:fA.EMBED_CODE,exportFormat:Nye(this.props.format),entryPoint:Eu.FinalVideoPage})})),a(this,"showTikTokModal",(()=>{this.showOverlay("share-tik-tok")})),a(this,"setCurrentVideoRef",(e=>{this.setState({currentVideoRef:e})})),a(this,"setExportName",(e=>{this.setState({exportName:e})})),a(this,"checkShowExportEmailMessage",(async()=>{var e,t;const a=null==(e=this.props.currentVideo)?void 0:e._id,n=!!(null==(t=this.props.currentUser.user.optOutEmails)?void 0:t.includes(Ac.Export));if(this.startedCheckingExportNotif||!qm(this.props.currentUser)||n||!a)return;this.startedCheckingExportNotif=!0;const s=async e=>{const t=(new Date).getTime();if("stop"===this.exportCheckCondition||t-e>18e4)return;let n="lastCheck"!==this.exportCheckCondition;try{const{jobExists:e,userExporter:t}=await Kf(`/api/v1/videos/${a}/emailOnExport`);t&&this.setState({showEmailMessage:!0}),(t||e)&&(n=!1)}catch(b9e){console.error("Error while checking show export email message",b9e)}n&&setTimeout((()=>s(e)),5e3)};s((new Date).getTime())})),a(this,"showProgressReportIssueModal",(()=>{this.showReportIssueModal("progress")})),a(this,"showOptionsReportIssueModal",(()=>{this.showReportIssueModal("options")})),a(this,"handleOnFinishedVideo",(()=>{const{currentUser:e}=this.props;if("stop"!==this.exportCheckCondition&&!e.user.muteExportCompleteNotificationSound){new Audio("/export-notification-chime.mp3").play(),this.exportCheckCondition="stop"}})),a(this,"handleOnFirstProgressLoad",(()=>{this.exportCheckCondition="lastCheck"})),this.state={showReportIssueModal:!1,showReportIssueSource:"",currentVideoRef:null,showEmailMessage:!1,locked:!1,isLoading:!1,exportName:void 0}}componentDidMount(){const{resetCurrentVideo:e,selectTab:t,location:a}=this.props,n=window.innerWidth<=1024;this.setState({commentsMobileSize:n}),e(),this.fetchVideo(),this._mounted=!0,this.sensor=new Gs.ResizeSensor(document.body,(()=>{this.setState({commentsMobileSize:window.innerWidth<=1024})}));const s=new URLSearchParams(a.search);(this.props.match.params.commentId||"true"===s.get(G1.COMMENT))&&t({tabId:"Comments",tabContainerId:"mobile-options-container"})}componentDidUpdate(e,t){var a,n;const{match:s,currentVideo:o={},userPermissions:i}=this.props;o._id!==s.params.id&&this.fetchVideo(),o._id&&!(null==(a=e.currentVideo)?void 0:a._id)&&z5(o),0===Object.keys(i).length&&o._id&&Zte(o._id),!o.done&&(null==(n=e.currentVideo)?void 0:n.done)&&(this.serverProcessedVideoShown=!1),this.state.commentsMobileSize&&!t.commentsMobileSize&&this.props.match.params.commentId&&m0({tabId:"Comments",tabContainerId:"mobile-options-container"})}componentWillUnmount(){var e;null==(e=this.sensor)||e.detach(),this._mounted=!1}getGifDimensions(){const{adjusted_height:e,adjusted_width:t,height:a,width:n}=this.props.currentVideo||{};let s=a||e||1,o=n||t||1;return o>=s?(s=200*s/o,o=200):(o=200*o/s,s=200),[s,o]}getVideoDimensions(){const{adjusted_height:e,adjusted_width:t,height:a,width:n}=this.props.currentVideo||{},s=a||e||1,o=n||t||1;let i=Math.min(Math.max(1280,s),1920),r=Math.min(Math.max(1280,o),1920);return r>=i?i=r*s/o:r=i*o/s,[i,r]}getHelmetDimensions(e){const{privacy:t}=this.props.currentVideo||{};if(t)return fut;const[a,n]="gif"===e?this.getGifDimensions():this.getVideoDimensions();return{height:a,width:n}}getUrl(){let{hostDomain:e}=this.props;const{currentVideo:t={}}=this.props,{_id:a}=t;return e||(e=document&&document.domain),`https://${e}/videos/${a}`}getImageUrl(){const{currentVideo:e={}}=this.props,{privacy:t}=e;return t?"https://cdn-useast1.kapwing.com/static/jQ9-og-image-(1).webp":rS(e,"image_url")}getVideoUrl(e){const{currentVideo:t}=this.props;if(!t)return;const{privacy:a,video_url:n}=t||{};return"image"===e||a?void 0:"gif"===e&&n?n:rS(t,"fullPath")}getImageTags({height:e,width:t}){const a=this.getImageUrl();return[f.jsx("meta",{property:"og:image",content:a},"ogImage"),f.jsx("meta",{property:"og:image:height",content:e},"ogImageHeight"),f.jsx("meta",{property:"og:image:secure_url",content:a},"ogImageSecureUrl"),f.jsx("meta",{property:"og:image:url",content:a},"ogImageUrl"),f.jsx("meta",{property:"og:image:width",content:t},"ogImageWidth"),f.jsx("meta",{property:"twitter:image",content:a},"twitterImage")]}getVideoTags({content:e="video/mp4",height:t,outputType:a,width:n}){const s=this.getVideoUrl(a);return s?[f.jsx("meta",{property:"og:type",content:"video"},"ogType"),f.jsx("meta",{property:"og:video",content:s},"ogVideo"),f.jsx("meta",{property:"og:video:height",content:t},"ogVideoHeight"),f.jsx("meta",{property:"og:video:secure_url",content:s},"ogVideoSecureUrl"),f.jsx("meta",{property:"og:video:type",content:e},"ogVideoType"),f.jsx("meta",{property:"og:video:width",content:n},"ogVideoWidth")]:null}showingVideoProgress(){return!!this.context.exportDTO&&this.context.exportDTO.status!==uu.COMPLETED}renderHelmet(){const{currentVideo:e={},facebookAppId:t}=this.props,{fullPath:a,name:n}=e,s=Xh(a),{height:o,width:i}=this.getHelmetDimensions(s),r=e=>{const t=e.toLowerCase();return t.charAt(0).toUpperCase()+t.slice(1)};let l=`${r(s)}  Kapwing`;n&&(l=`${n}  Kapwing`);const d=`${r(s)} made on Kapwing`;return f.jsxs(Nt,{children:[f.jsx("title",{children:l}),f.jsx("meta",{name:"description",content:d}),f.jsx("meta",{property:"fb:app_id",content:t}),f.jsx("meta",{property:"og:description",content:d}),f.jsx("meta",{property:"og:title",content:n}),f.jsx("meta",{property:"og:url",content:this.getUrl()}),f.jsx("meta",{name:"robots",content:"noindex, nofollow"}),this.getImageTags({height:o,width:i}),this.getVideoTags({height:o,outputType:s,width:i})]})}renderFinalVideo(){const{exportDTO:e}=this.context;if((null==e?void 0:e.status)!==uu.COMPLETED)throw new Error("Unable to render final video for non-completed export");return f.jsx(rct,{autoPlay:!1,setCurrentVideoRef:this.setCurrentVideoRef,downloadUrl:e.downloadUrl,videoId:e.videoId})}renderVideoProgress(){const{exportDTO:e}=this.context;if(!e)return null;const{currentUser:t,currentVideo:a,currentFolderId:n,thumbnailUrl:s}=this.props;return f.jsx(gst,{exportDTO:e,currentUser:t,currentVideo:a||but,currentFolderId:n,hideReportIssueModal:this.hideReportIssueModal,showReportIssueModal:this.showProgressReportIssueModal,thumbnailUrl:s,onFinishedVideo:this.handleOnFinishedVideo,onFirstProgressLoad:this.handleOnFirstProgressLoad})}renderBody(){const{currentVideo:e={},currentUser:t,canWrite:a,thumbnailUrl:n}=this.props,{currentVideoRef:s,commentsMobileSize:o=!1,showEmailMessage:i}=this.state,{exportDTO:r}=this.context,l=ug(),d=void 0===a;let c,u=!1,p=!1;const m=e.creatorId===t.user._id,g=f.jsx("div",{className:Lst.loadingWrapper,children:f.jsx(Ile,{text:"Loading content...",textStyles:yut})});(null==r?void 0:r.status)===uu.COMPLETED?(c=this.renderFinalVideo(),u=!0,this.serverProcessedVideoShown=!0,u=!0):r?c=this.renderVideoProgress():(c=g,p=!0);let h=null,v=!1;if(e._id&&!e.creatorId)h=f.jsx(Vct,{afterRemoveWatermark:this.fetchVideo,hideOverlay:this.hideOverlay,onDownload:this.onDownload,downloadName:this.state.exportName,showEmbedModal:this.showEmbedModal,showLinkModal:this.showLinkModal,showReportIssueModal:this.showOptionsReportIssueModal,showTikTokModal:this.showTikTokModal});else if(d)h=f.jsx("div",{className:Lst.commentsContainerWrapper,children:f.jsx("div",{className:Nst})});else if(o){const e=m?["actions","comments"]:["comments","actions"];h=f.jsxs(Wr,{defaultValue:e[0],children:[f.jsx(Vr,{className:Lst.tabsHolder,children:e.map((e=>f.jsx(vl,{value:e,className:Lst.tab,"data-cy":`mobile-options-container-tab-${e}`,children:e},e)))}),f.jsx(zr,{value:"actions",children:f.jsx(Vct,{afterRemoveWatermark:this.fetchVideo,hideOverlay:this.hideOverlay,onDownload:this.onDownload,downloadName:this.state.exportName,showEmbedModal:this.showEmbedModal,showLinkModal:this.showLinkModal,showReportIssueModal:this.showOptionsReportIssueModal,showTikTokModal:this.showTikTokModal,mobileCommentsView:!0})}),f.jsx(zr,{value:"comments",children:f.jsx(tct,{currentVideoRef:s,contentExporting:!u,mobileView:!0})})]})}else v=!p,h=f.jsxs("div",{className:Lst.commentsContainerWrapper,children:[f.jsxs("div",{className:Lst.commentsSharingWrapper,children:[(null==r?void 0:r.snapshotId)&&f.jsx(Fnt,{snapshotId:r.snapshotId,afterExport:this.fetchVideo}),f.jsx(cit,{className:Lst.upsellBlock}),r&&n&&f.jsx(Mct,{exportId:r.id,showEmbedModal:this.showEmbedModal,showTikTokModal:this.showTikTokModal,inCommentView:!0,thumbnailUrl:n})]}),f.jsx(tct,{currentVideoRef:s,contentExporting:!u}),$m(t)?f.jsx("div",{className:Lst.adminSectionWrapper,children:f.jsx(Qot,{commentingView:!0})}):null]});return f.jsxs("div",{className:Lst.finalVideoContainer,children:[f.jsxs("div",{className:Lst.finalVideoPreviewContainer,children:[v&&f.jsx("div",{className:Lst.topEditButtonContainer,children:f.jsx(uct,{onDownload:this.onDownload,downloadName:this.state.exportName,commentingView:!0,exportDTO:r})}),f.jsx("div",{className:Lst.commentsFinalVideoContainer,children:f.jsx("div",{className:v?Lst.commentingVideoContainerContent:Lst.videoContainerContent,children:c})}),i&&this.showingVideoProgress()&&this.renderEmailMessage(),v&&f.jsxs("div",{className:Lst.privacyAndSocialWrapper,children:[f.jsx("div",{children:e._id&&e.fullPath&&f.jsx(Bct,{videoId:e._id,downloadUrl:e.fullPath,privacy:e.privacy,userHasAccess:!!e.workspaceId&&R3(e.workspaceId),inVideoContainer:!0})}),f.jsxs("div",{className:`${Wst} ${Lst.socialDescription}`,children:["Tag ",f.jsx("strong",{children:"#kapwing"})," so we can find you on social media!"," ",l.isPaid&&f.jsxs("span",{children:["Any issues?"," ",f.jsx("button",{type:"button",className:Vst,onClick:()=>this.showReportIssueModal("options"),children:"Report a problem"})," ","and let us know."]})]})]})]}),h]})}renderOverlay(){let e;switch(this.state.overlay){case"share-link":e=f.jsx(lut,{hideOverlay:this.hideOverlay});break;case"share-tik-tok":e=f.jsx(vut,{hideOverlay:this.hideOverlay});break;case"follow-us-on-twitter":e=f.jsx(Jct,{hideOverlay:this.hideOverlay});break;default:return null}return f.jsxs("div",{className:Lst.overlay,children:[f.jsx("div",{className:Lst.overlayBackground,onClick:this.hideOverlay}),e]})}renderEmailMessage(){return f.jsx("div",{className:Lst.emailMessageContainer,children:f.jsxs("div",{className:Lst.emailMessageDiv,children:[f.jsx("p",{children:f.jsx("b",{children:"Taking too long? You can close this page."})}),f.jsx("p",{children:"We will send you an email with a download link when your project is ready."})]})})}renderLocked(){const{locked:e}=this.state;if(!e)return null;const t={action:Dd.STORAGE_LIMIT,closeable:!1};return f.jsx(ase,{...t})}render(){const{match:e}=this.props,{showReportIssueModal:t,showReportIssueSource:a}=this.state,n="progress"===a;return f.jsxs("div",{children:[this.renderHelmet(),f.jsx(pit,{onChangeName:this.setExportName}),this.renderBody(),this.renderLocked(),f.jsx(Int,{}),this.renderOverlay(),t&&f.jsx(Lat,{hide:this.hideReportIssueModal,videoId:e.params.id,fromVideoProgress:n})]})}}a(wut,"contextType",uit);const _ut=vC(r.connect(((e,t)=>{const{match:a}=t,{id:n}=a.params,s=e.currentVideo._id&&e.currentVideo._id===n,o=e.studio._id&&e.studio._id===n;let i;return s?i=e.currentVideo:o&&(i=e.studio),{currentUser:e.currentUser,currentVideo:i,currentFolderId:e.workspaces.selectedWorkspace,facebookAppId:e.config.FACEBOOK_APP_ID,editorPath:e.editorPath,projectId:null==i?void 0:i.projectId,thumbnailUrl:e.studio.image_url,surveyEligible:o,canWrite:e.userPermissions.canWrite,userPermissions:e.userPermissions,format:e.studio.videoType}}),(e=>j({updateCurrentVideo:H6,resetCurrentVideo:G6,selectTab:m0,showToast:db},e)))(wut)),Cut=vC((({match:e,hostDomain:t})=>{const a=e.params.id,n=jye(a),{data:s,refetch:o}=n,r={exportDTO:s,refetch:o};return i.useEffect((()=>{if(!o)return;const e=setInterval(o,5e3);return()=>clearInterval(e)}),[o]),f.jsx(uit.Provider,{value:r,children:f.jsx(_ut,{hostDomain:t})})}));class Sut extends i.Component{constructor(){super(...arguments),a(this,"fetchVideo",(()=>{const{match:e,navigate:t}=this.props;e9({id:e.params.id,forEditing:!0,forTemplate:!0}).then((()=>{Ev.get("CURRENT_TEMPLATE",{disabled:null})?oR("/studio/editor/templates"):uR()})).catch((e=>{cb({description:"Failed to load template",error:e}),t("/",{replace:!0})}))}))}componentDidMount(){Ev.remove("LANDING_PAGE_RESET_STUDIO"),this.props.resetCurrentVideo(),this.props.clearUserPermissions(),this.fetchVideo()}componentDidUpdate(e){const{location:t}=this.props,{location:a}=e;a.pathname!==t.pathname&&this.fetchVideo()}render(){return f.jsx(ibe,{theme:h_.Studio})}}const xut=r.connect((e=>({currentVideo:e.currentVideo,currentUser:e.currentUser})),(e=>j({resetCurrentVideo:G6,resetStatePreserveUser:pct,updateEntireState:mct,clearUserPermissions:$te,showToast:db},e))),Iut=vC(xut(Sut)),Aut="AccountSettings-module_container_zgqp7",kut="AccountSettings-module_pageHeader_aUJab",Tut="AccountSettings-module_sectionHeader_dPxqR",Eut="AccountSettings-module_sectionContent_7Hs-m",Lut="AccountSettings-module_subItem_hwlVZ",jut="AccountSettings-module_deleteAccountLink_e2yeB",Rut="AccountSettings-module_connectedAccountsControlsContainer_qKtNR",Nut="AccountSettings-module_channelConnectedClassname_sDfxy",Mut="AccountSettings-module_channelDisconnectButton_iWB2p",Put="AccountSettings-module_channelDisconnectedClassname_xtPzv",Fut="AccountSettings-module_channelLabelContainer_PHHc0",Dut="AccountSettings-module_channelIcon_fLUyd",Out="NotificationSettings-module_notificationsTable_RZdok",Uut="NotificationSettings-module_helpIcon_wohad",But="NotificationSettings-module_exportTooltip_F-pzV",Wut="NotificationSettings-module_disabledHeader_x0dus",Vut="NotificationSettings-module_disabledOption_R21Xh",Hut="NotificationSettings-module_switch_m5zZh",zut="NotificationSettings-module_slider_bJono",Gut=b.memo((({checked:e,onSwitch:t,disabled:a})=>{const n=i.useRef(!1);return f.jsxs("label",{className:`${Hut} ${a?Vut:""}`,children:[f.jsx("input",{type:"checkbox",checked:e,onChange:async()=>{n.current||(n.current=!0,await t(!e),n.current=!1)},disabled:a}),f.jsx("span",{className:zut})]})})),Yut=b.memo((()=>{var e,t,a,n,s,o,r,l;const d=Du((e=>e.currentUser.user)),u=Du(qj),p=!!(null==d?void 0:d.email),[m,g]=i.useState(!1),[h,v]=i.useState(void 0),[b,y]=i.useState(!1),w=i.useCallback((async()=>{try{const{failed:e,isUnsubscribed:t}=await async function(e){try{return await Kf("/api/v1/users/marketingEmailPreferences",{params:{email:e}})}catch(b9e){return!1}}(d.email);v(t),y(e)}catch(b9e){console.error(b9e)}}),[d.email]);i.useEffect((()=>{u&&p&&w()}),[u,p,w]);const _=i.useCallback((e=>MP(Ac.Comment,e,Ic.InApp)),[]),C=i.useCallback((e=>MP(Ac.Comment,e,Ic.Email)),[]),S=i.useCallback((()=>{g(!0)}),[]),x=i.useCallback((()=>{g(!1)}),[]),I=i.useCallback((e=>MP(Ac.Export,e,Ic.InApp)),[]),A=i.useCallback((e=>MP(Ac.Export,e,Ic.Email)),[]),k=i.useCallback((e=>MP(Ac.Joined,e,Ic.InApp)),[]),T=i.useCallback((e=>MP(Ac.Joined,e,Ic.Email)),[]),E=i.useCallback((e=>MP(Ac.Request,e,Ic.InApp)),[]),L=i.useCallback((e=>MP(Ac.Request,e,Ic.Email)),[]),j=i.useMemo((()=>c.throttle((async e=>{v(!e),await async function(e,t){try{await Xf("/api/v1/users/marketingEmailPreferences",{body:{email:e,unsubscribe:t}})}catch(b9e){console.error(b9e)}}(d.email,!e)}),1e3)),[d.email]);return f.jsxs("table",{className:Out,children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Notifications"}),f.jsx("th",{children:"IN APP"}),f.jsx("th",{className:p?"":Wut,children:"EMAIL"})]})}),f.jsxs("tbody",{children:[f.jsxs("tr",{children:[f.jsx("td",{children:"Comment notifications"}),f.jsx("td",{children:f.jsx(Gut,{checked:!(null==(e=d.optOutNotifs)?void 0:e.includes(Ac.Comment)),onSwitch:_})}),f.jsx("td",{children:f.jsx(Gut,{checked:p&&!(null==(t=d.optOutEmails)?void 0:t.includes(Ac.Comment)),onSwitch:C,disabled:!p})})]}),f.jsxs("tr",{children:[f.jsxs("td",{children:["Export finished"," ",f.jsx(Ys,{size:16,className:Uut,onMouseEnter:S,onMouseLeave:x}),m&&f.jsx("div",{className:But,children:"Notifications will only be sent out if project export fails or takes longer than 60 seconds to complete."})]}),f.jsx("td",{children:f.jsx(Gut,{checked:!(null==(a=d.optOutNotifs)?void 0:a.includes(Ac.Export)),onSwitch:I})}),f.jsx("td",{children:f.jsx(Gut,{checked:p&&!(null==(n=d.optOutEmails)?void 0:n.includes(Ac.Export)),onSwitch:A,disabled:!p})})]}),f.jsxs("tr",{children:[f.jsx("td",{children:"Team member joined"}),f.jsx("td",{children:f.jsx(Gut,{checked:!(null==(s=d.optOutNotifs)?void 0:s.includes(Ac.Joined)),onSwitch:k})}),f.jsx("td",{children:f.jsx(Gut,{checked:p&&!(null==(o=d.optOutEmails)?void 0:o.includes(Ac.Joined)),onSwitch:T,disabled:!p})})]}),f.jsxs("tr",{children:[f.jsx("td",{children:"Request notifications"}),f.jsx("td",{children:f.jsx(Gut,{checked:!(null==(r=d.optOutNotifs)?void 0:r.includes(Ac.Request)),onSwitch:E})}),f.jsx("td",{children:f.jsx(Gut,{checked:p&&!(null==(l=d.optOutEmails)?void 0:l.includes(Ac.Request)),onSwitch:L,disabled:!p})})]}),u&&f.jsxs("tr",{children:[f.jsx("td",{children:"Product tips and updates"}),f.jsx("td",{}),f.jsx("td",{children:f.jsx(Gut,{checked:p&&void 0!==h&&!h,onSwitch:j,disabled:!p||b||void 0===h})})]})]})]})})),Kut="EditableProfilePicture-module_container_wW6G5",Xut="EditableProfilePicture-module_containerOverlay_saixe",Zut="EditableProfilePicture-module_profileImage_e0F5Q",qut="EditableProfilePictureEditor-module_wrapper_8nTwB",Jut="EditableProfilePictureEditor-module_editor_xm3Dz",$ut="EditableProfilePictureEditor-module_frameTop_wmcXj",Qut="EditableProfilePictureEditor-module_frameBottom_RrHqb",ept="EditableProfilePictureEditor-module_windowRow_cngtT",tpt="EditableProfilePictureEditor-module_frameLeft_epeHQ",apt="EditableProfilePictureEditor-module_frameRight_AEtCG",npt="EditableProfilePictureEditor-module_image_sOECE",spt="EditableProfilePictureEditor-module_squareWindow_CHbm4",opt="EditableProfilePictureEditor-module_controlsWrapper_-wwwi",ipt="EditableProfilePictureEditor-module_controlsHeader_KrAQZ",rpt="EditableProfilePictureEditor-module_controls_YARsW",lpt="EditableProfilePictureEditor-module_zoom_CQwBz",dpt="EditableProfilePictureEditor-module_position_GROBt",cpt="EditableProfilePictureEditor-module_label_Lrumm",upt="EditableProfilePictureEditor-module_button_ZBWCl",ppt="EditableProfilePictureEditor-module_arrow_bjH1y",mpt="EditableProfilePictureEditor-module_footer_OIBMb",gpt="EditableProfilePictureEditor-module_submit_ia-nn",hpt="EditableProfilePictureEditor-module_uploading_JXf3b",vpt="EditableProfilePictureEditor-module_cancel_mBf8Z",fpt=b.memo((({inputFile:e,image:t,cancel:a})=>{const[n,s]=i.useState({width:0,height:0,top:0,left:0}),[o,r]=i.useState(0),[l,d]=i.useState(!1),{token:c}=Du((e=>e.currentUser)),u=Bu(),p=i.useRef(null);i.useEffect((()=>{const e=new Image;e.onload=()=>{s({...m(e.width,e.height)})},e.src=t}),[t]);const m=(e,t)=>{let a=200,n=200;e>t?a=Math.round(200*e/t):e<t&&(n=Math.round(200*t/e));let s=50,o=180;if(p&&p.current){const e=p.current.offsetWidth;s=(p.current.offsetHeight-n)/2,o=(e-a)/2}return{width:a,height:n,top:s,left:o}},g=()=>{let e=560,t=300;p&&p.current&&(e=p.current.offsetWidth,t=p.current.offsetHeight);const a=(e-200)/2,n=(t-200)/2;return{leftSide:a,rightSide:a+200,topSide:n,bottomSide:n+200}};return f.jsxs("div",{className:qut,children:[f.jsxs("div",{className:Jut,ref:p,children:[f.jsx("img",{src:t,className:npt,alt:"New Profile Pic",style:{...n}}),f.jsx("div",{className:$ut}),f.jsxs("div",{className:ept,children:[f.jsx("div",{className:tpt}),f.jsx("div",{className:spt}),f.jsx("div",{className:apt})]}),f.jsx("div",{className:Qut})]}),f.jsxs("div",{className:opt,children:[f.jsx("div",{className:ipt,children:"Use the controls below to adjust your new profile image:"}),f.jsxs("div",{className:rpt,children:[f.jsxs("div",{className:lpt,children:[f.jsx("div",{className:cpt,children:"Zoom:"}),f.jsxs("div",{className:upt,onClick:()=>{const{width:e,height:t,top:a,left:o}=n,i=e+10,r=Math.round(t/e*i);s({width:i,height:r,top:a-(r-t)/2,left:o-5})},children:[f.jsx(Ks,{})," Zoom In"]}),f.jsxs("div",{className:upt,onClick:()=>{const{width:e,height:t,top:a,left:o}=n,i=e-10,r=Math.round(t/e*i),l=a-(r-t)/2,d=o+5,{leftSide:c,rightSide:u,topSide:p,bottomSide:m}=g();d>c||d+i<u||l>p||l+r<m||s({width:i,height:r,top:l,left:d})},children:[f.jsx(Xs,{})," Zoom Out"]})]}),f.jsxs("div",{className:dpt,children:[f.jsx("div",{className:cpt,children:"Position:"}),f.jsx("div",{className:upt,onClick:()=>{const{top:e}=n;let t=e+10;const{topSide:a}=g();t>a&&(t=a),s((e=>({...e,top:t})))},children:f.jsx(Zs,{className:ppt})}),f.jsx("div",{className:upt,onClick:()=>{const{top:e,height:t}=n;let a=e-10;const{bottomSide:o}=g();a+t<o&&(a=o-t),s((e=>({...e,top:a})))},children:f.jsx(qs,{className:ppt})}),f.jsx("div",{className:upt,onClick:()=>{const{left:e}=n;let t=e+10;const{leftSide:a}=g();t>a&&(t=a),s((e=>({...e,left:t})))},children:f.jsx(Js,{className:ppt})}),f.jsx("div",{className:upt,onClick:()=>{const{left:e,width:t}=n;let a=e-10;const{rightSide:o}=g();a+t<o&&(a=o-t),s((e=>({...e,left:a})))},children:f.jsx($s,{className:ppt})})]})]})]}),f.jsxs("div",{className:mpt,children:[f.jsx("div",{className:vpt,onClick:a,children:"Cancel"}),l?f.jsxs("div",{className:hpt,children:["Uploading ... ",o,"%"]}):f.jsx("div",{className:gpt,onClick:async()=>{try{d(!0);const s=(e,t,a)=>fetch(e).then((e=>e.arrayBuffer())).then((e=>new File([e],t,{type:a}))),o=await s(t,e.name,e.type),i=new FormData;let l;if(i.append("file",o),p&&p.current){const{left:e,top:t,width:a,height:s}=n,o=p.current.offsetWidth,i=p.current.offsetHeight;l={relativeLeftCrop:(o-200)/2-e,relativeTopCrop:(i-200)/2-t,relativeWidth:a,relativeHeight:s}}i.append("cropInfo",JSON.stringify(l));const m=new XMLHttpRequest;await new Promise(((e,t)=>{m.upload.onprogress=e=>{e.lengthComputable&&r(Math.floor(e.loaded/e.total*100))},m.addEventListener("loadend",(()=>{r(0);const t=JSON.parse(m.response);e(t)})),m.onreadystatechange=()=>{4===m.readyState&&200!==m.status&&(d(!1),t(new Error(m.responseText)))},m.open("POST","/api/v1/users/uploadProfilePicture",!0),m.setRequestHeader("x-access-token",c),m.send(i)}))&&(u(db({description:"Upload complete!",type:"success"})),d(!1),a(),Qf(),ov("User Update",{property:"picture"}))}catch(b9e){cb({description:"Error updating profile picture",error:b9e}),d(!1)}},children:"Upload Image"})]})]})})),bpt="EditableProfilePictureOverlay-module_container_7xyQu",ypt="EditableProfilePictureOverlay-module_header_wV8VT",wpt="EditableProfilePictureOverlay-module_uploader_gzvxe",_pt="EditableProfilePictureOverlay-module_icon_gKtes",Cpt="EditableProfilePictureOverlay-module_filePickerButton_Xv9wM",Spt="EditableProfilePictureOverlay-module_filePickerInput_EAiRb",xpt="EditableProfilePictureOverlay-module_buttonSubheader_C9OS5",Ipt=b.memo((({closeModal:e})=>{const[t,a]=i.useState(null),[n,s]=i.useState(""),o=async e=>{if(e&&e.target&&e.target.files&&e.target.files.length){const t=e.target.files[0];a(t);const n=new FileReader;n.onload=e=>{if(e&&e.target&&e.target.result){const t=e.target.result;s(t)}},n.readAsDataURL(t)}};return f.jsx(rC,{overlayContainerSmall:!0,usePortal:!0,unsetCancelModal:e,children:f.jsxs("div",{className:bpt,children:[f.jsx("div",{className:ypt,children:"Choose a new profile picture"}),n?f.jsx(fpt,{inputFile:t,image:n,cancel:e}):f.jsxs("div",{className:wpt,children:[f.jsxs("button",{type:"button",className:Cpt,children:[f.jsxs("div",{children:[f.jsx(Qs,{className:_pt})," Select an image"]}),f.jsx("div",{className:xpt,children:"JPG, PNG, WEBP, GIF supported"})]}),f.jsx("input",{type:"file",onChange:o,className:Spt,accept:"image/jpeg, image/png, image/webp, image/gif"})]})]})})})),Apt=b.memo((()=>{const[e,t]=i.useState(!1),a=i.useCallback((()=>{t(!1)}),[]);return f.jsxs("div",{children:[f.jsxs("div",{className:Kut,onClick:()=>{t(!0)},children:[f.jsx(xve,{suggestedWidth:300,suggestedHeight:300,className:Zut}),f.jsx("div",{className:Xut,children:f.jsx(eo,{})})]}),e?f.jsx(Ipt,{closeModal:a}):null]})})),kpt="ProfileInformation-module_wrapper_tKH54",Tpt="ProfileInformation-module_container_z0jfM",Ept="ProfileInformation-module_accountText_jjiPs",Lpt="ProfileInformation-module_editIcon_3PlYt",jpt="ProfileInformation-module_editableText_yn-FA",Rpt="ProfileInformation-module_hovered_UpA0W",Npt="ProfileInformation-module_email_FLNIQ",Mpt="ProfileInformation-module_fullName_L9fnZ",Ppt="ProfileInformation-module_overlayAltButton_9-EZE",Fpt="ProfileInformation-module_overlayControls_Aee1K",Dpt="ProfileInformation-module_overlayDescription_ZM4FF",Opt="ProfileInformation-module_overlayForm_EioRW",Upt="ProfileInformation-module_overlayHeader_HXXeN",Bpt="ProfileInformation-module_overlayInput_LDRLJ",Wpt="ProfileInformation-module_overlayLabel_4cdT9",Vpt="ProfileInformation-module_overlaySubmitButton_HXAYu",Hpt="ProfileInformation-module_profileInformationContainer_9-US5",zpt="ProfileInformation-module_signOutButton_r-DhO",Gpt="ProfileInformation-module_note_TFSaz",Ypt=b.memo((({closeOverlay:e})=>{const t=Bu(),[a,n]=i.useState(!1),[s,o]=i.useState(!1),[r,l]=i.useState(""),[d,c]=i.useState(""),[u,p]=i.useState(!1),m=cg(),{executeRecaptcha:g}=qe(),h=Du((e=>e.currentUser)),v=Du((e=>e.config.RECAPTCHA_V3_SITEKEY)),b=Du((e=>e.config.RECAPTCHA_V2_SITEKEY)),y=i.useRef(null);return f.jsx(rC,{unsetCancelModal:e,overlayContainerSmall:!0,usePortal:!0,children:f.jsxs("div",{className:Tpt,children:[f.jsx("div",{className:Upt,children:"Update email"}),f.jsx("div",{className:Dpt,children:f.jsx("div",{className:Gpt,children:a?"Please enter the confirmation code we sent to your email to confirm you want to transfer account ownership to this address. If you did not receive your code, please check your spam folder.":f.jsxs(f.Fragment,{children:["Use this form to update the email address you use to log into your account."," ",f.jsx("span",{children:m.isPaid&&"Please note that changing your account email will not update the billing email for your team. To update your billing email, please visit Billing settings."})]})})}),f.jsxs("form",{className:Opt,children:[a?f.jsxs("label",{htmlFor:"code-input",className:Wpt,children:["Code:",f.jsx("input",{placeholder:"Code",className:Bpt,value:r,onChange:e=>{return t=e.target.value,void l(t.toUpperCase());var t},id:"code-input"})]}):f.jsxs("label",{htmlFor:"email-input",className:Wpt,children:["New email:",f.jsx("input",{placeholder:"YourNewEmail@example.com",className:Bpt,value:d,onChange:e=>c(e.target.value),id:"email-input"})]}),!a&&u&&f.jsx("div",{style:{marginBottom:"10px"},children:f.jsx(Je,{sitekey:b,ref:y})}),f.jsxs("div",{className:Fpt,children:[f.jsx("button",{type:"submit",onClick:async s=>{var i;s.preventDefault();const{token:l,user:c}=h,{_id:u}=c||{};if(a){try{o(!0),await Xf("/api/v1/users/updateProfile/email/validateCode",{body:{token:l,userId:u,email:d,code:r},parseJSON:!1}),Qf(),t(db({description:"Your email has been updated and you can now sign in with your new email.",type:"success"})),ov("User Update",{property:"email"}),e()}catch(m){cb({description:"Error updating email",error:m})}o(!1)}else if(RI(d)){try{if(!g)throw new $v("Recaptcha loading ... please try again in a few seconds.",{skipSentry:!0});const e=await g("emailSignIn"),t=null==(i=y.current)?void 0:i.getValue();o(!0),await Xf("/api/v1/users/email/signin",{body:{email:d,v3CaptchaToken:e,v2CaptchaToken:t,recaptchaKeyV3:v,recaptchaKeyV2:b}}),n(!0)}catch(m){cb({description:"Error updating email",error:m}),Bb(m)&&p(!0)}o(!1)}else t(db({description:"Please input a valid email address.",type:"error"}))},className:Vpt,children:s?"Loading...":a?"Submit confirmation code":"Update Email"}),!s&&a&&f.jsx("button",{type:"button",onClick:e,className:Ppt,children:"Never mind"})]})]})]})})})),Kpt=b.memo((({closeOverlay:e,firstName:t,lastName:a})=>{const n=Bu(),[s,o]=i.useState(t||""),[r,l]=i.useState(a||""),[d,c]=i.useState(!1);return f.jsx(rC,{unsetCancelModal:e,overlayContainerSmall:!0,usePortal:!0,children:f.jsxs("div",{className:kpt,children:[f.jsx("div",{className:Upt,children:"Update Your Name"}),f.jsx("div",{className:Dpt,children:"Use this form to update the name on your profile."}),f.jsxs("form",{className:Opt,children:[f.jsxs("label",{htmlFor:"first-name-input",className:Wpt,children:["First Name",f.jsx("input",{placeholder:"First name",className:Bpt,value:s,onChange:e=>o(e.target.value),id:"first-name-input"})]}),f.jsxs("label",{htmlFor:"last-name-input",className:Wpt,children:["Last Name",f.jsx("input",{placeholder:"Last name",className:Bpt,value:r,onChange:e=>l(e.target.value),id:"last-name-input"})]}),f.jsxs("div",{className:Fpt,children:[f.jsx("button",{type:"submit",onClick:async t=>{if(t.preventDefault(),NI(s))if(NI(r)){if(!d){c(!0);try{await async function(e,t){const{state:a}=Mu(),{token:n,user:s}=a.currentUser||{},{_id:o}=s||{};await Xf("/api/v1/users/updateProfile/fullName",{body:{token:n,userId:o,firstName:e,lastName:t},parseJSON:!1}),await Qf()}(s,r),ov("User Update",{property:"name"}),n(db({description:"Your name has been updated.",type:"success"})),e()}catch(a){cb({description:"Error updating name",error:a})}c(!1)}}else n(db({description:"Please input a valid last name.",type:"error"}));else n(db({description:"Please input a valid first name.",type:"error"}))},className:Vpt,children:d?"Loading...":"Set new account name"}),!d&&f.jsx("button",{type:"button",onClick:e,className:Ppt,children:"Never mind"})]})]})]})})})),Xpt=b.memo((({className:e,children:t,editValue:a,alt:n})=>{const[s,o]=i.useState(!1);return f.jsxs("div",{className:s?`${e} ${jpt} ${Rpt}`:`${e} ${jpt}`,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),onClick:a,translate:"no",children:[t||n,f.jsx(eo,{className:Lpt})]})})),Zpt=b.memo((({currentUser:e,email:t})=>{const a=Bu(),n=P(),[s,o]=i.useState(!1),[r,l]=i.useState(!1),d=i.useCallback((()=>{l(!1)}),[]),c=i.useCallback((()=>{o(!1)}),[]),u=i.useCallback((()=>{l(!0)}),[]),p=i.useCallback((()=>{o(!0)}),[]);return f.jsxs("div",{className:Hpt,children:[r&&f.jsx(Kpt,{closeOverlay:d,firstName:e.user.firstName,lastName:e.user.lastName}),s&&f.jsx(Ypt,{closeOverlay:c}),f.jsx(Apt,{}),f.jsxs("div",{className:Ept,children:[f.jsx(Xpt,{alt:"Add Your Name",className:Mpt,editValue:u,children:eg(e)}),f.jsx(Xpt,{alt:"Add Email Address",className:Npt,editValue:p,children:t}),f.jsx(Rhe,{})]}),f.jsx("div",{onClick:()=>{F5(),a(Af()),eve(),Whe(),_C(),window&&window.google&&window.google.accounts.id.disableAutoSelect(),n("/")},className:zpt,"data-cy":"sign-out-button",children:"Sign Out"})]})})),qpt=b.memo((()=>{const{currentUser:e,workspaces:t,currentFolderId:a}=Du((e=>{const t=e.teams.selectedTeamId,a=e.teams.allTeams.find((e=>e._id===t));return{currentUser:e.currentUser,workspaces:e.workspaces,currentFolderId:e.workspaces.selectedWorkspace,allTeams:e.teams.allTeams,currentTeam:a}}),Ou),n=P(),s=Bu();i.useState();const o=Ehe();i.useEffect((function(){!t.allWorkspaces.length&&a&&X6()}),[a,s,t.allWorkspaces.length]),i.useEffect((()=>{qm(e)||n(`/folder/${a}`)}),[e,a,n]);const{user:r}=e||{},l=(null==r?void 0:r.email)||"Signed in with Facebook";return f.jsxs("div",{className:Aut,children:[f.jsx("div",{className:kut,"data-testid":"account-settings-header",children:"Account Settings"}),f.jsx(Zpt,{currentUser:e,email:l}),f.jsx(Yut,{}),f.jsx("div",{className:Tut,children:"Connected Accounts"}),f.jsx("div",{className:Eut,children:f.jsxs("div",{className:Lut,children:["Post projects directly from Kapwing to social media when you connect your accounts.",f.jsxs("div",{className:Rut,children:[f.jsxs("div",{className:Fut,children:["YouTube",f.jsx("img",{src:G4,alt:"YouTube logo",className:Dut})]}),f.jsx(J_e,{connectedClassname:Nut,disconnectButtonClassname:Mut,disconnectedClassname:Put}),f.jsxs("div",{className:Fut,children:["TikTok",f.jsx("img",{src:o?Y4:"https://cdn-useast1.kapwing.com/static/x66-Tiktok-Logo-2016.webp",alt:"TikTok logo",className:Dut})]}),f.jsx(__e,{connectedClassname:Nut,disconnectButtonClassname:Mut,disconnectedClassname:Put}),f.jsxs("div",{className:Fut,children:["Facebook",f.jsx("img",{src:K4,alt:"Facebook logo",className:Dut})]}),f.jsx(Cwe,{connectedClassname:Nut,disconnectButtonClassname:Mut,disconnectedClassname:Put})]})]})}),f.jsx("div",{className:Tut,children:"Delete Account"}),f.jsx("div",{className:Eut,children:f.jsx("div",{className:Lut,children:f.jsx("button",{className:jut,type:"button","data-cy":"delete-account-link",onClick:()=>wA({modalType:fA.DELETE_ACCOUNT}),children:"Delete account and all associated data stored in Kapwing."})})})]})})),Jpt=b.memo((({closeAccountSettings:e})=>f.jsx(rC,{usePortal:!0,unsetCancelModal:e,children:f.jsx(qpt,{})}))),$pt="LeaveFolderButton-module_deleteButton_U7AWl",Qpt=b.memo((({currentUser:e,currentUsersRole:t,showDeleteRestriction:a})=>{const n=P(),s=Bg(),o=$M();return f.jsx("div",{onClick:()=>{t===id.owner||o?n("/settings/folder/delete"):$m(e)?(alert("DEAR ADMIN: You are deleting a folder even though you are not the owner. Normal users would not be allowed to do this. Please be careful. This message is shown only for admin users."),n("/settings/folder/delete")):a()},className:$pt,"data-cy":"workspace-delete-button",children:s?"Delete":"Delete Folder"})})),emt="FolderSettings-module_container_-4UJB",tmt="FolderSettings-module_back_Eq9NN",amt="FolderSettings-module_pageHeader_9xzYm",nmt="FolderSettings-module_profileImage_Ahvlh",smt="FolderSettings-module_folderName_i119w",omt="FolderSettings-module_sectionHeader_aFZFy",imt="FolderSettings-module_sectionContainer_lelKE",rmt="FolderSettings-module_subItem_3acrl",lmt="FolderSettings-module_membersContainer_gqqyw",dmt="FolderSettings-module_member_s-UoY",cmt="FolderSettings-module_fullName_cFcM9",umt="FolderSettings-module_email_qSqSh",pmt="FolderSettings-module_role_bsYQH",mmt="FolderSettings-module_closeIcon_W1H5g",gmt="FolderSettings-module_teamSettingsLink_aojyr",hmt="FolderDeleteOverlay-module_header_M41y5",vmt="FolderDeleteOverlay-module_headerWorkspaceTitle_ZSE55",fmt="FolderDeleteOverlay-module_description_GxPAL",bmt="FolderDeleteOverlay-module_descriptionBold_PbPrc",ymt="FolderDeleteOverlay-module_buttonsContainer_tD9oG",wmt="FolderDeleteOverlay-module_primaryButton_gFHpd",_mt="FolderDeleteOverlay-module_secondaryAction_IX3s8",Cmt="FolderDeleteOverlay-module_loadingContainer_uEYof",Smt=r.connect((e=>({currentUser:e.currentUser,currentFolderId:e.workspaces.selectedWorkspace,selectedTeamId:e.teams.selectedTeamId,workspaces:e.workspaces}))),xmt=b.memo(vC(Smt((e=>{const{currentFolderId:t,navigate:a,selectedTeamId:n}=e,s=Bg(),[o,r]=i.useState(!1),l=()=>{!function(e){const{dispatch:t}=Mu();t(cf(e))}(e.currentFolderId);const{token:a,user:s}=e.currentUser||{},o={token:a,userId:s&&s._id};return Yf(`/api/v1/workspaces/${e.currentFolderId}`,{parseJSON:!1,params:o}).then((()=>{USe(t,n),function(){const{dispatch:e}=Mu();e(db({description:"Your folder has been successfully deleted.",type:"success"}))}()}))},d=()=>{r(!0),l()},c=i.useCallback((()=>{a(-1)}),[a]),u=s?f.jsxs(f.Fragment,{children:[" ",f.jsx("div",{className:wmt,onClick:()=>d(),"data-cy":"workspace-confirm-delete-button",children:"Confirm and delete"}),f.jsx("div",{onClick:()=>c(),className:_mt,children:"Never mind"})]}):f.jsxs(f.Fragment,{children:[f.jsx("div",{onClick:()=>c(),className:_mt,children:"Never mind"}),f.jsx("div",{className:wmt,onClick:()=>d(),"data-cy":"workspace-confirm-delete-button",children:"Confirm and delete"})]});return f.jsx(rC,{unsetCancelModal:c,children:f.jsxs("div",{children:[f.jsxs("div",{className:hmt,children:['Delete "',f.jsx("span",{className:vmt,children:M3(e.currentFolderId)}),'" Folder?']}),f.jsxs("div",{className:fmt,children:[f.jsxs("p",{children:["Deleting this folder will also delete all its contents:"," ",f.jsx("span",{className:bmt,children:"videos, images, audio, and GIFs"}),". Any links and embeds to existing content will no longer work."]}),f.jsx("p",{children:"By deleting this folder and its contents, you are acknowledging you no longer want support regarding your Kapwing projects in this folder."}),f.jsx("p",{children:f.jsx("span",{className:bmt,children:"Note: This action cannot be undone."})})]}),f.jsx("div",{className:ymt,children:o?f.jsx("div",{className:Cmt,children:f.jsx(Ile,{})}):u})]})})}))));function Imt(){return f.jsx(to,{children:f.jsx(ao,{path:"/delete",element:f.jsx(xmt,{})})})}const Amt=b.memo((function(){const e=P(),t=Bg();return f.jsx("div",{onClick:()=>e("/settings/folder/leave"),className:$pt,children:t?"Leave":"Leave Folder"})}));class kmt extends i.Component{constructor(e){super(e),a(this,"deleteInviteFunctions"),a(this,"deleteMemberFunctions"),a(this,"getFolderMembers",(async()=>{const{currentUser:e,currentFolderId:t}=this.props,a=j3(t),{token:n,user:s}=e||{},{_id:o}=s||{},i={token:n,userId:o,teamId:null==a?void 0:a.teamId,type:(null==a?void 0:a.type)||Zl.personal},r=await Kf(`/api/v1/workspaces/${t}/getUsers`,{params:i});r&&0!==r.length?this.setState({members:r}):console.error("No members found for folder",t);const l=await Kf(`/api/v1/invites/${t}`,{params:i});this.setState({pendingInvites:l})})),a(this,"getCurrentUsersRole",(async()=>{const{currentFolderId:e}=this.props,t=await N3(e);this.setState({currentUserRole:null==t?void 0:t.role,loadingRole:!1})})),a(this,"renderMembers",(()=>{const{allTeams:e,currentFolderId:t,selectedTeamId:a}=this.props,{members:n}=this.state,s=e.find((e=>e._id===a)),o=j3(t),i=e=>{if(o&&((t=o).teamId&&"personal"!==t.teamId&&t.type===Zl.team)){if(!!(null==s?void 0:s.users.find((t=>t.userId===e._id))))return"Owner"}else if(e.role===id.owner)return"Owner";var t;return"Member"};return f.jsx(f.Fragment,{children:n.map((e=>f.jsx("div",{className:lmt,children:f.jsxs("div",{className:dmt,children:[" ",f.jsx(xve,{user:e,suggestedWidth:300,suggestedHeight:300,className:nmt}),f.jsxs("div",{children:[f.jsxs("div",{className:cmt,children:[e.firstName," ",e.lastName]}),f.jsx("div",{className:umt,children:e.email})]}),f.jsxs("div",{className:pmt,children:[" ",i(e)]})]})},e._id||g())))})})),a(this,"renderPending",(()=>{const{pendingInvites:e}=this.state;return f.jsx(f.Fragment,{children:e.map((e=>f.jsx("div",{className:lmt,children:f.jsxs("div",{className:dmt,children:[" ",f.jsx(xve,{user:{pending:!0,name:e.email},suggestedWidth:300,suggestedHeight:300,className:nmt}),f.jsxs("div",{children:[f.jsx("div",{className:cmt,children:e.email}),f.jsx("div",{className:umt,children:f.jsx("i",{children:"Pending Invitation"})})]}),f.jsxs("div",{className:pmt,children:[" ",f.jsx("span",{children:e.role?"Owner":"Member"})]}),f.jsx(R,{className:mmt,onClick:this.deleteInviteFunctions[e._id]})]})},e._id)))})})),a(this,"renderExit",(()=>{const{subId:e,currentUserRole:t,loadingRole:a}=this.state,{currentFolderId:n,selectedTeamId:s}=this.props,o=$M(),i=j3(n),r=(null==i?void 0:i.teamId)===s;return a?null:e||t||r&&o?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:omt,children:"Delete Folder"}),f.jsx("div",{className:imt,children:f.jsx(Qpt,{currentUser:this.props.currentUser,currentUsersRole:this.state.currentUserRole,showDeleteRestriction:this.showDeleteRestriction})})]}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:omt,children:"Leave Folder"}),f.jsxs("div",{className:imt,children:[f.jsx("div",{className:rmt,children:"This will remove your membership to the folder."}),f.jsx(Amt,{})]})]})})),a(this,"renderSettingsClarification",(()=>{const{selectedTeamId:e}=this.props;return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:omt,children:"Team Settings"}),f.jsx("div",{className:imt,children:f.jsxs("div",{className:rmt,children:["To change team-wide settings like billing, Brand Kit, and team members, please navigate to"," ",f.jsx(mn,{to:`/team/${e}/settings`,className:gmt,children:"team settings"}),"."]})})]})})),this.state={members:[],pendingInvites:[],currentUserRole:0,loadingRole:!0},this.setSubId=this.setSubId.bind(this),this.showDeleteRestriction=this.showDeleteRestriction.bind(this),this.deleteInviteFunctions={},this.deleteMemberFunctions={}}componentDidMount(){const{currentUser:e,navigate:t,currentFolderId:a}=this.props;qm(e)||t(`/folder/${a}`);const n=j3(a);a&&n?(this.getFolderMembers(),this.getCurrentUsersRole()):X6()}componentDidUpdate(){const{pendingInvites:e}=this.state,t=e.reduce(((e,t)=>(e[t._id]=()=>this.deleteInvite(t),e)),{});this.deleteInviteFunctions=t}deleteInvite(e){const{currentUserRole:t}=this.state,{currentUser:a,showToast:n}=this.props;if(t){const{pendingInvites:t}=this.state,s=t.filter((t=>t._id!==e._id));this.setState({pendingInvites:s});const{token:o,user:i}=a||{},{_id:r}=i||{},l={token:o,userId:r};Yf(`/api/v1/invites/${e._id}`,{params:l}).then((()=>{n({description:"Invite successfully deleted.",type:"success"})}))}else n({description:"You must be an owner to delete invitations from the folder.",type:"error"})}setSubId(e){this.setState({subId:e})}showDeleteRestriction(){this.props.showToast({description:"You must be an owner to delete the folder.",type:"error"})}goToFolder(){const{navigate:e,currentFolderId:t}=this.props;e(`/folder/${t}`)}render(){const{currentFolderId:e}=this.props,t=M3(e);return f.jsxs("div",{className:emt,children:[f.jsxs("div",{className:tmt,onClick:()=>this.goToFolder(),children:[f.jsx(no,{})," Back to ",f.jsx("i",{children:t})]}),f.jsx("div",{className:amt,children:"Folder Settings"}),f.jsx("div",{className:smt,children:t}),f.jsx("div",{className:omt,children:"Collaborators"}),f.jsxs("div",{children:[this.renderMembers(),this.renderPending()]}),this.renderExit(),this.renderSettingsClarification(),f.jsx(Imt,{})]})}}const Tmt=r.connect((e=>({allTeams:e.teams.allTeams,currentUser:e.currentUser,currentFolderId:e.workspaces.selectedWorkspace,profile:e.currentUser.user,selectedTeamId:e.teams.selectedTeamId,subId:null})),(e=>j({showToast:db},e))),Emt=vC(Tmt(kmt)),Lmt="Settings-module_contentContainer_e-kfl",jmt={pathname:"/home",state:{openModal:xXe.account}},Rmt=b.memo((()=>f.jsx("div",{className:Lmt,children:f.jsxs(to,{children:[f.jsx(ao,{path:"/folder/*",element:f.jsx(Emt,{})}),f.jsx(ao,{path:"/",element:f.jsx(Rt,{to:jmt,replace:!0})}),f.jsx(ao,{path:"/account/*",element:f.jsx(Rt,{to:jmt,replace:!0})})]})}))),Nmt="Navbar-module_wrapper_XloAb",Mmt="Navbar-module_container_QuxuB",Pmt="Navbar-module_link_eDter",Fmt="Navbar-module_activeLink_XGVaF",Dmt="Navbar-module_pageTitle_AARcY",Omt=b.memo((()=>{const{selectedTeamId:e,currentTeam:t}=Du((e=>{const t=e.teams.selectedTeamId;return{selectedTeamId:e.teams.selectedTeamId,currentTeam:e.teams.allTeams.find((e=>e._id===t))}}),Ou);let a="";if(t){const{name:e}=t;a=e}const n=F(),s=i.useMemo((()=>n.pathname.includes("/brandkit")?"Brand Kit":n.pathname.includes("/members")?"Members":n.pathname.includes("/billing")?"Billing":"Settings"),[n.pathname]);return f.jsxs("div",{className:Nmt,children:[f.jsx(Nt,{children:f.jsx("title",{children:s&&a?`${s}  ${a}  Kapwing`:"Kapwing  Create more content in less time"})}),f.jsx("div",{className:Dmt,children:s}),f.jsxs("div",{className:Mmt,children:[f.jsx(rs,{to:`/team/${e}/members`,className:({isActive:e})=>L(Pmt,e&&Fmt),children:"Members"}),f.jsx(rs,{to:"/brandkit",className:({isActive:e})=>L(Pmt,e&&Fmt),children:"Brand Kit"}),f.jsx(rs,{to:`/team/${e}/settings`,className:({isActive:e})=>L(Pmt,e&&Fmt),children:"Settings"}),f.jsx(rs,{to:`/team/${e}/billing`,className:({isActive:e})=>L(Pmt,e&&Fmt),children:"Billing"})]})]})})),Umt="Team-module_sectionHeader_Kz6nc",Bmt="Team-module_contentContainer_HQBU-",Wmt="Team-module_openSeats_c5RwC",Vmt="Team-module_inviteText_jRfeE",Hmt="Team-module_pendingInviteSection_LPXIQ",zmt="Team-module_membersContainer_Yak41",Gmt="Team-module_profileImage_TxXd0",Ymt="Team-module_fullName_yjkea",Kmt="Team-module_email_XkLUg",Xmt="Team-module_role_H5h-X",Zmt="Team-module_roleOption_0rS2p",qmt="Team-module_pendingRole_a0dhD",Jmt="Team-module_roleTitle_htLhC",$mt="Team-module_requestControlButtons_jKW7S",Qmt="Team-module_requestButton_lp2c3",egt="Team-module_hotpink_161qf",tgt="Team-module_blue_yXAYy",agt="Team-module_closeIcon_-jaGB",ngt="Team-module_removeButton_OlWMJ",sgt="Team-module_dropdownWrapper_qGG8i",ogt="Team-module_inviteMembersButtonContainer_vsh8d",igt="Team-module_inviteMembersButton_-9dum",rgt="Team-module_header_jHWNY",lgt="Team-module_copy_x47aj",dgt="Team-module_radioSubHeader_nFFCk",cgt="Team-module_previewContainer_9Qvye",ugt="Team-module_optionContainer_uNwst",pgt="Team-module_selected_yYuwL",mgt="Cancel-module_container_Zm3EL",ggt="Cancel-module_header_6NlZm",hgt="Cancel-module_description_fciV1",vgt="Cancel-module_controls_7TvAR",fgt="Cancel-module_buttons_WlQnR",bgt="Cancel-module_button_SWjCk",ygt="Cancel-module_buttonDisabled_3dNhK",wgt="Cancel-module_reactivateButton_o-f8Q",_gt="Cancel-module_reactivateButtonDisabled_hxwc-",Cgt="Cancel-module_buttonIcon_mpq6I";function Sgt(){const e=lg(),t=Bu(),{subscription:a,loadingSubscription:n}=Y3(),s=cg(),o=P(),{handleReactivate:r,reactivating:l}=J3(),d=i.useCallback((e=>{const a=_c(e).dateEnd;t(db({description:`Your subscription has been reactivated successfully. Your next payment will be on ${a}.`,type:"success"}))}),[t]),c=i.useCallback((e=>{cb({description:"Error reactivating subscription",error:e})}),[]),u=i.useCallback((async()=>{await r({onSuccess:d,onError:c})}),[r,c,d]);if(!e)return null;const p=u_(Ec.Update),{isCancelled:m}=_c(a),g=()=>{let e=f.jsxs("span",{children:["Use this section if you need to cancel your Kapwing ",s.name," ","subscription."]});return p||(e=f.jsx("span",{children:"To cancel your team's subscription, you must be an admin on this team. Please contact an admin to cancel or update your permissions."})),m&&(e=f.jsx("span",{children:"Your subscription has been cancelled and you will no longer be billed. If you'd like to reactivate your subscription, use the button on the right."})),e},h=()=>a?m?l?f.jsxs("div",{className:_gt,children:["Reactivating subscription..."," ",f.jsx(so,{className:Cgt})]}):f.jsxs("div",{className:wgt,onClick:u,"data-cy":"reactivate-button",children:["Reactivate subscription"," ",f.jsx(so,{className:Cgt})]}):p?f.jsxs("div",{className:bgt,"data-cy":"cancel-plan-button","data-testid":"cancel-plan-button",onClick:()=>{o(`/team/${e._id}/billing/cancel`),e&&a&&(async e=>{const{interval:t,status:a}=await X3();var n;ov("Initiated Cancellation",{"Current Plan":e.planTier,"Subscription Status":a,"Monthly/Annual":t,"Team ID":e._id,"Number of Workspace Members":e.users.length,"# of non-empty projects":(n=e._id,U5(Mu().state,n)).length})})(e)},children:["Cancel Subscription ",f.jsx(so,{className:Cgt})]},"cancel-plan-button"):f.jsxs("div",{className:ygt,children:["Cancel Subscription ",f.jsx(so,{className:Cgt})]}):null;return s.isFree?null:f.jsx("span",{children:f.jsxs("div",{className:mgt,children:[f.jsx("div",{className:ggt,children:"Cancel Subscription"}),s.canCancel?n?f.jsx("div",{className:hgt,children:"Loading seats information ...."}):f.jsxs("span",{className:vgt,children:[f.jsx("div",{className:hgt,children:g()}),f.jsx("div",{className:fgt,children:h()})]}):[Id.Team,Id.Business,Id.Enterprise].includes(s.type)?f.jsxs("div",{className:hgt,children:["To cancel your ",s.name," Subscription, please contact your dedicated account manager at teams@kapwing.com."]}):null]})})}const xgt="MonthlyLimits-module_sectionHeader_jGTzk",Igt="MonthlyLimits-module_disabled_F3MyH",Agt="MonthlyLimits-module_usageBar_rFAsv",kgt="MonthlyLimits-module_limitBar_vMK13",Tgt="MonthlyLimits-module_contextContainer_ZjU9g",Egt="MonthlyLimits-module_usageNumber_NF04T",Lgt="MonthlyLimits-module_usageClose_nTCyy",jgt="MonthlyLimits-module_usageOut_wb4kH",Rgt="MonthlyLimits-module_bottomDiv_1IlO3",Ngt="MonthlyLimits-module_remainingThisMonth_cVdP-",Mgt="MonthlyLimits-module_description_zqYGw",Pgt="MonthlyLimits-module_buttonContainer_YvUbJ",Fgt="MonthlyLimits-module_button_xgs1t",Dgt="MonthlyLimits-module_labelContainer_EqJhQ",Ogt="MonthlyLimits-module_helpIcon_zCzL7",Ugt="MonthlyLimits-module_nonMobile_fENyf",Bgt="MonthlyLimits-module_mobileOnly_GiMIM",Wgt="MonthlyLimits-module_limitContainer_U-mUm",Vgt="MonthlyLimits-module_overageContainer_Hvs2L",Hgt="MonthlyLimits-module_overageDescription_MiAnX",zgt="MonthlyLimits-module_switch_Qdgqr",Ggt="MonthlyLimits-module_slider_qVJyi",Ygt="MonthlyLimits-module_strong_ams8h",Kgt="MonthlyLimits-module_hidden_QJDIe";function Xgt(){const{openEnterpriseTypeform:e}=hC(),t=cg(),a=rse(),n=nc(t.upgradesTo||Id.Pro),s=Du((e=>{var t;const a=ig(e);return null==(t=e.teams.nextLimitReset)?void 0:t[a._id]})),o=zw(t.type),r=i.useMemo((()=>t.type===Id.Enterprise?"Interested in lower usage rates? Get in touch with us.":o?"Need higher limits? Get in touch with our sales team to see if the Enterprise plan is right for you.":t.type===Id.Free?"Need higher limits? You can upgrade to one of our paid plans now, or get in touch with our sales team to see if the Enterprise plan is right for you.":`Need higher limits? You can upgrade to our ${n.name} plan now, or get in touch with our sales team to see if the Enterprise plan is right for you.`),[t.type,o,n.name]),l=i.useCallback((()=>{if(t.type!==Id.Enterprise)return o?e():a((()=>{}),{action:Dd.LIMITS_WARNING})();{const e="I'm interested in lower usage rates for my team.",t="Interested in lower usage rates";window.location.href=`mailto:teams@kapwing.com?subject=${encodeURIComponent(t)}&body=${encodeURIComponent(e)}`}}),[t.type,o,e,a]),d=o||t.type===Id.Enterprise?"Contact Sales":"Upgrade Now",c=Object.values(Bd).filter((e=>Vd[e].showWarnings));return f.jsxs("div",{children:[f.jsx("div",{className:xgt,children:"Team Workspace Usage"}),t.type!==Id.Free&&s&&f.jsxs("div",{className:Hgt,children:["Your next limits reset will be on"," ",s.toLocaleDateString()," at"," ",s.toLocaleTimeString()]}),f.jsx(qgt,{}),c.map((e=>f.jsx(Zgt,{category:e},e))),f.jsxs("div",{className:Rgt,children:[f.jsx("div",{className:Mgt,children:r}),f.jsx("div",{className:Pgt,children:f.jsx("div",{className:Fgt,onClick:l,"data-cy":"limits-upsell-button",children:d})})]})]})}const Zgt=b.memo((({category:e})=>{var t,a,n;const s=rP(),[o,r]=i.useState(!1),l=s[e],d=lg(),c=QM(d),u=cg(),p=u.hasPermission(Fd.EXCEED_LIMITS),m=(null==(n=null==(a=null==(t=d.customTeamLimits)?void 0:t.usageType)?void 0:a[e])?void 0:n.overageRate)??Vd[e].overageCost;if(!l)return null;const{is90PercentConsumed:g,hasConsumedLimit:h,remainingUsage:v,limitForPlan:b,usage:y,excessUsage:w}=l,{unit:_,label:C,description:S}=Vd[e],x=Math.floor(v),I=Math.ceil(y),A=w>0&&u.hasPermission(Fd.EXCEED_LIMITS),k=A?`${_}${1===I?"":"s"} over`:`${_}${1===x?"":"s"} remaining`,T=A?Math.ceil(w):x,E=p&&m?c?f.jsxs(f.Fragment,{children:["Overage ",_,"s will be billed at"," ",f.jsxs("span",{className:Ygt,children:["$",m.toFixed(2)," / ",_]}),"."]}):f.jsxs(f.Fragment,{children:["Enable overage for additional ",_,"s at a rate of"," ",f.jsxs("span",{className:Ygt,children:["$",m.toFixed(2)," / ",_]}),"."]}):null;return f.jsxs("div",{className:L(Wgt,{[Lgt]:g,[jgt]:h}),children:[f.jsxs("div",{className:Tgt,children:[f.jsxs("div",{className:Dgt,children:[f.jsx("span",{className:Ugt,children:C}),f.jsx("span",{className:Bgt,children:C}),f.jsx(Hw,{message:S,open:o,setOpen:r,delayDuration:0,children:f.jsx("div",{className:Ogt,onClick:()=>r(!o),children:f.jsx(Wa,{})})})]}),f.jsxs("span",{children:[f.jsx("span",{className:Egt,children:T})," ",f.jsx("span",{className:Ngt,children:k})]})]}),f.jsx("div",{className:Vgt,children:E}),f.jsx("div",{className:kgt,children:f.jsx("div",{style:{width:100-x/b*100+"%"},className:Agt})})]})}));function qgt(){const e=Bu(),[t,a]=i.useState(!1),n=lg(),s=QM(n),o=cg(),r=u_(Ec.Update);if(!o.hasPermission(Fd.EXCEED_LIMITS))return null;const l=r?"When enabled, your team will be able to exceed your plans limits without interruption for an additional cost. Any overages incurred will be billed at the end of each month.":"Only team admins can enable overage usage. When enabled, your team will be able to exceed your plans limits without interruption for an additional cost. Any overages incurred will be billed at the end of each month.";return f.jsxs("div",{children:[f.jsxs("div",{className:Tgt,children:[f.jsx("div",{className:Dgt,children:"Enable Overage"}),f.jsxs("label",{className:L(zgt,{[Igt]:t,[Kgt]:!r}),children:[f.jsx("input",{type:"checkbox",checked:s,onChange:async()=>{a(!0);try{const t=await Zf(`/api/v2/teams/${n._id}/toggle/overages-enabled`,{body:{setOverageEnabledTo:!s}});e(Sb(n._id,{customTeamLimits:t.customTeamLimits,limits:t.limits}))}catch(b9e){cb({description:"Failed to toggle overages enabled",error:b9e}),console.error(b9e)}finally{a(!1)}},disabled:t}),f.jsx("span",{className:Ggt})]})]}),f.jsx("div",{className:Hgt,children:f.jsx("div",{children:l})}),f.jsx("br",{})]})}const Jgt="PaymentHistory-module_sectionHeader_Z-U7v",$gt="PaymentHistory-module_row_sZ5h-",Qgt="PaymentHistory-module_chargeName_99bHn",eht="PaymentHistory-module_chargeAmount_RQyrr",tht="PaymentHistory-module_chargeReceipt_al8Tf",aht="PaymentHistory-module_chargeDate_H9qpI",nht="PaymentHistory-module_content_bMPCS",sht="PaymentHistory-module_loadingContainer_lJ0Sx",oht="PaymentHistory-module_loader_LMt7u",iht=e=>{let{planTier:t}=e;t||(t=Id.Free);return!(!nc(t).isPaid||e.stripeId)},rht=b.memo((e=>{const{charges:t,loadingBilling:a,stripeId:n,getPaymentHistory:s}=e,[o,r]=i.useState(!!t),l=lg();i.useEffect((()=>{n&&!o&&(r(!0),s())}),[o,s,r,n]);return a||!o?f.jsxs("span",{children:[f.jsx("div",{className:Jgt,children:"Billing History"}),f.jsxs("div",{className:sht,children:[f.jsx("span",{children:"Loading billing history ..."}),f.jsx("div",{className:oht})]})]}):iht(l)?null:t&&t.length?f.jsxs("span",{children:[f.jsx("div",{className:Jgt,children:"Billing History"}),t.map((e=>{return f.jsxs("div",{className:$gt,"data-cy":"payment-history-row",children:[f.jsx("div",{className:Qgt,"data-cy":"payment-history-charge-name",children:e.description}),f.jsx("div",{className:aht,children:wP(e.created)}),f.jsx("div",{className:eht,"data-cy":"payment-history-currency-amount",children:(t=e.amount,(t/100).toLocaleString("en-US",{style:"currency",currency:"USD"}))}),f.jsx("div",{className:tht,children:e.receipt_url&&f.jsx("a",{href:e.receipt_url,target:"_blank",rel:"noopener noreferrer",children:"View receipt"})})]},e.id);var t}))]}):f.jsxs("span",{children:[f.jsx("div",{className:Jgt,children:"Billing History"}),f.jsx("div",{className:nht,children:"No payments to show. If you upgrade to a paid plan on Kapwing, your transaction history will show up here."})]})})),lht="PlanDetails-module_sectionHeader_Ru6tD",dht="PlanDetails-module_planInfo_fIKzP",cht="PlanDetails-module_loader_gUdme",uht="PlanDetails-module_planInfoTop_dq3JN",pht="PlanDetails-module_planDetails_QSfOB",mht="PlanDetails-module_teamPlanContainer_DqL-O",ght="PlanDetails-module_freePlanContainer_yAo-y",hht="PlanDetails-module_freePlanName_t8T-M",vht="PlanDetails-module_splitPlanSection_oqb8V",fht="PlanDetails-module_splitPlanSectionDetails_TcarN",bht="PlanDetails-module_planItem_ty-pX",yht="PlanDetails-module_reactivateIcon_L9LyV",wht="PlanDetails-module_reactivatePlan_zfyIw",_ht="PlanDetails-module_reactivatingPlan_AHRzX",Cht="PlanDetails-module_upgradeButton_4gG1-",Sht="PlanDetails-module_planLoading_xBsAU",xht=b.memo((()=>{const e=Bu(),[t,a]=i.useState(!1),{subscription:n,loadingSubscription:s,refetchSubscription:o}=Y3(),r=lg(),l=cg(),{isCancelled:d}=_c(n),c=(null==n?void 0:n.current_period_start)&&le(1e3*n.current_period_start).format("ddd, MMM D, YYYY"),u=n&&le(1e3*n.current_period_end).format("ddd, MMM D, YYYY"),p=n&&le(1e3*n.current_period_end).format("ddd, MMM D, YYYY"),m=async()=>{var s;if(n&&!t){a(!0);try{await U3(n.id,r._id),o();const{interval:t}=_c(n);gv({couponId:null,interval:t,planTier:(null==(s=null==n?void 0:n.plan)?void 0:s.nickname)||Id.Pro,upgradeSource:Dd.REACTIVATE_LICENSE,teamId:r._id,quantity:r?r.users.length:1,extraAmplitudeEventProperties:{}}),e(db({description:`Your subscription has been reactivated successfully. Your next payment will be on ${u}.`,type:"success"}))}catch(i){cb({description:"Your subscription failed to reactivate.",error:i})}a(!1)}},g=()=>{if(!n)return null;if(d)return f.jsxs("span",{children:["Your workspace plan has been cancelled and you will no longer be charged. You will still have access to premium features on Kapwing until"," ",f.jsx("strong",{children:p}),"."]});const{quantity:e,plan:t}=n,{amount:a,interval:s}=t;return f.jsxs("span",{children:["This team workspace is subscribed to a ",l.name," plan that bills once a ",f.jsx("span",{children:null==n?void 0:n.plan.interval}),". Your current plan has ",p_(e,"active seat"),r.numSeatsPendingCancellation?` and ${p_(r.numSeatsPendingCancellation,"seat")} pending cancellation`:"",". Your total bill is as follows: ",p_(e,"seat"),"  $",a/100," = $",a*e/100," total billed each"," ",s,". Your next bill will be charged on"," ",f.jsx("span",{children:u}),"."]})},h=()=>n?g():l.isEdu?f.jsx(f.Fragment,{children:f.jsxs("div",{className:bht,children:["This Workspace is on Kapwing's ",l.name," plan for classrooms and schools. On this plan, you have access to"," ",l.name,"features for free. Please contact your Kapwing account representative if there are billing inquiries."]})}):l.type===Id.Enterprise?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:bht,children:"This workspace has been upgraded to Kapwing for Enterprise. Please contact your Kapwing account representative if there are billing inquiries."}),f.jsxs("div",{className:bht,children:["If you have any issues, or wish to downgrade your workspace, please"," ",f.jsx("a",{href:"mailto:teams@kapwing.com",target:"_blank",rel:"noreferrer noopener",children:"contact us"}),"."]})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:bht,children:["This workspace has been upgraded to"," ",l.type===Id.Team?`a ${l.name} plan`:l.name," ","for free and has no billing information attached. This may be because your team workspace was manually upgraded by the Kapwing team or has been set to",l.name," because of a pre-existing account subscription. Regardless, you will not be charged for using ",l.name," ","features in this team workspace."]}),f.jsxs("div",{className:bht,children:["If you have any issues, or wish to downgrade your workspace, please"," ",f.jsx("a",{href:"https://www.kapwing.com/contact-us",target:"_blank",rel:"noreferrer noopener",children:"contact us"}),"."]})]});return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:lht,"data-testid":"team-settings-plan",children:"Plan Info"}),s?f.jsx("div",{className:mht,children:f.jsx("div",{className:pht,children:f.jsxs("div",{className:Sht,children:[f.jsx("span",{children:"Loading billing information ..."}),f.jsx("div",{className:cht})]})})}):l.type===Id.Free?f.jsxs("div",{className:ght,"data-cy":"plan-details",children:[f.jsxs("div",{className:uht,children:[f.jsx("div",{className:hht,children:"Free Plan"}),f.jsx("div",{children:f.jsx(qIe,{action:Dd.SETTINGS,darkStyle:!0,className:Cht})})]}),f.jsxs("div",{className:pht,children:["Access premium features like additional storage, auto-generated subtitles, 4k export quality, AI-powered editing tools like Smart Cut, and much more when you upgrade to Kapwing Pro. Discover all premium features on our"," ",f.jsx("a",{href:"/pricing",target:"_blank",children:"pricing page"}),"."]})]}):f.jsx("div",{className:mht,"data-cy":"plan-details",children:f.jsxs("div",{className:pht,children:[n&&d&&u_(Ec.Update)?f.jsxs("button",{type:"button",className:t?_ht:wht,onClick:m,children:[f.jsx(oo,{className:yht}),f.jsx("span",{children:t?"Reactivating ...":"Reactivate Subscription"})]}):null,f.jsx("div",{className:vht,children:f.jsxs("div",{className:fht,children:[f.jsxs("div",{className:bht,children:[f.jsx("b",{children:"Team Workspace Plan"}),": Kapwing ",l.name]}),!!n&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:bht,children:[f.jsx("b",{children:"Last billed on"}),": ",f.jsx("span",{children:c||"n/a"})]}),f.jsxs("div",{className:bht,children:[f.jsx("b",{children:"Next bill"}),": ",f.jsx("span",{children:u})]})]})]})}),f.jsx("div",{className:dht,children:h()})]})})]})})),Iht="AddSeats-module_background_J0xu1",Aht="AddSeats-module_container_tEoy0",kht="AddSeats-module_header_tqc2t",Tht="AddSeats-module_close_ETPAz",Eht="AddSeats-module_description_wcK3E",Lht="AddSeats-module_selectContainer_zCj-i",jht="AddSeats-module_selectLabel_nJzk-",Rht="AddSeats-module_select_bMIJ7",Nht="AddSeats-module_submitContainer_SW1vs",Mht="AddSeats-module_submit_Yxvgs",Pht="AddSeats-module_submitDisabled_XccWU",Fht="AddSeats-module_pricing_7agCz",Dht="AddSeats-module_loader_mkHOd",Oht="AddSeats-module_pricingInfo_xyM-F",Uht="AddSeats-module_pricingInfoRow_gqpeK",Bht="AddSeats-module_pricingInfoHalf_kzAiU",Wht="AddSeats-module_newPlanHalf_bbCBT",Vht="AddSeats-module_pendingCancellationText_7d0Ts",Hht="AddSeats-module_pricingInfoSubheader_T2jPh",zht="AddSeats-module_pricingInfoText_ppP5B",Ght="AddSeats-module_nextBill_07rf-",Yht="AddSeats-module_arrow_ijnY7",Kht="AddSeats-module_dueToday_icAgr",Xht=b.memo((({onClose:e})=>{const[t,a]=i.useState(!1),n=lg(),{subscription:s,refetchSubscription:o}=Y3(),{quantity:r}=s||{quantity:1},[l,d]=i.useState(r+1),c=Bu(),[u,p]=i.useState(0),[m,g]=i.useState(0),[h,v]=i.useState(0),[b,y]=i.useState(!0),w=i.useCallback((t=>{"Escape"===t.key&&e()}),[e]),_=i.useCallback((async e=>{try{y(!0);const t=await Kf("/api/v2/teams/seatChange/preview",{params:{teamId:n._id,numSeats:e}});v(t.amountCurrent),g(t.amountNextBill),p(t.amountDue),y(!1)}catch(b9e){cb({description:"Error previewing new price",error:b9e}),y(!1)}}),[n._id]);if(i.useEffect((()=>(document.addEventListener("keydown",w,!1),()=>{document.removeEventListener("keydown",w,!1)})),[w]),i.useEffect((()=>{l&&_(l)}),[_,l]),!n)return null;if(!s)return null;const{plan:C}=s,{interval:S}=C,{numSeatsPendingCancellation:x=0}=n,I=Bm(r+1,200),A=new Date(1e3*s.current_period_end),k=async()=>{try{a(!0),await qf("/api/v2/teams/addSurplusSeats",{body:{teamId:n._id,numLicenses:l},parseJSON:!1}),c(db({description:"Seats updated successfully!",type:"success"})),o(),Eb(),async function(e,t){const{interval:a}=await X3();ov("Open Seat Added",{"Number of Paid Seats Added":e-t,"New Paid Seats":t,"Monthly/Annual":a})}(r,l),e(),a(!1)}catch(b9e){((e,t)=>{m_(e)?pb({headerOverride:"Your payment was unsuccessful",description:["To add seats to your workspace, please update your payment information or try using a different credit card in ",{text:"the Billing tab.",href:`/team/${t}/billing`}]}):cb({description:"Error adding seats",error:e})})(b9e,n._id),a(!1)}},T=e=>{const t=Math.floor(e/100),a=e-100*t;return a?`$${t}.${a<10?"0":""}${a}`:`$${t}`};return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:Iht,onClick:e}),f.jsxs("div",{className:Aht,children:[f.jsxs("div",{className:kht,children:["Add Seats",f.jsx("div",{className:Tht,onClick:e,children:f.jsx(R,{})})]}),f.jsxs("div",{className:Eht,children:[(()=>{let e=f.jsxs(f.Fragment,{children:["You are currently paying for ",r," ",1===r?f.jsx("span",{children:"seat"}):f.jsx("span",{children:"seats"}),"."]});return x&&(e=f.jsxs(f.Fragment,{children:["You are currently paying for ",r," ",1===r?f.jsx("span",{children:"seat"}):f.jsx("span",{children:"seats"}),", but you have ",x," ",1===x?f.jsx("span",{children:"seat"}):f.jsx("span",{children:"seats"})," ","pending removal. You can add up to"," ",p_(x,"seat")," to your current billing cycle without paying an additional prorated rate."]})),e})(),f.jsxs("div",{className:Lht,children:[f.jsx("div",{className:jht,children:"New seat quantity:"}),f.jsx("select",{className:Rht,value:l,onChange:e=>{const t=parseInt(e.target.value);d(t)},"data-cy":"add-seats-select",children:I.map((e=>f.jsx("option",{value:e,children:p_(e,"seat")},e)))})]})]}),f.jsx("div",{className:Fht,children:b?f.jsxs("div",{className:Oht,children:[f.jsx("span",{children:"Calculating new invoice details ... "}),f.jsx("div",{className:Dht})]}):f.jsx("div",{className:Oht,children:f.jsxs("div",{children:[f.jsxs("div",{className:Uht,children:[f.jsxs("div",{className:Bht,children:[f.jsx("div",{className:Hht,children:"Current Plan"}),f.jsx("span",{className:zht,children:p_(r,"active seat")}),x?f.jsxs("span",{children:[","," ",f.jsxs("span",{className:Vht,children:[p_(x,"seat")," pending cancellation"]})]}):null,f.jsxs("div",{className:Ght,children:[f.jsx("i",{children:"Next bill:"})," ",T(h)," on"," ",A.toDateString(),"."]})]}),f.jsx("div",{className:Yht,children:f.jsx(Ea,{})}),f.jsxs("div",{className:Wht,children:[f.jsx("div",{className:Hht,children:"New Plan"}),f.jsxs("div",{className:zht,children:[p_(l,"active seat")," total"]}),f.jsxs("div",{className:Ght,children:[f.jsx("i",{children:"Next bill:"})," ",T(m)," on"," ",A.toDateString(),"."]}),0===u&&x>0?f.jsx("div",{className:Kht,children:"Because the additional seats were previously paid for, no additional charges will be due today."}):f.jsxs("div",{className:Kht,children:[f.jsx("i",{children:"Due today:"})," ",T(u)," prorated amount for"," ",p_(l-r-x,"new seat"),x?f.jsxs("span",{children:[" ","and ",p_(x,"seat")," previously paid"]}):null]})]})]}),0===u&&x>0?f.jsxs(f.Fragment,{children:["You can add these seats today for free. Your next bill on"," ",A.toDateString()," will change from"," ",T(h)," to ",T(m),"."]}):f.jsxs(f.Fragment,{children:["Your team's billing method on file will be charged"," ",T(u)," today, and then"," ",T(m)," ",xc({interval:S,capitalize:!1}),", starting on ",A.toDateString(),"."]})]})})}),f.jsx("div",{className:Nht,children:(()=>{if(t)return f.jsxs("div",{className:Pht,children:[f.jsx("span",{children:"Updating seats ... "}),f.jsx("div",{className:Dht})]});if(b)return f.jsx("div",{className:Pht,children:"Add Seats"});const e=l-r;return f.jsx("div",{className:Mht,onClick:k,"data-cy":"add-seats-submit",children:u?f.jsxs("span",{children:["Pay ",T(u)," and add"," ",p_(e,"Seat")," "]}):f.jsxs("span",{children:["Add ",p_(e,"Seat")]})})})()})]})]})})),Zht=async(e,t,a,n=!0)=>{const{dispatch:s}=Mu();await qf("/api/v2/teams/cancelSurplusSeats",{body:{teamId:e,numSeats:t},parseJSON:!1}),n&&s(db({description:`${ec("Seat","Seats",a-t)} removed successfully!`,type:"success"})),async function(e,t){const{interval:a}=await X3();ov("Open Seat Removed",{"Number of Paid Seats Removed":e-t,"New Paid Seats":t,"Monthly/Annual":a})}(a,t)},qht="RemoveSeats-module_background_6chpj",Jht="RemoveSeats-module_container_K3e2V",$ht="RemoveSeats-module_header_BRk-p",Qht="RemoveSeats-module_close_s-KgE",evt="RemoveSeats-module_description_BSmJ5",tvt="RemoveSeats-module_selectContainer_Scp15",avt="RemoveSeats-module_selectLabel_PfKn0",nvt="RemoveSeats-module_select_75X3u",svt="RemoveSeats-module_submitContainer_KPTpu",ovt="RemoveSeats-module_submit_0rNaO",ivt="RemoveSeats-module_back_jy-PF",rvt="RemoveSeats-module_submitDisabled_OosaC",lvt="RemoveSeats-module_pricing_PJ6jd",dvt="RemoveSeats-module_loader_EvgNm",cvt="RemoveSeats-module_pricingInfo_9mHmO",uvt="RemoveSeats-module_cantRemoveSeats_2X3-m",pvt="RemoveSeats-module_pricingInfoRow_aflWe",mvt="RemoveSeats-module_pricingInfoHalf_SIzja",gvt="RemoveSeats-module_newPlanHalf_hOKty",hvt="RemoveSeats-module_pricingInfoSubheader_b6Dnc",vvt="RemoveSeats-module_pricingInfoText_UYlYk",fvt="RemoveSeats-module_nextBill_jrp97",bvt="RemoveSeats-module_arrow_D5Feg",yvt="RemoveSeats-module_seatsSummary_Evsw-",wvt="RemoveSeats-module_learnMore_BfGLs",_vt=b.memo((({onClose:e})=>{const{subscription:t,refetchSubscription:a}=Y3(),{quantity:n}=t||{quantity:1},[s,o]=i.useState(n),[r,l]=i.useState(!1),d=lg(),c=cg(),[u,p]=i.useState(0),[m,g]=i.useState(0),[h,v]=i.useState(!0),b=i.useCallback((t=>{"Escape"===t.key&&e()}),[e]);if(i.useEffect((()=>(document.addEventListener("keydown",b,!1),()=>{document.removeEventListener("keydown",b,!1)})),[b]),!d)return null;if(!t)return null;const{users:y}=d,w=y.length,_=c.type===Id.Enterprise,C=new Date(1e3*t.current_period_end);let S=[1];n>1&&(S=Bm(_?Math.max(w,2):w,n).reverse());const x=w<n,I=s<n,A=async()=>{try{l(!0),await Zht(d._id,s,n),a(),Eb(),l(!1),e()}catch(b9e){cb({description:"Failed to remove seats.",error:b9e}),l(!1)}},k=e=>{const t=Math.floor(e/100),a=e-100*t;return`$${t}.${a<10?"0":""}${a}`},T=()=>{const e=n-s,t=p_(e,"seat"),a=1===e?"This":"These",o=1===e?"seat":"seats";return f.jsxs("div",{className:yvt,children:["With this change, you will have ",t," pending cancellation. ",a," ",o," will be cancelled before your next bill on ",C.toDateString(),". If you add more ",o," ","before your next bill, ",a.toLocaleLowerCase()," ",o," will be reactivated."]})},E=()=>{if(r)return f.jsxs("div",{className:rvt,children:[f.jsx("span",{children:"Removing seats ... "}),f.jsx("div",{className:dvt})]});if(h)return f.jsx("div",{className:rvt,children:"Remove Seats"});const e=n-s;let t=`${e} Seats`;return 1===e&&(t=`${e} Seat`),f.jsxs("div",{className:ovt,onClick:A,"data-cy":"remove-seats-submit",children:["Remove ",t]})};return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:qht,onClick:e}),f.jsxs("div",{className:Jht,children:[f.jsxs("div",{className:$ht,children:["Remove Seats",f.jsx("div",{className:Qht,onClick:e,children:f.jsx(R,{})})]}),f.jsxs("div",{className:evt,children:["You have ",p_(n,"seat")," in your current plan, and"," ",p_(w,"member")," in your team."," ",x?f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:tvt,children:[f.jsx("div",{className:avt,children:"New seat quantity:"}),f.jsx("select",{className:nvt,value:s,onChange:e=>{const t=parseInt(e.target.value);o(parseInt(e.target.value)),(async e=>{try{v(!0);const t=await Kf("/api/v2/teams/seatChange/preview",{params:{numSeats:e,teamId:d._id}});p(t.amountCurrent),g(t.amountNextBill),v(!1)}catch(t){cb({description:"Error previewing new pricing.",error:t}),v(!1)}})(t)},"data-cy":"remove-seats-select",children:S.map((e=>f.jsx("option",{value:e,children:p_(e,"seat")},e)))})]}),f.jsx("div",{className:lvt,children:x&&I?h?f.jsxs("div",{className:cvt,children:[f.jsx("span",{children:"Calculating new invoice details ... "}),f.jsx("div",{className:dvt})]}):f.jsx("div",{className:cvt,children:f.jsxs("div",{children:[f.jsxs("div",{className:pvt,children:[f.jsxs("div",{className:mvt,children:[f.jsx("div",{className:hvt,children:"Current Plan"}),f.jsx("span",{className:vvt,children:p_(n,"active seat")}),f.jsxs("div",{className:fvt,children:[f.jsx("i",{children:"Next bill:"})," ",k(u)," on"," ",C.toDateString(),"."]})]}),f.jsx("div",{className:bvt,children:f.jsx(Ea,{})}),f.jsxs("div",{className:gvt,children:[f.jsx("div",{className:hvt,children:"New Plan"}),f.jsxs("div",{className:vvt,children:[p_(s,"active seat")," total"]}),f.jsxs("div",{className:fvt,children:[f.jsx("i",{children:"Next bill:"})," ",k(m)," on"," ",C.toDateString(),"."]})]})]}),T()]})}):"Use the dropdown above to select a new number of seats for your team."}),f.jsx("div",{className:svt,children:x&&I?E():f.jsx("div",{className:rvt,children:"Remove Seats"})})]}):1===n?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:uvt,children:"You cannot remove seats because you only have one seat remaining in your team."}),f.jsx("div",{className:uvt,children:'If you\'d like to cancel your remaining seat, use the "Cancel Subscription" section in settings.'}),f.jsx("div",{className:ivt,onClick:e,"data-cy":"remove-seats-back-button",children:"Back to settings"})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:uvt,children:["You must first remove members from your team before you can remove seats from the current plan. When you remove users in the middle of your billing cycle, you can add new users before the end of the billing cycle without incurring any additional costs. If you invite new members to join your team, their seats will be renewed on your next bill."," ",f.jsx("a",{href:"https://www.kapwing.com/help/subscription-faq/",target:"_blank",rel:"noopener noreferrer",className:wvt,children:"Learn more"})," ","about how Kapwing charges for seats."]}),f.jsx("div",{className:uvt,children:"Visit the members section to remove members from your team."}),f.jsx("div",{className:ivt,onClick:e,children:"Back to settings"})]})]})]})]})})),Cvt="SeatsInfo-module_container_YWb-U",Svt="SeatsInfo-module_header_juw8y",xvt="SeatsInfo-module_description_q7Q6h",Ivt="SeatsInfo-module_controls_uv5I-",Avt="SeatsInfo-module_buttons_hM-ud",kvt="SeatsInfo-module_addSeatsButton_RULEL",Tvt="SeatsInfo-module_addSeatsButtonDisabled_zKjOc",Evt="SeatsInfo-module_removeSeatsButton_iUATG",Lvt="SeatsInfo-module_removeSeatsButtonDisabled_3VSHg",jvt="SeatsInfo-module_buttonIcon_omXVU",Rvt=b.memo((()=>{const[e,t]=i.useState(!1),[a,n]=i.useState(!1),{subscription:s,loadingSubscription:o}=Y3(),r=lg(),l=cg(),d=i.useCallback((()=>t(!1)),[]),c=i.useCallback((()=>n(!1)),[]);if(!s)return null;const u=!u_(Ec.Update),p=()=>{const{quantity:e}=s;return u?f.jsx("span",{children:"To add or remove seats to your team, you must have admin privileges. Please contact an admin to add or remove seats."}):f.jsxs("span",{children:["Your current plan has ",p_(e,"active seat"),r.numSeatsPendingCancellation?` and ${p_(r.numSeatsPendingCancellation,"seat")} pending cancellation`:"","."]})};return f.jsxs("span",{children:[f.jsxs("div",{className:Cvt,children:[f.jsx("div",{className:Svt,children:"Seats"}),f.jsx("div",{children:l.canChangeSeats?o?f.jsx("div",{className:xvt,children:"Loading seats information ...."}):f.jsxs("span",{className:Ivt,children:[f.jsx("div",{className:xvt,children:p()}),u?f.jsxs("div",{className:Avt,children:[f.jsxs("div",{className:Tvt,children:["Add seats ",f.jsx(Fa,{className:jvt})]}),f.jsxs("div",{className:Lvt,children:["Remove seats ",f.jsx(io,{className:jvt})]})]}):f.jsxs("div",{className:Avt,children:[f.jsxs("div",{"data-cy":"add-seats-button",className:kvt,onClick:()=>t(!0),children:["Add seats ",f.jsx(Fa,{className:jvt})]}),f.jsxs("div",{"data-cy":"remove-seats-button",className:Evt,onClick:()=>n(!0),children:["Remove seats ",f.jsx(io,{className:jvt})]})]})]}):f.jsx("div",{className:xvt,children:"Contact your dedicated account manager at teams@kapwing.com to add or remove seats."})})]}),e?f.jsx(Xht,{onClose:d}):null,a?f.jsx(_vt,{onClose:c}):null]})})),Nvt="SwitchToAnnualOverlay-module_background_QO2f0",Mvt="SwitchToAnnualOverlay-module_container_rJW7X",Pvt="SwitchToAnnualOverlay-module_header_SLQjC",Fvt="SwitchToAnnualOverlay-module_close_BA1PD",Dvt="SwitchToAnnualOverlay-module_description_BuAZQ",Ovt="SwitchToAnnualOverlay-module_submitContainer_McLLg",Uvt="SwitchToAnnualOverlay-module_submit_b1oHf",Bvt="SwitchToAnnualOverlay-module_submitDisabled_wGOPx",Wvt="SwitchToAnnualOverlay-module_loader_lI1zm",Vvt="SwitchToAnnualOverlay-module_info_NrGM-",Hvt="SwitchToAnnualOverlay-module_currentPlanHalf_FUst-",zvt="SwitchToAnnualOverlay-module_newPlanHalf_APYn9",Gvt="SwitchToAnnualOverlay-module_arrow_nxdLV",Yvt="SwitchToAnnualOverlay-module_subheader_n39x-",Kvt="SwitchToAnnualOverlay-module_text_C4fsV",Xvt="SwitchToAnnualOverlay-module_loadingInfo_l-uwm",Zvt=b.memo((({onClose:e})=>{const[t,a]=i.useState(!1),[n,s]=i.useState(!0),[o,r]=i.useState(0),[l,d]=i.useState(0),c=lg(),{subscription:u,refetchSubscription:p}=Y3(),m=cg(),g=Bu();i.useEffect((function(){!async function(){s(!0);const e=await Kf("/api/v2/payment/upgrade/previewPrice",{params:{teamId:c._id,interval:xd.Year,planTier:m.type}});r(e.amountDue),d(e.proratedDiscount),s(!1)}()}),[c._id,m.type]);const h=i.useCallback((t=>{"Escape"===t.key&&e()}),[e]);if(i.useEffect((()=>(document.addEventListener("keydown",h,!1),()=>{document.removeEventListener("keydown",h,!1)})),[h]),!c)return null;if(!u)return null;const v=m.getBasePrice().year,b=m.getBasePrice().month,{quantity:y}=u,w=e=>{const t=Math.floor(e/100),a=e-100*t;return a?`$${t}.${a<10?"0":""}${a}`:`$${t}`},_=Math.ceil((1e3*u.current_period_end-Date.now())/864e5),C=new Date(Date.now()+31536e6),S=new Date(1e3*u.current_period_end).toDateString(),x=async()=>{try{a(!0),async function(){const{numPaidSeats:e}=await X3();ov("Upgrade Monthly to Annual",{"New Paid Seats":e,"Monthly/Annual":"Annual","Brand Kit Pre-Populated":qg()})}(),await(e=>{const{state:t}=Mu(),{token:a,user:n}=t.currentUser||{},{_id:s,stripeId:o}=e;return Xf("/api/v2/payment/switchToAnnual",{body:{userId:n._id,teamId:s,stripeId:o,token:a}}).then((e=>(Tb(),console.debug(e),e)))})(c),g(db({description:"Successfully switched to annual pricing!",type:"success"})),p(),a(!1),e()}catch(b9e){((e,t)=>{m_(e)?pb({headerOverride:"Your payment was unsuccessful",description:["To switch to annual billing, please update your payment information or try using a different credit card in ",{text:"the Billing tab.",href:`/team/${t}/billing`}]}):cb({description:"Something went wrong when switching to annual billing. Please try again later",error:e})})(b9e,c._id),a(!1)}};return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:Nvt,onClick:e}),f.jsxs("div",{className:Mvt,children:[f.jsxs("div",{className:Pvt,children:["Switch to Annual Pricing",f.jsx("div",{className:Fvt,onClick:e,"data-cy":"close",children:f.jsx(R,{})})]}),f.jsx("div",{className:Dvt,children:f.jsxs("p",{children:["Save over 33%, or up to",f.jsxs("i",{children:[" $",(12*b-v)*y," per year"]})," by switching to annual billing."]})}),n?f.jsxs("div",{className:Xvt,children:[f.jsx("span",{children:"Calculating new invoice details ... "}),f.jsx("div",{className:Wvt})]}):f.jsxs("div",{className:Vvt,children:[f.jsxs("div",{className:Hvt,children:[f.jsx("div",{className:Yvt,children:"Monthly Plan"}),f.jsxs("div",{className:Kvt,"data-cy":"last-bill-amount",children:[f.jsx("i",{children:"Next bill:"})," ",w(u.plan.amount*y)," on"," ",S,"."]}),f.jsxs("div",{className:Kvt,children:[f.jsx("i",{children:"Days till next bill:"})," ",p_(_,"day")]}),f.jsxs("div",{className:Kvt,children:[f.jsx("i",{children:"Prorated discount:"})," ",w(l)]})]}),f.jsx("div",{className:Gvt,children:f.jsx(Ea,{})}),f.jsxs("div",{className:zvt,children:[f.jsx("div",{className:Yvt,children:"Annual Plan"}),f.jsxs("div",{className:Kvt,children:[f.jsx("i",{children:"Regular price:"})," $",v*y]}),f.jsxs("div",{className:Kvt,children:[f.jsx("i",{children:"Prorated discount:"})," ",w(l)]}),f.jsxs("div",{className:Kvt,children:[f.jsx("strong",{children:"Due today:"})," ",w(o)]}),f.jsxs("div",{className:Kvt,children:[f.jsx("i",{children:"Next Bill"}),": ",C.toDateString()]})]})]}),f.jsx("div",{className:Dvt,children:f.jsx("p",{children:"When switching to annual billing, we will prorate your current monthly bill and discount that amount from the annual price. To confirm and switch to annual, use the button below:"})}),f.jsx("div",{className:Ovt,children:t?f.jsxs("div",{className:Bvt,children:[f.jsx("span",{children:"Switching to annual pricing ... "}),f.jsx("div",{className:Wvt})]}):n?f.jsxs("div",{className:Bvt,children:[f.jsx("span",{children:"Loading price preview ... "}),f.jsx("div",{className:Wvt})]}):f.jsxs("div",{className:Uvt,onClick:x,"data-cy":"switch-to-annual-submit",children:["Pay ",w(o)," and switch to annual"]})})]})]})})),qvt="SwitchToAnnual-module_container_b6nVB",Jvt="SwitchToAnnual-module_header_zFQXI",$vt="SwitchToAnnual-module_description_tryAq",Qvt="SwitchToAnnual-module_controls_5N4Je",eft="SwitchToAnnual-module_buttons_cKiXT",tft="SwitchToAnnual-module_button_ax2dH",aft="SwitchToAnnual-module_buttonIcon_vHw8S",nft="SwitchToAnnual-module_bold_6oq49",sft=b.memo((()=>{const[e,t]=i.useState(!1),a=lg(),{subscription:n}=Y3(),s=cg(),o=u_(Ec.Update),r=i.useCallback((()=>t(!1)),[]);if(!a)return null;if(!n)return null;if(!Cc(n))return null;if(!o)return null;if(iht(a))return null;if(!s.canSwitchToAnnual)return null;const l=s.getBasePrice().year,d=s.getBasePrice().month;return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:qvt,children:[f.jsx("div",{className:Jvt,children:"Switch to Annual Billing"}),f.jsxs("div",{className:Qvt,children:[f.jsxs("div",{className:$vt,children:["Enjoy using Kapwing ",s.name,"? Switch to annual billing and save"," ",f.jsxs("span",{className:nft,children:["$",12*d-l," per member each year"]}),"."]}),f.jsx("div",{className:eft,children:f.jsxs("div",{className:tft,onClick:()=>t(!0),"data-cy":"switch-to-annual-button",children:["Switch to Annual Billing"," ",f.jsx(ro,{className:aft})]})})]})]}),e?f.jsx(Zvt,{onClose:r}):null]})})),oft="UpdateInvoiceDetails-module_container_73mwR",ift="UpdateInvoiceDetails-module_header_1CVXC",rft="UpdateInvoiceDetails-module_description_LaLkE",lft="UpdateInvoiceDetails-module_controls_TN-wW",dft="UpdateInvoiceDetails-module_buttons_DgWWP",cft="UpdateInvoiceDetails-module_button_mIl98",uft="UpdateInvoiceDetails-module_buttonDisabled_3-jKI",pft="UpdateInvoiceDetails-module_buttonIcon_JFxni",mft=b.memo((()=>{const e=lg(),{subscription:t}=Y3(),{handlePortalLinkClick:a,isLoadingStripePortal:n}=tit(eit.UpdateInvoiceDetails);if(!e)return null;if(!t)return null;if(iht(e))return null;const s=!u_(Ec.Update);return f.jsxs("div",{className:oft,children:[f.jsx("div",{className:ift,children:"Invoice Details"}),f.jsxs("div",{className:lft,children:[f.jsx("div",{className:rft,children:(()=>{let e="Invoices are emailed to you each billing cycle. If you use invoices for accounting or expensing, use this form to add business details to your invoices going forward.";return s&&(e="To update your invoice details, you must have admin privileges. Please contact an admin to update invoice details or update your permissions."),e})()}),f.jsx("div",{className:dft,children:s?f.jsxs("div",{className:uft,children:["Update Invoice Details ",f.jsx(so,{className:pft})]}):n?f.jsxs("div",{className:cft,children:["Redirecting to portal ..."," ",f.jsx(so,{className:pft})]}):f.jsxs("div",{className:cft,onClick:a,"data-testid":"update-invoice-button",children:["Update Invoice Details ",f.jsx(so,{className:pft})]})})]})]})})),gft="UpdatePaymentMethod-module_container_LPbev",hft="UpdatePaymentMethod-module_header_cIT-v",vft="UpdatePaymentMethod-module_description_eKjEn",fft="UpdatePaymentMethod-module_controls_VAip9",bft="UpdatePaymentMethod-module_buttons_T0LHE",yft="UpdatePaymentMethod-module_button_ds-gE",wft="UpdatePaymentMethod-module_buttonDisabled_NPo6K",_ft="UpdatePaymentMethod-module_buttonIcon_8FQj6",Cft="UpdatePaymentMethod-module_pastDueHeader_A7q-d",Sft=b.memo((()=>{const e=lg(),{subscription:t}=Y3(),{isPastDue:a}=_c(t),{isLoadingStripePortal:n,handlePortalLinkClick:s}=tit(eit.UpdatePaymentMethod);if(!e)return null;if(!t)return null;if(iht(e))return null;const o=!u_(Ec.Update);return f.jsxs("div",{className:gft,children:[f.jsx("div",{className:hft,children:"Payment Information"}),f.jsxs("div",{className:fft,children:[f.jsx("div",{className:vft,children:(()=>{if(a)return f.jsxs(f.Fragment,{children:[f.jsx("span",{className:Cft,children:"Past Due"}),"Premium features are currently active in this workspace but your current subscription invoice is past due."," ",f.jsx("span",{children:o?"Please contact your team admin to update payment information.":"Please update your payment details to avoid losing access."})]});let e="Use this section to change or update your payment information to a new credit card or payment method. Kapwing partners with Stripe to handle billing securely. You will be taken to Stripe's secure portal to update your payment information.";return o&&(e="To update your team's payment method, you must be an admin on this team. Please contact an admin to update payment information."),e})()}),n?f.jsx("div",{className:bft,children:f.jsxs("div",{className:yft,children:["Redirecting to portal ..."," ",f.jsx(lo,{className:_ft})]})}):f.jsx("div",{className:bft,children:f.jsxs("div",{className:o?wft:yft,onClick:o?()=>{}:s,"data-testid":"update-payment-button",children:["Update Payment Method"," ",f.jsx(lo,{className:_ft})]})})]})]})})),xft=b.createContext({goToNextModal:()=>{},goToPreviousModal:()=>{},goToModalIndex:()=>{},onClose:()=>{},currentModalIndex:-1,modalSteps:[],exists:!1}),Ift=({onClick:e,primaryButtonText:t="Next",secondaryButtonText:a="Back",primaryButtonDisabled:n=!1,loadingText:s})=>{const o=i.useContext(xft),r=i.useCallback((()=>{e?e():o.goToNextModal()}),[o,e]),l=0===o.currentModalIndex;return f.jsxs("div",{className:`${X$e} ${l&&Z$e}`,children:[f.jsx(GIe,{buttonText:a,className:J$e,onClick:o.goToPreviousModal,testId:"modal-flow-back-button"}),f.jsx("div",{className:$$e,children:o.modalSteps.map(((e,t)=>f.jsx("div",{className:`${Q$e} ${o.currentModalIndex===t&&eQe}`,onClick:()=>o.goToModalIndex(t)},t)))}),f.jsx(GIe,{buttonText:s||t,className:`${q$e} ${n&&x$e}`,onClick:r,testId:"modal-flow-next-button"})]})},Aft=()=>i.useContext(xft),kft=b.memo((({modalSteps:e,onClose:t,onFlowComplete:a=(()=>{}),onFlowDismissed:n=(()=>{}),testId:s})=>{const[o,r]=i.useState(0),l=o===e.length-1,d=0===o,c=i.useCallback((({skipDismissFn:e}={})=>{e&&n(),t()}),[t,n]),u=i.useCallback((()=>{l?(a(),t()):r((e=>e+1))}),[l,a,t]),p=i.useCallback((()=>{d||r((e=>e-1))}),[d]),m=e=>{r(e)},g=i.useMemo((()=>({goToNextModal:u,goToPreviousModal:p,goToModalIndex:m,onClose:c,modalSteps:e,currentModalIndex:o,exists:!0})),[u,p,c,e,o]);return f.jsx(xft.Provider,{value:g,children:f.jsx("div",{"data-testid":s,children:e[o]})})})),Tft="ConfirmCancel-module_newConfirmCancelContainer_FwNe4",Eft="ConfirmCancel-module_confirm_UfH-Z",Lft="ConfirmCancel-module_cancel_NN1yh",jft=({onConfirm:e,onClose:t})=>{const{subscription:a}=Y3(),n=Aft(),{cancelling:s,handleCancel:o}=q3(),r=i.useCallback((e=>{cb({description:"Error cancelling subscription",error:e})}),[]),l=i.useCallback((()=>{null==e||e(),n.exists&&n.goToNextModal()}),[n,e]),d=i.useCallback((async()=>{await o({onSuccess:l,onError:r})}),[o,r,l]),c=()=>f.jsxs("div",{className:Tft,children:[f.jsx("h2",{children:"Are you sure you want to cancel?"}),f.jsxs("p",{children:["By canceling your subscription and downgrading to the Free Plan,"," ",f.jsx("strong",{children:"youll lose access to projects created more than 3 days ago and all premium features"})," ","on",f.jsx(f.Fragment,{children:_c(a).dateEnd??f.jsx(iye,{style:{display:"inline"}})}),". By canceling, you understand that you wont receive a refund for the remainder of the paid period."]}),f.jsx(U_,{confirmFn:d,confirmText:"Cancel Subscription",loadingMsg:s?"Cancelling...":void 0,disabled:s,confirmButtonClassName:Eft,cancelButtonClassName:Lft,cancelFn:()=>{n.exists?n.onClose():null==t||t()},cancelText:"Keep my plan",confirmTestId:"confirm-cancel-button"})]});return n.exists?c():f.jsx(rC,{usePortal:!0,unsetCancelModal:t,children:c()})},Rft="ReasonsSurvey-module_surveyContainer_tVwY7",Nft="ReasonsSurvey-module_headerContainer_Higr2",Mft="ReasonsSurvey-module_header_0ky-U",Pft="ReasonsSurvey-module_subheader_FvQ9b",Fft="ReasonsSurvey-module_buttonsContainer_h2hSJ",Dft="ReasonsSurvey-module_primaryButton_2UvFT",Oft="ReasonsSurvey-module_primaryButtonDisabled_YcMr8",Uft="ReasonsSurvey-module_optionButton_V-GQa",Bft="ReasonsSurvey-module_textField_dekhU",Wft="ReasonsSurvey-module_commentsLabel_xuqIi",Vft=b.memo((({onConfirm:e,onClose:t})=>{const a=Aft(),[n,s]=i.useState(""),[o,r]=i.useState(""),l=Du((e=>e.currentUser)),d=lg(),{subscription:c}=Y3(),u=cg(),{status:p,interval:m}=_c(c),g=t=>{t.preventDefault(),d&&c&&ov("Downgraded Workspace Survey",{Reason:n,Feedback:o,Email:ag(l),Name:eg(l),"Current Plan":u.type,"Subscription Status":p,"Monthly/Annual":m,"Team ID":d._id,Quantity:d.users.length,"Quantity Impacted Workspaces":1}),null==e||e(),a.exists&&a.goToNextModal()},h=Yg({[Dft]:!0,[Oft]:!n.length}),v=()=>f.jsxs("div",{className:Rft,"data-cy":"hub-modal-overlay",children:[f.jsxs("div",{className:Nft,children:[f.jsx("div",{className:Mft,children:"Why are you cancelling your subscription?"}),f.jsx("div",{className:Pft,children:"Wed love your feedback on how we can improve Kapwing for creators. If theres anything we can do to keep you as a subscriber, please contact us at help@kapwing.com."})]}),f.jsx("div",{children:f.jsxs("form",{onSubmit:g,children:[Hft.map((e=>{const{id:t,value:a,label:o}=e;return f.jsxs("div",{className:Uft,"data-cy":`survey-reason-${a}`,children:[f.jsx("input",{id:`surveyReason-${t}`,type:"radio",name:"reason",value:a,onChange:()=>s(a),checked:n===a}),f.jsx("label",{htmlFor:`surveyReason-${t}`,children:o})]},`surveyReason-${t}`)})),n&&f.jsxs("label",{htmlFor:"reasonFeedback",children:[f.jsx("div",{className:Wft,children:"Comments"}),f.jsx("textarea",{id:"reasonFeedback",className:Bft,placeholder:zft[n],onChange:e=>r(e.target.value)})]}),f.jsx("div",{className:Fft,children:f.jsx("button",{type:"submit",className:h,disabled:!n.length,"data-cy":"continue-to-cancel",children:"Continue to cancel"})})]})})]});return a.exists?v():f.jsx(rC,{usePortal:!0,unsetCancelModal:t,style:{maxWidth:"90%",width:"fit-content"},children:v()})})),Hft=[{id:"tooExpensive",value:"too expensive",label:"Kapwing is too expensive for me."},{id:"didntWork",value:"didn't work",label:"I ran into an issue / Kapwing is broken."},{id:"noNeed",value:"no need",label:"I don't need Kapwing anymore."},{id:"switched",value:"switched",label:"I switched to a different tool."},{id:"other",value:"other",label:"Other"}],zft={"didn't work":"What problems did you run into that made you decide to cancel?","no need":"Is there anything we could do that would convince you to stay?",switched:"What tool are you going to use instead?",other:"What made you decide to cancel?","too expensive":"What is a price point that would convince you to stay?"},Gft="DropdownMenu-module_dropdownContainer_UetCQ",Yft="DropdownMenu-module_item_F87Uw",Kft="DropdownMenu-module_icon_PTF8H";var Xft=(e=>(e.Generic="DropdownItemType.Generic",e.Custom="DropdownItemType.Custom",e))(Xft||{});const Zft=b.memo((({icon:e,label:t,onClick:a})=>{const n=`dropdown-section-${t.toLowerCase().replace(" ","-")}`;return f.jsxs(pr,{"data-cy":n,"data-testid":n,className:Yft,onClick:a,children:[e&&f.jsx("div",{className:Kft,children:e}),f.jsx("span",{children:t})]},t)})),qft=b.memo((({children:e,onClick:t})=>f.jsx(pr,{onClick:t,children:e}))),Jft=b.memo((({children:e,items:t,maxWidth:a=200,side:n="bottom",sideOffset:s=4,align:o="center",alignOffset:r=0,disabled:l=!1})=>{const d=i.useCallback((e=>e.preventDefault()),[]),c=i.useMemo((()=>t.map(((e,t)=>{const{type:a}=e;switch(a){case"DropdownItemType.Generic":return i.createElement(Zft,{...e,key:t});case"DropdownItemType.Custom":return i.createElement(qft,{...e,key:t});default:throw new Error(`No implementation for ${a}.`)}}))),[t]),u=i.useMemo((()=>({maxWidth:a})),[a]);return f.jsxs(lr,{modal:!1,children:[f.jsx(dr,{asChild:!0,disabled:l,children:e}),f.jsx(cr,{container:B_(),children:f.jsx(ur,{className:Gft,style:u,onClick:d,side:n,sideOffset:s,align:o,alignOffset:r,children:c})})]})})),$ft="WorkspaceElement-module_elementContainer_PlGck",Qft="WorkspaceElement-module_selectionButton_FrTE6",ebt="WorkspaceElement-module_thumbnailWrapper_Ba3xr",tbt="WorkspaceElement-module_projectThumbnail_SatCT",abt="WorkspaceElement-module_blurredThumbnailWrapper_2bK83",nbt="WorkspaceElement-module_blurredThumbnail_I6YKs",sbt="WorkspaceElement-module_elementTextContainer_H6oEC",obt="WorkspaceElement-module_titleRow_61AiC",ibt="WorkspaceElement-module_title_ld9kF",rbt="WorkspaceElement-module_renameInput_GhcJ4",lbt="WorkspaceElement-module_subtitleWrapper_xoyDE",dbt="WorkspaceElement-module_subtitle_UVi7c",cbt="WorkspaceElement-module_subtitleLink_DgkW-",ubt="WorkspaceElement-module_multiLine_WiF5i",pbt="WorkspaceElement-module_separator_h1R7A",mbt="WorkspaceElement-module_thumbnailContainer_KoEJ5",gbt="WorkspaceElement-module_lockIcon_cYy-p",hbt="WorkspaceElement-module_duration_9C1a-",vbt="WorkspaceElement-module_iconWrapper_7c9l1",fbt="WorkspaceElement-module_icon_LtBgE",bbt="WorkspaceElement-module_lockedElement_4BGHA",ybt="WorkspaceElement-module_privateIcon_TAPqP",wbt="WorkspaceElement-module_lockedText_GneTq",_bt="WorkspaceElement-module_outerSelectionButton_ErivY",Cbt="WorkspaceElement-module_selectionMode_CjaQd",Sbt="WorkspaceElement-module_checkWrapper_ehEIe",xbt="WorkspaceElement-module_selected_2-329",Ibt="WorkspaceElement-module_checkIcon_kU5qk",Abt="WorkspaceElement-module_dropdownIcon_NEqiO",kbt="WorkspaceElement-module_marginRight_ZvNXf",Tbt=b.memo((({thumbnailUrl:e,elementType:t})=>e||t===gu.VIDEO?f.jsxs("div",{className:ebt,"data-cy":"workspace-thumbnail",children:[f.jsx("div",{className:abt,children:f.jsx("img",{src:e||gd,alt:"Thumbnail",className:nbt,onError:e=>{e.currentTarget.src=gd}})}),f.jsx("img",{src:e||gd,alt:"Thumbnail",className:tbt,onError:e=>{e.currentTarget.src=gd}})]}):t===gu.FOLDER?f.jsx("div",{className:vbt,"data-cy":"workspace-thumbnail",children:f.jsx("div",{className:fbt,children:f.jsx("svg",{width:"87",height:"73",viewBox:"0 0 87 73",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{d:"M2 61.1429V11.8571C2 9.24287 3.22588 6.73566 5.40796 4.88709C7.59005 3.03852 10.5496 2 13.6355 2H26.8224L38.4579 11.8571H73.3645C76.4504 11.8571 79.41 12.8957 81.592 14.7442C83.7741 16.5928 85 19.1 85 21.7143V61.1429C85 63.7571 83.7741 66.2643 81.592 68.1129C79.41 69.9615 76.4504 71 73.3645 71H13.6355C10.5496 71 7.59005 69.9615 5.40796 68.1129C3.22588 66.2643 2 63.7571 2 61.1429Z",stroke:"#505050",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"})})})}):f.jsxs("div",{className:ebt,"data-cy":"workspace-thumbnail",children:[f.jsx("div",{className:abt,children:f.jsx("img",{src:gd,alt:"Thumbnail",className:nbt})}),f.jsx("img",{src:gd,alt:"Thumbnail",className:tbt})]}))),Ebt=e=>{if(!e)return null;const t=fP(e),a=t.indexOf("."),n=a>0?a:t.length;return t.substring(0,n)},Lbt=b.memo((({onClick:e,workspaceElement:t,multiLineSubtitles:a,dropdown:n,onRename:s,paywallModalAction:o,isSelected:r,selectionMode:l,selectable:d,onSelect:c,setRef:u})=>{const p=rse(),{handleClick:m,fullDropdown:g,title:h,subtitles:v,isRenaming:b,setIsRenaming:y,newName:w,setNewName:_,handleRename:C,handleSelectionClick:S}=((e,t=[],a,n,s,o,r,l)=>{var d;const c=P(),[u,p]=i.useState(!1),[m,g]=i.useState(e.header),h=DZe(),v=e.elementType===gu.WORKFLOW,b=a&&!e.locked?t.concat([{icon:f.jsx(go,{}),label:"Rename",onClick:async()=>p(!0),type:Xft.Generic}]):t;v&&b.push({label:"Move to",icon:f.jsx(ho,{}),onClick:async()=>{const{destinationFolder:t}=await h({projectIds:[],workflowIds:[e.workflowId],entryPoint:o2.PROJECT_DROPDOWN});zbe(t)},type:Xft.Generic});let y=ql;e.elementType===gu.BRANDKIT_TEMPLATE?y="Untitled Template":e.elementType===gu.FOLDER&&(y="New Folder");const w=e.header||y,_=i.useCallback((e=>{e.stopPropagation()}),[]),C=i.useCallback((async()=>{u&&a&&(null==m?void 0:m.trim().length)&&m!==e.header&&await a(m),p(!1)}),[m,a,e.header,u]),S=null==(d=e.subheader)?void 0:d.map(((e,t)=>e.linkAddress?f.jsx(mn,{to:e.linkAddress,onClick:_,className:`${dbt} ${cbt}`,children:e.label},t):f.jsx("div",{className:dbt,children:e.label},t))).reduce(((e,t,a)=>n?null===e?[t]:[...e,t]:null===e?[t]:[...e,f.jsx("span",{className:pbt,children:""},`${a}_separator`),t]),null),x=i.useCallback((t=>{var a;t.stopPropagation(),t.preventDefault(),s&&s(!1),v&&e.handleWorkflowSelection&&(null==(a=e.handleWorkflowSelection)||a.call(e,{id:e.workflowId,selected:!l,shiftKey:t.shiftKey,type:"workflow"}))}),[l,v,s,e]),I=i.useCallback((t=>{var a;t.stopPropagation(),t.preventDefault(),o?(s&&s(),v&&e.handleWorkflowSelection&&(null==(a=e.handleWorkflowSelection)||a.call(e,{id:e.workflowId,selected:!l,shiftKey:t.shiftKey,type:"workflow"}))):e.locked||(r&&r(),e.onClick&&e.onClick(),e.linkAddress&&c(e.linkAddress))}),[o,e,r,s,v,l,c]);return{handleClick:I,fullDropdown:b,isRenaming:u,setIsRenaming:p,title:w,subtitles:S,newName:m,setNewName:g,handleRename:C,handleSelectionClick:x}})(t,n,s,a,c,l,e,r),x=(Date.now()-new Date(t.createdAt||"").getTime())/864e5,I=f.jsxs(f.Fragment,{children:[f.jsx(Tbt,{thumbnailUrl:t.thumbnailUrl,elementType:t.elementType}),!!t.duration&&f.jsx("div",{className:hbt,children:Ebt(t.duration)}),t.locked&&f.jsx("div",{className:gbt,children:f.jsx(co,{})}),t.isPrivate&&f.jsx("div",{className:ybt,children:f.jsx(Ws,{})}),f.jsx(sqe,{absolute:!0,elementType:t.elementType,text:t.iconText?t.iconText.toString():void 0}),d&&f.jsx("div",{className:_bt,onClick:S,children:f.jsx("div",{className:`${Qft} ${l?Cbt:""}`,children:r?f.jsx("div",{className:Sbt,children:f.jsx(uo,{className:Ibt,fontSize:12})}):f.jsx("div",{className:Sbt,children:f.jsx(po,{fontSize:16})})})})]});return f.jsxs("div",{className:`${$ft} ${r?xbt:""}\n         ${t.locked?bbt:""}`,onClick:()=>{(o||t.locked)&&p((()=>null),{action:o||Dd.STORAGE_LIMIT,extraAmplitudeEventProperties:{"Days Since Video Created":x}})()},ref:u,children:[f.jsx("div",{className:mbt,onClick:m,children:I}),f.jsxs("div",{className:`${sbt} ${t.locked?wbt:""}`,onClick:e=>{t.locked||(e.preventDefault(),e.stopPropagation())},children:[f.jsxs("div",{className:obt,onClick:()=>{s&&y(!0)},children:[b&&!t.locked?f.jsx("input",{type:"text",className:rbt,"data-cy":"workspace-element-input",placeholder:t.elementType===gu.BRANDKIT_TEMPLATE?"Untitled Template":ql,value:w,onChange:e=>_(e.target.value),onBlur:C,onKeyUp:e=>{"Enter"===e.key&&C()},autoFocus:!0}):f.jsx("div",{className:ibt,"data-cy":"workspace-element-title",children:h}),g&&!!g.length&&f.jsx(Jft,{items:g,children:f.jsx("div",{className:Abt,onClick:e=>{e.preventDefault(),e.stopPropagation()},children:f.jsx(mo,{size:22})})})]}),f.jsx("div",{className:`${lbt} ${a?ubt:""}`,children:v})]})]})})),jbt="WhatToExpect-module_whatToExpectContainer_22xKR",Rbt="WhatToExpect-module_whatToExpectContentContainer_0pyTY",Nbt="WhatToExpect-module_recentProjectsContainer_ieh7S",Mbt="WhatToExpect-module_recentProjectWrapper_U7ngK",Pbt="WhatToExpect-module_actionsContainer_58P0S",Fbt="WhatToExpect-module_secondaryAction_Q-eiW",Dbt="WhatToExpect-module_primaryAction_935-H",Obt="WhatToExpect-module_projectDeletionWarningBannerWrapper_Dqrp9",Ubt="WhatToExpect-module_projectDeletionWarningBannerContainer_E1GyJ",Bbt="WhatToExpect-module_warningIconWrapper_LwYMy",Wbt="WhatToExpect-module_threeReasonsContainer_-IvIo",Vbt="WhatToExpect-module_reasonCard_BicUn",Hbt="WhatToExpect-module_reasonContentContainer_8VnXE",zbt="WhatToExpect-module_reasonIconWrapper_YE5Zc",Gbt="WhatToExpect-module_reasonHeader_To0EL",Ybt="WhatToExpect-module_reasonSubHeader_7Vnjz",Kbt="WhatToExpect-module_beforeAfterContainer_MD0rf",Xbt="WhatToExpect-module_beforeAfterHeader_kN0uf",Zbt="WhatToExpect-module_beforeAfterSubHeader_dqZd4",qbt="WhatToExpect-module_beforeAfterArrowWrapper_gF5-q",Jbt="WhatToExpect-module_beforeContent_reUqZ",$bt="WhatToExpect-module_afterContent_dnrOb",Qbt="WhatToExpect-module_featuresContainer_Qboiz",eyt="WhatToExpect-module_featureContainer_lV19V",tyt="WhatToExpect-module_featureName_bkXrm",ayt="WhatToExpect-module_featureXIconWrapper_aRxC-",nyt="WhatToExpect-module_moreInfoLink_5woAO";function syt({onClose:e,onContinue:t}){const a=Aft(),{subscription:n}=Y3(),s=Du(ig),o=cg(),i=Du((e=>O5(e,s._id))),r=Du((e=>U5(e,s._id))),l=r.length>=3,d=f.jsxs(f.Fragment,{children:["If you cancel today, youll still have access to ",o.name," features on Kapwing until ",_c(n).dateEnd??f.jsx(iye,{style:{display:"inline"}}),"."," ",f.jsx(f.Fragment,{children:l?"After that, your workspace will be on the Free Plan and projects will be stored for only 3 days.":"After that, your workspace will be on the Free Plan"})]}),c=()=>f.jsxs("div",{className:jbt,children:[f.jsxs("div",{className:Rbt,children:[f.jsx("h2",{children:"What to expect"}),f.jsx("p",{children:d})]}),l?f.jsx("div",{className:Obt,children:f.jsxs("div",{className:Ubt,children:[f.jsx("div",{className:Bbt,children:f.jsx(vo,{})}),f.jsxs("div",{children:[f.jsxs("strong",{children:[i.length," projects"]})," will be deleted once your workspace is on the Free Plan, including:"]})]})}):null,l?l?f.jsx("div",{className:Nbt,children:r.slice(0,3).map(((e,t)=>f.jsx("div",{className:Mbt,children:f.jsx(Lbt,{workspaceElement:{header:e.content.name,subheader:[{label:`${e.content.lastEditorName}, ${le(B5(e)).calendar()}`}],thumbnailUrl:e.content.image_url,elementType:gu.VIDEO,duration:e.content.duration},onClick:()=>Jye({url:`/${e.content._id}/studio/editor`})})},t)))}):null:l?null:f.jsxs("div",{className:Wbt,children:[f.jsxs("div",{className:Vbt,children:[f.jsxs("div",{className:Hbt,children:[f.jsx("div",{className:zbt,children:f.jsx(ta,{})}),f.jsx("div",{className:Gbt,children:"Less Storage"}),f.jsx("div",{className:Ybt,children:"Youll have limited storage space:"})]}),f.jsxs("div",{className:Kbt,children:[f.jsxs("div",{className:Jbt,children:[f.jsx("div",{className:Xbt,children:"Unlimited"}),f.jsx("div",{className:Zbt,children:"storage"})]}),f.jsx("div",{className:qbt,children:f.jsx(fo,{})}),f.jsxs("div",{className:$bt,children:[f.jsx("div",{className:Xbt,children:"3 days"}),f.jsx("div",{className:Zbt,children:"storage"})]})]}),f.jsx("a",{href:"/pricing",className:nyt,children:"See storage details"})]}),f.jsxs("div",{className:Vbt,children:[f.jsxs("div",{className:Hbt,children:[f.jsx("div",{className:zbt,children:f.jsx(bo,{})}),f.jsx("div",{className:Gbt,children:"Lower Limits"}),f.jsx("div",{className:Ybt,children:"Your monthly usage will be restricted:"})]}),f.jsxs("div",{className:Kbt,children:[f.jsxs("div",{className:Jbt,children:[f.jsx("div",{className:Xbt,children:"300 mins"}),f.jsx("div",{className:Zbt,children:"transcription"})]}),f.jsx("div",{className:qbt,children:f.jsx(fo,{})}),f.jsxs("div",{className:$bt,children:[f.jsx("div",{className:Xbt,children:"10 mins"}),f.jsx("div",{className:Zbt,children:"transcription"})]})]}),f.jsx("a",{href:"/pricing",className:nyt,children:"See all limits"})]}),f.jsxs("div",{className:Vbt,children:[f.jsxs("div",{className:Hbt,children:[f.jsx("div",{className:zbt,children:f.jsx(bo,{})}),f.jsx("div",{className:Gbt,children:"Fewer Features"}),f.jsx("div",{className:Ybt,children:"You wont have access to these features:"})]}),f.jsxs("div",{className:Qbt,children:[f.jsxs("div",{className:eyt,children:[f.jsx("div",{className:ayt,children:f.jsx(aa,{})}),f.jsx("div",{className:tyt,children:"Watermark-free exports"})]}),f.jsxs("div",{className:eyt,children:[f.jsx("div",{className:ayt,children:f.jsx(aa,{})}),f.jsx("div",{className:tyt,children:"BrandKit"})]})]}),f.jsx("a",{href:"/pricing",className:nyt,children:"See all features"})]})]}),f.jsxs("div",{className:Pbt,children:[f.jsx("button",{className:Dbt,onClick:()=>{null==t||t(),a.exists&&a.goToNextModal()},"data-cy":"continue-to-cancel",children:"Continue to cancel"}),f.jsx("button",{className:Fbt,onClick:()=>{null==e||e(),a.exists&&a.onClose()},children:"Keep my plan"})]})]});return a.exists?c():f.jsx(rC,{usePortal:!0,noScrollBar:!0,unsetCancelModal:e,style:{maxWidth:"90%",width:"fit-content"},children:c()})}const oyt="YourPlanHasBeenCancelled-module_disabled_6Mfkr",iyt="YourPlanHasBeenCancelled-module_yourPlanHasBeenCancelledContainer_3c-2m";function ryt({onReactivate:e,onClose:t}){const a=Bu(),n=Aft(),{subscription:s}=Y3(),{reactivating:o,handleReactivate:r}=J3(),l=cg(),d=i.useCallback((t=>{const s=_c(t).dateEnd;a(db({description:`Your subscription has been reactivated successfully. Your next payment will be on ${s}.`,type:"success"})),n.exists?n.goToNextModal():null==e||e()}),[a,n,e]),c=i.useCallback((e=>{cb({description:"Error reactivating subscription",error:e})}),[]),u=i.useCallback((async()=>{await r({onSuccess:d,onError:c})}),[r,c,d]),p=()=>f.jsxs("div",{className:iyt,children:[f.jsx("img",{src:"https://cdn-useast1.kapwing.com/static/w0x-kshield-1.webp",alt:"cancelled"}),f.jsx("h2",{children:"Your plan has been cancelled"}),f.jsxs("p",{children:["You will no longer be charged. Youll still have access to"," ",l.name," features on Kapwing until ",_c(s).dateEnd??f.jsx(iye,{style:{display:"inline"}}),". After that, your workspace will be on the Free Plan. Reactivate your subscription at any time in your workspace settings."]}),f.jsx("button",{onClick:u,className:L({[oyt]:o}),"data-cy":"reactivate-button",children:o?"Reactivating...":"Reactivate Subscription"})]});return n.exists?p():f.jsx(rC,{unsetCancelModal:t,children:p()})}const lyt=({onClose:e})=>f.jsx(rC,{usePortal:!0,noScrollBar:!0,unsetCancelModal:e,style:{maxWidth:"90%",width:"fit-content"},children:f.jsx(kft,{onClose:e,modalSteps:[f.jsx(syt,{onContinue:()=>ov("Continue to cancellation")},"whatToExpect"),f.jsx(Vft,{},"reasonsSurvey"),f.jsx(jft,{},"confirmCancel"),f.jsx(ryt,{},"yourPlanHasBeenCancelled")]})}),dyt=e=>e&&e.users?(e.users.sort(((e,t)=>{const a=e.email||"",n=t.email||"";return a.localeCompare(n)})),e):e,cyt=b.memo((({hide:e})=>N.createPortal(f.jsxs(f.Fragment,{children:[f.jsx("div",{className:k$e,onClick:()=>{e()}}),f.jsx("div",{"data-testid":"","data-cy":"",onDragEnter:e=>e.stopPropagation(),onDragOver:e=>e.stopPropagation(),onDrop:e=>e.stopPropagation(),children:f.jsxs("div",{className:E$e,children:[f.jsxs("div",{className:R$e,children:[f.jsxs("div",{className:I$e,children:["You don't have permission to manage this workspace.",f.jsx("div",{className:F$e,onClick:e,children:f.jsx(R,{})})]}),f.jsx("div",{className:P$e,children:"Contact a workspace admin to make changes to this workspace."})]}),f.jsx("div",{className:O$e,children:f.jsx(U_,{confirmFn:e,confirmText:"Got it"})})]})})]}),B_())));const uyt="Billing-module_sectionHeader_f6sHm",pyt="Billing-module_adminWarning_BDUlD",myt=b.memo((()=>{const{selectedTeamId:e}=Du((e=>e.teams)),t=P(),{subscription:a,loadingSubscription:n}=Y3(),{isCancelled:s}=_c(a),[o,r]=i.useState(!0),[l,d]=i.useState([]),c=Um(e),u=dyt(c),p=i.useCallback((async()=>{try{if(u.stripeId){const t=await async function(e){if(!u_(Ec.Read))return;const{dispatch:t}=Mu(),a=await Kf("/api/v2/payment/charges",{params:{teamId:e}});return!a.success&&a.stripeDevEnvError?(t(db({description:"<Dev only message>: You are trying to view a Stripe subscription that was not purchased in the same environment you are currently using. To see live subscriptions, please view this page on kapwing.com. To see test card subscriptions, please view this page on kapwing-dev.com.",type:"warning"})),console.warn("Could not fetch Stripe subscription from live/test mode. If viewing a live subscription, please go to kapwing.com. If trying to view a subscription purchased with a test card, go to kapwing-dev.com."),[]):a}(e);d(t),r(!1)}else r(!1),d([])}catch(t){console.error(t)}}),[u.stripeId,e]);i.useEffect((()=>{p()}),[p,n]);const m=i.useCallback((()=>t(`/team/${e}/billing`)),[t,e]),g=i.useCallback((()=>f.jsx(cyt,{hide:m})),[m]);return u?f.jsxs(f.Fragment,{children:[f.jsx(xht,{}),u_(Ec.Update)?s?f.jsxs(f.Fragment,{children:[f.jsx(Sgt,{}),f.jsx(Xgt,{}),f.jsx(Sft,{}),f.jsx(mft,{}),f.jsx(rht,{charges:l,loadingBilling:o,getPaymentHistory:p})]}):f.jsxs(f.Fragment,{children:[f.jsx(sft,{}),f.jsx(Rvt,{}),f.jsx(Xgt,{}),f.jsx(Sft,{}),f.jsx(mft,{}),f.jsx(Sgt,{}),f.jsx(rht,{charges:l,loadingBilling:o,getPaymentHistory:p})]}):f.jsxs(f.Fragment,{children:[f.jsx(Xgt,{}),f.jsx("div",{className:uyt,children:"Billing Information"}),f.jsx("div",{className:pyt,"data-testid":"billing-admin-warning",children:"Only team admins can view and edit billing information. If you'd like to make changes to your current paid subscription such as adding seats and updating payment details, please contact an admin on your team."}),f.jsx(Sft,{})]}),f.jsxs(to,{children:[f.jsx(ao,{path:"/",element:null}),f.jsx(ao,{path:"/invalid-permissions",element:g()}),f.jsx(ao,{path:"/cancel",element:f.jsx(lyt,{onClose:()=>t(`/team/${u._id}/billing`)})})]})]}):null}));var gyt=(e=>(e.DISABLE="Disable",e.ENABLE="Enable",e.RESET="Reset",e))(gyt||{}),hyt=(e=>(e.SIDEBAR="Add Members in Sidebar",e.WORKSPACE_HEADER="Workspace Header",e.USER_ONBOARDING="New User Onboarding",e.TEAM_SETTINGS="Team Settings",e.TEAM_CREATION="Team Creation",e.WORKSPACE_SIDEBAR_UPSELL="Workspace Sidebar Upsell",e.PROJECT_SHARE_DIALOG="Project Share Dialog",e))(hyt||{});const vyt=(e,t)=>!t.isFree&&!iht(e),fyt="WorkspaceDropdown-module_profileHeader_omW4f",byt="WorkspaceDropdown-module_dropdownContainer_1Sxvn",yyt="WorkspaceDropdown-module_dropdownArrow_svjff",wyt="WorkspaceDropdown-module_floatLeft_WwxFW",_yt="WorkspaceDropdown-module_dropdownMenuWrapper_D3QjO",Cyt="WorkspaceDropdown-module_wideDropdownMenuWrapper_UPmGr",Syt="WorkspaceDropdown-module_dropdownMenu_H-YCD",xyt="WorkspaceDropdown-module_dropdownItem_sIgI2",Iyt="WorkspaceDropdown-module_invite_mvQw-",Ayt="WorkspaceDropdown-module_actionButton_L5Qk2",kyt="WorkspaceDropdown-module_actionButtonWide_46kWv",Tyt="WorkspaceDropdown-module_checkmarkIcon_Pjo2Z",Eyt="WorkspaceDropdown-module_notification_zMCoM",Lyt="WorkspaceDropdown-module_noClickEvents_3uf3n",jyt=b.memo((e=>{const{actionButton:t,defaultOption:a,options:n,wideTheme:s,clickFn:o,renderOption:r,renderSelectedOption:l,hasNotification:d=!1}=e,c=i.useRef(null),[u,p]=i.useState(!1),[m,g]=i.useState(a),h=F(),v=d||n.length>1,b=i.useCallback((e=>r?r(e):e.display),[r]),y=i.useCallback((e=>l?l(e):e.display),[l]),w=i.useCallback((e=>{c&&c.current&&c.current.contains(e.target)||p(!1)}),[p]);i.useEffect((function(){u&&document.addEventListener("mousedown",w)}),[u,w]),i.useEffect((()=>()=>{document.removeEventListener("mousedown",w)}),[w]),i.useEffect((function(){g(a)}),[a]),i.useEffect((function(){p(!1)}),[h.pathname]);const _=()=>{p(!u)},C=e=>{(null==e?void 0:e.overriddenClickFn)||(p(!1),g(e),o&&o(e.name))};let S=byt;s&&(S+=` ${wyt}`);const x=s?Cyt:_yt;return f.jsxs("div",{className:S,ref:c,children:[f.jsxs("div",{className:`${fyt} ${v?"":Lyt}`,onClick:_,onBlur:_,"data-testid":"workspace-dropdown-default","data-cy":"workspace-dropdown-default",children:[m&&y(m),f.jsxs("div",{className:yyt,children:[d&&f.jsx("div",{className:Eyt}),v&&f.jsx(yo,{})]})]}),u&&f.jsxs("div",{className:x,"data-testid":"workspace-dropdown-menu",children:[n.length>1&&f.jsx("div",{className:Syt,children:n.map((e=>{const t=e.optionType===sf.INVITE;return m&&m.name===e.name?f.jsxs("div",{className:xyt,onClick:()=>C(e),"data-testid":`workspace-dropdown-option-${e.name}`,children:[b(e),f.jsx(wo,{className:Tyt})]},e.name):f.jsx("div",{className:`${xyt} ${t&&Iyt}`,onClick:()=>C(e),"data-testid":`workspace-dropdown-option-${e.name}`,children:b(e)},e.name)}))}),t&&f.jsx("div",{className:s?kyt:Ayt,"data-testid":"dropdown-action-button",children:t})]})]})})),Ryt="TeamMemberControls-module_loadingDiscoverabilityContainer_jIkzq",Nyt="TeamMemberControls-module_loadingDiscoverabilityText_Je1l8",Myt=b.memo((()=>{var e;const t=lg(),[a,n]=i.useState(null==(e=t.settings)?void 0:e.discoverability),[s,o]=i.useState(""),[r,l]=i.useState(!1),d={[cu.AlwaysInvitationOnly]:{header:"Invitation only",copy:"Only users who have been invited with a link or email can find and join this workspace when they log in.",discoverabilitySetting:cu.AlwaysInvitationOnly},[cu.InvitationOnly]:{header:"Invitation only",copy:"Only users who have been invited with a link or email can find and join this workspace when they log in.",discoverabilitySetting:cu.InvitationOnly},[cu.RequestToJoin]:{header:`Anyone at ${t.emailDomain??"your email domain"} can request to join`,copy:"Only users in your domain can find your workspace when they log in. They can request to join but need approval from an admin.",discoverabilitySetting:cu.RequestToJoin},[cu.AnyoneCanJoin]:{header:`Anyone at ${t.emailDomain??"your email domain"} can join`,copy:"Only users in your domain can find your workspace when they log in. They can join your workspace without approval.",discoverabilitySetting:cu.AnyoneCanJoin}},c=[d[0],d[1],d[2]];if(i.useEffect((function(){void 0===a&&(async()=>{const e=await Rb(t._id,cu.RequestToJoin);e.discoverability&&(n(e.discoverability),await Eb())})()}),[]),void 0===a)return null;if(a===cu.AlwaysInvitationOnly)return f.jsxs("div",{"data-testid":"discoverability-settings",children:[f.jsx("div",{className:rgt,children:"Invitation Only"}),f.jsx("div",{className:lgt,children:"Only users with an invite link or email can join this workspace"})]});const u=async e=>{l(!1),n(e),await Rb(t._id,e),o("Updated discoverability!"),setTimeout((()=>{o("")}),2e3)},p=({...e})=>f.jsx(Cn.ValueContainer,{...e,children:f.jsxs("div",{className:cgt,onClick:()=>l((e=>!e)),children:[f.jsxs("div",{className:rgt,children:[d[a].header,r?f.jsx(_o,{}):f.jsx(da,{})]}),f.jsx("div",{className:lgt,children:d[a].copy})]})}),m=e=>f.jsxs("div",{id:`discoverability-radio-button-${e.discoverabilitySetting}`,className:`${ugt} ${a===e.discoverabilitySetting?pgt:""}`,onClick:()=>(async e=>{e.discoverabilitySetting===cu.AnyoneCanJoin?(await u(e.discoverabilitySetting),await Eb()):await u(e.discoverabilitySetting)})(e),children:[f.jsx("div",{className:rgt,children:e.header}),f.jsx("div",{className:lgt,children:e.copy})]}),g={control:()=>({}),option:()=>({}),menu:e=>({...e,maxWidth:"700px"}),menuList:()=>({}),indicatorSeparator:()=>({display:"none"}),menuPortal:e=>({...e}),dropdownIndicator:()=>({display:"none"}),valueContainer:()=>({padding:0})};return f.jsxs("div",{"data-testid":"discoverability-settings",children:[f.jsx(Ka,{value:d[a],options:c,formatOptionLabel:m,styles:g,menuIsOpen:r,menuPlacement:"auto",isSearchable:!1,components:{ValueContainer:p},controlShouldRenderValue:!1}),s&&f.jsx("div",{className:Ryt,children:f.jsx("span",{className:Nyt,children:s})})]})})),Pyt="LogoUpload-module_logoContainer_c8ASi",Fyt="LogoUpload-module_replaceLogoButton_QtrzH",Dyt="LogoUpload-module_updating_f6FhJ",Oyt="LogoUpload-module_logoUploadContainer_9kvwo",Uyt="LogoUpload-module_defaultLogosText_7WWmQ",Byt="LogoUpload-module_defaultLogos_wPjK9",Wyt="LogoUpload-module_logoWrapper_L5-0c",Vyt=async e=>{const t=rg();if(!t)return;const a=await fetch(e).then((e=>e.blob())),n=`team_assets/${t.name}-${O.v4()}-${e}`,s=new File([a],n,{type:a.type});await r_(s,t._id),await Eb()},Hyt=b.memo((({entryPoint:e,hasPermission:t=!0})=>{const a=Bu(),n=lg(),[s,o]=i.useState(!1),[r,l]=i.useState(null==n?void 0:n.picture),d=async e=>{const t=null==e?void 0:e[0];if(t&&n&&(e=>{const{dispatch:t}=Mu(),a=e[0];if(!a)return!1;const n=iI(a);return!!(null==n?void 0:n.includes("image"))||(t(db({description:`Your file type ${n} is not supported. Please upload an image.`,type:"error"})),!1)})(e)){const e=`team_assets/${n.name}-${O.v4()}-${t.name}`,a=new File([t],e,{type:t.type});c(a)}},c=async t=>{o(!0),await(async e=>{const t=rg();if(t)try{await r_(e,t._id),await Eb()}catch(b9e){cb({description:"There was an error updating your logo. Please try again.",error:b9e})}})(t),ov("Added Workspace Logo",{Origin:e}),l(t.name),o(!1)},u=()=>f.jsxs("div",{className:Pyt,children:[s?f.jsx("div",{className:Dyt,children:"Updating..."}):f.jsx(xve,{suggestedWidth:120,suggestedHeight:120,team:n}),t&&f.jsx("div",{className:Fyt,onClick:()=>l(void 0),"data-testid":"logo-remove-button","data-cy":"logo-remove-button",children:f.jsx(R,{})})]});return t?r||s?u():f.jsxs("div",{className:Oyt,"data-testid":"logo-upload","data-cy":"logo-upload",children:[f.jsx(IUe,{handleMultiFileUpload:d,acceptedFileTypes:LI({logoUpload:!0}),multiple:!0,theme:h_.Workspace}),f.jsx("div",{className:Uyt,children:"Or, select an icon from our sample library:"}),f.jsx("div",{className:Byt,"data-testid":"default-logos",children:ed.map(((e,t)=>f.jsx("div",{className:Wyt,onClick:()=>(async e=>{l(e),a({type:"UPDATE_TEAM_LOGO",id:n._id,picture:e}),await Vyt(e)})(e),style:{backgroundImage:`url(${e})`}},t)))})]}):u()})),zyt="CustomizeWorkspaceModal-module_textOverflowEllipsis_RKdQa",Gyt="CustomizeWorkspaceModal-module_previewContainer_9RVmt",Yyt="CustomizeWorkspaceModal-module_container_fORra",Kyt="CustomizeWorkspaceModal-module_sidebar_5lDAa",Xyt="CustomizeWorkspaceModal-module_placeholder_O49Wo",Zyt="CustomizeWorkspaceModal-module_logo_6MIrg",qyt="CustomizeWorkspaceModal-module_app_Z6Eld",Jyt="CustomizeWorkspaceModal-module_header_iVBWs",$yt="CustomizeWorkspaceModal-module_teamInfo_PP9O0",Qyt="CustomizeWorkspaceModal-module_name_5yMeL",ewt="CustomizeWorkspaceModal-module_members_5rGy6",twt="CustomizeWorkspaceModal-module_filler_XivRQ",awt="CustomizeWorkspaceModal-module_group1_BUmXm",nwt="CustomizeWorkspaceModal-module_one_MFR43",swt="CustomizeWorkspaceModal-module_two_rjL1h",owt="CustomizeWorkspaceModal-module_three_kjd57",iwt="CustomizeWorkspaceModal-module_darkGray_9YWJ3",rwt="CustomizeWorkspaceModal-module_divider_oonZw",lwt="CustomizeWorkspaceModal-module_group2_RYfwe",dwt="CustomizeWorkspaceModal-module_four_nT--F",cwt="CustomizeWorkspaceModal-module_five_pTt8n",uwt="CustomizeWorkspaceModal-module_six_6Y-1F",pwt=()=>{},mwt=b.memo((({entryPoint:e,onSubmit:t,onClose:a=pwt})=>{const n=Bu(),{isQualifiedDomain:s,currentUser:o}=Du((e=>{var t;return{currentUser:e.currentUser,isQualifiedDomain:null==(t=e.workspaces.suggestedWorkspaces)?void 0:t.isQualifiedDomain}}),Ou),r=lg(),[l,d]=i.useState("My Workspace"===r.name?"":r.name),c=Aft();i.useEffect((()=>{(e=>{ov("Begin Add Workspace Details",{"Entry Point":e})})(e)}),[e]);const u=e=>{d(e.target.value)},p=()=>{c.exists?c.onClose():a()},m=e=>{""===e.target.value&&d(o_(o.user.firstName,s,r.emailDomain))},g=i.useCallback((async()=>{if(l!==(null==r?void 0:r.name))try{const t=""===l?o_(o.user.firstName,s,r.emailDomain):l;n(xb(r._id,t)),jb(r._id,{name:t}),t!==o_(o.user.firstName,s,r.emailDomain)&&X5(e)}catch(b9e){cb({description:"Couldn't update team name.",error:b9e})}}),[r._id,r.emailDomain,null==r?void 0:r.name,o.user.firstName,n,e,s,l]),h=i.useCallback((async()=>{await g()}),[g]),v=i.useCallback((async e=>{null==e||e.preventDefault(),await h(),null==t||t(),c.exists?c.goToNextModal():a()}),[h,c,a,t]),b=i.useMemo((()=>({...r,name:l})),[r,l]),y=()=>{const e=()=>f.jsx(xve,{team:b,className:Zyt});return f.jsxs("div",{className:Yyt,children:[f.jsxs("div",{className:Kyt,children:[e(),f.jsx("div",{className:Xyt}),f.jsx("div",{className:Xyt})]}),f.jsxs("div",{className:qyt,children:[f.jsxs("div",{className:Jyt,children:[e(),f.jsxs("div",{className:$yt,children:[f.jsx("div",{className:Qyt,children:f.jsx("div",{className:zyt,children:l||"Your Team Name"})}),f.jsx("div",{className:ewt,children:f.jsx("span",{children:"Members"})})]})]}),f.jsxs("div",{className:twt,children:[f.jsxs("div",{className:awt,children:[f.jsx("div",{className:nwt}),f.jsx("div",{className:swt}),f.jsx("div",{className:owt})]}),f.jsx("div",{className:iwt}),f.jsx("div",{className:rwt}),f.jsxs("div",{className:lwt,children:[f.jsx("div",{className:nwt}),f.jsx("div",{className:swt}),f.jsx("div",{className:owt}),f.jsx("div",{className:dwt}),f.jsx("div",{className:cwt}),f.jsx("div",{className:uwt})]})]})]})]})},w=()=>f.jsxs("div",{className:V$e,"data-cy":"customize-workspace-modal","data-testid":"customize-workspace-modal",children:[f.jsxs("div",{className:z$e,children:[f.jsx("div",{className:I$e,children:"Customize Your Team Workspace"}),f.jsxs("form",{className:B$e,onSubmit:v,children:[f.jsxs(f.Fragment,{children:[f.jsx("label",{className:N$e,htmlFor:"new-team-name",children:"Name your workspace"}),f.jsx("input",{id:"new-team-name",type:"text",className:U$e,value:l||"",onChange:u,onBlur:m,placeholder:o_(o.user.firstName,s,r.emailDomain),autoFocus:!0,required:!0,"data-testid":"new-team-name-input"})]}),f.jsxs(f.Fragment,{children:[f.jsxs("label",{className:N$e,htmlFor:"upload-logo",children:["Set your workspace icon",f.jsx("div",{className:M$e,children:"This helps future members recognize your workspace"})]}),f.jsx("div",{className:D$e,children:f.jsx(Hyt,{entryPoint:e})})]}),s&&f.jsxs("div",{className:aQe,children:[f.jsx("label",{className:N$e,htmlFor:"upload-logo",children:"Set who can discover your team workspace"}),f.jsx("div",{className:tQe,children:f.jsx(Myt,{})})]}),c.exists?f.jsx(Ift,{onClick:v}):f.jsx(GIe,{className:rQe,onClick:v,testId:"customize-workspace-modal-confirm-button",buttonText:"Update Team"})]})]}),f.jsx("div",{className:`${H$e} ${Gyt}`,children:y()}),f.jsx("div",{className:`${G$e} ${K$e}`,onClick:p,children:f.jsx(R,{})})]});return c.exists?w():f.jsx(rC,{noCloseButton:!0,usePortal:!0,noScrollBar:!0,noPadding:!0,unsetCancelModal:a,children:w()})})),gwt="PlanNote-module_memberPaymentNote_Gtbxp";var hwt=(e=>(e.Charge="charge",e.Cancel="cancel",e))(hwt||{});const vwt=({type:e})=>f.jsx("div",{className:gwt,children:"cancel"===e?f.jsxs(f.Fragment,{children:[f.jsx("strong",{children:"Note:"})," Your workspace is on an upgraded plan that is billed per seat. If you would like, you may also set the unused seats to cancel starting next billing cycle. Learn more about how we bill"," ",f.jsx("a",{href:"/help/subscription-faq/",target:"_blank",rel:"noopener noreferrer",children:"here."})]}):f.jsxs(f.Fragment,{children:[f.jsx("strong",{children:"Note:"})," You will be charged for each team member who joins your workspace."," ",f.jsx("a",{href:"/help/subscription-faq/",target:"_blank",rel:"noopener noreferrer",children:"Visit our FAQ"})," ","to learn more about how your plan is billed."]})}),fwt="TeamInviteByEmail-module_inputLabel_mag4v",bwt="TeamInviteByEmail-module_emaillControlsContainer_aY2Rc",ywt="TeamInviteByEmail-module_emailControl_8IZ88",wwt="TeamInviteByEmail-module_emailControlError_ttjWI",_wt="TeamInviteByEmail-module_emailInput_V4i48",Cwt="TeamInviteByEmail-module_emailControlErrorMessage_i5FGR",Swt=b.memo((({name:e,placeholder:t,value:a,isValid:n=!0,readOnly:s=!1,readOnlyMessage:o="",errorMessage:i="Invalid email address added. Please double check the entered email",onChange:r})=>f.jsxs("div",{className:_wt,children:[!n&&f.jsx("p",{className:Cwt,children:i}),f.jsx("input",{className:(()=>{let e=ywt;return n||(e=`${e} ${wwt}`),e})(),type:"text",name:e,placeholder:t,value:s?`${a} - ${o}`:a,readOnly:s,onChange:r,autoComplete:"off","data-cy":"team-invite-member-email-input"},e)]}))),xwt=b.memo((({emails:e,setEmails:t,emailsPlaceholder:a,validateInviteEmail:n,emailExists:s})=>{const o=e=>s&&s(e.email)?"User is already a member of this workspace.":"Invalid email address added. Please double check the entered email.";i.useEffect((function(){if(e.length<3){const a=Array(3-e.length).fill(void 0).map((()=>({email:""})));t([...e,...a])}}),[e,t]);const r=i.useMemo((()=>e.map(((e,a)=>({target:s})=>{const{value:o}=s;e.email=o,!1===e.isValid&&(e.isValid=!o||n(o)),t((t=>(t[a]=e,[...t])))}))),[e,t,n]);return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:fwt,children:"Invite members by email"}),f.jsx("div",{className:bwt,"data-testid":"email-fields-container",children:e.map(((e,t)=>f.jsx(Swt,{name:`invite-by-email-input-${t}`,placeholder:a,value:e.email,isValid:e.isValid,readOnly:e.invited,readOnlyMessage:"invite pending",onChange:r[t],errorMessage:o(e)},t)))})]})})),Iwt="TeamInviteByLink-module_inputLabel_LrkNN",Awt="TeamInviteByLink-module_linkContainer_0DCJQ",kwt="TeamInviteByLink-module_inviteLink_gcBTb",Twt="TeamInviteByLink-module_copyButton_Oh9Pp",Ewt="TeamInviteByLink-module_loaderWrapper_q1teV",Lwt="TeamInviteByLink-module_copyLink_HcJ1l",jwt="TeamInviteByLink-module_linkIcon_2Qo4t",Rwt=b.memo((({onCopy:e,teamId:t,disabled:a=!1,linkTextOnly:n=!1})=>{const s=Bu(),o=D2(),[r,l]=i.useState(""),d=i.useRef(null),c=i.useCallback((async e=>{jSe(e).then((()=>s(db({description:"Invite link added to clipboard.",type:"success"})))).catch((e=>{cb({description:"Copy failed",error:e})}))}),[s]),u=i.useCallback((()=>{var t,a,n;c((null==(t=d.current)?void 0:t.innerHTML)||"");const s=document.createRange();d.current&&s.selectNode(d.current),null==(a=window.getSelection())||a.removeAllRanges(),null==(n=window.getSelection())||n.addRange(s),e&&e()}),[c,e]),p=i.useCallback((()=>{if(!r)return"";const{hostname:e}=window.location;return`${"localhost"===e?"localhost:3000":`https://${e}`}/team/sharing/${r}`}),[r]);i.useEffect((function(){(async()=>{const e=await function(e){return Kf(`/api/v1/team-invite-links/team/${e}`)}(t);o.current&&l(e.inviteLink)})()}),[t,o]);const m=i.useCallback((()=>{r&&c(p()),e&&e()}),[r,c,p,e]);return a?null:n?f.jsx("div",{className:Awt,children:f.jsxs("button",{type:"button",className:Lwt,onClick:m,children:[f.jsx(Co,{className:jwt}),"Copy Invite Link"]})}):f.jsxs(f.Fragment,{children:[e&&f.jsx("div",{className:Iwt,children:"Invite by link"}),f.jsxs("div",{className:Awt,children:[f.jsx("div",{className:kwt,onClick:u,id:"inviteLink",ref:d,"data-testid":"invite-link-url",children:p()}),f.jsx("button",{type:"button",className:Twt,onClick:m,children:r?"Copy Link":f.jsx("div",{className:Ewt,children:f.jsx(v_,{theme:h_.Workspace})})})]})]})})),Nwt=f.jsx(v_,{}),Mwt=()=>{},Pwt=b.memo((({entryPoint:e,onClose:t=Mwt,setPendingInvites:a})=>{const n=Bu(),{executeRecaptcha:s}=qe(),o=lg(),r=cg(),l=vyt(o,r),{subscription:d}=Y3(),c=d?oP(o,d):0,{currentUser:u,selectedTeamId:p,recaptchaKeyV3:m,recaptchaKeyV2:g}=Du((e=>({currentUser:e.currentUser,selectedTeamId:e.teams.selectedTeamId,recaptchaKeyV3:e.config.RECAPTCHA_V3_SITEKEY,recaptchaKeyV2:e.config.RECAPTCHA_V2_SITEKEY})),Ou),{token:h,user:{_id:v}}=u,[b,y]=i.useState(!1),w=i.useRef(void 0),[_,C]=i.useState(!1),[S,x]=i.useState([]),I=Aft(),A=S.some((e=>!1===e.isValid)),k=e=>{for(const t of(null==o?void 0:o.users)??[])if(e===t.email)return!0;return!1},T=e=>RI(e)&&!k(e),E=()=>{var t;o&&G5({teamId:o._id,inviterEmail:null==(t=null==u?void 0:u.user)?void 0:t.email,origin:e,shareType:"copy link"})},L=async()=>{var t;if(S.length>0){const i=S.map((e=>({...e,isValid:!e.email||T(e.email)})));if(i.some((e=>!e.isValid)))return x(i),!1;const r=i.filter((e=>e.email&&!e.invited)).map((e=>e.email));r.length&&(C(!0),await(async e=>{var t;if(e.length<=0)return;if(_)return void n(db({description:"Please wait for pending sent emails to load first.",type:"error"}));if(!s)return void n(db({description:"Recaptcha has not been loaded. Please wait a few seconds and try again.",type:"error"}));const i=await s("teamInvite"),r=null==(t=w.current)?void 0:t.getValue(),l={emails:e,token:h,teamId:null==o?void 0:o._id,v3CaptchaToken:i,v2CaptchaToken:r,recaptchaKeyV3:m,recaptchaKeyV2:g};if(window.Cypress){try{await Xf("/api/v1/invites/teams",{body:{emails:e,token:h,userId:v,teamId:"641b74d390ea88312c239c0b",cypress:!0}})}catch(b9e){console.error(b9e)}return n(db({description:"Invites were sent successfully",type:"success"})),void(a&&a([{_id:"randomId",email:"testinvite@kapwing.com"}]))}try{const t=await Xf("/api/v1/invites/teams",{body:l});if(n(db({description:"Invites were sent successfully",type:"success"})),x(S.map((({email:t,isValid:a,invited:n})=>({email:t,isValid:a,invited:n?!!n:e.includes(t)})))),t.notifError&&(n(db({description:"Invites created but there was an error sending the notifications",type:"warning"})),console.error(`Error sending team invite notifications: ${t.notifError}`)),a){const e=await d_(o._id);a(e.invites)}}catch(b9e){Bb(b9e)&&y(!0),cb({description:"An error has occurred when sending invites!",error:b9e})}})(r),C(!1),o&&G5({teamId:o._id,inviterEmail:null==(t=null==u?void 0:u.user)?void 0:t.email,origin:e,shareType:"send email"}))}return!0},j=()=>{I.exists?I.onClose():t()},N=async e=>{null==e||e.preventDefault(),await L()&&j()},M=()=>f.jsxs("div",{className:V$e,"data-cy":"add-members-modal","data-testid":"add-members-modal",children:[f.jsxs("div",{className:z$e,children:[f.jsxs("div",{className:I$e,children:["Add Members to:",f.jsx("span",{className:A$e,children:null==o?void 0:o.name})]}),f.jsxs("form",{className:B$e,onSubmit:N,children:[f.jsx(xwt,{emails:S,setEmails:x,emailsPlaceholder:"name@company.com",validateInviteEmail:T,emailExists:k}),l&&0===c&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:S$e}),f.jsx(vwt,{type:hwt.Charge})]}),I.exists?f.jsx(Ift,{primaryButtonDisabled:A,primaryButtonText:"Next",onClick:N}):f.jsx(GIe,{className:`${rQe} ${_||A?x$e:""}`,onClick:N,testId:"continue-button",buttonText:_?Nwt:"Invite Members"}),f.jsx("input",{type:"submit",style:{display:"none"}})]}),f.jsx(Rwt,{teamId:p,onCopy:E,disabled:!o.settings.inviteByLink,linkTextOnly:!0})]}),f.jsx("div",{className:H$e,style:{backgroundImage:'url(\n            "https://cdn-useast1.kapwing.com/static/zS3-invite-members-modal.webp"\n          )'}}),f.jsx("div",{className:`${G$e} ${Y$e}`,onClick:j,children:f.jsx(R,{})})]});return I.exists?f.jsxs(f.Fragment,{children:[b&&f.jsx(Je,{sitekey:g,ref:w}),M()]}):f.jsxs(rC,{noCloseButton:!0,usePortal:!0,noScrollBar:!0,noPadding:!0,unsetCancelModal:t,children:[b&&f.jsx(Je,{sitekey:g,ref:w}),M()]})})),Fwt=b.memo((({onClose:e,entryPoint:t,setPendingInvites:a})=>{var n;const s=rg(),o=null==(n=null==s?void 0:s.users)?void 0:n.length,r=s&&s_(null==s?void 0:s._id),l=i_(null==r?void 0:r.role),d=u_(Lc.Create),c=i.useMemo((()=>[f.jsx(mwt,{entryPoint:t},"customizeWorkspace"),f.jsx(Pwt,{entryPoint:t,setPendingInvites:a},"inviteMembers")]),[t,a]);return d?(o??0)>1||!l?f.jsx(Pwt,{entryPoint:t,onClose:e,setPendingInvites:a}):f.jsx(rC,{noCloseButton:!0,usePortal:!0,noScrollBar:!0,noPadding:!0,unsetCancelModal:e,children:f.jsx(kft,{modalSteps:c,onClose:e})}):null})),Dwt="WorkspaceMemberInfo-module_workspaceMemberInfoContainer_v9Waj",Owt="WorkspaceMemberInfo-module_profilePicture_sTxX7",Uwt="WorkspaceMemberInfo-module_nameContainer_FrbXy",Bwt="WorkspaceMemberInfo-module_name_bSpFy",Wwt="WorkspaceMemberInfo-module_email_Sqt6m",Vwt=b.memo((({member:e,className:t=""})=>{const a=!e.firstName||!e.lastName;return f.jsxs("div",{className:`${Dwt} ${t}`,children:[f.jsx(xve,{user:e,className:Owt}),f.jsxs("div",{translate:"no",children:[f.jsx("div",{className:Uwt,children:f.jsx("div",{className:Bwt,children:a?`${e.email}`:`${e.firstName} ${e.lastName}`})}),f.jsx("div",{className:Wwt,children:e.email})]})]})})),Hwt="TeamOverlays-module_disabled_04wAN",zwt="TeamOverlays-module_confirmButton_FchRk",Gwt="TeamOverlays-module_removeUserButton_Q2aEb",Ywt="TeamOverlays-module_removeDisabled_TJmP0",Kwt="TeamOverlays-module_overlayContentContainer_Hostb",Xwt="TeamOverlays-module_overlayHeader_fZYbb",Zwt="TeamOverlays-module_overlayDescription_rgRW5",qwt="TeamOverlays-module_overlayDescriptionBold_CcinP",Jwt="TeamOverlays-module_inputContainer_-Yk0D",$wt="TeamOverlays-module_teamNameInput_-IK5u",Qwt="TeamOverlays-module_confirmButtonsContainer_-Gc5O",e_t="TeamOverlays-module_doneButton_Fa9w2",t_t="TeamOverlays-module_primaryButton_HIgiN",a_t="TeamOverlays-module_secondaryAction_aqqXV",n_t="TeamOverlays-module_lastAdmin_Ev0JA",s_t="TeamOverlays-module_options_Y4rOr",o_t=({closeFn:e,nextFn:t,userToRemove:a})=>{const n=Bu(),s=Du((e=>e.currentUser)),o=lg(),r=cg(),[l,d]=i.useState(!1),{subscription:c,refetchSubscription:u}=Y3(),[p,m]=i.useState(!1),g=async()=>{m(!0);try{await function(e,t,a){const{token:n,user:s}=a||{},{_id:o}=s||{};return Xf(`/api/v2/teams/${e}/removeUser`,{body:{token:n,userId:o,teamId:e,userIdToRemove:t},parseJSON:!1})}(o._id,a.userId,s),l&&c&&(await Zht(o._id,c.quantity-1,c.quantity,!1),u()),Eb(),m(!1),n(db({description:"User successfully removed from team",type:"success"})),(async(e,t,a,n)=>{const{status:s,interval:o}=await X3(),i={"Team ID":e,"Removed Email":t,"Removed Role":a,"Number of Workspace Members":n,"Current Plan":pg(e).type,"Monthly/Annual":o,"Subscription Status":s};amplitude.logEvent("Team Member Removed",i)})(o._id,a.email,String(a.role),o.users.length),t&&t(l)}catch(b9e){cb({description:"There was a problem removing the user(s). Please try again.",error:b9e})}finally{m(!1),e()}},h=i.useCallback((()=>d(!l)),[l]);return f.jsx(rC,{unsetCancelModal:e,overlayContainerSmall:!0,children:f.jsxs("div",{className:Kwt,children:[f.jsx("div",{className:Xwt,children:"Remove User from Team"}),f.jsxs("div",{className:Zwt,children:["You are about to remove"," ",f.jsxs("b",{children:[a.firstName&&`${a.firstName} ${a.lastName||""}`," ","(",a.email,")"]})," ","from your team. This user will lose access to your workspace, and will no longer be able to edit and collaborate on your team projects.",f.jsx("br",{}),f.jsx("br",{}),"Any projects created by this user in the Team Folders will remain in the Team Workspace, accessible to the rest of the team. Any projects created in this users private folders will not be accessible to the rest of the team unless shared or moved to the Team Folders."]}),f.jsx("br",{}),r.canChangeSeats?f.jsxs(f.Fragment,{children:[f.jsx(vwt,{type:hwt.Cancel}),f.jsxs("div",{className:s_t,children:[f.jsx(w_e,{label:"Cancel this seat starting next billing cycle",labelSize:12,checked:l,onChange:h,color:h_.Workspace}),f.jsx("div",{className:e_t,children:f.jsx("div",{className:p?Ywt:Gwt,onClick:()=>!p&&g(),"data-cy":"team-confirm-remove-users-button",children:p?f.jsx(v_,{}):"Remove member"})})]})]}):f.jsx("div",{className:e_t,children:f.jsx("div",{className:Gwt,onClick:()=>g(),"data-cy":"team-confirm-remove-users-button",children:p?f.jsx(v_,{}):"Remove member"})})]})})},i_t="Survey-module_modalContainer_UbuZL",r_t="Survey-module_header_VlVzo",l_t="Survey-module_subheader_kL4K9",d_t="Survey-module_buttonsContainer_0Nwz7",c_t="Survey-module_primaryButton_0qvyM",u_t="Survey-module_primaryButtonDisabled_GyC0Z",p_t="Survey-module_optionButton_kTlYj",m_t="Survey-module_textField_6HAyu",g_t="Survey-module_commentsLabel_39Sof",h_t=b.memo((({onConfirm:e,onClose:t,reasons:a,placeholder:n,title:s,buttonLabel:o,description:r})=>{const[l,d]=i.useState(""),[c,u]=i.useState(""),p=t=>{t.preventDefault(),e(l,c)},m=Yg({[c_t]:!0,[u_t]:!l.length});return f.jsx(rC,{usePortal:!0,unsetCancelModal:t,children:f.jsxs("div",{className:i_t,"data-cy":"hub-modal-overlay",children:[f.jsxs("div",{className:r_t,children:[f.jsx("div",{className:r_t,"data-cy":"generic-survey-title",children:s}),r&&f.jsx("div",{className:l_t,children:r})]}),f.jsx("div",{children:f.jsxs("form",{onSubmit:p,"data-cy":"generic-survey",children:[a.map((e=>{const{id:t,value:a,label:n}=e;return f.jsxs("div",{className:p_t,"data-cy":"generic-survey-reason",children:[f.jsx("input",{id:`surveyReason-${t}`,type:"radio",name:"reason",value:a,onChange:()=>d(a),checked:l===a}),f.jsx("label",{htmlFor:`surveyReason-${t}`,children:n})]},`surveyReason-${t}`)})),l&&f.jsxs("label",{htmlFor:"reasonFeedback",children:[f.jsx("div",{className:g_t,children:"Comments"}),f.jsx("textarea",{id:"reasonFeedback",className:m_t,placeholder:"string"==typeof n?n:n[l],onChange:e=>u(e.target.value)})]}),f.jsx("div",{className:d_t,children:f.jsx("button",{type:"submit",className:m,disabled:!l.length,"data-cy":"generic-survey-submit",children:o})})]})})]})})})),v_t=[{id:"userLeft",value:"user left",label:"This user has left my organization and should no longer have access to my workspace."},{id:"giveAccess",value:"give other person access",label:"I want to give someone else in my organization access to my workspace instead of this user."},{id:"reduceSeats",value:"reduce seats",label:"We are reducing the total number of seats on our team subscription."},{id:"accident",value:"accident",label:"This user was added to my workspace accidentally."},{id:"other",value:"other",label:"Other (please specify below)"}],f_t=b.memo((({cancelledOpenSeat:e,closeFn:t})=>{const a=lg(),n=i.useCallback(((n,s)=>{ov("Remove Member Survey",{seatInlineCancelled:e,teamId:a._id,reason:n,feedback:s}),t()}),[e,t,a._id]);return f.jsx(h_t,{onConfirm:n,onClose:t,reasons:v_t,placeholder:"Ex: This user is switching to a different program and no longer needs access to Kapwing.",title:"Why did you remove this user from your team?",buttonLabel:"Confirm"})})),b_t="Settings-module_sectionHeader_qC4UA",y_t="Settings-module_teamHeader_ZGap5",w_t="Settings-module_workspaceName_16j97",__t="Settings-module_workspaceNameClickable_XlRGI",C_t="Settings-module_sectionContainer_L-C-P",S_t="Settings-module_buttonContainer_dRdl2",x_t="Settings-module_leaveWorkspaceButton_beJQs",I_t="Settings-module_deleteWorkspaceButton_a8cN9",A_t="Settings-module_workspaceRenameButton_SSiXN",k_t="Settings-module_link_3kcL-",T_t="Settings-module_textContainer_mPpLS",E_t="Settings-module_nameHeader_Q15w9",L_t="Settings-module_logoUploadContainer_eun9W",j_t="Settings-module_controlsContainer_f4BG-",R_t=b.memo((()=>{const e=Pve(),t=lg(),a=cg(),n=Bu(),{subscription:s}=Y3(),o=s?oP(t,s):0,[r,l]=i.useState(t.settings.inviteByLink),[d,c]=i.useState(!1),u=i.useCallback((async()=>{l(!r),await async function(e,t){await Xf(`/api/v2/teams/${e}/settings/invite-link`,{body:{enabled:t}}),Eb()}(t._id,!r),J5(t,r?gyt.DISABLE:gyt.ENABLE)}),[t,r]),p=async()=>{c(!0),await async function(e){return Xf(`/api/v1/team-invite-links/${e}/reset`)}(t._id),n(db({description:"Your workspace invite link has been reset. Anyone with the old link will no longer be allowed to join the workspace.",type:"success"})),e.signal.aborted||(c(!1),J5(t,gyt.RESET))};return f.jsxs("span",{"data-testid":"invite-link-setting",children:[f.jsx("div",{className:b_t,children:"Invite link"}),f.jsxs("div",{className:j_t,children:[f.jsx("div",{className:T_t,"data-testid":"invite-link-setting-text",children:r?f.jsxs("div",{children:["Share this unique link with anyone to invite them to this workspace. You can disable or"," ",f.jsx("span",{className:k_t,onClick:p,"data-testid":"invite-link-reset",children:"reset this link"})," ","at any time."]}):f.jsxs("span",{children:[f.jsx("b",{children:"Joining this workspace via link is currently disabled."})," Toggle this button to enable this workspaces invite link, allowing anyone with the link to join this workspace."]})}),f.jsx(RRe,{toggled:r,onClick:u,theme:h_.Workspace,testId:"invite-link-setting"})]}),r&&a.isPaid&&0===o&&f.jsxs(f.Fragment,{children:[f.jsx(vwt,{type:hwt.Charge}),f.jsx("br",{})]}),d?f.jsx(Ile,{}):f.jsx(Rwt,{teamId:t._id,disabled:!r})]})})),N_t=f.jsx(Fa,{}),M_t=b.memo((({currentTeam:e,userInTeam:t})=>{const[a,n]=i.useState([]),s=Du((e=>e.teams.selectedTeamId)),o=rse(),r=gg(Fd.CHANGE_MEMBER_ROLES),[l,d]=i.useState(!1),c=cg(),u=Bu(),p=F(),[m,g]=i.useState([]),[h,v]=i.useState(!0),[b,y]=i.useState(!1),[w,_]=i.useState(!1),[C,S]=i.useState(),[x,I]=i.useState(!1),{subscription:A}=Y3(),k=u_(Lc.Create),T=A?oP(e,A):0,E=i.useCallback((async()=>{if(i_(null==t?void 0:t.role)){const e=await d_(s);g(e.invites)}}),[s,null==t?void 0:t.role]),L=i.useCallback((async()=>{const{success:e,requestUserMap:t}=await Kf(`/api/v1/requests/teamId/pending/${s}`);e&&t&&n(t.filter((e=>e.user)))}),[s]);i.useEffect((function(){(async()=>{await Promise.all([E(),L()]),v(!1)})()}),[L,E]),i.useEffect((function(){const e=new URLSearchParams(p.search);e.has(dd.RequestToEditEmail)&&q5(dd.RequestToEditEmail),e.has(dd.RequestToJoinEmail)&&q5(dd.RequestToJoinEmail)}),[p.search]);const j=i.useCallback((async e=>{const t=m.filter((t=>t._id!==e._id)),a={inviteId:e._id};await Yf("/api/v1/invites/teams",{body:a,parseJSON:!1}),g(t),u(db({description:"Invite successfully deleted.",type:"success"}))}),[u,m]),N={[Ad.Admin]:"Admin",[Ad.Editor]:"Editor"},M=Object.keys(N).reverse().map((e=>({name:e,display:f.jsxs("div",{className:Zmt,"data-id":e,children:[f.jsx("div",{className:Jmt,children:N[Number(e)]}),f.jsx("div",{children:Number(e)===Ad.Admin?"Full access to team content. Can manage team members and billing.":"Full access to team content. Cannot manage team members or billing."})]},e),optionType:sf.ROLE}))),P=i.useCallback(((e,t)=>{const a={role:Number(t)};!async function(e,t,a){const{state:n}=Mu(),{currentUser:s}=n,{token:o,user:i}=s,{_id:r}=i||{};await Xf(`/api/v1/teams/${e}/updateUser`,{body:{token:o,userId:r,updateUserId:t,teamId:e,updateDict:a},parseJSON:!1})}(e.teamId,e.userId,a)}),[]),D=e=>f.jsx("div",{className:ngt,"data-cy":"dropdown-remove-user-button",onClick:()=>{S(e),y(!0)},children:"Remove from Team Workspace"}),O=e=>f.jsxs("div",{className:Xmt,"data-testid":"role-text",children:[f.jsx("span",{children:i_(e.role)?"Admin":"Editor"})," ",f.jsx("span",{children:(null==t?void 0:t._id)===e._id&&"(You)"})]}),U=i.useCallback((e=>{var t,a;const[n]=(null==(a=null==(t=e.display)?void 0:t.props)?void 0:a.children)||[];return n}),[]),B=i.useMemo((()=>e.users.reduce(((e,t)=>({...e,[t._id]:e=>{o((()=>{P(t,e)}),{if:!r,action:Dd.CHANGE_MEMBER_ROLES})()}})),{})),[P,r,e.users,o]),W=async(e,t)=>{const{requestKey:o}=t,i=await async function(e,t,a){try{return await Zf(`/api/v1/requests/teams/${a}/${e}`,{body:{teamId:t}})}catch(b9e){cb({description:`Failed to ${a} team request`,error:b9e})}}(o,s,e);if(!i.success)return;n(a.filter((e=>e.request.requestKey!==o)));(async(e,t)=>{const{interval:a,status:n}=await X3(),s=rg();if(!s)return;const o=mg(s),i=t.fromVideoId?"Edit Request":"Suggested Workspaces";ov("Accepted"===e?"Join Request Accepted":"Join Request Declined",{"Team ID":s._id,"Current Plan":o.type,"Monthly/Annual":a,"Subscription Status":n,"Quantity Legacy Members":0,"Number of Workspace Members":"Accepted"===e?s.users.length+1:s.users.length,"Request Scenario":i})})(e===tP.ACCEPT?"Accepted":"Declined",t),Eb()},V=i.useCallback((()=>{y(!1)}),[]),H=i.useCallback((()=>{_(!1)}),[]),z=i.useCallback((e=>{c.isPaid&&(I(e),_(!0)),y(!1)}),[c.isPaid]),G=i.useCallback((()=>{d(!1)}),[]),Y=i.useMemo((()=>f.jsx("div",{"data-cy":"team-pending-invites",children:m.map((t=>f.jsxs("div",{className:zmt,children:[f.jsx(xve,{user:{pending:!0,name:t.email},suggestedWidth:300,suggestedHeight:300,className:Gmt}),f.jsxs("div",{children:[f.jsx("div",{className:Ymt,children:t.email}),f.jsx("div",{className:Kmt,children:f.jsx("i",{children:"Pending Invitation"})})]}),f.jsx("div",{className:qmt,children:f.jsx("span",{children:e.planTier===Id.Free?kd[Ad.Admin]:kd[Ad.Editor]})}),f.jsx(R,{className:agt,onClick:()=>j(t)})]},t._id)))})),[e.planTier,j,m]);return h?f.jsx(iye,{}):f.jsxs("div",{"data-testid":"team-member-controls-container",children:[T>0&&f.jsxs("div",{className:Wmt,"data-testid":"open-seats-banner",children:["You have ",p_(T,"open seat")," in your workspace. This means you have ",p_(T,"paid seat")," in your subscription not currently in use. You can add up to"," ",p_(T,"more member")," to this workspace at no additional charge. To see plan details, visit the Billing tab."]}),u_(jc.Update)&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:Umt,children:"Visibility of your Workspace"}),f.jsx("div",{className:dgt,children:"Who can find your workspace when they log in?"}),f.jsx(Myt,{}),f.jsx(R_t,{})]}),(!!a.length||!!m.length)&&u_(Lc.Create)&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:Umt,"data-testid":"pending-members-section",children:["Pending"," ",vyt(e,c)&&f.jsx("span",{children:"Paid"})," ","Members"]}),!c.isFree&&f.jsx("div",{className:Hmt,children:f.jsxs("div",{className:Vmt,children:["When these members join,"," ",0===T?f.jsx("span",{children:"you will be charged for additional seat(s) and your invoice will be updated."}):f.jsx("span",{children:"they will each occupy an open seat on your plan."})]})})]}),!!(null==a?void 0:a.length)&&f.jsx("div",{children:null==a?void 0:a.map((({request:e,user:t})=>t?f.jsxs("div",{className:zmt,children:[f.jsx(xve,{user:t,suggestedWidth:300,suggestedHeight:300,className:Gmt}),f.jsxs("div",{children:[f.jsx("div",{className:Ymt,children:t.email}),f.jsx("div",{className:Kmt,children:f.jsx("i",{className:egt,children:"Pending Request"})})]}),f.jsx("div",{className:$mt,children:u_(Lc.Create)&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:`${tgt} ${Qmt}`,onClick:()=>(async e=>{await W(tP.ACCEPT,e),Eb()})(e),children:T?"Accept":"Accept and Add Seat"}),f.jsx("div",{className:`${egt} ${Qmt}`,onClick:()=>W(tP.REJECT,e),children:"Decline"})]})})]},t._id):null))}),m&&Y,(()=>{const a=e.users.length>=20&&!c.isEdu;return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:Umt,children:["All ",vyt(e,c)&&f.jsx("span",{children:"Paid"})," ","Members"]}),a&&k&&f.jsxs("div",{className:ogt,onClick:()=>{d(!0)},children:[f.jsx(GIe,{icon:N_t,className:igt,testId:"team-member-controls-invite-button"}),"Invite Members"]}),f.jsxs("div",{"data-cy":"team-users-list","data-testid":"team-users-list",children:[e.users.map((e=>{return f.jsxs("div",{className:zmt,"data-cy":"team-member-row","data-testid":"team-user-row",children:[f.jsx(Vwt,{member:e}),u_(Lc.Update)&&(null==t?void 0:t.userId)!==(null==e?void 0:e.userId)?f.jsx("div",{className:sgt,children:f.jsx(jyt,{actionButton:u_(Lc.Delete)&&D(e),clickFn:B[e._id],defaultOption:(a=e.role??0,M.find((e=>e.name===a.toString()))||M[1]),options:M,renderSelectedOption:U,wideTheme:!0})}):O(e)]},e._id);var a})),!c.isEdu&&k&&f.jsxs("div",{className:ogt,onClick:()=>{d(!0)},children:[f.jsx(GIe,{icon:N_t,className:igt,testId:"team-member-controls-invite-button"}),"Invite Members"]})]})]})})(),b&&C&&f.jsx(o_t,{closeFn:V,nextFn:z,userToRemove:C}),w&&f.jsx(f_t,{closeFn:H,cancelledOpenSeat:x}),l&&f.jsx(Fwt,{onClose:G,entryPoint:hyt.WORKSPACE_HEADER,setPendingInvites:g})]})})),P_t=b.memo((()=>{const{currentUser:e,selectedTeamId:t}=Du((e=>({currentUser:e.currentUser,selectedTeamId:e.teams.selectedTeamId})),Ou),a=s_(e.user._id),n=Um(t),s=dyt(n);return i.useEffect((()=>{Eb()}),[]),s&&a?f.jsx(M_t,{currentTeam:s,userInTeam:a}):null})),F_t="DefaultPrivacy-module_sectionHeader_2saFm",D_t="DefaultPrivacy-module_sectionContainer_MsS2J",O_t="DefaultPrivacy-module_subItem_SXL-Y",U_t="DefaultPrivacy-module_subInfo_mjSnX",B_t="DefaultPrivacy-module_privacyContainer_Vwkrh",W_t="DefaultPrivacy-module_accountSettingsToggleButtonsOnly_LHl-d",V_t="DefaultPrivacy-module_toggleOff_voeHh",H_t="DefaultPrivacy-module_toggleOn_CVLsA",z_t=b.memo((()=>{var e,t;const a=lg(),n=(null==(e=null==a?void 0:a.settings)?void 0:e.defaultPrivacy)??ad.unlisted,[s,o]=i.useState(n),r=rse();i.useEffect((()=>{o(s)}),[n,s]);const l=e=>{const t=e.target,{value:n}=t,s=parseInt(n,10);r((()=>{o(s),async function(e,t){const{state:a}=Mu(),{currentUser:n}=a,{token:s,user:o}=n||{},i={privacy:t,token:s,userId:o&&o._id};await Zf(`/api/v2/teams/${e}/privacy`,{body:i}),Eb()}(a._id,s)}),{action:Dd.DEFAULT_PRIVACY,if:!!s})()};return i.useEffect((()=>{var e;o((null==(e=a.settings)?void 0:e.defaultPrivacy)??ad.unlisted)}),[null==(t=a.settings)?void 0:t.defaultPrivacy]),f.jsxs(f.Fragment,{children:[f.jsx("div",{className:F_t,children:"Default Content Privacy"}),f.jsxs("div",{className:D_t,children:[f.jsxs("div",{className:O_t,children:[f.jsx("span",{"data-testid":"current-privacy-setting",children:s?"All projects in this workspace default to private on export.":"All projects in this workspace default to unlisted on export."}),f.jsx("span",{className:U_t,children:"Note: You can change individual video privacy settings at any time through the project menu or from the final video page."})]}),f.jsx("div",{className:B_t,children:f.jsxs("div",{className:W_t,children:[f.jsx("button",{className:s===ad.unlisted?H_t:V_t,value:ad.unlisted,onClick:l,type:"button","data-cy":"privacy-off-button","data-testid":"privacy-off-button",children:"OFF"}),f.jsx("button",{className:s===ad.private?H_t:V_t,value:ad.private,onClick:l,type:"button","data-cy":"privacy-on-button","data-testid":"privacy-on-button",children:"ON"})]})})]})]})})),G_t={display:"none"},Y_t={margin:0};var K_t=(e=>(e.DELETE="delete",e.LEAVE="leave",e))(K_t||{});const X_t=e=>{const{action:t,confirmFn:a,teamUsers:n,userInTeam:s,closeFn:o}=e,[r,l]=i.useState(!1),[d,c]=i.useState(!0),u=lg(),p=P(),m=i.useCallback((()=>{o?o():p(-1)}),[o,p]),g=async()=>{l(!0),a()},h=()=>f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:Cbe,children:[f.jsx("input",{type:"checkbox",className:Sbe,"data-cy":"delete-team-checkbox",onClick:()=>c(!d)}),f.jsx("div",{className:xbe,children:"I acknowledge that I will no longer receive support regarding this workspace, projects in this workspace, or any subscription associated with this workspace from Kapwings customer support team. After deleting, I will not be eligible for any refund for past purchases or remaining subscription time"})]}),f.jsxs("div",{className:Qwt,children:[f.jsx("div",{className:`${t_t} ${d?Hwt:""}`,onClick:()=>g(),"data-cy":"team-confirm-action-button",children:r?f.jsx(Ile,{textStyles:G_t,wrapperStyles:Y_t}):b}),f.jsx("div",{onClick:m,className:a_t,children:"Never mind"})]})]});let v="",b="";switch(t){case"leave":v=`Leave ${u.name||"Workspace"}?`,b="Leave Team Workspace";break;case"delete":v=`Delete ${u.name||"Workspace"}?`,b="Delete Team Workspace";break;default:b="Confirm"}return f.jsx(rC,{unsetCancelModal:m,overlayContainerSmall:!0,children:f.jsxs("div",{className:Kwt,children:[f.jsx("div",{className:Xwt,children:v}),f.jsx("div",{className:Zwt,children:(()=>{if("leave"===t&&n&&n.length>1){const e=i_(null==s?void 0:s.role)&&!n.some((e=>i_(e.role)&&e._id!==(null==s?void 0:s._id)));return f.jsxs("div",{"data-cy":"leave-team-confirmation-text",children:[f.jsxs("span",{children:["Are you sure you want to leave"," ",f.jsx("span",{children:u.name||"this workspace"}),"? After leaving, you will lose access to"," ",f.jsx("span",{children:u.name||"this workspace"})," and all its contents."]}),!!e&&f.jsxs("span",{className:n_t,children:[f.jsx("strong",{children:"You are the last admin in this workspace."})," For best practices, consider making another workspace member an admin before you leave. If no additional admin is selected before you leave, Kapwing will automatically assign a new one."]}),f.jsxs("div",{className:Qwt,children:[f.jsx("div",{className:t_t,onClick:()=>g(),"data-cy":"team-confirm-action-button",children:r?f.jsx(Ile,{textStyles:G_t,wrapperStyles:Y_t}):b}),f.jsx("div",{onClick:m,className:a_t,children:"Never mind"})]})]})}return"leave"===t&&n&&1===(null==n?void 0:n.length)?f.jsxs("span",{children:["Are you sure you want to leave"," ",f.jsx("span",{children:u.name||"this workspace"}),"? You are the last member of this workspace. Leaving will delete this workspace and cancel any active plan immediately.",f.jsx("span",{className:qwt,children:"This action cannot be undone."}),h()]}):"delete"===t?f.jsxs("span",{children:["Deleting ",f.jsx("span",{children:u.name||"this workspace"})," will delete content contained in this workspace  all links and embeds to existing content in this workspace will no longer work. All members of this workspace will lose access. Any active subscription associated with this workspace"," ",f.jsx("span",{className:qwt,children:"will be cancelled, effective immediately."}),f.jsx("br",{}),f.jsx("br",{}),"To get help with your subscription or account, contact us at",f.jsx("a",{href:"mailto:help@kapwing.com",children:" help@kapwing.com"})," before deleting your data.",f.jsx("br",{}),f.jsx("span",{className:qwt,children:"This action cannot be undone."}),h()]}):""})()})]})})},Z_t=({confirmRename:e,placeholderName:t,closeFn:a})=>{const[n,s]=i.useState(t||""),o=P(),r=i.useCallback((()=>{a?a():o(-1)}),[a,o]),l=()=>{e(n),r()};return f.jsx(rC,{unsetCancelModal:r,overlayContainerSmall:!0,children:f.jsxs("div",{className:Kwt,children:[f.jsx("div",{className:Xwt,children:"Rename Team"}),f.jsx("div",{className:Jwt,children:f.jsx("input",{type:"text",id:"teamNameInput",className:$wt,value:n,onChange:e=>s(e.target.value),autoFocus:!0,"data-cy":"team-rename-input",onKeyDown:e=>{(void 0!==e.key&&"Enter"===e.key||void 0!==e.keyCode&&13===e.keyCode)&&l()},onFocus:e=>e.target.select()})}),f.jsx("div",{className:e_t,children:f.jsx("div",{className:zwt,onClick:()=>{e(n),r()},"data-cy":"team-confirm-rename-button",children:"Confirm"})})]})})},q_t=()=>{},J_t=b.memo((({onSubmit:e,onClose:t=q_t})=>{const{refetchExplorer:a}=xA(),[n,s]=i.useState(""),o=i.useRef(""),r=Aft(),[l,d]=i.useState(!1),c=lg(),{currentUser:u,isQualifiedDomain:p}=Du((e=>{var t;return{currentUser:e.currentUser,isQualifiedDomain:null==(t=e.workspaces.suggestedWorkspaces)?void 0:t.isQualifiedDomain}}),Ou),m=e=>{s(e.target.value)},g=async()=>{d(!0),o.current=await async function(e){const{state:t,dispatch:a}=Mu(),{currentUser:n,teams:s,workspaces:o}=t,{token:i,user:r}=n||{},{_id:l}=r||{},{allTeams:d}=s,c=e||o_(r.name);try{const{team:e,folder:t}=await Xf("/api/v1/teams/create",{body:{token:i,userId:l,name:c}});a(_b([e,...d])),a(fb(e._id)),a(lf([t,...o.allWorkspaces])),a(df(t._id));const{brandkit:s}=await Lb(e._id,n);return s&&a(Ib(s)),ov("Create Team",{"Team ID":e._id,Email:n.user.email,"Name of Team":e.name}),e._id}catch(u){cb({description:"There was a problem creating your team. Please try again.",error:u})}return""}(n),a(),d(!1)},h=()=>{r.exists?r.onClose():t()},v=async a=>{null==a||a.preventDefault(),await g(),null==e||e(),o.current&&(r.exists?r.goToNextModal():t())},b=()=>f.jsxs("div",{className:W$e,children:[f.jsx("div",{className:I$e,children:"Create New Team"}),f.jsx("form",{className:B$e,onSubmit:v,children:f.jsxs(f.Fragment,{children:[f.jsxs("p",{children:["Name your new workspace before selecting your workspace subscription.",f.jsx("br",{}),"We recommend using your team or organization name."]}),f.jsx("input",{id:"new-team-name",type:"text",className:U$e,value:n||"",onChange:m,placeholder:o_(u.user.firstName,p,c.emailDomain),autoFocus:!0,"data-testid":"new-team-name-input","data-cy":"new-team-name-input"})]})}),f.jsx(U_,{confirmFn:v,confirmText:"Next",loadingMsg:l?"Creating...":void 0}),f.jsx("div",{className:G$e,onClick:h,children:f.jsx(R,{})})]});return r.exists?b():f.jsx(rC,{noCloseButton:!0,usePortal:!0,noScrollBar:!0,noPadding:!0,unsetCancelModal:t,children:b()})})),$_t=[f.jsx(J_t,{},"createNewWorkspace"),f.jsx(mwt,{entryPoint:hyt.TEAM_CREATION},"customizeWorkspace"),f.jsx(Pwt,{entryPoint:hyt.TEAM_CREATION},"inviteMembers")],Q_t=b.memo((({onClose:e})=>f.jsx(rC,{noCloseButton:!0,usePortal:!0,noScrollBar:!0,noPadding:!0,unsetCancelModal:e,children:f.jsx(kft,{modalSteps:$_t,onClose:e})}))),eCt=b.memo((()=>{const e=Bu(),{allTeams:t,currentFolderId:a,currentUser:n,selectedTeamId:s}=Du((e=>({allTeams:e.teams.allTeams,currentUser:e.currentUser,selectedTeamId:e.teams.selectedTeamId,currentFolderId:e.workspaces.selectedWorkspace})),Ou),o=P(),r=s_(n.user._id),l=Um(s),d=dyt(l),c=Y1(s),u=i.useCallback((async()=>{const t=await Lb(s,n);t&&(e(fb(t._id)),Eb())}),[n,e,s]),p=i.useCallback((t=>{if(t)try{e(xb(s,t)),jb(s,{name:t}),X5(hyt.TEAM_SETTINGS)}catch(b9e){cb({description:"Couldn't update team name.",error:b9e})}}),[e,s]),m=i.useCallback((async()=>{try{await async function(){const{interval:e,numPaidSeats:t}=await X3(),a=rg();ov("Left Team",{numMembers:((null==a?void 0:a.users.length)||2)-1,"Monthly/Annual":e,"New Paid Seats":t})}()}catch(b9e){console.error(`Error logging leave team: ${b9e}`)}try{await async function(e){await Xf(`/api/v2/teams/${e}/leave`),Qf()}(s),e(db({description:"Successfully left workspace",type:"success"})),Tb(),await DSe()}catch(b9e){cb({description:"There was a problem leaving this workspace. Please try again.",error:b9e})}}),[e,s]),g=i.useCallback((async()=>{try{await async function(e){var t;const{dispatch:a,state:n}=Mu(),{token:s,user:o}=n.currentUser||{},{allTeams:i,activeBrandkit:r}=n.teams,{_id:l}=o||{};(null==r?void 0:r.clonedVoices)&&(null==r||r.clonedVoices.forEach((async e=>{await vb(e.voiceId)}))),await Yf("/api/v1/teams/delete",{body:{token:s,userId:l,teamId:e},parseJSON:!1}),a(_b([...i.filter((t=>t._id!==e))])),a(fb((null==(t=i[0])?void 0:t._id)||""))}(s),Tb(),DSe(),e(db({description:"Deletion complete!",type:"success"})),d&&(async e=>{const{status:t,interval:a}=await X3();ov("Delete Workspace",{"Current Plan":e.planTier,"Subscription Status":t,"Monthly/Annual":a,"Team ID":e._id,"Number of Workspace Members":e.users.length})})(d),Qf()}catch(b9e){cb({description:"There was a problem deleting your team.",error:b9e})}}),[d,e,s]);i.useEffect((()=>{c!==s&&u()}),[u,c,s]);const h=i.useCallback((()=>o(`/team/${s}/settings`)),[o,s]),v=i.useCallback((()=>i_(null==r?void 0:r.role)?f.jsx(Z_t,{placeholderName:d.name,confirmRename:p,closeFn:h}):f.jsx(Rt,{to:`/team/${s}/settings/invalid-permissions`,replace:!0})),[h,d.name,p,s,null==r?void 0:r.role]),b=i.useCallback((()=>o(`/folder/${a}`)),[a,o]),y=i.useCallback((()=>f.jsx(Q_t,{onClose:b})),[b]),w=i.useCallback((()=>u_(jc.Delete)?f.jsx(X_t,{confirmFn:g,action:K_t.DELETE,closeFn:h}):f.jsx(Rt,{to:`/team/${s}/settings/invalid-permissions`,replace:!0})),[g,h,s]),_=i.useCallback((()=>f.jsx(X_t,{confirmFn:m,action:K_t.LEAVE,teamUsers:d.users,userInTeam:r,closeFn:h})),[m,d.users,h,r]),C=i.useCallback((()=>f.jsx(cyt,{hide:h})),[h]);i.useEffect((()=>{(async()=>{const{state:e}=Mu(),t=await Lb(e.teams.selectedTeamId,e.currentUser),a=e.teams.allTeams.some((t=>t._id===e.teams.selectedTeamId));t&&a||DSe()})()}),[]);return d?f.jsxs(f.Fragment,{children:[(()=>{const e=u_(jc.Update);return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:`${b_t} ${E_t}`,children:"Name"}),f.jsx("div",{className:y_t,"data-cy":"team-name","data-testid":"team-name",translate:"no",children:e?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:__t,onClick:()=>{o(`/team/${s}/settings/rename`)},children:d.name}),f.jsx(mn,{to:`/team/${s}/settings/rename`,"data-cy":"team-rename-button","data-testid":"team-rename-button",children:f.jsx("div",{className:A_t,children:f.jsx(So,{})})})]}):f.jsx("div",{className:w_t,children:d.name})})]})})(),f.jsxs(f.Fragment,{children:[f.jsx("div",{className:b_t,children:"Icon"}),f.jsx("div",{className:C_t,children:f.jsx("div",{"data-cy":"team-settings-upload-photo",className:L_t,children:f.jsx(Hyt,{entryPoint:hyt.TEAM_SETTINGS,hasPermission:u_(jc.Update)})})})]}),u_(jc.Update)&&f.jsx(z_t,{}),f.jsxs(f.Fragment,{children:[f.jsx("div",{className:b_t,children:"Actions"}),f.jsxs("div",{className:S_t,children:[f.jsx(mn,{to:`/team/${s}/settings/leave`,"data-cy":"team-leave-button","data-testid":"team-leave-button",children:f.jsx(GIe,{buttonText:"Leave Team Workspace",className:x_t,testId:"leave-workspace-button"})}),!(t.length<2)&&(u_(jc.Delete)||1===d.users.length)&&f.jsx(mn,{to:`/team/${s}/settings/delete`,"data-cy":"team-delete-button","data-testid":"team-delete-button",children:f.jsx(GIe,{buttonText:"Delete Team Workspace",className:I_t,onClick:Z5})})]})]}),f.jsxs(to,{children:[f.jsx(ao,{path:"/",element:null}),f.jsx(ao,{path:"/rename",element:v()}),f.jsx(ao,{path:"/create-new-team",element:y()}),f.jsx(ao,{path:"/delete",element:w()}),f.jsx(ao,{path:"/leave",element:_()}),f.jsx(ao,{path:"/invalid-permissions",element:C()})]}),f.jsxs(f.Fragment,{children:[f.jsx("div",{className:b_t,children:"Team Workspaces"}),f.jsxs("div",{className:S_t,children:[u_(jc.Update)&&f.jsx(mn,{to:`/team/${s}/settings/rename`,"data-cy":"team-leave-button","data-testid":"team-leave-button",children:f.jsx(GIe,{buttonText:"Rename",className:x_t})}),f.jsx(mn,{to:`/team/${s}/settings/create-new-team`,children:f.jsx(GIe,{buttonText:"Create New Team Workspace",className:x_t,testId:"create-new-workspace-button"})})]})]}),f.jsxs(f.Fragment,{children:[f.jsx("div",{className:b_t,children:"Payment and Billing"}),f.jsxs("div",{className:T_t,children:["To manage a subscription, update payment information, or any other billing related settings, please visit"," ",f.jsx(mn,{to:`/team/${s}/billing`,className:k_t,children:"billing settings"}),"."]})]})]}):null})),tCt=b.memo((()=>{const e=Bu(),{currentUser:t,selectedTeamId:a}=Du((e=>({currentUser:e.currentUser,selectedTeamId:e.teams.selectedTeamId})),Ou),n=Um(a),s=dyt(n),o=Y1(a),r=i.useCallback((async()=>{const n=await Lb(a,t);n&&e(fb(n._id))}),[t,e,a]);return i.useEffect((()=>{o!==a&&r()}),[r,o,a]),i.useEffect((()=>{(async()=>{const{state:e}=Mu(),t=await Lb(e.teams.selectedTeamId,e.currentUser),a=e.teams.allTeams.some((t=>t._id===e.teams.selectedTeamId));t&&a||DSe()})()}),[]),s?f.jsxs("div",{className:Bmt,children:[f.jsx(Omt,{}),f.jsxs(to,{children:[f.jsx(ao,{path:"/",element:f.jsx(Rt,{to:"/settings",replace:!0})}),f.jsx(ao,{path:"/members/*",element:f.jsx(P_t,{})}),f.jsx(ao,{path:"/billing/*",element:f.jsx(myt,{})}),f.jsx(ao,{path:"/settings/*",element:f.jsx(eCt,{})})]})]}):null})),aCt="UpsellHeroBanner-module_upsellHeroBanner_f-pNE",nCt="UpsellHeroBanner-module_container_TzuuZ",sCt="UpsellHeroBanner-module_head_ltPCK",oCt="UpsellHeroBanner-module_body_tGNso",iCt="UpsellHeroBanner-module_button_OAxXs",rCt="UpsellHeroBanner-module_iconClose_wZkAB",lCt="UpsellHeroBanner-module_upsellBackground_ICEMy",dCt="UpsellHeroBanner-module_smallBody_OLtAD",cCt="UpsellHeroBanner-module_img_UaONv",uCt="UpsellHeroBanner-module_smallImg_PJSE2",pCt=()=>{},mCt=b.memo((({action:e,onPaywallSuccess:t=pCt,className:a="",body:n,onDismiss:s,testId:o,small:i,buttonText:r,onClick:l})=>{const{heroImg:d,upsellHeroHeading:c,upsellHeroBody:u,upgradePermission:p}=$d(e),m=gg(p),g=Du((e=>e.currentUser));return g.user.accountType===sd.student||g.user.accountType===sd.teacher?null:f.jsxs("div",{className:`${aCt} ${a} ${m?"":lCt}`,"data-testid":o,"data-cy":o,children:[d&&f.jsx("img",{src:d.imgSrc,alt:d.imgAlt,className:`${i?uCt:cCt}`}),f.jsxs("div",{className:nCt,children:[f.jsxs("div",{children:[f.jsx("div",{className:sCt,children:c}),f.jsx("div",{className:i?dCt:oCt,children:n||u})]}),!m&&f.jsx(qIe,{className:iCt,action:e,onPaywallSuccess:t,hasIcon:!0,testId:o}),r&&l&&f.jsx(Mve,{onClick:l,children:r})]}),s&&f.jsx("div",{className:rCt,onClick:s,children:f.jsx(R,{})})]})})),gCt="BrandkitInfoBanner-module_brandkitInfoBanner_ZowIW",hCt=b.memo((({onDismiss:e})=>f.jsx(mCt,{action:Dd.BRANDKIT,body:f.jsx(f.Fragment,{children:"Everything you need is in one place with your own Brand Kit. Store all your brand assets (logos, colors, fonts) and design templates to create videos and images consistent with your brand. Boost production, creativity, and collaboration with your team, now that all your assets are ready for everyone in this workspace to use."}),className:gCt,onDismiss:e}))),vCt=b.memo((({className:e,onClick:t,text:a})=>f.jsxs("div",{onClick:t,className:`${AUe.addButton} ${e}`,"data-testid":"add-button","data-cy":"brand-template-add-button",children:[f.jsx(Fa,{className:AUe.icon}),a&&f.jsx("div",{className:AUe.createText,children:a})]}))),fCt=b.memo((({deleteFunction:e})=>f.jsx("div",{className:AUe.deleteButton,onClick:e,"data-testid":"deleteButton",children:f.jsx(R,{className:AUe.icon})}))),bCt=b.memo((({deleteFunction:e,showDelete:t,children:a,className:n,style:s,deleteDialogDescription:o="Are you sure you want to delete this item?",deleteDialogTitle:r="Delete item",isDefault:l=!1,confirmButtonText:d="Delete"})=>{const c=gg(Fd.BRANDKIT),[u,p]=i.useState(!1),[m,g]=i.useState(!1),h=Ehe(),v=i.useCallback((()=>{g(!0),p(!1)}),[]),b=i.useCallback((()=>{g(!1)}),[]);return f.jsxs("div",{style:s,className:n,onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:[a,(u||t)&&c&&f.jsx(fCt,{deleteFunction:l?e:v}),m&&f.jsx(Dbe,{delete:e,hideDelete:b,description:o,headerTitle:r,theme:h?"dark":"light",confirmButtonText:d})]})})),yCt=b.memo((({showDelete:e,deleteFunction:t,previewCurrentlyPlaying:a,setPreviewCurrentlyPlaying:n,preview:s,darkMode:o})=>{const[r,l]=i.useState(!1),d=jse();d.current.onended=function(){l(!1)},i.useEffect((function(){r&&a!==s&&(l(!1),d.current.pause())}),[r,s,d,a]);return f.jsx(bCt,{className:o?AUe.darkModeVoiceBlock:AUe.voiceBlock,deleteFunction:t,showDelete:e,deleteDialogTitle:"Delete this voice?",deleteDialogDescription:"Deleting this voice will remove the voice from your Brand Kit and editor.",confirmButtonText:"Confirm and delete",children:s&&f.jsx("div",{className:o?AUe.darkModeVoiceIcon:AUe.voiceIcon,onClick:()=>{s&&(r?(l(!1),d.current.pause()):(d.current.src=s,l(!0),n(s),d.current.play()))},children:s&&r?f.jsx(xo,{}):f.jsx(Io,{})})})})),wCt=b.memo((()=>{const e=rse(),t=Du((e=>e.teams.activeBrandkit)),a=Du((e=>e.teams.selectedTeamId)),n=Bu(),[s,o]=i.useState(!1),[r,l]=i.useState(!1),[d,c]=i.useState(""),u=gg(Fd.BRANDKIT),p=gg(Fd.CLONED_VOICES),m=lg(),g=ZIe(),h=i.useMemo((()=>(null==t?void 0:t.clonedVoices)||[]),[null==t?void 0:t.clonedVoices]),v=Ehe(),b=i.useCallback((e=>{if(!t)return;const s={...t,clonedVoices:e};n(Ib(s)),jb(a,{brandkit:s})}),[t,n,a]),y=i.useCallback((async e=>{if(void 0===e||!h)return;const t=h[e];if(t){try{await vb(t.voiceId)}catch(a){return void cb({error:a,description:"Failed to delete voice"})}null==h||h.splice(e,1),b(h),c_({TTSVoiceClones:-1}),m2("remove","voices")}}),[b,h]),w=i.useCallback((e=>t=>{const a=h.map(((a,n)=>n===e?{...a,name:t}:a));b(a)}),[b,h]),_=i.useMemo((()=>h.map(((e,t)=>()=>y(t)))),[y,h]),C=i.useCallback((()=>{l(!0)}),[]),S=i.useCallback((()=>{l(!1)}),[]),x=g((()=>{C()}),{[Bd.CLONED_VOICES]:1}),I=i.useCallback((()=>{ov("Voice Cloning Clicked",{location:"Brandkit"}),p?x():e((()=>null),{action:Dd.CLONED_VOICES,overrideRecommendedUpgrade:Id.Business})()}),[p,e,x]);return f.jsxs(THe,{children:[r&&f.jsx(rze,{lightTheme:!v,onClose:S}),f.jsxs("div",{className:AUe.sectionHeader,children:[f.jsxs("div",{className:AUe.sectionTitle,children:["Brand Voices",(!u||m.planTier===Id.Pro)&&f.jsx(_se,{className:AUe.proSparkle})]}),f.jsx("div",{className:AUe.mobileOnlyEditButton,onClick:()=>p?o(!s):e((()=>null),{action:Dd.CLONED_VOICES,overrideRecommendedUpgrade:Id.Business})(),children:s?"Done":"Edit Voices"})]}),f.jsx("div",{className:AUe.sectionDescription,children:"Clone your voice to use it with Text to Speech voiceovers"}),f.jsxs("div",{className:AUe.blockContainer,children:[f.jsx(vCt,{onClick:I,className:AUe.midSizeBlock}),h.map(((e,t)=>f.jsxs("div",{className:AUe.midSizeBlockContainer,children:[f.jsx(yCt,{showDelete:s,deleteFunction:_[t],previewCurrentlyPlaying:d,setPreviewCurrentlyPlaying:c,darkMode:v,preview:e.previewUrl}),f.jsx(mse,{value:e.name,onChange:w(t),className:AUe.voiceNames})]},e.voiceId)))]})]})})),_Ct="ColorSelectorOverlay-module_section_8lA--",CCt="ColorSelectorOverlay-module_header_7Atok",SCt="ColorSelectorOverlay-module_colorContainer_LUV58",xCt="ColorSelectorOverlay-module_colorPickerContainer_rFIiV",ICt="ColorSelectorOverlay-module_colorLeft_xpXYK",ACt="ColorSelectorOverlay-module_colorRight_MHny3",kCt="ColorSelectorOverlay-module_bottom_QQSvh",TCt="ColorSelectorOverlay-module_selectButton_NM8J8",ECt="ColorSelectorOverlay-module_rightIcon_Rz7ia",LCt=b.memo((({defaultColor:e="#000000",exitAndSelect:t,exitAndCancel:a})=>{const[n,s]=i.useState(e),o=kG(n);let r=n.toUpperCase();r===KN&&(r="Transparent");const l=i.useCallback((e=>{e&&s(e)}),[]);return f.jsxs(rC,{usePortal:!0,unsetCancelModal:a,children:[f.jsx("div",{className:CCt,children:"Choose or type a color"}),f.jsxs("div",{className:SCt,"data-testid":"color-container",children:[f.jsxs("div",{className:ICt,children:[f.jsx(att,{showBorder:!0,color:n,setColor:l}),f.jsx("div",{className:`${xCt} colorPicker`,children:f.jsx(Qn,{color:n===KN?"#FFFFFF":n,onChange:s})})]}),f.jsxs("div",{className:ACt,children:[f.jsx(btt,{className:_Ct,selectColor:s,hideTransparent:!0,hideBrandkit:!0}),f.jsx("div",{className:kCt,children:f.jsxs("div",{"data-cy":"brandkit-color-selector-submit","data-testid":"brandkit-color-selector-submit",className:TCt,onClick:()=>t(n),style:{backgroundColor:n,color:o,border:`1px solid ${o}`},children:["Select ",r,f.jsx(Ea,{className:ECt})]})})]})]})]})})),jCt=[],RCt=b.memo((({color:e,showDelete:t,deleteFunction:a,isDefault:n=!1})=>{const s=ftt(e),o=Bg(),r=i.useMemo((()=>({backgroundColor:e})),[e]);return f.jsx(bCt,{style:r,className:s?AUe.smallBlockWithBorder:AUe.smallBlock,deleteFunction:a,showDelete:t,deleteDialogTitle:"Delete this color?",deleteDialogDescription:"Deleting this color will remove the color from your Brand Kit and editor.",isDefault:n,confirmButtonText:"Confirm and delete",children:!o&&f.jsx("span",{className:AUe.colorHexCodeText,style:{color:kG(e)},onClick:()=>{jSe(e.toUpperCase())},children:e})})})),NCt=b.memo((()=>{const e=rse(),t=Du((e=>e.teams.activeBrandkit)),a=Du((e=>e.teams.selectedTeamId)),n=Bu(),[s,o]=i.useState(!1),[r,l]=i.useState(!1),d=gg(Fd.BRANDKIT),c=(null==t?void 0:t.colors)||jCt,u=i.useCallback((e=>{if(!t)return;const s={...t,colors:e};n(Ib(s)),jb(a,{brandkit:s})}),[t,n,a]),p=i.useCallback((e=>{m2("add","color");const t=[...c,{value:e,default:!1}];u(t)}),[c,u]),m=i.useCallback((e=>{m2("remove","color");const t=[...c];t.splice(e,1),u(t)}),[c,u]),g=i.useCallback((e=>{p(e),l(!1)}),[p]),h=i.useCallback((()=>{l(!1)}),[]),v=i.useCallback((()=>d?l(!0):e((()=>null),{action:Dd.BRANDKIT})()),[d,e]),b=i.useMemo((()=>c.map(((e,t)=>()=>m(t)))),[c,m]);return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:AUe.sectionHeader,children:[f.jsxs("div",{className:AUe.sectionTitle,children:["Brand Colors",!d&&f.jsx(_se,{className:AUe.proSparkle})]}),f.jsx("div",{className:AUe.mobileOnlyEditButton,onClick:()=>d?o(!s):e((()=>null),{action:Dd.BRANDKIT})(),children:s?"Done":"Edit Colors"})]}),f.jsx("div",{className:AUe.sectionDescription,children:"Save your brand colors for easy access in the color picker"}),f.jsxs("div",{className:AUe.blockContainer,children:[r&&f.jsx(LCt,{exitAndSelect:g,exitAndCancel:h}),f.jsx(vCt,{onClick:v,className:AUe.smallBlock}),c.map(((e,t)=>f.jsx(RCt,{color:e.value,isDefault:e.default,deleteFunction:b[t],showDelete:s},`${t}`)))]})]})}));function MCt(e,t){const[a,n]=i.useState(e);return i.useEffect((()=>{const a=setTimeout((()=>{n(e)}),t);return()=>{clearTimeout(a)}}),[e,t]),a}const PCt={workspacePopoverZIndex:"18",popoverZIndex:"14",paywallZIndex:"1001",paywallBgZIndex:"1000",home:"FontOverlay-module_home_Kbth6",homeHowBackgroundWhite:"FontOverlay-module_homeHowBackgroundWhite_CzdS4",largeButton:"FontOverlay-module_largeButton_xaeUP",sectionContent:"FontOverlay-module_sectionContent_BSB7m",sectionHeader:"FontOverlay-module_sectionHeader_L46w9",spacer:"FontOverlay-module_spacer_bxkHV",chevron:"FontOverlay-module_chevron_-F0du",splashText:"FontOverlay-module_splashText_9Tsl2",splashSubtext:"FontOverlay-module_splashSubtext_Dtb4a",aboutSection:"FontOverlay-module_aboutSection_UnAkr",mobile:"FontOverlay-module_mobile_NG2r9",desktop:"FontOverlay-module_desktop_zsU2G",screenReaderOnlyLabel:"FontOverlay-module_screenReaderOnlyLabel_9UTO-",disabled:"FontOverlay-module_disabled_ZohFJ",disabledWithPointerEvents:"FontOverlay-module_disabledWithPointerEvents_fnA0x",noScrollBar:"FontOverlay-module_noScrollBar_6xliN",textOverflowEllipsis:"FontOverlay-module_textOverflowEllipsis_Zs6Zw",disableTextHighlight:"FontOverlay-module_disableTextHighlight_Xt8wy",genericButtonBlue:"FontOverlay-module_genericButtonBlue_X35IL",button:"FontOverlay-module_button_bk7sL",buttonDisabled:"FontOverlay-module_buttonDisabled_vXnbg",buttonSelected:"FontOverlay-module_buttonSelected_-hOMY",buttonOk:"FontOverlay-module_buttonOk_eRw4n",buttonStacked:"FontOverlay-module_buttonStacked_ypXub",doneButton:"FontOverlay-module_doneButton_LRTUa",fontDelete:"FontOverlay-module_fontDelete_lEPGJ",fontInput:"FontOverlay-module_fontInput_wW1eU",fontSelector:"FontOverlay-module_fontSelector_t-Wfm",fontButton:"FontOverlay-module_fontButton_NNzba",fontButtonSelected:"FontOverlay-module_fontButtonSelected_RM67B",fontList:"FontOverlay-module_fontList_YFKgT",lightMode:"FontOverlay-module_lightMode_S26MH",fontListSelector:"FontOverlay-module_fontListSelector_kkcao",topFontsButton:"FontOverlay-module_topFontsButton_O8-LH",fontListContainer:"FontOverlay-module_fontListContainer_2Rl7c",uploadFontListContainer:"FontOverlay-module_uploadFontListContainer_-lHL7",header:"FontOverlay-module_header_rcRh5",headerLeft:"FontOverlay-module_headerLeft_kwy4Y",searchContainer:"FontOverlay-module_searchContainer_guyuW",searchBarContainer:"FontOverlay-module_searchBarContainer_7R5v3",searchBarInput:"FontOverlay-module_searchBarInput_Pp3KF",searchIcon:"FontOverlay-module_searchIcon_WYVlu",topRow:"FontOverlay-module_topRow_Kuq08",topButton:"FontOverlay-module_topButton_Goojk",placeholderText:"FontOverlay-module_placeholderText_MUOgd",signInContainer:"FontOverlay-module_signInContainer_wfQKA",signInText:"FontOverlay-module_signInText_2Usbn",headerButton:"FontOverlay-module_headerButton_Cya4J",activeButton:"FontOverlay-module_activeButton_NanKg"},FCt={color:"white"},DCt={marginTop:"10px"};const OCt=b.memo((({font:e,setFontAndExit:t,style:a})=>(setTimeout((()=>x0({fontToLoad:e}))),f.jsx("div",{className:PCt.fontButton,"data-cy":e?`dropdown-${e.fontFamily.replace(/ /g,"-")}`:"font-selector",style:{fontFamily:`'${e.fontFamily}'`,...a},onClick:()=>t(e),children:e.fontFamily},O.v4())))),UCt=b.memo((function({toggleFontList:e,activeFontList:t,loading:a,handleSearch:n,setFontAndExit:s,fonts:o,lightMode:r=!1}){const[l,d]=i.useState(null),[c,u]=i.useState(0);i.useEffect((()=>{if(!l)return()=>{};const e=new Gs.ResizeSensor([l],(e=>{u(e.height)}));return()=>{e.detach()}}),[l]);const p=i.useCallback((e=>{d(e)}),[]);return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:L(PCt.topRow,r&&PCt.lightMode),children:[f.jsxs("div",{className:PCt.searchBarContainer,children:[f.jsx("span",{className:PCt.searchIcon,children:f.jsx(Va,{color:"#868A99"})}),f.jsx("input",{className:PCt.searchBarInput,onChange:e=>{n(e)},placeholder:"Search for a font...","data-cy":"font-selector-search"})]}),f.jsx("div",{className:L(PCt.fontListSelector,PCt.button,PCt.topButton,"all"===t&&PCt.buttonSelected),onClick:e,children:"Sort A-Z"}),f.jsx("div",{className:L(PCt.fontListSelector,PCt.button,PCt.topButton,"top"===t&&PCt.buttonSelected),onClick:e,children:"Top Fonts"})]}),a?f.jsx(Ile,{textStyles:FCt,wrapperStyles:DCt}):o.length>0?f.jsx("div",{className:L(PCt.fontList,r&&PCt.lightMode),ref:p,children:f.jsx(ia,{height:c,itemCount:o.length,itemSize:34,width:"100%",overscanCount:20,className:PCt.fontListContainer,children:e=>f.jsx(OCt,{...e,font:o[e.index],setFontAndExit:s})})}):f.jsx("div",{className:PCt.fontList,children:f.jsx("b",{children:"No fonts found."})})]})})),BCt=b.memo((({setFontAndExit:e})=>{const t=Bu(),[a,n]=i.useState(!1),s=i.useCallback((async a=>{const{state:n}=Mu(),s=HC(a,n);if(!a.name)throw Error("Font missing name");if(!s)throw Error("Font missing asset");if(!s.url)throw Error("Font missing url");if(!a.mime)throw Error("Font missing mime");if(!a.asset_id)throw Error("Font missing asset_id");if(!a.source)throw Error("Font missing source");const o=H0({nameType:"file",name:a.name},s.url,a.mime,a.asset_id),i={source:a.source,...o};if(!(await T0(i)))throw t(db({description:"Font is invalid",type:"error"})),Error("Font is invalid");x0({fontToLoad:{type:"custom",...i}}),ov("Font Upload",{Origin:"Font Overlay","Font Type":a.mime}),e({type:"custom",...i})}),[t,e]),o=i.useCallback((e=>{e&&(n(!0),C9(e,{uploadOptions:{fontUpload:!0,createTeamAsset:!0,analyticsUploadSource:"Team brand kit",uploadSourceComponent:"BrandkitFontUpload",addToStoreAfterUpload:!0},validationOptions:{fontUpload:!0},eventHandlers:{handleError:()=>n(!1),handleCancel:()=>n(!1),handleFinish:s}}))}),[s]);return a?f.jsx("div",{className:AUe.fontLoadingContainer,children:f.jsx(Ile,{})}):f.jsx("div",{className:AUe.uploadFontContainer,children:f.jsx(IUe,{acceptedFileTypes:LI({fontUpload:!0}),handleMultiFileUpload:o,multiple:!1,uploadText:"Click to upload a .ttf or .otf file"})})})),WCt=["All Fonts","Upload Font"],VCt=fB.map((e=>({type:"default",fontFamily:e}))),HCt=mB.map((e=>({type:"default",fontFamily:e}))),zCt=e=>{const{tabName:t,handleSwitchTabs:a,selectedTab:n}=e,s=`tab-button-${t.toLowerCase().replace(/ +/g,"-")}`;return n===t?f.jsx("div",{className:`${EUe} ${LUe}`,onClick:e=>{a(t),e.stopPropagation()},"data-cy":s,children:t}):f.jsx("div",{className:EUe,onClick:e=>{a(t),e.stopPropagation()},"data-cy":s,children:t})},GCt=b.memo((({setFont:e,exit:t})=>{const[a,n]=i.useState(!0),[s,o]=i.useState("All Fonts"),[r,l]=i.useState("all"),[d,c]=i.useState([...VCt]),[u,p]=i.useState(!1),[m,g]=i.useState(""),h=MCt(m,500);i.useEffect((function(){const e=((e,t)=>{const a=[],n=[],s=e.toLowerCase();for(const o of t){const e=o.fontFamily.toLowerCase();e.startsWith(s)?a.push(o):e.includes(s)&&n.push(o)}return[...a,...n]})(h,"all"===r?VCt:HCt);c(e),n(!1)}),[r,h]);const v=a=>{e(a),t()},b=e=>{g(e.target.value),n(!0)},y=()=>{l("all"===r?"top":"all"),c("all"===r?[...HCt]:[...VCt])},w=i.useCallback((()=>{p(!1)}),[]);return f.jsx(rC,{unsetCancelModal:t,children:f.jsxs("div",{className:jUe,children:[u&&f.jsx(ase,{action:Dd.UPLOAD_FONTS,onClose:w}),f.jsx("div",{className:kUe,children:f.jsx("div",{className:TUe,children:WCt.map((e=>f.jsx(zCt,{tabName:e,handleSwitchTabs:o,selectedTab:s},e)))})}),"Upload Font"===s?f.jsx(BCt,{setFontAndExit:v}):f.jsx(UCt,{setFontAndExit:v,activeFontList:r,toggleFontList:y,fonts:d,loading:a,handleSearch:b,lightMode:!0})]})})})),YCt=b.memo((({font:e,deleteFunction:t,showDelete:a,isDefault:n=!1})=>{const s=i.useMemo((()=>({fontFamily:`'${e.fontFamily}'`})),[e]);return x0({fontToLoad:e}),f.jsxs(bCt,{className:AUe.fontContainer,deleteFunction:t,showDelete:a,style:s,deleteDialogTitle:"Delete this font?",deleteDialogDescription:"Deleting this text font will remove the style from your Brand Kit and editor.",isDefault:n,confirmButtonText:"Confirm and delete",children:[f.jsx("div",{className:AUe.fontHeading,translate:"no",children:e.fontFamily}),f.jsx("div",{className:AUe.fontPlaceholder,translate:"no",children:"Kapwing means the sound of something ricocheting off something else."})]})})),KCt=b.memo((()=>{const e=rse(),t=Du((e=>e.teams.selectedTeamId)),a=Du((e=>e.teams.activeBrandkit)),[n,s]=i.useState(!1),o=Bu(),r=gg(Fd.BRANDKIT),[l,d]=i.useState(!1),{fonts:c}=a||{fonts:[]},u=i.useCallback((e=>{if(!a)return;m2("add","font");const n=[...c];n.push(e);const s={...a,fonts:n};jb(t,{brandkit:s}),o(Ib(s))}),[a,o,c,t]),p=i.useCallback((e=>{if(!a)return;m2("remove","font");const n=c[e],s=[...c];s.splice(e,1);const i={...a,fonts:s};if(jb(t,{brandkit:i}),o(Ib(i)),"custom"===(null==n?void 0:n.type)){const{asset_id:e}=n;Yf("/api/v1/teamAssets",{body:{asset_id:e,team_id:t}})}}),[a,o,c,t]),m=i.useMemo((()=>c.map(((e,t)=>()=>p(t)))),[c,p]),g=i.useCallback((()=>{s(!1)}),[]),h=i.useCallback((()=>r?s(!0):e((()=>null),{action:Dd.BRANDKIT})()),[r,e]);return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:AUe.sectionHeader,children:[f.jsxs("div",{className:AUe.sectionTitle,children:["Brand Fonts",!r&&f.jsx(_se,{className:AUe.proSparkle})]}),f.jsx("div",{className:AUe.mobileOnlyEditButton,onClick:()=>r?d(!l):e((()=>null),{action:Dd.BRANDKIT})(),children:l?"Done":"Edit Fonts"})]}),f.jsx("div",{className:AUe.sectionDescription,children:"Save custom fonts to match your branding across all content"}),f.jsxs("div",{className:AUe.blockContainer,children:[n&&f.jsx(GCt,{setFont:u,exit:g}),f.jsx(vCt,{onClick:h,className:AUe.largeBlock}),c.map(((e,t)=>f.jsx(YCt,{deleteFunction:m[t],showDelete:l,font:e,isDefault:"custom"===e.type&&"62962eab0af119277ab7c9c3"===e.asset_id},t)))]})]})}));function XCt(e,t){return e.reduce(((e,a)=>{const n=t(a);return e[n]||(e[n]=[]),e[n].push(a),e}),{})}const ZCt=e=>ML({languageCode:e.sourceLanguageCode,translateCode:e.targetLanguageCode});async function qCt(){const e=Mu().state.teams.selectedTeamId;try{const t=await async function(e){return await Kf(`/api/glossary/${e}`)}(e);Mu().dispatch(ate({glossaryItems:t}))}catch(b9e){console.error("Error getting glossary items",b9e)}}const JCt=()=>{const e=Bu(),t=Du((e=>e.teams.selectedTeamId)),a=Du((e=>e.glossary.glossaryItems)),n=Du((e=>e.glossary.selectedGlossaryItem)),s=i.useMemo((()=>XCt(a,ZCt)),[a]),o=i.useCallback((async a=>{try{const n={...a,teamId:t},s=await async function(e){return await Xf("/api/glossary",{body:e})}(n),o={...n,_id:s};e(nte(o))}catch(b9e){console.error("Error creating glossary item",b9e)}}),[t,e]),r=i.useCallback((async(t,a)=>{try{await async function(e,t){await qf(`/api/glossary/${e}`,{body:t})}(t,a),e(ste({id:t,updates:a}))}catch(b9e){console.error("Error updating glossary item",b9e)}}),[e]),l=i.useCallback((async t=>{try{await async function(e){await Yf(`/api/glossary/${e}`)}(t),e(ote(t))}catch(b9e){console.error("Error deleting glossary item",b9e)}}),[e]),d=i.useCallback((t=>{e(ite(t))}),[e]);return{glossaryItems:a,glossaryItemsByLangKey:s,selectedGlossaryItem:n,createGlossaryItem:o,updateGlossaryItem:r,deleteGlossaryItem:l,setSelectedGlossaryItem:d}},$Ct="BrandGlossary-module_container_E4Sd5",QCt="BrandGlossary-module_left_5nl7x",eSt="BrandGlossary-module_right_Wh7xX",tSt="BrandGlossary-module_header_i5cQu",aSt="BrandGlossary-module_content_0JaDD",nSt="BrandGlossary-module_tabsContainer_vqWvE",sSt="BrandGlossary-module_tabs_a6suM",oSt="BrandGlossary-module_tab_lDx4U",iSt="BrandGlossary-module_coolBar_ktiQA";function rSt(e){e.focus();const t=document.createRange();if(!e.childNodes[0])return;const a=e.childNodes[0];t.selectNodeContents(a),t.collapse(!1);const n=window.getSelection();n&&(n.removeAllRanges(),n.addRange(t))}function lSt(e){e.focus();const t=document.createRange();if(!e.childNodes[e.childNodes.length-1])return;const a=e.childNodes[e.childNodes.length-1];t.selectNodeContents(a),t.collapse(!1);const n=window.getSelection();n&&(n.removeAllRanges(),n.addRange(t))}const dSt="InputRow-module_inputRow_aPhyz",cSt="InputRow-module_inputRowError_dGBf-",uSt="InputRow-module_input_N2lJD",pSt=/\u200B/,mSt=b.forwardRef((function({placeholder:e,value:t,onChange:a,error:n,onEnter:s,rightContent:o,isLoading:r,dataTestId:l},d){const c=i.useRef(null);i.useEffect((()=>{if(c.current){const e=c.current.textContent||"";t!==e&&(c.current.innerText=t||"")}}),[t]);const u=i.useCallback((e=>{const t=e.target;let n=t.textContent||"";""===n?t.innerHTML="":n.match(pSt)&&(n=n.replace(pSt,""),t.innerText=n,rSt(t)),a(n)}),[a]);return f.jsx("div",{ref:d,className:n?cSt:dSt,children:r?f.jsx(Vle,{borderRadius:4,height:40}):f.jsxs(f.Fragment,{children:[f.jsx("div",{ref:c,"data-testid":l,contentEditable:!0,"data-placeholder":e,className:uSt,onInput:u,onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),null==s||s())},onFocus:e=>{e.target.textContent||(e.target.innerText="",rSt(e.target))},onBlur:e=>{e.target.innerText.trim()||(e.target.innerText="")}}),f.jsx("span",{children:o})]})})})),gSt="Label-module_label_PiJ8M";function hSt({children:e}){return f.jsx("span",{className:gSt,children:e})}const vSt="SubmitButton-module_proSparkle_xX4yF";function fSt({label:e,onClick:t,disabled:a,action:n,dataTestId:s}){const o=gg(Fd.BRANDKIT),i=rse()(t,{if:!o,action:n});return f.jsx(yje,{onClick:i,label:o?e:f.jsxs("span",{children:[" ",f.jsx("span",{children:e})," ",f.jsx(_se,{className:vSt})," "]}),disabled:a,color:o?"primary":"upgrade",dataTestId:s})}const bSt="CustomSpellingForm-module_container_eHccb",ySt="CustomSpellingForm-module_content_6SmxJ",wSt="CustomSpellingForm-module_header_0PaO9",_St="CustomSpellingForm-module_warning_c4Exq",CSt="CustomSpellingForm-module_confirm_jvvzM",SSt=[];function xSt({setCustomSpellingCallback:e,fromTranslateTab:t}){const a=Bu(),n=i.useRef(null),[s,o]=i.useState(null),[r,l]=i.useState(""),[d,u]=i.useState(""),p=lg()._id,m=Du((e=>e.teams.activeBrandkit)),g=(null==m?void 0:m.customSpelling)||SSt,[h,v]=i.useState(!1),[b,y]=i.useState(""),[w,_]=i.useState(!1),[C,S]=i.useState(""),x=i.useCallback((e=>{n.current&&(n.current.style.direction=HM(e)?"rtl":"ltr"),l(e)}),[]),I=i.useCallback((e=>{s&&s.style.setProperty("direction",HM(e)?"rtl":"ltr"),u(e)}),[s]),A=i.useCallback(((e,t="",n="")=>{if(!m)return;t?(_(!0),S(t)):(_(!1),S(""));let s=n;if(e.length>100&&(s="Custom Spelling only supports 100 custom terms. Delete existing terms to add new ones."),s)v(!0),y(s);else{v(!1),y("");const t={...m,customSpelling:e};a(Ib(t)),jb(p,{brandkit:t})}}),[m,a,p]),k=i.useCallback(((e,t)=>{c.remove(g,(a=>kL(a.from,e)&&kL(a.to,t))),A(g)}),[g,A]),T=i.useCallback(((e,t)=>{var a;if(!c.trim(e)||!c.trim(t))return void A(g,"","Both inputs are required.");if(c.trim(e).length>40||c.trim(t).length>40)return void A(g,"","Please enter a word or phrase with fewer than 40 characters.");const s=c.trim(e),o=c.trim(t);if(kL(e,t,!0,!0))return void A(g,"","Inputs must be different");if(g.some((a=>kL(a.to,e)||kL(a.from,t))))return void A(g,"",`"${s}" or "${o}" has already been specified as a misspelled word. Delete these custom spelling(s) before trying again.`);let i=null,r="",d=null;if(g.forEach((a=>{if(kL(a.from,e)&&kL(a.to,t))i=`Custom spelling "${s}"  "${o}" already exists`;else if(kL(a.from,e)||kL(a.to,e)){const e=`"${a.from}"  "${a.to}"`,t=`"${s}"  "${o}"`;r=[a.from,a.to,s,o].some((e=>HM(e)))?"Existing custom spelling updated.":`Existing custom spelling updated from ${e} to ${t}`,d=a}})),i)A(g,"",i);else{d&&k(d.from,d.to);const a=c.orderBy([...g,{from:c.trim(e),to:c.trim(t)}],[e=>e.from.toLowerCase(),e=>e.to.toLowerCase()]);m2("add","customSpelling"),A(a,r)}l(""),u(""),null==(a=n.current)||a.focus()}),[g,k,A]);return i.useEffect((()=>{e((function(){c.trim(r)&&c.trim(d)&&T(r,d)}))}),[T,r,d,e]),f.jsxs("div",{className:bSt,children:[f.jsx("div",{className:wSt,children:`Get more precise auto-generated ${t?"translations":"subtitles"} by saving the correct spelling\n        of words that are commonly misspelled in your transcript.`}),f.jsxs("div",{className:ySt,children:[f.jsx(hSt,{children:"Find in "+(t?"side by side view":"subtitles")}),f.jsx(mSt,{placeholder:"Type the misspelled word here",ref:n,value:r,onChange:x,onEnter:null==s?void 0:s.focus}),f.jsx(hSt,{children:"Replace with"}),f.jsx(mSt,{placeholder:"Type the correct spelling here",ref:o,value:d,onChange:I,onEnter:()=>{T(r,d)},"data-testid":"custom-spelling-input-replace"}),f.jsx(fSt,{onClick:()=>T(r,d),label:"Add spelling",action:Dd.CUSTOM_SPELLING})]}),h&&f.jsx("div",{className:_St,children:b}),w&&f.jsx("div",{className:CSt,children:C})]})}const ISt="GlossaryListItem-module_item_uAl6o",ASt="GlossaryListItem-module_disabledItem_N0GNi",kSt="GlossaryListItem-module_itemDelete_xJ5Rw",TSt="GlossaryListItem-module_itemText_-HQFp",ESt="GlossaryListItem-module_itemArrow_jeR9z";function LSt({leftText:e,rightText:t,onClickDelete:a,disabled:n}){return f.jsxs("div",{className:n?ASt:ISt,children:[f.jsx("span",{className:TSt,style:{direction:HM(e)?"rtl":"ltr"},children:e}),f.jsx(Ao,{className:ESt}),f.jsx("span",{className:TSt,style:{direction:HM(t)?"rtl":"ltr"},children:t}),a&&f.jsx(R,{className:kSt,onClick:a})]})}const jSt="CustomSpellingList-module_container_rJ6ph",RSt="CustomSpellingList-module_header_CdrJa",NSt="CustomSpellingList-module_description_aNpGA",MSt="CustomSpellingList-module_content_Ed-VA",PSt="CustomSpellingList-module_items_WMNNN",FSt="CustomSpellingList-module_footer_5Xzva",DSt="CustomSpellingList-module_button_hGZab",OSt=[],USt=[{from:"Kris",to:"Chris"},{from:"wall mart",to:"Walmart"},{from:"cap wing",to:"Kapwing"}];function BSt({applyCustomSpelling:e}){const t=Bu(),a=gg(Fd.BRANDKIT),n=rse(),s=lg()._id,o=Du((e=>e.teams.activeBrandkit)),r=(null==o?void 0:o.customSpelling)||OSt,l=i.useCallback((e=>{if(!a)return void n((()=>{}),{action:Dd.CUSTOM_SPELLING})();if(!o)return;const i={...o,customSpelling:e};t(Ib(i)),jb(s,{brandkit:i})}),[o,t,a,n,s]),d=i.useCallback(((e,t)=>{c.remove(r,(a=>kL(a.from,e)&&kL(a.to,t))),l(r)}),[r,l]),u=i.useCallback(((e,t)=>{m2("remove","customSpelling"),d(e,t)}),[d]);return 0===r.length?f.jsxs("div",{className:jSt,children:[f.jsx("div",{className:RSt,children:"Examples"}),f.jsxs("div",{className:NSt,children:[f.jsx("p",{children:"You don't have any custom spellings saved yet."}),f.jsx("p",{children:"Create a new custom spelling on the left to get started, or checkout these examples for inspiration:"})]}),f.jsx("div",{className:MSt,children:f.jsx("div",{className:PSt,children:USt.map(((e,t)=>f.jsx(LSt,{leftText:e.from,rightText:e.to,disabled:!0},t)))})})]}):f.jsxs("div",{className:jSt,children:[f.jsx("div",{className:RSt,children:"Saved words"}),f.jsx("div",{className:MSt,children:f.jsx("div",{className:PSt,children:r.map(((e,t)=>f.jsx(LSt,{leftText:e.from,rightText:e.to,onClickDelete:()=>u(e.from,e.to)},`${e.from} ${t}`)))})}),e&&f.jsx("div",{className:FSt,children:f.jsx("button",{className:DSt,onClick:e,children:"Correct in transcript"})})]})}var WSt=(e=>(e.IPA="ipa",e.FREE_FORM="free_form",e))(WSt||{});class VSt{constructor(e){this.sourceTerm=e.sourceTerm,this.pronunciation=e.pronunciation,this.format=e.format,this.languageCode=e.languageCode,this.teamId=e.teamId}}const HSt=ko("windowSelection",(()=>To(null).getState())),zSt="PronunciationForm-module_container_TmDbP",GSt="PronunciationForm-module_header_WFcyM",YSt="PronunciationForm-module_content_mLofa",KSt="PronunciationForm-module_buttonColumn_CG1G5",XSt="PronunciationForm-module_generateButton_zHmWG",ZSt="PronunciationForm-module_headerButtonIcon_X6XZd",qSt="PronunciationForm-module_row_6kl1x",JSt="PronunciationForm-module_pronunciationSuggestionRow_GXSP3",$St="PronunciationItemRow-module_row_Y2IBH",QSt="PronunciationItemRow-module_voiceOptionPlayPause_w5ilq",ext=({sourceTerm:e,pronunciation:t,format:a,deletePronunciation:n})=>{const[s,o]=i.useState(null),[r,l]=i.useState(null),[d,c]=i.useState(!1),u=lg();i.useEffect((()=>{const e=()=>{c(!1)};return r&&r.addEventListener("ended",e),()=>{r&&r.removeEventListener("ended",e)}}),[r]);return f.jsxs("div",{className:$St,children:[d?f.jsx(Aa,{className:QSt,onClick:()=>{r&&(r.pause(),l((e=>(e&&(e.currentTime=0),e)))),c(!1)}}):f.jsx(ka,{className:QSt,onClick:async()=>{const n=await(async()=>{let n;if(s)return s;try{const s=await Xf("/api/sample-speech",{body:{sourceTerm:e,pronunciation:t,voiceOption:Sg(!1),teamId:u._id,format:a},parseJSON:!1}),i=await s.blob();return n=URL.createObjectURL(i),o(n),n}catch(i){throw new Error("Failed to Generate Audio preview for pronunciation")}})();n&&(e=>{const t=new Audio(e);l(t),t.play()})(n),c(!0)}}),f.jsx(LSt,{leftText:e,rightText:t,onClickDelete:n})]})},txt=ko("pronunciations",(e=>{const t=To([]);Eo((async()=>{const a=await Kf(`/api/pronunciation/${e}`);t.setState(a)}),[]);const a=Lo((async e=>{try{const a=await Xf("/api/pronunciation",{body:e}),n={...e,id:a};t.setState((e=>[...e,n]))}catch(a){console.error("Error saving pronunciation")}})),n=Lo((async e=>{try{await Yf(`/api/pronunciation/${e}`),t.setState((t=>t.filter((t=>t.id!==e))))}catch(a){console.error("Error deleting pronunciation")}}),[]);return jo(t).setExports({savePronunciation:a,deletePronunciation:n})}));function axt({ttsVoiceOption:e}){const t=Bu(),a=Du((e=>e.teams.selectedTeamId)),n=Ro(txt,[a]),{savePronunciation:s}=No(txt,[a]).exports,o=Ro(HSt),[r,l]=i.useState(o||""),[d,c]=i.useState(""),[u,p]=i.useState(""),[m,g]=i.useState([]),[h,v]=i.useState(null),[b,y]=i.useState(!1);i.useEffect((()=>{let e=null;const t=r.trim();""!==t?(t.includes(" ")?e="Please enter only one term (no spaces allowed).":/^[a-zA-Z0-9]+$/.test(t)||(e="Only alphanumeric characters are allowed."),v(e)):v(null)}),[r]);const w=async o=>{try{if(n.some((e=>e.sourceTerm===r)))return void t(db({description:`${r} is already saved in the glossary`,type:"info"}));const i=new VSt({pronunciation:o,sourceTerm:r,format:WSt.FREE_FORM,languageCode:(null==e?void 0:e.languageCode)||"en-US",teamId:a});await s(i),t(db({description:"Your new pronunciation rule has been saved! They will automatically be applied to new layers.",type:"success"})),ov("Pronunciation Rule Added",{sourceTerm:i.sourceTerm,teamId:a}),l(""),p(""),g([])}catch(i){t(db({description:i instanceof Error?i.message:"Failed to save pronunciation",type:"error"}))}},_=e=>""===r||""===e||n.some((t=>t.sourceTerm===r&&t.pronunciation===e)),C=e=>{return f.jsx(yje,{onClick:()=>w(e),disabled:_(e),label:(t=e,n.find((e=>e.sourceTerm===r&&e.pronunciation===t))?"Saved to glossary":"Save to glossary"),color:"secondary",classNames:XSt});var t};return f.jsxs("div",{className:zSt,children:[f.jsx("div",{className:GSt,children:"Store your preferred pronunciations for AI Voice and Dubbing layers. Pronunciations are automatically corrected in new layers."}),f.jsxs("div",{className:YSt,children:[f.jsxs("div",{className:qSt,children:[f.jsx(hSt,{children:"Original term"}),f.jsx(mSt,{placeholder:"Type the original term here",dataTestId:"original-term-input",ref:null,value:r,onChange:e=>{l(e.trim()),""===e.trim()&&g([])},onEnter:()=>{},rightContent:null===h?null:f.jsx("span",{style:{color:"red",fontSize:12,padding:"12px"},children:h})})]}),f.jsxs("div",{className:qSt,children:[f.jsx(hSt,{children:"Free form pronunciation"}),f.jsx(mSt,{placeholder:"Enter your preferred pronunciation","data-testid":"free-form-pronunciation-input",ref:null,value:u,onChange:e=>{p(e)},onEnter:()=>{},rightContent:C(u)})]}),f.jsx("div",{})]}),f.jsx("div",{className:qSt,children:f.jsx(fSt,{onClick:async()=>{ov("Generated Pronunciation Suggestions",{sourceTerm:r,teamId:a}),y(!0);try{const{pronunciationSuggestions:e}=await Xf("/api/v1/ai/pronunciation-suggestions",{body:{sourceTerm:r,format:WSt.FREE_FORM}}),t=e.map((e=>e.replace(/^\d+\.\s*/,"").replace(/[^a-zA-Z0-9]/g,"")));if(!t[0])throw new Error("No pronunciation suggestions found");c(r),g(t)}catch(e){t(db({description:e instanceof Error?e.message:"Failed to generate suggestions",type:"error"}))}finally{y(!1)}},disabled:0===r.length||!!h,label:m.length>0&&r.length>0?f.jsxs("span",{children:["Regenerate suggestion ",f.jsx(Mo,{})]}):f.jsxs(f.Fragment,{children:[f.jsx(rn,{className:ZSt})," Generate suggestion"]}),action:Dd.PRONUNCIATION_GLOSSARY,dataTestId:"generate-button"})}),(S=d,b?f.jsx(f.Fragment,{children:[1,2,3].map((e=>f.jsx("div",{className:qSt,children:f.jsx(Vle,{borderRadius:3,height:40})},e)))}):0!==m.length?f.jsx(f.Fragment,{children:f.jsx("div",{className:qSt,children:m.map((e=>f.jsxs("div",{className:JSt,children:[f.jsx(ext,{pronunciation:e,sourceTerm:S,format:WSt.FREE_FORM}),f.jsx("div",{className:KSt,children:C(e)})]},e)))})}):void 0)]});var S}const nxt="PronunciationList-module_container_GFA2W",sxt="PronunciationList-module_description_hnEnH",oxt="PronunciationList-module_header_m92yu",ixt="PronunciationList-module_content_LCM7j",rxt="PronunciationList-module_row_gsQsa",lxt=[new VSt({teamId:"defaultTeamId",sourceTerm:"Kapwing",pronunciation:"kAH-pwing",format:WSt.FREE_FORM,languageCode:"en-US",audioUrl:""})],dxt=()=>{const e=Du((e=>e.teams.selectedTeamId)),t=Ro(txt,[e]),{deletePronunciation:a}=No(txt,[e]).exports;return 0===t.length?f.jsxs("div",{className:nxt,children:[f.jsx("div",{className:oxt,children:"Examples"}),f.jsxs("div",{className:sxt,children:[f.jsx("p",{children:"You don't have any pronunciations saved yet."}),f.jsx("p",{children:"Create a new rule to get started, or checkout these examples for inspiration:"})]}),f.jsx("div",{className:ixt,children:lxt.map((e=>f.jsx(ext,{sourceTerm:e.sourceTerm,pronunciation:e.pronunciation,format:WSt.FREE_FORM},e.sourceTerm)))})]}):f.jsxs("div",{className:nxt,children:[f.jsx("div",{className:oxt,children:"Saved pronunciations"}),f.jsx("div",{className:sxt,children:f.jsx("p",{children:'Your saved pronunciations will automatically be applied to new layers. For existing layers, click "Update layer" within the AI Voice tab to apply pronunciations.'})}),f.jsx("div",{className:ixt,children:t.map((e=>f.jsx("div",{className:rxt,children:f.jsx(ext,{sourceTerm:e.sourceTerm,pronunciation:e.pronunciation,format:e.format,deletePronunciation:()=>{a(e.id)}})},e.id)))})]})},cxt="LanguageKey-module_langKey_Ced7V",uxt="LanguageKey-module_itemText_oKwTn",pxt="LanguageKey-module_itemArrow_7TMGS";function mxt(e){let t=em(e);return t===Jp.value&&(t=Jp.label),t}function gxt({langKey:e}){const[t,a]=function(e){const{languageCode:t="",translateCode:a=""}=PL(e);return[mxt(t),mxt(a)]}(e);return f.jsxs("div",{className:cxt,children:[f.jsx("span",{className:uxt,children:t}),f.jsx(Ao,{className:pxt}),f.jsx("span",{className:uxt,children:a})]})}const hxt="InputWithLanguageSelect-module_row_DD7zi",vxt="InputWithLanguageSelect-module_languageSelect_sxLtv",fxt="InputWithLanguageSelect-module_errorMessage_MH2bc",bxt="InputWithLanguageSelect-module_removeLanguage_i3lCa";function yxt({placeholder:e,text:t,setText:a,languageCode:n,setLanguageCode:s,error:o,onEnter:i,filterLanguageCodes:r,onRemoveLanguage:l,includeAllOption:d=!1,includeLanguageVariants:c}){return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:hxt,children:[f.jsx(mSt,{placeholder:e,value:t,onChange:a,onEnter:i,error:!!o,rightContent:f.jsx(l0e,{languageCode:n,setLanguageCode:s,filterLanguageCodes:r,includeLanguageVariants:c,className:vxt,backgroundColor:"#303030",hoverBackgroundColor:"#404040",includeAllOption:d})}),l&&f.jsx("div",{className:bxt,onClick:l,children:f.jsx(R,{size:20})})]}),o&&f.jsx("span",{className:fxt,children:o})]})}const wxt="TranslationRulesForm-module_container_-IMIs",_xt="TranslationRulesForm-module_header_4wssC",Cxt="TranslationRulesForm-module_content_SvGfM",Sxt="TranslationRulesForm-module_row_5UN3x",xxt="TranslationRulesForm-module_importCsv_kJr6z",Ixt="TranslationRulesForm-module_sourceLanguage_aONz5",Axt="TranslationRulesForm-module_targetLanguages_wKLjk",kxt="TranslationRulesForm-module_addLanguage_R8Bf9";function Txt({onClickImportCsv:e,customLanguageCode:t,customTranslateCode:a}){const{glossaryItems:n,createGlossaryItem:s}=JCt(),o=b.useRef(null),r=Du((e=>e.currentUser.user.transcriptionPreferences)),[l,d]=i.useState({id:fe(),text:"",languageCode:t||(null==r?void 0:r.languageCode)||"en-US",error:null}),[c,u]=i.useState([{id:fe(),text:"",languageCode:a||(null==r?void 0:r.translateCode)||null,error:null}]),p=i.useMemo((()=>!l.text||!l.languageCode||c.some((e=>!e.text||!e.languageCode||e.languageCode===l.languageCode))||!!l.error||c.some((e=>!!e.error))),[l,c]),m=(e,t=c)=>{let a=null;e.text.length>100&&(a="Must be less than 100 characters");const s=n.find((a=>a.sourceText.toLowerCase()===e.text.toLowerCase()&&a.sourceLanguageCode===e.languageCode&&(a.targetLanguageCode===Jp.value||t.some((e=>e.languageCode===Jp.value||e.languageCode===a.targetLanguageCode)))));if(s){const{sourceLanguageCode:e,targetLanguageCode:t}=s;a=`This term already exists in the glossary for ${`${mxt(e)} -> ${mxt(t)}`}`}t.some((t=>t.languageCode===e.languageCode))&&(a="Source and target languages must be different"),d({...e,error:a})},g=rse(),h=gg(Fd.BRANDKIT),v=g(e,{action:Dd.TRANSLATION_GLOSSARY,if:!h}),y=async()=>{p||(d({...l,text:"",error:null}),u(c.map((e=>({...e,text:"",error:null})))),await Promise.all(c.map((async e=>s({sourceText:l.text,targetText:e.text,sourceLanguageCode:l.languageCode,targetLanguageCode:e.languageCode})))),ov("Glossary Items Added",{"Number of items added":c.length,"Number of translations added":c.length,"Source language":l.languageCode,"Source text":l.text,"Language keys":c.map((e=>ML({languageCode:l.languageCode,translateCode:e.languageCode})))}))};return f.jsxs("div",{className:wxt,children:[f.jsx("div",{className:_xt,children:"Store your preferred translation for terms in different languages to localize your content faster. Terms are automatically corrected in future projects."}),f.jsxs("div",{className:Cxt,children:[f.jsxs("div",{className:Sxt,children:[f.jsx(hSt,{children:"Original term"}),f.jsxs("div",{className:xxt,onClick:v,children:[f.jsx(Po,{size:14}),f.jsx("span",{children:"Import CSV"}),!h&&f.jsx(_se,{}),f.jsx(Hw,{style:{zIndex:16},side:"top",message:"Upload an existing list of terms and your preferred translations",children:f.jsx(Mt,{size:16})})]})]}),f.jsx("div",{className:Ixt,children:f.jsx(yxt,{placeholder:"Type a word or phrase",text:l.text,setText:e=>{m({...l,text:e})},languageCode:l.languageCode,setLanguageCode:e=>{m({...l,languageCode:e})},error:l.error,onEnter:y,includeLanguageVariants:o0e.TranscriptionOptions})}),f.jsx(hSt,{children:"Translation"}),f.jsxs("div",{className:Axt,ref:o,children:[c.map(((e,t)=>f.jsx(yxt,{placeholder:"Type the preferred translation",text:e.text,setText:e=>((e,t)=>{let a=null;t.length>100&&(a="Must be less than 100 characters"),u(c.map(((n,s)=>s===e?{...n,text:t,error:a}:n)))})(t,e),languageCode:e.languageCode,setLanguageCode:e=>((e,t)=>{const a=c.map(((a,n)=>n===e?{...a,languageCode:t}:a));u(a),m(l,a)})(t,e),error:e.error,onEnter:y,filterLanguageCodes:e=>e!==l.languageCode&&!c.some(((a,n)=>n!==t&&a.languageCode===e)),onRemoveLanguage:c.length>1?()=>(e=>{u(c.filter(((t,a)=>a!==e)))})(t):void 0,includeAllOption:1===c.length,includeLanguageVariants:o0e.TranslationTargets},e.id))),!c.some((e=>e.languageCode===Jp.value))&&f.jsxs("div",{className:kxt,onClick:()=>{u([...c,{id:fe(),text:"",languageCode:null,error:null}]),setTimeout((()=>{var e;null==(e=o.current)||e.scrollTo({top:o.current.scrollHeight,behavior:"smooth"})}),200)},children:[f.jsx(Fa,{size:20}),f.jsx("span",{children:"Add rule for another language"})]})]}),f.jsx(fSt,{onClick:y,disabled:p,label:"Save to glossary",action:Dd.TRANSLATION_GLOSSARY})]})]})}const Ext="CollapsibleControlSection-module_sticky_WSncU",Lxt="CollapsibleControlSection-module_highlightOnHover_yX6-7",jxt="CollapsibleControlSection-module_trigger_AYTWR",Rxt="CollapsibleControlSection-module_triggerIcon_NseQY",Nxt="CollapsibleControlSection-module_content_Gwlr1",Mxt="ControlSectionContent-module_content_OlSU1",Pxt=b.forwardRef(((e,t)=>{const{children:a,className:n,...s}=e;let o=`${Mxt}`;return o&&(o+=` ${n}`),f.jsx("div",{...s,className:o,ref:t,children:a})})),Fxt="ControlSectionDivider-module_divider_Ju7Aj",Dxt=b.memo((()=>f.jsx("div",{className:Fxt}))),Oxt="ControlSectionHeader-module_header_zJPs9",Uxt=b.memo((({className:e,title:t,showHelpOverlay:a})=>{let n=Oxt;return e&&(n+=` ${e}`),f.jsxs("span",{className:n,children:[f.jsx("span",{children:t}),a&&f.jsx(Ys,{onClick:e=>{e.stopPropagation(),a()}})]})})),Bxt=({id:e,title:t,children:a,stickyHeader:n=!1,defaultOpen:s=!1,hideDivider:o=!1,showHelpOverlay:r})=>{const l=Bu(),{register:d,unregister:c}=YZe(),u=i.useRef(null),[p,m]=i.useState(((e,t)=>{const{state:a}=Mu(),{collapsibleSectionOpenStates:n}=a.projectSessionSettings,s=null==n?void 0:n[e];return void 0===s?t:s})(e,s)),g=i.useCallback((t=>{var a;m(t),t&&(null==(a=u.current)||a.scrollIntoView({behavior:"smooth",block:"start"})),l(Wh({key:e,open:t}))}),[l,e]),h=()=>{g(!0)},v=()=>{let a="collapsible-section-";return a+="string"==typeof t?t.replaceAll(" ","-"):e,a},b=tY((e=>{e.target===e.currentTarget&&u.current&&p&&u.current.scrollIntoView({behavior:"smooth"})}));return f.jsx(fl,{open:p,onOpenChange:g,asChild:!0,children:f.jsxs("div",{id:e,"data-id":"layer-control-section","data-cy":v(),ref:t=>{u.current=t,t?d(e,{el:t,onOpen:h}):c(e)},children:[f.jsx(bl,{asChild:!0,children:f.jsxs("div",{className:L(n&&Ext),children:[!o&&f.jsx(Dxt,{}),f.jsxs("div",{className:jxt,children:[f.jsx(Uxt,{title:t,className:Lxt,showHelpOverlay:r}),p?f.jsx(Fo,{className:Rxt}):f.jsx(Pa,{className:Rxt})]})]})}),f.jsx(yl,{asChild:!0,children:f.jsx(Pxt,{className:Nxt,ref:e=>{e&&e.addEventListener("animationend",b)},"data-cy":`${v()}-content`,children:a})})]})})};Bxt.displayName="CollapsableControlSection";const Wxt=b.memo(Bxt),Vxt={width:17,height:17,cursor:"pointer",marginLeft:10,marginBottom:2},Hxt=b.forwardRef(((e,t)=>{const{children:a,controlButtonRowStyle:n,fullWidthButtons:s,iconAndControl:o,timelineButtons:i,title:r,twoButtonsPerRow:l,showHelpOverlay:d,description:c,hasSparkle:u,className:p,icon:m,id:g}=e,h=g||r;let v=Ase.controlSectionRows;s?v=Ase.controlSectionRowsFullWidth:l?v=Ase.controlSectionRowsTwoPerRow:i?v=Ase.controlSectionRowsTimeline:o&&(v=Ase.controlSectionRowsIconAndControl),p&&(v+=` ${p}`);const b=h?`${h.replace(/ /g,"-").replace(/:/g,"")}-control`:"control";return f.jsxs("div",{id:`${b}-section`,"data-cy":`${b}-section`,"data-testid":`${b}-section`,className:Ase.controlSectionContainer,ref:t,children:[r&&f.jsxs(Pse,{children:[f.jsxs("div",{children:[r," ",u&&f.jsx(_se,{}),f.jsx("span",{children:m})]}),d&&f.jsx(Ys,{style:Vxt,onClick:d})]}),c&&f.jsx("div",{className:Ase.controlSectionDescription,children:c}),f.jsx("div",{"data-cy":`${b}-buttons`,className:v,style:n,children:a})]})})),zxt="TranslationRulesList-module_container_k45Jw",Gxt="TranslationRulesList-module_header_UZODe",Yxt="TranslationRulesList-module_description_HLWc6",Kxt="TranslationRulesList-module_content_DNiOd",Xxt="TranslationRulesList-module_items_-B2EI",Zxt=(e,t)=>({_id:"1",teamId:"1",sourceText:e,targetText:t,sourceLanguageCode:"en",targetLanguageCode:"es"}),qxt=[Zxt("artificial intelligence","IA"),Zxt("what's up","qu onda"),Zxt("hey guys","Hola")];function Jxt(){const{glossaryItemsByLangKey:e,deleteGlossaryItem:t}=JCt(),a=i.useMemo((()=>Object.entries(e).sort(((e,t)=>e[0].localeCompare(t[0]))).map((([e,t])=>[e,t.sort(((e,t)=>e.sourceText.localeCompare(t.sourceText)))]))),[e]);return 0===a.length?f.jsxs("div",{className:zxt,children:[f.jsx("div",{className:Gxt,children:"Examples"}),f.jsxs("div",{className:Yxt,children:[f.jsx("p",{children:"You don't have any translation rules saved yet."}),f.jsx("p",{children:"Create a new rule on the left to get started, or checkout these example rules for inspiration:"})]}),f.jsx("div",{className:Kxt,children:f.jsx(Wxt,{title:f.jsx(gxt,{langKey:"en-US_es"}),defaultOpen:!0,id:"en_es",children:f.jsx(Hxt,{className:Xxt,children:qxt.map(((e,t)=>f.jsx(LSt,{leftText:e.sourceText,rightText:e.targetText,disabled:!0},t)))})})})]}):f.jsxs("div",{className:zxt,children:[f.jsx("div",{className:Gxt,children:"Saved translations"}),f.jsx("div",{className:Kxt,children:a.map((([e,a])=>f.jsx(Wxt,{title:f.jsx(gxt,{langKey:e}),defaultOpen:!0,id:e,children:f.jsx("div",{className:Xxt,children:a.map((e=>f.jsx(LSt,{leftText:e.sourceText,rightText:e.targetText,onClickDelete:()=>t(e._id)},e._id)))})},e)))})]})}const $xt="UploadCSV-module_container_4j7c5",Qxt="UploadCSV-module_header_r7Lwz",eIt="UploadCSV-module_row_xVhl4",tIt="UploadCSV-module_tableContainer_jgiv-",aIt="UploadCSV-module_table_-SmAf",nIt="UploadCSV-module_description_iwhaH",sIt="UploadCSV-module_backIcon_GZ-UD",oIt="UploadCSV-module_content_-lzAA",iIt="UploadCSV-module_uploadDropzone_jBZ8i",rIt="UploadCSV-module_dropActive_g7GjF",lIt="UploadCSV-module_downloadCsv_Ucrtk";const dIt=new Map,cIt=new Map;for(const FB of Zp){cIt.set(FB.translateCode.toLowerCase(),FB.translateCode),dIt.set(FB.en.toLowerCase(),FB.translateCode),dIt.set(FB.label.toLowerCase(),FB.translateCode);for(const e of FB.transcriptionVariants)cIt.set(e.code.toLowerCase(),e.code),dIt.set(e.en.toLowerCase(),e.code),dIt.set(e.label.toLowerCase(),e.code)}for(const[FB,Set]of Object.entries(hm))for(const e of Set)cIt.set(FB.toLowerCase(),e.languageCode),dIt.set(e.languageCode.toLowerCase(),e.languageCode);function uIt(e){const t=e.trim().toLowerCase();if(0===t.length)return null;if(cIt.has(t))return cIt.get(t);if(dIt.has(t))return dIt.get(t);const a=dIt.entries();for(const[n,s]of a)if(n.startsWith(t))return s;for(const[n,s]of a)if(t.startsWith(n))return s;return null}const pIt=new Set(th.map((e=>e.code))),mIt=new Set(nh.map((e=>e.code)));function gIt(e){const t=uIt(e);return t&&mIt.has(t)?t:null}function hIt(e){var t;const a=e.split("\n");if(a.length<2||!a[0])throw new Error("CSV must have at least 2 rows");const n=a[0].split(",");if(n.length<2||!n[0])throw new Error("CSV must have at least 2 columns");const s=function(e){const t=uIt(e);return t&&pIt.has(t)?t:null}(n[0]);if(!s)throw new Error(`Invalid source language "${n[0]}"`);const o=[];for(let i=1;i<a.length;i++){const e=(null==(t=a[i])?void 0:t.split(","))??[],r=e[0];if(r)for(let t=1;t<e.length;t++){const a=e[t],i=n[t];if(!a){console.warn("Missing target text");continue}if(!i){console.warn("Missing target language");continue}let l=gIt(i);if(l||i!==Jp.value||(l=Jp.value),!l)throw new Error(`Invalid target language "${i}"`);o.push({sourceText:r,sourceLanguageCode:s,targetText:a,targetLanguageCode:l})}else console.warn("Missing source text")}return o}function vIt({onClose:e}){const t=Bu(),{glossaryItemsByLangKey:a,createGlossaryItem:n,deleteGlossaryItem:s}=JCt(),[o,r]=i.useState(!1),l=async o=>{var i;const r=null==o?void 0:o[0];if(!r)return;if(o.length>1)return void pb({description:"Only one file can be uploaded at a time"});if("csv"!==(null==(i=r.name.split(".").pop())?void 0:i.toLowerCase()))return void pb({description:"Invalid file type. Please upload a .csv file"});const l=await function(e){return new Promise(((t,a)=>{const n=new FileReader;n.onload=e=>{var a;const n=null==(a=e.target)?void 0:a.result;t(n)},n.readAsText(e),n.onerror=a}))}(r);let d=[];try{d=hIt(l)}catch(b9e){return void pb({description:`${b9e}`,sentryMessage:`Error parsing glossary CSV file: ${b9e}`,extra:{contents:l}})}const c=[],u=new Set,p=new Set;if(d.forEach((e=>{u.has(e.sourceText)?p.add(e.sourceText):(c.push(e),u.add(e.sourceText))})),p.size&&pb({description:`Duplicate translations found for: ${Array.from(p).join(", ")}. ${ec("Translation","Translations",p.size)} will be ignored.`}),c.length)try{await(async o=>{if(0===o.length)throw new Error("No items to import");const i=XCt(o,ZCt),r=[];for(const[e,t]of Object.entries(i)){const n=XCt(a[e]||[],(e=>e.sourceText.toLowerCase()));for(const e of t)for(const t of n[e.sourceText.toLowerCase()]||[])r.push(t._id)}await Promise.all(o.map(n)),await Promise.all(r.map(s)),t(db({description:`${o.length} ${ec("term","terms",o.length)} imported successfully`,type:"success"})),ov("Glossary CSV Imported",{"Number of items added":o.length,"Number of items deleted":r.length,"Language keys":Object.keys(i)}),e()})(c)}catch(b9e){pb({description:"Failed to import glossary items from csv",sentryMessage:`Failed to import glossary items from csv: ${b9e}`,extra:{itemsToAdd:d}})}else pb({description:"No valid items to import"})};return f.jsxs("div",{className:$xt,children:[f.jsxs("div",{className:Qxt,children:[f.jsx(Do,{className:sIt,size:24,onClick:e}),"Import CSV file"]}),f.jsxs("div",{children:[f.jsx("div",{className:nIt,children:"Upload an existing glossary of words and their translations. Choose a .csv file from your device that lists the original terms and their translations for different languages."}),f.jsxs("div",{className:eIt,children:[f.jsxs("div",{className:nIt,children:["Formatting tips: Column headers should include a language in word or two-letter code form (",f.jsx("a",{href:"https://en.wikipedia.org/wiki/List_of_ISO_639_language_codes",target:"_blank",rel:"noreferrer",children:"see lists of language codes here"}),"). For example, EN and English are both acceptable. Language variants should include a two character language code, followed by a dash, followed by the two character variant code. For example, EN-US for United States English or ES-ES for Spain Spanish."]}),f.jsxs("div",{className:tIt,children:[f.jsxs("table",{className:aIt,children:[f.jsxs("tr",{children:[f.jsx("td",{children:"EN"}),f.jsx("td",{children:"ES"})]}),f.jsxs("tr",{children:[f.jsx("td",{children:"trim"}),f.jsx("td",{children:"recortar"})]}),f.jsxs("tr",{children:[f.jsx("td",{children:"AI"}),f.jsx("td",{children:"IA"})]}),f.jsxs("tr",{children:[f.jsx("td",{children:"Smart Cut"}),f.jsx("td",{children:"Smart Cut"})]})]}),f.jsx("div",{className:lIt,onClick:()=>{const e=["EN,ES","trim,recortar","AI,IA","Smart Cut,Smart Cut"].join("\n"),t=new Blob([e],{type:"text/csv"}),a=URL.createObjectURL(t),n=document.createElement("a");n.href=a,n.download="glossary_template.csv",n.click()},children:"Download Template"})]})]})]}),f.jsx("div",{className:oIt,children:f.jsx("div",{className:L(iIt,{[rIt]:o}),onDragEnter:e=>{e.preventDefault(),r(!0)},onDragLeave:e=>{e.preventDefault(),r(!1)},onDragOver:e=>e.preventDefault(),onDrop:e=>{e.preventDefault(),r(!1),l(e.dataTransfer.files)},children:f.jsx(LMe,{acceptedFileTypes:".csv",audioUpload:!1,fontUpload:!1,handleMultiFileUpload:l,isMediaLibraryUpload:void 0,multiple:void 0,uploadLocation:void 0,uploadOverlayTheme:!0})})})]})}var fIt=(e=>(e.customSpelling="customSpelling",e.translationRules="translationRules",e.pronunciation="pronunciation",e))(fIt||{});const bIt=b.memo((({defaultTab:e="customSpelling",applyCustomSpelling:t,customLanguageCode:a,customTranslateCode:n,sourceTab:s="subtitles"})=>{i.useEffect((function(){qCt()}),[]);const[o,r]=b.useState(e),l=i.useRef((()=>{})),[d,c]=b.useState(!1),u="translate"===s;return d?f.jsx(vIt,{onClose:()=>c(!1)}):(ov("Brand Glossary Opened",{defaultTab:o}),f.jsxs("div",{className:$Ct,children:[f.jsxs("div",{className:QCt,children:[f.jsx("div",{className:tSt,children:"Brand Glossary"}),f.jsxs(Wr,{onValueChange:e=>{r(e)},value:o,className:nSt,children:[f.jsxs(Vr,{className:sSt,children:[f.jsx(Hr,{value:"customSpelling",className:oSt,children:"Custom Spelling"}),f.jsx(Hr,{value:"translationRules",className:oSt,children:"Translation Rules"}),f.jsx(Hr,{value:"pronunciation",className:oSt,children:"Pronunciation"}),f.jsx("div",{className:iSt})]}),f.jsxs("div",{className:aSt,children:[f.jsx(zr,{value:"customSpelling",children:f.jsx(xSt,{setCustomSpellingCallback:e=>{l.current=e},fromTranslateTab:u})}),f.jsx(zr,{value:"translationRules",children:f.jsx(Txt,{onClickImportCsv:()=>c(!0),customLanguageCode:a,customTranslateCode:n})}),f.jsx(zr,{value:"pronunciation",children:f.jsx(axt,{})})]})]})]}),f.jsxs("div",{className:eSt,children:["customSpelling"===o&&f.jsx(BSt,{applyCustomSpelling:t?()=>{l.current(),null==t||t()}:void 0}),"translationRules"===o&&f.jsx(Jxt,{}),"pronunciation"===o&&f.jsx(dxt,{})]})]}))}));function yIt(){const[e,t]=i.useState(!1);return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:AUe.sectionHeader,children:f.jsx("div",{className:AUe.sectionTitle,children:"Brand Glossary"})}),f.jsx("div",{className:AUe.sectionDescription,children:"Save rules for frequently used words so theyre transcribed, translated and pronounced correctly in your projects."}),f.jsx("button",{className:AUe.glossaryButton,onClick:()=>t(!0),children:"View and edit glossary"}),e&&f.jsx(Wne,{maxWidth:"900px",backgroundColor:"#101010",onClose:()=>t(!1),children:f.jsx(bIt,{})})]})}const wIt=b.memo((({cmlFile:e,readonly:t})=>{const a=gg(Fd.BRANDKIT),n=rse(),s=Du((t=>t.assets.byId[e.asset_id])),o=e.fileName??(null==s?void 0:s.name),[r,l]=i.useState(null),d=i.useRef(null),[c,u]=i.useState(1),[p,m]=i.useState(o||"Untitled Asset"),[g,h]=i.useState(o||"Untitled Asset"),[v,b]=i.useState(!1);i.useEffect((function(){(null==d?void 0:d.current)&&(d.current.setSelectionRange(d.current.value.length,d.current.value.length),d.current.scrollTo({behavior:"auto",top:d.current.scrollHeight}))}),[v]),i.useEffect((function(){if(v&&d.current){const e=Number(window.getComputedStyle(d.current).getPropertyValue("max-width").replace("px",""))||250,t=((null==r?void 0:r.getBoundingClientRect().width)||e)/e,a=Math.ceil(t>1?t+.2:1);u(a<=4?a:4)}}),[p,v,r]);const y=async()=>{if(p!==g&&""!==p.trim())try{await JH(e._id,p),h(p)}catch(b9e){cb({description:"Couldn't update the asset name",error:b9e})}else m(g);b(!1)},w=e=>{r&&(r.innerText=e)};return f.jsxs("div",{children:[f.jsx("span",{className:AUe.invisibleSpan,ref:l,children:p}),v?f.jsx("textarea",{ref:d,className:AUe.assetNameInput,style:{width:`${(null==r?void 0:r.getBoundingClientRect().width)||10}px`},rows:c,value:p,onKeyPress:e=>{"Enter"===e.key&&y()},onChange:e=>{m(e.target.value),w(e.target.value)},onBlur:y,autoFocus:!0}):f.jsx("div",{className:AUe.displayAssetName,onClick:n((()=>{t||((async()=>{var t,a;try{const n=await XH(e._id),s=(null==(t=n.cml_file)?void 0:t.fileName)??(null==(a=n.asset)?void 0:a.name)??p;m(s),w(s)}catch{m(g),w(g)}})(),b(!0))}),{if:!a,action:Dd.BRANDKIT}),translate:"no",children:t?"Kapwing.png":g})]})})),_It=u(tUe,(e=>e.uploadStatuses),(e=>e.CMLFiles.byId),(e=>e.CMLFiles.toUploadId),(e=>e.teams.selectedTeamId),((e,t={},a,n,s)=>{const o=new Set,i=[],r=e.map((e=>{const s=a[e];if(!s)return null;const i=n[e];i&&o.add(i);const r=i&&t[i]||null;return{type:"CMLFile",addedTime:new Date(s.created).getTime(),cmlFile:s,uploadStatus:r}})).filter(vA);i.push(...r);const l=Object.values(t).map((e=>{if(!e.uploadManager)return null;if(e.fontUpload)return null;if(e.teamId!==s)return null;const{uploadId:t}=e.uploadManager.layer;if(!t)return null;if(o.has(t))return null;if(e.stage>=KS.assetCreated)return null;const a=B4(e),n=a&&a.split(" ... ")[0]||"";return{type:"UploadingLayer",addedTime:e.beganAtTimestamp,uploadStatus:e,uploadManager:e.uploadManager,remoteUpload:!1,uploadFileName:e.fileName,progressPrefix:n,uploadId:t,uploadProgress:e.progress||0}})).filter(vA);return i.push(...l),i.sort(((e,t)=>t.addedTime-e.addedTime))})),CIt={backgroundImage:`url(${A2e})`},SIt={margin:0},xIt=b.memo((({item:e,showDelete:t,isDefault:a=!1})=>{var n,s,o,r,l,d,c;const u=Du((e=>e.teams.selectedTeamId)),[p,m]=i.useState(.5),[g,h]=i.useState(0),[v,b]=i.useState(!1),y=i.useRef(null),w=Du((t=>t.assets.byId[e.cmlFile.asset_id])),_=kE(Du((t=>t.mediaCache.assetIdToMediaCacheId[e.cmlFile.asset_id]))),C=Bu(),S=i.useCallback((async()=>{m2("remove","media"),await Yf(`/api/v1/cloudMediaLibrary/teamLink/${e.cmlFile._id}/${u}`),C(Ib((t=>({...t,cmlIds:[...t.cmlIds].filter((t=>t!==e.cmlFile._id))}))))}),[C,e.cmlFile._id,u]),x=Du((e=>fS({asset:w,framePercentage:p,idbAsset:_,state:e})));let I=!1,A=null,k=null,T=100;(null==(n=e.uploadStatus)?void 0:n.stage)&&e.uploadStatus.stage!==KS.errored&&e.uploadStatus.stage!==KS.done&&(A="",k="",T=e.uploadStatus.progress||100,I=!0);const E="number"==typeof(null==(o=null==(s=e.uploadStatus)?void 0:s.conversionProgress)?void 0:o.uploading_converted)&&(null==(l=null==(r=e.uploadStatus)?void 0:r.conversionProgress)?void 0:l.uploading_converted)<100,L=w&&w.metadata_stage&&!!w.thumbnails&&w.thumbnails.length>0,j=x===sS,R=null==(c=null==(d=e.uploadStatus)?void 0:d.uploadManager)?void 0:c.layer,N=QE({asset:w,uploadingLayer:R});return w?f.jsxs("div",{className:AUe.assetBlockWrapper,children:[f.jsx(bCt,{showDelete:t,deleteFunction:S,className:AUe.imageContainer,style:CIt,deleteDialogTitle:"Delete this media?",deleteDialogDescription:"Deleting this media will remove this file from your Brand Kit and editor.",isDefault:a,confirmButtonText:"Confirm and delete",children:f.jsxs("div",{ref:y,onMouseEnter:()=>b(!0),onMouseLeave:()=>b(!1),onMouseMove:async e=>{if(!y.current)return;const t=y.current.getBoundingClientRect(),a=e.clientX-t.left-3;h(a);const n=y.current.clientWidth,s=Math.min(1,Math.max(0,a/n));m(s)},className:AUe.imageInnerContainer,style:j?{backgroundImage:`url(${sS})`,backgroundSize:"cover"}:{},children:[E?f.jsx("div",{className:zUe.loadingIconContainer,"data-cy":"upload-converting",children:f.jsx(Ile,{wrapperStyles:SIt,text:"Conversion In Progress"})}):null,I&&f.jsxs("div",{className:zUe.uploading,"data-cy":"upload-status","data-testid":"upload-status",children:[f.jsx("div",{className:zUe.uploadingContent,children:f.jsxs("span",{children:[f.jsx("span",{children:A}),f.jsx(nUe,{}),f.jsx("span",{children:k})]})}),f.jsx("div",{className:zUe.progress,style:{background:`linear-gradient(to right, #0083e2 ${T}%, rgba(134, 138, 153, 0.4) ${T}%)`}})]}),N&&f.jsx("div",{className:AUe.timestamp,children:`${XUe(N)}`}),L&&f.jsx("div",{className:zUe.scrubCursorContainer,children:f.jsx("div",{className:zUe.scrubCursor,style:{marginLeft:`${g}px`,display:v?"block":"none",width:3}})}),x&&f.jsx("img",{src:x,alt:""})]})}),f.jsx(wIt,{cmlFile:e.cmlFile,readonly:"62d61954f85729d3ec1db3f4"===e.cmlFile.asset_id})]}):null})),IIt=b.memo((({item:e})=>{var t;const a=kE(Du((t=>t.mediaCache.uploadIdToMediaCacheId[e.uploadId]))),n=QE({uploadingLayer:null==(t=null==e?void 0:e.uploadManager)?void 0:t.layer}),s=e.progressPrefix,o=100===e.uploadProgress?null:`${e.uploadProgress}%`,i=e.uploadProgress,r=Du((e=>fS({idbAsset:a,state:e})));return f.jsxs("div",{className:AUe.imageContainer,children:[f.jsx("img",{src:r,alt:""}),n&&f.jsx("div",{className:zUe.timestamp,children:`${XUe(n)}`}),f.jsxs("div",{className:zUe.uploading,"data-cy":"upload-status","data-testid":"upload-status",children:[f.jsx("div",{className:zUe.uploadingContent,children:f.jsxs("span",{children:[f.jsx("span",{children:s}),f.jsx(nUe,{}),f.jsx("span",{children:o})]})}),f.jsx("div",{className:zUe.progress,style:{background:`linear-gradient(to right, #0083e2 ${i}%, rgba(134, 138, 153, 0.4) ${i}%)`}})]})]})})),AIt=b.memo((()=>{const e=rse(),t=Du(_It),[a,n]=i.useState(!1),[s,o]=i.useState(!1),[r,l]=i.useState(!1),d=Bu(),c=LI(),u=gg(Fd.BRANDKIT);i.useEffect((()=>{const e=HBe(),t=e.listen();return e.forceUpdate(),t}),[d]);const p=i.useCallback((e=>{e&&(C9(e,{uploadOptions:{analyticsUploadSource:"Team brand kit",uploadSourceComponent:"BrandkitUpload",createTeamAsset:!0},validationOptions:{}}),m2("add","media"),o(!1))}),[]),m=i.useCallback((()=>{u?o(!0):e((()=>null),{action:Dd.BRANDKIT})()}),[u,e]),g=i.useCallback((()=>{l(!1)}),[]),h=i.useCallback((()=>{o(!1)}),[]);return f.jsxs(f.Fragment,{children:[r&&f.jsx(gUe,{onClose:g}),s&&f.jsx(RUe,{acceptedFileTypes:c,handleMultiFileUpload:p,unsetCancelModal:h,multiple:!0}),f.jsxs("div",{className:AUe.sectionHeader,children:[f.jsxs("div",{className:`${AUe.sectionTitle}`,children:["Brand Media"," ",!u&&f.jsx(_se,{className:AUe.proSparkle}),f.jsx("div",{className:AUe.infoIcon,onClick:()=>{l(!0)},children:f.jsx(Wa,{})})]}),f.jsx("div",{className:AUe.mobileOnlyEditButton,onClick:()=>e((()=>n(!a)),{if:!u,action:Dd.BRANDKIT})(),children:a?"Done":"Edit Media"})]}),f.jsx("div",{className:AUe.sectionDescription,children:"Store all your brand assets to easily access"}),f.jsxs("div",{className:AUe.blockContainer,children:[f.jsx(vCt,{onClick:m,className:AUe.largeBlock}),t.map((e=>{if("CMLFile"===e.type){const t="62d61954f85729d3ec1db3f4"===(null==e?void 0:e.cmlFile.asset_id);return f.jsx(xIt,{item:e,showDelete:a,isDefault:t},e.cmlFile._id)}return f.jsx(IIt,{item:e},e.uploadId)}))]})]})}));function kIt({type:e="all"}){const t=Du(Dm),a=Du((e=>{var t;return null==(t=e.studio.personas)?void 0:t.inProject})),n=Object.values(t||{}).some((e=>!e.assetId&&e.isProcessing)),s=i.useRef(new Set);return i.useEffect((function(){const n=new Set,{state:o}=Mu(),i="all"===e?[...Object.values(t),...Object.values(Kp),...Object.values(a||{})]:[...Object.values(t)];for(const e of i){if(!e.assetId)continue;if(s.current.has(e.personaId))continue;const t=o.assets.byId[e.assetId];t?(qC(t),s.current.add(e.personaId)):n.add(e.assetId)}const r=Object.values(o.studio.allLayers.byId).filter((e=>up(e)));for(const e of r)o.assets.byId[e.video_asset_id]||n.add(e.video_asset_id),o.assets.byId[e.audio_asset_id]||n.add(e.audio_asset_id);n.size>0&&_2(Array.from(n),w2.personaMonitor).then((e=>{const{dispatch:t}=Mu();!function(e){const{state:t,dispatch:a}=Mu(),{mediaCache:n}=t,s=[],o=e.map((e=>{const t="string"==typeof e?e:e._id,a=n.assetIdToMediaCacheId[t];if(a)return a;const o=O.v4();return s.push({assetId:t,mediaCacheId:o}),o}));a(Wp.bulkLinkAssetToMediaCache(s))}(e),t(YE(e))})).catch((e=>{console.error("Error fetching persona assets",n,e)}))}),[t,a,e]),i.useEffect((function(){if(!n)return;const e=setInterval((()=>{const e=rg();if(!e)return;const{dispatch:t,state:a}=Mu();Lb(e._id,a.currentUser,!1).then((({brandkit:e})=>{e&&t(Ib(e))}))}),1e4);return()=>clearInterval(e)}),[n]),null}const TIt="PersonasSection-module_videoContainer_FfqJm",EIt="PersonasSection-module_shimmer_qEbMM",LIt="PersonasSection-module_personasGrid_gtjFo",jIt="PersonasSection-module_personasBlock_p9-Ah",RIt="PersonasSection-module_removingPersona_-uKOZ",NIt="PersonasSection-module_video_17hiu",MIt="PersonasSection-module_name_WLMP3";function PIt(){const e=Du((e=>e.teams.activeBrandkit)),t=gg(Fd.BRANDKIT),a=i.useMemo((()=>(null==e?void 0:e.personas)||{}),[null==e?void 0:e.personas]);return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:AUe.sectionHeader,children:f.jsxs("div",{className:AUe.sectionTitle,children:["Brand Personas",!t&&f.jsx(_se,{className:AUe.proSparkle})]})}),f.jsx("div",{className:AUe.sectionDescription,children:"The AI Personas you create in the editor will appear here."}),f.jsx("div",{className:LIt,children:Object.values(a).map((e=>f.jsx("div",{className:AUe.midSizeBlockContainer,children:f.jsx(FIt,{persona:e})},e.personaId)))}),f.jsx(kIt,{type:"team"})]})}function FIt({persona:e}){const[t,a]=i.useState(!1),n=i.useRef(null),s=i.useRef(null),o=Du((t=>t.assets.byId[e.assetId||""])),r=i.useCallback((async()=>{const{state:t,dispatch:n}=Mu(),s=rg(t);if(s){a(!0);try{const t=await Yf(`/api/v2/teams/${s._id}/personas/${e.personaId}`);t.success&&t.brandkit&&(n(Ib(t.brandkit)),m2("remove","persona"))}catch(o){cb({error:o,description:"An error occurred while removing the persona."})}finally{a(!1)}}}),[e.personaId]),l=EA(e),d=()=>{n.current&&n.current.play()};return i.useEffect((function(){const e=e=>{var t;if(!s.current)return;if(!n.current)return;const a=null==(t=s.current)?void 0:t.getBoundingClientRect();e.clientX>a.left&&e.clientX<a.left+a.width&&e.clientY>a.top&&e.clientY<a.top+a.height||n.current.pause()};return document.addEventListener("mousemove",e),()=>{document.removeEventListener("mousemove",e)}})),f.jsxs(bCt,{deleteFunction:r,className:L(jIt,{[RIt]:t}),children:[o?f.jsx("div",{ref:s,className:TIt,onMouseOver:d,onFocus:d,children:f.jsx("video",{src:o.url,poster:l,className:NIt,ref:n,muted:!0})}):f.jsx("div",{ref:s,className:L(TIt,EIt)}),f.jsx("div",{className:MIt,children:e.name})]})}const DIt="SubtitlePresetPreview-module_container_3yp2k",OIt="SubtitlePresetPreview-module_title_-tZ6z",UIt="SubtitlePresetPreview-module_preview_v7jY0";function BIt({preset:e,onClick:t}){const a=Bu(),[n,s]=b.useState(!1),o=i.useCallback((t=>{a(MB({presetId:e.presetId,title:t,undoable:!1})),V2({...e,title:t})}),[a,e]);return f.jsxs("div",{className:DIt,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[f.jsx("div",{className:UIt,onClick:t,children:f.jsx(hoe,{preset:e,animate:n})}),f.jsx(mse,{value:e.title,onChange:o,className:OIt})]})}const WIt=b.memo((()=>{const e=Bu(),t=gg(Fd.SUBTITLE_PRESETS),{brandkitPresets:a}=Q2(),n=i.useCallback((async t=>{e(OB({presetId:t.presetId,undoable:!1})),await H2(t.presetId)}),[e]),s=i.useMemo((()=>a.reduce(((e,t)=>(e[t.presetId]=()=>n(t),e)),{})),[a,n]);return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:AUe.sectionHeader,children:f.jsxs("div",{className:AUe.sectionTitle,children:["Subtitle Styles",!t&&f.jsx(_se,{className:AUe.proSparkle})]})}),f.jsx("div",{className:AUe.sectionDescription,children:"The subtitle styles you save in the editor will appear here."}),f.jsx("div",{className:AUe.blockContainer,children:a.map((e=>f.jsx("div",{className:AUe.preview,children:f.jsx(bCt,{deleteFunction:s[e.presetId],deleteDialogTitle:"Delete Subtitle Style",deleteDialogDescription:Fbe("subtitle style",{extraText:"It will no longer appear in the Brand Styles section in the Editor."}),children:f.jsx(BIt,{preset:e})})},e.presetId)))})]})})),VIt="TextPresetPreview-module_container_BD8-f",HIt="TextPresetPreview-module_preview_vFAjT";function zIt({preset:e,onClick:t}){const a=Ehe(),n=i.useMemo((()=>({...e,style:{...e.style}})),[e]);return!a&&v3(e)&&(n.style.backgroundColor="#000000"),f.jsx("div",{className:VIt,children:f.jsx("div",{className:HIt,onClick:t,children:f.jsx(Noe,{preset:n})})})}const GIt="TextTemplatePreview-module_container_NCA-S",YIt="TextTemplatePreview-module_preview_JTy85";function KIt({template:e,onClick:t}){return f.jsx("div",{className:GIt,children:f.jsx("div",{className:YIt,onClick:t,children:f.jsx(the,{template:e})})})}const XIt=b.memo((()=>{const e=Bu(),t=gg(Fd.SUBTITLE_PRESETS),{brandkitPresets:a}=I3(),{brandkitTemplates:n}=yie(),s=i.useCallback((async t=>{e(FV({presetId:t.presetId,undoable:!1})),await c3(t.presetId)}),[e]),o=i.useCallback((async t=>{e(tH({templateId:t.templateId,undoable:!1})),await hie(t.templateId)}),[e]),r=i.useMemo((()=>a.reduce(((e,t)=>(e[t.presetId]=()=>s(t),e)),{})),[a,s]),l=i.useMemo((()=>n.reduce(((e,t)=>(e[t.templateId]=()=>o(t),e)),{})),[n,o]);return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:AUe.sectionHeader,children:f.jsxs("div",{className:AUe.sectionTitle,children:["Text Styles",!t&&f.jsx(_se,{className:AUe.proSparkle})]})}),f.jsx("div",{className:AUe.sectionDescription,children:"The text styles you save in the editor will appear here."}),f.jsxs("div",{className:AUe.blockContainer,children:[a.map((e=>f.jsx("div",{className:AUe.preview,children:f.jsx(bCt,{deleteFunction:r[e.presetId],deleteDialogTitle:"Delete Text Style",deleteDialogDescription:Fbe("text style",{extraText:"It will no longer appear in the Brand Styles section in the Editor."}),children:f.jsx(zIt,{preset:e})})},e.presetId))),n.map((e=>f.jsx("div",{className:AUe.preview,children:f.jsx(bCt,{deleteFunction:l[e.templateId],deleteDialogTitle:"Delete Text Template",deleteDialogDescription:Fbe("text template",{extraText:"It will no longer appear in the Brand Styles section in the Editor."}),children:f.jsx(KIt,{template:e})})},e.templateId)))]})]})})),ZIt="BrandkitTemplateElements-module_elementContainer_2Fhaf",qIt=b.memo((({brandkitTemplateDTO:e})=>{const t=Bu(),a=gg(Fd.BRANDKIT),n=P(),s=Ehe(),[o,r]=i.useState(!1),{currentUser:l,currentFolderId:d,brandkitTemplates:c}=Du((e=>({currentUser:e.currentUser,currentFolderId:e.workspaces.selectedWorkspace,brandkitTemplates:e.teams.brandkitTemplates})),Ou),u=i.useCallback((()=>{n(`/${e.videoId}/studio/editor`)}),[e.videoId,n]),p=i.useCallback((()=>{r(!0)}),[]),m=i.useCallback((()=>{r(!1)}),[]),g=i.useCallback((async()=>{const a=null==c?void 0:c.filter((t=>t.projectId!==e.projectId));t(Ab(a||[])),function(e,t){const{token:a,user:n}=t||{};Yf(`/api/v1/projects/${e}`,{parseJSON:!1,params:{token:a,userId:n&&n._id}})}(e.projectId??"",l),t(Ste({projectId:e.projectId??"",folderId:d})),t(db({description:"Your template has been successfully deleted.",type:"success"}))}),[c,d,l,t,e.projectId]),h=rS(e,"thumbnailUrl"),{lastAuthor:v,lastDate:b}=G5e({video:{...e,isBrandKitTemplate:"published"}}),y=i.useMemo((()=>({header:e.name,subheader:[{label:v},{label:b}],thumbnailUrl:h,elementType:gu.BRANDKIT_TEMPLATE})),[e.name,h,v,b]),w=[{label:"Edit",icon:f.jsx(eo,{}),onClick:u,type:Xft.Generic},{label:"Delete",icon:f.jsx(Oo,{}),onClick:p,type:Xft.Generic}],_=i.useCallback((async a=>{const n=a.trim();if(n.length&&n!==e.name){const s=null==c?void 0:c.map((t=>(t.projectId===e.projectId&&(t.name=n),t)));t(Ab(s||[])),async function(e,t,a){if(!e)return;const{token:n,user:s}=a||{};try{await Zf(`/api/v1/projects/${e}`,{body:{token:n,userId:s&&s._id,project:t},parseJSON:!1})}catch(b9e){console.warn(b9e)}}(e.projectId,{name:a},l)}}),[e,c,l,t]);return f.jsxs(f.Fragment,{children:[o&&f.jsx(Dbe,{hideDelete:m,delete:g,headerTitle:"Delete this template?",description:"Deleting this template will remove it from your Brand Kit and editor.",theme:s?"dark":"light",confirmButtonText:"Confirm and delete"}),f.jsx("div",{className:ZIt,children:f.jsx(Lbt,{onClick:u,multiLineSubtitles:!0,workspaceElement:y,onRename:_,dropdown:w,paywallModalAction:a?void 0:Dd.BRANDKIT})})]})})),JIt={...zUe,...AUe},$It=b.memo((()=>{const e=Du((e=>e.teams.selectedTeamId)),{brandkitTemplates:t}=(e=>{const t=Bu(),{data:a,isLoading:n}=Eye(`/api/v2/brandkit/${e}`),{brandkitTemplates:s}=Du((e=>e.teams));return i.useEffect((function(){!n&&a&&t(Ab(a))}),[a,n,t]),{brandkitTemplates:s}})(e),a=Bu(),n=P(),s=gg(Fd.BRANDKIT),o=i.useCallback((()=>{s?(m2("add","template"),a({type:"RESET_STUDIO"}),m7({entry:p7.WORKSPACE}),n("/studio/editor/new-brand-template/")):lse((()=>null),{action:Dd.BRANDKIT})()}),[a,s,n]);return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:JIt.sectionHeader,children:f.jsxs("div",{className:`${JIt.sectionTitle} ${JIt.tooltip}`,children:["Brand Templates"," ",!s&&f.jsx(_se,{className:JIt.proSparkle})]})}),f.jsx("div",{className:JIt.sectionDescription,children:"Create brand templates to remake the same formats for future projects"}),f.jsxs("div",{className:JIt.blockContainer,children:[f.jsx(vCt,{onClick:o,className:JIt.largeBlock}),null==t?void 0:t.map((e=>f.jsx(qIt,{brandkitTemplateDTO:e},e.videoId)))]})]})})),QIt=b.memo((()=>{const[e,t]=i.useState(!1),{selectedTeamId:a,brandkitMatchesTeam:n,currentUser:s,activeBrandkit:o}=Du((e=>({selectedTeamId:e.teams.selectedTeamId,brandkitMatchesTeam:Yj(e),currentUser:e.currentUser,activeBrandkit:e.teams.activeBrandkit})),Ou),r=Bu(),l=gg(Fd.BRANDKIT);i.useEffect((function(){o||kb()}),[o,r]);const d=()=>{var e;if(!(null==(e=s.user)?void 0:e.upsells))return;const a={...s.user.upsells};a.brandkitInfoBanner&&(a.brandkitInfoBanner.dateAcknowledged=gP),t(!0),FP(a)};return a?n?f.jsxs("div",{className:AUe.mainContainer,children:[f.jsx(Omt,{}),(()=>{var t,a,n,o;if(!l)return f.jsx("div",{className:AUe.brandkitUpsellBanner,children:f.jsx(mCt,{action:Dd.BRANDKIT,testId:"brandkit-upsell-banner"})});return(null==(n=null==(a=null==(t=s.user)?void 0:t.upsells)?void 0:a.brandkitInfoBanner)?void 0:n.dateAcknowledged)?null:(FP({...null==(o=s.user)?void 0:o.upsells,brandkitInfoBanner:{dateShown:gP}}),!e&&f.jsx(hCt,{onDismiss:d}))})(),f.jsx($It,{}),f.jsx(AIt,{}),f.jsx(NCt,{}),f.jsx(KCt,{}),f.jsx(wCt,{}),f.jsx(PIt,{}),f.jsx(WIt,{}),f.jsx(XIt,{}),f.jsx(yIt,{})]}):f.jsx("div",{className:AUe.mainContainer,children:f.jsx("div",{className:AUe.loadingWrapper,children:f.jsx(Ile,{})})}):f.jsx(Rt,{to:"/home"})})),eAt="Hub-module_workspaceRadixConfig_zQpM-",tAt="Hub-module_container_vXo8F",aAt="Hub-module_main_ITc4n",nAt="Hub-module_content_TUes5",sAt="SidebarItem-module_sidebarItem_SZ3Ne",oAt="SidebarItem-module_label_xhroY",iAt="SidebarItem-module_contentContainer_YDCs5",rAt="SidebarItem-module_wrapper_58MKV",lAt="SidebarItem-module_sparkle_5dhwK",dAt="SidebarItem-module_icon_hnZKx",cAt="SidebarItem-module_selected_xbMoe",uAt=b.memo((({hrefOrOnClick:e,testId:t,folderId:a,children:n})=>"string"==typeof e?"/"===e[0]?f.jsx(mn,{to:e,"data-cy":t,"data-testid":t,"data-folder-id":a,children:n}):f.jsx("a",{href:e,"data-cy":t,"data-testid":t,"data-folder-id":a,children:n}):f.jsx("div",{onClick:e,"data-cy":t,"data-testid":t,"data-folder-id":a,children:n})));uAt.displayName="LinkOrButtonWrapper";const pAt=b.forwardRef(((e,t)=>{const{selected:a=!1,testId:n,label:s,hrefOrOnClick:o,icon:i,sparkle:r,arrow:l,folderId:d,...c}=e;return f.jsx("div",{ref:t,...c,className:rAt,children:f.jsx(uAt,{hrefOrOnClick:o,testId:n,folderId:d,children:f.jsxs("div",{className:L(sAt,{[cAt]:a}),children:[f.jsxs("div",{className:iAt,children:[i&&f.jsx("div",{className:dAt,children:i}),f.jsx("span",{className:oAt,children:s}),r&&f.jsx(_se,{className:lAt})]}),l&&f.jsx("div",{className:dAt,children:f.jsx(Uo,{})})]})})})})),mAt=b.memo(pAt),gAt="HeaderLinks-module_headerBarEmpty_1H2cL",hAt=f.jsx(tn,{}),vAt=f.jsx(Bo,{}),fAt=f.jsx(Wo,{}),bAt=b.memo((()=>{const{selectedTeamId:e}=Du((e=>({selectedTeamId:e.teams.selectedTeamId})),Ou),t=F(),a=gg(Fd.BRANDKIT);return f.jsx("div",{className:gAt,children:f.jsxs(f.Fragment,{children:[f.jsx(mAt,{selected:t.pathname.includes("/search"),label:"Search",icon:hAt,hrefOrOnClick:"/search"}),f.jsx(mAt,{selected:t.pathname.includes("/brandkit"),label:"Brand Kit",icon:vAt,sparkle:!a,testId:"brandkit-button",hrefOrOnClick:"/brandkit"}),f.jsx(mAt,{selected:t.pathname.includes("/team/")&&(t.pathname.includes("/settings")||t.pathname.includes("/billing")),label:"Settings",icon:fAt,testId:"team-settings-link",hrefOrOnClick:`/team/${e}/settings`})]})})})),yAt="AccountInfo-module_wrapper_QhkEK",wAt="AccountInfo-module_profileImage_xltRW",_At="AccountInfo-module_text_JRwEe",CAt="AccountInfo-module_name_01gDm",SAt="AccountInfo-module_email_yynOl",xAt=b.memo((({openAccountSettings:e})=>{const{currentUser:t}=Du((e=>({currentUser:e.currentUser})),Ou),a=tg(t),n=ag(t);return f.jsxs("div",{className:yAt,"data-testid":"ws-header-signin-container","data-cy":"account-nav-link",onClick:()=>{null==e||e()},children:[f.jsx(xve,{suggestedWidth:80,suggestedHeight:80,className:wAt}),f.jsxs("div",{className:_At,children:[f.jsx("div",{className:CAt,"data-testid":"ws-header-name-container",children:f.jsx("span",{translate:"no",children:a})}),n&&f.jsx("div",{className:SAt,"data-testid":"ws-header-email-container",children:n})]})]})})),IAt="AdminDebugContext-module_table_6xpIO",AAt="AdminDebugContext-module_title_u4S81",kAt="AdminDebugContext-module_text_3jsK-",TAt="AdminDebugContext-module_full_RGgw7",EAt="AdminDebugContext-module_rounded_mZDMI",LAt="AdminDebugContext-module_center_S2-7s",jAt="AdminDebugContext-module_button_nQK77",RAt="AdminDebugContext-module_container_IIxLA",NAt="AdminDebugContext-module_header_tcWf7",MAt="AdminDebugContext-module_close_WEnHo",PAt="AdminDebugContext-module_subheader_MQ-8x",FAt="AdminDebugContext-module_body_hvJcl",DAt="AdminDebugContext-module_buttonGroup_MxSYQ",OAt="AdminDebugContext-module_flex_4-AEl",UAt=()=>{const e=gD();return e?f.jsx("div",{style:{margin:"4px 0px"},children:Object.entries(e).map((([e,t],a)=>f.jsxs("div",{style:{display:"flex",fontSize:14,alignItems:"center",outline:"1px solid #ccc",width:"fit-content",padding:2,gap:2},children:[f.jsxs("div",{style:{fontWeight:500},children:[e,":"]}),f.jsx("div",{style:{background:"#f0f0f0",padding:2,fontWeight:600},children:t}),f.jsx("button",{onClick:async()=>{await vD({feature:e,value:0})},children:"Reset"})]},a)))}):null},BAt=(e,t,a)=>{const n=((e,t)=>{const a=e.getTime(),n=t.getTime();return Math.floor(Math.abs(a-n)/864e5)})(e,t);return Yl.map((e=>Gl[e].activeOnDay)).filter((e=>e<a)).filter((e=>e>n)).length>0},WAt=b.memo((()=>{const{getUpsellDateShown:e,setUpsellShown:t}=zCe(),a=Du((e=>e.currentUser)),n=!!e(HCe.TwoWeekPostOnboarding),s=i.useCallback((async()=>{await t(HCe.TwoWeekPostOnboarding),await Qf()}),[t]);return Mb(a)?null:n?f.jsx(ase,{action:Dd.TWO_WEEK_POST_ONBOARDING_SINGLE_ACCOUNT_UPSELL,onClose:s}):f.jsx(ase,{action:Dd.TWO_WEEK_RECURRING_SINGLE_ACCOUNT_UPSELL,onClose:s})})),VAt=()=>{var e,t,a,n,s,o,r,l,d,c;const u=new Date,p=Du((e=>e.currentUser)),m=lg(),g=null==(e=null==m?void 0:m.users)?void 0:e.find((e=>e.userId===p.user._id)),{onboarding:h}=p.user,v=(null==h?void 0:h.skipped)||(null==h?void 0:h.survey),f=(null==(t=null==h?void 0:h.survey)?void 0:t.usage)===Kc.School,b=new Date("Thu Aug 31 2023 14:19:01 GMT-0700 (Pacific Daylight Time)")>((null==h?void 0:h.survey)&&(null==(a=null==h?void 0:h.survey)?void 0:a.date)?new Date(null==(n=null==h?void 0:h.survey)?void 0:n.date):new Date),[y,w]=i.useState(),_=null==y?void 0:y.inFirstSession,[C,S]=i.useState(!0),{getUpsellDateShown:x}=zCe(),I=(null==(s=null==h?void 0:h.survey)?void 0:s.date)?new Date(h.survey.date):u,A=x(HCe.TwoWeekPostOnboarding),k=A?new Date(A):I,T=tc(I,u),E=BAt(I,k,T),L=!!A&&tc(k,u)>=14,j=(null==(o=null==h?void 0:h.survey)?void 0:o.usage)!==Kc.School,R=i_(null==g?void 0:g.role),N=(null==m?void 0:m.users)&&1===(null==m?void 0:m.users.length),M=ug().isPaid;i.useEffect((function(){w(M5(j5.Onboarding)),S(!1)}),[]);const P=!window.Cypress&&!(null==h?void 0:h.survey)&&!(null==h?void 0:h.skipped),F=!(null==(r=null==h?void 0:h.firstSessionOnboarding)?void 0:r.dateDismissed)&&!(null==(l=null==h?void 0:h.firstSessionOnboarding)?void 0:l.dateComplete)&&!b&&!f&&v,D=!(null==(d=null==h?void 0:h.secondSessionOnboarding)?void 0:d.dateDismissed)&&!(null==(c=null==h?void 0:h.secondSessionOnboarding)?void 0:c.dateComplete)&&!(null==h?void 0:h.skipped)&&v&&!b&&!f&&!_&&!C,O=(E||L)&&!M&&R&&j&&N,U=i.useCallback((async(e,t)=>{const a=(null==h?void 0:h[e])??{};await $K({...h,[e]:{...a,...t}}),await Qf()}),[h]),B=i.useCallback((async e=>{await $K({...h,[e]:void 0}),await Qf()}),[h]);return i.useMemo((()=>{var e,t;return{showOnboardingSurvey:P,showFirstSessionOnboarding:F,showSecondSessionOnboarding:D,showPostOnboardingUpsell:O,dateOnboarded:null==(e=null==h?void 0:h.survey)?void 0:e.date,survey:null==h?void 0:h.survey,skipped:null==h?void 0:h.skipped,isRepurposeUser:"i'm repurposing my existing videos for other social media platforms"===(null==(t=null==h?void 0:h.survey)?void 0:t.projectUsage),updateOnboardingData:U,resetOnboardingData:B}}),[null==h?void 0:h.skipped,null==h?void 0:h.survey,F,P,O,D,U,B])},HAt=b.memo((()=>{const{resetOnboardingData:e}=VAt();return f.jsxs("div",{children:[f.jsx("div",{className:PAt,children:"Onboarding"}),f.jsxs("div",{className:DAt,children:[f.jsx("button",{className:L(jAt,LAt,EAt),onClick:async()=>{await e("survey")},children:"Reset survey"}),f.jsx("button",{className:L(jAt,LAt,EAt),onClick:async()=>{await e("studioTour")},children:"Reset studio tour"}),f.jsx("button",{className:L(jAt,LAt,EAt),onClick:async()=>{await e("firstSessionOnboarding")},children:"Reset first session onboarding"}),f.jsx("button",{className:L(jAt,LAt,EAt),onClick:async()=>{await e("secondSessionOnboarding")},children:"Reset second session onboarding"}),f.jsx("button",{className:L(jAt,LAt,EAt),onClick:async()=>{await e(HB.RepurposeOnboarding)},children:"Reset repurpose studio first time user tooltips"}),f.jsx("button",{className:L(jAt,LAt,EAt),onClick:async()=>{await e(HB.StudioRelatedLayersCopyPastePropertiesTour)},children:"Reset studio copy and paste education tooltips"})]})]})})),zAt=b.memo((()=>{const{toggleDebugEnabled:e}=KAt(),[t,a]=i.useState({x:50,y:50}),n=i.useRef(!1),s=i.useRef({x:0,y:0}),o=Du((e=>rg(e))),r=i.useCallback((()=>{n.current=!1}),[]),l=i.useCallback((e=>{if(n.current){const t=e.clientX-s.current.x,n=e.clientY-s.current.y;a((e=>({x:e.x+t,y:e.y+n}))),s.current={x:e.clientX,y:e.clientY}}}),[]);i.useEffect((function(){return window.addEventListener("mousemove",l),window.addEventListener("mouseup",r),()=>{window.removeEventListener("mousemove",l),window.removeEventListener("mouseup",r)}}),[l,r]);const d=rP();return f.jsxs(wl,{style:{left:`${t.x}px`,top:`${t.y}px`},className:L(RAt,EAt),children:[f.jsxs("div",{onMouseDown:e=>{n.current=!0,s.current={x:e.clientX,y:e.clientY}},className:L(NAt,LAt),children:[f.jsx("div",{children:"Admin Debug Tools"}),f.jsx("div",{className:MAt,onClick:e,children:f.jsx(R,{})})]}),f.jsxs("div",{className:FAt,children:[f.jsx("div",{className:PAt,children:"Set team limits"}),f.jsxs("table",{className:IAt,children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{className:AAt,children:"Category"}),f.jsx("th",{className:AAt,children:"Limit"}),f.jsx("th",{className:AAt,children:"Usage"}),f.jsx("th",{className:AAt,children:"Remaining"}),f.jsx("th",{className:AAt,children:"Reset limit"}),f.jsx("th",{className:AAt,children:"Set limit > 90%"}),f.jsx("th",{className:AAt,children:"Set limit 100%"}),f.jsx("th",{className:AAt,children:"Custom %"})]})}),f.jsx("tbody",{children:Object.entries(d).map((([e,t])=>{async function a(a){const n=a*t.limitForPlan,{dispatch:s}=Mu();if((null==o?void 0:o._id)===Om._id||!o)return;const i=(await Xf(`/api/v1/admin/teams/${o._id}/limits`,{body:{updates:{[e]:n}}})).updatedLimits;s(Sb(o._id,{...o,limits:i}))}return f.jsxs("tr",{children:[f.jsx("td",{className:kAt,children:Vd[e].name}),f.jsx("td",{className:kAt,children:t.limitForPlan}),f.jsx("td",{className:kAt,children:t.usage}),f.jsx("td",{className:kAt,children:t.remainingUsage}),f.jsx("td",{children:f.jsx("button",{type:"button",className:L(jAt,LAt,TAt),onClick:()=>a(0),children:"reset"})}),f.jsx("td",{children:f.jsx("button",{type:"button",className:L(jAt,LAt,TAt),onClick:()=>a(.91),children:"> 90%"})}),f.jsx("td",{children:f.jsx("button",{type:"button",className:L(jAt,LAt,TAt),onClick:()=>a(1),children:"100%"})}),f.jsxs("td",{className:OAt,children:[f.jsx("input",{type:"number",max:150,min:0,step:.5,id:`custom-percent-${e}`}),f.jsx("button",{type:"button",className:jAt,onClick:()=>{const t=document.getElementById(`custom-percent-${e}`);t instanceof HTMLInputElement&&a(Number(t.value)/100)},children:"Set"})]})]},e)}))})]}),f.jsx("div",{children:f.jsx("button",{className:L(jAt,LAt,EAt),type:"button",onClick:async()=>{o&&(await Xf(`/api/v1/admin/teams/${o._id}/reset-dismissals`,{parseJSON:!1}),Vne())},children:"Reset team user dismissals"})}),f.jsx("br",{}),f.jsx(HAt,{}),f.jsx(UAt,{})]})]})})),GAt=i.createContext({debugEnabled:!1,toggleDebugEnabled:()=>{}}),YAt=b.memo((({children:e})=>{const[t,a]=i.useState(!1),n=fve(),s=i.useMemo((()=>({debugEnabled:t,toggleDebugEnabled:()=>a(!t)})),[t]);return f.jsxs(GAt.Provider,{value:s,children:[f.jsx(f.Fragment,{children:e}),n&&t&&f.jsx(zAt,{})]})})),KAt=()=>i.useContext(GAt),XAt="FloatingLinkMenu-module_openButton_tKoty",ZAt="FloatingLinkMenu-module_label_WPWZD",qAt="FloatingLinkMenu-module_linkMenu_ofZ0C",JAt="FloatingLinkMenu-module_linkSection_rl8uS",$At="FloatingLinkMenu-module_icon_d5QTY",QAt=f.jsx(Vo,{}),ekt=b.memo((()=>{const[e,t]=i.useState(!1),[a,n]=i.useState(!1),s=Pl(),o=Fl(),r=cg(),l=[i.useMemo((()=>[{name:"Tools",href:"/tools",target:"_self"},{name:"Templates",href:"/templates",target:"_self"},{name:"Help Center",href:"https://www.kapwing.com/help"},{name:"Resources",href:"https://www.kapwing.com/resources"},{name:"Kapwing YouTube",href:"https://www.youtube.com/channel/UCR5GrKMeaZJxPKVMdEgKIKA?sub_confirmation=1"},{name:"Blog",href:"https://www.kapwing.com/blog"},{name:"Release Notes",href:"https://www.kapwing.com/help/tag/release-notes/"},{name:"Contact Us",href:"/contact-us"}]),[]),i.useMemo((()=>[{name:"Careers",href:"/careers"},{name:"Partnerships",href:"/partnerships"},{name:"Creators Fund",href:"/creators-fund"},{name:"Affiliates",href:"/partnerships"}]),[]),i.useMemo((()=>[{name:"Refund Policy",href:"/policies/refund"},{name:"Privacy Policy",href:"/policies/privacy"},{name:"Terms of Service",href:"/policies/terms-of-service"}]),[])],d=fve(),{debugEnabled:c,toggleDebugEnabled:u}=KAt(),p=i.useRef(null),m=i.useRef(null),g=i.useCallback((e=>{const a=[p.current,m.current],{target:n}=e;a.some((e=>e&&n instanceof HTMLElement&&e.contains(n)))||t(!1)}),[]);i.useEffect((()=>e?(document.addEventListener("mouseup",g),()=>document.removeEventListener("mouseup",g)):()=>{}),[g,e]);const h=i.useCallback((()=>{n(!1)}),[]),v=(e,t)=>{const{name:a,href:n,target:s="_blank"}=e;return f.jsx("a",{target:s,rel:"noreferrer",href:n,children:a},t)},b=(e,t)=>f.jsx("div",{className:JAt,children:e.map(v)},t),y=f.jsxs("button",{className:XAt,type:"button",onClick:()=>{t(!e)},children:[f.jsx("div",{className:$At,children:QAt}),f.jsx("div",{className:ZAt,children:"Help and Resources"})]});return f.jsxs("div",{ref:p,children:[a&&f.jsx(Lat,{hide:h,fromWorkspace:!0}),e&&f.jsx(wl,{children:f.jsxs("div",{className:qAt,ref:m,children:[r.isPaid&&f.jsx("div",{className:JAt,children:f.jsx("div",{onClick:()=>{n(!0),t(!1)},children:"Report a Problem"})}),l.map(b),d&&f.jsx("div",{className:JAt,children:f.jsx("div",{onClick:()=>{u(),t(!1)},children:(c?"Disable":"Enable")+" Debug Mode"})}),f.jsxs("span",{children:[" ",(new Date).getFullYear()," Kapwing. Release ",s,"",o,"."]})]})}),y]})})),tkt="MoreLinks-module_wrapper_1GK-1",akt=f.jsx(Ho,{}),nkt=b.memo((({openAccountSettings:e})=>{const t=F(),a=i.useCallback((()=>{(e=>{const{dispatch:t}=Mu();ov("Open Shared with Me",{location:e}),t(df(rd)),aR("/shared-with-me")})("Sidebar")}),[]);return f.jsxs("div",{className:tkt,children:[f.jsx(Hw,{message:"Projects that others have shared with you will appear here.",children:f.jsx(mAt,{label:"Shared with Me",testId:"shared-with-me-nav",icon:akt,hrefOrOnClick:a,selected:t.pathname.includes("/shared-with-me")})}),f.jsx(ekt,{}),f.jsx(xAt,{openAccountSettings:e})]})})),skt="CreateFolderModal-module_overlay_3U5MX",okt="CreateFolderModal-module_modal_o1Wmz",ikt="CreateFolderModal-module_mainContent_SgnVN",rkt="CreateFolderModal-module_header_bN5sI",lkt="CreateFolderModal-module_textInput_tReFP",dkt="CreateFolderModal-module_form_zUsXz";function ckt({onHide:e,folderType:t}){const a=P(),[n,s]=i.useState(!1),[o,r]=i.useState(null),[l,d]=i.useState(""),c=i.useCallback((()=>{n||(e(),o&&a(`/folder/${o}`))}),[a,n,o,e]),u=e=>{d(e.target.value)},p=async()=>{s(!0);const e=(await D3(l,t))._id;r(e),s(!1),c()};return f.jsx(rC,{usePortal:!0,noScrollBar:!0,unsetCancelModal:c,noPadding:!0,className:skt,children:f.jsxs("div",{className:okt,children:[f.jsxs("div",{className:ikt,"data-testid":t===Zl.personal?"workspace-create-folder-modal-personal":"workspace-create-folder-modal-team",children:[f.jsx("div",{className:rkt,children:"Create a new folder"}),f.jsx("form",{onSubmit:e=>{e.preventDefault(),p()},className:dkt,children:f.jsx("input",{type:"text",className:lkt,value:l||"",onChange:u,placeholder:"Untitled Folder",readOnly:n,autoFocus:!0,"data-cy":"new-workspace-input"})})]}),f.jsx(U_,{confirmFn:p,loadingMsg:n?"Loading...":void 0,confirmText:"Create Folder",cancelText:"Back",cancelFn:void 0})]})})}const ukt=f.jsx(Lt,{}),pkt=f.jsx(Lt,{}),mkt=b.memo((({folderId:e,folderName:t,dataCy:a,isPrivate:n=!1})=>{const s=F(),o=Du((e=>e.workspaces.selectedWorkspace)),r=i.useCallback((()=>{OSe(e)}),[e]);let l="workspace-sidebar-link";return a&&(l=a),f.jsx(mAt,{testId:l,folderId:e,selected:o===e&&s.pathname.includes("/folder"),label:t,icon:n?pkt:ukt,hrefOrOnClick:r})})),gkt="LimitWarning-module_upsellWarningBlockContainer_avyKq",hkt="LimitWarning-module_featureOut_hecjI",vkt="LimitWarning-module_warningIcon_17YaK",fkt="LimitWarning-module_button_q3uas",bkt="LimitWarning-module_outerSpacerBlock_RWHP-",ykt="LimitWarning-module_warning_pxCIZ",wkt="LimitWarning-module_body_GN-Jo",_kt="LimitWarning-module_close_CwYNS",Ckt="LimitWarning-module_upsellBlock_NW1a5",Skt=b.memo((()=>{var e,t;const{shouldShow:a,usageAtLimit:n,dismiss:s,openEnterpriseTypeform:o,feature:i,showEnterprise:r}=c0e("Workspace Block"),l=rse(),d=cg(),c=d.hasPermission(Fd.EXCEED_LIMITS),u=d.upgradesTo?nc(d.upgradesTo):null,{subscription:p}=Y3(),m=gg(Fd.CREATE_NEW_FOLDER);if(!a||!i||!(null==(e=Vd[i])?void 0:e.showWarnings))return m||(null==p?void 0:p.cancel_at_period_end)?null:f.jsx("div",{className:Ckt,children:f.jsx(qOe,{action:Dd.SIDEBAR,topLeftImg:!0,testId:"workspace-sidebar-upsell-block"})});const{name:g,unit:h}=Vd[i],v=n?"You've reached a workspace limit":`You're running\n  out of ${g} ${h}s`,b=`You've${n?"":" almost"} used up your ${g} ${h}s${(null==(t=Vd[i].tier[d.type])?void 0:t.resetPeriod)!==Wd.NEVER?" for this month":""}.\n  To get more ${g} ${h}s, ${c?"enable overages in settings.":!u||r?"get in touch with us.":d.type===Id.Free?"upgrade to one of our paid plans.":`upgrade to the ${u.name} plan.`}`,y=c?"Visit billing":r?"Contact sales":"Upgrade now",w=c?nR:r?o:l((()=>{}),{action:Dd.LIMITS_WARNING});return f.jsx("div",{"data-cy":"pro-limit-warning",className:`${bkt} ${n?hkt:""}`,children:f.jsxs("div",{className:gkt,children:[f.jsxs("div",{className:ykt,children:[f.jsx("div",{className:vkt,children:n?f.jsx(Sn,{}):f.jsx(It,{})}),f.jsx("div",{children:v}),!n&&f.jsx("div",{className:_kt,onClick:s,children:f.jsx(R,{})})]}),f.jsx("span",{className:wkt,children:b}),f.jsx(GIe,{className:fkt,onClick:w,buttonText:y})]})})})),xkt="SidebarUpsells-module_limitWarningBlock_WdUKG";function Ikt(){return f.jsxs("div",{className:xkt,children:[f.jsx(Skt,{}),f.jsx(cit,{})]})}const Akt="SuggestedWorkspacesAction-module_disabled_OUXxB",kkt="SuggestedWorkspacesAction-module_swTeamName_2f-I9",Tkt="SuggestedWorkspacesAction-module_suggestedWorkspaceHeader_9qZuC",Ekt="SuggestedWorkspacesAction-module_suggestedWorkspaceTooltip_rYz2V",Lkt="SuggestedWorkspacesAction-module_swTeamsContainer_ZYMfu",jkt="SuggestedWorkspacesAction-module_smallProfilePicture_6Yinz",Rkt="SuggestedWorkspacesAction-module_infoTooltip_cptHA",Nkt="SuggestedWorkspacesAction-module_checkmark_BrdBd",Mkt="SuggestedWorkspacesAction-module_suggestedWorkspaceButton_3ctuk",Pkt="SuggestedWorkspacesAction-module_actionsContainer_ci4RR",Fkt="SuggestedWorkspacesAction-module_deleteSuggestionButton_Gfphq",Dkt=f.jsx(zo,{}),Okt=b.memo((({suggestedWorkspaces:e,close:t,tooltipPosition:a={x:0,y:0}})=>{const{currentUser:n,teamEmailDomain:s}=Du((e=>{var t,a;return{currentUser:e.currentUser,teamEmailDomain:null==(a=null==(t=e.workspaces.suggestedWorkspaces)?void 0:t.teams[0])?void 0:a.emailDomain}}),Ou),o=Bu(),r=Bg(),[l,d]=i.useState([]),c=i.useRef(null);i.useEffect((function(){(async()=>{const e=await nP();d(e.map((e=>e.teamId)))})()}),[]);const u=i.useCallback((async t=>{try{const a=null==e?void 0:e.teams.filter((e=>e._id!==t));o(bf({isQualifiedDomain:(null==e?void 0:e.isQualifiedDomain)??!1,teams:a??[]})),await Xf("/api/v2/teams/deleteSuggestion",{body:{teamId:t}})}catch(b9e){console.error(b9e)}}),[o,null==e?void 0:e.isQualifiedDomain,null==e?void 0:e.teams]),p=async t=>{await eP(t),(async(e,t,a)=>{const n=await Lb(t,a,!1),{interval:s,status:o}=await X3(),i=ug(),r={"Team ID":n._id,"Entry Point":e,"Number of Workspace Members":n.users.length,"Current Plan":i.type,"Monthly/Annual":s,"Subscription Status":o,"Quantity Legacy Members":0};ov("Request to Join",r)})(o4.Sidebar,t,n),(()=>{const a=null==e?void 0:e.teams.map((e=>(e._id===t&&(e.requestSent=!0),e)));o(bf({teams:a??[],isQualifiedDomain:(null==e?void 0:e.isQualifiedDomain)??!1}))})(),d((e=>[...e,t])),setTimeout((()=>{u(t)}),3e3)},m=e=>{var a;switch(null==(a=e.settings)?void 0:a.discoverability){case cu.AnyoneCanJoin:return()=>(async e=>{try{if(!(await Xf(`/api/v2/teams/${e}/join`)).success)throw new Error;o(db({description:"Successfully joined team.",type:"success"})),Tb(),o(fb(e)),await FSe(e),await u(e),t()}catch(a){cb({description:"Something went wrong with joining the team, please try again later.",error:a})}})(e._id);case cu.RequestToJoin:default:return()=>p(e._id)}},g=e=>{var t;if(e.requestSent||l.includes(e._id))return f.jsxs("div",{children:[f.jsx(Go,{className:Nkt}),"Request Sent"]});switch(null==(t=e.settings)?void 0:t.discoverability){case cu.AnyoneCanJoin:return"Join";case cu.RequestToJoin:default:return"Ask to Join"}},h=e=>e.requestSent||l.includes(e._id)?Akt:Mkt,v=i.useMemo((()=>(null==e?void 0:e.teams.reduce(((e,t)=>(e[t._id]=()=>u(t._id),e)),{}))||{}),[u,null==e?void 0:e.teams]);return f.jsx("div",{className:r?"":Rkt,style:{left:a.x,top:c.current?a.y-c.current.clientHeight/2<0?a.y+(c.current.clientHeight/2-20):a.y+c.current.clientHeight/2>window.innerHeight?a.y-(c.current.clientHeight/2-20):a.y:a.y},onClick:e=>{r||e.stopPropagation()},ref:c,children:f.jsxs("div",{className:Ekt,children:[f.jsxs("div",{className:Tkt,children:["Suggested Workspaces"," ",s?`for ${s}`:""]}),null==e?void 0:e.teams.map((e=>f.jsxs("div",{className:Lkt,children:[f.jsx(xve,{team:e,className:jkt}),f.jsx("div",{className:kkt,children:e.name}),f.jsxs("div",{className:Pkt,children:[f.jsx(GIe,{buttonText:g(e),className:h(e),onClick:m(e)}),!e.requestSent&&f.jsx(GIe,{icon:Dkt,className:Fkt,onClick:v[e._id]})]})]},e._id)))]})})})),Ukt="SuggestedWorkspaces-module_suggestedWorkspaceButton_cw0XJ",Bkt="SuggestedWorkspaces-module_buttonLeft_5-nVy",Wkt="SuggestedWorkspaces-module_badge_qbWBO",Vkt=b.memo((({suggestedWorkspaces:e,visiblePopover:t,setVisiblePopover:a})=>{const{currentUser:n,allTeams:s,pendingInvites:o,isQualifiedDomain:r}=Du((e=>{var t;return{currentUser:e.currentUser.user,allTeams:e.teams.allTeams,pendingInvites:e.teams.userTeamInvites,isQualifiedDomain:null==(t=e.workspaces.suggestedWorkspaces)?void 0:t.isQualifiedDomain}}),Ou),[l,d]=i.useState(!1),[c,u]=i.useState({x:0,y:0}),p=n.upsells,m=Bg(),g=i.useCallback((e=>{const t=e.currentTarget.getBoundingClientRect(),{x:a}=t,n=t.top;u({x:a+200,y:n})}),[]);i.useEffect((function(){const t=null==e?void 0:e.teams.map((e=>e._id));s.some((e=>null==t?void 0:t.includes(e._id)))&&U6()}),[s,null==e?void 0:e.teams]),i.useEffect((()=>{"SuggestedWorkspaces"!==t&&d(!1)}),[t]);const h=i.useCallback((()=>{d(!1)}),[]);return(null==e?void 0:e.isQualifiedDomain)?f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:Ukt,onMouseEnter:g,onClick:()=>{(null==p?void 0:p.suggestedWorkspacesSidebar)||(()=>{const e=new Date;FP({...p,suggestedWorkspacesSidebar:{dateShown:e}}),Qf()})(),l?(d(!1),a("None")):(s4({numPendingInvites:o?o.length:0,suggestedWorkspaces:e,entryPoint:o4.Sidebar,isQualifiedDomain:r}),d(!0),a("SuggestedWorkspaces"))},children:[f.jsx("div",{className:Bkt,children:"Suggested Workspaces"}),(null==p?void 0:p.suggestedWorkspacesSidebar)?null:f.jsx("div",{className:Wkt,children:null==e?void 0:e.teams.length})]}),(()=>{if(m||l&&"SuggestedWorkspaces"===t)return f.jsx(Okt,{suggestedWorkspaces:e,close:h,tooltipPosition:c})})()]}):null})),Hkt="InvitesPopover-module_header_VHXnS",zkt="InvitesPopover-module_teamName_SA2dJ",Gkt="InvitesPopover-module_infoTooltip_W7sC1",Ykt="InvitesPopover-module_inviteRow_w-3l5",Kkt="InvitesPopover-module_actionsContainer_h2IOZ",Xkt="InvitesPopover-module_accept_jfNt3",Zkt="InvitesPopover-module_delete_TxSox",qkt="InvitesPopover-module_smallProfilePicture_W5xag",Jkt="InvitesPopover-module_mobileInvites_aSxS6",$kt=f.jsx(zo,{}),Qkt=b.memo((({invite:e})=>{const{acceptInvite:t}=sXe(),{team:a}=e,n=i.useCallback((()=>{FSe(e.team._id)}),[e.team._id]),s=i.useCallback((()=>{t(e.inviteKey,nXe.WORKSPACE_DROPDOWN,{onSuccess:n})}),[t,n,e.inviteKey]),o=i.useCallback((()=>{!async function(e){const{dispatch:t,state:a}=Mu(),{teams:n}=a,{userTeamInvites:s=[]}=n,o={inviteId:e._id};try{await Yf("/api/v1/invites/teams",{body:o,parseJSON:!1}),t(Cb([...s].filter((t=>t._id!==e._id))))}catch(b9e){console.error(b9e)}}(e)}),[e]);return f.jsxs("div",{className:Ykt,"data-testid":"workspace-selector-invite",children:[f.jsx(xve,{team:a,className:qkt}),f.jsx("div",{className:zkt,children:a.name}),f.jsxs("div",{className:Kkt,children:[f.jsx(GIe,{testId:"invite-join-button",buttonText:"Join",className:Xkt,onClick:s}),f.jsx(GIe,{icon:$kt,className:Zkt,onClick:o})]})]})})),eTt=b.memo((({invites:e,tooltipPosition:t={x:0,y:0}})=>{const a=Bg(),n=b.useRef(null),s=i.useCallback((e=>{a||e.stopPropagation()}),[a]);if(!e||!e.length)return f.jsx(f.Fragment,{});return f.jsxs("div",{className:a?Jkt:Gkt,style:a?{}:{left:t.x,top:t.y},onClick:s,"data-testid":"invite-actions",ref:n,children:[f.jsx("div",{className:Hkt,children:"Your Workspace Invitations"}),e.map((e=>f.jsx(Qkt,{invite:e},e._id)))]})})),tTt="WorkspaceInvites-module_newBadge_US5c8",aTt="WorkspaceInvites-module_buttonLeft_n1TLk",nTt="WorkspaceInvites-module_button_1zex8",sTt=b.memo((({invites:e,visiblePopover:t,setVisiblePopover:a})=>{const n=Bg(),[s,o]=i.useState(!1),[r,l]=i.useState({x:0,y:0}),d=i.useCallback((e=>{const t=e.currentTarget.getBoundingClientRect(),{x:a}=t,n=t.top;l({x:a+200,y:n})}),[]);i.useEffect((()=>{"WorkspaceInvite"!==t&&o(!1)}),[t]);const c=i.useCallback((()=>{s?(o(!1),a("None")):(o(!0),a("WorkspaceInvite"))}),[s,a]);return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:aTt,onClick:c,onMouseEnter:d,"data-testid":"workspace-invites-button",children:[f.jsx("div",{className:nTt,children:"Workspace Invitations"}),f.jsx("div",{className:tTt,children:e.length})]}),n||s&&"WorkspaceInvite"===t?f.jsx(eTt,{invites:e,tooltipPosition:r}):void 0]})})),oTt="WorkspaceSelector-module_teamName_2Cmm5",iTt="WorkspaceSelector-module_workspaceContainer_zJeuW",rTt="WorkspaceSelector-module_wrapper_2QNd7",lTt="WorkspaceSelector-module_container_-JJKc",dTt="WorkspaceSelector-module_workspaceWrapper_grH8u",cTt="WorkspaceSelector-module_workspaceInfo_pZGIO",uTt="WorkspaceSelector-module_workspaceInfoRight_qkIQZ",pTt="WorkspaceSelector-module_planName_hpSXh",mTt="WorkspaceSelector-module_workspaceThumbnail_EYSgu",gTt="WorkspaceSelector-module_selected_LIeC1",hTt="WorkspaceSelector-module_profilePicture_cBtDH",vTt="WorkspaceSelector-module_DropdownMenuItem_WUe3f",fTt="WorkspaceSelector-module_members_UT2DU",bTt="WorkspaceSelector-module_checkmark_XaMMT",yTt="WorkspaceSelector-module_checkmarkIcon_NFYRA",wTt="WorkspaceSelector-module_loading_hLtfs",_Tt=b.memo((({team:e,currentTeamId:t,handleChangeWorkspace:a,isLoadingWorkspace:n})=>{var s,o;const r=mg(e);let l=`${r.name} Plan`;r.isEdu&&(l="Edu Plan");const d=e._id===t,c=i.useCallback((()=>{a(e._id)}),[e._id,a]);return e?f.jsx(pr,{className:vTt,onClick:c,children:f.jsxs("div",{className:dTt,"data-workspace-id":e._id,children:[f.jsx("div",{className:iTt,children:f.jsx("div",{className:`${mTt} ${d?gTt:""}`,"data-cy":"workspace-selector-workspace-thumbnail","data-testid":"workspace-selector-workspace-thumbnail",children:f.jsx(xve,{team:e,className:hTt})})},e._id),f.jsxs("div",{className:cTt,children:[f.jsx("div",{className:oTt,translate:"no",children:e.name}),f.jsxs("div",{className:uTt,children:[f.jsxs("div",{className:fTt,children:[null==(s=e.users)?void 0:s.length,f.jsx("span",{children:" Member"}),(null==(o=e.users)?void 0:o.length)>1&&f.jsx("span",{children:"s"})]}),"",f.jsx("div",{className:pTt,children:l})]})]}),d?f.jsx("div",{className:bTt,children:n?f.jsx("div",{className:wTt}):f.jsx(dn,{className:yTt})}):null]})},e._id):null})),CTt=b.memo((({setLoadingNewWorkspace:e})=>{const t=Bu(),{allTeams:a,currentTeamId:n,notifications:s}=Du((e=>({currentTeamId:e.teams.selectedTeamId,allTeams:e.teams.allTeams,notifications:e.notifications.notifications})),Ou),[o,r]=i.useState(!1);i.useEffect((()=>{(async()=>{try{await Wb()}catch(b9e){cb({description:"There was a problem fetching your invites. Please try again later.",error:b9e})}})()}),[t,s]),i.useEffect((function(){U6()}),[]);const l=async t=>{if(!o){r(!0),e(!0);try{await FSe(t)}catch(b9e){console.error(b9e)}finally{r(!1),e(!1)}}};return f.jsx("div",{className:rTt,"data-cy":"workspace-selector","data-testid":"workspace-selector","data-loading":o,children:f.jsx("div",{className:lTt,children:null==a?void 0:a.map((e=>f.jsx(_Tt,{team:e,currentTeamId:n,handleChangeWorkspace:l,isLoadingWorkspace:o},e._id)))})})})),STt="TeamSelector-module_textOverflowEllipsis_i0aBw",xTt="TeamSelector-module_headerRow_Duv7-",ITt="TeamSelector-module_headerRowLeft_muLFZ",ATt="TeamSelector-module_headerRowRight_22P6H",kTt="TeamSelector-module_workspaceName_IsKx2",TTt="TeamSelector-module_workspaceThumbnail_zXIl4",ETt="TeamSelector-module_DropdownMenuContent_2f7ON",LTt="TeamSelector-module_DropdownMenuSeparator_HznG8",jTt="TeamSelector-module_loader_QKDN3";function RTt(){var e,t;const a=lg(),[n,s]=i.useState(!1),{userTeamInvites:o,suggestedWorkspaces:r,currentUser:l}=Du((e=>({userTeamInvites:e.teams.userTeamInvites,suggestedWorkspaces:e.workspaces.suggestedWorkspaces,currentUser:e.currentUser.user})),Ou),[d,c]=i.useState("None"),u=(null==(t=null==(e=l.onboarding)?void 0:e.survey)?void 0:t.usage)===Kc.School,p=(null==r?void 0:r.isQualifiedDomain)&&r.teams.length>0&&!u;return f.jsxs(lr,{modal:!1,children:[f.jsx(dr,{asChild:!0,"data-testid":"workspace-dropdown-trigger","data-cy":"workspace-dropdown-trigger",children:f.jsxs("div",{className:xTt,children:[f.jsxs("div",{className:ITt,children:[f.jsx("button",{"data-testid":"team-workspace-logo",children:f.jsx(xve,{team:a,className:TTt})}),f.jsx("button",{className:kTt,"data-cy":"team-workspace-name","data-testid":"team-workspace-name",translate:"no",children:f.jsx("span",{className:STt,children:null==a?void 0:a.name})})]}),f.jsxs("div",{className:ATt,children:[n?f.jsx("div",{className:jTt,"data-loading":"true"}):null,f.jsx(Yo,{})]})]})}),f.jsx(cr,{children:f.jsxs(ur,{className:ETt,sideOffset:5,children:[f.jsx(CTt,{setLoadingNewWorkspace:s}),f.jsx(mr,{className:LTt}),o&&o.length>0&&f.jsx(sTt,{invites:o,visiblePopover:d,setVisiblePopover:c}),p&&f.jsx(Vkt,{suggestedWorkspaces:r,visiblePopover:d,setVisiblePopover:c})]})})]})}const NTt="WorkspaceSidebar-module_personalFoldersHeader_t1EzL",MTt="WorkspaceSidebar-module_sideHeader_iEIiH",PTt="WorkspaceSidebar-module_sideBarContainer_GqkYE",FTt="WorkspaceSidebar-module_sideHeaderCopy_VSX1Z",DTt="WorkspaceSidebar-module_addFolderButton_c3Btg",OTt="WorkspaceSidebar-module_addFolderIcon_4S29V",UTt="WorkspaceSidebar-module_svgSparkle_bZ115",BTt="WorkspaceSidebar-module_top_1a8c8",WTt="WorkspaceSidebar-module_bottom_m9p-c",VTt="WorkspaceSidebar-module_folders_3u5Fc",HTt="WorkspaceSidebar-module_mobileControl_nDaAh",zTt="WorkspaceSidebar-module_sidebarIcon_0xMJF",GTt="WorkspaceSidebar-module_mobileBackground_283bc",YTt=u((e=>e.workspaces.allWorkspaces),(e=>e.sort(((e,t)=>{const a=e.sortOrder||parseInt(e._id,16),n=t.sortOrder||parseInt(t._id,16);return a>n?-1:a<n?1:0})))),KTt=b.memo((({showSidebar:e,setShowSidebar:t,openAccountSettings:a})=>{var n;const s=i.useRef(null),o=lg(),{allFolders:r,workspaceIsInSelectionMode:l,selectedTeamId:d}=Du((e=>({allFolders:YTt(e),workspaceIsInSelectionMode:e.workspaces.selectionMode,selectedTeamId:e.teams.selectedTeamId})),Ou),c=((e,t)=>e.filter((e=>{const a=e.teamId===t&&e.type===Zl.personal&&!e.sharedAt,n=!(e.teamId&&"personal"!==e.teamId||"personal"!==t||e.sharedAt);return a||n})))(r,o._id),u=n_(r,o._id),p=Bg(),m=F(),[g,h]=i.useState(!1),v=u_(Lc.Create)&&(null==(n=m.state)?void 0:n.redirectSource)===$Ke.TEAMS,[b,y]=i.useState(v),[w,_]=i.useState(Zl.team),C=gg(Fd.CREATE_NEW_FOLDER);i.useEffect((function(){!M5(j5.teamWorkspaceAccessLogged)&&d&&"personal"!==d&&H5(d)}));const S=i.useCallback((e=>{l||(h(!0),_(e))}),[l]),x=i.useCallback((()=>{var e;h(!1),null==(e=null==s?void 0:s.current)||e.scrollTo(0,0)}),[]),I=i.useCallback((()=>{y(!1)}),[]),A=i.useCallback((e=>{C?S(e):lse((()=>{}),{action:Dd.CREATE_NEW_FOLDER,teamId:o._id})()}),[C,o._id,S]),k=i.useCallback((()=>{A(Zl.personal)}),[A]),T=i.useCallback((()=>{A(Zl.team)}),[A]),E=()=>{t(!e)},L=i.useCallback((e=>{if(!e.destination)return;const t=e.source.index<e.destination.index?e.destination.index:e.destination.index-1,a=e.source.index<e.destination.index?e.destination.index+1:e.destination.index,n=u[t],s=u[a],o=(null==n?void 0:n.sortOrder)||parseInt((null==n?void 0:n._id)||"0",16),i=(null==s?void 0:s.sortOrder)||parseInt((null==s?void 0:s._id)||"0",16),r=u[e.source.index];if(!r)return;let l=r.sortOrder||parseInt(r._id,16);l=s&&!n?1.01*i:n&&!s?.99*o:(o+i)/2,qf(`/api/v1/folders/${r._id}`,{body:{folderFields:{sortOrder:l}}}).catch(console.error);const{dispatch:d}=Mu();d(Sf({id:r._id,updates:{sortOrder:l}}))}),[u]);return f.jsxs(f.Fragment,{children:[e?f.jsx("div",{className:GTt,onClick:E}):null,f.jsxs("div",{className:PTt,style:(()=>{let t={width:282,left:0};return p&&(t=e?{...t,left:0}:{...t,left:-302}),t})(),"data-cy":"workspace-sidebar-container",children:[p?f.jsx("div",{className:HTt,onClick:E,"data-cy":"workspace-sidebar-nav-menu-toggle",children:f.jsx(Do,{className:zTt})}):null,f.jsxs("div",{className:BTt,children:[p&&f.jsx(RTt,{}),f.jsx(Ikt,{}),f.jsx(bAt,{}),f.jsxs("div",{className:MTt,children:[f.jsx(Hw,{message:"All workspace members have access to these folders.",children:f.jsx("span",{children:"Team Folders"})}),f.jsx(Hw,{message:"Create a new workspace folder",children:f.jsxs("div",{className:DTt,onClick:T,"data-cy":"new-folder-button","data-testid":"workspace-new-folder-button-team",children:[f.jsx(Ko,{className:OTt}),!C&&f.jsx(_se,{className:UTt})]})})]}),f.jsxs("div",{"data-testid":"section-workspace-folders",className:VTt,children:[f.jsx(Xo,{onDragEnd:L,children:f.jsx(Zo,{droppableId:"team-folders",children:e=>f.jsxs("div",{...e.droppableProps,ref:e.innerRef,children:[u.map(((e,t)=>f.jsx(qo,{draggableId:e._id,index:t,children:t=>f.jsx("div",{ref:t.innerRef,...t.draggableProps,...t.dragHandleProps,style:{userSelect:"none",...t.draggableProps.style},children:f.jsx(mkt,{folderId:e._id,folderName:e.name,dataCy:"team-folder-link"},e._id)})},e._id))),e.placeholder]})})}),f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:NTt,children:[f.jsx(Hw,{message:"Only you have access to these folders. Projects in these folders are private unless you share them.",children:f.jsx("span",{children:"Private Folders"})}),f.jsx(Hw,{message:"Create a new personal folder",children:f.jsxs("div",{className:DTt,onClick:k,"data-cy":"new-folder-button-personal","data-testid":"workspace-new-folder-button-personal",children:[f.jsx(Ko,{className:OTt}),!C&&f.jsx(_se,{className:UTt})]})})]}),!c.length&&f.jsx("div",{className:FTt,children:"Projects in these folders are only accessible by you."}),c.map((e=>f.jsx(mkt,{folderId:e._id,folderName:e.name,dataCy:"private-folder-link",isPrivate:!0},e._id)))]})]})]}),f.jsx("div",{className:WTt,"data-testid":"workspace-sidebar-divider",children:f.jsx(nkt,{openAccountSettings:a})})]}),g&&f.jsx(ckt,{onHide:x,folderType:w}),b&&f.jsx(Fwt,{onClose:I,entryPoint:hyt.SIDEBAR})]})})),XTt="WorkspaceHeader-module_header_aJumd",ZTt="WorkspaceHeader-module_mobileSidebarToggle_fvYlk",qTt="WorkspaceNotifications-module_icon_NlO3f",JTt="WorkspaceNotifications-module_iconWrapper_xh8y8",$Tt="WorkspaceNotifications-module_alertCircle_sZfxb",QTt="WorkspaceNotifications-module_notifContainer_4hKHm",eEt="WorkspaceNotifications-module_mobileNotifContainer_uuEFd",tEt="WorkspaceNotifications-module_notifHeader_pWAk-",aEt="WorkspaceNotifications-module_settingsGear_vroM2",nEt="WorkspaceNotifications-module_notifListContainer_3t9aQ",sEt="WorkspaceNotifications-module_notification_WIE9-",oEt="WorkspaceNotifications-module_iconAndMessageConatiner_Lc5-2",iEt="WorkspaceNotifications-module_notifIconContainer_ANPap",rEt="WorkspaceNotifications-module_unreadNotifCircle_BBVS3",lEt="WorkspaceNotifications-module_notifIcon_clXuP",dEt="WorkspaceNotifications-module_exportSuccessIcon_MQa-m",cEt="WorkspaceNotifications-module_exportFailureIcon_9g5Si",uEt="WorkspaceNotifications-module_notifMessageContainer_Kd5AT",pEt="WorkspaceNotifications-module_exportMessage_BvkTO",mEt="WorkspaceNotifications-module_notifName_AQaKr",gEt="WorkspaceNotifications-module_notifLink_mQ4O-",hEt="WorkspaceNotifications-module_notifTimeStamp_OETES",vEt="WorkspaceNotifications-module_emptyNotifContainer_PqjhB",fEt="WorkspaceNotifications-module_emptyIconContainer_lqJlw",bEt="WorkspaceNotifications-module_emptyNotifIcon_uf6TZ",yEt="WorkspaceNotifications-module_emptyNotifMessage_PU4tN",wEt=b.memo((({openAccountSettings:e})=>{const t=P(),a=Bu(),n=Bg(),{redirectSource:s}=QKe(),o=Du((e=>e.notifications.notifications)),[r,l]=i.useState(!1),d=i.useRef([]),c=i.useRef(null),u=i.useRef(null),[p,m]=i.useState(!1);zne((function(){(async()=>{if(s===$Ke.NEW_USER_INVITE_ACCEPTED||s===$Ke.EMAIL_INVITE){m(!0);const t=null==o?void 0:o.filter((e=>e.info.type!==Ac.Welcome)).map((e=>e._id));if(null==t?void 0:t.length)try{await zf("api/v1/notifsRead",{body:{notifIds:JSON.stringify(t)}})&&t.forEach((e=>d.current.push(e.toString())))}catch(e){console.error(e)}g(),m(!1)}})()})),i.useEffect((function(){const e=e=>{var t,a;(null==(t=c.current)?void 0:t.contains(e.target))||(null==(a=u.current)?void 0:a.contains(e.target))||l(!1)};return r?(document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}):()=>{}}),[r]);const g=i.useCallback((()=>{d.current.length&&(a(fte(d.current)),d.current=[])}),[a]);i.useEffect((()=>{(async()=>{var e;if(r){const a=null==(e=null==o?void 0:o.filter((e=>e.state!==kc.read)))?void 0:e.map((e=>e._id));if(null==a?void 0:a.length)try{await zf("api/v1/notifsRead",{body:{notifIds:JSON.stringify(a)}})&&a.forEach((e=>d.current.push(e.toString())))}catch(t){console.error(t)}}else g()})()}),[a,o,r,g]);const h=(null==o?void 0:o.filter((e=>e.state!==kc.read)).length)||0,v=e=>{let t,a;const n=e.createdAt?`${hP(new Date(e.createdAt),"moments")} ago`:null;if(e.info.type===Ac.Export)e.info.success?(a=f.jsxs("span",{className:pEt,children:["Your export"," ",f.jsx("span",{className:gEt,children:e.info.projectName})," ","is finished"]}),t=f.jsx("div",{className:dEt,children:f.jsx("span",{children:""})})):(a=f.jsxs("span",{className:pEt,children:["Your project"," ",f.jsx("span",{className:gEt,children:e.info.projectName})," ","failed to export"]}),t=f.jsx("div",{className:cEt,children:f.jsx("span",{children:""})}));else if(e.info.type===Ac.Comment){const{commenterName:n,projectName:s,commenterIcon:o,commentReply:i}=e.info;a=f.jsxs(f.Fragment,{children:[f.jsx("span",{className:mEt,children:n})," ",f.jsx("br",{}),f.jsx("span",{children:i?"replied to your comment on ":"commented on "}),f.jsx("span",{className:gEt,children:s})]}),t=f.jsx(xve,{user:{name:n,picture:o,pending:!1},className:lEt})}else if(e.info.type===Ac.Invite){const{inviterName:n,inviterIcon:s,inviteType:o,sharedName:i}=e.info;a=f.jsxs(f.Fragment,{children:[f.jsx("span",{className:mEt,children:n}),f.jsx("br",{}),"invited you to ",o," ",f.jsx("span",{className:gEt,children:i})]}),t=f.jsx(xve,{user:{name:n,picture:s,pending:!1},className:lEt})}else if(e.info.type===Ac.Request){const{requestType:n,requesterName:s,requesterIcon:o,sharedName:i}=e.info;a=f.jsxs(f.Fragment,{children:[f.jsx("span",{className:mEt,children:s}),f.jsx("br",{}),"requested to join your ",n," ",f.jsx("span",{className:gEt,children:i})]}),t=f.jsx(xve,{user:{name:s||"",picture:o,pending:!1},className:lEt})}else if(e.info.type===Ac.Joined){const{info:{email:n,joinedFullName:s,teamName:o,picture:i}}=e;a=f.jsxs(f.Fragment,{children:[" ",f.jsxs("span",{className:mEt,children:[s," (",n,")"]}),f.jsx("br",{})," joined ",f.jsx("span",{className:gEt,children:o})," "]}),t=f.jsx(xve,{user:{name:s||"",picture:i,pending:!1},className:lEt})}else if(e.info.type===Ac.Welcome){const{info:{teamName:t}}=e;a=f.jsxs(f.Fragment,{children:[" ",f.jsx("span",{className:mEt,children:"Welcome to your new team:"}),f.jsx("span",{className:gEt,children:t})," "]})}return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:oEt,children:[f.jsxs("div",{className:iEt,children:[e.state!==kc.read&&f.jsx("div",{className:rEt}),t]}),f.jsx("div",{className:uEt,children:a})]}),f.jsx("div",{className:hEt,children:f.jsx("span",{children:n})})]})};return f.jsxs(f.Fragment,{children:[f.jsx(Hw,{message:"Notifications related to your exports and workspace invites will appear here.",children:f.jsxs("div",{className:JTt,ref:u,onClick:()=>{r||ov("Notifications Opened",{unreadNotifs:h,readNotifs:o?o.length-h:0}),l(!r)},"data-testid":"ws-header-notifs-icon",children:[f.jsx(Jo,{className:qTt}),!!h&&!p&&f.jsx("div",{className:$Tt,children:h})]})}),r&&f.jsxs("div",{className:`${QTt} ${n?eEt:""}`,ref:c,children:[f.jsxs("div",{className:tEt,children:[f.jsx("div",{children:"Notifications"}),f.jsx("div",{children:f.jsx($o,{className:aEt,size:20,onClick:e})})]}),(null==o?void 0:o.length)?f.jsx("div",{className:nEt,children:null==o?void 0:o.map((e=>f.jsx("div",{className:sEt,onClick:()=>{g();const n={notificationType:e.info.type};if(e.info.type===Ac.Invite&&(n.inviteType=e.info.inviteType),ov("Notification Clicked",n),e.info.type===Ac.Invite&&e.info.inviteType===Tc.project){const t=`${window.location.protocol}//${Xqe()}${e.info.link} `;window.location.href=t}else e.info.type===Ac.Request?(a(fb(e.info.teamId)),t(`/team/${e.info.teamId}/members`)):e.info.type===Ac.Welcome?FSe(e.info.teamId):e.info.type===Ac.Joined?(a(fb(e.info.teamId)),t(e.info.teamSettingsPath)):t(e.info.link)},children:v(e)},e._id.toString())))}):f.jsxs("div",{className:vEt,children:[f.jsx("div",{className:fEt,children:f.jsx("img",{src:"https://cdn-useast1.kapwing.com/static/s5N-empty-notifs.svg",alt:"empty inbox icon",className:bEt})}),f.jsx("div",{className:yEt,children:"No notifications yet!"})]})]})]})})),_Et="Facepile-module_members_P1qJ1",CEt="Facepile-module_facePile_TBJD2",SEt="Facepile-module_membersInfo_5HVnq",xEt="Facepile-module_face_hYxvx",IEt="Facepile-module_membersIcon_-rhYR",AEt=(e,t)=>e.picture&&t.picture?new Date(String(t.createdAt))<new Date(String(e.createdAt))?1:new Date(String(e.createdAt))<new Date(String(t.createdAt))?-1:(e.firstName??"").localeCompare(t.firstName??""):!e.picture&&t.picture?-1:e.picture&&!t.picture||new Date(String(t.createdAt))<new Date(String(e.createdAt))?1:new Date(String(e.createdAt))<new Date(String(t.createdAt))?-1:(e.firstName??"").localeCompare(t.firstName??""),kEt=b.memo((({users:e,url:t})=>{const a=((e,t=5)=>{if(e&&e.length>t){const a=e.filter((e=>e.picture));return a.length>t?a.sort(AEt).slice(0,5):e.sort(AEt).slice(0,5)}return e?e.sort(AEt):[]})(e);let n=0;return e&&e.length&&(n=e.length),n<2?f.jsx(Hw,{message:"See and manage workspace members",children:f.jsx(mn,{to:t,"data-cy":"facepile-container",className:IEt,children:f.jsx(Qo,{})})}):f.jsx("div",{className:_Et,children:f.jsx(mn,{to:t,children:f.jsxs("div",{className:SEt,children:[f.jsx("div",{className:CEt,"data-testid":"facepile-container","data-cy":"facepile-container",children:null==a?void 0:a.map((e=>f.jsx(xve,{user:e,className:xEt},e._id)))}),n>5&&f.jsxs("div",{"data-testid":"facepile-additional",children:["+",n-5]})]})})})})),TEt="InviteMembersButton-module_button_MKTGD",EEt="InviteMembersButton-module_icon_hx49g",LEt=b.memo((()=>{const[e,t]=i.useState(!1),a=cg(),n=u_(Lc.Create),s=i.useCallback((()=>{t(!1)}),[]),o=i.useCallback((()=>{t(!0)}),[]);return f.jsxs(f.Fragment,{children:[f.jsx(Hw,{message:"Invite new members to your workspace",children:!a.isEdu&&n&&f.jsx("button",{className:TEt,onClick:o,"data-testid":"ws-header-invite-members-button","data-cy":"ws-header-invite-members-button",children:f.jsx(ei,{className:EEt})})}),f.jsx(Qfe,{children:e&&f.jsx(Fwt,{onClose:s,entryPoint:hyt.WORKSPACE_HEADER})})]})})),jEt="SearchButton-module_button_JnHwR",REt="SearchButton-module_icon_lp2oG",NEt=b.memo((()=>{const e=P();return f.jsx(Hw,{message:"Search for projects in this workspace",children:f.jsx("button",{className:jEt,onClick:()=>{e("/search")},"data-cy":"workspace-search-icon-button",children:f.jsx(tn,{className:REt})})})})),MEt="SettingsButton-module_button_DWYp-",PEt="SettingsButton-module_icon_REUp1",FEt=b.memo((()=>{const{selectedTeamId:e}=Du((e=>({selectedTeamId:e.teams.selectedTeamId})),Ou),t=P();return f.jsx(Hw,{message:"Access workspace settings",children:f.jsx("button",{className:MEt,onClick:()=>{t(`/team/${e}/settings`)},children:f.jsx(ti,{className:PEt})})})})),DEt="FolderToolbar-module_iconActions_Jq1pD";function OEt(){const{selectedTeamId:e}=Du((e=>({selectedTeamId:e.teams.selectedTeamId})),Ou),t=lg(),[a,n]=i.useState(!1),s=cg(),o=i.useCallback((()=>{n(!0)}),[]),r=i.useCallback((()=>{n(!1),window.history.replaceState({},document.title)}),[]);return f.jsxs("div",{className:DEt,children:[s.showUpgrades&&f.jsx($Ce,{}),f.jsx(NEt,{}),f.jsx(wEt,{openAccountSettings:o}),f.jsx(FEt,{}),f.jsx(LEt,{}),f.jsx(kEt,{users:t.users,url:`/team/${e}/members`}),f.jsx(Rhe,{}),a&&f.jsx(Jpt,{closeAccountSettings:r})]})}function UEt({toggleSidebar:e}){const t=Bg();return f.jsxs("div",{className:XTt,children:[t?f.jsx("button",{onClick:e,"aria-label":"Open sidebar",className:ZTt,"data-cy":"mobile-nav-menu-toggle",children:f.jsx(ai,{})}):f.jsx(RTt,{}),f.jsx(OEt,{})]})}const BEt="RecentSearches-module_title_od-5T",WEt="RecentSearches-module_icon_O6z5h",VEt="RecentSearches-module_recentSearches_kk9m3",HEt="RecentSearches-module_recentSearchesHeader_snRm4",zEt="RecentSearches-module_result_B0lAL",GEt="RecentSearches-module_empty_FdqqL",YEt=b.memo((({handleSearch:e})=>{const t=lg(),{data:a,isLoading:n}=Eye(`/api/v2/search/${t._id}/recent`);return a&&a.length?f.jsx("div",{className:VEt,children:f.jsxs("div",{className:HEt,children:[f.jsx("div",{className:BEt,children:"Recent Searches"}),a.map(((t,a)=>f.jsxs("div",{className:zEt,onClick:()=>(t=>{e(t.query)})(t),"data-cy":"recent-search",children:[f.jsx(Va,{fontSize:12,className:WEt}),t.query]},a)))]})}):n?null:f.jsx("div",{className:GEt,children:"Get started with searching your workspace by using the bar above. Type a query to find videos, projects, folders, and more."})})),KEt={workspacePopoverZIndex:"18",popoverZIndex:"14",paywallZIndex:"1001",paywallBgZIndex:"1000",home:"SearchPage-module_home_3B30Q",homeHowBackgroundWhite:"SearchPage-module_homeHowBackgroundWhite_88pXx",largeButton:"SearchPage-module_largeButton_LLGFq",sectionContent:"SearchPage-module_sectionContent_Wj1Z-",sectionHeader:"SearchPage-module_sectionHeader_QTs-H",spacer:"SearchPage-module_spacer_oQAj4",chevron:"SearchPage-module_chevron_-eyVO",splashText:"SearchPage-module_splashText_QHr9-",splashSubtext:"SearchPage-module_splashSubtext_v7h2n",aboutSection:"SearchPage-module_aboutSection_JAD43",mobile:"SearchPage-module_mobile_uGQOn",desktop:"SearchPage-module_desktop_nROSb",screenReaderOnlyLabel:"SearchPage-module_screenReaderOnlyLabel_fetE3",disabled:"SearchPage-module_disabled_CnvFP",disabledWithPointerEvents:"SearchPage-module_disabledWithPointerEvents_hgrRO",noScrollBar:"SearchPage-module_noScrollBar_liv24",textOverflowEllipsis:"SearchPage-module_textOverflowEllipsis_fjER1",disableTextHighlight:"SearchPage-module_disableTextHighlight_un7Q5",genericButtonBlue:"SearchPage-module_genericButtonBlue_4gdT7",searchPageWrapper:"SearchPage-module_searchPageWrapper_zw4eF",innerWrapper:"SearchPage-module_innerWrapper_jrkz-",query:"SearchPage-module_query_7PjUo",numResults:"SearchPage-module_numResults_ejxvR",sort:"SearchPage-module_sort_oldun",projectsWrapper:"SearchPage-module_projectsWrapper_GDpvh",collapsed:"SearchPage-module_collapsed_-2sm7",top:"SearchPage-module_top_LkhJu",loadingWrapper:"SearchPage-module_loadingWrapper_taJsC",queryWrapper:"SearchPage-module_queryWrapper_Y8vS9",closeButton:"SearchPage-module_closeButton_m7G0o",emptyProject:"SearchPage-module_emptyProject_NtJOI",bgcolor:"SearchPage-module_bgcolor_3CcD2",bgcolorDark:"SearchPage-module_bgcolorDark_h3for",loader:"SearchPage-module_loader_n8Tq4",spin:"SearchPage-module_spin_bj48-",header:"SearchPage-module_header_W2WK6",searchFieldWrapper:"SearchPage-module_searchFieldWrapper_8g-2-",searchIcon:"SearchPage-module_searchIcon_sWtzS",inputEl:"SearchPage-module_inputEl_QM6Dn",searchControls:"SearchPage-module_searchControls_s0nJh",clearSearch:"SearchPage-module_clearSearch_MzNin",noResults:"SearchPage-module_noResults_pqoiL",toolsChevron:"SearchPage-module_toolsChevron_ymDGT",toolLink:"SearchPage-module_toolLink_4Q-VY",tools:"SearchPage-module_tools_sWSKO",collapsibleSection:"SearchPage-module_collapsibleSection_VSTE2",collapseIcon:"SearchPage-module_collapseIcon_l4doh"},XEt=b.memo((({searchResult:e,onDelete:t,logAmplitude:a})=>{const n=jfe(),s=P(),o=gg(Fd.BRANDKIT)?void 0:Dd.BRANDKIT,r=i.useMemo((()=>({elementType:e.searchType,header:e.data.name||"Untitled Template",thumbnailUrl:e.data.thumbnailUrl,onClick:async()=>{if(!(null==n?void 0:n._id))return;const t={workspaceId:n._id,fromBrandkitTemplate:!0},o=(await Kf(`/api/v1/workspaces/${n._id}/getUsers`)).keys.length>1;a4({workspaceId:n._id,source:"Brand Template",workspaceHasCollaborators:o});const i=await Xf(`/api/v1/projects/${e.data._id}/copy`,{body:t});i&&i._id&&s(`/${i._id}/studio/editor`),a&&a()},subheader:[{label:e.data.lastEditorName||"Anonymous User"},{label:"Brandkit Template",linkAddress:"/brandkit"}]})),[e.searchType,e.data.name,e.data.thumbnailUrl,e.data.lastEditorName,e.data._id,null==n?void 0:n._id,s,a]),l=i.useMemo((()=>[{icon:f.jsx(ni,{}),label:"Open Brandkit",onClick:()=>{s("/brandkit/")},type:Xft.Generic},...t?[{icon:f.jsx(Ts,{}),label:"Delete",onClick:()=>{t(e.data._id)},type:Xft.Generic}]:[]]),[t,e.data._id,s]);return f.jsx(Lbt,{workspaceElement:r,dropdown:l,paywallModalAction:o})})),ZEt="FolderSearchResultElement-module_resultContainer_JeWgw",qEt="FolderSearchResultElement-module_icon_-ofrY",JEt=b.memo((({searchResult:e,logAmplitude:t})=>{const a=e.data.name||"New Folder";return f.jsxs(mn,{className:ZEt,to:`/folder/${e.data._id}`,onClick:t,children:[f.jsx(Lt,{fontSize:18,className:qEt}),a]})})),$Et=b.memo((({searchResult:e,onDelete:t,logAmplitude:a})=>{const n=gg(Fd.UNLIMITED_STORAGE),[s,o]=i.useState(e.data.name||ql),r=i.useMemo((()=>{const t=[];return e.data.lastSaved?t.push({label:bP(e.data.lastSaved)}):e.data.lastEditorName&&t.push({label:e.data.lastEditorName}),t.push({label:e.data.folderName,linkAddress:`/folder/${e.data.folderId}`}),{elementType:e.searchType,header:s,linkAddress:`/${e.data.videoId}/studio/editor`,thumbnailUrl:e.data.thumbnailUrl||gd,subheader:t}}),[e.data.lastSaved,e.data.lastEditorName,e.data.folderName,e.data.folderId,e.data.videoId,e.data.thumbnailUrl,e.searchType,s]),l=i.useMemo((()=>[{icon:f.jsx(Ts,{}),label:"Delete",onClick:()=>{Jbe({projectIds:[e.data._id],workflowIds:[],onSubmit:()=>{t&&t(e.data._id)}})},type:Xft.Generic}]),[t,e.data._id]),d=i.useCallback((async t=>{o(t),await e7(e.data._id,t)}),[e.data._id]),c=!n&&e.data.locked?Dd.STORAGE_LIMIT:void 0;return f.jsx(Lbt,{workspaceElement:r,onClick:a,dropdown:l,paywallModalAction:c,onRename:d})})),QEt=b.memo((({searchResult:e,onDelete:t,logAmplitude:a})=>{const[n,s]=i.useState(e.data.name),o=e.data.status===vu.PENDING||e.data.status===vu.RUNNING,r=i.useMemo((()=>({elementType:e.searchType,header:n,linkAddress:`/repurpose/${e.data._id}`,thumbnailUrl:e.data.thumbnailUrl||gd,workflowId:e.data._id,subheader:[{label:o?"Processing...":"Repurpose"},{label:e.data.folderName,linkAddress:`/folder/${e.data.folderId}`}]})),[e.searchType,e.data._id,e.data.thumbnailUrl,e.data.folderName,e.data.folderId,n,o]),l=i.useMemo((()=>[{icon:f.jsx(Ts,{}),label:"Delete",onClick:async()=>{try{await(async e=>{const{dispatch:t}=Mu(),a=await Yf(`/api/v2/workflows/${e}`);return t(uH.removeWorkflow(e)),a})(e.data._id),t&&t(e.data._id)}catch(b9e){}},type:Xft.Generic}]),[t,e.data._id]),d=i.useCallback((async t=>{s(t),await e7(e.data._id,t)}),[e.data._id]);return f.jsx(Lbt,{workspaceElement:r,dropdown:l,onRename:d,onClick:a})})),eLt=b.memo((({searchResult:e,onDelete:t,query:a})=>{const n=i.useCallback((()=>{ov("Workspace Search Click",{query:a,resultType:e.searchType})}),[a,e.searchType]);switch(e.searchType){case gu.WORKFLOW:return f.jsx(QEt,{searchResult:e,logAmplitude:n,onDelete:t});case gu.FOLDER:return f.jsx(JEt,{searchResult:e,logAmplitude:n,onDelete:t});case gu.BRANDKIT_TEMPLATE:return f.jsx(XEt,{searchResult:e,logAmplitude:n,onDelete:t});case gu.VIDEO:return f.jsx($Et,{searchResult:e,logAmplitude:n,onDelete:t});default:throw new Error("Unknown search type")}}));const tLt=b.memo((()=>{const e=F(),t=new URLSearchParams(e.search).get("q"),[a,n]=i.useState(t||""),s=lg(),[o,r]=i.useState(!1),[l,d]=i.useState([]),[c,u]=i.useState([]),[p,m]=i.useState([]),[g,h]=i.useState(0),v=i.useRef(null),b=MCt(a,500),y=i.useCallback((async e=>{const t=new AbortController;if(e&&e.length)try{r(!0),m([...Object.keys(tq).filter((t=>{const a=t,n=SZ(tq[a].rules);return!!n&&_Z(e,n,a)}))].slice(0,10));const a=await Gf(`/api/v2/search/${s._id}/results`,{params:{query:e},signal:t.signal});ov("Workspace Search",{query:e}),r(!1),d(a.objects.filter((e=>e.searchType!==gu.FOLDER))),u(a.objects.filter((e=>e.searchType===gu.FOLDER))),h(a.totalCount),window.history.pushState("","",`/search/${s._id}?q=${e}`)}catch(a){if(r(!1),"AbortError"===a.name)return;console.error(a)}}),[s._id]),w=async e=>{n(e),r(!0)};i.useEffect((()=>{y(b)}),[b,y]),i.useEffect((()=>{v.current&&v.current.focus()}),[]);const _=i.useCallback((e=>{d(l.filter((t=>t.data._id!==e))),h(g-1)}),[l,g]),C=i.useCallback((()=>{d([]),m([]),n(""),r(!1),window.history.pushState("","","/search")}),[]);i.useEffect((()=>{a||C()}),[a,C]);const S=i.useCallback((()=>{v.current&&v.current.focus()}),[v]),[x,I]=i.useState(!1),[A,k]=i.useState(!1),[T,E]=i.useState(!1);return f.jsxs("div",{className:KEt.searchPageWrapper,"data-cy":"search-page",children:[f.jsx("div",{className:KEt.header,children:f.jsxs("div",{className:KEt.searchFieldWrapper,onClick:S,children:[f.jsx(Va,{className:KEt.searchIcon}),f.jsx("input",{ref:v,className:KEt.inputEl,type:"text",placeholder:"Search",value:a,"data-cy":"workspace-search-input",onChange:e=>{e.target.value&&r(!0),n(e.target.value)}}),f.jsxs("div",{className:KEt.searchControls,children:[!!a.length&&(o?f.jsx("div",{children:f.jsx(iye,{})}):f.jsx("div",{"data-cy":"workspace-search-clear",className:KEt.clearSearch,onClick:()=>{n(""),d([])},children:"Clear"})),f.jsx(si,{"data-cy":"workspace-search-x",className:KEt.clearSearch,onClick:cR,fontSize:18})]})]})}),a.length||l.length||o?null:f.jsx(YEt,{handleSearch:w}),f.jsxs("div",{className:KEt.innerWrapper,children:[!!a.length&&f.jsx("div",{className:KEt.queryWrapper,children:f.jsxs("div",{className:KEt.query,children:['Search results for "',a,'"']})}),o&&f.jsxs("div",{className:KEt.numResults,children:[f.jsx("span",{children:"Loading..."})," ",f.jsx("div",{className:KEt.loader})]}),o?f.jsxs("div",{className:KEt.projectsWrapper,children:[f.jsx("div",{className:KEt.emptyProject,children:f.jsx(Vle,{height:177.5,borderRadius:5,theme:h_.Workspace})}),f.jsx("div",{className:KEt.emptyProject,children:f.jsx(Vle,{height:177.5,borderRadius:5,theme:h_.Workspace})}),f.jsx("div",{className:KEt.emptyProject,children:f.jsx(Vle,{height:177.5,borderRadius:5,theme:h_.Workspace})})]}):f.jsxs(f.Fragment,{children:[0===p.length?null:f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:KEt.collapsibleSection,onClick:()=>{E((e=>!e))},children:[T?f.jsx(s4e,{className:KEt.collapseIcon}):f.jsx(n4e,{className:KEt.collapseIcon}),"Related Tools"]}),f.jsx("div",{className:[KEt.tools,T?KEt.collapsed:""].join(" "),children:p.map((e=>{const t=function(e){var t;return(null==(t=SZ(tq[e].rules))?void 0:t.header)||""}(e);return f.jsxs("div",{className:KEt.toolLink,"data-cy":"tool-entry",onClick:()=>{const{dispatch:t}=Mu();Ev.set("LANDING_PAGE_TOOLTIP",e),t({type:"RESET_STUDIO"}),ov("Workspace Search Click",{query:a,resultType:gu.TOOL,"Tooltip Entered":e}),m7({entry:p7.WORKSPACE_SEARCH}),dR()},children:[t,f.jsx(oi,{className:KEt.toolsChevron,fontSize:18})]},e)}))})]}),o?null:c.length?f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:KEt.collapsibleSection,onClick:()=>{I((e=>!e))},children:[x?f.jsx(s4e,{className:KEt.collapseIcon}):f.jsx(n4e,{className:KEt.collapseIcon}),"Folders"]}),f.jsx("div",{className:[KEt.tools,x?KEt.collapsed:""].join(" "),"data-cy":"folders-search-results",children:c.map((e=>f.jsx("span",{"data-cy":"search-result",children:f.jsx(eLt,{query:a,searchResult:e,onDelete:_})},e.data._id)))})]}):null,l.length?f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:KEt.collapsibleSection,onClick:()=>{k((e=>!e))},children:[A?f.jsx(s4e,{className:KEt.collapseIcon}):f.jsx(n4e,{className:KEt.collapseIcon}),"Projects and Templates"]}),f.jsx("div",{className:[KEt.projectsWrapper,A?KEt.collapsed:""].join(" "),"data-cy":"search-results",children:l.map((e=>f.jsx("span",{"data-cy":"search-result",children:f.jsx(eLt,{query:a,searchResult:e,onDelete:_})},e.data._id)))})]}):null,!l.length&&!c.length&&(a.length?o?null:f.jsxs("div",{className:KEt.noResults,"data-cy":"no-search-results-container",children:['No projects found for "',a,'". Try searching for something else.']}):null)]})]})]})}));const aLt="Folder-module_mainContent_ahyHR",nLt="Folder-module_mainContainer_qmWKx",sLt="Folder-module_boxSelectContainer_P4O7N",oLt="UpsellTooltip-module_upsellTooltipContainer_mrR83",iLt="UpsellTooltip-module_warning_iFqS6",rLt="UpsellTooltip-module_iconWrapper_3LiQX",lLt="UpsellTooltip-module_button_hTswB",dLt=()=>{},cLt=b.memo((({action:e,onPaywallSuccess:t=dLt,body:a=null,buttonText:n="Upgrade"})=>f.jsxs("div",{className:oLt,children:[f.jsxs("div",{className:iLt,children:[f.jsx("div",{className:rLt,children:f.jsx(Jt,{})}),f.jsx("span",{children:a})]}),f.jsx(qIe,{className:lLt,action:e,onPaywallSuccess:t,buttonText:n,hasIcon:!0})]}))),uLt=b.memo((({project:e,onRename:t,onDelete:a})=>{const n=Bu(),s=P(),o=Du((e=>e.workspaces.selectedWorkspace===rd)),r=Du((e=>e.currentUser)),{user:l}=r,{code:d}=(e=>{const t=Du((t=>t.projects.byId[e])),[a,n]=i.useState(null==t?void 0:t.content.code),s=null==t?void 0:t.content._id;return i.useEffect((()=>{a||(async()=>{if(!s)return;const e=await Zf(`/api/v2/videos/${s}/share`);n(e.code)})()}),[s,a]),{code:a}})(e._id),c=e.content,u=gg(Fd.BRANDKIT),p=gg(Fd.CHANGE_PRIVACY),m=rse(),g=IA(),h=DZe(),v=OZe();i.useEffect((()=>{SA()}),[]);const b=i.useCallback((async()=>{if(!d)return;let e="";const t=c.draft?"w":"c";c.draft&&Sv(l,c._id,c.creatorEmail,"Workspace","Copy Link");try{if(!d)throw new Error("No share code");e=Zqe(d,t)}catch(a){cb({description:"Failed to copy link",error:a})}try{await jSe(e),n(db({description:"Link to project added to clipboard.",type:"success"}))}catch(a){cb({description:"Failed to copy link",error:a})}}),[d,n,l,c._id,c.creatorEmail,c.draft]),y=i.useCallback((async()=>{if(u)try{ov("Make a brand template from the project's workspace dropdown"),await Vbe(s2.PROJECT_DROPDOWN,e._id)}catch(t){console.error(t)}else m((()=>null),{action:Dd.BRANDKIT})()}),[u,m,e._id]),w=i.useCallback((()=>{const e=rS(c,"fullPath");if(!e)return void pb({description:"There was an error with your download",sentryMessage:"ProjectDownload: url not found for project"});const t=new URL(e);F7e({url:t.href})}),[c]),_=i.useCallback((async()=>{p?await(async e=>{const{dispatch:t}=Mu(),a=e.content;try{const e=a.privacy===ad.private?ad.unlisted:ad.private,n=await X1(a._id,e);t(Ate({projectId:a.projectId,updateDict:{privacy:n.privacy}}))}catch(n){cb({description:"Failed to change privacy",error:n})}})(e):m((()=>null),{action:Dd.PRIVACY})()}),[p,m,e]),C=i.useCallback((async()=>{const{destinationFolder:t}=await h({projectIds:[e._id],workflowIds:[],entryPoint:o2.WORKSPACE_BULK_MOVE});zbe(t)}),[h,e._id]),S=i.useCallback((async()=>{try{const{copiedProject:t,destinationFolder:a}=await v(e._id,{duplicate:!o,entryPoint:s2.PROJECT_DROPDOWN});if(a&&t){let e="Project copied successfully!";t.content&&t.content.name&&(e=`Project copied! Created: ${t.content.name}`),n(db({description:e,type:"success"})),s(`/folder/${a._id}`),Gbe({workspaceId:a._id,teamId:a.teamId})}else n(db({description:"Error copying project to folder. Please try again.",type:"error"}))}catch(t){}}),[v,n,s,e._id,o]),x=i.useCallback((()=>{s(`/${c._id}/studio/editor`)}),[s,c._id]),I=i.useCallback((()=>{Jbe({projectIds:[e._id],workflowIds:[],onSubmit:()=>{a&&a()}})}),[e._id,a]),A=i.useCallback((()=>{e.content._id&&(({projectId:e,videoId:t})=>{wA({modalType:fA.SWM_REMOVE_PROJECT,projectId:e,videoId:t})})({projectId:e._id,videoId:e.content._id})}),[e._id,e.content._id]),k=!c.draft&&c.done&&!o,T=g&&!o,E=c.privacy===ad.private,j=i.useMemo((()=>{const e=[];return k&&e.push({label:"Download latest export",icon:f.jsx(ii,{}),onClick:w,type:Xft.Generic}),t&&e.push({label:"Rename",icon:f.jsx(go,{}),onClick:t,type:Xft.Generic}),e.push({label:"Edit",icon:f.jsx(eo,{}),onClick:x,type:Xft.Generic}),e.push({label:o?"Make a copy":"Duplicate",icon:f.jsx(vs,{}),onClick:S,type:Xft.Generic}),T&&e.push({label:"Move to",icon:f.jsx(ho,{}),onClick:C,type:Xft.Generic}),o||(e.push({label:"Make "+(E?"unlisted":"private"),icon:E?f.jsx(Vs,{}):f.jsx(Ws,{}),onClick:_,type:Xft.Generic}),e.push({label:"Delete",icon:f.jsx(Ts,{}),onClick:I,type:Xft.Generic})),e.push({label:"Copy Link",icon:f.jsx(ri,{}),onClick:b,type:Xft.Generic}),o||e.push({label:"Save as Brand Template",icon:f.jsx(li,{}),onClick:y,type:Xft.Generic}),o&&e.push({label:"Remove",icon:f.jsx(R,{}),onClick:A,type:Xft.Generic}),e}),[w,t,x,S,T,C,o,E,_,I,b,y,A,k]);return f.jsx(Jft,{items:j,children:f.jsx("div",{className:L(Abt,kbt),onClick:e=>{e.preventDefault(),e.stopPropagation()},children:f.jsx(mo,{size:22})})})})),pLt={workspacePopoverZIndex:"18",popoverZIndex:"14",paywallZIndex:"1001",paywallBgZIndex:"1000",home:"ProjectElement-module_home_gGbzU",homeHowBackgroundWhite:"ProjectElement-module_homeHowBackgroundWhite_gL2xH",largeButton:"ProjectElement-module_largeButton_NvQio",sectionContent:"ProjectElement-module_sectionContent_HjIyz",sectionHeader:"ProjectElement-module_sectionHeader_ph-Y6",spacer:"ProjectElement-module_spacer_NK6jz",chevron:"ProjectElement-module_chevron_Ty6iW",splashText:"ProjectElement-module_splashText_Zo7-z",splashSubtext:"ProjectElement-module_splashSubtext_E4Int",aboutSection:"ProjectElement-module_aboutSection_Yherb",mobile:"ProjectElement-module_mobile_V-XlC",desktop:"ProjectElement-module_desktop_8UC8V",screenReaderOnlyLabel:"ProjectElement-module_screenReaderOnlyLabel_MnVwP",disabled:"ProjectElement-module_disabled_rIBnG",disabledWithPointerEvents:"ProjectElement-module_disabledWithPointerEvents_btLMD",noScrollBar:"ProjectElement-module_noScrollBar_oN8Fp",textOverflowEllipsis:"ProjectElement-module_textOverflowEllipsis_aCnLA",disableTextHighlight:"ProjectElement-module_disableTextHighlight_zLWKo",genericButtonBlue:"ProjectElement-module_genericButtonBlue_y1NkK",elementTopRow:"ProjectElement-module_elementTopRow_m8-X1",elementBottomRow:"ProjectElement-module_elementBottomRow_LaXtX",semibold:"ProjectElement-module_semibold_Kkmfi",timestamp:"ProjectElement-module_timestamp_PjZCk",dummyProjectElement:"ProjectElement-module_dummyProjectElement_fayq9",gridView:"ProjectElement-module_gridView_6czfS",projectWrapper:"ProjectElement-module_projectWrapper_jwVd2",projectSelected:"ProjectElement-module_projectSelected_vLyFT",projectContainer:"ProjectElement-module_projectContainer_QfRWd",projectPlaceholder:"ProjectElement-module_projectPlaceholder_-PkFd",lockedProject:"ProjectElement-module_lockedProject_V7pgM",thumbnailWrapper:"ProjectElement-module_thumbnailWrapper_-S4Us",projectThumbnail:"ProjectElement-module_projectThumbnail_pKCGZ",selectProjectButton:"ProjectElement-module_selectProjectButton_Ypglx",selectProjectButtonFixed:"ProjectElement-module_selectProjectButtonFixed_uXEof",projectIsSelectable:"ProjectElement-module_projectIsSelectable_83urh",type:"ProjectElement-module_type_auYQL",draft:"ProjectElement-module_draft_URbpH",more:"ProjectElement-module_more_8Jsp5",checked:"ProjectElement-module_checked_8HnDu",projectName:"ProjectElement-module_projectName_1fIt2",projectNameTooltipContainer:"ProjectElement-module_projectNameTooltipContainer_B4gV6",projectNameTooltip:"ProjectElement-module_projectNameTooltip_wW68o",dateInfo:"ProjectElement-module_dateInfo_Tyh7w",authorInfo:"ProjectElement-module_authorInfo_sGHOi",contentInfo:"ProjectElement-module_contentInfo_6E-np",contentContainer:"ProjectElement-module_contentContainer_zPm9f",lockIcon:"ProjectElement-module_lockIcon_GVfXH",pendingDeletion:"ProjectElement-module_pendingDeletion_0BO9x",accessIconBackground:"ProjectElement-module_accessIconBackground_7yHNC",accessIcon:"ProjectElement-module_accessIcon_NNMWF",inputNameWrapper:"ProjectElement-module_inputNameWrapper_FIwxi",locked:"ProjectElement-module_locked_a0LZy",typeInput:"ProjectElement-module_typeInput_poN63",draftInput:"ProjectElement-module_draftInput_auSf6",uploading:"ProjectElement-module_uploading_WtMhg",cancelUpload:"ProjectElement-module_cancelUpload_GA6Ax",cancelUploadText:"ProjectElement-module_cancelUploadText_nPWNz"},mLt="ProjectElementAdminData-module_header_u3Dcb",gLt="ProjectElementAdminData-module_stat_NsXw9",hLt="ProjectElementAdminData-module_container_TJWDN",vLt=r.connect((e=>({currentUser:e.currentUser,currentFolderId:e.workspaces.selectedWorkspace})))((({video:e,currentUser:t,locked:a})=>{if(!Mb(t))return null;return f.jsxs("div",{className:hLt,children:[f.jsx("div",{className:mLt,children:"Admin Data"}),f.jsxs("div",{className:gLt,children:["Locked: ",f.jsx("span",{children:a?"YES":"NO"})]}),f.jsxs("div",{className:gLt,children:["Created: ",e.createdAt]}),f.jsxs("div",{className:gLt,children:["Last Viewed: ",e.lastSeen]}),(()=>{var t;if(!e.isStudio)return null;const a=(null==(t=e.allLayers)?void 0:t.byId)?Object.values(e.allLayers.byId).length:"unknown";return f.jsxs("div",{className:gLt,children:["# of Layers: ",a]})})(),f.jsxs("div",{className:gLt,children:["Publish Count: ",e.publishCount]}),f.jsx(mn,{className:gLt,to:`/videos/${e._id}/debug`,children:"Debug"})]})})),fLt=f.jsxs("span",{children:["Your access to Pro is ending. Once on the Free plan, projects can only be stored in your workspace for ",3," days from their creation date.",f.jsx("br",{}),f.jsx("br",{}),"Reactivate your Pro plan to continue saving all projects with unlimited workspace storage."]}),bLt=f.jsxs("span",{className:pLt.semibold,children:["This project will be deleted soon. Since youre on the Free plan, projects are stored in your workspace for only ",3," days from their creation date.",f.jsx("br",{}),f.jsx("br",{}),"Upgrade to save all projects and get unlimited workspace storage."]}),yLt=b.memo((()=>f.jsx("div",{className:`${pLt.projectWrapper} ${pLt.gridView} ${pLt.dummyProjectElement}`}))),wLt=he((e=>({"Days Since Video Created":e})));class _Lt extends i.Component{constructor(e){super(e),a(this,"buttonPressTimer",null),a(this,"linkComponentRef"),a(this,"routerLinkTo"),a(this,"nameInputListener",(e=>{13===e.keyCode&&this.unselectName()})),a(this,"handleNameChange",(e=>{this.setState({name:e.target.value.substring(0,1024)})})),a(this,"selectName",(()=>{this.hideDropdown();const{locked:e,selectionMode:t}=this.props;if(e)return;if(t)return;const a=this.getName();this.setState({nameSelected:!0,name:a})})),a(this,"unselectName",(()=>{const{video:e,locked:t}=this.props;if(!e)return;if(t)return;const{_id:a}=e;this.setState({nameSelected:!1});const n=this.state.name.trim();n&&n.length&&n!==e.name&&jK(n,a)})),a(this,"getDaysUntilDeletion",(()=>{const{currentTeam:e,video:t,subscription:a}=this.props,n=hg(Fd.UNLIMITED_STORAGE),s=null==a?void 0:a.cancel_at_period_end;if(n&&!s)return null;const o=[null==t?void 0:t.createdAt,null==t?void 0:t.lastSaved,null==t?void 0:t.submittedAt].filter((e=>e));if(o.sort(),0===o.length)return null;let i=3-z5e(o[o.length-1]);if(a&&(null==a?void 0:a.cancel_at_period_end)){i=tc(new Date(1e3*(a.cancel_at||0)),new Date)+14}if(null==e?void 0:e.downgradedAt){const t=tc(new Date,new Date(e.downgradedAt));t<14&&(i=14-t)}return i})),a(this,"hideDropdown",(()=>{this.setState({showDropdown:!1})})),a(this,"closePaywallModal",(()=>{this.setState({showPaywallModal:!1})})),a(this,"renderPendingDeletionNotice",(()=>{const{subscription:e,shared:t}=this.props;if(t)return null;if(e){if(tc(new Date(1e3*(e.cancel_at||0)),new Date)+14>30)return null}const a=hg(Fd.UNLIMITED_STORAGE),n=a?fLt:bLt,s=this.getDaysUntilDeletion();return null==s?null:f.jsxs(Yi,{delayDuration:200,children:[f.jsx(Ji,{asChild:!0,children:f.jsxs("div",{className:pLt.pendingDeletion,"data-testid":"project-deletion-pending-badge",children:[f.jsx(ra,{}),"",f.jsx("span",{children:s>0?`Deletion in ${Math.ceil(s)} days`:"Deletion pending"})]})}),f.jsx(Xi,{children:f.jsx(Zi,{sideOffset:5,children:f.jsx(cLt,{body:n,action:Dd.DELETION_WARNING,buttonText:a?"Reactivate":"Upgrade"})})})]})})),a(this,"renderThumbnail",(()=>{const{locked:e,video:t}=this.props,a=rS(t,"image_url");return f.jsxs("div",{className:e?`${pLt.projectThumbnail} ${pLt.locked}`:pLt.projectThumbnail,"data-cy":"project-thumbnail",children:[f.jsx("div",{className:pLt.thumbnailWrapper,children:f.jsx(P7e,{thumbnailUrl:a,elementType:t.searchType})}),!e&&this.renderSelectProjectButton(),e&&f.jsx("div",{className:pLt.lockIcon,children:f.jsx(co,{})}),f.jsx("div",{className:pLt.elementTopRow,children:f.jsx(sqe,{absolute:!0,elementType:gu.VIDEO})}),f.jsxs("div",{className:pLt.elementBottomRow,children:[this.renderPendingDeletionNotice(),this.renderAccessIcon(),this.renderDuration()]})]})})),this.state={nameSelected:!1,name:this.getName(),nameInDb:this.getName(),showPaywallModal:!1,showPaywallTooltip:!1},this.linkComponentRef=b.createRef(),this.routerLinkTo={pathname:this.getLink(),state:this.props.shared?{from:rd}:void 0}}componentDidMount(){var e;null==(e=this.linkComponentRef.current)||e.addEventListener("contextmenu",(e=>e.preventDefault()))}componentDidUpdate(e,t){!t.nameSelected&&this.state.nameSelected&&this.addNameInputListener(),this.props.shared===e.shared&&this.props.video===e.video||(this.routerLinkTo={pathname:this.getLink(),state:this.props.shared?{from:rd}:void 0})}addNameInputListener(){document.getElementById("nameInput").addEventListener("keyup",this.nameInputListener)}getLink(){const{video:e,locked:t}=this.props;return t?"/":`/${e._id}/studio/editor`}getName(){const{video:e}=this.props,t=this.state&&this.state.name.trim&&this.state.name.trim();return this.state&&(t||this.state.nameSelected)?this.state.name:e.draft?e.name||ql:e.name||e.name||Zh(e)}renderDuration(){const{video:{duration:e}}=this.props;if(!e)return null;if("number"!=typeof e)return null;const t=fP(e),a=t.indexOf("."),n=a>0?a:t.length,s=t.substring(0,n);return f.jsx("div",{className:pLt.timestamp,children:s})}renderAccessIcon(){const{video:{privacy:e}}=this.props;return 1===e&&!this.state.nameSelected?f.jsx("div",{className:pLt.accessIconBackground,children:f.jsx(Ws,{className:pLt.accessIcon})}):null}renderName(){const{video:e,locked:t,selectionMode:a,shared:n}=this.props,s=e.draft?pLt.draft:pLt.type,o=e.draft?pLt.draftInput:pLt.typeInput,i=this.getName(),r=e=>{n||(e.stopPropagation(),e.preventDefault(),this.selectName())};return!this.state.nameSelected||a?f.jsx("div",{className:t||e.pendingWorkspaceUpload?`${s} ${pLt.locked}`:`${s}`,onClick:r,children:i}):f.jsx("div",{className:pLt.inputNameWrapper,children:f.jsx("input",{type:"text",id:"nameInput","data-cy":"workspace-project-name-input",className:t?`${o} ${pLt.locked}`:s,placeholder:ql,value:i,onClick:this.selectName,onBlur:this.unselectName,onChange:this.handleNameChange,onKeyDown:e=>{e.metaKey&&"a"===e.key&&e.stopPropagation()},autoFocus:!0})})}renderSelectProjectButton(){const{onSelect:e,project:t,isSelected:a,selectionMode:n,shared:s}=this.props;if(s)return null;return f.jsx("input",{type:"radio",className:[pLt.selectProjectButton,n?pLt.selectProjectButtonFixed:"",a?pLt.checked:""].join(" "),checked:a,readOnly:!0,onMouseDown:e=>e.stopPropagation(),onClick:n=>{n.stopPropagation(),n.preventDefault(),e&&e({id:t._id,selected:!a,shiftKey:n.shiftKey,type:"project"})}})}render(){const{isSelected:e,locked:t,onSelect:a,project:n,selectionMode:s,shared:o,sharedAt:i,video:r,setProjectElRef:l,currentFolderSettings:d,SWMFolderSettings:c}=this.props,u=(null==d?void 0:d.sortField)===af.DATE_CREATED&&!o||(null==c?void 0:c.sortField)===af.DATE_CREATED&&o||!d&&!o,{onlyLastAuthor:p,onlyLastDate:m}=G5e({video:r,BUFFER_MS:3e4,shared:o,sharedAt:i,forceCreatedAt:u}),g=()=>{t||(this.buttonPressTimer=window.setTimeout((()=>{a&&a({id:n._id,selected:!0,type:"project"})}),500))},h=()=>{this.buttonPressTimer&&clearTimeout(this.buttonPressTimer)},v=o=>{!t&&s&&a&&a({id:n._id,selected:!e,shiftKey:o.shiftKey,type:"project"})},b=e=>{t?(e.preventDefault(),this.setState({showPaywallModal:!0})):s&&e.preventDefault()},y=()=>{const a=[];return a.push(t?pLt.lockedProject:pLt.projectContainer),t?a.push(pLt.lockedProject):(a.push(pLt.projectContainer),e&&a.push(pLt.projectSelected),s&&a.push(pLt.projectIsSelectable)),a.join(" ")},w=()=>{const e=this.getName();return e.length<=30?f.jsx("div",{className:pLt.projectNameTooltipContainer,translate:"no",children:f.jsx("div",{className:pLt.projectName,"data-cy":"workspace-project-name",children:this.renderName()})}):f.jsxs("div",{className:pLt.projectNameTooltipContainer,translate:"no",children:[f.jsx("span",{className:`${pLt.projectNameTooltip}`,children:e}),f.jsx("div",{className:pLt.projectName,"data-cy":"workspace-project-name",children:this.renderName()})]})};return(()=>{const{nameSelected:a}=this.state,o=hg(Fd.UNLIMITED_STORAGE),i=o?fLt:bLt,d=z5e(r);return f.jsxs("div",{className:`${pLt.projectWrapper} ${e&&pLt.projectSelected}`,"data-cy":"project-grid-view-element","data-testid":`project-grid-view-${n._id}`,onMouseLeave:()=>this.setState({showPaywallTooltip:!1}),children:[!this.props.isMobile&&this.state.showPaywallTooltip&&f.jsx(cLt,{body:i,action:Dd.DELETION_WARNING,buttonText:o?"Reactivate":"Upgrade"}),f.jsxs("div",{ref:l,className:y(),onTouchStart:g,onTouchMove:h,onTouchEnd:h,onClick:v,children:[this.state.showPaywallModal&&f.jsx(ase,{action:Dd.STORAGE_LIMIT,onClose:this.closePaywallModal,extraAmplitudeEventProperties:wLt(d)}),f.jsx(mn,{ref:this.linkComponentRef,onClick:b,draggable:!1,to:this.routerLinkTo,"data-testid":"project-link",children:this.renderThumbnail()}),f.jsxs("div",{className:t?`${pLt.contentInfo} ${pLt.locked}`:`${pLt.contentInfo}`,children:[!r.pendingWorkspaceUpload&&f.jsx("div",{className:t?`${pLt.more} ${pLt.locked}`:`${pLt.more}`,"data-cy":"workspace-project-more-menu-toggle",children:!s&&f.jsx(uLt,{project:n,onRename:this.selectName})}),a?f.jsx("div",{className:pLt.projectName,"data-cy":"workspace-project-name",translate:"no",children:this.renderName()}):w(),f.jsxs("div",{className:pLt.authorInfo,"data-cy":"workspace-project-status",children:[f.jsx("span",{translate:"no",children:p}),`${p?", ":""}${m}`]})]}),f.jsx(vLt,{video:r,locked:this.props.lockedForUser})]})]})})()}}const CLt=r.connect((e=>({currentFolderId:e.workspaces.selectedWorkspace,currentUser:e.currentUser,currentTeam:rg(e),currentFolderSettings:e.workspaces.currentFolderSettings,selectedTeamId:e.teams.selectedTeamId,shared:"shared-with-me"===e.workspaces.selectedWorkspace,SWMFolderSettings:e.workspaces.SWMFolderSettings,subscription:e.subscription.subscription})),(e=>j({showToast:db,showToastForUnexpectedError:cb},e)))(_Lt),SLt=e=>{const{id:t,name:a,fileUploadProgress:n,cancelUpload:s}=e;let o="Loading";o="100%"!==n?n:"Creating assets";return f.jsx("div",{className:pLt.projectWrapper,children:f.jsxs("div",{className:pLt.projectPlaceholder,"data-cy":"workspace-project-placeholder",children:[f.jsx("div",{className:pLt.uploading,children:f.jsx(Ile,{text:o})}),f.jsxs("div",{className:pLt.contentInfo,children:[f.jsx("div",{className:pLt.projectName,children:f.jsx("div",{className:pLt.type,children:"Creating assets"===o||a})}),f.jsx("div",{className:pLt.dateInfo,children:"Uploading"})]}),f.jsxs("div",{className:pLt.cancelUpload,onClick:()=>{s(t)},children:[f.jsx("span",{className:pLt.cancelUploadText,children:"Cancel"}),f.jsx(R,{})]})]})})},xLt="WorkspaceSubfolder-module_mainContainer_5lZQ8",ILt="WorkspaceSubfolder-module_subfolderContainer_GXYhm",ALt="WorkspaceSubfolder-module_folderNameContainer_BEztS",kLt="WorkspaceSubfolder-module_folderIcon_F6GAy",TLt="WorkspaceSubfolder-module_folderName_ZwBWs",ELt="WorkspaceSubfolder-module_SWMwrapper_DGJx2",LLt="WorkspaceSubfolder-module_gridView_Fdkdk",jLt="WorkspaceSubfolder-module_SWMfolderWrapper_AJXmp",RLt="WorkspaceSubfolder-module_SWMcontentContainer_tAuSJ",NLt="WorkspaceSubfolder-module_SWMthumbnail_ldpWY",MLt="WorkspaceSubfolder-module_SWMfolderIcon_2owAQ",PLt="WorkspaceSubfolder-module_SWMfolderDetails_Bwz5w",FLt="WorkspaceSubfolder-module_SWMsharedByInfo_zeQ8X",DLt="WorkspaceSubfolder-module_SWMdateSharedInfo_xNffX",OLt="WorkspaceSubfolder-module_SWMname_UE83K",ULt="WorkspaceSubfolder-module_SWMnameWrapper_JSohn",BLt=b.memo((({folder:e,projectContainerRef:t,sharedWithMe:a})=>{var n;const{name:s}=e,o=`${null==(n=null==e?void 0:e.originalUser)?void 0:n.name}`,i=`${(null==e?void 0:e.sharedAt)?e.sharedAt:""}`;return a?f.jsx("div",{className:`${ELt} ${LLt}`,onClick:()=>{ov("Accessed Workspace Subfolder",{"In Shared With Me":!0,"Shared At":i,"Shared By":o,"Folder ID":e._id}),OSe(e._id)},"data-cy":"SWM-folder-name","data-testid":`folder-grid-view-${e._id}`,children:f.jsx("div",{className:`${jLt} ${LLt}`,"data-cy":"folder-in-workspace",children:f.jsxs("div",{className:`${RLt} ${LLt}`,children:[f.jsx("div",{children:f.jsx("div",{className:`${NLt} ${LLt}`,children:f.jsx("div",{className:MLt,children:f.jsx(Lt,{})})})}),f.jsxs("div",{className:`${PLt} ${LLt}`,children:[f.jsx("div",{className:`${OLt} ${LLt}`,children:f.jsx("div",{className:ULt,translate:"no",children:s})}),f.jsxs("div",{className:`${FLt}`,children:["Shared by",f.jsxs("span",{translate:"no",children:[" ",o]}),""]}),f.jsxs("div",{className:`${DLt}`,children:[i?`Shared ${bP(new Date(i))}`:"",""]})]})]})})}):f.jsx("div",{className:xLt,children:f.jsx("div",{ref:t,className:ILt,onClick:()=>{ov("Accessed Workspace Subfolder",{"In Shared With Me":!1,"Shared At":i,"Shared By":o,"Folder ID":e._id}),OSe(e._id)},children:f.jsxs("div",{className:ALt,children:[f.jsx(Lt,{className:kLt}),f.jsx("div",{className:TLt,translate:"no",children:e.name})]})})})})),WLt=b.memo((({children:e})=>{const t=Bu(),a=jfe(),{uploadFiles:n}=PJe(),s=Du((e=>e.workspaces.selectedWorkspace===rd)),o=i.useCallback((e=>{e.preventDefault(),wA({modalType:fA.FOLDER_UPLOAD})}),[]),r=i.useCallback((e=>{e.preventDefault()}),[]),l=i.useCallback((async e=>{if(e.preventDefault(),!(null==a?void 0:a._id))throw new Error("Could not find folder.");const s=await n(e.dataTransfer.files,{uploadOptions:TQe});Uu((()=>{s.forEach((e=>{t(pf({uploadId:e,folderId:null==a?void 0:a._id}))}))}))}),[null==a?void 0:a._id,t,n]);return s?e:f.jsx("div",{onDragEnter:o,onDragOver:r,onDrop:l,children:e})})),VLt="FolderView-module_emptySharedWithMe_z6pUk",HLt="FolderView-module_emptySharedImage_qaIca",zLt="FolderView-module_emptySharedText_eGSe6",GLt="FolderView-module_projectsContainerGrid_FuC8v",YLt="FolderView-module_emptyProjectWrapper_Gvs1M",KLt="FolderView-module_emptyProject_svRKG";function XLt(e){var t;const a=null==(t=null==e?void 0:e.content)?void 0:t.lastSaved;return a?Date.parse(a.toString()):0}const ZLt=(e,t,a)=>{const n=XLt(e),s=XLt(t);return n?s?n<s?a===nf.ASCENDING?1:-1:n>s?a===nf.ASCENDING?-1:1:0:1:-1},qLt=e=>(t,a)=>JLt(t,a,e),JLt=(e,t,a)=>{const n=!!e.sharedAt&&new Date(e.sharedAt),s=!!t.sharedAt&&new Date(t.sharedAt);return n?s?n<s?a===nf.ASCENDING?1:-1:n>s?a===nf.ASCENDING?-1:1:0:1:-1},$Lt=(e,t,a)=>{var n,s;let o="",i="";return o="type"in e?null==e?void 0:e.name:null==(n=null==e?void 0:e.content)?void 0:n.name,i="type"in t?null==t?void 0:t.name:null==(s=null==t?void 0:t.content)?void 0:s.name,o||(o=ql),i||(i=ql),0===o.localeCompare(i)?ZLt(e,t,a):a===nf.ASCENDING?o.localeCompare(i):i.localeCompare(o)},QLt=(e,t,a)=>{var n,s;let o=null==(n=null==e?void 0:e.content)?void 0:n.lastEditorName,i=null==(s=null==t?void 0:t.content)?void 0:s.lastEditorName;return o||(o=""),i||(i=""),0===o.localeCompare(i)?ZLt(e,t,a):o.localeCompare(i)&&a===nf.ASCENDING?o.localeCompare(i):i.localeCompare(o)},ejt=(e,t,a)=>{var n,s,o,i,r,l;let d=(null==e?void 0:e.content)?null==(s=null==(n=null==e?void 0:e.content)?void 0:n.originalUser)?void 0:s.name:null==(o=null==e?void 0:e.originalUser)?void 0:o.name,c=(null==t?void 0:t.content)?null==(r=null==(i=null==t?void 0:t.content)?void 0:i.originalUser)?void 0:r.name:null==(l=null==t?void 0:t.originalUser)?void 0:l.name;return d||(d=""),c||(c=""),0===d.localeCompare(c)?ZLt(e,t,a):d.localeCompare(c)&&a===nf.ASCENDING?d.localeCompare(c):c.localeCompare(d)},tjt=e=>(t,a)=>ajt(t,a,e),ajt=(e,t,a)=>{var n,s;const o=Date.parse(((null==(n=null==e?void 0:e.content)?void 0:n.createdAt)??"").toString()),i=Date.parse(((null==(s=null==t?void 0:t.content)?void 0:s.createdAt)??"").toString());return o?i?o<i?a===nf.ASCENDING?1:-1:o>i?a===nf.ASCENDING?-1:1:0:1:-1},njt=e=>{const{workspaces:t}=e,{currentFolderSettings:a,SWMFolderSettings:n}=t;if("shared-with-me"===e.workspaces.selectedWorkspace){if((null==n?void 0:n.sortOrder)===nf.ASCENDING)return!0;if(!n)return!0}else{if((null==a?void 0:a.sortOrder)===nf.ASCENDING)return!0;if(!a)return!0}return!1},sjt=e=>!njt(e),ojt=()=>{const e=jfe(),t=Bu(),a=P(),{atLimit:n}=(()=>{const e=Du((e=>{const t=e.workspaces.selectedWorkspace,a=e.projects.byId,n=e.projects.projectIdsByFolderId[t],s=null==n?void 0:n.map((e=>a[e]));return(null==s?void 0:s.filter((e=>null==e?void 0:e.content)).length)??0})),t=hg(Fd.UNLIMITED_STORAGE);return i.useMemo((()=>!t&&e>=3?{atLimit:!0,projectsNum:e}:{atLimit:!1,projectsNum:e}),[t,e])})(),[s,o]=i.useState(!1),r=s,l=i.useCallback((async()=>{if(!e||r)return;let n;o(!0);try{n=(await Kf(`/api/v1/workspaces/${e._id}/getUsers`)).keys.length>1}catch(b9e){n=void 0}t({type:"RESET_STUDIO"}),m7({entry:p7.WORKSPACE}),a("/studio/editor"),eZ({source:HB.Onboarding}),a4({workspaceId:e._id,source:"Create New",workspaceHasCollaborators:n}),o(!1)}),[e,t,a,r]),d=i.useCallback((()=>{o(!0),ov("Repurpose Button Clicked"),a(`/repurpose/create?${Xw.REPURPOSE_ENTRY_POINT}=workspace`),o(!1)}),[a]),c=i.useCallback((async({onSuccess:t}={})=>{!e||r||s||(n?wA({modalType:fA.PROJECT_LIMIT,currentFolderId:e._id,goToStudio:l,overlayWrapperProps:{noOverlay:!0}}):(await l(),null==t||t()))}),[n,e,l,s,r]);return i.useMemo((()=>({createNewStudioProject:c,isLoading:r,createNewRepurposeProject:d})),[c,d,r])},ijt="CreateButton-module_disabled_2unJ9",rjt="CreateButton-module_buttonContainer_bQjvC",ljt="CreateButton-module_button_voxYV",djt="CreateButton-module_text_EcXSx",cjt="CreateButton-module_icon_BC88y",ujt="CreateButton-module_caretIcon_q9OOd",pjt="CreateButton-module_dropdownContainer_DTBcf",mjt="CreateButton-module_defaultColors_z-Uu6";function gjt({onClick:e,callToAction:t,dropdownItems:a,colorClass:n=mjt,Icon:s=di,disabled:o=!1}){const i=Du((e=>e.workspaces.selectionMode));return f.jsxs("div",{className:L(rjt,{[ijt]:i||o}),children:[f.jsxs("button",{className:L(ljt,n),onClick:e,disabled:o,"data-cy":`${t.toLowerCase().replace(/\s+/g,"-")}-button`,children:[f.jsx("div",{className:cjt,children:f.jsx(s,{})}),f.jsx("div",{className:djt,children:t})]}),a&&f.jsx(Jft,{items:a,align:"end",alignOffset:-4,maxWidth:800,children:f.jsx("div",{className:L(pjt,n),children:f.jsx(pa,{className:ujt})})})]})}const hjt="CreateNewProjectButton-module_createButtonColors_fJz9Y";function vjt({onClick:e}){const t=Du((e=>{var t;return!!(null==(t=e.teams.brandkitTemplates)?void 0:t.length)}),Ou),a=P(),{createNewStudioProject:n,isLoading:s}=ojt(),o=i.useCallback((async t=>{t.stopPropagation(),await n({onSuccess:e})}),[n,e]),r=i.useCallback((()=>{t?wA({modalType:fA.START_FROM_BRAND_TEMPLATE}):a("/brandkit")}),[t,a]),l=i.useCallback((()=>{wA({modalType:fA.FOLDER_UPLOAD})}),[]),d=i.useMemo((()=>[{label:"Use a Brand Template",icon:f.jsx(Bo,{}),onClick:r,type:Xft.Generic},{label:"Upload",icon:f.jsx(ma,{}),onClick:l,type:Xft.Generic}]),[r,l]);return f.jsx(gjt,{onClick:o,disabled:s,callToAction:"Create new",dropdownItems:d,colorClass:hjt,Icon:ci})}function fjt(){const e=P(),t=Bu();return f.jsx(gjt,{onClick:()=>{t({type:"RESET_STUDIO"}),e("/studio/editor/ai-tools")},callToAction:"Generate",Icon:mAe})}const bjt=u(((e,t)=>t),(e=>e.studio.allLayers.byId),E7,((e,t,a)=>{let n=0;return Array.from(e).forEach((e=>{const s=a[e];s&&s.forEach((e=>{const a=t[e];if(!a)return;const[s,o]=zC(a);n+=o-s}))})),n})),yjt=(e,t)=>{const a=e.assets.byId;let n=0;return Array.from(t).forEach((e=>{const t=a[e];t?n+=t.duration||60:console.warn("Asset not found",e)})),n};const wjt=e=>{const t=new Set;return(e.length>0?e:["en"]).map(Sjt).filter(vA).flat().filter((({name:a,elevenLabsId:n})=>{const s=n??a;return!t.has(s)&&(!(e.length>1&&!n)&&(t.add(s),!0))})).sort(((e,t)=>Rm(e)&&!Rm(t)?1:!Rm(e)&&Rm(t)?-1:0))},_jt=e=>{var t;return(null==(t=nh.find((t=>t.label===e||t.en===e)))?void 0:t.code)||hm[e][0].languageCode},Cjt=e=>{var t;const a=null==(t=Sm(e))?void 0:t[0];return a||ym.find((t=>hm[t].some((t=>t.languageCode===e))))},Sjt=e=>{const t=Cjt(e);return t?hm[t]:[]},xjt=(e,t)=>Math.max(Math.floor(e*t/60),1);function Ijt(e,t){if("setDubbingFormState"===t.type){const a=t.payload,n=t.payload.translatedLanguageCodes;if(n){const e=n.find((e=>{const t=Cjt(e);return!!t&&!gm(t)}));e?(a.translatedLanguageCodes=[e],a.multiSelectAndCloneOriginalVoiceDisabled=!0):a.multiSelectAndCloneOriginalVoiceDisabled=!1}return{...e,...a}}return e}const Ajt={disabled:!1,disabledReason:"",originalLanguageCode:"en",translatedLanguageCodes:[],originalSRT:null,translatedSRT:null,assetsToDub:new Set,allowVideoAdjustments:!1,voiceOption:Lm,speakerCount:{label:"Autodetect",value:void 0},ttsCost:0,multiSelectAndCloneOriginalVoiceDisabled:!1},kjt=b.createContext(Ajt),Tjt=b.createContext((()=>{})),Ejt=({initialState:e,children:t})=>{const[a,n]=i.useReducer(Ijt,{...Ajt,...e});return f.jsx(kjt.Provider,{value:a,children:f.jsx(Tjt.Provider,{value:n,children:t})})},Ljt=()=>{const e=i.useContext(Tjt);return i.useCallback((t=>{e({type:"setDubbingFormState",payload:t})}),[e])},jjt=()=>i.useContext(kjt),Rjt=()=>{const e=Ljt(),{assetsToDub:t,originalSRT:a,translatedSRT:n,translatedLanguageCodes:s,voiceOption:o,dubDurationSelector:r=bjt}=jjt(),l=s.length>1,d=gg(Fd.ONE_TO_MANY_DUBBING),c=Du((e=>r(e,t)));i.useEffect((function(){const t=function(){const{state:e}=Mu(),t=DD(e),{dubbingPreferences:a,transcriptionPreferences:n}=e.currentUser.user,s=t[0];let o;if(s){const t=gO(s)(e);o=null==t?void 0:t.languageCode}return{originalLanguageCode:$je({assetLanguageCode:o,preferenceLanguageCode:(null==a?void 0:a.languageCode)||(null==n?void 0:n.languageCode),browserLanguage:window.navigator.language}).code,translatedLanguageCodes:[],allowVideoAdjustments:!!(null==a?void 0:a.adjustVideoPlayback),voiceOption:Lm,multiSelectAndCloneOriginalVoiceDisabled:!1}}();e(t)}),[e,d]),i.useEffect((function(){l&&!jm(o)&&e({voiceOption:Lm})}),[l,e,o]),i.useEffect((function(){const t=s.length;e({ttsCost:xjt(c,t)})}),[e,c,s]),i.useEffect((function(){const o=Array.from(t)[0];return o?0===s.length?e({disabled:!0,disabledReason:"You must select a language to translate to"}):t.size>1&&(a||n)?e({disabled:!0,disabledReason:"You must select only one asset to dub when using SRTs"}):s.length>1&&n?e({disabled:!0,disabledReason:"You must select only one translated language when using translated SRTs"}):K7(a,o)?e({disabled:!0,disabledReason:"Original SRT file is invalid"}):K7(n,o)?e({disabled:!0,disabledReason:"Translated SRT file is invalid"}):0===s.length?e({disabled:!0,disabledReason:"You must select a language to translate to"}):e({disabled:!1,disabledReason:""}):e({disabled:!0,disabledReason:"You must select an asset to dub"})}),[e,t,a,n,o,s.length])};function Njt(){var e;const t=Ju(Ru.PARTIAL_DUBBING),a=cg().isFree,n=(null==(e=rP()[Bd.TTS])?void 0:e.remainingUsage)??0,s=t&&a&&n>0,o=jjt().ttsCost,i=s&&o>n;return{assetWillBePartiallyDubbed:i,minutesToDub:i?n:o}}function Mjt({children:e,id:t="stop-prop"}){return f.jsx("div",{id:t,onPointerDown:e=>{e.stopPropagation()},children:e})}const Pjt="GlossaryEntrypoint-module_glossaryButtonContainer_KT9na",Fjt="GlossaryEntrypoint-module_glossaryButtonText_eDYAl",Djt="GlossaryEntrypoint-module_disabled_tMkDe";function Ojt({openGlossary:e,disabled:t}){return f.jsxs("div",{className:L(Pjt,{[Djt]:t}),onClick:t?void 0:e,children:[f.jsx(ui,{size:16}),f.jsx("div",{className:Fjt,children:"Edit Translation Rules"})]})}function Ujt({disabled:e}){const[t,a]=i.useState(!1);return f.jsxs(f.Fragment,{children:[f.jsx(Ojt,{openGlossary:()=>a(!0),disabled:e}),t&&f.jsx(Wne,{maxWidth:"900px",backgroundColor:"#101010",onClose:()=>a(!1),children:f.jsx(bIt,{defaultTab:fIt.translationRules})})]})}const Bjt=e=>i.createElement("svg",{width:"1.19em",height:"1em",viewBox:"0 0 314 264",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},i.createElement("path",{d:"M226.389 125.055H235.269L241.224 131.641L248.358 139.532V125.055H268.358H293.325V20H124.446V125.055H226.389Z",stroke:"#F54A87",strokeWidth:40}),i.createElement("path",{d:"M86.9362 197.582H78.0564L72.1011 204.169L64.967 212.059V197.582H44.967H20V92.5276H188.879V197.582H86.9362Z",stroke:"#18E1D6",strokeWidth:40}),i.createElement("mask",{id:"path-3-inside-1_241_8",fill:"white"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M208.879 145.055V87.5276C208.879 79.2434 202.163 72.5276 193.879 72.5276H104.446V130.055C104.446 138.339 111.162 145.055 119.446 145.055H208.879Z"})),i.createElement("path",{d:"M208.879 145.055V185.055H248.879V145.055H208.879ZM104.446 72.5276V32.5276H64.4463V72.5276H104.446ZM168.879 87.5276V145.055H248.879V87.5276H168.879ZM193.879 112.528C180.072 112.528 168.879 101.335 168.879 87.5276H248.879C248.879 57.152 224.255 32.5276 193.879 32.5276V112.528ZM104.446 112.528H193.879V32.5276H104.446V112.528ZM64.4463 72.5276V130.055H144.446V72.5276H64.4463ZM64.4463 130.055C64.4463 160.43 89.0706 185.055 119.446 185.055V105.055C133.253 105.055 144.446 116.248 144.446 130.055H64.4463ZM119.446 185.055H208.879V105.055H119.446V185.055Z",fill:"#FFC700",mask:"url(#path-3-inside-1_241_8)"})),Wjt="AssetThumbnail-module_thumbnailText_ODs6v",Vjt="AssetThumbnail-module_thumbnailContainer_g2Gsi",Hjt="AssetThumbnail-module_thumbnailInfo_Vo3-W",zjt="AssetThumbnail-module_thumbnailPreview_2xx2l",Gjt="AssetThumbnail-module_clearUpload_gEV73",Yjt="AssetThumbnail-module_thumbnailOverlay_zs35v",Kjt="AssetThumbnail-module_audioIcon_n0qTa",Xjt="AssetThumbnail-module_partialDubbingWarning_MHXJ-";function Zjt({uploadId:e,asset:t,localPreviewUrl:a,setLocalPreviewUrl:n,clearDubInfo:s}){var o,i;const{assetWillBePartiallyDubbed:r,minutesToDub:l}=Njt(),{ttsCost:d}=jjt(),c=Du((t=>{var a;return null==(a=t.uploadStatuses)?void 0:a[String(e)]})),{setVideoRef:u,streamSource:p}=Dx(null==t?void 0:t._id),m=p||a,g={fileName:(null==t?void 0:t.name)||(null==t?void 0:t.blob_name)||(null==c?void 0:c.fileName),isVideo:(null==(o=null==t?void 0:t.content_type)?void 0:o.includes("video"))||(null==(i=null==c?void 0:c.uploadManager)?void 0:i.file.type.startsWith("video")),inProgress:!!c&&!t,isComplete:!!t},h=(null==c?void 0:c.progressText)||"Uploading...",v=g.isVideo?pi:mi;return f.jsxs("div",{className:Vjt,children:[f.jsx("div",{className:zjt,children:g.isVideo&&m?f.jsx("video",{src:a??"",muted:!0,playsInline:!0,onError:()=>n(null),ref:u}):f.jsx(v,{className:Kjt})}),r&&f.jsxs("div",{className:Xjt,children:[f.jsx("b",{children:"Note:"})," Only the first ",f.jsx("b",{children:l})," ",ec("minute","minutes",l)," of this"," ",f.jsx("b",{children:d})," minute video will be dubbed if you continue without upgrading."]}),f.jsxs("div",{className:Hjt,children:[f.jsx("div",{className:Wjt,children:g.fileName}),f.jsx(R,{className:Gjt,onClick:s})]}),h&&!t&&f.jsx("div",{className:Yjt,children:h})]})}const qjt="TranslateOverlay-module_translateStudioHeader_-BP7X",Jjt="TranslateOverlay-module_translateStudioHeaderIcon_Fxpl-",$jt="TranslateOverlay-module_header_Lkz2i",Qjt="TranslateOverlay-module_content_2tXuO",eRt="TranslateOverlay-module_uploadCopy_eOgA1",tRt="TranslateOverlay-module_uploadHeader_Qijd2",aRt="TranslateOverlay-module_uploadDescription_dBxwL",nRt="TranslateOverlay-module_headerIcon_8s-gD",sRt="TranslateOverlay-module_brandGlossaryHeader_VhTjC",oRt="Label-module_container_6PCYf",iRt="Label-module_bold_pwvXf",rRt="Label-module_disabled_Cg4eo",lRt=({children:e,bold:t=!1,disabled:a=!1})=>f.jsx("div",{className:L(oRt,{[iRt]:t,[rRt]:a}),children:e}),dRt="AdvancedSettings-module_container_IlJZ0",cRt="AdvancedSettings-module_labelContainer_AtvK-",uRt="AdvancedSettings-module_content_ctFJe",pRt="BrandGlossary-module_container_zk9w3";function mRt({GlossaryEntrypoint:e=f.jsx(Ujt,{})}){return f.jsxs("div",{className:pRt,children:[f.jsx(lRt,{bold:!0,children:"Brand Glossary"}),f.jsx("span",{children:e})]})}const gRt="Timing-module_container_gWyN5",hRt="Timing-module_toggleRow_VGlUl",vRt="Timing-module_toggleText_Urk0Y",fRt="Timing-module_toggleSubtext_yHP5x",bRt=()=>{const{assetsToDub:e,allowVideoAdjustments:t}=jjt(),a=Ljt(),n=Du((t=>M7(Array.from(e),t)));return f.jsxs("div",{className:gRt,children:[f.jsx(lRt,{bold:!0,disabled:!n,children:"Timing"}),f.jsxs("div",{className:hRt,children:[f.jsx("div",{className:vRt,children:f.jsx(lRt,{disabled:!n,children:"Allow adjustments to video speed"})}),f.jsx(Hw,{message:"This feature is only available for videos",disabled:n,wrapWithDiv:!0,children:f.jsx(RRe,{toggled:t&&n,onClick:()=>{a({allowVideoAdjustments:!t})},disabled:!n})})]}),f.jsx("div",{className:hRt,children:f.jsx("div",{className:fRt,children:"Improve timing and quality by adjusting video speed. This may alter the videos duration and increase processing time."})})]})},yRt=({...e})=>f.jsx("div",{className:dRt,children:f.jsx(Wxt,{hideDivider:!0,id:"advanced-dubbing-settings",title:f.jsxs("div",{className:cRt,children:[f.jsx(lRt,{bold:!0,children:"Advanced settings"}),f.jsx("span",{children:"Options to adjust timing and translation rules"})]}),children:f.jsxs("div",{className:uRt,children:[f.jsx(bRt,{}),f.jsx(mRt,{...e})]})})}),wRt=({configuredVoice:e,configuredLanguage:t,onVoiceSelected:a})=>{const[n,s]=i.useState(!1),o=i.useRef(null);return f.jsxs(hr,{open:n,onOpenChange:s,children:[f.jsxs(vr,{className:nYe,"data-testid":"voice-selector-trigger",ref:o,children:[f.jsx("span",{className:iYe,children:f.jsx("span",{"data-testid":"tts-voice-label",children:e.label})}),f.jsx(ot,{})]}),f.jsx(fr,{children:f.jsx(br,{className:lYe,align:"start",side:"top",sideOffset:10,updatePositionStrategy:"always",children:f.jsx(_Rt,{setVoiceSelectorOpen:s,configuredVoice:e,configuredLanguage:t,onVoiceSelected:a})})})]})};function _Rt({setVoiceSelectorOpen:e,configuredVoice:t,configuredLanguage:a,onVoiceSelected:n}){const[s,o]=i.useState(""),r=gg(Fd.TEXT_TO_SPEECH),{allVoiceOptions:l,genderSelection:d,moreFilters:c,personaVoiceOption:u,resetFilters:p}=LYe({selectedLanguage:a}),m=i.useCallback((t=>{e(!1),n(t)}),[n,e]),g=l.filter((e=>OGe(e,s))).map((e=>{let t=!r&&Rm(e);return e===u&&(t=!1),{...e,isPaywalled:t}}));return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:cYe,children:f.jsx(UGe,{search:s,setSearch:o,placeholder:"Search voices"})}),f.jsxs("div",{className:cYe,children:[f.jsx("div",{className:uYe,children:d}),f.jsx("div",{className:pYe,children:c})]}),f.jsx(tYe,{voices:g,selectedVoice:t,onSelectVoice:m,resetFilters:p})]})}const CRt="VoiceOptions-module_container_hTI4g",SRt="VoiceOptions-module_tabs_ShoWO",xRt="VoiceOptions-module_tab_0SOWf",IRt="VoiceOptions-module_selected_bAgXj",ARt="VoiceOptions-module_disabled_Yug-5",kRt="VoiceOptions-module_note_TYmXM",TRt="VoiceOptions-module_voiceList_evYsn",ERt=({selected:e,label:t,onClick:a,disabled:n,disabledReason:s})=>{const o=f.jsx("div",{onClick:n?void 0:a,className:L(xRt,{[IRt]:e,[ARt]:n}),children:t});return n&&s?f.jsx(Hw,{message:s,open:n,children:o}):o},LRt=()=>{const e=Ljt(),{voiceOption:t,translatedLanguageCodes:a,multiSelectAndCloneOriginalVoiceDisabled:n}=jjt(),[s,o]=i.useState(wjt(a));i.useEffect((function(){if(a===r.current)return;const s=wjt(a);if(o(s),n||!jm(t)&&1===a.length){const t=s[0];e({voiceOption:t})}}),[e,a,t,n]);const r=i.useRef(a);i.useEffect((function(){r.current=a}),[a]);const l=jm(t),d=a.length>1,c=Cjt(a[0]||""),u=rse(),p=i.useCallback((()=>{e({voiceOption:Lm})}),[e]),m=i.useCallback((()=>{e({voiceOption:s[0]})}),[e,s]),g=i.useCallback((t=>{e({voiceOption:t})}),[e]);return f.jsxs("div",{className:CRt,children:[f.jsx(lRt,{children:"Voice"}),f.jsxs("div",{className:SRt,children:[f.jsx(ERt,{selected:l,label:"Clone original voice(s)",onClick:p,disabled:n,disabledReason:n?"Voice cloning is not supported for the selected language.":void 0}),f.jsx(ERt,{selected:!l,label:"Use a stock voice",onClick:m,disabled:d,disabledReason:d?"Voice cloning is the only option when dubbing in multiple languages.":void 0})]}),l?f.jsx(f.Fragment,{children:f.jsx("div",{className:kRt,children:"By selecting this option you confirm that you have obtained explicit permission to clone the voice(s) featured in your video."})}):f.jsx("div",{children:c&&f.jsx("div",{className:TRt,children:f.jsx(wRt,{configuredLanguage:c,configuredVoice:t,onVoiceSelected:e=>{e&&u((()=>g(e)),{action:Dd.TEXT_TO_SPEECH,if:Rm(e)})()}})})})]})},jRt="DubbingUpsell-module_container_N9kkC",RRt=({ttsCostOverride:e})=>{const{ttsCost:t}=jjt(),a=e??t;return 0===a?null:f.jsx("div",{className:jRt,children:f.jsx(cAe,{estimatedUsageByCategory:{[Bd.TTS]:a}})})},NRt=async e=>await Yf(`/api/v1/dubbing/srtUpload/${e}`),MRt="OriginalLanguage-module_container_9vUYd",PRt="OriginalLanguage-module_labelRow_t3gBH",FRt="DubSrtBox-module_container_zZ0-d",DRt="DubSrtBox-module_srtBoxIcon_zRuXU",ORt="DubSrtBox-module_srtFilename_pO5UQ",URt="DubSrtBox-module_srtBoxClear_GhQQI",BRt="DubSrtBox-module_disabled_C7E9x",WRt="DubSrtBox-module_error_EvR6D",VRt=({srt:e,onClickClear:t,disabled:a})=>{const{assetsToDub:n}=jjt(),s=Array.from(n)[0],o=i.useMemo((()=>!s||K7(e,s)),[s,e]);return f.jsx(Hw,{message:"SRT contains text beyond the video duration",disabled:!o,children:f.jsxs("div",{className:L(FRt,{[WRt]:o}),children:[f.jsxs("div",{className:ORt,children:[f.jsx(gi,{className:DRt,size:16}),e.fileName]}),f.jsx(R,{className:L(URt,{[BRt]:a}),onClick:a?void 0:t,size:16})]})})};const HRt=/(?:\n|\r)+/g,zRt=(e,t)=>e.replace(HRt,t),GRt=(e,t)=>{const a=e.map((e=>{return{start:e.start,end:e.end,text:(t=e.text,t.replace(/<br \/>/g,"\n").replace(/(<([^>]+)>)/gi,""))};var t})),n=a.flatMap((e=>e.text.split(HRt))),s=pN(n);return a.map((e=>{return{start:e.start,end:e.end,text:t?(a=e.text,n=s,a.replace(HRt,`\n${n}`)):zRt(e.text,s)};var a,n}))};function YRt(e){const t=(new hi.WebVTTParser).parse(e);if(t.errors.length>0){const e=t.errors[0],a=new Error(e.message);throw Object.assign(a,e),a}const a=t.cues.map((e=>({start:e.startTime,end:e.endTime,text:e.text})));return GRt(a,!1)}function KRt(e){const t=e.replace(/\n\s*\n/g,"\n\n");for(const n of vi(t))if("Missing caption text"!==n.message&&"number of sequence need to increment by 1"!==n.message&&"start time should be less than previous end time"!==n.message)throw n;const a=fi(e).map((e=>({start:e.start,end:e.end,text:e.text})));return GRt(a,!0)}async function XRt(e){const t=await function(e){return new Promise(((t,a)=>{const n=new FileReader;n.onload=async e=>{var n;const s=null==(n=e.target)?void 0:n.result;"string"!=typeof s?a(new Error("File contents is not a string")):t(s)},n.onerror=t=>{a(new $v("Failed to read file",{extra:{errorEvent:t,fileName:e.name,fileType:e.type,fileSize:e.size}}))},n.readAsText(e)}))}(e);let a=null;if(e.name.endsWith(".vtt")?a="vtt":e.name.endsWith(".srt")&&(a="srt"),!a)try{KRt(t),a="srt"}catch{}if(!a)try{YRt(t),a="vtt"}catch{}return a?{type:a,content:t}:{type:null,content:t}}const ZRt="DubSrtUpload-module_srtUploadLabel_TLAkq",qRt="DubSrtUpload-module_srtUploadDisabled_JG2o9",JRt="DubSrtUpload-module_srtIcon_G-5ma",$Rt=b.memo((({onNewUpload:e,selectedAssetNum:t,selectedLanguageNum:a,disabled:n})=>{const s=g(),o=n||1!==t||1!==a,i=t>1?"Only one asset can be selected to upload a subtitle file":t<1?"One asset must be selected to upload a subtitle file":a>1?"Only one language can be selected to upload a subtitle file":a<1?"One language must be selected to upload a subtitle file":"";return f.jsx(Hw,{message:i,disabled:!o,children:f.jsxs("label",{htmlFor:s,className:`${ZRt} ${o?qRt:""}`,children:[f.jsx(gi,{className:JRt,size:16}),"Upload SRT / VTT",f.jsx("input",{accept:".srt,.vtt",onChange:async t=>{const{files:a}=t.target;if(!a)return;const[n]=a;if(!n)return;const{dispatch:s}=Mu(),{content:o,type:i}=await XRt(n);if(!i)return void s(db({description:"Unable to parse uploaded file",type:"warning"}));ov("srt"===i?"Upload SRT Attempt":"Upload VTT Attempt",{Location:"dubbing"});try{const t="srt"===i?KRt(o):YRt(o),a=n.name,s=xN(t);ov("srt"===i?"Upload SRT Success":"Upload VTT Success",{Location:"dubbing"});const r=await((e,t)=>Xf("/api/v1/dubbing/srtUpload",{body:{subtitles:e,fileName:t||"generatedSubtitleFrames"}}))(s,a);r.success&&r.id&&e(r.id,a,s)}catch(r){r.lineNumber?s(db({description:`Unable to read file due to an error for line number: ${r.lineNumber}.\nError message: ${r.message}`,type:"warning"})):r.id?s(db({description:`Unable to read file due to an error for subtitle number: ${r.id}.\nError message: ${r.message}`,type:"warning"})):r.line?s(db({description:`Unable to read file due to an error on line number: ${r.line}.\nError message: ${r.message}`,type:"warning"})):s(db({description:`Unable to read ${i.toUpperCase()} file`,type:"warning"}))}},onClick:e=>{e.currentTarget.value=""},id:s,type:"file",style:{display:"none"},disabled:o})]})})})),QRt=()=>{const e=Ljt(),{originalLanguageCode:t,originalSRT:a,assetsToDub:n}=jjt(),s=i.useCallback((t=>{e({originalLanguageCode:t})}),[e]),o=i.useCallback(((t,n,s)=>{(null==a?void 0:a.id)&&NRt(a.id),e({originalSRT:{id:t,fileName:n,magicSubtitleFrames:s}})}),[null==a?void 0:a.id,e]),r=i.useCallback((()=>{(null==a?void 0:a.id)&&NRt(a.id),e({originalSRT:null})}),[null==a?void 0:a.id,e]);return f.jsxs("div",{className:MRt,children:[f.jsxs("div",{className:PRt,children:[f.jsx(lRt,{children:"Original language"}),f.jsx($Rt,{onNewUpload:o,selectedAssetNum:n.size,selectedLanguageNum:1})]}),f.jsx(l0e,{languageCode:t,setLanguageCode:s,includeLanguageVariants:o0e.All,testid:"language-select"}),a&&f.jsx(VRt,{srt:a,onClickClear:r})]})},eNt=({paywalledAction:e,onPaywallSuccess:t=(()=>{}),label:a="Upgrade",overrideRecommendedUpgrade:n,immediateRedirectPathname:s,enforcePlanLimitsUsage:o})=>{const i=Bu(),r=rse(),l=P(),d=lg(),c=Du((e=>Nb(e))),u=ZIe(),p=f.jsxs("span",{children:[a," ",f.jsx(_se,{"data-testid":"upsell-button-pro-sparkle-icon"})]});return f.jsx(yje,{color:"upgrade",label:p,onClick:p=>{c?"Reactivate"===a?l(`/team/${d._id}/billing`):o?u(r(t,{action:e,teamId:d._id,overrideRecommendedUpgrade:n,immediateRedirectPathname:s}),o)():r(t,{action:e,teamId:d._id,overrideRecommendedUpgrade:n,immediateRedirectPathname:s})():i({type:"SHOW_SIGN_IN"}),p.stopPropagation()},dataTestId:"upsell-button"})},tNt="SubmitButton-module_container_KL3AR",aNt=({onSubmit:e})=>{var t,a;const{disabled:n,disabledReason:s,translatedLanguageCodes:o,ttsCost:r}=jjt(),{minutesToDub:l,assetWillBePartiallyDubbed:d}=Njt(),c=d?l:r,u=rP(),p=null==(t=u[Bd.TTS])?void 0:t.remainingUsage,m=null==(a=u[Bd.TTS])?void 0:a.hasConsumedLimit,g=QM(),h=i.useMemo((()=>{if(!g){if(m)return!0;if(void 0!==p&&p<c)return!0}return!1}),[m,g,p,c]),v=i.useMemo((()=>o.length>1?`Dub in ${o.length} languages`:"Dub Video"),[o.length]);return!gg(Fd.ONE_TO_MANY_DUBBING)&&o.length>1?f.jsx("div",{className:tNt,children:f.jsx(eNt,{paywalledAction:Dd.ONE_TO_MANY_DUBBING,label:"Dub in multiple languages",overrideRecommendedUpgrade:Id.Business,onPaywallSuccess:e})}):h?f.jsx("div",{className:tNt,children:f.jsx(eNt,{paywalledAction:Dd.VOICE_DUBBING,label:v,onPaywallSuccess:e})}):f.jsx("div",{className:tNt,children:f.jsx(_je,{onClick:e,label:v,disabled:n,disabledReason:s})})},nNt=e=>{const{data:t}=e;return f.jsxs(f.Fragment,{children:[f.jsx(Cn.Option,{...e}),t.showBorderUnderOption&&f.jsx("div",{className:s0e})]})},sNt={fontFamily:"'Open Sans', sans-serif",fontStyle:"normal",fontWeight:"600",fontSize:"12px",color:"white"},oNt={control:(e,t)=>({...e,background:"#202020",minHeight:"30px",height:"40px",border:"none",cursor:"pointer",opacity:t.isDisabled?"0.4":"1.0","&:hover":{backgroundColor:"#303030"}}),menuPortal:e=>({...e,zIndex:n0e()+1,pointerEvents:"all"}),valueContainer:e=>({...e,height:"30px",padding:"0 10px"}),singleValue:e=>({...e,...sNt}),indicatorsContainer:e=>({...e,height:"40px"}),indicatorSeparator:()=>({display:"none"}),input:e=>({...e,...sNt}),menu:e=>({...e,backgroundColor:"#202020"}),menuList:e=>({...e,zIndex:n0e()+1}),option:(e,{isFocused:t})=>({...e,...sNt,backgroundColor:t?"#0083e2":""}),placeholder:e=>({...e,...sNt,color:"#A0A0A0"})},iNt=b.memo((({currentOption:e,options:t,setOption:a,canSearch:n=!1,disabled:s=!1})=>{const o=Bg(),r=i.useCallback((e=>{a(e)}),[a]);return f.jsx("div",{children:f.jsx(Ka,{components:{Option:nNt},menuPortalTarget:B_(),value:e,options:t,onChange:r,isSearchable:!o&&n,isDisabled:s,placeholder:"Select language",styles:oNt})})})),rNt="DubbingTranslateMultiSelect-module_magicSubtitlesCheckbox_1RB7-",lNt=()=>null,dNt=e=>{const{isSelected:t,label:a,isDisabled:n,data:s}=e,o=s.disabledReason;return n&&o?f.jsxs(f.Fragment,{children:[f.jsx(Hw,{message:o,children:f.jsx("div",{children:f.jsx(Cn.Option,{...e,children:f.jsx(w_e,{checked:t,onChange:()=>null,label:a,checkboxClassName:rNt,disabled:n})})})}),s.showBorderUnderOption&&f.jsx("div",{className:s0e})]}):f.jsxs(f.Fragment,{children:[f.jsx("div",{children:f.jsx(Cn.Option,{...e,children:f.jsx(w_e,{checked:t,onChange:()=>null,label:a,checkboxClassName:rNt,disabled:n})})}),s.showBorderUnderOption&&f.jsx("div",{className:s0e})]})},cNt=({currentOption:e,options:t,setOption:a,canSearch:n=!1,disabled:s=!1,disableAdditionalSelection:o})=>{const r=Bg(),l=i.useMemo((()=>{var t;if(o){return`Multi-select not supported for ${null==(t=e[0])?void 0:t.label}`}return e.length>10?"Maximum 10 options can be selected":null}),[o,e]),d=i.useMemo((()=>t.map((t=>{const a=e.some((e=>e.label===t.label));let n,s=!1;return l&&!a?(s=!0,n=l):!t.canBeMultiSelected&&!a&&e.length>0&&(s=!0,n="Multi-select is not supported for this language"),{...t,isDisabled:s,disabledReason:n}}))),[t,e,l]),c=i.useMemo((()=>({input:e=>({...e,color:"white",fontFamily:"Open Sans",fontStyle:"normal",fontWeight:"normal",fontSize:"12px"}),control:(e,t)=>({...e,background:"#202020",minHeight:"30px",border:"none",cursor:"pointer",opacity:t.isDisabled?"0.4":"1.0","&:hover":{backgroundColor:"#303030"}}),menuPortal:e=>({...e,zIndex:n0e()+1,pointerEvents:"all"}),valueContainer:e=>({...e,padding:"4px",overflow:"auto",display:"flex","&::-webkit-scrollbar":{display:"none"}}),multiValue:e=>({...e,fontFamily:"Open Sans",fontStyle:"normal",fontWeight:"600",fontSize:"12px",margin:"2px",backgroundColor:"#404040",borderRadius:"50px",flex:"0 0 auto",padding:"4px","&:hover":{backgroundColor:"#505050"}}),multiValueLabel:e=>({...e,color:"white"}),multiValueRemove:t=>({...t,color:"white",borderRadius:"50%","&:hover":{backgroundColor:"#404040",color:"white"},display:1===e.length?"none":t.display}),indicatorsContainer:e=>({...e,minHeight:"40px"}),indicatorSeparator:()=>({display:"none"}),menu:e=>({...e,backgroundColor:"#202020"}),menuList:e=>({...e,zIndex:n0e()+1}),option:e=>({...e,fontFamily:"Open Sans",fontStyle:"normal",fontWeight:"600",fontSize:"12px",color:"white",backgroundColor:"","&:hover":{backgroundColor:"#0083e2"}}),placeholder:e=>({...e,fontFamily:"Open Sans",fontStyle:"normal",fontWeight:"600",fontSize:"12px",color:"#A0A0A0",position:"absolute"})})),[e]);return f.jsx(fke,{id:cZ.DubbingLanguageOptions,position:"top",align:"end",portal:!0,children:f.jsx("div",{"data-cy":"dubbing-translate-multi-select",children:f.jsx(Ka,{menuPortalTarget:B_(),value:e,options:d,isMulti:!0,isDisabled:s,onChange:e=>{a(e)},isSearchable:!r&&n,components:{Option:dNt,ClearIndicator:lNt},closeMenuOnSelect:!1,hideSelectedOptions:!1,getOptionValue:e=>e.label,getOptionLabel:e=>e.label,placeholder:"Select languages",styles:c})})})},uNt="TranslatedLanguages-module_container_pcmUM",pNt="TranslatedLanguages-module_labelRow_faFvn",mNt=_m.map((e=>({label:e,value:_jt(e),flagUrl:fm[e],canBeMultiSelected:gm(e)}))),gNt=()=>{const e=Ljt(),{originalLanguageCode:t,translatedLanguageCodes:a,translatedSRT:n,assetsToDub:s,multiSelectAndCloneOriginalVoiceDisabled:o}=jjt(),r=Du((e=>{var t;return null==(t=e.currentUser.user.dubbingPreferences)?void 0:t.translateCodes})),l=i.useCallback(((t,a,s)=>{(null==n?void 0:n.id)&&NRt(n.id),e({translatedSRT:{id:t,fileName:a,magicSubtitleFrames:s}})}),[null==n?void 0:n.id,e]),d=i.useMemo((()=>{const e=mNt.filter((e=>{const a=xm(e.label);if(a===t)return!0;const n=t.split("-")[0];return a.split("-")[0]!==n})),a=[],n=[...e];r&&r.forEach((e=>{const t=n.findIndex((t=>t.value===e));if(-1!==t){const e=n.splice(t,1)[0];a.push(e)}}));const s=a[a.length-1];return s&&(a[a.length-1]={...s,showBorderUnderOption:!0}),[...a,...n]}),[t,r]);i.useEffect((function(){const t=d.map((e=>e.value)),n=a.filter((e=>!t.includes(e)));n.length&&e({translatedLanguageCodes:a.filter((e=>!n.includes(e)))})}),[d,a,e]);const c=a.map((e=>d.find((t=>t.value===e)))).filter(vA),u=i.useCallback((t=>{const a=t.map((e=>{var t;return null==(t=e.value)?void 0:t.toString()})).filter(vA);e({translatedLanguageCodes:a})}),[e]),p=i.useCallback((()=>{(null==n?void 0:n.id)&&NRt(n.id),e({translatedSRT:null})}),[n,e]),m=gg(Fd.ONE_TO_MANY_DUBBING),g=i.useCallback((e=>{u(e?[e]:[])}),[u]);return f.jsxs("div",{className:uNt,children:[f.jsxs("div",{className:pNt,children:[f.jsx(lRt,{children:"Translate to"}),f.jsx($Rt,{onNewUpload:l,selectedAssetNum:s.size,selectedLanguageNum:a.length})]}),m?f.jsx(cNt,{currentOption:c,options:d,setOption:u,canSearch:!0,disableAdditionalSelection:o}):f.jsx(iNt,{currentOption:c[0]||null,options:d,setOption:g,canSearch:!0}),n&&f.jsx(VRt,{srt:n,onClickClear:p})]})},hNt="WorkspaceDubbingForm-module_container_cbang";function vNt({onDubbingStarted:e,advancedSettingsProps:t,assetPreview:a}){var n;const s=Bu(),o=Njt(),i=null==(n=jfe())?void 0:n._id,{assetsToDub:r,originalSRT:l,translatedSRT:d,originalLanguageCode:c,translatedLanguageCodes:u,voiceOption:p,allowVideoAdjustments:m,ttsCost:g}=jjt(),h=o.assetWillBePartiallyDubbed?o.minutesToDub:g,v=Ljt(),b=Ju(Ru.DUBBING_VIDEO_TRIMMING),y=Du(Nb),w=ZIe();return f.jsxs("div",{className:hNt,children:[f.jsx(RRt,{ttsCostOverride:h}),f.jsx("span",{children:a}),f.jsx(QRt,{}),f.jsx(gNt,{}),f.jsx(LRt,{}),f.jsx(yRt,{...t}),f.jsx(aNt,{onSubmit:()=>{y?(w((async()=>{const t=Array.from(r).filter((e=>"background-asset"!==e))[0];if(!t)throw new Error("No asset to dub");if(!i)throw new Error("No workspaceId");try{await O7({assetId:t,originalSRT:l,translatedSRT:d,translatedLanguageCodes:u,workspaceId:i,partialDubbingLength:o.assetWillBePartiallyDubbed?o.minutesToDub:void 0,options:{languageCode:c,voiceOption:p,allowVideoAdjustments:m,allowVideoTrimming:b&&m}}),e()}finally{v({disabled:!1,disabledReason:""})}}),{[Bd.TTS]:h})(),v({disabled:!0,disabledReason:"Kicking off your dub..."})):s({type:"SHOW_SIGN_IN"})}})]})}function fNt(e){return Rjt(),f.jsx(vNt,{...e})}function bNt(e){return f.jsx(fNt,{...e})}const yNt=()=>{};function wNt({children:e}){var t,a;Rjt();const[n,s]=i.useState(!1),[o,r]=i.useState(null),[l,d]=i.useState(null),[u,p]=i.useState(null),[m,g]=i.useState(!1),h=Du((e=>{var t;return null==(t=e.uploadStatuses)?void 0:t[String(o)]})),v=Du((e=>l&&e.assets.byId[l]||null)),b=jfe(),y=lg(),w={fileName:(null==v?void 0:v.name)||(null==v?void 0:v.blob_name)||(null==h?void 0:h.fileName),isVideo:(null==(t=null==v?void 0:v.content_type)?void 0:t.includes("video"))||(null==(a=null==h?void 0:h.uploadManager)?void 0:a.file.type.startsWith("video")),inProgress:!!h&&!v,isComplete:!!v},_=Ljt(),C=i.useCallback((()=>{r(null),p(null),d(""),_({assetsToDub:new Set,originalSRT:null,translatedSRT:null})}),[_]);i.useEffect((function(){b&&C()}),[b,y,C]),i.useEffect((function(){p(null)}),[o]),i.useEffect((function(){var e;u||(null==(e=null==h?void 0:h.uploadManager)?void 0:e.file)&&p(URL.createObjectURL(h.uploadManager.file))}),[v,u,h]);const S=i.useCallback(((e,t)=>{var a,n;const{state:s}=Mu(),o=null==(a=s.uploadStatuses)?void 0:a[String(t)],i=(null==(n=null==o?void 0:o.uploadManager)?void 0:n.layer)||{},r="width"in i?i.width:void 0,l="height"in i?i.height:void 0,d="duration"in i?i.duration:void 0,u=c.cloneDeep(e);return!u.dimensions&&l&&r&&(u.dimensions={height:l,width:r}),!u.duration&&d&&(u.duration=d),u}),[]);i.useEffect((function(){var e,t;const{state:a}=Mu();if(!v)return;if(!b)return;const n=S(v,o);new kQe({name:a.studio.name??"Dubbed Video",creatorId:a.currentUser.user._id,teamId:y._id,workspaceId:b._id,aspectRatio:{width:(null==(e=n.dimensions)?void 0:e.width)??1,height:(null==(t=n.dimensions)?void 0:t.height)??1}}).createVideoFromAsset(n),_({assetsToDub:new Set([v._id])})}),[v,S,b,y._id,_,o]);const x=()=>f.jsxs("div",{className:qjt,children:[f.jsx(Bjt,{className:Jjt}),f.jsx("div",{children:"Translate Studio"})]}),I=async()=>{s(!1);const{dispatch:e}=Mu();e(db({description:"Weve started dubbing your video! Well send you an email when your dub is ready.",type:"success"}));const t=Mu().state.workspaces.selectedWorkspace;try{const a=await Kf("/api/v1/home",{params:{workspaceId:t,teamId:Mu().state.teams.selectedTeamId}});a.projects&&e(Cte({projects:a.projects,folderId:t}))}finally{C()}};return f.jsxs(nl,{open:n,onOpenChange:e=>s((t=>null!==document.getElementById("paywall-id")?t:e)),children:[f.jsx(il,{asChild:!0,children:e}),f.jsx(rl,{children:f.jsx(_l,{className:k$e,children:f.jsx(Mjt,{children:f.jsx(ll,{className:L(E$e,m?j$e:L$e),"data-theme":"dark",onOpenAutoFocus:e=>e.preventDefault(),children:(()=>{if(m)return f.jsxs("div",{className:Qjt,children:[f.jsxs("div",{className:$jt,children:[f.jsxs("div",{className:sRt,onClick:()=>{g(!1)},children:[f.jsx(Do,{className:nRt}),x()]}),f.jsx(dl,{asChild:!0,children:f.jsx(R,{className:nRt})})]}),f.jsx(bIt,{defaultTab:fIt.translationRules})]});const e=w.isComplete||w.inProgress;return f.jsxs("div",{className:Qjt,children:[f.jsxs("div",{className:$jt,children:[f.jsx(Cl,{asChild:!0,children:x()}),f.jsx(dl,{asChild:!0,children:f.jsx(R,{className:nRt})})]}),e?f.jsx(bNt,{assetPreview:f.jsx(Zjt,{clearDubInfo:C,uploadId:o,localPreviewUrl:u,setLocalPreviewUrl:p,asset:v}),onDubbingStarted:I,advancedSettingsProps:{GlossaryEntrypoint:f.jsx(Ojt,{openGlossary:()=>g(!0)})}}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:eRt,children:[f.jsx("div",{className:tRt,children:"Unlock a global audience"}),f.jsx("div",{className:aRt,children:"Dub video content in 40+ languages with accurate translations, natural-sounding AI voice overs, and one-click voice cloning. Upload a video with speech to get started."})]}),f.jsx(C$e,{assetThumbnail:null,handleRemoveAsset:yNt,handleFileUploadFinish:e=>{const t=e[0];d((e=>t||e))},handleFileUploadStarted:e=>{const t=e[0];t&&r(t)},theme:"dark",multiple:!1,loadingStyle:"poster",validationOptions:{audioUpload:!0},setUploadValidationInfo:yNt,uploadOptions:TQe})]})]})})()})})})})]})}function _Nt(){return f.jsx(Ejt,{initialState:{dubDurationSelector:yjt},children:f.jsx(wNt,{children:f.jsx(gjt,{onClick:()=>{},callToAction:"Translate",Icon:Bjt})})})}const CNt=b.memo((({onClick:e})=>{const t=P(),a=i.useCallback((a=>{a.stopPropagation(),ov("Repurpose Button Clicked"),null==e||e(),t(`/repurpose/create?${Xw.REPURPOSE_ENTRY_POINT}=workspace`)}),[t,e]);return f.jsx(gjt,{onClick:a,callToAction:"Repurpose",Icon:aqe})})),SNt="FolderName-module_folderName_20WYj",xNt="FolderName-module_folderNameContainer_bQOh1",INt="FolderName-module_folderNameInputWrapper_F5kFY",ANt="FolderName-module_shareCrumb_EtFk-",kNt=b.memo((()=>{const{folderId:e,folderName:t}=Du((e=>{const t=e.workspaces.selectedWorkspace;return{folderId:t,folderName:M3(t)??"Untitled Folder"}}),Ou),a=lg(),[n,s]=i.useState(!1),[o,r]=i.useState(t),l=P(),d=Bu(),c=(e=>{const t=j3(e);return t&&!!(null==t?void 0:t.sharedAt)})(e),u=e===rd,p=i.useCallback((()=>{const t=o.trim()||"Untitled Folder";r(t),d(uf({workspaceId:e,newName:t})),Ube(e,{name:t}),s(!1)}),[d,o,e]),m=i.useCallback((e=>{r(e.target.value)}),[]),g=i.useCallback((e=>{e.preventDefault(),p()}),[p]),h=i.useCallback((()=>{p()}),[p]),v=i.useCallback((()=>{s(!0)}),[]),b=i.useCallback((()=>{ov("Open Shared with Me",{location:"breadcrumb"}),d(df(rd)),l("/shared-with-me")}),[d,l]),y=i.useCallback((()=>{c||(r(t),s(!0))}),[t,c]);return f.jsxs("div",{className:xNt,children:[f.jsx(Nt,{children:f.jsx("title",{children:`${t}  ${a.name}  Kapwing`})}),c&&!u&&f.jsxs("div",{onClick:b,className:ANt,"data-cy":"swm-breadcrumb",children:["SharedwithMe",">"]}),c||!n?f.jsx("div",{className:SNt,onClick:y,"data-cy":"folder-name","data-testid":"folder-name",children:t}):f.jsx(Xr,{onSubmit:g,className:INt,children:f.jsx(Zr,{name:"Folder Name",children:f.jsx(qr,{asChild:!0,children:f.jsx("input",{type:"text",className:SNt,value:n?o:t,onChange:m,onBlur:h,onFocus:v,"data-cy":"workspace-header-input",autoComplete:"off",autoFocus:!0,"data-testid":"folder-name-input"})})})})]})})),TNt="FolderViewController-module_disabled_6Wvd-",ENt="FolderViewController-module_header_ULYEu",LNt="FolderViewController-module_dropdownContainer_FPHVf",jNt="FolderViewController-module_item_UObOk",RNt="FolderViewController-module_selected_K2AqQ",NNt="FolderViewController-module_ddItemLabel_94L-0",MNt="FolderViewController-module_dropdownSelector_7jXsg",PNt="FolderViewController-module_container_meBvR",FNt="FolderViewController-module_sortField_zWCAT",DNt="FolderViewController-module_sortOrder_zufaH",ONt="FolderViewController-module_hidden_xJtGU",UNt="FolderViewController-module_sortOptionsContainer_Tep9Z",BNt="FolderViewController-module_createButtonsContainer_QxC56",WNt="FolderViewController-module_settings_aUPEs",VNt="FolderViewController-module_settingsContainer_LIovx",HNt="FolderViewController-module_settingsIcon_Lm-1D",zNt=b.memo((({folderProjectsIsEmpty:e,foldersArray:t})=>{const{currentFolderSettings:a,isAscendingSortOrder:n,isDescendingSortOrder:s,SWMFolderSettings:o,sharedWithMe:r}=Du((e=>({sharedWithMe:e.workspaces.selectedWorkspace===rd,currentFolderSettings:e.workspaces.currentFolderSettings,isAscendingSortOrder:njt(e),isDescendingSortOrder:sjt(e),SWMFolderSettings:e.workspaces.SWMFolderSettings})),Ou),[l,d]=i.useState(!1),c=i.useRef(null),u=Bu(),p=P(),m=Ju(Ru.HAS_TRANSLATE_OVERLAY_ACCESS),g=0===(null==t?void 0:t.length),h=(null==a?void 0:a.sortField)===af.PROJECT_NAME&&!r||(null==o?void 0:o.sortField)===af.PROJECT_NAME&&r,v=(null==a?void 0:a.sortField)===af.DATE_EDITED&&!r||(null==o?void 0:o.sortField)===af.DATE_EDITED&&r||!o&&r||!a&&!r,b=(null==a?void 0:a.sortField)===af.LAST_EDITOR&&!r||(null==o?void 0:o.sortField)===af.LAST_EDITOR&&r,y=(null==a?void 0:a.sortField)===af.DATE_CREATED&&!r||(null==o?void 0:o.sortField)===af.DATE_CREATED&&r,w=e=>{u(r?vf({sortField:(null==o?void 0:o.sortField)??af.DATE_EDITED,sortOrder:e}):hf({sortField:(null==a?void 0:a.sortField)??af.DATE_CREATED,sortOrder:e}))},_=()=>{w(n?nf.DESCENDING:nf.ASCENDING)},C=()=>{r?(null==o?void 0:o.sortField)!==af.DATE_EDITED&&o?u(vf({sortField:af.DATE_EDITED,sortOrder:nf.ASCENDING})):w((null==o?void 0:o.sortOrder)===nf.ASCENDING?nf.DESCENDING:nf.ASCENDING):(null==a?void 0:a.sortField)!==af.DATE_EDITED&&a?u(hf({sortField:af.DATE_EDITED,sortOrder:nf.ASCENDING})):w((null==a?void 0:a.sortOrder)===nf.ASCENDING?nf.DESCENDING:nf.ASCENDING),k()},S=()=>{r?(null==o?void 0:o.sortField)===af.PROJECT_NAME?w((null==o?void 0:o.sortOrder)===nf.ASCENDING?nf.DESCENDING:nf.ASCENDING):u(vf({sortField:af.PROJECT_NAME,sortOrder:nf.ASCENDING})):(null==a?void 0:a.sortField)===af.PROJECT_NAME?w((null==a?void 0:a.sortOrder)===nf.ASCENDING?nf.DESCENDING:nf.ASCENDING):u(hf({sortField:af.PROJECT_NAME,sortOrder:nf.ASCENDING})),k()},x=()=>{r?(null==o?void 0:o.sortField)===af.LAST_EDITOR?w((null==o?void 0:o.sortOrder)!==nf.ASCENDING&&o?nf.ASCENDING:nf.DESCENDING):u(vf({sortField:af.LAST_EDITOR,sortOrder:nf.ASCENDING})):(null==a?void 0:a.sortField)===af.LAST_EDITOR?w((null==a?void 0:a.sortOrder)!==nf.ASCENDING&&a?nf.ASCENDING:nf.DESCENDING):u(hf({sortField:af.LAST_EDITOR,sortOrder:nf.ASCENDING})),k()},I=()=>{r?(null==o?void 0:o.sortField)===af.DATE_CREATED?w((null==o?void 0:o.sortOrder)===nf.ASCENDING?nf.DESCENDING:nf.ASCENDING):u(vf({sortField:af.DATE_CREATED,sortOrder:nf.ASCENDING})):(null==a?void 0:a.sortField)===af.DATE_CREATED?w((null==a?void 0:a.sortOrder)===nf.ASCENDING?nf.DESCENDING:nf.ASCENDING):u(hf({sortField:af.DATE_CREATED,sortOrder:nf.ASCENDING})),k()},A=()=>{var e;d(!0),null==(e=null==c?void 0:c.current)||e.focus()},k=()=>{d(!1)},T=()=>f.jsxs("div",{className:`${LNt} ${!l&&ONt}`,ref:c,"data-testid":"grid-view-sort-field-dropdown",children:[f.jsx("div",{className:`${jNt} ${v&&RNt}`,onClick:C,"data-testid":"grid-view-sort-field-dd-item-date-edited",children:f.jsx("span",{className:NNt,children:r?"Share date":"Date edited"})}),f.jsx("div",{className:`${jNt} ${h&&RNt}`,onClick:S,"data-testid":"grid-view-sort-field-dd-item-item-name",children:f.jsx("span",{className:NNt,children:"Item name"})}),f.jsx("div",{className:`${jNt} ${b&&RNt}`,onClick:x,"data-testid":"grid-view-sort-field-dd-item-last-editor",children:f.jsx("span",{className:NNt,children:r?"Shared by":"Last editor"})}),f.jsx("div",{className:`${jNt} ${y&&RNt}`,onClick:I,"data-testid":"grid-view-sort-field-dd-item-date-created",children:f.jsx("span",{className:NNt,children:"Date created"})})]}),E=i.useCallback((()=>{p("/settings/folder")}),[p]);return f.jsxs("div",{className:PNt,"data-testid":"view-controller-container",children:[f.jsxs("div",{className:ENt,children:[f.jsx(kNt,{}),f.jsxs("div",{className:WNt,children:[f.jsxs("div",{className:L(UNt,{[TNt]:e&&g}),children:[f.jsxs("div",{tabIndex:0,onBlur:k,className:MNt,children:[f.jsx(Hw,{message:"Sort projects by",children:f.jsxs("div",{className:FNt,onClick:A,"data-testid":"grid-view-sort-field",children:[f.jsx("span",{children:h&&"Item name"}),f.jsx("span",{children:v&&(r?"Share date":"Date edited")}),f.jsx("span",{children:b&&(r?"Shared by":"Last editor")}),f.jsx("span",{children:y&&"Date created"})]})}),T()]}),f.jsx(Hw,{message:"Toggle sort order",children:f.jsxs("div",{className:`${DNt}`,onClick:_,"data-testid":"grid-view-sort-order",children:[n&&f.jsx(qs,{"data-testid":"sort-order-ascending"}),s&&f.jsx(Zs,{"data-testid":"sort-order-descending"})]})})]}),!r&&f.jsx("div",{"data-cy":"workspace-settings-button",onClick:E,className:VNt,children:f.jsx(bi,{className:HNt})})]})]}),!r&&f.jsxs("div",{className:BNt,"data-testid":"create-new-project-button",children:[f.jsx(vjt,{}),m&&f.jsx(_Nt,{}),f.jsx(CNt,{}),f.jsx(fjt,{})]})]})})),GNt=e=>i.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 103 92",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},i.createElement("path",{d:"M24 2V90M79 2V90M2 24H24M79 24H101M2 46H101M2 68H24M79 68H101M7.5 90H95.5C96.9587 90 98.3576 89.4205 99.3891 88.3891C100.421 87.3576 101 85.9587 101 84.5V7.5C101 6.04131 100.421 4.64236 99.3891 3.61091C98.3576 2.57946 96.9587 2 95.5 2H7.5C6.04131 2 4.64236 2.57946 3.61091 3.61091C2.57946 4.64236 2 6.04131 2 7.5V84.5C2 85.9587 2.57946 87.3576 3.61091 88.3891C4.64236 89.4205 6.04131 90 7.5 90Z",stroke:"#D0D0D0",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round"})),YNt="FolderViewEmpty-module_container_PTZqR",KNt="FolderViewEmpty-module_emptyWarning_E-NAb",XNt="FolderViewEmpty-module_icon_v8vvI";function ZNt(){return f.jsxs("div",{className:YNt,"data-testid":"folder-view-no-projects",children:[f.jsx(GNt,{className:XNt}),f.jsx("div",{className:KNt,children:"You dont have any projects in this folder yet. Click one of the buttons above to get started."})]})}const qNt=()=>{};function JNt({setElementRef:e,selectedProjectIds:t,selectedWorkflowIds:a,initialItemsLoaded:n,startFetchingProjects:s,lockedProjectIds:o,folderItems:r,onSelectProjectOrWorkflow:l}){const d=P(),{currentFolderId:c,currentFolderSettings:u,isSWM:p,selectionMode:m,selectedTeamId:g,currentFolderUploads:h,currentUser:v}=Du((e=>{var t;const a=e.workspaces.selectedWorkspace,n=a===rd;return{currentFolderId:a,currentFolderSettings:n?e.workspaces.SWMFolderSettings:e.workspaces.currentFolderSettings,isSWM:n,selectionMode:e.workspaces.selectionMode,selectedTeamId:e.teams.selectedTeamId,currentUser:e.currentUser,currentFolderUploads:null==(t=e.workspaces.workspaceUploads)?void 0:t[a]}}),Ou),{getUploadStatus:b}=PJe(),y=Bu(),w=Du((e=>e.workspaces.allWorkspaces.filter((e=>e._id&&e.sharedAt))),Ou),_=i.useMemo((()=>{const e=u?u.sortOrder:nf.ASCENDING;let t=p?qLt(e):tjt(e);return(null==u?void 0:u.sortField)===af.PROJECT_NAME&&(t=(e=>(t,a)=>$Lt(t,a,e))(e)),(null==u?void 0:u.sortField)===af.DATE_EDITED&&(t=p?qLt(e):(e=>(t,a)=>ZLt(t,a,e))(e)),(null==u?void 0:u.sortField)===af.LAST_EDITOR&&(t=p?(e=>(t,a)=>ejt(t,a,e))(e):(e=>(t,a)=>QLt(t,a,e))(e)),(null==u?void 0:u.sortField)===af.DATE_CREATED&&(t=tjt(e)),w.sort(t)}),[u,w,p]),C=Bg(),S=0===(null==w?void 0:w.length),x=!(null==r?void 0:r.length),A=!n,k=!A&&x&&(!p||S)&&!(null==h?void 0:h.length)&&!A,T=r.map((e=>e._id)).toString();i.useEffect((function(){qm(v)||d("/")}),[v,d]),i.useEffect((function(){(async()=>{const e=await N3(c);if(404===e.status||403===e.status)if(g){const e=F3(g);OSe(e)}else{const e=P3();OSe(e)}})()}),[c,g]),i.useEffect((function(){s(c,{workspaceId:c,teamId:g,token:v.token,userId:v.user._id})}),[c,v.token,v.user._id,g,s]),i.useEffect((()=>{var e;null==(e=ba)||e()}),[T]);const E=i.useMemo((()=>f.jsx(yLt,{})),[]),j=i.useMemo((()=>r.map((t=>a=>e(a,`${t.type}_${t._id}`)))),[r,e]),R=()=>f.jsx(f.Fragment,{children:r.map(((e,n)=>{var s;if(e.type===gu.VIDEO){const a=e.content;if((e=>!e.content||!!e.content.isBrandKitTemplate)(a))return null;const i=!(!(null==(s=a.content)?void 0:s.createdAt)||!o)&&(null==o?void 0:o.includes(a._id)),r=m&&t.includes(a._id);return f.jsx(ya,{placeholder:E,offset:100,scrollContainer:"#hub-scroll-container",children:f.jsx(CLt,{video:a.content,project:a,locked:!p&&!Mb(v)&&i,lockedForUser:i,sharedAt:"sharedAt"in a?a.sharedAt:void 0,isSelected:r,onSelect:l,selectionMode:m,setProjectElRef:j[n],isMobile:C},a._id)},a._id)}const i=e.content,r=m&&a.includes(i._id),d=F(i);return f.jsx(Lbt,{workspaceElement:d,onRename:U(i),dropdown:O(i._id),onClick:B(i),selectable:!0,isSelected:r,selectionMode:m,setRef:j[n]},i._id)}))}),N=i.useMemo((()=>null==h?void 0:h.map((e=>()=>y(mf({...e,folderId:c}))),[])),[c,h,y]),M=()=>{const e=c===rd;return h&&h.length?f.jsx(f.Fragment,{children:h.map(((t,a)=>{const n=t.assetId&&b({assetId:t.assetId})||t.uploadId&&b({uploadId:t.uploadId})||null;if(!n)return null;const{data:s,status:o}=n;return o===MJe.Unknown?null:o===MJe.Uploading?f.jsx(SLt,{id:s.assetId??s.id,name:s.fileName??ql,fileUploadProgress:s.progressText??I.startCase(o),cancelUpload:(null==N?void 0:N[a])??qNt,shared:e},a):o!==MJe.Complete?f.jsx(SLt,{id:s._id,name:s.name??ql,fileUploadProgress:I.startCase(o),cancelUpload:(null==N?void 0:N[a])??qNt,shared:e},a):null}))}):null},F=i.useCallback((e=>{const t=e.status===vu.COMPLETE?e.numHighlights:void 0,a=e.thumbnailUrl||gd,n=e.status===vu.PENDING||e.status===vu.RUNNING?[{label:"Processing..."}]:[{label:`${e.lastEditorName}, ${bP(e.lastSaved)}`}];return{elementType:gu.WORKFLOW,iconText:t,header:e.name?e.name:"Find Highlights",thumbnailUrl:a,subheader:n,workflowId:e._id,handleWorkflowSelection:l}}),[l]),D=i.useCallback((async(e,t)=>{await e7(e,t)}),[]),O=i.useCallback((e=>[{label:"Delete",type:Xft.Generic,onClick:async t=>{t.stopPropagation(),Jbe({projectIds:[],workflowIds:[e]})},icon:f.jsx(Ts,{})}]),[]),U=i.useCallback((e=>t=>D(e._id,t)),[D]),B=i.useCallback((e=>()=>{d(`/repurpose/${e._id}`)}),[d]);return f.jsxs(f.Fragment,{children:[f.jsx(zNt,{foldersArray:w,folderProjectsIsEmpty:x}),f.jsx(WLt,{children:k?p?f.jsxs("div",{className:VLt,children:[f.jsx("img",{src:"https://cdn-useast1.kapwing.com/static/NvQ-cat handshake.webp",className:HLt,alt:"No shared content, yet!","data-testid":"folder-view-no-shared-content"}),f.jsx("div",{className:zLt,children:"No content has been shared with you yet. If someone shares a project with you, it will show up here for easy access."})]}):f.jsx(ZNt,{}):f.jsx("div",{className:L({[GLt]:!0}),children:A?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:YLt,"data-loading":!0,children:f.jsx("div",{className:KLt,"data-cy":"empty-project-tile"})}),f.jsx("div",{className:YLt,"data-loading":!0,children:f.jsx("div",{className:KLt})}),f.jsx("div",{className:YLt,"data-loading":!0,children:f.jsx("div",{className:KLt})})]}):p?f.jsxs(f.Fragment,{children:[!S&&(null==_?void 0:_.map((e=>f.jsx(BLt,{folder:e,sharedWithMe:p},e._id)))),!x&&R()]}):f.jsxs(f.Fragment,{children:[M(),R()]})})})]})}const $Nt="SelectionModeToolbar-module_selectionModeToolbar_xVVdZ",QNt="SelectionModeToolbar-module_active_DDU4m",eMt="SelectionModeToolbar-module_actions_iXV8f",tMt="SelectionModeToolbar-module_button_cy-sn",aMt="SelectionModeToolbar-module_icon_FgtIO",nMt=b.memo((({projectIds:e,workflowIds:t})=>{const a=IA(),n=DZe();if(!a)return null;return f.jsxs("button",{className:tMt,onClick:async()=>{const{destinationFolder:a}=await n({projectIds:e,workflowIds:t,entryPoint:o2.WORKSPACE_BULK_MOVE});zbe(a)},children:[f.jsx("div",{className:aMt,children:f.jsx(ho,{})}),"Move"]})})),sMt=b.memo((({selectedProjectIds:e,selectedWorkflowIds:t,exitSelection:a})=>{const n=Du((e=>e.workspaces.selectionMode)),s=Bg(),o=e.length+t.length,i=`${o} ${ec("item","items",o)} selected`;return f.jsxs("div",{className:`${$Nt} ${n&&QNt}`,"data-cy":"selection-mode-toolbar",onPointerDown:e=>e.stopPropagation(),children:[f.jsx("p",{"data-cy":"selection-mode-toolbar-text",children:i}),f.jsxs("div",{className:eMt,children:[f.jsx(nMt,{projectIds:e,workflowIds:t}),f.jsxs("button",{onClick:()=>{ov("Multi Select Project Management Action Initiated",{"Project Action":"Delete","Number of Projects":o}),Jbe({projectIds:e,workflowIds:t,onSubmit:a})},className:tMt,children:[f.jsx("div",{className:aMt,children:f.jsx(yi,{})}),"Delete"]}),!s&&f.jsxs("div",{className:tMt,onClick:a,children:[f.jsx("div",{className:aMt,children:f.jsx(wi,{})}),"Cancel"]})]})]})}));function oMt(e){var t,a,n,s,o,i;return{type:gu.VIDEO,content:e,name:(null==(t=e.content)?void 0:t.name)||ql,createdAt:(null==(n=null==(a=e.content)?void 0:a.createdAt)?void 0:n.toLocaleString())||"",lastEditor:(null==(s=e.content)?void 0:s.lastEditorName)||"",editedAt:(null==(i=null==(o=e.content)?void 0:o.lastSaved)?void 0:i.toLocaleString())||"",_id:e._id}}function iMt(e){return{type:gu.WORKFLOW,content:e,name:e.name||ql,createdAt:e.lastSaved,lastEditor:e.lastEditorName,editedAt:e.lastSaved,_id:e._id}}const rMt=(e,t)=>{switch(t){case af.PROJECT_NAME:return e.name||ql;case af.DATE_EDITED:return e.editedAt;case af.LAST_EDITOR:return e.lastEditor;case af.DATE_CREATED:return e.createdAt;default:throw new Error(`Unknown sort field: ${t}`)}},lMt=()=>{const e=cg(),{currentFolderSettings:t,currentFolderId:a}=Du((e=>{const t=e.workspaces.selectedWorkspace;return{currentFolderSettings:t===rd?e.workspaces.SWMFolderSettings:e.workspaces.currentFolderSettings,currentFolderId:t}}),Ou),n=Du((e=>{const t=e.projects.projectIdsByFolderId[a];return null==t?void 0:t.map((t=>e.projects.byId[t])).filter(vA)}),Ou),{workflows:s,isLoading:o}=(({folderId:e})=>{const t=Bu(),a=e===rd,n=Du((t=>{const a=t.workflows.workflowIdsByFolderId[e];if("success"===(null==a?void 0:a.status))return a.data.map((e=>t.workflows.folderWorkflowsById[e])).map((e=>"success"===(null==e?void 0:e.status)?e.data:void 0)).filter(vA).filter((e=>!(OK(e._id)||e.status===vu.FAILED||e.status===vu.COMPLETE&&!e.highlightsAreGenerating&&!e.numHighlights)))}),Ou),s=Du((t=>{var a;return null==(a=t.workflows.workflowIdsByFolderId[e])?void 0:a.status}));i.useEffect((function(){void 0===s&&!a&&(t(uH.folderWorkflowsFetchStarted(e)),async function(){const{workflows:a}=await Kf(`/api/v2/workflows/folder/${e}`);t(uH.folderWorkflowsFetched({folderId:e,workflows:a}))}().catch((a=>{t(uH.folderWorkflowsFetchError({folderId:e,error:a.message}))})))}),[t,s,e,a]);const o=!(a||s&&"fetching"!==s);return i.useMemo((()=>({workflows:n,isLoading:o})),[o,n])})({folderId:a}),r=Du((t=>{const a=(t.projects.projectIdsByFolderId[t.workspaces.selectedWorkspace]||[]).map((e=>t.projects.byId[e])).filter(vA).filter((e=>e.content)).map((e=>e._id));if(!e.hasPermission(Fd.UNLIMITED_STORAGE)&&a&&a.length>3)return[...a].slice(0,a.length-3)}),Ou);return i.useMemo((()=>{const e=[...(n||[]).filter(Y5e).map(oMt),...(s||[]).map(iMt)].sort(((e,a)=>((e,t,a,n)=>{const s=rMt(e,a),o=rMt(t,a);return a===af.PROJECT_NAME||a===af.LAST_EDITOR?n===nf.ASCENDING?s.localeCompare(o):o.localeCompare(s):n===nf.ASCENDING?new Date(o).getTime()-new Date(s).getTime():new Date(s).getTime()-new Date(o).getTime()})(e,a,(null==t?void 0:t.sortField)||af.PROJECT_NAME,(null==t?void 0:t.sortOrder)||nf.ASCENDING)));return{lockedProjectIds:r,workflowAreLoaded:!o,items:e}}),[null==t?void 0:t.sortField,null==t?void 0:t.sortOrder,r,n,o,s])},dMt=b.memo((({initialProjectsLoaded:e,startFetchingProjects:t})=>{const[a,n]=i.useState({}),[s,o]=i.useState({lastVerticalScroll:0,vertical:0,horizontal:0}),[r,l]=i.useState(),d=Bu(),c=Bg(),u=Hg(),[p,m]=i.useState([]),[g,h]=i.useState([]),{currentFolderId:v,boxSelectedIds:b,sharedWithMe:y,selectionMode:w}=Du((e=>{const t=e.workspaces.selectedWorkspace;return{currentFolderId:t,sharedWithMe:t===rd,boxSelectedIds:e.studioLocal.boxSelectedIds,selectionMode:e.workspaces.selectionMode}}),Ou),[_,C]=i.useState(!1),[S,x]=i.useState(!1),[I,A]=i.useState(0),[k,T]=i.useState(0),{lockedProjectIds:E,items:L,workflowAreLoaded:j}=lMt(),R=j&&e,N=i.useRef(null);i.useEffect((function(){if(!R)return;const e=j3(v);e&&d(xf.setLastValidWorkspaceInfo({folderId:v,teamId:e.teamId}))}),[v,d,R]),(()=>{const e=F(),t=rse();i.useEffect((function(){const{optionalProperties:a}=e.state??{};(null==a?void 0:a.upgradeTo)&&t((()=>{}),{})()}),[e.state,t])})();const M=i.useCallback((()=>{m([]),h([]),l(void 0),d(gf(!1))}),[d]),P=i.useCallback((()=>{S&&(C(!1),x(!1))}),[S]),D=i.useCallback((()=>{if(_){const e=[],t=[];Object.entries(b).forEach((([a,n])=>{"project"===n.type?e.push(a):"workflow"===n.type&&t.push(a)})),x(!0),m(e),h(t),d(gf(e.length>0||t.length>0))}}),[b,d,_]),O=i.useCallback((e=>{ba();const t=e.target;"hub-scroll-container"===t.id&&(S?(D(),o((e=>{const a=t.scrollTop-e.lastVerticalScroll,n={...e};return 0!==n.lastVerticalScroll&&(n.vertical+=a),n.lastVerticalScroll=t.scrollTop,n}))):A(-1*t.scrollTop))}),[D,S]),[U,B]=i.useState([]),W=i.useCallback((()=>!L||v===rd?[]:L.map((e=>{var t,n;const s=a[`${e.type}_${e._id}`];if(!s)return e;const{top:o,left:i,width:r,height:l}=s.getBoundingClientRect(),d={top:o+((null==(t=N.current)?void 0:t.scrollTop)??0),left:i+((null==(n=N.current)?void 0:n.scrollLeft)??0),width:r,height:l};return{_id:e._id,position:d,type:e.type}}))),[v,L,a]),V=i.useCallback((e=>{if(!(v===rd)&&w&&(e.ctrlKey||e.metaKey)&&"a"===e.key){e.preventDefault();const t=U.map((e=>e._id));d(gf(t.length>0)),m(t)}}),[v,d,w,U]),H=i.useCallback((()=>{o({vertical:0,horizontal:0,lastVerticalScroll:0})}),[]),z=i.useCallback((e=>{if(!N.current)return;const{y:t}=Pce(e);if(null==t)return;const a=t,n=window.innerHeight-t,s=N.current.scrollTop,o=N.current.scrollHeight-N.current.clientHeight-N.current.scrollTop;a<50?N.current.scrollTop-=Math.min(s,15):n<50&&(N.current.scrollTop+=Math.min(o,15))}),[]),G=i.useCallback((e=>{const t=Object.values(a).some((t=>null==t?void 0:t.contains(e.target)));"mouse"===e.pointerType&&(0!==e.button||y||t||(l({x:e.clientX,y:e.clientY}),B(W()),C(!0),document.addEventListener("pointermove",z)))}),[W,z,a,y]),Y=i.useCallback((()=>{var e;document.removeEventListener("pointermove",z),!S&&_&&M(),A(-1*((null==(e=N.current)?void 0:e.scrollTop)??0)),H(),x(!1),C(!1)}),[H,M,z,_,S]),K=i.useCallback((()=>{const e=U.findIndex((e=>e._id===p[p.length-1])),t=U.findIndex((e=>e._id===g[g.length-1]));return Math.max(e,t)}),[U,p,g]),X=i.useCallback((({id:e,selected:t,type:a,shiftKey:n=!1})=>{let s=[];if(s=t?"project"===a?[...p,e]:[...g,e]:"project"===a?p.filter((t=>t!==e)):g.filter((t=>t!==e)),n){const t=U.findIndex((t=>t._id===e)),n=K(),o=Math.min(t,n),i=Math.max(t,n),r=[],l=[];for(let e=o;e<=i;e++){const t=U[e];t&&("video"===t.type?s.includes(t._id)||p.includes(t._id)||r.push(t._id):"workflow"===t.type&&(s.includes(t._id)||g.includes(t._id)||l.push(t._id)))}"project"===a?(h([...g,...l]),s=[...s,...r]):(m([...p,...r]),s=[...s,...l])}"project"===a?m(s):h(s),d(gf(p.length>0||g.length>0||s.length>0))}),[d,g,p,U,K]),Z=i.useCallback((()=>{l(void 0)}),[]);i.useEffect((function(){(c||u)&&d(gf(!1))}),[d,u,c]),i.useEffect((function(){d({type:"RESET_EDITOR"}),d({type:"RESET_STUDIO"}),M()}),[d,M]),i.useLayoutEffect((function(){var e,t,a;return N.current=document.querySelector("#hub-scroll-container"),T((null==(e=N.current)?void 0:e.getBoundingClientRect().left)||0),null==(t=N.current)||t.addEventListener("mouseup",P),null==(a=N.current)||a.addEventListener("scroll",O),()=>{var e,t;null==(e=N.current)||e.removeEventListener("mouseup",P),null==(t=N.current)||t.removeEventListener("scroll",O)}}),[P,O]);const q=i.useCallback(((e,t)=>{e&&n((a=>{const n={...a};return n[t]=e,n}))}),[]);return f.jsxs("div",{onPointerDown:G,onPointerMove:D,onPointerUp:Y,onKeyDown:V,className:aLt,children:[f.jsxs("div",{className:nLt,children:[f.jsx(JNt,{setElementRef:q,selectedProjectIds:p,selectedWorkflowIds:g,initialItemsLoaded:R,startFetchingProjects:t,lockedProjectIds:E,folderItems:L,onSelectProjectOrWorkflow:X}),f.jsx("div",{className:sLt,style:{top:-45,left:-k},children:U.length>0&&!y&&r&&f.jsx(zue,{boxSelectStartCoords:r,setBoxSelectStartCoordsToNull:Z,containerOffsetX:0,containerOffsetY:I,autoScrollDisplacement:s,unlockedProjectsArray:U,location:"workspace"})})]}),f.jsx(sMt,{selectedProjectIds:p,selectedWorkflowIds:g,exitSelection:M}),f.jsx(LQe,{})]})})),cMt="ErrorBoundary-module_errorText_YHNLi";let uMt=!1;class pMt extends b.Component{static getDerivedStateFromError(){return{hasError:!0}}constructor(e){super(e),this.state={hasError:!1}}componentDidCatch(e,t){console.error(e,t);const a=mMt(e);uMt||(ov("Error Boundary",{Error:a,"Full Refresh":this.props.refreshOnError}),function(e,t){const a={errorInfo:t};try{let n="Unknown";try{n=e.constructor.name}catch{n="Unknown "+typeof e}a.errorClassName=n;const{componentStack:s}=t||{};!gMt(e.stack)&&gMt(s)&&(a.originalStack=e.stack,e.stack=s)}catch(s){console.error(s)}const n=e instanceof Error?e:new Error(e);l(n,{extra:a,tags:{errorBoundary:!0}})}(e,t),uMt=!0),this.props.refreshOnError&&Hz()}render(){return this.state.hasError?this.props.refreshOnError?null:f.jsx("div",{className:cMt,children:"Something went wrong while loading Kapwing. Please try refreshing the page or trying again later."}):this.props.children}}function mMt(e){var t;const a="object"==typeof e;let n=e.toString();if(null==(t=n.startsWith)?void 0:t.call(n,"[")){a&&"message"in e&&(n=e.message);const t=a&&e.constructor?e.constructor.name:"";t&&(n=`${t}: ${n}`)}return n}function gMt(e){if("string"!=typeof e)return!1;return e.split("\n").filter((e=>e.includes("at ")&&e.includes("/assets/"))).some((e=>{const t=e.match(/\/assets\/(?!vendor).*\..*\.js/);return t&&t.length>0}))}const hMt=b.memo((({previousResponseRef:e,previousCustomResponseRef:t,onClose:a})=>{const n=Du((e=>e.currentUser)),[s,o]=i.useState((null==e?void 0:e.current)??""),[r,l]=i.useState((null==t?void 0:t.current)??""),d=Bg(),c=Aft();i.useEffect((function(){ov("Begin how did you hear about us")}),[]);const u=i.useCallback((async t=>{null==t||t.preventDefault(),((e,t)=>{const{state:a}=Mu(),{currentUser:n}=a||{},{user:s}=n||{},{_id:o}=s||{},i={"Discovery Path":e,"Custom Response":t};o&&amplitude.setUserId(o),sv(i),ov("Completed how did you hear about us",i)})(s,r),e&&(e.current=s),c.exists?c.goToNextModal():null==a||a()}),[s,r,c,a,e]),p=i.useCallback((e=>{o(e.value)}),[]),m=B_(),g=()=>{c.exists?c.onClose():null==a||a()},h=()=>f.jsxs("div",{className:V$e,"data-cy":"how-did-you-hear-about-us-modal","data-testid":"how-did-you-hear-about-us-modal",children:[f.jsxs("div",{className:z$e,children:[f.jsx("div",{className:I$e,children:"We're happy you're here"+((null==n?void 0:n.name)?`, ${n.name}`:".")}),f.jsx("p",{children:"Youre about to create content, quicker and easier. One last thing before we customize your workspace:"}),f.jsxs("div",{children:[f.jsx("div",{className:N$e,children:"How did you hear about us?"}),f.jsx(Ka,{"aria-label":"discovery-path-dropdown",onChange:p,styles:ZK,options:XK,placeholder:"",theme:e=>qK(e),isSearchable:!d,maxMenuHeight:d?150:250,menuPortalTarget:m})]}),s===zK&&(s===zK?f.jsxs("div",{children:[f.jsx("div",{className:N$e,children:"Please specify below:"}),f.jsx("input",{className:nQe,type:"text",name:"Discovery Path Custom Response",placeholder:"",value:r,onChange:({target:e})=>{l(e.value),t&&(t.current=e.value)},autoComplete:"off"})]}):null),f.jsx("form",{className:B$e,onSubmit:u,children:f.jsx(GIe,{className:rQe,onClick:u,testId:"how-did-you-hear-about-us-continue-button",buttonText:"Continue"})})]}),f.jsx("div",{className:H$e,style:{backgroundImage:'url(\n            "https://cdn-useast1.kapwing.com/static/GHv-how-did-you-hear-about-us-hd.webp"\n          )'}}),f.jsx("div",{className:`${G$e} ${Y$e}`,onClick:g,children:f.jsx(R,{})})]});return c.exists?h():f.jsx(rC,{noCloseButton:!0,usePortal:!0,noScrollBar:!0,noPadding:!0,unsetCancelModal:a,children:h()})})),vMt=f.jsx("div",{className:sQe,children:f.jsx(Ea,{})}),fMt=b.memo((({onClose:e})=>{const t=Du((e=>e.currentUser)),a=Aft(),n=P(),s=F(),{search:o}=s,r=new URLSearchParams(o),l=lg(),d=r.get("videoId"),u=r.get("projectName"),{pushWithSource:p}=QKe(),m=(null==l?void 0:l.name)&&d&&u,g=Bg();i.useEffect((function(){(async()=>{try{const e=await(async e=>await Kf(`/api/v2/teams/${e}/onboarding`))(l._id),t={...e,survey:{...e.survey,date:new Date}};await $K(t)}catch(b9e){console.error(b9e)}})()}),[l._id,t]);const h=i.useCallback((()=>{ov("Took Welcome Screen Action",{Action:Vc.DISMISS}),a.exists?a.onClose():null==e||e()}),[a,e]),v=i.useCallback((t=>{null==t||t.preventDefault(),ov("Took Welcome Screen Action",{Action:Vc.CREATE_NEW_PROJECT}),eZ({source:HB.Onboarding}),m7({entry:p7.ONBOARDING_MODAL}),dR(),a.exists?a.onClose():null==e||e()}),[a,e]),b=i.useCallback((()=>{m?(ov("Took Welcome Screen Action",{Action:Vc.GO_TO_PROJECT}),c5({callToAction:Qh.OnboardingModal}),n(`/${d}/studio/editor`)):v()}),[v,n,m,d]),y=i.useCallback((t=>{try{Ev.set("LANDING_PAGE_SAMPLE",JSON.stringify("video-editor"))}catch(n){console.error(n)}null==t||t.preventDefault(),c5({callToAction:Qh.OnboardingModal}),eZ({source:HB.Onboarding,sample:!0}),p("/studio/editor",$Ke.ONBOARDING_MODAL),a.exists?a.onClose():null==e||e()}),[a,e,p]),w=i.useCallback((()=>{ov("Took Welcome Screen Action",{Action:Vc.TRY_A_SAMPLE}),y()}),[y]),_=()=>{const e=""+((null==t?void 0:t.user.firstName)?`You're in, ${c.capitalize(t.user.firstName)}! `:"You're in! "),a=m?`Congrats on joining ${l.name}! You can now edit ${u}.`:"Get started by creating a new project or playing around with one of our videos";return f.jsxs("div",{className:V$e,"data-testid":"invite-accepted-modal",children:[f.jsxs("div",{className:z$e,children:[f.jsx("div",{className:I$e,children:e}),f.jsx("p",{children:a}),f.jsx("form",{className:B$e,children:f.jsxs("div",{className:iQe,children:[f.jsx(GIe,{className:rQe,onClick:b,buttonText:u&&d&&l.name?"Go to Project":"Create New Project",testId:"primary-button"}),f.jsx(GIe,{className:lQe,onClick:w,buttonText:"Start with a sample",testId:"secondary-button",icon:vMt})]})})]}),f.jsx("div",{className:H$e,style:{backgroundImage:'url(\n            "https://cdn-useast1.kapwing.com/static/YZE-TellYourStory.webp"\n          )'}}),f.jsx("div",{className:`${G$e} ${g?Y$e:K$e}`,onClick:h,"data-testid":"close-button",children:f.jsx(R,{})})]})};return a.exists?_():f.jsx(rC,{noCloseButton:!0,usePortal:!0,noScrollBar:!0,noPadding:!0,unsetCancelModal:h,children:_()})})),bMt=f.jsx("div",{className:sQe,children:f.jsx(Ea,{})}),yMt=b.memo((({onClose:e})=>{const t=P(),a=Aft(),n=i.useCallback((()=>{a.exists?a.onClose():null==e||e()}),[a,e]),s=i.useCallback((()=>{n(),t(`/repurpose/create?${Xw.REPURPOSE_ENTRY_POINT}=onboarding`)}),[n,t]),o=i.useCallback((()=>{n()}),[n]),r=()=>f.jsxs("div",{className:V$e,"data-testid":"onboarding-repurpose-promo-modal",children:[f.jsxs("div",{className:z$e,children:[f.jsx("div",{className:I$e,children:"Repurpose your first project"}),f.jsx("p",{children:"Youre all set up! "}),f.jsx("p",{children:"Ready to repurpose your first project? With the Repurpose Studio, you can turn a long video into many short clips 10x faster."}),f.jsx("p",{children:"In just a few clicks, well find the most interesting parts of your video and transform them into social-ready clips which you can download right away or adjust in the editor."}),f.jsxs("div",{className:iQe,children:[f.jsx(GIe,{className:rQe,onClick:s,buttonText:"Create new Repurpose Project",testId:"primary-button"}),f.jsx(GIe,{className:lQe,onClick:o,buttonText:"Continue to Workspace",testId:"secondary-button",icon:bMt})]})]}),f.jsx("video",{playsInline:!0,autoPlay:!0,muted:!0,loop:!0,className:H$e,children:f.jsx("source",{src:"https://cdn-useast1.kapwing.com/static/BlG-repurpose_animation_promo_V1.mp4"})}),f.jsx("div",{className:`${G$e} ${Y$e}`,onClick:n,"data-testid":"dismiss-button",children:f.jsx(R,{})})]});return a.exists?r():f.jsx(rC,{noCloseButton:!0,noScrollBar:!0,noPadding:!0,unsetCancelModal:n,children:r()})})),wMt=b.memo((()=>{const e=Aft(),t=i.useCallback((()=>{if(!e.exists)throw new Error("The onboarding paywall should not be used outside of the Onboarding modal flows.");e.goToNextModal()}),[e]);return e.exists?f.jsx(ase,{action:Dd.ONBOARDING_SURVEY,onClose:t}):null})),_Mt=b.memo((()=>{const{skipped:e,updateOnboardingData:t,isRepurposeUser:a}=VAt(),n=e;i.useEffect((function(){P5(j5.Onboarding,{inProgress:!0})}),[]);const s=i.useMemo((()=>{const e=[f.jsx(hMt,{},"howDidYouHearAboutUs"),f.jsx(wMt,{},"onboardingPaywall")];return a?[...e,f.jsx(yMt,{},"onboardingRepurposePromo")]:e}),[a]),o=i.useMemo((()=>[f.jsx(fMt,{},"inviteAccepted")]),[]),r=i.useCallback((async()=>{await t("firstSessionOnboarding",{dateDismissed:new Date}),P5(j5.Onboarding,{inProgress:!1})}),[t]),l=i.useCallback((async()=>{await t("firstSessionOnboarding",{dateComplete:new Date}),P5(j5.Onboarding,{inProgress:!1})}),[t]);return f.jsx(rC,{noCloseButton:!0,usePortal:!0,noScrollBar:!0,noPadding:!0,unsetCancelModal:r,children:f.jsx(kft,{modalSteps:n?o:s,onClose:r,onFlowDismissed:r,onFlowComplete:l,testId:"first-session-onboarding"})})})),CMt="OnboardingSurvey-module_disabled_GRN0K",SMt="OnboardingSurvey-module_header_OSceE",xMt="OnboardingSurvey-module_inputLabel_CXMP1",IMt="OnboardingSurvey-module_modalWithImageContainer_AXn-d",AMt="OnboardingSurvey-module_right_p3y9b",kMt="OnboardingSurvey-module_left_ZKzfR",TMt="OnboardingSurvey-module_selected_YXenR",EMt="OnboardingSurvey-module_input_-x-H7",LMt="OnboardingSurvey-module_modalPrimaryButton_RsWpw",jMt="OnboardingSurvey-module_dialogButtonsContainer_Z1y4Q",RMt="OnboardingSurvey-module_dialogButton_sV4kN",NMt="OnboardingSurvey-module_dropdown_5i-sA",MMt="OnboardingSurvey-module_subHeader_M1jJV",PMt=f.jsx(v_,{}),FMt=f.jsx("span",{children:"Continue"}),DMt=()=>{const[e,t]=i.useState(),[a,n]=i.useState(""),[s,o]=i.useState(""),[r,l]=i.useState(""),[d,c]=i.useState(""),[u,p]=i.useState(!1),m=Bg(),g=function(){const[e,t]=i.useState(!1),a=Du((e=>{var t;if(!e.currentUser)return!1;if("object"!=typeof e.currentUser.user||!e.currentUser.user)return!1;const a=null==(t=e.currentUser.user.onboarding)?void 0:t.survey;return!!a&&a.usage===Kc.School}));return i.useEffect((function(){bde().then((()=>{t(e4())}))}),[]),e&&!a}(),h=Aft();i.useEffect((function(){N5(j5.Onboarding,{inFirstSession:!0,inProgress:!0})}),[]),i.useEffect((function(){ov("Began Onboarding Survey")}),[]);const v=i.useCallback((()=>{const t=!a,n=!s;return!e||(e===Kc.Work?t||n:e===Kc.School?!a:n)}),[a,s,e]),b=i.useCallback((async()=>{const e=await(async()=>{const{state:e,dispatch:t}=Mu(),{selectedTeamId:a}=e.teams,{brandfetchAssetsFetched:n}=e.workspaces;if(n)return;const{brandfetchAssets:s}=await Xf(`/api/v2/teams/${a}/brandkit/brandfetch`);return t(Cf(!0)),s})();if(e){const s=((t=e.logos).sort(((e,t)=>"icon"===e.type&&"icon"!==t.type?-1:"icon"===t.type&&"icon"!==e.type?1:"dark"===e.theme?-1:1)),(null==(n=null==(a=t[0])?void 0:a.formats.find((e=>"svg"!==e.format)))?void 0:n.src)??"");await Vyt(s)}var t,a,n;await Vne(),await kb()}),[]),y=i.useCallback((async()=>{if(!v()&&!u&&e)try{p(!0),await JK(e,a,s,r,d),e===Kc.Work&&await U6(),e!==Kc.School&&g&&await b()}catch(t){console.error("Error submitting onboarding survey.",t),p(!1)}}),[v,u,e,a,s,r,d,b,g]),w=i.useCallback((async()=>{await y()}),[y]),_=i.useCallback((e=>qK(e)),[]),C=i.useCallback((e=>{n(e.value)}),[]),S=i.useCallback((e=>{n(e.value)}),[]),x=i.useCallback((e=>{o(e.value)}),[]),I=B_(),A=()=>f.jsxs("div",{className:NMt,"data-testid":"project-usage-dropdown",children:[f.jsx("div",{className:xMt,children:"What kind of content do you plan to make?"}),f.jsx(Ka,{"aria-label":"project-usage-dropdown",onChange:x,styles:ZK,options:KK,placeholder:"",theme:_,isSearchable:!m,maxMenuHeight:m?150:250,menuPortalTarget:I,menuPlacement:"auto"})]}),k=()=>s===zK?f.jsx("input",{className:EMt,type:"text",name:"Project Usage Custom Response",placeholder:"Ex: I'm creating podcasts",value:d,onChange:({target:e})=>{c(e.value)},autoComplete:"off"}):null,T=()=>f.jsxs("div",{className:NMt,"data-testid":"school-role-dropdown",children:[f.jsx("div",{className:xMt,children:"I am a..."}),f.jsx(Ka,{"aria-label":"school-role-dropdown",onChange:S,styles:ZK,options:YK,placeholder:"",theme:_,isSearchable:!m,maxMenuHeight:250,menuPortalTarget:I,menuPlacement:"auto"})]}),E=()=>f.jsxs("div",{className:IMt,"data-testid":"onboarding-survey",children:[f.jsxs("div",{className:kMt,children:[f.jsx("div",{className:SMt,"data-cy":"onboarding-wizard-title",children:"Let's get you set up"}),f.jsx("p",{className:MMt,children:"Kapwing is a collaborative video editor that empowers creators and teams to share their stories."}),f.jsx("div",{className:xMt,children:"I'm using Kapwing primarily for..."}),f.jsxs("div",{className:jMt,children:[f.jsx("div",{className:`${RMt} ${e===Kc.Work?TMt:""}`,onClick:()=>{n(""),o(""),t(Kc.Work)},"data-cy":"onboarding-work-button","data-testid":"onboarding-work-button",children:"Work"}),f.jsx("div",{className:`${RMt} ${e===Kc.School?TMt:""}`,onClick:()=>{n(""),o(""),t(Kc.School)},"data-cy":"onboarding-school-button","data-testid":"onboarding-school-button",children:"School"}),f.jsx("div",{className:`${RMt} ${e===Kc.PersonalProjects?TMt:""}`,onClick:()=>{n(""),o(""),t(Kc.PersonalProjects)},"data-cy":"onboarding-personal-projects-button","data-testid":"onboarding-personal-projects-button",children:"Personal Projects"})]}),e===Kc.Work&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:NMt,"data-testid":"work-dropdown",children:[f.jsx("div",{className:xMt,children:"What kind of work do you do?"}),f.jsx(Ka,{"aria-label":"work-usage-dropdown",onChange:C,styles:ZK,options:GK,placeholder:"",theme:_,isSearchable:!m,maxMenuHeight:m?150:250,menuPortalTarget:I,menuPlacement:"auto"})]}),a===zK?f.jsx("input",{className:EMt,type:"text",name:"Occupation Custom Response",placeholder:"Ex: CEO",value:r,onChange:({target:e})=>{l(e.value)},autoComplete:"off"}):null,A(),k()]}),e===Kc.School&&T(),e===Kc.PersonalProjects&&f.jsxs(f.Fragment,{children:[A(),k()]}),e&&f.jsx(GIe,{className:`${LMt} ${v()||u?CMt:""}`,onClick:w,testId:"onboarding-continue-button",buttonText:u?PMt:FMt})]}),f.jsx("div",{className:AMt,style:{backgroundImage:'url(\n            "https://cdn-useast1.kapwing.com/static/28U-onboarding-modal.webp"\n          )'}})]});return h.exists?E():f.jsx(rC,{noCloseButton:!0,usePortal:!0,noScrollBar:!0,noPadding:!0,children:E()})},OMt=b.memo((()=>{const{updateOnboardingData:e}=VAt();i.useEffect((function(){P5(j5.Onboarding,{inProgress:!0})}),[]);const t=i.useMemo((()=>[f.jsx(mwt,{entryPoint:hyt.USER_ONBOARDING,onSubmit:n4},"customizeWorkspace"),f.jsx(Pwt,{entryPoint:hyt.USER_ONBOARDING},"inviteMembers")]),[]),a=i.useCallback((async()=>{await e("secondSessionOnboarding",{dateDismissed:new Date}),P5(j5.Onboarding,{inProgress:!1})}),[e]),n=i.useCallback((async()=>{await e("secondSessionOnboarding",{dateComplete:new Date}),P5(j5.Onboarding,{inProgress:!1})}),[e]);return f.jsx(rC,{noCloseButton:!0,usePortal:!0,noScrollBar:!0,noPadding:!0,unsetCancelModal:a,children:f.jsx(kft,{modalSteps:t,onClose:a,onFlowDismissed:a,onFlowComplete:n,testId:"second-session-onboarding"})})})),UMt=b.memo((()=>{const{showOnboardingSurvey:e,showFirstSessionOnboarding:t,showSecondSessionOnboarding:a,showPostOnboardingUpsell:n}=VAt();return Du((e=>e.currentUser)).impersonatingAdminEmail?null:e?f.jsx(DMt,{}):t?f.jsx(_Mt,{}):a?f.jsx(OMt,{}):n?f.jsx(WAt,{}):null}));function BMt(){var e,t;const{currentUser:a,currentFolderId:n,teamId:s}=Du((e=>({currentUser:e.currentUser,currentFolderId:e.workspaces.selectedWorkspace,teamId:e.teams.selectedTeamId})),Ou),o=Bu(),r=F(),l=null==(e=Ht("/folder/:id/*"))?void 0:e.params,d=null==(t=Ht("/team/:teamId/*"))?void 0:t.params,c=Y1(r.pathname),u=Pve(),[p,m]=i.useState(null),[g,h]=i.useState(""),[v,b]=i.useState(!1),[y,w]=i.useState(!1),[_,C]=i.useState(!0),S=Bg(),[x,I]=i.useState(!S),A=i.useRef(!1);i.useEffect((()=>{S&&x&&r.pathname&&c&&r.pathname!==c&&I(!1)}),[r.pathname,c,S,x]),i.useEffect((function(){s&&d_(s)}),[s]),i.useEffect((function(){return document.body.classList.add(eAt),()=>{document.body.classList.remove(eAt)}}),[]),i.useEffect((function(){const e=new URLSearchParams(r.search);if(e.has(dd.ScheduledMarketingEmail)){const t=e.get(dd.ScheduledMarketingEmail)||void 0;ov("Visit From Marketing Email",{"Template Id":t})}}),[r.search]);const k=tY((async()=>{const e=(null==d?void 0:d.teamId)||!1,t=r.pathname.includes(rd)?rd:null==l?void 0:l.id,a=!e&&(t??n)||"";await Tb();const s=await X6(a,e);["/brandkit","/team/request","/shared-with-me"].includes(r.pathname)||r.pathname.includes("members")||r.pathname.includes("settings")||r.pathname.includes("billing")||r.pathname.includes("search")||aR(`/folder/${s}${r.search}`,{...r.state}),C(!1),kb()}));i.useEffect((function(){return()=>{o(ib())}}),[o]),i.useEffect((function(){var e;(null==(e=r.state)?void 0:e.openModal)===xXe.account&&w(!0)}),[r.state]);i.useEffect((()=>{p&&(async(e,t)=>{var a;if(!e)return;b(!1);let n=!0;for(delete t.lastId;n;){let i;try{e===rd?(i=await Kf("/api/v1/sharedProjects",{params:t,signal:u.signal}),b(!0)):(i=await Kf("/api/v1/home",{params:t,signal:u.signal}),b(!0))}catch(b9e){b9e instanceof Error&&(s=b9e,console.error(s),ov("Failed to load workspace",{message:mMt(s),status:s instanceof Hf?s.status:void 0}));break}const r=i.projects,l="workspace"in i?null==(a=i.workspace)?void 0:a._id:void 0,{brandkitTemplates:d}=i;if(l!==g&&h(l),d&&o(Ab(d)),r){L(r,e);const a=r.slice(-1)[0];t.lastId=l===rd?null==a?void 0:a.sharedId:null==a?void 0:a._id,t.lastId&&"continueFetchingProjects"in i&&i.continueFetchingProjects||(n=!1)}else n=!1;e!==g&&(n=!1)}var s})(g,{...p})}),[g]);const T=i.useCallback((async()=>{const{state:e}=Mu();if(!qm(e.currentUser))return;if(!A.current)return k(),void(A.current=!0);const t=e.workspaces.selectedWorkspace;if(["/folder","/folder/"].includes(r.pathname))t?aR(`/folder/${t}`):(async()=>{const{dispatch:e}=Mu();let t;try{t=await X6("",Mu().state.teams.selectedTeamId)}catch(b9e){console.error(b9e)}t?aR(`/folder/${t}`):(e(db({description:"There was an error loading your folders.",type:"error"})),e(fb("")),qm(Mu().state.currentUser)?cR():aR("/signin"))})();else if(r.pathname.startsWith("/folder/")&&(null==l?void 0:l.id)){const e=null==l?void 0:l.id;if(e!==t&&!["invite","create"].includes(e))if(R3(e))o(df(e));else{const t=await D6(e);if(t)FSe(t.teamId,e),o(df(e));else{o(db({description:`There was an error with navigating to folder ${e}.`,type:"error"}));const t=P3();o(df(t)),aR(`/folder/${t}`)}}}else["/shared-with-me","/shared-with-me/"].includes(r.pathname)&&t!==rd&&o(df(rd))}),[r.pathname,null==l?void 0:l.id,k,o]);i.useEffect((()=>{T()}),[T]);const E=i.useCallback(((e,t)=>{m(t),h(e)}),[]),L=i.useCallback(((e,t)=>{o(Cte({projects:e,folderId:t}))}),[o]),j=i.useCallback((()=>f.jsx(dMt,{startFetchingProjects:E,initialProjectsLoaded:v})),[v,E]),R=i.useCallback((()=>{w(!0)}),[]),N=i.useCallback((()=>{w(!1),window.history.replaceState({},document.title)}),[]);if(!qm(a))return f.jsx(Rt,{to:"/signin",replace:!0});if(_)return f.jsx(ibe,{title:"Loading your workspace..."});const M=r.pathname.split("/")[1];return f.jsxs(YAt,{children:[f.jsx(nxe,{}),f.jsxs("div",{className:tAt,children:[f.jsx(UEt,{toggleSidebar:()=>I((e=>!e))}),f.jsxs("main",{className:aAt,children:[f.jsx(KTt,{showSidebar:x,setShowSidebar:I,openAccountSettings:R}),f.jsxs("div",{className:nAt,id:"hub-scroll-container",children:[y&&f.jsx(Jpt,{closeAccountSettings:N}),f.jsx(UMt,{}),f.jsx(to,{children:(()=>{switch(M){case"brandkit":return f.jsx(ao,{path:"/",element:f.jsx(QIt,{})});case"folder":return f.jsxs(f.Fragment,{children:[f.jsx(ao,{path:"/:id",element:j()}),f.jsx(ao,{path:"/:id/rename",element:j()}),f.jsx(ao,{path:"/create",element:j()}),f.jsx(ao,{path:"/:id/create",element:j()})]});case"team":return f.jsx(ao,{path:"/:id/*",element:f.jsx(tCt,{})});case"shared-with-me":return f.jsx(ao,{path:"/",element:j()});case"search":return f.jsxs(f.Fragment,{children:[f.jsx(ao,{path:"/",element:f.jsx(tLt,{})}),f.jsx(ao,{path:"/:teamId",element:f.jsx(tLt,{})})]});case"settings":return f.jsxs(f.Fragment,{children:[f.jsx(ao,{path:"/*",element:f.jsx(Rmt,{})}),f.jsx(ao,{path:"/folder/cancel",element:f.jsx(Rmt,{})})]})}})()})]})]})]})]})}const WMt="TeamInfo-module_teamName_Xfgec",VMt="TeamInfo-module_numberCount_u7TXA",HMt="TeamInfo-module_teamContainer_VVg3R",zMt="TeamInfo-module_teamNameContainer_Glos9",GMt="TeamInfo-module_center_B8CrF",YMt="TeamInfo-module_profilePicture_L4e2c",KMt=b.memo((({teamId:e,teamName:t,teamPicture:a,teamMemberCount:n,button:s})=>{const o=i.useMemo((()=>({_id:e,name:t,picture:a})),[e,t,a]);return f.jsxs("div",{className:HMt,children:[f.jsx(xve,{className:YMt,team:o,absoluteHeight:40,absoluteWidth:40})," ",f.jsxs("div",{className:`${zMt} ${n?"":GMt}`,children:[f.jsx("div",{className:WMt,children:t}),f.jsx("div",{className:VMt,children:n?`${n} ${ec("Member","Members",n)}`:""})]}),s]})})),XMt={pathname:"/home"},ZMt=()=>{const e=Du((e=>e.currentUser.user.onboarding)),{inviteKey:t=""}=D(),{acceptInvite:a,acceptingInvite:n}=sXe(),{isFetching:s,teamInfo:o,inviterInfo:r,error:l}=Eot(t,aXe.EMAIL),{pushWithSource:d}=QKe(),u=()=>{d("/home",$Ke.NEW_USER_INVITE_DISMISSED)},p=i.useCallback((async()=>{await $K({skipped:!0}),await Qf(),d("/home",$Ke.NEW_USER_INVITE_ACCEPTED)}),[d]),m=i.useCallback((async()=>{const n=!((null==e?void 0:e.survey)||(null==e?void 0:e.skipped)),s={onSuccess:p,withoutToast:n};await a(t,nXe.ONBOARDING_MODAL,s)}),[a,p,t,null==e?void 0:e.skipped,null==e?void 0:e.survey]),g=i.useCallback((async()=>{await m()}),[m]);if(l&&!s)return f.jsx("div",{"data-testid":"redirect-to-home",children:f.jsx(Rt,{to:XMt,replace:!0})});if(s||!o||!r)return f.jsx(ibe,{});return f.jsx("div",{className:T$e,style:{backgroundImage:'url("https://cdn-useast1.kapwing.com/static/MTK-abstracted-workspace-2.webp")'},children:f.jsx(rC,{noCloseButton:!0,usePortal:!0,noScrollBar:!0,noPadding:!0,children:(()=>{const e=r.firstName?`Join ${c.capitalize(r.firstName)}'s team`:`Join ${o.name} on Kapwing`,t=r.firstName?`${c.capitalize(r.firstName)} has invited you to join their team workspace. Accept the invitation to start collaborating on projects with them!`:`You have been invited to ${o.name}. Accept the invitation to start collaborating on projects now!`;return f.jsxs("div",{className:V$e,children:[f.jsxs("div",{className:z$e,children:[f.jsx("div",{className:I$e,children:e}),f.jsx("p",{children:t}),f.jsx(KMt,{teamId:o._id,teamName:o.name,teamMemberCount:o.memberCount,teamPicture:o.picture}),f.jsx(GIe,{className:rQe,onClick:g,buttonText:n?"Joining Team...":"Accept Invite",testId:"accept-invite-button"})]}),f.jsx("div",{className:H$e,style:{backgroundImage:'url(\n            "https://cdn-useast1.kapwing.com/static/mJA-NewUserInviteAcceptModal.webp"\n          )'}}),f.jsx("div",{className:`${G$e} ${Y$e}`,onClick:u,"data-testid":"dismiss-button",children:f.jsx(R,{})})]})})()})})},qMt=Node.prototype.removeChild,JMt=Node.prototype.insertBefore;function $Mt(){const{documentElement:e}=document;return!!e.className.match("translated")||"en"!==e.lang}let QMt=(()=>{const e=$Mt();return ePt(e),e})();function ePt(e){sv({"Using Google Translate":e}),x({category:"google-translate",message:"Google Translate is "+(e?"active":"inactive")}),e?function(){if("function"!=typeof Node||!Node.prototype)return()=>{};Node.prototype.removeChild=function(e){return e.parentNode!==this?(console&&console.error("Cannot remove a child from a different parent",e,this),e):qMt.apply(this,arguments)},Node.prototype.insertBefore=function(e,t){return t&&t.parentNode!==this?(console&&console.error("Cannot insert before a reference node from a different parent",t,this),e):JMt.apply(this,arguments)}}():(Node.prototype.removeChild=qMt,Node.prototype.insertBefore=JMt)}const tPt=i.lazy((()=>EC((()=>import("./StudioEditor-BKwjhAF1.js")),__vite__mapDeps([4,0,1,5,6,7,8])))),aPt=vC((function(e){return i.useEffect((function(){const t=e.match.params.id;var a;a=!!t,cz=performance.now(),uz={},lz=!1,dz=a}),[]),f.jsx(i.Suspense,{fallback:f.jsx(ibe,{theme:h_.Studio,title:"Loading Kapwing..."}),children:f.jsx(tPt,{...e})})})),nPt=i.lazy((()=>EC((()=>import("./AdminContainer-CzRY6ROE.js")),__vite__mapDeps([9,0,1,5,6,7,10,11,12])))),sPt=i.lazy((()=>EC((()=>import("./AdminLongTailAnalytics-D335vDTs.js")),__vite__mapDeps([13,0,1,5,14])))),oPt=i.lazy((()=>EC((()=>import("./DebugContainer-BViDjBGI.js")),__vite__mapDeps([15,0,1,10,11,5,16])))),iPt=i.lazy((()=>EC((()=>import("./HappyBirthday-DVpSz8ul.js")),__vite__mapDeps([17,0,1,5])))),rPt="common-module_textContainer_wWlp8",lPt="common-module_textHeader_lDqnw",dPt="common-module_textDescription_Alzad",cPt="common-module_previewImage_chk2r",uPt="common-module_preview_OtztG";class pPt extends i.Component{render(){return f.jsxs("div",{children:[f.jsxs(Nt,{children:[f.jsx("title",{children:"Free Sound Effects for Video Editing  Kapwing"}),f.jsx("meta",{name:"description",content:"Use Kapwing's trendy sound effects generator to add emphasis to a video in a few clicks. Choose from over 30 popular sound effects, from Pikachu to Pacman."}),f.jsx("meta",{name:"keywords",content:"sound effects, sound effect generator"}),f.jsx("meta",{property:"og:url",content:"https://www.kapwing.com/sound-effects"}),f.jsx("meta",{property:"og:title",content:"Trendy Sound Effects Editor - Kapwing"}),f.jsx("meta",{property:"og:description",content:"Add trendy sound effects directly to your video in just a few clicks. Choose from over 30 popular sound effects, from Pikachu to Pacman."}),f.jsx("meta",{property:"og:image",content:"https://i.imgur.com/SN2lyIK.png"}),f.jsx("meta",{property:"og:image:url",content:"https://i.imgur.com/SN2lyIK.png"}),f.jsx("meta",{property:"twitter:image",content:"https://i.imgur.com/SN2lyIK.png"}),f.jsx("link",{rel:"canonical",href:"https://www.kapwing.com/sound-effects"})]}),f.jsx(dnt,{}),f.jsxs("div",{className:rPt,children:[f.jsx("div",{className:lPt,children:"Trendy Sound Effects Editor"}),f.jsxs("div",{className:dPt,children:[f.jsx("p",{children:"The Trendy Sound Effects Editor was a fun project that allowed users to add, well, trendy sound effects to their videos."}),f.jsx("p",{children:"We created the app after watching many fun videos with funny sound effects, like a snap of fingers, or an explosion effect for extra emphasis."}),f.jsxs("p",{children:["The sound effects editor was featured in various places online including"," ",f.jsx("a",{href:"https://www.producthunt.com/posts/trendy-sound-effect-editor/",children:"Product Hunt"})," ","as well as"," ",f.jsx("a",{href:"https://www.thewindowsclub.com/kapwing-meme-maker-generator",children:"The Windows Club"}),"."]})]}),f.jsx("div",{}),f.jsx("div",{className:uPt,children:f.jsx("img",{src:"https://i.imgur.com/VXAqJZW.png",alt:"Sound Effects Editor Home Page",className:cPt})}),f.jsx("div",{className:uPt,children:f.jsx("img",{src:"https://i.imgur.com/iHjfHSa.png",alt:"Sound Effects Editor Preview",className:cPt})}),f.jsx("div",{}),f.jsx("div",{className:dPt,children:f.jsx("p",{children:"The feature included a large variety of sounds that could be added to the video, including the Mario Power-up sound, iMessage sending, mouse clicking, and many more."})}),f.jsx("div",{className:uPt,children:f.jsx("img",{src:"https://i.imgur.com/QZR9LIc.png",alt:"Sound Effects Sounds Preview",className:cPt})}),f.jsxs("div",{className:dPt,children:[f.jsxs("p",{children:["The feature was deprecated in October of 2018 due to a lack of maintainence. If you're looking to add sound to your video, you can use the ",f.jsx("a",{href:"/tools/add-audio",children:"Add Sound to Video"})," ","feature on ",f.jsx("a",{href:"/",children:"Kapwing"}),"."]}),f.jsx("p",{children:"Thanks for visiting the Trendy Sound Effects Editor and have a nice day."})]})]}),f.jsx(Int,{})]})}}const mPt="Cancel-module_notFoundContainer_J25-w",gPt=b.memo((()=>{const e=Du(Nb),t=Du(rg);return i.useEffect((function(){e||aR("/signin");const t=setTimeout((()=>{aR("/")}),1e4);return()=>{clearTimeout(t)}}),[e]),i.useEffect((function(){nR()}),[t]),f.jsxs(f.Fragment,{children:[f.jsx(dnt,{}),f.jsx("div",{className:mPt,children:f.jsx(iye,{})}),f.jsx(Int,{})]})})),hPt="EduSignup-module_container_ECCNv",vPt="EduSignup-module_typeformBackground_3ag-y",fPt="EduSignup-module_typeformWidget_KPV-N",bPt=b.memo((()=>{const e="EDU Program Sign Up  Kapwing",t="Sign up as a district admin and apply for the EDU Program offered by Kapwing. Kapwing PRO is 100% free for qualified students, teachers, and educators.";return f.jsxs(f.Fragment,{children:[f.jsx(dnt,{}),f.jsxs(Nt,{children:[f.jsx("title",{children:e}),f.jsx("meta",{name:"description",content:t}),f.jsx("meta",{property:"og:title",content:e}),f.jsx("meta",{property:"og:description",content:t}),f.jsx("meta",{name:"robots",content:"noindex, nofollow"})]}),f.jsx("div",{className:hPt,children:f.jsx("div",{className:vPt,children:f.jsx(M.Widget,{id:"agzKsq7v",className:fPt})})}),f.jsx(Int,{})]})})),yPt="EduLogin-module_background_UY0lC",wPt="EduLogin-module_backgroundImage_B9bmy",_Pt="EduLogin-module_signInContainer_eItaB",CPt="EduLogin-module_signInHeader_1Owt6",SPt="EduLogin-module_signInText_6fHb8",xPt="EduLogin-module_text_lbSrU",IPt="EduLogin-module_signInBox_pPH3j",APt=b.memo((()=>{const e="EDU Program Sign In  Kapwing",t="Sign in to apply to the EDU Program offered by Kapwing. Kapwing PRO is 100% free for qualified students, teachers, and educators.";return f.jsxs(f.Fragment,{children:[f.jsx(dnt,{}),f.jsxs(Nt,{children:[f.jsx("title",{children:e}),f.jsx("meta",{name:"description",content:t}),f.jsx("meta",{property:"og:title",content:e}),f.jsx("meta",{property:"og:description",content:t}),f.jsx("meta",{name:"robots",content:"noindex, nofollow"})]}),f.jsxs("div",{className:yPt,children:[f.jsx("img",{src:"https://cdn-useast1.kapwing.com/static/U90-Kit-Bob-Background.webp",alt:"student kit and bob",className:wPt}),f.jsxs("div",{className:_Pt,children:[f.jsx("div",{className:CPt,children:"Sign in to get started with Kapwing for Education"}),f.jsx("div",{className:SPt,children:f.jsx("div",{className:xPt,children:"Please sign in with your official school email address."})}),f.jsx("div",{className:IPt,children:f.jsx(zae,{immediateRedirectPathname:"/edu/signup"})})]})]}),f.jsx(Int,{})]})})),kPt=b.memo((()=>{const e=Du((e=>e.currentUser)),t=eg(e),a=ag(e),n=qm(e);i.useEffect((()=>{n||aR("/edu/login")}));const s=i.useMemo((()=>({kapwing_name:t,kapwing_email:a})),[t,a]),o=i.useCallback((async e=>{await Xf("/api/v1/edu/submit",{body:{userID:t,userEmail:a,responseID:e}})}),[a,t]),r="EDU Program Sign up  Kapwing",l="Sign up and apply to the EDU Program offered by Kapwing. Kapwing PRO is 100% free for qualified students, teachers, and educators.",d=i.useCallback((e=>{o(e.responseId)}),[o]);return n&&void 0!==n?f.jsxs(f.Fragment,{children:[f.jsx(dnt,{}),f.jsxs(Nt,{children:[f.jsx("title",{children:r}),f.jsx("meta",{name:"description",content:l}),f.jsx("meta",{property:"og:title",content:r}),f.jsx("meta",{property:"og:description",content:l}),f.jsx("meta",{name:"robots",content:"noindex, nofollow"})]}),f.jsx("div",{className:hPt,children:f.jsx("div",{className:vPt,children:f.jsx(M.Widget,{id:"yz2hQIEC",hidden:s,onSubmit:d,className:fPt})})}),f.jsx(Int,{})]}):null})),TPt="NotFound-module_notFoundContainer_t0o9p",EPt="NotFound-module_notFoundImageContainer_uiIiN",LPt="NotFound-module_notFoundImage_QoVPl",jPt="NotFound-module_link_foZIp",RPt="NotFound-module_bigTitle_IiYJb",NPt="NotFound-module_title_DyMlj",MPt=b.memo((()=>{const e="Page Not Found  404  Kapwing",t="Sorry, the page you were looking for cannot be found. Our team at Kapwing is investigating this 404 error. In the meantime, please return to Kapwing.com to continue browsing.";return f.jsxs(f.Fragment,{children:[f.jsx(dnt,{}),f.jsxs(Nt,{children:[f.jsx("title",{children:e}),f.jsx("meta",{name:"description",content:t}),f.jsx("meta",{name:"keywords",content:"404, Page Not Found"}),f.jsx("meta",{property:"og:title",content:e}),f.jsx("meta",{property:"og:description",content:t}),f.jsx("meta",{name:"robots",content:"noindex, nofollow"})]}),f.jsx("div",{className:TPt,children:f.jsxs("div",{children:[f.jsx("div",{className:EPt,children:f.jsx("img",{src:"https://cdn-useast1.kapwing.com/static/MHZ-404.webp",alt:"Not Found Kitten",className:LPt})}),f.jsx("h1",{className:RPt,children:"404  Page Not Found"}),f.jsx("div",{className:NPt,children:"Sorry, the page you were looking for cannot be found."}),f.jsx("div",{className:NPt,children:f.jsx("a",{href:"/",className:jPt,children:"Click here to return home."})})]})}),f.jsx(Int,{})]})})),PPt="LogoRedesigns-module_wrapper_aLCPS",FPt="LogoRedesigns-module_container_7WBdH",DPt="LogoRedesigns-module_content_ljxJs",OPt="LogoRedesigns-module_headerImage_yNy8G",UPt="LogoRedesigns-module_date_PkzGA",BPt="LogoRedesigns-module_header_I8elM",WPt="LogoRedesigns-module_firstP_Fepyw",VPt="LogoRedesigns-module_p_-pWRf",HPt=()=>{const e="A strong logo can undergo a revamp without losing its essence. But can it resist being dominated by one of graphic design's cornerstone styles? To find out, we've recreated six iconic logos in six essential art styles.";return f.jsxs(f.Fragment,{children:[f.jsxs(Nt,{children:[f.jsx("title",{children:"Logo Redesigns  Kapwing"}),f.jsx("meta",{name:"description",content:e}),f.jsx("meta",{name:"keywords",content:"logo redesign, graphic design, art styles, logo styles"}),f.jsx("meta",{property:"og:title",content:"Logo Redesigns  Kapwing"}),f.jsx("meta",{property:"og:description",content:e}),f.jsx("meta",{property:"og:image",content:"https://cdn-useast1.kapwing.com/static/neomam/logo-og-image.jpeg"}),f.jsx("meta",{property:"twitter:image",content:"https://cdn-useast1.kapwing.com/static/neomam/logo-og-image.jpeg"}),f.jsx("link",{rel:"canonical",href:"https://www.kapwing.com/logo-redesigns"})]}),f.jsx(dnt,{}),f.jsx("div",{className:PPt,children:f.jsx("div",{className:FPt,children:f.jsxs("div",{className:DPt,children:[f.jsx("img",{src:"https://cdn-useast1.kapwing.com/static/neomam/Header_6-Famous-Logos-Designed-In-6-Graphic-Design-Styles.a38085c9.png",alt:"Trading in Trademarks",className:OPt}),f.jsx("div",{className:UPt,children:"16 January 2022"}),f.jsx("h1",{className:BPt,children:"Six Famous Logos Designed in Six Graphic Design Styles"}),f.jsxs("p",{className:WPt,children:["A brand's logo has a lot of heavy lifting to do. The logo should hint at the product type and ooze the brand's spirit. It should be stylish yet timeless. And it should do all this without looking quite like"," ",f.jsx("a",{href:"https://www.creativebloq.com/features/8-famous-logos-that-look-unbelievably-similar",target:"_blank",rel:"noopener noreferrer",children:"anything else"}),"."]}),f.jsx("p",{className:VPt,children:"Yet a logo needs to be light as a feather. If the consumer needs to think about it, it's dead in the water. A logo should be eloquent, effortless, effervescent."}),f.jsxs("p",{className:VPt,children:["When a graphic designer begins a new logo, they balance the need for originality against the need for instant recognition. Rather than choosing a graphic design style, they should wield a"," ",f.jsx("a",{href:"https://99designs.co.uk/blog/logo-branding/famous-logos/",target:"_blank",rel:"noopener noreferrer",children:"deep knowledge"})," ","of the looks that have gone before and understand the connotations of those styles today."]}),f.jsxs("p",{className:VPt,children:["A strong logo can undergo a revamp without losing its essence. But can it resist being dominated by one of graphic design's cornerstone styles? To find out  and provide a graphic design style primer  the team at"," ",f.jsx("a",{href:"https://www.kapwing.com",target:"_blank",rel:"noopener noreferrer",children:"Kapwing"}),", has recreated ",f.jsx("strong",{children:"six iconic logos"})," in these"," ",f.jsx("strong",{children:"six essential styles"}),":"," "]}),f.jsxs("ul",{children:[f.jsxs("li",{children:[f.jsx("strong",{children:"Art nouveau."})," An elegant, sinuous, romantic style from the turn of the 20th century."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Bauhaus."})," An avant-garde design school that favored functionalism, geometrics, and space."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Psychedelic."})," Acid-colored patterns and stream-of-conscious lines that have bedazzled beholders since the 1960s."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Pop art."})," Kitsch, comic-style pop culture references channeling 1950s Americana through Andy Warhol's eyes."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Retro '80s."})," The grids, vector curves, clipart, and blocky fonts of 1980s computer graphics sprinkled with that weird '80s sense of glamor."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"3D design."})," Playful renders popping out of the screen with more or less fidelity to realism."]})]}),f.jsx("p",{className:VPt,children:"Scroll on for a closer look at each brand logo."}),f.jsx("a",{href:"https://cdn-useast1.kapwing.com/static/neomam/01_Famous-Logos-Designed-In-Graphic-Design-Styles_Poster.png",target:"_blank",rel:"noopener noreferrer",children:f.jsx("img",{alt:"Famous Logos Redesigned",src:"https://cdn-useast1.kapwing.com/static/neomam/01_Famous-Logos-Designed-In-Graphic-Design-Styles_Poster.png"})}),f.jsx("h2",{id:"Apple",children:"Apple"}),f.jsxs("p",{className:VPt,children:["The apple: so simple, you don't even need typography. There are many theories for that bite, though. It could reference Alan Turing, the gay war hero who invented \"",f.jsx("a",{href:"https://www.newscientist.com/people/alan-turing/",target:"_blank",rel:"noreferrer noopener",children:"the computer"}),'" and who ate an apple laced with poison after the feds chemically castrated him. Or it could reference the forbidden knowledge of actually opening up a Mac to see how it works. However, designer Touraj Saberivand'," ",f.jsx("a",{href:"https://inkbotdesign.com/apple-logo-design/",target:"_blank",rel:"noreferrer noopener",children:"explains"}),': "to make it look more like an apple and not some other round fruit, I did what one does with an apple. I took a bite out of it."']}),f.jsx("a",{href:"https://cdn-useast1.kapwing.com/static/neomam/02_Apple-Logo-Designed-In-Graphic-Design-Styles.png",target:"_blank",rel:"noopener noreferrer",children:f.jsx("img",{src:"https://cdn-useast1.kapwing.com/static/neomam/02_Apple-Logo-Designed-In-Graphic-Design-Styles.png",alt:"Apple Logo"})}),f.jsxs("p",{className:VPt,children:["Our art nouveau take on the Apple logo is not far from the brand's original 1976 artwork  a woodblock print of an apple gravitating towards Isaac Newton's head with the words Apple Computer Co. wrapped around it. But the Bauhaus version most clearly articulates Steve Jobs' vision: clear, artistic "," ",f.jsx("a",{href:"https://www.forbes.com/sites/stevedenning/2011/11/17/the-lost-interview-steve-jobs-tells-us-what-really-matters",target:"_blank",rel:"noreferrer noopener",children:"a tool to amplify your abilities"}),"."]}),f.jsx("img",{src:"https://cdn-useast1.kapwing.com/static/neomam/Apple-compressed-animation.a2530daa.gif",alt:"Apple animation"}),f.jsx("h2",{id:"McDonald's",children:"McDonald's"}),f.jsxs("p",{className:VPt,children:["It's hard to imagine McDonald's without the golden arches. But when it was just the McDonald brothers in their shack with a fryer, they favored a jaunty comic script atop their then-mascot, the troubling burger chef,"," ",f.jsx("a",{href:"https://www.creativebloq.com/logo-design/mcdonalds-logo-short-11135325",target:"_blank",rel:"noreferrer noopener",children:"Speedee"}),". Troubling because Speedee was both a burger and a chef."," "]}),f.jsx("a",{href:"https://cdn-useast1.kapwing.com/static/neomam/03_McDonalds-Logo-Designed-In-Graphic-Design-Styles.png",target:"_blank",rel:"noopener noreferrer",children:f.jsx("img",{src:"https://cdn-useast1.kapwing.com/static/neomam/03_McDonalds-Logo-Designed-In-Graphic-Design-Styles.png",alt:"McDonald's Logo"})}),f.jsxs("p",{className:VPt,children:["The ghost of Speedee haunts the rock 'n roll quiffed burger boy of our 1950s pop art style McD's logo. But the versions that retain prominent arches demonstrate the power of a simple motif to conjure a brand's aftertaste in your mouth. McDonald's is going through a big"," ",f.jsx("a",{href:"https://www.vox.com/22736636/mcdonalds-design-aesthetic-look-buildings",target:"_blank",rel:"noreferrer noopener",children:"identity crisis"})," ","lately, not least"," ",f.jsx("a",{href:"https://www.mashed.com/680053/the-hilarious-reason-mcdonalds-just-changed-its-twitter-handle/",target:"_blank",rel:"noreferrer noopener",children:"rebranding its Twitter handle"})," ","in the style of South Korean boy band phenomenon BTS. Can the arches bear the strain?"]}),f.jsx("img",{src:"https://cdn-useast1.kapwing.com/static/neomam/McDonalds-compressed-animation.f2ecf0b5.gif",alt:"McDonald's animation"}),f.jsx("h2",{id:"Instagram",children:"Instagram"}),f.jsxs("p",{className:VPt,children:["Cole Rise threw the old Instagram logo together in under 45 minutes. Deadline met, he refined it over the next few months. The polished version represented the app for five years. Rise's 2010 design followed the"," ",f.jsx("a",{href:"https://blog.hubspot.com/website/skeuomorphism",target:"_blank",rel:"noreferrer noopener",children:"skeuomorphic"})," ","design trend of the day, making the logo look like an actual Instamatic camera (actually a Bell & Howell)."]}),f.jsx("a",{href:"https://cdn-useast1.kapwing.com/static/neomam/04_Instagram-Logo-Designed-In-Graphic-Design-Styles.png",target:"_blank",rel:"noopener noreferrer",children:f.jsx("img",{src:"https://cdn-useast1.kapwing.com/static/neomam/04_Instagram-Logo-Designed-In-Graphic-Design-Styles.png",alt:"Instagram Logo"})}),f.jsxs("p",{className:VPt,children:["When Instagram decided it was time to simplify and"," ",f.jsx("a",{href:"https://www.interaction-design.org/literature/topics/flat-design",target:"_blank",rel:"noreferrer noopener",children:'"flatten"'})," ","its logo like everyone else, they asked every staff member to draw Rise's logo from memory. That gave us a sense of what was burned in,"," ",f.jsx("a",{href:"https://www.fastcompany.com/3059740/an-exclusive-look-at-instagrams-new-app-icon",target:"_blank",rel:"noreferrer noopener",children:"said Ian Spalter"}),", head of design. Our re-styled versions demonstrate just how hot the square-and-concentric-circles brand burns."]}),f.jsx("img",{src:"https://cdn-useast1.kapwing.com/static/neomam/Instagram-compressed-animation.75de683f.gif",alt:"Instagram animation"}),f.jsx("h2",{id:"Google",children:"Google"}),f.jsxs("p",{className:VPt,children:["The Google brand has thrived on minimalism even as the company explores ever more diverse avenues (its next move is"," ",f.jsx("a",{href:"https://www.nytimes.com/2021/04/30/technology/google-back-to-office-workers.html",target:"_blank",rel:"noreferrer noopener",children:"Ikea meets Lego"}),"). The uncluttered search page and no-frills logo are as much an element of Google's early success as its algorithms. But the original logo featured an exclamation mark and a"," ",f.jsx("a",{href:"https://sweeney.agency/shedding-some-light-on-the-drop-shadow/",target:"_blank",rel:"noreferrer noopener",children:"drop shadow"})," ","that'll make you cry. Not so much 'simple' as 'basic.'"]}),f.jsx("a",{href:"https://cdn-useast1.kapwing.com/static/neomam/05_Google-Logo-Designed-In-Graphic-Design-Styles.png",target:"_blank",rel:"noopener noreferrer",children:f.jsx("img",{src:"https://cdn-useast1.kapwing.com/static/neomam/05_Google-Logo-Designed-In-Graphic-Design-Styles.png",alt:"Google Logo"})}),f.jsxs("p",{className:VPt,children:["The simplicity of the post-exclamation, post-drop shadow logo has allowed for infinite variations via the regularly-changing"," ",f.jsx("a",{href:"https://www.google.com/doodles/about",target:"_blank",rel:"noreferrer noopener",children:"Google Doodle"}),". So, while none of our redesigns look implausible, the two that are most evocative are those that imagine Google in a realistic alternative timeline: either the vaporwave look of our"," ",f.jsx("a",{href:"https://www.rediscoverthe80s.com/2020/02/what-the-internet-was-like-in-the-80s.html",target:"_blank",rel:"noreferrer noopener",children:"dial-up era"})," ","1980s logo or the augmented-reality bubbles of the 3D version."]}),f.jsx("img",{src:"https://cdn-useast1.kapwing.com/static/neomam/Google-compressed-animation.180e4c5b.gif",alt:"Google animation"}),f.jsx("h2",{id:"NASA",children:"NASA"}),f.jsx("p",{className:VPt,children:"The NASA logo is pretty busy by today's standards, but when your main beholders are space aliens, it makes sense to communicate your purpose in full. The planet-shaped, star-studded, red aeronautics-themed dash logo has a mundane nickname among Earth-dwellers, even at NASA: the meatball."}),f.jsx("a",{href:"https://cdn-useast1.kapwing.com/static/neomam/06_NASA-Logo-Designed-In-Graphic-Design-Styles.png",target:"_blank",rel:"noopener noreferrer",children:f.jsx("img",{src:"https://cdn-useast1.kapwing.com/static/neomam/06_NASA-Logo-Designed-In-Graphic-Design-Styles.png",alt:"NASA Logo"})}),f.jsxs("p",{className:VPt,children:["NASA already has a '1980s version' of its logo. Their"," ",f.jsx("a",{href:"https://www.nasa.gov/audience/forstudents/5-8/features/symbols-of-nasa.html",target:"_blank",rel:"noreferrer noopener",children:"looping, red, text-only logo"})," ","known as the 'worm' did most of the work between 1975  1992 (and recently made another comeback). So our 1980s version imagines the best of both worlds: a meatball in the decade that gave us the bubblegum heroics of ",f.jsx("i",{children:"Explorers and Flight of the Navigator"}),"."]}),f.jsx("img",{src:"https://cdn-useast1.kapwing.com/static/neomam/NASA-compressed-animation.15def524.gif",alt:"NASA animation"}),f.jsx("h2",{id:"WWF",children:"WWF"}),f.jsx("p",{className:VPt,children:"The choice of a panda for WWFs icon is a masterstroke of clear thinking. The simplicity of a black and white design that works in silhouette; the precarity of the panda as symbolic of World Wildlife Funds efforts; and the cute factor that convinces supporters to part with their money. The panda design has prevailed almost unchanged since 1961 (thankfully the World Wrestling Federation didnt choose a panda for its logo)."}),f.jsx("a",{href:"https://cdn-useast1.kapwing.com/static/neomam/07_WWF-Logo-Designed-In-Graphic-Design-Styles.png",target:"_blank",rel:"noopener noreferrer",children:f.jsx("img",{src:"https://cdn-useast1.kapwing.com/static/neomam/07_WWF-Logo-Designed-In-Graphic-Design-Styles.png",alt:"WWF Logo"})}),f.jsxs("p",{className:VPt,children:["Our Bauhaus-style redesign of the WWF logo adds a splash of color while simplifying the form. And it maintains the cuteness without resorting to the child appeal of our 1980s version. Scientists say the power of cute can be used to ",f.jsx("a",{href:"https://www.ox.ac.uk/research/how-cute-things-hijack-our-brains-and-drive-behaviour",target:"_blank",rel:"noreferrer noopener",children:"hijack our brains"}),", which makes it a useful tool for marketing  but its essential not to"," ",f.jsx("a",{href:"https://99designs.co.uk/blog/creative-inspiration/cute-logos/",target:"_blank",rel:"noreferrer noopener",children:"compromise"})," ","the seriousness of your brand."]}),f.jsx("img",{src:"https://cdn-useast1.kapwing.com/static/neomam/WWF-compressed-animation.c7be7ece.gif",alt:"WWF animation"}),f.jsxs("p",{className:VPt,children:["When"," ",f.jsx("a",{href:"https://www.creativebloq.com/features/5-logos-by-famous-designers-and-why-they-work",target:"_blank",rel:"noreferrer noopener",children:"Chupa Chups"})," ","needed a logo, the boss asked his friend Salvador Dali to sketch one on an old newspaper that was lying around. Yet a logo needn't be high art. Right now, supermarket brands are giving"," ",f.jsx("a",{href:"https://www.designweek.co.uk/what-is-normcore-and-how-will-it-affect-design/",target:"_blank",rel:"noreferrer noopener",children:"normcore"})," ","its"," ",f.jsx("a",{href:"https://plato.stanford.edu/entries/postmodernism/",target:"_blank",rel:"noreferrer noopener",children:"post-modernist"})," ","moment, splashing their basic but powerful logos over nerdy knits to create"," ",f.jsx("a",{href:"https://www.theguardian.com/lifeandstyle/2021/dec/04/how-the-mundane-trend-is-bringing-some-christmas-sparkle-for-everyday-brands",target:"_blank",rel:"noreferrer noopener",children:"highly coveted"}),", semi-ironic streetwear. They may be ugly, but they carry a lot of emotional baggage."]}),f.jsx("p",{className:VPt,children:"The lesson for logo designers? Draw inspiration from style movements but remain boldly true to the brand. It takes integrity and flair to create an icon that sears itself into the world's retinas."}),f.jsx("hr",{}),f.jsxs("p",{className:VPt,children:["Did you enjoy this collection of logo redesigns? Our team at Kapwing, an"," ",f.jsx("a",{href:"https://www.kapwing.com/video-editor",target:"_blank",rel:"noreferrer noopener",children:"online video editor"}),", loves putting out amazing content related to visual design. Learn and read much more on our"," ",f.jsx("a",{href:"https://www.kapwing.com/resources",target:"_blank",rel:"noreferrer noopener",children:"resources section"})," ","and"," ",f.jsx("a",{href:"https://www.kapwing.com/blog",target:"_blank",rel:"noreferrer noopener",children:"blog"}),"."]})]})})}),f.jsx(Int,{})]})},zPt="TwitchStreamers-module_wrapper_DZwiY",GPt="TwitchStreamers-module_container_Wim12",YPt="TwitchStreamers-module_content_-g2pb",KPt="TwitchStreamers-module_headerImage_FgHJZ",XPt="TwitchStreamers-module_date_BL2EW",ZPt="TwitchStreamers-module_header_6kb6c",qPt="TwitchStreamers-module_firstP_VOFuO",JPt="TwitchStreamers-module_p_CP7fX",$Pt="TwitchStreamers-module_iframeContainer_yHaXc",QPt="TwitchStreamers-module_iframe_7irlc",eFt="TwitchStreamers-module_bannerImage_AUUzw",tFt="TwitchStreamers-module_longIframe_MhH12",aFt=()=>{const e="Enter your annual salary into this interactive tool, and well compare your meager earnings to that of Twitchs highest earner, RanbooLive. Then, while youre drying your tears, scroll on to see the rest of our comparisons.";return f.jsxs(f.Fragment,{children:[f.jsxs(Nt,{children:[f.jsx("title",{children:"Which Twitch Streamers Earn the Most per Hour?  Kapwing"}),f.jsx("meta",{name:"description",content:e}),f.jsx("meta",{name:"keywords",content:"twitch earnings, streamers income, twitch salary"}),f.jsx("meta",{property:"og:title",content:"Which Twitch Streamers Earn the Most per Hour?  Kapwing"}),f.jsx("meta",{property:"og:description",content:e}),f.jsx("meta",{property:"og:image",content:"https://cdn-useast1.kapwing.com/static/neomam/twitch/twitch-og-image-min.jpeg"}),f.jsx("meta",{property:"twitter:image",content:"https://cdn-useast1.kapwing.com/static/neomam/twitch/twitch-og-image-min.jpeg"}),f.jsx("link",{rel:"canonical",href:"https://www.kapwing.com/how-much-twitch-streamers-make"})]}),f.jsx(dnt,{}),f.jsx("div",{className:zPt,children:f.jsx("div",{className:GPt,children:f.jsxs("div",{className:YPt,children:[f.jsx("img",{src:"https://cdn-useast1.kapwing.com/static/neomam/twitch/Header_Highest-Earning-Twitch-Streamers.86c050a1.png",alt:"Twitch Revenue Streams",className:KPt}),f.jsx("div",{className:XPt,children:"24 January 2022"}),f.jsx("h1",{className:ZPt,children:"Which Twitch Streamers Earn the Most per Hour?"}),f.jsxs("p",{className:qPt,children:["Enter your annual salary into this interactive tool, and well compare your meager earnings to that of Twitchs highest earner,"," ",f.jsx("a",{href:"https://www.twitch.tv/ranboolive",target:"_blank",rel:"noopener noreferrer",children:"RanbooLive"}),". Then, while youre drying your tears, scroll on to see the rest of our comparisons."]}),f.jsx("div",{className:$Pt,children:f.jsx("iframe",{title:"Twitch Income Calculator",frameBorder:0,src:"https://nnm-twitch-streamers.netlify.app/calculator/",scrolling:"no",className:QPt})}),f.jsxs("p",{className:JPt,children:["Twitch is Amazons hugely popular games streaming platform. Its a closed universe where semi-anonymous teens become low-key celebrities off the back of their charm and gaming prowess. But curtain-twitchers saw how the platform rewards its personalities when hackers stole a bunch of ",f.jsx("a",{href:"https://blog.twitch.tv/en/2021/10/15/updates-on-the-twitch-security-incident/",target:"_blank",rel:"noopener noreferrer",children:"creator payout data"})," from the site in October 2021."]}),f.jsxs("p",{className:JPt,children:["The leak seems to reveal that half of the streamer earnings on Twitch go to just"," ",f.jsx("a",{href:"https://techcrunch.com/2021/10/07/twitch-streamers-respond-after-huge-leak-of-creator-payout-data/",target:"_blank",rel:"noopener noreferrer",children:"10% of the streamers"}),". According to some creators, this indicates that Twitch is more invested in driving viewers to superstar channels than boosting discoverability for up-and-coming talent  including marginalized groups."]}),f.jsxs("p",{className:JPt,children:["But those outside of the story are dizzied by the mindboggling earnings of the top streamers compared to the hours they spend streaming. For example,"," ",f.jsx("a",{href:"https://www.twitch.tv/pokimane",target:"_blank",rel:"noopener noreferrer",children:"pokimane"})," ","spent 2,177 hours online in the 15 months leading to October 2020, earning $1.53m  which works out at $702.02 per hour. A teacher would need to work 29 hours for every pokimane hour to earn that much."]}),f.jsxs("p",{className:JPt,children:["Well, nobody said that celebrities are supposed to earn normal salaries. But, our team at"," ",f.jsx("a",{href:"https://www.kapwing.com",children:"Kapwing"})," got curious about how these figures compare to more regular modes of employment. So, we figured out the effective hourly rates of Twitchs 100 biggest earners and made some tools to help you visualize them."]}),f.jsx("h2",{id:"ranboolives-hourly-wage",children:"RanbooLive has Twitchs Highest Hourly Wage"}),f.jsxs("p",{className:JPt,children:["When news of the Twitch leak dropped, Ranboo tweeted an image of some masking tape with the caption, ",f.jsx("a",{href:"https://twitter.com/ranboosaysstuff/status/1445763636849348609?lang=en",target:"_blank",rel:"noopener noreferrer",children:"Dont worry everyone ill fix the leak."})," With Twitch earnings of $2,401,021.84, he can afford a million rolls of tape if he even cares that folk know his income."]}),f.jsxs("p",{className:JPt,children:["Little else is known about the Minecraft-playing Twitch star, who wears a monochrome mask and shades to protect his privacy and cope with dysmorphia. However, he has teased a big reveal at 5 million followers (",f.jsx("a",{href:"https://twitter.com/Ranboosaysstuff/status/1465015825622962179",target:"_blank",rel:"noopener noreferrer",children:"hes just reached 4m"}),"). Divided across his 1,001 hours of streaming, Ranboo earns $2,398.62/hour."]}),f.jsx("a",{href:"https://cdn-useast1.kapwing.com/static/neomam/twitch/01_Highest-Earning-Twitch-Streamers_Static_Top-20.2b421d3a.png",target:"_blank",rel:"noopener noreferrer",children:f.jsx("img",{alt:"Which Twitch Streamers Earn the Most per Hour?",src:"https://cdn-useast1.kapwing.com/static/neomam/twitch/01_Highest-Earning-Twitch-Streamers_Static_Top-20.2b421d3a.png",className:eFt})}),f.jsx("p",{className:JPt,children:"Twitchs 10 highest earners earn an average of $1,477 per hour of streaming. Even when you even the earnings out across the top 50, you still get an average rate of $732/hour. The top 10 streamed for an average of 2,709 hours (1st Aug 2019 - 1st Oct 2020), while the top 50 worked an average of 3,719 hours."}),f.jsxs("p",{className:JPt,children:["Twitchs partner scheme offers"," ",f.jsx("a",{href:"https://www.businessinsider.com/twitch-raises-incentives-for-creators-2017-4?r=US&IR=T",target:"_blank",rel:"noopener noreferrer",children:"varying"})," ","splits on subscription earnings, depending on the popularity of the streamer. Some claim that highly popular streamers can negotiate this split, which may be how the highest earners capitalize on streaming for relatively few hours."]}),f.jsx("h2",{id:"it-takes-a-doctor-67-hours",children:"RanbooLive has Twitchs Highest Hourly Wage"}),f.jsx("p",{className:JPt,children:"Next, we figured out how RanbooLives effective hourly rate compares to that of more common American jobs. For example, a doctor earns $35.90/hour on average. They would need to work 67 hours to match what Ranboo earns from an hour of streaming. Looked at another way, in the time it takes Ranboo to earn $35.90, a doctor earns just 54 cents."}),f.jsx("a",{href:"https://cdn-useast1.kapwing.com/static/neomam/twitch/02_Highest-Earning-Twitch-Streamers_Static_Table-US.e07e6a40.png",target:"_blank",rel:"noopener noreferrer",children:f.jsx("img",{alt:"Hourly Pay of Twitch's Top Streamer vs. Common US Professions",src:"https://cdn-useast1.kapwing.com/static/neomam/twitch/02_Highest-Earning-Twitch-Streamers_Static_Table-US.e07e6a40.png",className:eFt})}),f.jsxs("p",{className:JPt,children:["And thats for a doctor. Waiting staff earn an average of $15/hour, so theyd need to work 160 hours to match Ranboo. Teachers  trusted with the future of our children and our culture  need to put in 99 hours at $24.34 to earn a Ranboo hour. The problem is not so much the freak earnings of Ranboo, but the low compensation to the mass of Americas workers,"," ",f.jsx("a",{href:"https://www.brookings.edu/blog/the-avenue/2019/11/21/low-wage-work-is-more-pervasive-than-you-think-and-there-arent-enough-good-jobs-to-go-around/",target:"_blank",rel:"noopener noreferrer",children:"nearly half"})," ","of whom earn less than it takes to achieve economic security."]}),f.jsx("h2",{id:"the-boss-of-it-all",children:"The Boss of It All"}),f.jsx("p",{className:JPt,children:"The highest earner in the Twitchosphere is the owner of its parent company, Amazon. But does anyone care what Jeff Bezos earns anymore? Like picturing the universe, imagining Bezos income is an tough task."}),f.jsxs("p",{className:JPt,children:["Still, Amazons payroll remains of interest. Not just the companys"," ",f.jsx("a",{href:"https://www.nytimes.com/2021/10/24/technology/amazon-employee-leave-errors.html",target:"_blank",rel:"noopener noreferrer",children:"failure"})," ","to honor even the low wages of its regular workers, but the distribution of wealth and opportunity across Twitchs creator community. And what it means for the rest of us average Joes, who would love to earn $2k doing what we love for an hour or so"]}),f.jsx("p",{className:JPt,children:"For our full analysis of the leaked Twitch streamer earnings, check out the table below."}),f.jsx("div",{className:$Pt,children:f.jsx("iframe",{title:"Twitch Income Calculator",frameBorder:0,src:"https://nnm-twitch-streamers.netlify.app/table/",scrolling:"yes",className:tFt})}),f.jsx("h2",{id:"methodology-&-sources",children:"Methodology & Sources"}),f.jsxs("p",{className:JPt,children:["We used data from the recent"," ",f.jsx("a",{href:"https://twitter.com/Sinoc229/status/1445639738707251200",target:"_blank",rel:"noopener noreferrer",children:"Twitch data leak"})," ","to discover the top 100 earning Twitch streamers. Then we used"," ",f.jsx("a",{href:"https://twitchtracker.com/xqcow/statistics",target:"_blank",rel:"noopener noreferrer",children:"Twitch Tracker"})," ","to find out how long each Twitch streamer spent streaming during the time period used for the leaked figures (August 2019 to October 2021). We took the earnings for each streamer and divided it by the number of hours streamed. The average earnings for UK and US professions came from"," ",f.jsx("a",{href:"https://uk.talent.com/",target:"_blank",rel:"noopener noreferrer",children:"Talent.com"}),"."]}),f.jsx("hr",{}),f.jsxs("p",{className:JPt,children:["Did you enjoy this deep dive into the incomes of popular Twitch streamers? Our team at Kapwing, an"," ",f.jsx("a",{href:"https://www.kapwing.com/video-editor",target:"_blank",rel:"noreferrer noopener",children:"online video editor"}),", loves creating content related to video and internet culture. Learn and read much more on our"," ",f.jsx("a",{href:"https://www.kapwing.com/resources",target:"_blank",rel:"noreferrer noopener",children:"resources section"})," ","and"," ",f.jsx("a",{href:"https://www.kapwing.com/blog",target:"_blank",rel:"noreferrer noopener",children:"blog"}),"."]})]})})}),f.jsx(Int,{})]})};class nFt extends i.Component{constructor(e){super(e),a(this,"renderSubmitted",(()=>f.jsx("div",{className:"youre-in",children:"You're in! Thanks for signing up!"}))),this.state={emailValue:"",loading:!1,submitted:!1},this.handleChange=this.handleChange.bind(this),this.handleSubmit=this.handleSubmit.bind(this)}handleChange(e){this.setState({emailValue:e.target.value})}handleSubmit(e){e.preventDefault();const{emailValue:t}=this.state,{source:a}=this.props;this.setState({loading:!0}),function(e,t){return Xf("/api/v1/email/add",{body:{email:e,source:t,submittedAt:new Date}})}(t,a).then((()=>{this.setState({loading:!1,submitted:!0})})).catch((e=>{cb({description:"There was an error signing up.",error:e}),this.setState({loading:!1})}))}renderCollection(){const{emailValue:e,loading:t}=this.state;return f.jsxs("form",{onSubmit:this.handleSubmit,className:"subscribe-form",children:[f.jsxs("label",{htmlFor:"email-subscribe",children:[f.jsx("span",{className:zit.screenReaderOnlyLabel,children:"Email"}),f.jsx("input",{id:"email-subscribe",placeholder:"youremail@gmail.com",type:"text",className:"primary-text-field email-subscribe-input",value:e,onChange:this.handleChange})]}),t?f.jsx("button",{type:"submit",className:"primary-button email-subscribe-button",children:"Loading..."}):f.jsx("button",{type:"submit",className:"primary-button email-subscribe-button",children:"Sign up"})]})}render(){const{submitted:e}=this.state;return f.jsx("div",{children:e?this.renderSubmitted():this.renderCollection()})}}const sFt=[{id:"google",name:"Google",image:"https://i.imgur.com/qvCOvDE.jpg",logo:"https://i.imgur.com/RUYUxk0.jpg",date:"1998",description:"See the evolution of Google from the early days at Stanford to the iconic company it is today.",states:[{year:"1998",description:"The early days of Google, when Larry and Sergey still were at Stanford.",image:"https://i.imgur.com/gesKoOF.png",link:"https://web.archive.org/web/19981111183552/http://google.stanford.edu:80/"},{year:"2000",description:"Google implements its iconic, simple homepage, but still is focused on search, not any other products.",image:"https://i.imgur.com/yhmmQvJ.png",link:"https://web.archive.org/web/20000301214819/http://google.com:80/"},{year:"2002",description:"Google introduces image search, groups, and some other search features.",image:"https://i.imgur.com/Ws1RiTX.png",link:"https://web.archive.org/web/20020222232203/http://www.google.com:80/"},{year:"2004",image:"https://i.imgur.com/CuNRKyh.png",link:"https://web.archive.org/web/20040221050042/http://www.google.com:80/"},{year:"2006",description:"By 2006, Google starts looking much like the simple, centered home page of today.",image:"https://i.imgur.com/vMmprt2.png",link:"https://web.archive.org/web/20060301031331/http://www.google.com/"},{year:"2012",description:"Fast forward another 6 years, and Google simplifies its homepage further, and shifts to a header bar UI.",image:"https://i.imgur.com/WPJR94n.png",link:"https://web.archive.org/web/20120227195823/http://www.google.com/"},{year:"2016",description:"By 2006, Google starts looking much like the simple, centered home page of today.",image:"https://i.imgur.com/f8LQfDv.png",link:"https://web.archive.org/web/20060301031331/http://www.google.com/"},{year:"Today",description:"Google introduces a new, flatter logo, but still maintains its simple, uncluttered homepage.",image:"https://i.imgur.com/UnQhOkQ.png",link:"https://www.google.com/"}]},{id:"amazon",name:"Amazon",image:"https://i.imgur.com/rPSZBZY.jpg",logo:"https://i.imgur.com/g8O5Sur.jpg",date:"1999",description:"Bookseller to electronics to personalization and content creation to everything else. Here's how an ecommerce trickle turned into the Amazon",states:[{year:"1999",description:"Books take center stage on the original Amazon landing page.",image:"https://i.imgur.com/jwJsUEZ.png",link:"https://web.archive.org/web/19990828014913/http://www.amazon.com:80/"},{year:"2001",description:"Early on, Amazon prominently advertises personalized recommendations on the home page.",image:"https://i.imgur.com/XX7upff.png",link:"https://web.archive.org/web/20010630235838/http://www.amazon.com:80/exec/obidos/subst/home/home.html"},{year:"2005",description:"Introducing Amazon Prime! Two-day shipping makes its debut.",image:"https://i.imgur.com/q22junf.png",link:"https://web.archive.org/web/20050531233632/http://www.amazon.com:80/exec/obidos/subst/home/home.html"},{year:"2008",description:"Introducing Kindle. Amazon pivots towards electronics. Also, where did the search bar go?",image:"https://i.imgur.com/DsMabM8.png",link:"https://web.archive.org/web/20080301234936/http://www.amazon.com:80/"},{year:"2011",description:"The categories on the left show a clear shift towards electronics and TV.",image:"https://i.imgur.com/5nWXqaD.png",link:"https://web.archive.org/web/20110715002059/http://www.amazon.com/"},{year:"2013",description:"Amazon launches a more mobile-friendly version of the site with personalized recommendations and extended vertical scroll",image:"https://i.imgur.com/jppfbI9.png",link:"https://web.archive.org/web/20130531235338/http://www.amazon.com/"},{year:"Today",description:"Today, Amazon shows off their inventory with more visuals, less text. and bold colors.",image:"https://i.imgur.com/yqZ4QkK.png",link:"https://www.amazon.com/"}]},{id:"pinterest",name:"Pinterest",image:"https://i.imgur.com/b75lGep.png",logo:"https://i.imgur.com/OfE2Yh1.jpg",date:"2010",description:"Pinterest started with small groups of enthusiastic users, wanting to pin their favorite images from across the web.",meta:{title:"Evolution of Pinterest  Kapwing",description:"See how Pinterest evolved from an invite-only website for users to pin images to the online destination for visual inspiration for everyone."},states:[{year:"2010",description:"For a long time, joining Pinterest was by invite only. But the content was available for everyone.",image:"https://i.imgur.com/o7Xy4Jl.png",link:"https://web.archive.org/web/20110131073434/http://pinterest.com:80/"},{year:"2012",description:"By 2012, Pinterest introduced its iconic red color.",image:"https://i.imgur.com/FqL1q5v.png",link:"https://web.archive.org/web/20120131141949/https://www.pinterest.com/"},{year:"2014",description:"Pinterest quickly gained popularity for its quirky images and high quality content.",image:"https://i.imgur.com/fBs78Gv.png",link:"https://web.archive.org/web/20140812045916/http://www.pinterest.com/all/animals/"},{year:"Today",description:"Today Pinterest is a destination for ideas, especially those that involve highliy visual content.",image:"https://i.imgur.com/HvgP6fy.png ",link:"https://www.pinterest.com/"}]},{id:"facebook",name:"Facebook",image:"https://i.imgur.com/jGnmW6z.png",logo:"https://i.imgur.com/ZaZkeBt.jpg",date:"2004",description:"Watch one of the most popular websites in the world grow up!",states:[{year:"2004",description:'Facebook started as a social network for college students. You can see on their home page their claim as a "Mark Zuckerberg Production".',image:"https://i.imgur.com/8bM2yqy.png",link:"https://web.archive.org/web/19981111183552/http://google.stanford.edu:80/"},{year:"2008",description:"Facebook's landing page changes to reflect a more globally appealing service",image:"https://i.imgur.com/MnV886O.png",link:"https://web.archive.org/web/20090722142049/http://www.facebook.com/"},{year:"2009",description:"Facebook's famous Wall is used by millions to communicate with each other",image:"https://i.imgur.com/IX05Lyd.png",link:"https://web.archive.org/web/20090722142049/http://www.facebook.com/zuck"},{year:"2012",description:"Facebook turns its attention to mobile.",image:"https://i.imgur.com/5AoFmRV.png",link:"https://web.archive.org/web/20120722140441/https://www.facebook.com/"},{year:"Today",description:"The Facebook homepage has not changed much, but the product and its services definitely have",image:"https://i.imgur.com/eN3eGRb.png",link:"https://www.facebook.com/"}]},{id:"youtube",name:"YouTube",image:"https://i.imgur.com/JqulZ1O.png",logo:"https://i.imgur.com/4gegwsM.jpg",date:"2005",description:"YouTube was started by three former Paypal employees - Chad Hurley, Steve Chen, and Jawed Karim - who went on to sell the company to Google.",states:[{year:"2006",description:"In the early days of YouTube, there was a single feed that everyone consumed of popular videos on the site.",image:"https://i.imgur.com/GPZH7Z0.png",link:"https://web.archive.org/web/20060303064630/http://www.youtube.com/"},{year:"2008",description:"By 2008, Youtube had developed its iconic player and started surfacing trending video content on the web.",image:"https://i.imgur.com/Oohhd1Q.pngg",link:"https://web.archive.org/web/20080306015406/http://www.youtube.com/"},{year:"2010",description:"Youtube's integration with Google brought changes, some popular and others not so much.",image:"https://i.imgur.com/RSrULXl.png",link:"https://web.archive.org/web/20100306024813/http://www.youtube.com:80/"},{year:"2012",description:"YouTube relied heavily on Flash, and also began showing ads alongside content.",image:"https://i.imgur.com/7gXP0Vu.png",link:"https://web.archive.org/web/20120731224216/http://www.youtube.com/"},{year:"2016",description:"By 2016, YouTube had a very similar look and feel to the content today, with many popular channels for users to choose from.",image:"https://i.imgur.com/Bj3Tgy9.png",link:"https://web.archive.org/web/20160731223744/https://www.youtube.com/"},{year:"Today",description:"Today YouTube is one of the most popular video sharing sites out there!",image:"https://i.imgur.com/RwuvuZL.png",link:"https://www.youtube.com/"}]},{id:"reddit",name:"Reddit",image:"https://i.imgur.com/jUDALgT.jpg",logo:"https://i.imgur.com/bbDAN5t.jpg",date:"2005",description:"Not much has changed about Reddit's design over the last decade, until very recently. But, the community has grown to be one of the most vibrant on the internet.",states:[{year:"2005",description:"In the beginning, Reddit was just an interesting collection of links on the homepage.",image:"https://i.imgur.com/SkvHFAC.png",link:"https://web.archive.org/web/20051128021349/http://reddit.com:80/"},{year:"2007",description:"As more and more people joined the community, sub-reddits started emerging around different topics.",image:"https://i.imgur.com/2GJUO1u.png",link:"https://web.archive.org/web/20071128120627/http://reddit.com:80/"},{year:"2009",description:"Reddit's design from 2009 looks very similar to the homepage today, but note the lower number of upvotes on the homepage.",image:"https://i.imgur.com/tP2S7ug.png",link:"https://web.archive.org/web/20091125194850/http://www.reddit.com/"},{year:"2015",description:"Five years later, Reddit introduces new features like Reddit Gold, but the links remain the same.",image:"https://i.imgur.com/4d80yc7.png",link:"https://web.archive.org/web/20151125194114/https://www.reddit.com/"},{year:"Today",description:"New Reddit was just introduced, marking a shift away from its blue link design. What do you think?",image:"https://i.imgur.com/fs3zSEg.png",link:"https://www.reddit.com/"}]},{id:"airbnb",name:"Airbnb",image:"https://i.imgur.com/fBoKbXA.png",logo:"https://i.imgur.com/ncRM7O9.jpg",date:"2008",description:"From hustling on Craigslist to Unicorn status, Airbnb has grown exponentially since in lauched in 2008. Watch it become the largest hotel chain in the world.",states:[{year:"2008",description:"TechCrunch covers a YC travel startup called 'AirBed&Breakfast'. This is the screenshot from the first article.",image:"https://i.imgur.com/v7T7hej.png",link:"https://techcrunch.com/2008/08/11/airbed-and-breakfast-takes-pad-crashing-to-a-whole-new-level/"},{year:"2010",description:"The basic home page lets users search for available listings and features a few homes. The counter shows a few thousand homes available.",image:"https://i.imgur.com/2bti8rK.png",link:"https://web.archive.org/web/20100701085507/http://www.airbnb.com:80/"},{year:"2012",description:"Big, beautiful splash photos dominate the home page. Users can search for listings and discover.",image:"https://i.imgur.com/NTqW0f5.png",link:"https://web.archive.org/web/20120629225044/https://www.airbnb.com/"},{year:"2014",description:"AirBnb overlays the search UI on a gallery of featured photos. Airbnb also publishes content on cities and travel planning.",image:"https://i.imgur.com/uly4OER.png",link:"https://web.archive.org/web/20140629193814/https://www.airbnb.com/"},{year:"2016",description:"AirBnb updates their logo. Landing page full of beautiful photos to explore and inspire.",image:"https://i.imgur.com/iz8vZwk.png",link:"https://web.archive.org/web/20160602025743/https://www.airbnb.com/"},{year:"2018",description:"In the last few years, AirBnb has moved into travel experiences. The home page showcases photos of people rather than homes.",image:"https://i.imgur.com/inwtiDB.png",link:"https://www.airbnb.com"}]},{id:"twitter",name:"Twitter",image:"https://i.imgur.com/GSV165q.png",logo:"https://i.imgur.com/80f3Fb2.jpg",date:"2006",description:"The platform for short, real-time communication didn't always have it's full domain. When it started, it was known as Twttr.",meta:{title:"Evolution of Twitter  Kapwing",description:"Explore the museum of websites to see how Twitter evolved from a small community to the online destination for short, real-time communication."},states:[{year:"2006",description:"Just like any other startup, Twitter began as a small community.",image:"https://i.imgur.com/8xhyyf3.png",link:"https://web.archive.org/web/20061109073453/http://twitter.com:80/"},{year:"2008",description:"It took a while for folks to learn what Twitter was all about.",image:"https://i.imgur.com/cum4mXe.png",link:"https://web.archive.org/web/20080731045131/http://twitter.com/"},{year:"2010",description:"By 2010, the world learned about the hashtag and Twitter handles. And the service was growing, fast.",image:"https://i.imgur.com/PczLnvV.png",link:"https://web.archive.org/web/20100731060657/http://twitter.com/"},{year:"2012",description:"The basic profile that we recognize today was coming together by 2012.",image:"https://i.imgur.com/Vpv19cB.png",link:"https://web.archive.org/web/20120804170203/http://twitter.com/jack"},{year:"2015",description:"Twitter embraces flat design and creates a cleaner interface.",image:"https://i.imgur.com/BpqxxxP.png",link:"https://web.archive.org/web/20150803233857/https://twitter.com/jack"},{year:"Today",description:"It's clear that the world is becoming more and more visual, as posts on Twitter have less text and more media.",image:"https://i.imgur.com/H7foyal.png",link:"https://www.twitter.com/jack"}]},{id:"yelp",name:"Yelp",image:"https://i.imgur.com/4YN5brG.png",logo:"https://i.imgur.com/IN0Hphi.png",date:"2004",description:"Check out how Yelp soared from a dud to IPO in 7 years to became the leading platform for reviewing local businesses.",states:[{year:"2004",description:"In October, Yelp debuts as a an email-based referral network.",image:"https://i.imgur.com/csMuwiZ.jpg",link:"https://web.archive.org/web/20041014015116/http://www.yelp.com:80/home"},{year:"2005",description:"Yelp revamps its site to showcase reviews from 'real' people and motivate people to leave more reviews. Yelp receives $5M Series B in November.",image:"https://i.imgur.com/fDjMvuw.png",link:"https://web.archive.org/web/20051014001110/http://www.yelp.com:80/home"},{year:"2009",description:"Yelp goes international! The review site covers more cities, verticals, and features.",image:"https://i.imgur.com/tPeZBV5.png",link:"https://web.archive.org/web/20090226093725/http://www.yelp.com/"},{year:"2013",description:"Yelp showcases photos and enables mobile reviewing for the first time. The home page emphasizes fresh reviews and new businesses.",image:"https://i.imgur.com/u9GBTit.png",link:"https://web.archive.org/web/20130308045039/http://www.yelp.com/c/sf/food"},{year:"Today",description:"The mobile-friendly modern Yelp landing page has lots to browse and discover.",image:"https://i.imgur.com/yzQwf5h.png",link:"https://www.yelp.com"}]},{id:"yahoo",name:"Yahoo",image:"https://i.imgur.com/6D5x6zo.jpg",logo:"https://i.imgur.com/L4MA3H5.jpg",date:"1995",description:"Yahoo was the starting page for many in the earliest days of the internet.",states:[{year:"1997",description:"In the very beginning, Yahoo was a hand-curated collection of links to the most interesting pages on the web.",image:"https://i.imgur.com/T4zRjSr.png",link:"https://web.archive.org/web/19970109130853/http://www9.yahoo.com:80/"},{year:"2001",description:"Over time, the collection grew, as well as the services that Yahoo offered.",image:"https://i.imgur.com/alWc6FJ.png",link:"https://web.archive.org/web/20010614222934/http://www.yahoo.com:80/"},{year:"2003",description:"By 2003, Yahoo was the portal to the rest of the internet. It's homepage had news, sports, email, and more.",image:"https://i.imgur.com/jxycn9G.png",link:"https://web.archive.org/web/20030618011248/http://www.yahoo.com:80/"},{year:"2005",image:"https://i.imgur.com/95mqTZx.png",link:"https://web.archive.org/web/20050616111951/http://www.yahoo.com/"},{year:"2010",description:"By 2010, Yahoo had rebranded to embrace larger screens, as well as change their logo to the iconic purple color.",image:"https://i.imgur.com/o8LBSCS.png",link:"https://web.archive.org/web/20100616094317/http://www.yahoo.com/"},{year:"2014",description:"Yahoo embraces a more modern design and also struggles to find its identity in the world of social media and Google.",image:"https://i.imgur.com/gkel5vv.png",link:"https://web.archive.org/web/20140616095746/https://www.yahoo.com/"},{year:"Today",description:"The original web portal that Yahoo once was almost seems irrelevant today. But Yahoo was the original internet services pioneer.",image:"https://i.imgur.com/6LbyyXf.png",link:"https://www.yahoo.com"}]},{id:"new-york-times",name:"The New York Times",image:"https://i.imgur.com/aeJ0xx8.jpg",logo:"https://i.imgur.com/Gym4mbz.jpg",date:"2001",description:"Of course, the NYT has been around much longer than any internet company, but their online presence began around 2001.",states:[{year:"2001",description:"In the early 2000s, publishers like the NYT were still trying to find their identity online.",image:"https://i.imgur.com/k0fsABv.png",link:"https://web.archive.org/web/20010124140244/http://www2.nytimes.com:80/"},{year:"2003",description:"Over time, images became more important, and there was an increasing amount of digital content produced.",image:"https://i.imgur.com/U80nb2L.png",link:"https://web.archive.org/web/20030124140244/http://www2.nytimes.com:80/"},{year:"2008",description:"The New York Times brings its iconic print design to the web.",image:"https://i.imgur.com/Z3dkhaN.png",link:"https://web.archive.org/web/20080126085449/http://www.nytimes.com:80/"},{year:"2012",description:"By 2012, the Times has started pushing digital subscriptions amidst declinging print revenues.",image:"https://i.imgur.com/XZfD6ak.png",link:"https://web.archive.org/web/20120126092410/http://www.nytimes.com/"},{year:"2016",description:"In 2016, the Times website was simplified and looked to as an example of good journalism design on the web",image:"https://i.imgur.com/6y4HHdr.png",link:"https://web.archive.org/web/20160914235337/http://www.nytimes.com/"},{year:"Today",description:"Today's times embraces large screens, bold imagery, and eye-catching media.",image:"https://i.imgur.com/CM4KGrM.png",link:"https://www.nytimes.com"}]},{id:"product-hunt",name:"Product Hunt",image:"https://i.imgur.com/yP7Pzk9.png",logo:"https://i.imgur.com/3PeWAOV.jpg",date:"2014",description:"This go-to site for discovering new products started as a simple email list, but then grew quickly to become a large community of founders, entrepreneurs, and tech enthusiasts.",states:[{year:"2014",description:"Product Hunt was lean from the beginning, starting out as a simple list of products to upvote.",image:"https://i.imgur.com/ZlORgvU.png",link:"https://web.archive.org/web/20141001005151/http://www.producthunt.com/"},{year:"2016",description:"Product Hunt continued to grow, adding new categories and topics and expanding beyond the usual tech products.",image:"https://i.imgur.com/IubDg1T.png",link:"https://web.archive.org/web/20160731192941/https://www.producthunt.com/"},{year:"2017",description:"By 2017 Product Hunt's kitten becomes iconic in the tech community and beyond.",image:"https://i.imgur.com/fZGsprA.png",link:"https://web.archive.org/web/20170731212954/https://www.producthunt.com/"},{year:"Today",description:"Today, Product Hunt is a vibrant community that goes beyond a simple list of products. There are Q&A forums, discussions, job boards, and more that takes place on the site.",image:"https://i.imgur.com/yuAgMDi.png",link:"https://www.producthunt.com"}]},{id:"netflix",name:"Netflix",image:"https://i.imgur.com/r2nbum1.png",logo:"https://i.imgur.com/Kqrbs65.png",date:"1999",description:"Check out how Netflix grew up from a monthly DVD subscription service to a video streaming site to a content powerhouse.",meta:{title:"Evolution of Netflix  Kapwing",description:"Explore the museum of websites to see how Netflix evolved from a monthly DVD subscription service to a content powerhouse."},states:[{year:"1999",description:"Netflix launches their monthly subscription model: unlimited DVD rentals for a monthly fee.",image:"https://i.imgur.com/aR7DLVr.png",link:"https://web.archive.org/web/19990117011532/http://www.netflix.com:80/"},{year:"2003",description:"Netflix continues selling DVD subscriptions, building up their recommendations algorithm over time.",image:"https://i.imgur.com/usqc2ZB.png",link:"https://web.archive.org/web/20031003021435/http://www.netflix.com:80/Default?mqso=60141305"},{year:"2007",description:"Now the world's largest DVD rental company, Netflix launches a streaming service so that members can watch video direclty on their computer or TV.",image:"https://i.imgur.com/fNQbP8g.png",link:"https://web.archive.org/web/20071001023739/http://www.netflix.com:80/"},{year:"2010",description:"The company grows fast and acquires more than 20 million subscribers.",image:"https://i.imgur.com/Ca6sM1p.png",link:"https://web.archive.org/web/20100702101138/https://www.netflix.com/"},{year:"2013",description:'In February, Netflix debuts "House of Cards," an original TV series that earned 8 Emmy nominations.',image:"https://i.imgur.com/hdaURms.png",link:"https://web.archive.org/web/20130303055138/https://signup.netflix.com/#do-login"},{year:"2018",description:"With dozens of original shows and more than 50 Million subscribers, Netflix stock has gone up more than 10x since 2010.",image:"https://i.imgur.com/0FS9hBP.png",link:"https://www.netflix.com"}]}],oFt=["startups","museum","gallery"];class iFt extends i.Component{constructor(){super(...arguments),a(this,"playVideo",(e=>{const{navigate:t}=this.props;t(`/museum-of-websites/${e.id}`)})),a(this,"renderVideoItem",(e=>f.jsxs("div",{className:"startup-demo-videos-item-container",children:[f.jsxs("div",{className:"evolution-of-products-image-container",onClick:()=>this.playVideo(e),children:[f.jsx("img",{alt:e.name,src:e.logo,className:"evolution-of-products-image"}),f.jsxs("div",{className:"startup-demo-videos-image-play-button",children:[f.jsx("span",{className:"evolution-of-products-go-button",children:"View gallery"}),f.jsx("div",{className:"evolution-of-products-overlay"})]})]}),f.jsxs("div",{className:"startup-demo-videos-item-metadata",children:[f.jsx("img",{alt:e.name,src:e.image,className:"startup-demo-videos-logo"}),f.jsx("div",{className:"startup-demo-videos-item-name",children:e.name}),f.jsx("div",{className:"startup-demo-videos-item-date",children:e.date}),f.jsx("div",{className:"startup-demo-videos-item-description",children:e.description})]})]},O.v4())))}render(){return f.jsxs("div",{children:[f.jsxs("div",{className:"startup-videos-wrapper",children:[f.jsxs(Nt,{children:[f.jsx("title",{children:"Museum of Websites  Kapwing"}),f.jsx("meta",{name:"description",content:"Explore this hand-curated gallery featuring the evolution of famous internet companies. See the evolution of Google, Amazon, Pinterest, Reddit, and more!"}),f.jsx("link",{rel:"canonical",href:"https://www.kapwing.com/museum-of-websites"})]}),f.jsx("div",{className:"evolution-of-products-header-container",children:f.jsxs("div",{children:[f.jsxs("div",{className:"evolution-of-products-header",children:["Museum of Websites",f.jsx("img",{src:"https://i.imgur.com/cfD5uhb.png",alt:"Museum of Websites Logo",className:"museum-of-websites-logo"})]}),f.jsx("div",{className:"evolution-of-products-description",children:"A hand-curated gallery of how famous internet companies have changed over time."}),f.jsxs("div",{className:"startup-demo-videos-share",children:[f.jsx(Us,{url:"https://www.kapwing.com/museum-of-websites",className:"startup-demo-share-button",children:f.jsx(_i,{size:40,round:!0})}),f.jsx(Ds,{url:"https://www.kapwing.com/museum-of-websites",title:" Museum of Websites - Kapwing",via:"kapwingapp",hashtags:oFt,className:"startup-demo-share-button",children:f.jsx(Ci,{size:40,round:!0})})]}),f.jsxs("div",{className:"evolution-of-products-text",children:["Curated with love by the team at"," ",f.jsx("a",{href:"https://www.kapwing.com",className:"evolution-of-products-header-link",children:"Kapwing"})]})]})}),f.jsxs("div",{className:"evolution-of-products-background",children:[f.jsxs("div",{className:"startup-demo-videos-list-container",children:[sFt.map((e=>this.renderVideoItem(e))),f.jsx("div",{className:"startup-demo-videos-item-container",children:f.jsx("div",{className:"startup-demo-videos-image-container",children:f.jsx("img",{alt:"More to come!",src:"https://i.imgur.com/uXJdIsY.png",className:"startup-demo-videos-image"})})})]}),f.jsxs("div",{className:"startup-demo-videos-list-container startup-demo-videos-footer-container",children:[f.jsxs("div",{className:"startup-demo-videos-email-subscribe",children:[f.jsx("div",{className:"startup-demo-videos-subscribe-header",children:"Looking for more?"}),f.jsx("div",{className:"startup-demo-videos-subscribe-description",children:"Sign up for our mailing list to get the latest updates:"}),f.jsx(nFt,{source:"evolution-of-products"})]}),f.jsxs("div",{className:"startup-demo-videos-footer-text",children:["We're adding to the collection on a regular basis! Have a submission for a gallery? Contact us at"," ",f.jsx("a",{href:"mailto:hello@kapwing.com",children:"hello@kapwing.com"}),"!"]})]})]})]}),f.jsx(Int,{})]})}}const rFt=vC(iFt),lFt=he((e=>[{src:e}]));class dFt extends i.Component{constructor(e){super(e),a(this,"imgNode",null),this.state={loaded:!1,isLightBoxOpen:!1},this.onImageLoad=this.onImageLoad.bind(this),this.openLightbox=this.openLightbox.bind(this),this.closeLightbox=this.closeLightbox.bind(this)}componentDidMount(){var e;const t=new window.Image;t.onload=this.onImageLoad,t.src=null==(e=this.imgNode)?void 0:e.getAttribute("src")}onImageLoad(){this.imgNode&&this.setState({loaded:!0})}openLightbox(){this.setState({isLightBoxOpen:!0})}closeLightbox(){this.setState({isLightBoxOpen:!1})}render(){const{className:e,lightBoxSrc:t,src:a}=this.props,{loaded:n,isLightBoxOpen:s}=this.state,o=["image"];e&&o.splice(0,0,e),n&&o.push("image-loaded");const i=f.jsx("img",{alt:"Click to expand",ref:e=>{this.imgNode=e},src:a,className:o.join(" "),onClick:this.openLightbox});return f.jsxs("div",{children:[i,f.jsx(Si,{images:lFt(t||a),isOpen:s,onClose:this.closeLightbox,backdropClosesModal:!0,enableKeyboardInpu:!0,showImageCount:!1})]})}}class cFt extends i.Component{constructor(e){super(e),this.state={currentProduct:void 0}}componentDidMount(){const{match:e,navigate:t}=this.props;if(e&&e.params&&e.params.id){const a=sFt.find((t=>t.id===e.params.id));a?this.setState({currentProduct:a}):t("/museum-of-websites")}else t("/museum-of-websites")}renderTimeline(){const{currentProduct:e}=this.state;return f.jsx("div",{className:"evolution-of-products-item-timeline",children:e.states.map((e=>f.jsxs("div",{className:"evolution-of-products-item-state",children:[f.jsx("div",{className:"evolution-of-products-item-state-image-container",children:f.jsx(dFt,{src:e.image,className:"evolution-of-products-item-state-image"})}),f.jsxs("div",{className:"evolution-of-products-item-state-info",children:[f.jsx("div",{className:"evolution-of-products-item-state-year",children:e.year}),e.description&&f.jsx("div",{className:"evolution-of-products-item-state-description",children:e.description}),e.link&&f.jsx("div",{className:"evolution-of-products-item-state-link-container",children:f.jsx("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",children:"Visit Page"})})]})]},e.link)))})}renderProduct(){const{currentProduct:e}=this.state,{meta:{title:t,description:a}={}}=e,{navigate:n}=this.props;return f.jsxs(f.Fragment,{children:[f.jsxs(Nt,{children:[f.jsx("title",{children:t}),f.jsx("meta",{name:"description",content:a}),f.jsx("link",{rel:"canonical",href:`https://www.kapwing.com/museum-of-websites/${e.id}`})]}),f.jsxs("div",{className:"evolution-of-products-item-wrapper",children:[f.jsxs("div",{className:"evolution-of-products-item-header",children:[f.jsx("div",{className:"evolution-of-products-item-back",onClick:()=>n("/museum-of-websites"),children:" Back to all companies"}),f.jsx("div",{className:"evolution-of-products-item-logo-container",children:f.jsx("img",{alt:`${e.name} Logo`,className:"evolution-of-products-item-logo",src:e.image})}),f.jsx("div",{className:"evolution-of-products-header",children:e.name}),f.jsx("div",{className:"evolution-of-products-item-date",children:e.date}),f.jsx("div",{className:"evolution-of-products-item-description",children:e.description})]}),this.renderTimeline()]})]})}render(){const{currentProduct:e}=this.state;return e?this.renderProduct():null}}const uFt=vC(cFt),pFt="FourOFour-module_container_Hp8mf",mFt="FourOFour-module_headerContainer_QXwTC",gFt="FourOFour-module_headerText_UdZXi",hFt="FourOFour-module_headerH1_JDW5J",vFt="FourOFour-module_headerH2_O-BeO",fFt="FourOFour-module_downloadAllButton_6MGp0",bFt="FourOFour-module_headerImageContainer_s83jS",yFt="FourOFour-module_headerImage_zeM8U",wFt="FourOFour-module_headerFooter_-s-b2",_Ft="FourOFour-module_shareButton_8b5yq",CFt="FourOFour-module_headerFooterText_kWO5L",SFt="FourOFour-module_illustrationWrapper_K88xH",xFt="FourOFour-module_illustrationRow_Sq-mH",IFt="FourOFour-module_illustrationContainer_X8O3G",AFt="FourOFour-module_illustrationHeader_0ObcC",kFt="FourOFour-module_illustrationDescription_WqQVd",TFt="FourOFour-module_illustration_89AHs",EFt="FourOFour-module_illustrationImage_Pexjy",LFt="FourOFour-module_illustrationDownloadButton_F3tJj",jFt="FourOFour-module_emailWrapper_65RMn",RFt=[{title:"This Page is Lost in Space",url:"https://i.imgur.com/A040Lxr.png",description:"You thought this mission to the moon would be a quick six month thing. Your neighbor offered to look after your dog. Your high school math teacher was impressed. He once said you wouldnt amount to anything.You sure showed him. But now here you are, fifty feet from your spaceship with no way to get back. Your dog will be so sad. Your math teacher will be so smug. Pretty devastating.",containerStyles:{backgroundColor:"#83D9C8",color:"#5C77AC"}},{title:"This Page is Lost in the Wind",url:"https://i.imgur.com/oCkEbrA.png",description:"The child had looked so excited when the clown had presented a large red balloon. You had seen this, but in the throes of your morning commute you didnt register it until it was too late. Who asked the government to support a fair right through Main Street during a week day anyway? Your bike barrelled right between the child and the clown and sent the balloon on its merry way. You didnt turn back to see the damage you had done. Later you saw the balloon floating outside your office window.",containerStyles:{backgroundColor:"#D5E9F6",color:"#4E43FA"}},{title:"This Page is Buried in the Sand",url:"https://i.imgur.com/FOeYt4E.png",description:"You have never seen an ostrich head. Whenever youre around it seems ostriches are avoiding your gaze. You came on this trip specifically to see an ostrich head, but here is this ostrich right in front of you, head invisible. You may never see an ostrich head.",containerStyles:{backgroundColor:"#EFEDFA",color:"#9F6C66"}},{title:"This Page is Broken",url:"https://i.imgur.com/g3hgqe8.png",description:"A broken clock is right twice a day. But if you just have one clock, its impossible to tell exactly when the clock is right. So it could be right at any moment. And that brings you to the crux of the conceptualization. What is time? Nothing but an abyss. Clocks are just false attempts to harness its power. Its cruel really.",containerStyles:{backgroundColor:"#FFE4EA",color:"#709BFA"}},{title:"Caution! This Page is Cordoned Off",url:"https://i.imgur.com/qIufhof.png",description:"The earthquake was not good to the bike lane on your way to work. A large gap in the pavement (too big to be called a pothole) had swallowed three oblivious bikers whole. So the city had put up two pylons and yellow caution tape. Pretty frustrating for you given your propensity to do 360 jumps over the gap.",containerStyles:{backgroundColor:"#83D9C8",color:"#965418"}},{title:"This Page is Broken",url:"https://i.imgur.com/yW2W9SC.png",description:"This mug was a family heirloom. Of your neighbor. Your neighbor always loved the color, shape, and quantity of coffee held by this mug. But your neighbor moved out and left it on their porch, no explanation, no repair materials, no nothing. So you have this broken mug.",containerStyles:{backgroundColor:"#D5E9F6",color:"#2F8E89"}},{title:"This Page is Burnt to a Crisp",url:"https://i.imgur.com/WvEu0cO.png",description:"Toast takes so long to make. You stare at the toaster tapping your feet. Your laundry is in the dryer and it just dinged. Maybe youll take it out. After all, you have time. You take out your laundry. You fold your underwear. You think about folding your socks. You remember your toast! It is too late. Its burnt to a crisp. The process repeats itself. You should probably figure out your toasting settings.",containerStyles:{backgroundColor:"#FFF4BB",color:"#4376C0"}},{title:"A Dog Ate this Page",url:"https://i.imgur.com/lKJiT77.png",description:"Your dog is cute but honestly a menace. Where are my shoes? Where is my graduation certificate? Where is the chocolate cake I baked for my Aunts birthday? And why did you take your dog to the vet on that same Thursday?!",containerStyles:{backgroundColor:"#FFE4EA",color:"#824B2"}},{title:"Dont Cry Over Spilled Page",url:"https://i.imgur.com/oEUksmz.png",description:"Gulp. You hold back tears as the white liquid spreads across the floor from your sad looking carton. You should have bought the chocolate milk, it was clearly the better choice. And then maybe you wouldnt have so carelessly smacked it across the room when you emphatically pointed at a bird outside. Too late now. You wipe the single tear from your eye and go fetch the mop.",containerStyles:{backgroundColor:"#FFE4EA",color:"#673164"}},{title:"Oh no! We tripped up!",url:"https://i.imgur.com/3suxlvm.png",description:"You had been told you should always check your shoes before getting up from the bleachers. Freshman were known to walk under them and tie peoples shoes together.",containerStyles:{backgroundColor:"#FFF4BB",color:"#180AD8"}},{title:"This Page is Wrong",url:"https://i.imgur.com/DWO5Hzg.png",description:"You have been trying for ten minutes. Its pretty late at night and pretty dark in your room. You reach over and flick on a lamp. You feel oh so stupid. The gap in the toy is a triangle and you only have the cylinder and cube pieces. In dismay you toss the toy aside. Curse your five year olds inability to keep track of the triangle!",containerStyles:{backgroundColor:"#D5E9F6",color:"#DF245D"}},{title:"This Page is Not on the Map",url:"https://i.imgur.com/Q2BAOd2.png",description:"You told your friends you werent bringing your phone, to try and experience what travel was like back in the day. You bought a map and a bottle of water and carried your camera for the money shot. But the map was from 2005 and the landscape had changed. So here you are, in the middle of a large field, that the map continues to claim is a local grocer.",containerStyles:{backgroundColor:"#83D9C8",color:"#386177"}},{title:"Theres a Leak in the Website",url:"https://i.imgur.com/U3vTGjX.png",description:"The boat had looked good to the naked eye. But you wear a very strong prescription and should have been wearing glasses. As you cling on to the bouey the coast guard had thrown at you, you watch the water rush into you beloved dingy. The leak sprays water higher and higher. Then the boat was swallowed and sunk into the abyss.",containerStyles:{backgroundColor:"#EFEDFA",color:"#684CFF"}},{title:"This Page is a Ghost",url:"https://i.imgur.com/QIxIKBH.png",description:"Once alive and now dead, this ghost appears to have some unfinished business. Could it be with you? Or the treasure hidden under the floorboards of the old mansion in the hills that may never reach its rightful owner, a compassionate school teacher in Brooklyn.",containerStyles:{backgroundColor:"#D5E9F6",color:"#5F749C"}},{title:"This Page Contains Nothing but Scraps",url:"https://i.imgur.com/kZNTPqI.png",description:"A perfectly enticing pizza box sitting on a table. You open it filled with anticipation. And find nothing but scraps. Perhaps a half eaten crust. And a lot of grease. The anticipation turns to deep disappointment and despair. Theres nothing left!",containerStyles:{backgroundColor:"#83D9C8",color:"#386177"}},{title:"This Page is Lost",url:"https://i.imgur.com/flHudHE.png",description:"You bought a little bracelet for the express purpose of not losing your keys. You put a hook on your door specifically meant for keeping your keys. You briefly attempted to attach your keys to your phone. But here they are. In the dirt. In the park across the street from that bar you used to like but decided the last time you went that you probably wouldnt go again. Youll never find them.",containerStyles:{backgroundColor:"#FFF4BB",color:"#226FAB"}},{title:"This Page is in the Garbage",url:"https://i.imgur.com/Oqnene0.png",description:"When the king of racoons approached you during the fall of 2005, you were taken aback by the generosity of the offer he made and also his ability to talk. Youve been living in harmony ever since. They pay 50% of your rent and you forget to take out the garbage every other week.",containerStyles:{backgroundColor:"#FFE4EA",color:"#4C76EC"}},{title:"This Page is Not Real",url:"https://i.imgur.com/hkRuanu.png",description:"The imposing figure with the trenchcoat shows you the two polaroids. One appears to show the Loch Ness monster herself in the middle of a stretch of dark water. The other shows a sasquatch picking its way through a dark forest. You look closer. The animal shapes are drawn on with ink. This isnt real! You scream and throw the polaroids to the floor, sobbing.",containerStyles:{backgroundColor:"#EFEDFA",color:"#092048"}},{title:"This Page is Melted in the Sun",url:"https://i.imgur.com/O0DCcQy.png",description:"People questioned your desire to get strawberry. Thats the worst flavor, they said. But you are strong and independent so you got it anyway. And honestly, it wasnt great. Luckily, two licks in a bike whizzed past you and knocked the cone out of your hand. Oh no! you yelled as the creamy pink became a mess in the dirt. But really you were happy.",containerStyles:{backgroundColor:"#FFF4BB",color:"#E896ED"}},{title:"More illustrations to come",url:"https://i.imgur.com/iRjGBZj.png",description:"We're working hard to put out new illustrations for your lost URLs. There will be many more stories and trendy images to come in the future. Stay tuned for new 404 illustrations!",containerStyles:{backgroundColor:"white",color:"black"}}],NFt=["404","illustrations"];class MFt extends i.Component{renderImage(e){return f.jsxs("div",{className:IFt,style:e.containerStyles,children:[f.jsx("a",{href:e.url,className:LFt,target:"_blank",rel:"noopener noreferrer",children:"View full image"}),f.jsx("div",{className:TFt,children:f.jsx("img",{src:e.url,alt:e.title,className:EFt})}),f.jsx("div",{className:AFt,children:e.title}),f.jsx("div",{className:kFt,children:e.description})]})}render(){const e=[];for(let t=0;t<RFt.length;t+=2)e.push(f.jsxs(b.Fragment,{children:[this.renderImage(RFt[t]),this.renderImage(RFt[t+1])]},t));return f.jsxs("div",{className:pFt,children:[f.jsxs(Nt,{children:[f.jsx("title",{children:"404 Illustrations  Trendy 404 Images  Kapwing"}),f.jsx("meta",{name:"description",content:"Explore this collection of free trendy illustrations to make an eye-catching 404 error page on your website. Many more 404 error illustrations to come!"}),f.jsx("meta",{name:"keywords",content:"404 illustrations"}),f.jsx("meta",{property:"og:url",content:"https://www.kapwing.com/404-illustrations"}),f.jsx("meta",{property:"og:title",content:"404 Illustrations - Trendy 404 page images for your next project"}),f.jsx("meta",{property:"og:description",content:"This website is a hand-crafted collection of illustrations that you can use for your website's 404 (Not Found) page. Your URL might not be found, but your user can still have a delightful experience. Many more illustrations to come!"}),f.jsx("meta",{property:"og:image",content:"https://i.imgur.com/2HLc0dN.jpg"}),f.jsx("meta",{property:"og:image:url",content:"https://i.imgur.com/2HLc0dN.jpg"}),f.jsx("meta",{property:"twitter:image",content:"https://i.imgur.com/2HLc0dN.jpg"}),f.jsx("link",{rel:"canonical",href:"https://www.kapwing.com/404-illustrations"})]}),f.jsxs("div",{className:mFt,children:[f.jsxs("div",{className:gFt,children:[f.jsx("div",{className:hFt,children:"404 Illustrations"}),f.jsx("div",{className:vFt,children:"Trendy, ready to use images for your 404 page"}),f.jsx("a",{href:"https://drive.google.com/drive/folders/1yFKI9f9-R_WUhAMZnrxzATPHKaOVdCkl?usp=sharing",target:"_blank",rel:"noopener noreferrer",children:f.jsx("div",{className:fFt,children:"Download All"})}),f.jsxs("div",{className:wFt,children:[f.jsxs("div",{children:[f.jsx(Us,{url:"https://www.kapwing.com/404-illustrations",className:_Ft,children:f.jsx(_i,{size:40,round:!0})}),f.jsx(Ds,{url:"https://www.kapwing.com/404-illustrations",title:"404 Illustrations - trendy, ready to use images for your 404 page",hashtags:NFt,className:_Ft,children:f.jsx(Ci,{size:40,round:!0})})]}),f.jsx("div",{className:CFt,children:"Curated with love by the team at Kapwing"})]})]}),f.jsx("div",{className:bFt,children:f.jsx("img",{src:"https://i.imgur.com/QUC2CyX.png",alt:"Ice Cream Cone Melting",className:yFt})})]}),f.jsx("div",{className:SFt,children:e.map(((e,t)=>f.jsx("div",{className:xFt,children:e},t)))}),f.jsx("div",{className:jFt,children:f.jsx("div",{className:"startup-demo-videos-list-container startup-demo-videos-footer-container",children:f.jsxs("div",{className:"startup-demo-videos-email-subscribe",children:[f.jsx("div",{className:"startup-demo-videos-subscribe-header",children:"Looking for more?"}),f.jsx("div",{className:"startup-demo-videos-subscribe-description",children:"Sign up for our mailing list to get the latest updates:"}),f.jsx(nFt,{source:"404-illustrations"})]})})}),f.jsx(Int,{})]})}}const PFt="MapContainer-module_spacer_ynQld",FFt="MapContainer-module_footerLink_auYjb",DFt="MapContainer-module_mapContainer_dCX9S",OFt="MapContainer-module_mapTextContainer_e-YK6",UFt="MapContainer-module_mapTextHeader_bIx7r",BFt="MapContainer-module_mapTextDescription_iPeEJ",WFt="MapContainer-module_mapPreviewImage_G8-Te",VFt="MapContainer-module_mapPreview_-1QfI",HFt=b.memo((()=>f.jsxs("div",{className:DFt,children:[f.jsxs(Nt,{children:[f.jsx("title",{children:"Sonoma County Fire Satellite Map  Kapwing"}),f.jsx("meta",{name:"description",content:"The Sonoma County Fire map allowed residents to see the status of their homes using satellite imagery after the Tubbs fire in November 2017."}),f.jsx("meta",{property:"og:url",content:"https://www.kapwing.com/sonoma-county-fire-map"}),f.jsx("meta",{property:"og:title",content:"Sonoma County Fire Satellite Map"}),f.jsx("meta",{property:"og:description",content:"This map compares the before and after of the Sonoma County fire. The imagery was taken on 10/11/2017 and is courtesy of Digital Globe."}),f.jsx("meta",{property:"og:image",content:"https://cdn-useast1.kapwing.com/static/firemap.png"}),f.jsx("meta",{property:"og:image:url",content:"https://cdn-useast1.kapwing.com/static/firemap.png"}),f.jsx("meta",{property:"twitter:image",content:"https://cdn-useast1.kapwing.com/static/firemap.png"}),f.jsx("link",{rel:"canonical",href:"https://www.kapwing.com/sonoma-county-fire-map"})]}),f.jsxs("div",{className:OFt,children:[f.jsx("div",{className:UFt,children:"Sonoma County Fire Map"}),f.jsxs("div",{className:BFt,children:[f.jsx("p",{children:"The Sonoma County Fire Map was a project created by Eric Lu after the Tubbs Fire in November 2017. The map allowed residents to see the status of their homes after the fires using satellite imagery, before the roads reopened."}),f.jsx("p",{children:"Eric, a long time Santa Rosa resident, created the map to help other residents see their homes."}),f.jsxs("p",{children:["The map was featured in various news outlets including the"," ",f.jsx("a",{href:"https://www.mercurynews.com/2017/10/13/before-and-after-the-fire-satellite-photos-of-santa-rosa-neighborhoods/",children:"Mercury Times"}),", the"," ",f.jsx("a",{href:"https://www.huffingtonpost.com/entry/santa-rosa-fire-3-angelsnot-in-disguise_us_59e65b00e4b0e60c4aa365d2",children:"Huffington Post"}),", and"," ",f.jsx("a",{href:"https://www.kqed.org/news/11623382/map-santa-rosa-residents-see-your-home-after-the-fires",children:"KQED"}),"."]})]}),f.jsx("div",{className:PFt}),f.jsx("div",{className:VFt,children:f.jsx("img",{src:"https://i.imgur.com/zZELAYl.png",alt:"Map Preview",className:WFt})}),f.jsx("div",{className:VFt,children:f.jsx("img",{src:"https://i.imgur.com/hfOM9Le.png",alt:"Map Preview",className:WFt})}),f.jsx("div",{className:PFt}),f.jsxs("div",{className:BFt,children:[f.jsx("p",{children:"My heart goes out to those families who lost loved ones in the fire, and prayers for all others who were devastatingly affected."}),f.jsx("p",{children:"I am thankful for our local firefighters for risking their lives to save lives and property that night. I am so grateful for many other community members who worked tirelessly to help affected residents get back on their feet."}),f.jsx("p",{children:"Thanks for visiting the Sonoma County Fire Map and have a nice day."}),f.jsx("div",{className:FFt,children:f.jsx("a",{href:"/",children:" Return to Kapwing.com"})})]})]})]}))),zFt="NewTabStretches-module_container_Ifz0f",GFt="NewTabStretches-module_content_4-B1h",YFt="NewTabStretches-module_header_QWxOX",KFt="NewTabStretches-module_icon_C0v3X",XFt="NewTabStretches-module_share_2k5VL",ZFt="NewTabStretches-module_shareButton_c127f",qFt="NewTabStretches-module_title_dA44X",JFt="NewTabStretches-module_subtitle_Pnab3",$Ft="NewTabStretches-module_video_idDH4",QFt="NewTabStretches-module_downloadButton_NcgWF",eDt="NewTabStretches-module_buttonLabel_uXo3W",tDt="NewTabStretches-module_buttonChromeLogo_Ys6aR",aDt="NewTabStretches-module_body_anxjf",nDt="NewTabStretches-module_explainer_-wCMC",sDt="NewTabStretches-module_photo_usIsf",oDt="NewTabStretches-module_coverImage_WNduu",iDt=["stretch","yoga","working from home"],rDt=b.memo((()=>f.jsxs(f.Fragment,{children:[f.jsxs(Nt,{children:[f.jsx("title",{children:"New Tab Stretches - Chrome Extension  Kapwing"}),f.jsx("meta",{name:"description",content:"Use the New Tab Stretches Chrome extension to improve your flexibility while working from home. Start getting reminders to stretch right after installing!"}),f.jsx("meta",{property:"og:url",content:"https://www.kapwing.com/new-tab-stretches"}),f.jsx("meta",{property:"og:title",content:"New Tab Stretches  Kapwing"}),f.jsx("meta",{property:"og:description",content:"New Tab Stretches is a Chrome extension that reminds you to stretch your body while you're working from home. Whenever you open a new tab in Chrome, New Tab Stretches will show you a new stretch that you could do right in your office or even at your desk. Just follow the graphic and the on screen instructions and start stretching more throughout the day!"}),f.jsx("meta",{property:"og:image",content:"https://i.imgur.com/BQ0WNy7.png"}),f.jsx("meta",{property:"og:image:url",content:"https://i.imgur.com/BQ0WNy7.png"}),f.jsx("meta",{property:"twitter:image",content:"https://i.imgur.com/BQ0WNy7.png"}),f.jsx("link",{rel:"canonical",href:"https://www.kapwing.com/new-tab-stretches"})]}),f.jsxs("div",{className:zFt,children:[f.jsxs("header",{className:YFt,children:[f.jsx("img",{src:"https://i.imgur.com/1HWhtMo.jpg",alt:"New Tab Stretches Icon",width:"40",height:"40",className:KFt}),f.jsxs("div",{className:XFt,children:[f.jsx(Us,{url:"https://www.kapwing.com/new-tab-stretches",className:ZFt,children:f.jsx(_i,{size:40,round:!0})}),f.jsx(Ds,{url:"https://www.kapwing.com/new-tab-stretches",title:"New Tab Stretches - Improve your flexibility with every new tab",via:"kapwingapp",hashtags:iDt,className:ZFt,children:f.jsx(Ci,{size:40,round:!0})})]})]}),f.jsxs("main",{className:GFt,children:[f.jsx("h1",{className:qFt,children:"New Tab Stretches"}),f.jsx("div",{className:JFt,children:"Improve your flexibility with every new tab."}),f.jsx("div",{className:oDt,children:f.jsx("video",{src:"https://cdn-useast1.kapwing.com/static/new-tab-stretches.mp4",autoPlay:!0,muted:!0,className:$Ft,controls:!0,loop:!0})}),f.jsx("a",{href:"https://chrome.google.com/webstore/detail/bfacamkncebkphfahhljkjkhpinmicof",target:"_blank",rel:"noopener noreferrer",children:f.jsxs("button",{type:"button",className:QFt,children:[f.jsx("div",{className:tDt,children:f.jsx(xi,{})}),f.jsx("div",{className:eDt,children:"Add New Tab Stretches to Chrome"})]})}),f.jsx("div",{className:aDt,children:f.jsxs("div",{className:nDt,children:[f.jsx("p",{children:"New Tab Stretches is a Chrome extension that reminds you to stretch your body while you're working from home. Whenever you open a new tab in Chrome, New Tab Stretches will show you a new stretch that you could do right in your office or even at your desk."}),f.jsx("p",{children:"The current COVID-19 situation has our whole team working from home. Gyms and many public areas are all closed. Since it's hard to get moving, we end up sitting at our desk for hours at a time."}),f.jsx("div",{children:f.jsx("img",{src:"https://i.imgur.com/NAtTr6Q.jpg",className:sDt,alt:"Quad stretch"})}),f.jsx("p",{children:"New Tab Stretches is a small way to remind yourself to stay healthy and active throughout the day. Whether you're working intensely on a new project or just spending time browsing the web, the set of illustrations in your new tab can serve as a small reminder to move around. Many of the stretches can be done without having to get up from your computer, and all of the stretches can be done right near your desk."}),f.jsx("p",{children:"There's nothing special that you need to do in order to get set up and get started with this extension. Just install it directly from the Chrome extension store, and it will start working on your next new tab. You don't even need to restart your browser."}),f.jsx("div",{children:f.jsx("img",{src:"https://i.imgur.com/glTpHA6.jpg",className:sDt,alt:"Neck stretch"})}),f.jsx("p",{children:"We worked with a professional illustrator to create original drawings of a diverse set of models who represent the many different types of people who could benefit from stretching throughout the day. We're also trying to improve the number of stretches in the extension as we create more illustrations and learn more stretches!"}),f.jsx("div",{children:f.jsx("img",{src:"https://i.imgur.com/bGdcmpS.jpg",className:sDt,alt:"Calf stretch"})}),f.jsx("p",{children:"We hope that this extension can be a way to help in a small way throughout this pandemic. Thanks for sharing it with your friends!"}),f.jsx("p",{children:f.jsx("a",{href:"https://chrome.google.com/webstore/detail/bfacamkncebkphfahhljkjkhpinmicof",target:"_blank",rel:"noopener noreferrer",children:f.jsxs("button",{type:"button",className:QFt,children:[f.jsx("div",{className:tDt,children:f.jsx(xi,{})}),f.jsx("div",{className:eDt,children:"Add New Tab Stretches to Chrome"})]})})}),f.jsxs("p",{children:["Made with love by the team at"," ",f.jsx("a",{href:"https://www.kapwing.com",target:"_blank",rel:"noopener noreferrer",children:"Kapwing"}),"."]})]})})]})]})]}))),lDt="Sidedoor-module_container_V2v9j",dDt="Sidedoor-module_headerBar_AyLTR",cDt="Sidedoor-module_hero_WOGju",uDt="Sidedoor-module_heroHeader_cSXy0",pDt="Sidedoor-module_heroSubheader_4xz-f",mDt="Sidedoor-module_heroButtons_Dy5AN",gDt="Sidedoor-module_heroButton_cNEO6",hDt="Sidedoor-module_sectionLight_DoWTs",vDt="Sidedoor-module_sectionSmall_-IFxt",fDt="Sidedoor-module_sectionLarge_UjT2G",bDt="Sidedoor-module_sectionRight_0uS1D",yDt="Sidedoor-module_sectionHeader_K-VlH",wDt="Sidedoor-module_sectionSubheader_DOyUd",_Dt="Sidedoor-module_sectionLeft_Ioszg",CDt="Sidedoor-module_sectionImage_7e4Zw",SDt="Sidedoor-module_sectionButtons_NMbE0",xDt="Sidedoor-module_sectionButton_zJM-f",IDt="Sidedoor-module_howItWorks_H4Fgs",ADt="Sidedoor-module_howItWorksBullet_4RDp0",kDt="Sidedoor-module_howItWorksBulletNumber_a7VeW",TDt="Sidedoor-module_howItWorksBulletDescription_7zEQy",EDt="Sidedoor-module_testimonials_U6ivK",LDt="Sidedoor-module_testimonialsHeader_wRizI",jDt="Sidedoor-module_testimonial_K5Xzr",RDt="Sidedoor-module_testimonialImageContainer_hGSh8",NDt="Sidedoor-module_testimonialImage_VlhKM",MDt="Sidedoor-module_testimonialName_YBTRh",PDt="Sidedoor-module_footer_pR1gQ",FDt="Sidedoor-module_footerHeader_FFVkM",DDt="Sidedoor-module_footerDescription_RKIFG",ODt="Sidedoor-module_bestsellers_ZZK-v",UDt="Sidedoor-module_bestsellersItem_NA2Ti",BDt="Sidedoor-module_bestsellersItemInner_hmZbX",WDt="Sidedoor-module_bestsellersHeader_eYpaz",VDt="Sidedoor-module_bestsellersLeft_y6J-n",HDt="Sidedoor-module_bestsellersRight_WZgtD",zDt="Sidedoor-module_bestsellersImageContainer_33ott",GDt="Sidedoor-module_bestsellersImage_mc6fx",YDt="Sidedoor-module_bestsellersName_Qt6Uq",KDt="Sidedoor-module_bestsellersDescription_4hvmd",XDt="Sidedoor-module_bestsellersButtonContainer_VPhkI",ZDt="Sidedoor-module_bestsellersButton_Nc3dG",qDt="Sidedoor-module_returnContainer_vIGnJ",JDt="Sidedoor-module_startupDemoShareButton_L6VKn",$Dt=["college","accepted"];class QDt extends i.Component{render(){return f.jsxs("div",{className:PDt,children:[f.jsx("div",{className:FDt,children:"About Sidedoor"}),f.jsxs("div",{className:DDt,children:["Sidedoor is a side-business created with love by the team at"," ",f.jsx("a",{href:"/",children:"Kapwing"}),". If you find it useful, please help spread the love with a share!"]}),f.jsxs("div",{className:DDt,children:[f.jsx(Us,{url:"https://www.kapwing.com/sidedoor",className:JDt,children:f.jsx(_i,{size:40,round:!0})}),f.jsx(Ds,{url:"https://www.kapwing.com/sidedoor",title:"Sidedoor - College acceptance simplified",hashtags:$Dt,className:JDt,children:f.jsx(Ci,{size:40,round:!0})})]})]})}}class eOt extends i.Component{render(){return f.jsx("div",{className:dDt,children:f.jsx(mn,{to:"/sidedoor",children:"Sidedoor"})})}}const tOt=[{name:"Yale University",shortname:"Yale",image:"https://i.imgur.com/qhYSTIj.jpg",description:"Since its founding in 1701, Yale has been dedicated to expanding and sharing knowledge, inspiring innovation, and preserving cultural and scientific information for future generations.",link:"/sidedoor/ivy-league/yale",borderColor:"#DFDFDE",price:"630k"},{name:"Harvard University",shortname:"Harvard",image:"https://i.imgur.com/Rj2ee8c.jpg",description:"Established in 1636, Harvard is the oldest institution of higher education in the United States. The University, which is based in Cambridge and Boston, Massachusetts, has an enrollment of over 20,000 degree candidates.",link:"/sidedoor/ivy-league/harvard",price:"1.3m"},{name:"Georgetown University",shortname:"Georgetown",image:"https://i.imgur.com/R9zjl1J.jpg",description:"Located in the nation's capitol, Georgetown is home to a vibrant community of accomplished students, distinguished faculty members and committed professional staff.",link:"/sidedoor/ivy-league/georgetown",price:"350k"}];class aOt extends i.Component{render(){const{navigate:e}=this.props;return f.jsxs(f.Fragment,{children:[f.jsxs(Nt,{children:[f.jsx("title",{children:"Sidedoor - Ivy League"}),f.jsx("meta",{name:"description",content:"Getting into college is too hard. With Sidedoor, you can easily purchase college acceptances at top universities, including Yale, USC, Georgetown, and more. You're different. Why apply like everyone else?"}),f.jsx("meta",{property:"og:url",content:"https://www.kapwing.com/sidedoor"}),f.jsx("meta",{property:"og:title",content:"Sidedoor - College Acceptance Simplified"}),f.jsx("meta",{property:"og:description",content:"Getting into college is too hard. With Sidedoor, you can easily purchase college acceptances at top universities, including Yale, USC, Georgetown, and more. You're different. Why apply like everyone else?"}),f.jsx("meta",{property:"og:image",content:"https://i.imgur.com/32NaUXQ.jpg"}),f.jsx("meta",{property:"og:image:url",content:"https://i.imgur.com/32NaUXQ.jpg"}),f.jsx("meta",{property:"twitter:image",content:"https://i.imgur.com/32NaUXQ.jpg"}),f.jsx("link",{rel:"canonical",href:"https://www.kapwing.com/sidedoor/ivy-league"})]}),f.jsxs("div",{className:lDt,children:[f.jsx(eOt,{}),f.jsxs("div",{className:ODt,style:{paddingTop:"40px"},children:[f.jsx("div",{className:WDt,children:"Ivy League"}),tOt.map((t=>f.jsx("div",{className:UDt,onClick:()=>{e(t.link)},children:f.jsxs("div",{className:BDt,style:{borderColor:t.borderColor},children:[f.jsx("div",{className:zDt,children:f.jsx("img",{src:t.image,className:GDt,alt:t.name})}),f.jsx("div",{className:YDt,children:t.name}),f.jsx("div",{className:KDt,children:t.description}),f.jsx("div",{className:XDt,children:f.jsx(mn,{to:t.link,children:f.jsxs("div",{className:ZDt,children:["Shop ",t.shortname," - from $",t.price]})})})]})},t.name))),f.jsx("div",{className:UDt,children:f.jsxs("div",{className:BDt,style:{borderColor:"#DFDFDE"},children:[f.jsx("div",{className:zDt,children:f.jsx("img",{src:"https://i.imgur.com/kq9v1JI.jpg",className:GDt,alt:"More coming soon"})}),f.jsx("div",{className:YDt,children:"Stay tuned..."}),f.jsx("div",{className:KDt,children:"We're constantly building relationships and adding new schools. Stay tuned for more schools in Ivy League!"}),f.jsx("div",{})]})}),f.jsx("div",{className:qDt,children:f.jsx(mn,{to:"/sidedoor",children:f.jsx("div",{className:ZDt,children:"Return home"})})})]}),f.jsx(QDt,{})]})]})}}const nOt=vC(aOt),sOt="OverlayWrapper-module_overlayBackground_5di-s",oOt="OverlayWrapper-module_sideDoorOverlayContainer_BcD-f",iOt="OverlayWrapper-module_exit_IXrWo",rOt="OverlayWrapper-module_overlayContent_zcV-b";class lOt extends i.Component{render(){return f.jsxs("div",{children:[f.jsx("div",{className:sOt,onClick:()=>{this.props.onClose()},"data-cy":"overlay-background"}),f.jsxs("div",{className:oOt,children:[f.jsx("div",{className:iOt,onClick:()=>{this.props.onClose()},children:f.jsx(R,{})}),f.jsx("div",{className:rOt,children:this.props.children})]})]})}}const dOt="School-module_background_QXx7w",cOt="School-module_tile_JkIMe",uOt="School-module_tileHeader_-tWud",pOt="School-module_tileDescription_qnTNT",mOt="School-module_tileSteps_pKx5U",gOt="School-module_tileStep_dT-B9",hOt="School-module_tileStepHeader_yHrbG",vOt="School-module_tileStepSubheader_BSn86",fOt="School-module_button_FOjqN",bOt="School-module_buttonHelper_rvt8W",yOt="School-module_disclaimer_33Boo",wOt="School-module_overlayHeader_X0sdd",_Ot="School-module_overlayDescription_CuhvG",COt={yale:{image:"https://i.imgur.com/jiHsYEp.jpg",name:"Yale University",description:"Admission to the school will be granted through the soccer team.",price:"630k"},harvard:{image:"https://i.imgur.com/75CICnw.jpg",name:"Harvard University",description:"Goodbye Z-list. Hello Sidedoor list.",price:"1.3m"},georgetown:{image:"https://i.imgur.com/ncwsxVU.jpg",name:"Georgetown University",description:'"Play" on the storied Georgetown tennis team.',price:"350k"},stanford:{image:"https://i.imgur.com/Ca5ft4n.jpg",name:"Stanford University",description:"Admittance through the sailing team. You can sail if you want to, too!",price:"800k"},usc:{image:"https://i.imgur.com/0PGHt5k.jpg",name:"University of Southern California",description:"Play on the storied football team. You could probably be a kicker, anyways.",price:"75k"},ucla:{image:"https://i.imgur.com/r6ydn22.jpg",name:"University of California, Los Angeles",description:"Play on the soccer team at UCLA. Don't worry, you won't have to start.",price:"240k"}};class SOt extends i.Component{constructor(e){super(e),a(this,"overlayOnClose",(()=>this.setState({showOverlay:!1}))),this.state={showOverlay:!1}}render(){const{school:e}=this.props.match.params,{navigate:t}=this.props,{showOverlay:a}=this.state,n=function(e){if(e in COt)return COt[e]}(e);if(!n)return t("/sidedoor"),null;return f.jsxs(f.Fragment,{children:[f.jsxs(Nt,{children:[f.jsxs("title",{children:[n.name," - Sidedoor"]}),f.jsx("meta",{name:"description",content:"Getting into college is too hard. With Sidedoor, you can easily purchase college acceptances at top universities, including Yale, USC, Georgetown, and more. You're different. Why apply like everyone else?"}),f.jsx("meta",{property:"og:url",content:"https://www.kapwing.com/sidedoor"}),f.jsx("meta",{property:"og:title",content:"Sidedoor - College Acceptance Simplified"}),f.jsx("meta",{property:"og:description",content:"Getting into college is too hard. With Sidedoor, you can easily purchase college acceptances at top universities, including Yale, USC, Georgetown, and more. You're different. Why apply like everyone else?"}),f.jsx("meta",{property:"og:image",content:"https://i.imgur.com/32NaUXQ.jpg"}),f.jsx("meta",{property:"og:image:url",content:"https://i.imgur.com/32NaUXQ.jpg"}),f.jsx("meta",{property:"twitter:image",content:"https://i.imgur.com/32NaUXQ.jpg"}),f.jsx("link",{rel:"canonical",href:`https://www.kapwing.com/sidedoor/${"harvard"===e||"georgetown"===e||"yale"===e?"ivy-league":"west-coast"}/${e}`})]}),f.jsx(eOt,{}),f.jsx("div",{className:dOt,style:{width:"100vw",height:`100${Aye}`,backgroundColor:"#333333",backgroundImage:`url("${n.image}")`},children:f.jsxs("div",{className:cOt,children:[f.jsx("div",{className:uOt,children:n.name}),f.jsx("div",{className:pOt,children:n.description}),f.jsxs("div",{className:mOt,children:[f.jsxs("div",{className:gOt,children:[f.jsx("span",{className:hOt,children:"1. Purchase upfront"}),f.jsx("span",{className:vOt,children:"Refundable for 30 days"})]}),f.jsxs("div",{className:gOt,children:[f.jsx("span",{className:hOt,children:"2. Take our SAT"}),f.jsx("span",{className:vOt,children:"Location and proctor provided"})]}),f.jsxs("div",{className:gOt,children:[f.jsx("span",{className:hOt,children:"3. Submit photos"}),f.jsx("span",{className:vOt,children:"Wearing athletic clothes"})]}),f.jsxs("div",{className:gOt,children:[f.jsx("span",{className:hOt,children:"4. Enjoy senior year"}),f.jsx("span",{className:vOt,children:"Don't worry like everyone else"})]})]}),f.jsxs("div",{className:fOt,onClick:()=>{this.setState({showOverlay:!0})},children:["Purchase now - $",n.price," ",f.jsx("span",{className:bOt,children:"One time payment"})]}),f.jsx("div",{className:yOt,children:"* No legacy status required for purchase. Admissions are 100% legitimate and legal. Confidentiality guaranteed."}),a?f.jsxs(lOt,{onClose:this.overlayOnClose,children:[f.jsx("div",{className:wOt,children:"Happy April Fools' Day!"}),f.jsxs("div",{className:_Ot,children:[f.jsx("p",{children:"Unfortunately, if you're trying to buy admission on this website, you probably can't afford it."}),f.jsx("p",{children:"Enjoy Sidedoor? Please help use spread the word on Facebook, Twitter, or your social network of choice!"}),f.jsxs("p",{children:["Built with love by the team at"," ",f.jsx("a",{href:"https://www.kapwing.com",target:"_blank",rel:"noopener noreferrer",children:"Kapwing"}),"."]}),f.jsx("p",{children:f.jsx(mn,{to:"/sidedoor",children:"Return to Sidedoor "})})]})]}):null]})})]})}}const xOt=vC(SOt),IOt=[{name:"Lori Loughlin",image:"https://i.imgur.com/BAa9OWe.jpg",description:"American actress"},{name:"Bill McGlashan",image:"https://i.imgur.com/422a6G7.png",description:"Founder of TGP Growth"},{name:"Chris Schaepe",image:"https://i.imgur.com/rIVdoFX.png",description:"Co-founder of Lightspeed Venture Partners"},{name:"Gamal Aziz",image:"https://i.imgur.com/dnChPbR.jpg",description:"President of Wynn Resorts"},{name:"Felicity Huffman",image:"https://i.imgur.com/KjioaI2.png",description:"American Actress"},{name:"You?",image:"https://i.imgur.com/u7fAmA2.png",description:"Our next happy partner!"}];class AOt extends i.Component{constructor(e){super(e),x0({fontToLoad:{type:"default",fontFamily:"Rubik"}})}render(){return f.jsxs(f.Fragment,{children:[f.jsxs(Nt,{children:[f.jsx("title",{children:"Sidedoor - College Acceptance Simplified"}),f.jsx("meta",{name:"description",content:"Getting into college is too hard. With Sidedoor, you can easily purchase college acceptances at top universities, including Yale, USC, Georgetown, and more. You're different. Why apply like everyone else?"}),f.jsx("meta",{property:"og:url",content:"https://www.kapwing.com/sidedoor"}),f.jsx("meta",{property:"og:title",content:"Sidedoor - College Acceptance Simplified"}),f.jsx("meta",{property:"og:description",content:"Getting into college is too hard. With Sidedoor, you can easily purchase college acceptances at top universities, including Yale, USC, Georgetown, and more. You're different. Why apply like everyone else?"}),f.jsx("meta",{property:"og:image",content:"https://i.imgur.com/32NaUXQ.jpg"}),f.jsx("meta",{property:"og:image:url",content:"https://i.imgur.com/32NaUXQ.jpg"}),f.jsx("meta",{property:"twitter:image",content:"https://i.imgur.com/32NaUXQ.jpg"}),f.jsx("link",{rel:"canonical",href:"https://www.kapwing.com/sidedoor"})]}),f.jsxs("div",{className:lDt,children:[f.jsx(eOt,{}),f.jsxs("div",{className:cDt,children:[f.jsx("div",{className:uDt,children:"College acceptance simplified"}),f.jsxs("div",{className:pDt,children:["Somewhere along the way, getting into college became too hard. We thought, there must be a better way. Introducing ",f.jsx("b",{children:"Sidedoor"}),"."]}),f.jsxs("div",{className:mDt,children:[f.jsx(mn,{to:"/sidedoor/ivy-league",children:f.jsx("div",{className:gDt,children:"Shop Ivy League"})}),f.jsx(mn,{to:"/sidedoor/west-coast",children:f.jsx("div",{className:gDt,children:"Shop West Coast"})})]})]}),f.jsxs("div",{className:hDt,children:[f.jsx("div",{className:vDt,children:"Trusted, easy, and affordable"}),f.jsx("div",{className:fDt,children:"Your acceptance, guaranteed."})]}),f.jsxs("div",{children:[f.jsxs("div",{className:_Dt,children:[f.jsx("div",{className:yDt,children:"Ivy League"}),f.jsx("div",{className:wDt,children:"You've always forged your own path. You're not the kind to run with the crowd. So why apply just like everyone else?"}),f.jsx("div",{className:SDt,children:f.jsx(mn,{to:"/sidedoor/ivy-league",children:f.jsx("div",{className:xDt,children:"Shop Ivy League"})})})]}),f.jsx("div",{className:bDt,children:f.jsx("img",{src:"https://cdn-useast1.kapwing.com/static/0a963c_c7763f3a5bc54773b082bf24cf22c6cd_mv2_d_2048_1365_s_2.jpg",className:CDt,alt:"college boys"})})]}),f.jsxs("div",{children:[f.jsx("div",{className:_Dt,children:f.jsx("img",{src:"https://cdn-useast1.kapwing.com/static/jason-leung-417009-unsplash.jpg",className:CDt,alt:"stanford"})}),f.jsxs("div",{className:bDt,children:[f.jsx("div",{className:yDt,children:"West Coast"}),f.jsx("div",{className:wDt,children:"Sunshine, startups, and surfing. Home to burritos and the Warriors. Your golden future awaits."}),f.jsx("div",{className:SDt,children:f.jsx(mn,{to:"/sidedoor/west-coast",children:f.jsx("div",{className:xDt,children:"Shop West Coast"})})})]})]}),f.jsxs("div",{className:IDt,children:[f.jsx("div",{className:yDt,children:"How it works"}),f.jsxs("div",{className:ADt,children:[f.jsx("div",{className:kDt,children:"1"}),f.jsx("div",{className:TDt,children:"Take your SATs with one of our trusted proctors. They'll make sure you get the scores you need."})]}),f.jsxs("div",{className:ADt,children:[f.jsx("div",{className:kDt,children:"2"}),f.jsx("div",{className:TDt,children:"Fill out an athletic profile. Don't worry - you don't need to have any actual athletic background."})]}),f.jsxs("div",{className:ADt,children:[f.jsx("div",{className:kDt,children:"3"}),f.jsx("div",{className:TDt,children:"Sidedoor works directly with coaches to make sure that your acceptance is guaranteed. No legacy status required!"})]})]}),f.jsxs("div",{className:EDt,children:[f.jsx("div",{className:LDt,children:"Serving thousands of happy customers"}),IOt.map((e=>f.jsxs("div",{className:jDt,children:[f.jsx("div",{className:RDt,children:f.jsx("img",{src:e.image,className:NDt,alt:e.name})}),f.jsx("div",{className:MDt,children:e.name}),f.jsx("div",{children:e.description})]},e.name)))]}),f.jsxs("div",{className:ODt,children:[f.jsx("div",{className:vDt,children:"You're going to like what you find"}),f.jsx("div",{className:WDt,children:"Our Bestsellers"}),f.jsxs("div",{className:VDt,onClick:()=>{this.props.navigate("/sidedoor/ivy-league/yale")},children:[f.jsx("div",{className:zDt,children:f.jsx("img",{src:"https://i.imgur.com/qhYSTIj.jpg",className:GDt,alt:"Yale"})}),f.jsx("div",{className:YDt,children:"Yale University"}),f.jsx("div",{className:KDt,children:"Since its founding in 1701, Yale has been dedicated to expanding and sharing knowledge, inspiring innovation, and preserving cultural and scientific information for future generations."}),f.jsx("div",{className:XDt,children:f.jsx("div",{className:ZDt,children:"Shop Yale - from $630k"})})]}),f.jsxs("div",{className:HDt,onClick:()=>{this.props.navigate("/sidedoor/west-coast/usc")},children:[f.jsx("div",{className:zDt,children:f.jsx("img",{src:"https://i.imgur.com/vJPoRZ7.jpg",className:GDt,alt:"USC"})}),f.jsx("div",{className:YDt,children:"University of Southern California"}),f.jsx("div",{className:KDt,children:"The University of Southern California is one of the worlds top private research universities. USCs curricular offerings provide extensive opportunities for interdisciplinary study."}),f.jsx("div",{className:XDt,children:f.jsx("div",{className:ZDt,children:"Shop USC - from $200k"})})]})]}),f.jsx(QDt,{})]})]})}}const kOt=vC(AOt),TOt=[{name:"Stanford University",shortname:"Stanford",image:"https://cdn-useast1.kapwing.com/static/jason-leung-417009-unsplash.jpg",description:"Stanford University is one of the worlds leading research universities. It is known for its entrepreneurial character, drawn from the legacy of its founders, Jane and Leland Stanford, and its relationship to Silicon Valley",link:"/sidedoor/west-coast/stanford",borderColor:"#DFDFDE",price:"800k"},{name:"University of Southern California",shortname:"USC",image:"https://i.imgur.com/vJPoRZ7.jpg",description:"The University of Southern California is one of the worlds top private research universities. USCs curricular offerings provide extensive opportunities for interdisciplinary study.",link:"/sidedoor/west-coast/usc",price:"75k"},{name:"University of California, Los Angeles",shortname:"UCLA",image:"https://i.imgur.com/zhdlPwy.jpg",description:"For nearly 100 years, UCLA has been a pioneer, persevering through impossibility, turning the futile into the attainable.",link:"/sidedoor/west-coast/ucla",price:"240k"}];class EOt extends i.Component{render(){const{navigate:e}=this.props;return f.jsxs(f.Fragment,{children:[f.jsxs(Nt,{children:[f.jsx("title",{children:"Sidedoor - West Coast"}),f.jsx("meta",{name:"description",content:"Getting into college is too hard. With Sidedoor, you can easily purchase college acceptances at top universities, including Yale, USC, Georgetown, and more. You're different. Why apply like everyone else?"}),f.jsx("meta",{property:"og:url",content:"https://www.kapwing.com/sidedoor"}),f.jsx("meta",{property:"og:title",content:"Sidedoor - College Acceptance Simplified"}),f.jsx("meta",{property:"og:description",content:"Getting into college is too hard. With Sidedoor, you can easily purchase college acceptances at top universities, including Yale, USC, Georgetown, and more. You're different. Why apply like everyone else?"}),f.jsx("meta",{property:"og:image",content:"https://i.imgur.com/32NaUXQ.jpg"}),f.jsx("meta",{property:"og:image:url",content:"https://i.imgur.com/32NaUXQ.jpg"}),f.jsx("meta",{property:"twitter:image",content:"https://i.imgur.com/32NaUXQ.jpg"}),f.jsx("link",{rel:"canonical",href:"https://www.kapwing.com/sidedoor/west-coast"})]}),f.jsxs("div",{className:lDt,children:[f.jsx(eOt,{}),f.jsxs("div",{className:ODt,style:{paddingTop:"40px"},children:[f.jsx("div",{className:WDt,children:"West Coast"}),TOt.map((t=>f.jsx("div",{className:UDt,onClick:()=>{e(t.link)},children:f.jsxs("div",{className:BDt,style:{borderColor:t.borderColor},children:[f.jsx("div",{className:zDt,children:f.jsx("img",{src:t.image,className:GDt,alt:t.name})}),f.jsx("div",{className:YDt,children:t.name}),f.jsx("div",{className:KDt,children:t.description}),f.jsx("div",{className:XDt,children:f.jsx(mn,{to:t.link,children:f.jsxs("div",{className:ZDt,children:["Shop ",t.shortname," - from $",t.price]})})})]})},t.name))),f.jsx("div",{className:UDt,children:f.jsxs("div",{className:BDt,style:{borderColor:"#DFDFDE"},children:[f.jsx("div",{className:zDt,children:f.jsx("img",{src:"https://i.imgur.com/kq9v1JI.jpg",className:GDt,alt:"More coming soon"})}),f.jsx("div",{className:YDt,children:"Stay tuned..."}),f.jsx("div",{className:KDt,children:"We're constantly building relationships and adding new schools. Stay tuned for more schools on the west coast!"}),f.jsx("div",{})]})}),f.jsx("div",{className:qDt,children:f.jsx(mn,{to:"/sidedoor",children:f.jsx("div",{className:ZDt,children:"Return home"})})})]}),f.jsx(QDt,{})]})]})}}const LOt=vC(EOt);class jOt extends i.Component{constructor(e){super(e),x0({fontToLoad:{type:"default",fontFamily:"Rubik"}})}render(){return f.jsxs(to,{children:[f.jsx(ao,{path:"/",Component:kOt,element:f.jsx(kOt,{})}),f.jsx(ao,{path:"/ivy-league",element:f.jsx(nOt,{})}),f.jsx(ao,{path:"/ivy-league/:school",element:f.jsx(xOt,{})}),f.jsx(ao,{path:"/west-coast",element:f.jsx(LOt,{})}),f.jsx(ao,{path:"/west-coast/:school",element:f.jsx(xOt,{})})]})}}const ROt=vC(jOt),NOt=[{id:"dropbox",name:"Dropbox",image:"https://i.imgur.com/z8sgVnv.png",logo:"https://i.imgur.com/YxDJLc6.png",date:"Sep 15, 2008",description:"A 24 year old Drew Houston gives the first introduction to Dropbox, in a video that responated with hackers.",youtubeLink:"https://www.youtube.com/watch?v=7QmCUDHpNzE",embedLink:"https://www.youtube.com/embed/7QmCUDHpNzE"},{id:"robinhood",name:"Robinhood",image:"https://i.imgur.com/tdMnozF.png",logo:"https://i.imgur.com/qV8t8BY.png",date:"Dec 10, 2014",description:"Watch the video that made Robinhood go viral on the internet, with the (at the time) revolutionary idea that stock trading could be free.",youtubeLink:"https://www.youtube.com/watch?v=Z_nsrcnwHQc",embedLink:"https://www.youtube.com/embed/Z_nsrcnwHQc"},{id:"uber",name:"Uber",image:"https://i.imgur.com/D9AB0t9.png",logo:"https://i.imgur.com/fiwh2Em.png",date:"May 10, 2010",description:"A demonstration of the UberCab app in 2010, when it was still focused on limousines.",youtubeLink:"https://youtu.be/k3wk4kem54k",embedLink:"https://www.youtube.com/embed/k3wk4kem54k"},{id:"google",name:"Google Street View",image:"https://i.imgur.com/XV8VL1t.png",logo:"https://i.imgur.com/0ABT4tR.png",date:"May 29, 2007",description:"Google's famous quirky-ness comes in full force in this fun introduction to Street View.",youtubeLink:"https://youtu.be/91wuBqlny50",embedLink:"https://www.youtube.com/embed/91wuBqlny50"},{id:"lyft",name:"Lyft (aka Zimride)",image:"https://i.imgur.com/QcL2jX1.png",logo:"https://i.imgur.com/WXputgn.png",date:"Sep 6, 2010",description:"Before Lyft, the founders created a ride share website for students called Zimride. Watch them walk through this product that led to much more.",youtubeLink:"https://youtu.be/ei5woMwH6vM",embedLink:"https://www.youtube.com/embed/ei5woMwH6vM"},{id:"linkedin",name:"LinkedIn",image:"https://i.imgur.com/zhea8VL.png",logo:"https://i.imgur.com/znK6zTR.png",date:"Apr 5, 2010",description:"LinkedIn wasn't super new when they put out this marketing video, but it's still interesting to watch and see how far they've come.",youtubeLink:"https://youtu.be/ZVlUwwgOfKw",embedLink:"https://www.youtube.com/embed/ZVlUwwgOfKw"},{id:"snapchat",name:"Snapchat Video",image:"https://i.imgur.com/o6IasQ7.png",logo:"https://i.imgur.com/jSPUZGJ.png",date:"Dec 13, 2012",description:"Looking at this old launch video for Snapchat video makes it seem crazy just how far the app has come.",youtubeLink:"https://youtu.be/r4237MZIb8g",embedLink:"https://www.youtube.com/embed/r4237MZIb8g"},{id:"apple",name:"Apple iPhone",image:"https://i.imgur.com/lx76CKr.png",logo:"https://i.imgur.com/s5aT8PJ.png",date:"Jan 10, 2007",description:"The original presentation by Steve Jobs that would change humanity in a real way.",youtubeLink:"https://youtu.be/ftf4riVJyqw",embedLink:"https://www.youtube.com/embed/ftf4riVJyqw"},{id:"twilio",name:"Twilio",image:"https://i.imgur.com/vPd1O46.png",logo:"https://i.imgur.com/uHkKO1v.png",date:"Mar 10, 2009",description:"Watch Evan Cooke, a co-founder of Twilio, give a basic whiteboard demonstration of their early service.",youtubeLink:"https://youtu.be/P4KaV3eiH3s",embedLink:"https://www.youtube.com/embed/P4KaV3eiH3s"},{id:"coinbase",name:"Coinbase Vault",image:"https://i.imgur.com/THA5PR9.png",logo:"https://i.imgur.com/l5M2lab.png",date:"Jul 2, 2014",description:"One of the early demos of Coinbase which set the stage for its latest success.",youtubeLink:"https://youtu.be/GX_c566xYcQ",embedLink:"https://www.youtube.com/embed/GX_c566xYcQ"},{id:"instacart",name:"Instacart",image:"https://i.imgur.com/jmLBfV2.png",logo:"https://i.imgur.com/KolJdHX.png",date:"Aug 24, 2012",description:"Apoorva Mehta gives an honest interview about his journey with Instacart during his time at Y Combinator, when no one knew about it.",meta:{title:"Evolution of Instacart  Kapwing",description:"Watch Apoorva Mehta share insight on his journey at Instacart as well as videos from other founders in the Startup demo video collection by Kapwing."},youtubeLink:"https://youtu.be/b5llwmsHXkw",embedLink:"https://www.youtube.com/embed/b5llwmsHXkw"},{id:"zenefits",name:"Zenefits",image:"https://i.imgur.com/RHknkvP.png",logo:"https://i.imgur.com/ywASlen.png",date:"Feb 10, 2013",description:"Watch a younger Parker Conrad, the founder of Zenefits, give the pitch in his application video to Y Combinator.",meta:{title:"Evolution of Zenefits  Kapwing",description:"Watch Parker Conrad, the founder of Zenefits, give his pitch in an application video. Explore more demo videos from the early days of successful startups."},youtubeLink:"https://youtu.be/-S83fysRwn4",embedLink:"https://www.youtube.com/embed/-S83fysRwn4"},{id:"docker",name:"Docker",image:"https://i.imgur.com/wtM1lus.png",logo:"https://i.imgur.com/hz8Wfd2.png",date:"May 10, 2010",description:"Docker seems like a no-brainer for developers today, but back when they first started, the idea of a container left many skeptical.",youtubeLink:"https://youtu.be/Q5POuMHxW-0",embedLink:"https://www.youtube.com/embed/Q5POuMHxW-0"},{id:"twitch",name:"Twitch (aka Justin.tv)",image:"https://i.imgur.com/zBrockk.png",logo:"https://i.imgur.com/L11W3bk.png",date:"Feb 4, 2010",description:"Before Twitch, was Justin.tv. Take a look at this authentic demo of their early live streaming technology on the web.",youtubeLink:"https://youtu.be/kfDBxa65m_A",embedLink:"https://www.youtube.com/embed/kfDBxa65m_A"}];class MOt extends i.Component{constructor(e){super(e),a(this,"goToStartupDemoVideosPage",(()=>{const{navigate:e}=this.props;e("/startup-demo-videos")})),this.state={currentVideo:void 0}}componentDidMount(){const{match:e,navigate:t}=this.props;if(e&&e.params&&e.params.id){const a=NOt.find((t=>t.id===e.params.id));a?this.setState({currentVideo:a}):t("/startup-demo-videos")}else t("/startup-demo-videos")}renderVideo(){const{currentVideo:e}=this.state,{meta:{title:t,description:a}={}}=e;return f.jsxs(f.Fragment,{children:[f.jsxs(Nt,{children:[f.jsx("title",{children:t}),f.jsx("meta",{name:"description",content:a}),f.jsx("link",{rel:"canonical",href:`https://www.kapwing.com/startup-demo-videos/${e.id}`})]}),f.jsx("div",{className:"startup-video-player-wrapper",children:f.jsxs("div",{className:"startup-video-player-container",children:[f.jsx("div",{className:"startup-video-player-back",onClick:this.goToStartupDemoVideosPage,children:"< Back to all videos"}),f.jsx("div",{className:"splash-youtube-video",children:f.jsx("iframe",{title:`${e.name} Video`,src:`${e.embedLink}?autoplay=1&showinfo=0&modestbranding=0`,frameBorder:"0"})}),f.jsxs("div",{className:"startup-video-player-metadata",children:[f.jsx("img",{alt:e.name,src:e.logo,className:"startup-demo-videos-logo"}),f.jsx("div",{className:"startup-demo-videos-item-name",children:e.name}),f.jsx("div",{className:"startup-video-player-date",children:e.date}),f.jsx("div",{className:"startup-demo-videos-item-description",children:e.description})]})]})})]})}render(){const{currentVideo:e}=this.state;return e?this.renderVideo():null}}const POt=vC(MOt),FOt=["startups","videos"];class DOt extends i.Component{constructor(){super(...arguments),a(this,"playVideo",(e=>{const{navigate:t}=this.props;t(`/startup-demo-videos/${e.id}`)})),a(this,"renderVideoItem",(e=>f.jsxs("div",{className:"startup-demo-videos-item-container",children:[f.jsxs("div",{className:"startup-demo-videos-image-container",onClick:()=>this.playVideo(e),children:[f.jsx("img",{alt:e.name,src:e.logo,className:"startup-demo-videos-image"}),f.jsxs("div",{className:"startup-demo-videos-image-play-button",children:[f.jsx("span",{className:"startup-demo-videos-play",children:""}),f.jsx("div",{className:"startup-demo-videos-overlay"})]})]}),f.jsxs("div",{className:"startup-demo-videos-item-metadata",children:[f.jsx("img",{alt:e.name,src:e.image,className:"startup-demo-videos-logo"}),f.jsx("div",{className:"startup-demo-videos-item-name",children:e.name}),f.jsx("div",{className:"startup-demo-videos-item-date",children:e.date}),f.jsx("div",{className:"startup-demo-videos-item-description",children:e.description})]})]},e.id)))}render(){return f.jsxs("div",{children:[f.jsxs("div",{className:"startup-videos-wrapper",children:[f.jsxs(Nt,{children:[f.jsx("title",{children:"Startup Demo Videos  Kapwing"}),f.jsx("meta",{name:"description",content:"Explore a collection of demo videos from the early days of successful startups such as Dropbox, LinkedIn, Robinhood, and more curated by the Kapwing team."}),f.jsx("meta",{property:"og:url",content:"https://www.kapwing.com/startup-demo-videos"}),f.jsx("meta",{property:"og:title",content:"Startup Demo Videos - Kapwing"}),f.jsx("meta",{property:"og:description",content:"A collection of demo videos from the early days of successful startups like Dropbox, LinkedIn, Robinhood, and more."}),f.jsx("meta",{property:"og:image",content:"https://i.imgur.com/nnvE6Bf.png"}),f.jsx("meta",{property:"og:image:url",content:"https://i.imgur.com/nnvE6Bf.png"}),f.jsx("meta",{property:"twitter:image",content:"https://i.imgur.com/nnvE6Bf.png"}),f.jsx("link",{rel:"canonical",href:"https://www.kapwing.com/startup-demo-videos"})]}),f.jsx("div",{className:"startup-demo-videos-header-container",children:f.jsxs("div",{children:[f.jsxs("div",{className:"startup-demo-videos-header",children:["Startup Demo Videos"," ",f.jsx("span",{role:"img","aria-label":"Lightbult Emoji",children:""})]}),f.jsx("div",{className:"startup-demo-videos-description",children:"A collection of demo videos from the early days of successful startups like Dropbox, LinkedIn, Robinhood, and more."}),f.jsxs("div",{className:"startup-demo-videos-share",children:[f.jsx(Us,{url:"https://www.kapwing.com/startup-demo-videos",className:"startup-demo-share-button",children:f.jsx(_i,{size:40,round:!0})}),f.jsx(Ds,{url:"https://www.kapwing.com/startup-demo-videos",title:" Startup Demo Videos - Kapwing",via:"kapwingapp",hashtags:FOt,className:"startup-demo-share-button",children:f.jsx(Ci,{size:40,round:!0})})]}),f.jsxs("div",{className:"startup-demo-videos-text",children:["Curated with love by the team at"," ",f.jsx("a",{href:"https://www.kapwing.com",children:"Kapwing"})]})]})}),f.jsxs("div",{className:"startup-demo-videos-background",children:[f.jsxs("div",{className:"startup-demo-videos-list-container",children:[NOt.map((e=>this.renderVideoItem(e))),f.jsx("div",{className:"startup-demo-videos-item-container",children:f.jsx("div",{className:"startup-demo-videos-image-container",children:f.jsx("img",{alt:"More to come!",src:"https://i.imgur.com/uXJdIsY.png",className:"startup-demo-videos-image"})})})]}),f.jsxs("div",{className:"startup-demo-videos-list-container startup-demo-videos-footer-container",children:[f.jsxs("div",{className:"startup-demo-videos-email-subscribe",children:[f.jsx("div",{className:"startup-demo-videos-subscribe-header",children:"Looking for more?"}),f.jsx("div",{className:"startup-demo-videos-subscribe-description",children:"Sign up for our mailing list to get the latest updates:"}),f.jsx(nFt,{source:"startup-demo-videos"})]}),f.jsxs("div",{className:"startup-demo-videos-footer-text",children:["We're adding new videos to the collection on a regular basis! Have a submission for a video? Contact us at"," ",f.jsx("a",{href:"mailto:hello@kapwing.com",children:"hello@kapwing.com"}),"!"]})]})]})]}),f.jsx(Int,{})]})}}const OOt=vC(DOt);function UOt(e){return{type:"SET_CONFIG",config:e}}const BOt={workspacePopoverZIndex:"18",popoverZIndex:"14",paywallZIndex:"1001",paywallBgZIndex:"1000",upload:"DedicatedUploadPage-module_upload_r1Rkp",uploadContainer:"DedicatedUploadPage-module_uploadContainer_2Xqad",uploadHeader:"DedicatedUploadPage-module_uploadHeader_9iRnN",kapwing:"DedicatedUploadPage-module_kapwing_wtbNQ",uploadInstructions:"DedicatedUploadPage-module_uploadInstructions_mpSEd",cmlDirective:"DedicatedUploadPage-module_cmlDirective_CwLw6",projectTitle:"DedicatedUploadPage-module_projectTitle_KteKh",loading:"DedicatedUploadPage-module_loading_56sCl",shimmer:"DedicatedUploadPage-module_shimmer_xWJuX",uploadArea:"DedicatedUploadPage-module_uploadArea_LP6kx",uploadInput:"DedicatedUploadPage-module_uploadInput_Rdnm9",uploadLabel:"DedicatedUploadPage-module_uploadLabel_kFE3O",uploadIcon:"DedicatedUploadPage-module_uploadIcon_743-4",labelContainer:"DedicatedUploadPage-module_labelContainer_dhEwW",uploadInfoText:"DedicatedUploadPage-module_uploadInfoText_bJfkk",uploadInfo:"DedicatedUploadPage-module_uploadInfo_80aRs",uploadGrid:"DedicatedUploadPage-module_uploadGrid_45Sio",pendingUpload:"DedicatedUploadPage-module_pendingUpload_lel3t",spinner:"DedicatedUploadPage-module_spinner_5fs7R",spin:"DedicatedUploadPage-module_spin_S0hix",error:"DedicatedUploadPage-module_error_JK3r-",success:"DedicatedUploadPage-module_success_T0dmD",pending:"DedicatedUploadPage-module_pending_Q7jRP",progress:"DedicatedUploadPage-module_progress_eimXa"};const WOt=b.memo((function({file:e,onUploadSucceeded:t,onUploadFailed:a,planTier:n,videoId:s}){const o=Bu(),r=i.useRef(null),[l,d]=i.useState(!0),[c,u]=i.useState(!1),[p,m]=i.useState(0),[g,h]=i.useState("https://cdn-useast1.kapwing.com/static/FHR-Untitled_Export-dcLoANEQZ.webp"),v=i.useRef({}),b=i.useCallback((()=>{t(),u(!0),ov("Uploaded from Mobile")}),[t]),y=i.useCallback((e=>{const t=document.createElement("canvas"),a=t.getContext("2d");if(t.style.left="-10000px",t.style.top="-10000px",t.style.position="absolute",!a)return;let n=0,s=0;if(e instanceof HTMLVideoElement?(n=e.videoWidth||e.width,s=e.videoHeight||e.height):(n=e.naturalWidth,s=e.naturalHeight),!n||!s)return;v.current.dimensions={width:n,height:s},t.width=n,t.height=s,a.drawImage(e,0,0);const o=t.toDataURL("image/jpeg",.8);h(o)}),[]),w=i.useCallback((async(e,t)=>{if("image"===t){const t=document.createElement("img");new Promise(((a,n)=>{t.onload=()=>{a()},t.onerror=()=>{n(new Error("Upload generate thumbnail failed"))},t.src=e})).then((()=>{y(t)})).catch((()=>{}))}else Wx((async e=>{y(e.video)}),{actionDescription:"Generating pending upload thumbnail",source:{url:e},maxRuntime:1e4,priority:XC.HIGH}).catch((()=>{}))}),[y]),_=i.useCallback((e=>{if(e.lengthComputable){const t=Math.round(e.loaded/e.total*100);m(t)}}),[]),C=i.useCallback(((e,t)=>new Promise(((a,n)=>{const o=new XMLHttpRequest;o.open("PUT",e,!0),o.onload=()=>{const o=new URL(e).searchParams.get("name");return o?s.current?void h2({...v.current,bucket:Bl,name:o||t.name,blob_name:o,size:t.size},{skipSigning:!0,video_id:s.current,linkCMLToThisProject:!0}).then((({asset:n})=>{b(),SI(t).then((a=>{if(a)return t2({asset_id:n._id,resource:o,type:"blob",conversion_type:oI(e,t.type)})})).catch((()=>{})),a()})).catch((()=>{n(new Error("Upload page failed to create asset"))})):n(new Error("Upload page missing video id")):n(new Error("Upload page missing name"))},o.upload.onprogress=_,o.setRequestHeader("Content-Type",t.type),o.send(t),o.onerror=()=>{n(new Error("Upload page failed to upload"))}}))),[b,_,s]),S=i.useCallback((async e=>{try{const t=await Qw({files:[{file:e}]}),{upload_uri:a}=t.uris[0];await C(a,e)}catch(t){o(db({description:t.message,type:"error"})),d(!1)}}),[o,C]),x=i.useCallback((async e=>{var t;const a=!!(null==(t=n.current)?void 0:t.hasPermission(Fd.UNLIMITED_UPLOAD_SIZE_LIMIT));if(!e)return void o(db({description:"Please choose a file to upload.",type:"error"}));const s=URL.createObjectURL(e),i=iI(e);hI(s,e,XC.HIGH).then((e=>{if("video"===(null==e?void 0:e.type)||"image"===(null==e?void 0:e.type))return w(s,e.type)})).catch((e=>{console.error(e)})),i?QC(i)||tS(i)?e.size>6442450944?o(db({description:"Your content must be under 6GB",type:"warning"})):(!a&&e.size>262144e3&&o(db({description:"Your upload is over 250MB. You may need to upgrade to use some Kapwing features.",type:"warning"})),await S(e)):o(db({description:"Your file format is not currently supported. Currently we only support .gif, .jpg, .png, .mp4, .mov, .webm, .ogg, .mpeg formats.",type:"error"})):o(db({description:"Your upload has an invalid type. Please choose a video or image to upload, and make sure your file has a correct extension.",type:"error"}))}),[o,w,S,n]),I=i.useCallback((async e=>{if(r.current)return r.current;d(!0);try{r.current=x(e),await r.current}catch(b9e){o(db({description:`An error occurred uploading ${e.name||"your file"}. Please refresh the page and try again.`,type:"warning"})),console.error(b9e)}d(!1)}),[x,o]),A=i.useMemo((function(){return g?{backgroundImage:`url(${g})`,backgroundSize:"cover",backgroundPosition:"center"}:{}}),[g]);i.useEffect((function(){I(e)}),[e,I]),i.useEffect((function(){l||c||a()}),[l,c,a]);const k=!l&&!c,T=l&&!c;return f.jsxs("div",{className:BOt.pendingUpload,style:A,children:[T&&f.jsx("div",{className:BOt.spinner}),k&&f.jsx(Ii,{className:BOt.error}),!k&&f.jsx("div",{className:BOt.progress,style:{height:100-p+"%"}}),!k&&f.jsx(Ai,{className:[BOt.success,l&&BOt.pending].join(" ")})]})}));function VOt(){const e=Bu(),{id:t}=D(),[a,n]=i.useState(!0),s=i.useRef(null),[o,r]=i.useState(null),l=i.useRef(null),[d,c]=i.useState([]),[u,p]=i.useState(0),[m,g]=i.useState(0),h=i.useCallback((()=>{p((e=>e-1))}),[]),v=i.useCallback((()=>{g((e=>e+1)),p((e=>e-1))}),[]);i.useEffect((function(){function a(){e(db({description:"This upload link is no longer valid. Please create a new one and try again.",type:"warning"})),aR("/")}!async function(){try{const e=await Kf("/api/v1/upload-link",{params:{uploadCode:t}});if(!e.videoId)return void a();n(!1),s.current=e.videoId,r(e.videoName),l.current=nc(e.planTier),ov("Accessed Mobile Upload Page")}catch(b9e){a()}}()}),[e,t,o]);const b=i.useCallback((e=>{if(!e.target.files)return;const t=Array.from(e.target.files);c((e=>{const a=[];for(const n of t)e.some((e=>e.name===n.name&&e.size===n.size))||a.push(n);return 0===a.length?e:(p((e=>e+a.length)),[...a,...e])}))}),[]),y=i.useMemo((()=>0!==u?`${p_(u,"file")} uploading`:0!==m?`${p_(m,"upload")} failed`:`${p_(d.length,"file")} uploaded`),[m,u,d.length]);return f.jsx("div",{className:BOt.uploadContainer,children:f.jsxs("div",{className:BOt.upload,children:[d.length?f.jsxs("div",{className:BOt.uploadInfo,children:[f.jsx("div",{className:BOt.uploadInfoText,children:y}),f.jsx("div",{className:BOt.cmlDirective,children:"Your files will appear in the Media tab of your project"}),f.jsx("div",{className:BOt.uploadGrid,children:d.map((e=>f.jsx(WOt,{file:e,onUploadFailed:v,onUploadSucceeded:h,planTier:l,videoId:s},e.name)))})]}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:BOt.uploadHeader,children:f.jsx("img",{src:"https://cdn-useast1.kapwing.com/static/gdu-kapwing-logo-transparent.webp",className:BOt.kapwing,alt:""})}),f.jsxs("div",{className:BOt.uploadInstructions,children:["Upload files from your phone to"," ",f.jsx("span",{className:[BOt.projectTitle,a&&BOt.loading].join(" "),children:o})," ","on Kapwing"]})]}),f.jsxs("div",{className:BOt.uploadArea,children:[f.jsx("input",{type:"file",id:"file",className:BOt.uploadInput,accept:"video/*,image/*,audio/*",onChange:b,multiple:!0}),f.jsxs("div",{className:BOt.labelContainer,children:[f.jsx(ki,{className:BOt.uploadIcon}),f.jsx("label",{htmlFor:"file",className:BOt.uploadLabel,children:0===d.length?f.jsx("span",{children:"Click here to upload"}):f.jsxs("span",{children:["Upload more files to"," ",f.jsx("span",{className:BOt.projectTitle,children:o})]})})]})]})]})})}const HOt={pathname:"/home",state:{openModal:xXe.account}},zOt={pathname:"/home",state:{openModal:xXe.account}},GOt={pathname:"/home",state:{openModal:xXe.accountChange}},YOt={style:{verticalAlign:"middle"}};class KOt extends i.Component{constructor(e){super(e),a(this,"refreshCurrentUser"),a(this,"stopMonitoringTranslate",null),a(this,"handleSignInSignOutFromCookies",(async()=>{var e;const t=new C,a=t.get("samlSignedInCookie"),n=t.get("ssrSignedInCookie"),s=a||n,{user:o}=this.props.currentUser,i=null==o?void 0:o._id;if(s){x({message:"Sign in/out from cookies",data:{samlLoginInfo:a,ssrLoginInfo:n}});const[t,r]=(null==s?void 0:s.split("."))||[],l=atob(null==(e=null==r?void 0:r.replace(/-/g,"+"))?void 0:e.replace(/_/g,"/")),d=JSON.parse(l),c=s,u=null==d?void 0:d._id;if(!i&&u&&c)return this.props.receiveUserAndSetToken(d,c),void this.refreshCurrentUser();if(u===i)return void this.refreshCurrentUser();if(d._id!==o._id)return void this.props.signOut()}else this.props.signOut()})),a(this,"checkBrowser",(()=>{var e;if(y_()||(null==(e=f_.browser.name)?void 0:e.includes("Edge"))||C_())return;const{location:t}=this.props,{pathname:a}=t,n=a.startsWith("/folder"),s=a.endsWith("/studio/editor");if(!n&&!s)return;const o=Ev.get("BROWSER_COOLDOWN_DATE",{disabled:""});if(o){const e=le(o).add(14,"days").endOf("day");if(le().isBefore(e))return}this.props.showToast({type:"warning",callbackId:QS.BROWSER_WARN,description:["For the best editing experience, please consider switching to the",{text:"Google Chrome Browser.",href:"https://www.google.com/chrome/"}]}),ov("Shown Browser Warning")})),a(this,"renderSnapshotDebugContainer",(()=>f.jsx(oPt,{snapshot:!0}))),a(this,"renderVideoContainer",(()=>f.jsx(Cut,{hostDomain:this.props.hostDomain}))),a(this,"renderHealthCheckSuccess",(()=>"Success")),a(this,"render404Routes",(()=>f.jsx(MPt,{}))),a(this,"renderSwitch",(()=>f.jsxs(to,{children:[Gh()&&!this.props.currentUser.token&&f.jsx(ao,{path:"/",element:f.jsx(Rt,{to:"/pwaHome"})}),this.props.currentUser.token&&f.jsx(ao,{path:"/pwaHome",element:f.jsx(Rt,{to:"/"})}),f.jsx(ao,{path:"/",element:f.jsx(rbe,{})}),f.jsx(ao,{path:"/user/:userId",element:f.jsx(rbe,{})}),f.jsx(ao,{path:"/pwaHome",element:f.jsx(hbe,{})}),f.jsx(ao,{path:"/join",element:f.jsx(Rt,{to:"/"})}),f.jsx(ao,{path:"/join/:code",element:f.jsx(Rt,{to:"/"})}),f.jsx(ao,{path:"/admin/*",element:f.jsx(nPt,{})}),f.jsx(ao,{path:"/videos/:id/debug",element:f.jsx(oPt,{})}),f.jsx(ao,{path:"/videos/:id/snapshots",element:f.jsx(yot,{})}),f.jsx(ao,{path:"/exports/:exportId",element:f.jsx(cot,{})}),f.jsx(ao,{path:"/videos/:id/snapshots/:snapshot_id/debug",element:this.renderSnapshotDebugContainer()}),f.jsx(ao,{path:"/videos/:id/comment/:commentId",element:this.renderVideoContainer()}),f.jsx(ao,{path:"/videos/:id",element:this.renderVideoContainer()}),f.jsx(ao,{path:"/handleCheckout",element:f.jsx(UQe,{})}),f.jsx(ao,{path:"/workspace/*",element:f.jsx(Rt,{to:"/home"})}),f.jsx(ao,{path:"/home/*",element:f.jsx(BMt,{})}),f.jsx(ao,{path:"/brandkit/*",element:f.jsx(BMt,{})}),f.jsx(ao,{path:"/folder/*",element:f.jsx(BMt,{})}),f.jsx(ao,{path:"/search/*",element:f.jsx(BMt,{})}),f.jsx(ao,{path:"/shared-with-me/*",element:f.jsx(BMt,{})}),f.jsx(ao,{path:"/my/videos",element:f.jsx(Rt,{to:"/home"})}),f.jsx(ao,{path:"/my/account",element:f.jsx(Rt,{to:HOt})}),f.jsx(ao,{path:"/settings/account",element:f.jsx(Rt,{to:zOt})}),f.jsx(ao,{path:"/settings/account/change",element:f.jsx(Rt,{to:GOt})}),f.jsx(ao,{path:"/my",element:f.jsx(Rt,{to:"/home"})}),f.jsx(ao,{path:"/settings/*",element:f.jsx(BMt,{})}),f.jsx(ao,{path:"/team/sharing/:linkId",element:f.jsx(Lot,{})}),f.jsx(ao,{path:"/team/invite/:inviteKey",element:f.jsx(Lot,{})}),f.jsx(ao,{path:"/team/invite/new-user/:inviteKey",element:f.jsx(ZMt,{})}),f.jsx(ao,{path:"/defaultTeamFolder/:teamId",element:f.jsx(BMt,{})}),f.jsx(ao,{path:"/team/*",element:f.jsx(BMt,{})}),f.jsx(ao,{path:"/upload/:id",element:f.jsx(VOt,{})}),f.jsx(ao,{path:"/editor/videos/:id",element:f.jsx(Iut,{})}),f.jsx(ao,{path:"/:id?/studio/editor/sharing",element:f.jsx(aPt,{})}),f.jsx(ao,{path:"/:id?/studio/editor/comment/:commentId",element:f.jsx(aPt,{})}),f.jsx(ao,{path:"/:id?/studio/editor/*",element:f.jsx(aPt,{})}),f.jsx(ao,{path:"/repurpose/create",element:f.jsx(Qat,{})}),f.jsx(ao,{path:"/repurpose/:workflowId/debug",element:f.jsx(Yfe,{})}),f.jsx(ao,{path:"/repurpose/:workflowId",element:f.jsx(Qat,{})}),f.jsx(ao,{path:"/browse",element:f.jsx(Rt,{to:"/404"})}),f.jsx(ao,{path:"/posts",element:f.jsx(Rt,{to:"/404"})}),f.jsx(ao,{path:"/startup-demo-videos",element:f.jsx(OOt,{})}),f.jsx(ao,{path:"/startup-demo-videos/:id",element:f.jsx(POt,{})}),f.jsx(ao,{path:"/logo-redesigns",element:f.jsx(HPt,{})}),f.jsx(ao,{path:"/how-much-twitch-streamers-make",element:f.jsx(aFt,{})}),f.jsx(ao,{path:"/new-tab-stretches",element:f.jsx(rDt,{})}),f.jsx(ao,{path:"/museum-of-websites",element:f.jsx(rFt,{})}),f.jsx(ao,{path:"/museum-of-websites/:id",element:f.jsx(uFt,{})}),f.jsx(ao,{path:"/evolution-of-products",element:f.jsx(rFt,{})}),f.jsx(ao,{path:"/evolution-of-products/:id",element:f.jsx(uFt,{})}),f.jsx(ao,{path:"/sidedoor/*",element:f.jsx(ROt,{})}),f.jsx(ao,{path:"/404-illustrations",element:f.jsx(MFt,{})}),f.jsx(ao,{path:"/sonoma-county-fire-map",element:f.jsx(HFt,{})}),f.jsx(ao,{path:"/sound-effects",element:f.jsx(pPt,{})}),f.jsx(ao,{path:"/off-site/long-tail-analytics",element:f.jsx(sPt,{})}),f.jsx(ao,{path:"/edu/login",element:f.jsx(APt,{})}),f.jsx(ao,{path:"/edu/signup",element:f.jsx(kPt,{})}),f.jsx(ao,{path:"/edu/admin-signup",element:f.jsx(bPt,{})}),f.jsx(ao,{path:"/signin-redirect/",element:f.jsx(ant,{})}),f.jsx(ao,{path:"/tiktok-redirect/",element:f.jsx(Nnt,{})}),f.jsx(ao,{path:"/signin/onetap",element:f.jsx(tnt,{})}),f.jsx(ao,{path:"/signin",element:f.jsx(Rnt,{})}),f.jsx(ao,{path:"/sso-signin",element:f.jsx(jnt,{})}),f.jsx(ao,{path:"/sign-in",element:f.jsx(Rt,{to:"/sigin"})}),f.jsx(ao,{path:"/gif-meme-generator",element:f.jsx(Rt,{to:"/"})}),f.jsx(ao,{path:"/create/editor",element:f.jsx(Rt,{to:"/studio/editor"})}),f.jsx(ao,{path:"/cancel",element:f.jsx(gPt,{})}),f.jsx(ao,{path:"/health",element:this.renderHealthCheckSuccess()}),f.jsx(ao,{path:"/404",element:this.render404Routes()}),f.jsx(ao,{element:this.render404Routes(),path:"*"})]})));const{config:t}=e;e.setConfig(t),this.refreshCurrentUser=c.debounce(Qf,3e3,{leading:!0,trailing:!1})}componentDidMount(){this.props.setKapwingInit(),"undefined"!=typeof window&&(this.refreshCurrentUser().catch((e=>{cb({description:"Failed to refresh user profile.",error:e})})),this.checkBrowser()),this.handleSignInSignOutFromCookies(),document.addEventListener("visibilitychange",this.handleSignInSignOutFromCookies),this.stopMonitoringTranslate=function(){const e=new MutationObserver((function(){const e=$Mt();e!==QMt&&(QMt=e,ePt(QMt))}));return e.observe(document.documentElement,{attributes:!0,attributeFilter:["class"],childList:!1,characterData:!1}),()=>e.disconnect()}()}componentDidUpdate(e){const{location:t}=this.props,{location:a}=e;t.pathname!==a.pathname&&this.onRouteChanged(a),"/pricing"!==t.pathname&&window.fcWidget&&window.fcWidget.hide()}componentWillUnmount(){document.removeEventListener("visibilitychange",this.handleSignInSignOutFromCookies),this.stopMonitoringTranslate&&this.stopMonitoringTranslate()}onRouteChanged(e){const{location:t}=this.props,{pathname:a}=t,{pathname:n}=e;a.includes("/studio/editor")&&n.includes("/studio/editor")||this.refreshCurrentUser()}renderApp(){const{showSignIn:e}=this.props,t="Kapwing  Create more content in less time",a="Kapwing is a collaborative, online content creation platform that you can use to edit video and create content. Join over 25 million modern creators who trust Kapwing to create, edit, and grow their content on every channel.",n="https://cdn-useast1.kapwing.com/static/jQ9-og-image-(1).webp";return f.jsxs("div",{className:Yg({"app-container":!0,"col-resize":this.props.isResizingSideBar}),children:[f.jsxs(Nt,{children:[f.jsx("title",{children:t}),f.jsx("meta",{name:"description",content:a}),f.jsx("meta",{name:"keywords",content:"video editor, meme maker, video resizer, gif editor, video subtitles"}),f.jsx("meta",{property:"og:title",content:t}),f.jsx("meta",{property:"og:description",content:a}),f.jsx("meta",{property:"og:image",content:n}),f.jsx("meta",{property:"og:image:url",content:n}),f.jsx("meta",{property:"twitter:image",content:n}),f.jsx("meta",{property:"og:type",content:"website"}),f.jsx("meta",{property:"og:image:width",content:"1200"}),f.jsx("meta",{property:"og:image:height",content:"630"}),f.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),f.jsx("link",{rel:"canonical",href:"https://www.kapwing.com/"}),f.jsx("link",{rel:"apple-touch-icon",sizes:"180x180",href:"https://cdn-useast1.kapwing.com/static/pjS-apple-touch-icon.png"}),f.jsx("link",{rel:"icon",type:"image/png",sizes:"32x32",href:"https://cdn-useast1.kapwing.com/static/eAW-favicon-32x32.png"}),f.jsx("link",{rel:"icon",type:"image/png",sizes:"16x16",href:"https://cdn-useast1.kapwing.com/static/5SL-favicon-16x16.png"}),f.jsx("link",{rel:"shortcut icon",type:"image/x-icon",href:"https://cdn-useast1.kapwing.com/static/TwE-favicon.ico"}),f.jsx("link",{rel:"manifest",href:"/manifest.webmanifest"}),f.jsx("link",{rel:"mask-icon",href:"https://cdn-useast1.kapwing.com/static/PeB-safari-pinned-tab.svg",color:"#0083e2"}),f.jsx("meta",{name:"msapplication-TileColor",content:"#18e1d6"}),f.jsx("meta",{name:"theme-color",content:"#ffffff"})]}),f.jsx(Yot,{}),f.jsx(nse,{}),f.jsx(FQe,{}),this.renderSwitch(),f.jsxs(Qfe,{children:[e&&f.jsx(ene,{hideSignIn:Fne}),f.jsx(OQe,{}),f.jsx(DQe,{}),f.jsx($fe,{}),f.jsxs("div",{style:{display:"none",position:"absolute",zIndex:-1},children:[f.jsx("canvas",{id:"canvas-scratchpad"}),f.jsx("div",{id:"scene-list-premount"})]}),f.jsx(iPt,{})]})]})}render(){const{location:e}=this.props;return new URLSearchParams(e.search).get("isTWA")&&Ev.set("isTWA","true"),f.jsx(Ti.Provider,{value:YOt,children:f.jsx(tbe,{children:f.jsx(iY,{children:this.renderApp()})})})}}const XOt=vC(r.connect((e=>({showSignIn:e.studioLocal.showSignIn,currentUser:e.currentUser,isResizingSideBar:e.studioLocal.isResizingSideBar})),(e=>j({setConfig:UOt,setKapwingInit:W6,receiveUserAndSetToken:$f,showToast:db,signOut:Af},e)))(KOt)),ZOt=b.memo((({children:e})=>f.jsx(Qi,{children:f.jsx(Sl,{children:e})}))),qOt={async:!0,defer:!0},JOt={enableMouseEvents:!0},$Ot=b.memo(Ei((e=>{const{config:t,store:a}=e;return i.useEffect((()=>{const e=document.createElement("script");e.src="https://connect.facebook.net/en_US/sdk.js",e.async=!0,setTimeout((()=>{document.body&&document.body.appendChild(e)}),3e3)}),[]),f.jsx(i.StrictMode,{children:f.jsx(Li,{children:f.jsx(r.Provider,{store:a,children:f.jsxs(pMt,{refreshOnError:!0,children:[f.jsx(whe,{}),f.jsx(lve,{}),f.jsx(tve,{}),f.jsx(Hhe,{}),f.jsx(yhe,{}),f.jsx(ji,{reCaptchaKey:t.RECAPTCHA_V3_SITEKEY,useRecaptchaNet:!0,scriptProps:qOt,children:f.jsx(pve,{children:f.jsx(Ri,{backend:Ni,options:JOt,children:f.jsxs(Mi,{history:Ml,children:[f.jsx(lhe,{}),f.jsx(jhe,{children:f.jsx(hve,{children:f.jsx(ZOt,{children:f.jsx(gC,{children:f.jsx(XOt,{config:t})})})})})]})})})})]})})})})})));const QOt=Date.now();function eUt(){const e=Date.now()-QOt;return Math.floor(e/1e3/60)}function tUt(){const e={};let t;try{t=Mu().state}catch(b9e){t=window.state}try{"deviceMemory"in navigator&&(e.deviceMemoryGB=navigator.deviceMemory);const a=ug();e.isPayingCustomer=a.isPaid,e.googleTranslateActive=QMt,e.isOldTab=eUt()>1440,e.visibilityState=document.visibilityState,e.onLine=navigator.onLine,t&&(e.isAdmin=$m(t.currentUser),e.syncCollabStatus=upe(t))}catch(a){console.warn("error getting global tags",a)}return e}const aUt=["AbortError","FetchStatusError","FetchTimeoutError"],nUt=["The operation is not supported.","Network request failed","A network error occurred.","ResizeObserver loop","Failed to fetch dynamically imported module","Importing a module script failed","Unable to preload CSS for","The play() request was interrupted by a call to pause()","The element has no supported source","The request is not allowed by the user agent or the platform in the current context, possibly because the user denied permission","IDBDatabase","large IndexedDB value","Indexed Database","Open IDB timed out","Internal error opening backing store for indexedDB.open","IDBObjectStore: BlobURLs are not yet supported","DataError: Failed to write blobs (InvalidBlob)","DataError: Failed to write blobs (IOError)","Error preparing Blob/File data to be stored in object store","Can't find variable: indexedDB","IDBFactory.open","A mutation operation was attempted on a database","Can't find variable: gmo"];function sUt(e){var t,a,n,s;return null==(s=null==(n=null==(a=null==(t=e.exception)?void 0:t.values)?void 0:a[0])?void 0:n.stacktrace)?void 0:s.frames}const oUt=[function({name:e,message:t,event:a}){if(sUt(a))return!1;return["Unable to open database file on disk","QuotaExceededError"].some((e=>t.includes(e)))||["QuotaExceededError"].some((t=>e.includes(t)))},function({message:e,event:t}){const a=sUt(t);return e.includes("The operation is insecure.")&&(!a||a.some((e=>"databases"===e.filename)))},function({name:e,message:t}){return"TypeError"===e&&t.includes("Load failed")},function({event:e}){const t=sUt(e);if(!t)return!1;const a=t[t.length-1];if(!a)return!1;const{filename:n}=a;return!!(null==n?void 0:n.includes("chrome-extension://"))},function({event:e}){return!function(e){var t;return!!(null==(t=sUt(e))?void 0:t.length)}(e)},function({event:e,error:t}){if(Qv(t))return!1;const a=sUt(e);if(!a)return!0;return!a.some((e=>function(e){if(!e.in_app)return!1;if(!e.filename)return!0;const{filename:t}=e;return"<anonymous>"!==t&&"[native code]"!==t&&!t.includes("/assets/vendor")&&!t.includes("rocket-loader")&&!!(t.includes("~/")||t.includes("src/")||t.includes("assets/")||t.includes("kapwing"))}(e)))},function(){if(!Dl)return!1;const e=Date.now()-Dl.getTime();return Math.floor(e/864e5)>14}],iUt=[function({message:e}){return e.includes("Failed to execute 'removeChild' on 'Node': The node to be removed is not a child of this node.")||e.includes("Failed to execute 'insertBefore' on 'Node': The node before which the new node is to be inserted is not a child of this node.")||e.includes("The object can not be found here.")},function({event:e,message:t}){const a=sUt(e),n=t.includes("Maximum update depth exceeded")||t.includes("Minified React error #185"),s=!!(null==a?void 0:a.some((e=>{var t,a;return(null==(t=e.filename)?void 0:t.includes("/vendor-radix"))||(null==(a=e.abs_path)?void 0:a.includes("/vendor-radix"))})));return n&&s}],rUt=[{key:"invalid-json",test:({message:e})=>e.includes("Failed to parse JSON from fetch"),timeSec:60}],lUt=new Map;const dUt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function cUt(e,t){navigator.serviceWorker.register(e).then((e=>{e.onupdatefound=()=>{const a=e.installing;null!=a&&(a.onstatechange=()=>{"installed"===a.state&&t&&t.onUpdate&&t.onUpdate(e)})}})).catch((e=>{console.error("Error during service worker registration:",e)}))}const{domain:uUt}=document,pUt=uUt.startsWith("localhost"),mUt={COMMIT:Tl,FACEBOOK_APP_ID:"713985848677391",FRESH_CHAT_TOKEN:"6c78e084-ae7a-4b7b-8968-358ae3123d5b",GIPHY_SEARCH_KEY:"rfMjRmVqUkVPENBuewLHtXp6kXPjSBvq",GOOGLE_PLUGINS_CLIENT_ID:"823730063895-iqn5t0hivtu1ss7c2mhpfdmh1ghlf9fa.apps.googleusercontent.com",GOOGLE_PLUGINS_KEY:"AIzaSyDi2438fC9BfPQygJUdixA3nq_NjihWTTQ",RECAPTCHA_V2_SITEKEY:"6Ldl1T0nAAAAAGBso1ybOyel1edUwslYZd7jF2Io",RECAPTCHA_V3_SITEKEY:"6LciWYwhAAAAAP9IBiJn1FoBRXISf74l3U6TvAL8",SENTRY_ENV:jl,STRIPE_PUBLIC_KEY:"pk_live_2sDMAtDohnudYHgRDvCSQelo",UNSPLASH_KEY:"GzIAtsrV-zOLLJXWiLhxxd_2hcWz1JCHsIXWAYJ5rE0"},gUt=uUt.endsWith(".kapwing-dev.com")||uUt.startsWith("kapwing-dev")&&uUt.endsWith(".herokuapp.com")||pUt&&["3000","4000","5000"].includes(window.location.port)||uUt.startsWith("192.")||uUt.startsWith("10.0.")||uUt.startsWith("10.1.");gUt&&Object.assign(mUt,{FACEBOOK_APP_ID:"2545197755522838",RECAPTCHA_V2_SITEKEY:"6LdpYicdAAAAALsID-RPNNp91_n_4otjuyj-CG6U",RECAPTCHA_V3_SITEKEY:"6Leu-AgdAAAAADasOHy2VJPi1xbcAnWrI8mE8t0d",STRIPE_PUBLIC_KEY:"pk_test_7MMbY1maBR111EJDSqeWIhHR"}),Object.assign(Pu,Ev.get("devModeDebugFlags",{disabled:{}})??{}),Nv.dispatchEvent(new Event("update"));try{!function(){const e=[Pi()];Rl||e.push(Fi({filterKeys:["kapwing-app-key"],behaviour:"drop-error-if-exclusively-contains-third-party-frames"})),Di({enabled:!Rl&&!window.Cypress&&!!jl,beforeSend:async(e,t)=>{const a=t.originalException;if(null==a?void 0:a.__SKIP_SENTRY)return null;const n=a&&"object"==typeof a&&"message"in a&&"string"==typeof a.message?null==a?void 0:a.message:e.message||"",s=a&&"object"==typeof a&&"name"in a&&"string"==typeof a.name?null==a?void 0:a.name:"";if(!function(e){return!(!Qv(e)||!e.__SENTRY_INFO.forceSentry)}(a)&&!function({error:e,event:t,errorMessage:a,errorName:n}){if(aUt.includes(n))return null;for(const s of nUt)if(a.includes(s))return null;for(const s of oUt)if(s({message:a,name:n,event:t,error:e}))return null;for(const{key:s,test:o,timeSec:i}of rUt)if(o({message:a,name:n,event:t,error:e})){const e=lUt.get(s),t=Date.now();if(e&&t-e<1e3*i)return null;lUt.set(s,t)}return!0}({error:a,event:e,errorMessage:n,errorName:s}))return null;try{let t=!1;if(Qv(a)){if(a.__SENTRY_INFO.skipSentry)return null;t=!!a.__SENTRY_INFO.includeMemoryUsage}!function({error:e,event:t}){if(Qv(e)){const a=e.__SENTRY_INFO;a.fingerprint&&(t.fingerprint=Array.isArray(a.fingerprint)?a.fingerprint:[a.fingerprint]),t.tags={...t.tags,...a.tags},t.extra={...t.extra,...a.extra},a.level&&(t.level=a.level),delete e.__SENTRY_INFO,t.contexts&&"Error"in t.contexts&&t.contexts.Error&&delete t.contexts.Error.__SENTRY_INFO}}({error:a,event:e});const n=t?await async function(){const e={...kv()},{totalAssetSize:t}=ox();e["IndexedDB Size Estimate (GB)"]=Number((t/zl).toFixed(2));try{const t=await UC({actionDescription:"Estimating storage usage",promise:navigator.storage.estimate(),timeoutMs:2e3}),{quota:a,usage:n}=t;if(void 0!==n&&(e["Storage Usage (GB)"]=Number((n/zl).toFixed(2))),void 0!==a&&(e["Storage Quota (GB)"]=Number((a/zl).toFixed(2))),void 0!==n&&void 0!==a&&(e["Storage Usage (%)"]=Number((n/a*100).toFixed(2))),"usageDetails"in t){const a=t.usageDetails;Object.entries(a).forEach((([t,a])=>{e[`${t} Storage Usage (GB)`]=Number((Number(a)/zl).toFixed(2))}))}}catch(a){}return e}():{};e.tags={...e.tags,...tUt()},e.extra={...e.extra,...n,"Tab Age (minutes)":eUt()}}catch(o){console.error("Error setting Sentry tags",o)}for(const i of iUt)i({message:n,name:s,event:e,error:a})&&(e.level="warning");return e},dsn:"https://a5bf03f4085d4c9eae3716d84c1869c4@sentry.io/267538",environment:jl,integrations:e,release:El,normalizeDepth:7,maxBreadcrumbs:30})}()}catch(fUt){console.warn("Could not initialize Sentry"),console.error(fUt)}uUt.startsWith("localhost")||window.Cypress||!mUt.SENTRY_ENV||console.log("%cLooking for a creative challenge? Come work at Kapwing - we're hiring. kapwing.com/careers","font-weight: bold; font-size: 16px; color: #0083e2;"),window.releaseVersion=Pl(),window.commitHash=Fl(),Oi.initialize({gtmId:"GTM-MLK8X53L",...gUt?{auth:"QhUDFKQFs1OHPbwMS5qA3w",preview:"env-23"}:{}}),gae.subscribe(c.throttle((()=>{_C()}),3e3)),de.extend(Ui),de.extend(Bi),de.extend(Wi),"undefined"==typeof window||Ml||window.location.replace("/404"),window.Buffer=Vi.Buffer;const hUt=document.getElementById("root");if(!hUt)throw new Error("Root dom node not found");const vUt=f.jsx($Ot,{config:mUt,store:gae});Hi.createRoot(hUt,{onUncaughtError:zi(((e,t)=>{console.warn("Uncaught error",e,t.componentStack)})),onCaughtError:zi(),onRecoverableError:zi()}).render(vUt),window.Cypress||"localhost"===window.location.hostname?"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((e=>{e.unregister()})).catch((e=>{console.error(e.message)})):function(e){if("serviceWorker"in navigator){if(new URL("/",window.location.href).origin!==window.location.origin)return;const t=()=>{const t="/service-worker.js";dUt?(function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((a=>{const n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((e=>{e.unregister().then((()=>{window.location.reload()}))})):cUt(e,t)})).catch((()=>{console.error("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):cUt(t,e)};window.addEventListener("load",t)}}({onUpdate:async e=>{console.debug("New service worker will update on page refresh."),e&&e.waiting&&e.waiting.postMessage({type:"SKIP_WAITING"})}});export{SE as $,C2 as A,YE as B,w1e as C,db as D,Bu as E,w2 as F,oie as G,NJe as H,S2 as I,td as J,Lde as K,Nc as L,Hp as M,t2 as N,a2 as O,$g as P,dI as Q,XC as R,Ev as S,Kh as T,_S as U,Pu as V,Ef as W,_E as X,yE as Y,nL as Z,AK as _,cpe as a,c_ as a$,KE as a0,XE as a1,gve as a2,vE as a3,hE as a4,cJ as a5,I9 as a6,cS as a7,Km as a8,up as a9,$v as aA,oL as aB,y2e as aC,b2e as aD,W5e as aE,V5e as aF,u4 as aG,rJ as aH,YS as aI,CE as aJ,GS as aK,zS as aL,qR as aM,dM as aN,jR as aO,RY as aP,dY as aQ,GL as aR,JA as aS,mb as aT,tA as aU,VA as aV,tN as aW,eN as aX,rg as aY,qA as aZ,Xf as a_,Hf as aa,k4 as ab,A9 as ac,UH as ad,KS as ae,hI as af,S_ as ag,qH as ah,sq as ai,Dp as aj,Up as ak,VH as al,Lh as am,h9 as an,Dj as ao,cj as ap,b9 as aq,XS as ar,tUe as as,MS as at,_2 as au,vve as av,tY as aw,tp as ax,HC as ay,C9 as az,Kf as b,rd as b$,Bd as b0,J9 as b1,iue as b2,aA as b3,VD as b4,x0 as b5,hue as b6,iU as b7,Jj as b8,iK as b9,Ou as bA,lK as bB,dK as bC,nA as bD,kye as bE,SOe as bF,Aye as bG,blt as bH,glt as bI,pR as bJ,zg as bK,tK as bL,AC as bM,Foe as bN,Poe as bO,rv as bP,R4 as bQ,F4 as bR,AE as bS,ix as bT,rx as bU,ox as bV,zl as bW,j3 as bX,Yf as bY,hg as bZ,Fd as b_,rK as ba,hK as bb,BU as bc,UU as bd,I3e as be,A3e as bf,Nue as bg,Mge as bh,Oge as bi,Bc as bj,Ag as bk,sp as bl,J0 as bm,yj as bn,m0 as bo,lue as bp,ipe as bq,Nh as br,Fce as bs,Pce as bt,qT as bu,Bg as bv,Vg as bw,Fq as bx,oK as by,sK as bz,jJ as c,KM as c$,ff as c0,cb as c1,H0 as c2,Rk as c3,Zc as c4,IO as c5,Xc as c6,T0 as c7,Ile as c8,PCt as c9,Nse as cA,B0 as cB,Use as cC,Ase as cD,Mue as cE,Hj as cF,RN as cG,NN as cH,MN as cI,PN as cJ,Hxt as cK,Ztt as cL,KN as cM,gh as cN,Iv as cO,Hse as cP,Vz as cQ,lv as cR,Lrt as cS,Pz as cT,tO as cU,jj as cV,nO as cW,hO as cX,sue as cY,ZO as cZ,XM as c_,RMe as ca,vC as cb,pU as cc,oU as cd,GJ as ce,Ube as cf,m2 as cg,jb as ch,UCt as ci,Wne as cj,LI as ck,ase as cl,Dd as cm,gg as cn,_se as co,Ib as cp,fB as cq,mB as cr,D0 as cs,$l as ct,rse as cu,gUe as cv,Dbe as cw,Fbe as cx,k0 as cy,W0 as cz,f2 as d,qOe as d$,Wse as d0,xG as d1,IG as d2,vue as d3,fue as d4,RRe as d5,Tj as d6,gue as d7,Qb as d8,Yg as d9,e2 as dA,UZe as dB,Rne as dC,ZS as dD,s2 as dE,Q1 as dF,Kl as dG,Uu as dH,eb as dI,Jm as dJ,rBe as dK,tot as dL,BBe as dM,u5 as dN,n2 as dO,Tye as dP,yK as dQ,vz as dR,vP as dS,dQe as dT,i4 as dU,M8e as dV,F8e as dW,D8e as dX,P8e as dY,Yv as dZ,b4 as d_,Gm as da,Mc as db,Nq as dc,qse as dd,vT as de,Qd as df,ZD as dg,Mz as dh,Nz as di,ey as dj,$S as dk,BB as dl,V2 as dm,B2 as dn,DB as dp,foe as dq,voe as dr,pse as ds,Z2 as dt,TB as du,J2 as dv,Q2 as dw,Mve as dx,h_ as dy,Z1 as dz,Y9 as e,$je as e$,_je as e0,Gv as e1,zv as e2,dg as e3,i6 as e4,Dq as e5,lY as e6,rA as e7,stt as e8,K$ as e9,uF as eA,UF as eB,eL as eC,jF as eD,EF as eE,TF as eF,wX as eG,MX as eH,bX as eI,QA as eJ,use as eK,Fg as eL,i9e as eM,zX as eN,VF as eO,Dc as eP,cD as eQ,Nb as eR,pj as eS,bd as eT,sD as eU,oF as eV,C$ as eW,BX as eX,sk as eY,a1 as eZ,c1 as e_,WX as ea,ab as eb,Jq as ec,CK as ed,DP as ee,oJ as ef,GY as eg,Sre as eh,uX as ei,_O as ej,iP as ek,att as el,Hw as em,PEe as en,QG as eo,$ge as ep,zC as eq,cY as er,JJ as es,sL as et,ou as eu,iu as ev,ru as ew,TK as ex,dF as ey,cF as ez,y2 as f,mU as f$,kE as f0,fS as f1,SP as f2,w_e as f3,$E as f4,dD as f5,rD as f6,HX as f7,VX as f8,l0e as f9,Rd as fA,Nd as fB,xK as fC,IK as fD,yz as fE,SK as fF,aR as fG,S7 as fH,dU as fI,Fh as fJ,Wxt as fK,KZe as fL,pq as fM,Cd as fN,Sd as fO,Oc as fP,DJ as fQ,yue as fR,bue as fS,_ue as fT,wue as fU,Xpe as fV,lJ as fW,Q$ as fX,tQ as fY,uh as fZ,DBe as f_,o0e as fa,FL as fb,U_ as fc,eD as fd,nD as fe,tD as ff,PX as fg,Vte as fh,fke as fi,cZ as fj,Ise as fk,Ep as fl,pJ as fm,Xq as fn,qq as fo,Kq as fp,Zq as fq,Yq as fr,_K as fs,$q as ft,Ah as fu,wK as fv,UJ as fw,md as fx,Gq as fy,BJ as fz,_9 as g,i1 as g$,bp as g0,mp as g1,NBe as g2,FBe as g3,n8 as g4,wL as g5,zne as g6,MBe as g7,PBe as g8,hv as g9,Oh as gA,WG as gB,yY as gC,Iye as gD,nce as gE,Vde as gF,Wde as gG,Bde as gH,M2 as gI,sre as gJ,jY as gK,ere as gL,HG as gM,lL as gN,gQ as gO,mQ as gP,Kg as gQ,OJ as gR,bj as gS,d1 as gT,p1 as gU,u1 as gV,o1 as gW,s1 as gX,gp as gY,nQ as gZ,oQ as g_,wp as ga,m$ as gb,rme as gc,sme as gd,WFe as ge,qIe as gf,y1e as gg,i$ as gh,vq as gi,_Y as gj,Cu as gk,Dse as gl,nre as gm,IE as gn,Mne as go,ph as gp,pK as gq,eNt as gr,jne as gs,Ese as gt,Zf as gu,B_ as gv,rY as gw,Yie as gx,Vk as gy,BC as gz,uk as h,nN as h$,x1 as h0,Y7 as h1,C1 as h2,lme as h3,dme as h4,ume as h5,cme as h6,f1 as h7,sT as h8,oT as h9,CL as hA,Uq as hB,Vj as hC,KL as hD,wHe as hE,_He as hF,Qk as hG,sB as hH,IY as hI,AY as hJ,kY as hK,TY as hL,EY as hM,OY as hN,CY as hO,Wm as hP,PJ as hQ,ZL as hR,rP as hS,Ul as hT,wd as hU,bJ as hV,rC as hW,que as hX,Kue as hY,Yue as hZ,Zue as h_,b$ as ha,ET as hb,g$ as hc,v$ as hd,f$ as he,n$ as hf,QJ as hg,rT as hh,o$ as hi,$J as hj,c$ as hk,h$ as hl,y$ as hm,yv as hn,l$ as ho,r$ as hp,BT as hq,iT as hr,aI as hs,D4 as ht,ZIe as hu,ene as hv,Jf as hw,nke as hx,y9 as hy,k7 as hz,Mu as i,Cp as i$,BR as i0,SY as i1,TJ as i2,Ose as i3,NJ as i4,MJ as i5,ec as i6,sAe as i7,Qp as i8,NY as i9,FJ as iA,Gse as iB,TH as iC,zse as iD,UC as iE,Q0 as iF,$0 as iG,IH as iH,kH as iI,AH as iJ,K0 as iK,z0 as iL,Y0 as iM,OV as iN,d3 as iO,r3 as iP,PV as iQ,e1 as iR,Moe as iS,boe as iT,_3 as iU,I3 as iV,Vse as iW,MT as iX,NT as iY,DX as iZ,tle as i_,xY as ia,aN as ib,BA as ic,XJ as id,Ule as ie,Nce as ig,jp as ih,Xge as ii,ZQ as ij,kT as ik,B$ as il,fT as im,Lie as io,E_ as ip,Nle as iq,FT as ir,PT as is,Og as it,XL as iu,$k as iv,LY as iw,OT as ix,ap as iy,DT as iz,np as j,tk as j$,Q6e as j0,o9e as j1,x_ as j2,KJ as j3,b_ as j4,mS as j5,N2 as j6,lse as j7,dq as j8,C1e as j9,EC as jA,$G as jB,tB as jC,GC as jD,pY as jE,Jge as jF,mce as jG,dpe as jH,XR as jI,Bq as jJ,uJ as jK,Oce as jL,aJ as jM,Rpe as jN,tJ as jO,Uge as jP,nk as jQ,hpe as jR,Dg as jS,e0 as jT,ZJ as jU,iR as jV,i0 as jW,jpe as jX,_1 as jY,Cj as jZ,Sj as j_,FX as ja,Pne as jb,UT as jc,O4 as jd,n1 as je,lp as jf,op as jg,s$ as jh,_T as ji,t$ as jj,a$ as jk,pMt as jl,U$ as jm,ect as jn,Iu as jo,YZe as jp,qm as jq,UIe as jr,Uj as js,hR as jt,Dte as ju,bKe as jv,DIe as jw,OIe as jx,Qq as jy,dde as jz,ep as k,Qpe as k$,QQ as k0,t0 as k1,NR as k2,ER as k3,dle as k4,IJ as k5,NA as k6,MA as k7,DA as k8,bL as k9,coe as kA,UO as kB,rue as kC,IN as kD,Ej as kE,jz as kF,Qce as kG,qQ as kH,DD as kI,Y1 as kJ,sj as kK,kde as kL,jg as kM,irt as kN,zue as kO,cle as kP,gpe as kQ,Pq as kR,mpe as kS,eJ as kT,_6 as kU,ex as kV,k9 as kW,Gg as kX,kI as kY,W4 as kZ,Pv as k_,Mjt as ka,aB as kb,Wc as kc,Qu as kd,Rg as ke,Hge as kf,UR as kg,Hq as kh,AG as ki,lR as kj,Pge as kk,eoe as kl,ej as km,V6e as kn,w_ as ko,lM as kp,eZ as kq,HB as kr,VC as ks,nle as kt,RO as ku,CO as kv,WR as kw,VR as kx,Lj as ky,_N as kz,ov as l,cm as l$,eme as l0,tme as l1,dNe as l2,kse as l3,R$ as l4,DC as l5,g2 as l6,x$ as l7,Gc as l8,ac as l9,w9e as lA,S6 as lB,Xoe as lC,eie as lD,gBe as lE,TD as lF,E7 as lG,tRe as lH,eRe as lI,XU as lJ,aRe as lK,iRe as lL,QE as lM,ule as lN,ple as lO,PP as lP,cg as lQ,Voe as lR,Oj as lS,Hoe as lT,zoe as lU,Koe as lV,qp as lW,vk as lX,OR as lY,Ome as lZ,eF as l_,iie as la,Qm as lb,Woe as lc,Gje as ld,Yje as le,Dje as lf,Eje as lg,Fje as lh,fZ as li,dZ as lj,A4 as lk,nGe as ll,Kje as lm,Xje as ln,fq as lo,YJ as lp,vre as lq,lie as lr,iye as ls,QR as lt,mR as lu,nde as lv,cL as lw,pEe as lx,vZ as ly,rie as lz,DWe as m,Wje as m$,WP as m0,XP as m1,gk as m2,hk as m3,ML as m4,yse as m5,YU as m6,Xme as m7,fRe as m8,Zu as m9,hZ as mA,uZ as mB,mZ as mC,gZ as mD,tR as mE,Fl as mF,Mj as mG,Pl as mH,mNe as mI,XUe as mJ,ZUe as mK,uNe as mL,gNe as mM,hNe as mN,rj as mO,zH as mP,zCe as mQ,FUe as mR,$5 as mS,lWe as mT,QFe as mU,Id as mV,yje as mW,AA as mX,kA as mY,HQ as mZ,T7 as m_,Ru as ma,Tje as mb,tu as mc,fve as md,VU as me,joe as mf,vRe as mg,Vle as mh,au as mi,nu as mj,aL as mk,pRe as ml,nUe as mm,cAe as mn,lg as mo,KU as mp,cP as mq,Qoe as mr,Que as ms,Qc as mt,Boe as mu,Zoe as mv,qoe as mw,FIe as mx,tie as my,$ue as mz,OWe as n,$P as n$,kje as n0,qje as n1,Pm as n2,txt as n3,yg as n4,xm as n5,wg as n6,zd as n7,uP as n8,Hje as n9,rS as nA,T1 as nB,P7e as nC,gu as nD,fP as nE,F1 as nF,H7 as nG,D1 as nH,AIe as nI,p_ as nJ,z7 as nK,vp as nL,cp as nM,xje as nN,Zce as nO,ND as nP,ED as nQ,JD as nR,ree as nS,oee as nT,pO as nU,Uh as nV,jq as nW,OE as nX,Rq as nY,p0e as nZ,mk as n_,c9 as na,Np as nb,fg as nc,Jje as nd,Hd as ne,_g as nf,vg as ng,HSt as nh,jYe as ni,LGe as nj,lSt as nk,EA as nl,LA as nm,Dm as nn,Gp as no,zp as np,WQ as nq,xg as nr,rGe as ns,VQ as nt,bIt as nu,fIt as nv,oHe as nw,EHe as nx,__ as ny,RHe as nz,ZA as o,Jc as o$,Ljt as o0,jjt as o1,RD as o2,lRt as o3,Ju as o4,Im as o5,Rjt as o6,zN as o7,RRt as o8,QRt as o9,rN as oA,zO as oB,tm as oC,Xp as oD,T3 as oE,L1 as oF,E3 as oG,Kce as oH,Gu as oI,yL as oJ,PL as oK,Vce as oL,em as oM,zB as oN,d8 as oO,OO as oP,dp as oQ,kz as oR,oue as oS,$X as oT,Hme as oU,N$ as oV,LIe as oW,EO as oX,qc as oY,jf as oZ,sA as o_,gNt as oa,LRt as ob,yRt as oc,aNt as od,D7 as oe,R7 as of,zD as og,cO as oh,SN as oi,Pj as oj,qce as ok,fN as ol,vN as om,y7 as on,qD as oo,AD as op,C9e as oq,kf as or,$ce as os,VO as ot,Yme as ou,eO as ov,LL as ow,O1 as ox,gY as oy,mN as oz,ub as p,kW as p$,$c as p0,CN as p1,rO as p2,cv as p3,Tz as p4,Bz as p5,Uz as p6,Ez as p7,OBe as p8,UBe as p9,xN as pA,gO as pB,Qg as pC,ZP as pD,Ujt as pE,iA as pF,ah as pG,KP as pH,V7 as pI,x6 as pJ,M6 as pK,e9 as pL,Q6 as pM,jK as pN,uG as pO,Loe as pP,k6 as pQ,T6 as pR,E6 as pS,oh as pT,l3 as pU,c3 as pV,RV as pW,SV as pX,y3 as pY,b3 as pZ,lj as p_,YM as pa,Wce as pb,Yce as pc,GM as pd,t3 as pe,nue as pf,DO as pg,a3 as ph,rSt as pi,zce as pj,Jce as pk,Lq as pl,G2 as pm,uue as pn,Lz as po,mO as pp,U7 as pq,due as pr,WO as ps,GO as pt,L3 as pu,Qf as pv,XRt as pw,KRt as px,YRt as py,Gce as pz,PU as q,uO as q$,A3 as q0,u3 as q1,IV as q2,TV as q3,mie as q4,hie as q5,nH as q6,gie as q7,uie as q8,eH as q9,mee as qA,U8 as qB,uee as qC,iee as qD,NL as qE,X8 as qF,Z8 as qG,W8 as qH,B8 as qI,D8 as qJ,K8 as qK,fee as qL,wee as qM,z8 as qN,zJ as qO,P8 as qP,O8 as qQ,F8 as qR,dee as qS,E8 as qT,L8 as qU,x8 as qV,I8 as qW,S8 as qX,PJe as qY,kN as qZ,fD as q_,bie as qa,ihe as qb,VV as qc,JV as qd,zV as qe,yie as qf,Rj as qg,n1e as qh,f0e as qi,b0e as qj,A0e as qk,wD as ql,IC as qm,n7 as qn,lH as qo,Bh as qp,pD as qq,Oee as qr,tx as qs,N8 as qt,gee as qu,ute as qv,j8 as qw,R8 as qx,c0 as qy,DL as qz,ck as r,fA as r$,pue as r0,A8 as r1,Ame as r2,UP as r3,VT as r4,d7 as r5,LJ as r6,WA as r7,d$ as r8,bZ as r9,Nj as rA,qu as rB,Zv as rC,qv as rD,uK as rE,Uce as rF,Q2e as rG,Lst as rH,yde as rI,cse as rJ,zqe as rK,A_ as rL,k_ as rM,fv as rN,kU as rO,_v as rP,uu as rQ,Nye as rR,Rye as rS,F7e as rT,Nne as rU,I7e as rV,eye as rW,nye as rX,aye as rY,Eu as rZ,wA as r_,Em as ra,k1 as rb,E1 as rc,Hee as rd,zee as re,B7 as rf,Kee as rg,Yee as rh,km as ri,C3e as rj,Sm as rk,W7 as rl,NYe as rm,Dz as rn,Vee as ro,bjt as rp,xjt as rq,Am as rr,Xee as rs,Ejt as rt,pZ as ru,$oe as rv,zit as rw,Xv as rx,ZT as ry,Kv as rz,pb as s,mj as s$,q9 as s0,V3e as s1,k2 as s2,Jl as s3,kq as s4,Dnt as s5,gd as s6,vd as s7,hd as s8,Z9 as s9,n5e as sA,pd as sB,Wg as sC,YXe as sD,$j as sE,wj as sF,nK as sG,aK as sH,X6 as sI,pee as sJ,yee as sK,kL as sL,yd as sM,nb as sN,_ee as sO,yp as sP,Lee as sQ,jee as sR,Eee as sS,zh as sT,sHe as sU,jHe as sV,HHe as sW,qVe as sX,iHe as sY,nHe as sZ,aHe as s_,bct as sa,VXe as sb,Qj as sc,Pd as sd,zc as se,H4 as sf,TI as sg,eZe as sh,p5 as si,zXe as sj,H6 as sk,_C as sl,QL as sm,Pp as sn,Zme as so,l7 as sp,Hc as sq,ud as sr,r6 as ss,cd as st,zQ as su,xz as sv,Vne as sw,yb as sx,AU as sy,IU as sz,vA as t,cq as t$,dR as t0,xHe as t1,IHe as t2,CHe as t3,SHe as t4,wve as t5,_ve as t6,od as t7,u_ as t8,Lc as t9,M3 as tA,dqe as tB,pS as tC,h6 as tD,oM as tE,k8 as tF,Dne as tG,One as tH,E5 as tI,g6 as tJ,Vl as tK,Wl as tL,HA as tM,w9 as tN,cK as tO,Hb as tP,Kb as tQ,_d as tR,sd as tS,Lv as tT,zb as tU,Gb as tV,wz as tW,_z as tX,Cz as tY,fz as tZ,bz as t_,Zl as ta,Y5 as tb,s_ as tc,vyt as td,Y3 as te,oP as tf,i_ as tg,d_ as th,Zqe as ti,wct as tj,Sv as tk,l_ as tl,G5 as tm,hyt as tn,RI as to,ql as tp,vwt as tq,hwt as tr,v_ as ts,ad as tt,X1 as tu,zae as tv,pL as tw,Sz as tx,cR as ty,uqe as tz,Du as u,Lat as u$,C4 as u0,jd as u1,Md as u2,S4 as u3,U4 as u4,Ld as u5,Td as u6,Ed as u7,gj as u8,hj as u9,$8 as uA,q8 as uB,J8 as uC,j4 as uD,g9 as uE,mHe as uF,hHe as uG,k3e as uH,KX as uI,GX as uJ,GB as uK,XX as uL,Jye as uM,j1e as uN,vU as uO,nJ as uP,vG as uQ,hG as uR,qL as uS,c7 as uT,$m as uU,ib as uV,pz as uW,Wge as uX,Vge as uY,u0e as uZ,pqe as u_,uj as ua,$h as ub,dj as uc,JY as ud,ZY as ue,uv as uf,_h as ug,x1e as uh,urt as ui,p2e as uj,olt as uk,elt as ul,nlt as um,y3e as un,qY as uo,Dx as up,cI as uq,qC as ur,N4 as us,TE as ut,jE as uu,L4 as uv,vJ as uw,I2 as ux,x2 as uy,tce as uz,F2 as v,H1 as v$,O3e as v0,ibe as v1,ip as v2,Vm as v3,Jh as v4,qh as v5,ld as v6,a9 as v7,Zte as v8,hA as v9,HXe as vA,EI as vB,Zw as vC,fEe as vD,BK as vE,R5 as vF,j5 as vG,m7 as vH,p7 as vI,tb as vJ,aZ as vK,oZ as vL,xZ as vM,NK as vN,FE as vO,JP as vP,DE as vQ,L7 as vR,iF as vS,sF as vT,nF as vU,iD as vV,GZe as vW,Om as vX,Op as vY,Wz as vZ,NRt as v_,pA as va,mA as vb,oz as vc,JL as vd,Lb as ve,V0 as vf,Ab as vg,bb as vh,wf as vi,B6 as vj,gz as vk,t9 as vl,n9 as vm,i9 as vn,z5 as vo,Ff as vp,Bte as vq,iz as vr,F6 as vs,Ast as vt,J6 as vu,$6 as vv,Gz as vw,eG as vx,Xl as vy,Ml as vz,fJ as w,WSe as w$,V1 as w0,Tu as w1,BG as w2,yte as w3,Ub as w4,lpe as w5,spe as w6,W6e as w7,_2e as w8,Qrt as w9,Dde as wA,kIt as wB,Rh as wC,kj as wD,qSe as wE,om as wF,XSe as wG,hP as wH,hS as wI,qf as wJ,wxe as wK,EK as wL,yxe as wM,R6 as wN,I6 as wO,l4 as wP,j6 as wQ,L6 as wR,Jbe as wS,Zh as wT,VSe as wU,mg as wV,nc as wW,Eye as wX,ZSe as wY,KSe as wZ,xve as w_,Goe as wa,Une as wb,MCt as wc,tq as wd,SZ as we,_Z as wf,XB as wg,zte as wh,YB as wi,rZ as wj,G4 as wk,ope as wl,Oje as wm,Uje as wn,kl as wo,b7 as wp,f7 as wq,sh as wr,i2 as ws,qX as wt,THe as wu,Vpe as wv,_7 as ww,BQe as wx,Ede as wy,m9 as wz,FWe as x,rct as x$,BSe as x0,Qje as x1,Zm as x2,Ox as x3,sm as x4,wN as x5,am as x6,cN as x7,_m as x8,_jt as x9,_c as xA,xc as xB,YSe as xC,HSe as xD,zm as xE,Y6 as xF,zSe as xG,Gw as xH,Vd as xI,Wd as xJ,_X as xK,su as xL,BF as xM,TX as xN,HF as xO,WL as xP,kX as xQ,EX as xR,lu as xS,du as xT,dnt as xU,Int as xV,bve as xW,OZe as xX,_P as xY,CP as xZ,Z6 as x_,fm as xa,gm as xb,iNt as xc,C$e as xd,jfe as xe,P2 as xf,kQe as xg,vu as xh,ju as xi,uB as xj,Xu as xk,cB as xl,Pre as xm,h5 as xn,Tbt as xo,N6 as xp,ku as xq,GIe as xr,lm as xs,mm as xt,jse as xu,Ad as xv,hu as xw,jSe as xx,GSe as xy,Z3 as xz,D2 as y,nd as y0,yve as y1,G6 as y2,Gie as y3,Gx as z};
//# sourceMappingURL=index-C66s6qUC.js.map
